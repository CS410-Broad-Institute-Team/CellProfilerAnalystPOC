/*! For license information please see 2.05d4ecab.chunk.js.LICENSE.txt */
(this.webpackJsonpcpa_poc=this.webpackJsonpcpa_poc||[]).push([[2],[function(e,t,n){"use strict";n.r(t),n.d(t,"AdadeltaOptimizer",(function(){return xt})),n.d(t,"AdagradOptimizer",(function(){return wt})),n.d(t,"AdamOptimizer",(function(){return jt})),n.d(t,"AdamaxOptimizer",(function(){return At})),n.d(t,"MomentumOptimizer",(function(){return Dt})),n.d(t,"Optimizer",(function(){return yt})),n.d(t,"RMSPropOptimizer",(function(){return Nt})),n.d(t,"SGDOptimizer",(function(){return St})),n.d(t,"Tensor",(function(){return le.a})),n.d(t,"TensorBuffer",(function(){return le.b})),n.d(t,"Variable",(function(){return le.c})),n.d(t,"Rank",(function(){return Ft.a})),n.d(t,"sumOutType",(function(){return Ft.b})),n.d(t,"upcastType",(function(){return Ft.c})),n.d(t,"abs",(function(){return Tt.b})),n.d(t,"acos",(function(){return Tt.c})),n.d(t,"acosh",(function(){return Tt.d})),n.d(t,"add",(function(){return Tt.e})),n.d(t,"addN",(function(){return Tt.f})),n.d(t,"all",(function(){return Tt.g})),n.d(t,"any",(function(){return Tt.h})),n.d(t,"argMax",(function(){return Tt.i})),n.d(t,"argMin",(function(){return Tt.j})),n.d(t,"asin",(function(){return Tt.k})),n.d(t,"asinh",(function(){return Tt.l})),n.d(t,"atan",(function(){return Tt.m})),n.d(t,"atan2",(function(){return Tt.n})),n.d(t,"atanh",(function(){return Tt.o})),n.d(t,"avgPool",(function(){return Tt.p})),n.d(t,"avgPool3d",(function(){return Tt.q})),n.d(t,"basicLSTMCell",(function(){return Tt.r})),n.d(t,"batchToSpaceND",(function(){return Tt.w})),n.d(t,"batchNorm",(function(){return Tt.s})),n.d(t,"batchNorm2d",(function(){return Tt.t})),n.d(t,"batchNorm3d",(function(){return Tt.u})),n.d(t,"batchNorm4d",(function(){return Tt.v})),n.d(t,"bincount",(function(){return Tt.x})),n.d(t,"broadcastTo",(function(){return Tt.z})),n.d(t,"buffer",(function(){return Tt.A})),n.d(t,"cast",(function(){return Tt.B})),n.d(t,"ceil",(function(){return Tt.C})),n.d(t,"clipByValue",(function(){return Tt.D})),n.d(t,"clone",(function(){return Tt.E})),n.d(t,"complex",(function(){return Tt.F})),n.d(t,"concat",(function(){return Tt.G})),n.d(t,"concat1d",(function(){return Tt.H})),n.d(t,"concat2d",(function(){return Tt.I})),n.d(t,"concat3d",(function(){return Tt.J})),n.d(t,"concat4d",(function(){return Tt.K})),n.d(t,"conv1d",(function(){return Tt.L})),n.d(t,"conv2d",(function(){return Tt.M})),n.d(t,"conv2dTranspose",(function(){return Tt.N})),n.d(t,"conv3d",(function(){return Tt.O})),n.d(t,"conv3dTranspose",(function(){return Tt.P})),n.d(t,"cos",(function(){return Tt.Q})),n.d(t,"cosh",(function(){return Tt.R})),n.d(t,"cumsum",(function(){return Tt.T})),n.d(t,"denseBincount",(function(){return Tt.U})),n.d(t,"depthToSpace",(function(){return Tt.V})),n.d(t,"depthwiseConv2d",(function(){return Tt.W})),n.d(t,"diag",(function(){return Tt.X})),n.d(t,"dilation2d",(function(){return Tt.Y})),n.d(t,"div",(function(){return Tt.Z})),n.d(t,"divNoNan",(function(){return Tt.ab})),n.d(t,"dot",(function(){return Tt.bb})),n.d(t,"elu",(function(){return Tt.db})),n.d(t,"equal",(function(){return Tt.fb})),n.d(t,"erf",(function(){return Tt.gb})),n.d(t,"exp",(function(){return Tt.hb})),n.d(t,"expandDims",(function(){return Tt.ib})),n.d(t,"expm1",(function(){return Tt.jb})),n.d(t,"eye",(function(){return Tt.kb})),n.d(t,"fill",(function(){return Tt.mb})),n.d(t,"floor",(function(){return Tt.nb})),n.d(t,"floorDiv",(function(){return Tt.ob})),n.d(t,"gather",(function(){return Tt.qb})),n.d(t,"greater",(function(){return Tt.sb})),n.d(t,"greaterEqual",(function(){return Tt.tb})),n.d(t,"imag",(function(){return Tt.vb})),n.d(t,"isFinite",(function(){return Tt.zb})),n.d(t,"isInf",(function(){return Tt.Ab})),n.d(t,"isNaN",(function(){return Tt.Bb})),n.d(t,"leakyRelu",(function(){return Tt.Cb})),n.d(t,"less",(function(){return Tt.Db})),n.d(t,"lessEqual",(function(){return Tt.Eb})),n.d(t,"linspace",(function(){return Tt.Gb})),n.d(t,"localResponseNormalization",(function(){return Tt.Hb})),n.d(t,"log",(function(){return Tt.Ib})),n.d(t,"log1p",(function(){return Tt.Jb})),n.d(t,"logSigmoid",(function(){return Tt.Kb})),n.d(t,"logSoftmax",(function(){return Tt.Lb})),n.d(t,"logSumExp",(function(){return Tt.Mb})),n.d(t,"logicalAnd",(function(){return Tt.Nb})),n.d(t,"logicalNot",(function(){return Tt.Ob})),n.d(t,"logicalOr",(function(){return Tt.Pb})),n.d(t,"logicalXor",(function(){return Tt.Qb})),n.d(t,"matMul",(function(){return Tt.Sb})),n.d(t,"max",(function(){return Tt.Tb})),n.d(t,"maxPool",(function(){return Tt.Ub})),n.d(t,"maxPool3d",(function(){return Tt.Vb})),n.d(t,"maxPoolWithArgmax",(function(){return Tt.Wb})),n.d(t,"maximum",(function(){return Tt.Xb})),n.d(t,"mean",(function(){return Tt.Yb})),n.d(t,"min",(function(){return Tt.Zb})),n.d(t,"minimum",(function(){return Tt.ac})),n.d(t,"mirrorPad",(function(){return Tt.bc})),n.d(t,"mod",(function(){return Tt.cc})),n.d(t,"moments",(function(){return Tt.dc})),n.d(t,"mul",(function(){return Tt.fc})),n.d(t,"multiRNNCell",(function(){return Tt.gc})),n.d(t,"multinomial",(function(){return Tt.hc})),n.d(t,"neg",(function(){return Tt.ic})),n.d(t,"notEqual",(function(){return Tt.kc})),n.d(t,"oneHot",(function(){return Tt.lc})),n.d(t,"ones",(function(){return Tt.mc})),n.d(t,"onesLike",(function(){return Tt.nc})),n.d(t,"outerProduct",(function(){return Tt.pc})),n.d(t,"pad",(function(){return Tt.qc})),n.d(t,"pad1d",(function(){return Tt.rc})),n.d(t,"pad2d",(function(){return Tt.sc})),n.d(t,"pad3d",(function(){return Tt.tc})),n.d(t,"pad4d",(function(){return Tt.uc})),n.d(t,"pool",(function(){return Tt.vc})),n.d(t,"pow",(function(){return Tt.wc})),n.d(t,"prelu",(function(){return Tt.xc})),n.d(t,"print",(function(){return Tt.yc})),n.d(t,"prod",(function(){return Tt.zc})),n.d(t,"rand",(function(){return Tt.Ac})),n.d(t,"randomGamma",(function(){return Tt.Bc})),n.d(t,"randomNormal",(function(){return Tt.Cc})),n.d(t,"randomUniform",(function(){return Tt.Dc})),n.d(t,"range",(function(){return Tt.Ec})),n.d(t,"real",(function(){return Tt.Fc})),n.d(t,"reciprocal",(function(){return Tt.Gc})),n.d(t,"relu",(function(){return Tt.Hc})),n.d(t,"relu6",(function(){return Tt.Ic})),n.d(t,"reshape",(function(){return Tt.Jc})),n.d(t,"reverse",(function(){return Tt.Kc})),n.d(t,"reverse1d",(function(){return Tt.Lc})),n.d(t,"reverse2d",(function(){return Tt.Mc})),n.d(t,"reverse3d",(function(){return Tt.Nc})),n.d(t,"reverse4d",(function(){return Tt.Oc})),n.d(t,"round",(function(){return Tt.Qc})),n.d(t,"rsqrt",(function(){return Tt.Rc})),n.d(t,"scalar",(function(){return Tt.Sc})),n.d(t,"selu",(function(){return Tt.Uc})),n.d(t,"separableConv2d",(function(){return Tt.Vc})),n.d(t,"setdiff1dAsync",(function(){return Tt.Wc})),n.d(t,"sigmoid",(function(){return Tt.Xc})),n.d(t,"sign",(function(){return Tt.Yc})),n.d(t,"sin",(function(){return Tt.ad})),n.d(t,"sinh",(function(){return Tt.bd})),n.d(t,"slice",(function(){return Tt.cd})),n.d(t,"slice1d",(function(){return Tt.dd})),n.d(t,"slice2d",(function(){return Tt.ed})),n.d(t,"slice3d",(function(){return Tt.fd})),n.d(t,"slice4d",(function(){return Tt.gd})),n.d(t,"softmax",(function(){return Tt.hd})),n.d(t,"softplus",(function(){return Tt.id})),n.d(t,"spaceToBatchND",(function(){return Tt.jd})),n.d(t,"fft",(function(){return Tt.lb})),n.d(t,"ifft",(function(){return Tt.ub})),n.d(t,"irfft",(function(){return Tt.yb})),n.d(t,"rfft",(function(){return Tt.Pc})),n.d(t,"split",(function(){return Tt.md})),n.d(t,"sqrt",(function(){return Tt.nd})),n.d(t,"square",(function(){return Tt.od})),n.d(t,"squaredDifference",(function(){return Tt.pd})),n.d(t,"squeeze",(function(){return Tt.qd})),n.d(t,"stack",(function(){return Tt.rd})),n.d(t,"step",(function(){return Tt.sd})),n.d(t,"stridedSlice",(function(){return Tt.td})),n.d(t,"sub",(function(){return Tt.ud})),n.d(t,"sum",(function(){return Tt.vd})),n.d(t,"tan",(function(){return Tt.wd})),n.d(t,"tanh",(function(){return Tt.xd})),n.d(t,"tensor",(function(){return Tt.yd})),n.d(t,"tensor1d",(function(){return Tt.zd})),n.d(t,"tensor2d",(function(){return Tt.Ad})),n.d(t,"tensor3d",(function(){return Tt.Bd})),n.d(t,"tensor4d",(function(){return Tt.Cd})),n.d(t,"tensor5d",(function(){return Tt.Dd})),n.d(t,"tensor6d",(function(){return Tt.Ed})),n.d(t,"tile",(function(){return Tt.Fd})),n.d(t,"topk",(function(){return Tt.Gd})),n.d(t,"truncatedNormal",(function(){return Tt.Id})),n.d(t,"unique",(function(){return Tt.Jd})),n.d(t,"unsortedSegmentSum",(function(){return Tt.Kd})),n.d(t,"unstack",(function(){return Tt.Ld})),n.d(t,"variable",(function(){return Tt.Md})),n.d(t,"where",(function(){return Tt.Nd})),n.d(t,"whereAsync",(function(){return Tt.Od})),n.d(t,"zeros",(function(){return Tt.Pd})),n.d(t,"zerosLike",(function(){return Tt.Qd})),n.d(t,"booleanMaskAsync",(function(){return Tt.y})),n.d(t,"transpose",(function(){return Tt.Hd})),n.d(t,"norm",(function(){return Tt.jc})),n.d(t,"movingAverage",(function(){return Tt.ec})),n.d(t,"scatterND",(function(){return Tt.Tc})),n.d(t,"sparseToDense",(function(){return Tt.kd})),n.d(t,"gatherND",(function(){return Tt.rb})),n.d(t,"dropout",(function(){return Tt.cb})),n.d(t,"enclosingPowerOfTwo",(function(){return Tt.eb})),n.d(t,"cosineWindow",(function(){return Tt.S})),n.d(t,"inTopKAsync",(function(){return Tt.xb})),n.d(t,"op",(function(){return Tt.oc})),n.d(t,"OP_SCOPE_SUFFIX",(function(){return Tt.a})),n.d(t,"image",(function(){return Tt.wb})),n.d(t,"linalg",(function(){return Tt.Fb})),n.d(t,"losses",(function(){return Tt.Rb})),n.d(t,"spectral",(function(){return Tt.ld})),n.d(t,"fused",(function(){return Tt.pb})),n.d(t,"signal",(function(){return Tt.Zc})),n.d(t,"Reduction",(function(){return Mt.a})),n.d(t,"train",(function(){return Rt})),n.d(t,"enableProdMode",(function(){return lt.g})),n.d(t,"enableDebugMode",(function(){return lt.f})),n.d(t,"disableDeprecationWarnings",(function(){return lt.c})),n.d(t,"deprecationWarn",(function(){return lt.b})),n.d(t,"disposeVariables",(function(){return lt.e})),n.d(t,"engine",(function(){return lt.h})),n.d(t,"memory",(function(){return lt.m})),n.d(t,"profile",(function(){return lt.n})),n.d(t,"tidy",(function(){return lt.t})),n.d(t,"dispose",(function(){return lt.d})),n.d(t,"keep",(function(){return lt.l})),n.d(t,"time",(function(){return lt.u})),n.d(t,"setBackend",(function(){return lt.r})),n.d(t,"ready",(function(){return lt.o})),n.d(t,"getBackend",(function(){return lt.k})),n.d(t,"removeBackend",(function(){return lt.q})),n.d(t,"findBackend",(function(){return lt.i})),n.d(t,"findBackendFactory",(function(){return lt.j})),n.d(t,"registerBackend",(function(){return lt.p})),n.d(t,"backend",(function(){return lt.a})),n.d(t,"setPlatform",(function(){return lt.s})),n.d(t,"getKernel",(function(){return Ve.c})),n.d(t,"getGradient",(function(){return Ve.b})),n.d(t,"getKernelsForBackend",(function(){return Ve.d})),n.d(t,"registerKernel",(function(){return Ve.f})),n.d(t,"registerGradient",(function(){return Ve.e})),n.d(t,"unregisterKernel",(function(){return Ve.h})),n.d(t,"unregisterGradient",(function(){return Ve.g})),n.d(t,"copyRegisteredKernels",(function(){return Ve.a})),n.d(t,"customGrad",(function(){return gt.a})),n.d(t,"grad",(function(){return gt.b})),n.d(t,"grads",(function(){return gt.c})),n.d(t,"valueAndGrad",(function(){return gt.d})),n.d(t,"valueAndGrads",(function(){return gt.e})),n.d(t,"variableGrads",(function(){return gt.f})),n.d(t,"Environment",(function(){return p.b})),n.d(t,"env",(function(){return p.c})),n.d(t,"ENV",(function(){return p.a})),n.d(t,"version_core",(function(){return ut})),n.d(t,"nextFrame",(function(){return Pt.a})),n.d(t,"browser",(function(){return i})),n.d(t,"io",(function(){return r})),n.d(t,"math",(function(){return a})),n.d(t,"serialization",(function(){return u})),n.d(t,"test_util",(function(){return it})),n.d(t,"util",(function(){return ot})),n.d(t,"backend_util",(function(){return c})),n.d(t,"tensor_util",(function(){return at})),n.d(t,"slice_util",(function(){return et})),n.d(t,"gather_util",(function(){return o})),n.d(t,"scatter_util",(function(){return Ze})),n.d(t,"device_util",(function(){return wn})),n.d(t,"kernel_impls",(function(){return l})),n.d(t,"KernelBackend",(function(){return jn.b})),n.d(t,"DataStorage",(function(){return jn.a})),n.d(t,"Abs",(function(){return We.a})),n.d(t,"Acos",(function(){return We.b})),n.d(t,"Acosh",(function(){return We.c})),n.d(t,"Add",(function(){return We.d})),n.d(t,"AddN",(function(){return We.e})),n.d(t,"All",(function(){return We.f})),n.d(t,"Any",(function(){return We.g})),n.d(t,"ArgMax",(function(){return We.h})),n.d(t,"ArgMin",(function(){return We.i})),n.d(t,"Asin",(function(){return We.j})),n.d(t,"Asinh",(function(){return We.k})),n.d(t,"Atan",(function(){return We.l})),n.d(t,"Atanh",(function(){return We.n})),n.d(t,"Atan2",(function(){return We.m})),n.d(t,"AvgPool",(function(){return We.o})),n.d(t,"AvgPoolGrad",(function(){return We.r})),n.d(t,"AvgPool3D",(function(){return We.p})),n.d(t,"AvgPool3DGrad",(function(){return We.q})),n.d(t,"BatchMatMul",(function(){return We.s})),n.d(t,"BatchToSpaceND",(function(){return We.t})),n.d(t,"Bincount",(function(){return We.u})),n.d(t,"BroadcastTo",(function(){return We.v})),n.d(t,"Cast",(function(){return We.w})),n.d(t,"Ceil",(function(){return We.x})),n.d(t,"ClipByValue",(function(){return We.y})),n.d(t,"Complex",(function(){return We.z})),n.d(t,"ComplexAbs",(function(){return We.A})),n.d(t,"Concat",(function(){return We.B})),n.d(t,"Conv2D",(function(){return We.C})),n.d(t,"Conv2DBackpropFilter",(function(){return We.D})),n.d(t,"Conv2DBackpropInput",(function(){return We.E})),n.d(t,"Conv3D",(function(){return We.F})),n.d(t,"Conv3DBackpropFilterV2",(function(){return We.G})),n.d(t,"Conv3DBackpropInputV2",(function(){return We.H})),n.d(t,"Cos",(function(){return We.I})),n.d(t,"Cosh",(function(){return We.J})),n.d(t,"Cumsum",(function(){return We.L})),n.d(t,"CropAndResize",(function(){return We.K})),n.d(t,"DenseBincount",(function(){return We.M})),n.d(t,"DepthToSpace",(function(){return We.N})),n.d(t,"DepthwiseConv2dNative",(function(){return We.O})),n.d(t,"DepthwiseConv2dNativeBackpropFilter",(function(){return We.P})),n.d(t,"DepthwiseConv2dNativeBackpropInput",(function(){return We.Q})),n.d(t,"Diag",(function(){return We.R})),n.d(t,"Dilation2D",(function(){return We.S})),n.d(t,"Dilation2DBackpropInput",(function(){return We.U})),n.d(t,"Dilation2DBackpropFilter",(function(){return We.T})),n.d(t,"RealDiv",(function(){return We.kc})),n.d(t,"Elu",(function(){return We.V})),n.d(t,"EluGrad",(function(){return We.W})),n.d(t,"Erf",(function(){return We.Y})),n.d(t,"Equal",(function(){return We.X})),n.d(t,"Exp",(function(){return We.Z})),n.d(t,"ExpandDims",(function(){return We.ab})),n.d(t,"Expm1",(function(){return We.bb})),n.d(t,"FFT",(function(){return We.cb})),n.d(t,"Fill",(function(){return We.db})),n.d(t,"FlipLeftRight",(function(){return We.eb})),n.d(t,"Floor",(function(){return We.fb})),n.d(t,"FloorDiv",(function(){return We.gb})),n.d(t,"FusedBatchNorm",(function(){return We.ib})),n.d(t,"GatherV2",(function(){return We.mb})),n.d(t,"GatherNd",(function(){return We.lb})),n.d(t,"Greater",(function(){return We.nb})),n.d(t,"GreaterEqual",(function(){return We.ob})),n.d(t,"Identity",(function(){return We.qb})),n.d(t,"IFFT",(function(){return We.pb})),n.d(t,"Imag",(function(){return We.rb})),n.d(t,"IsFinite",(function(){return We.sb})),n.d(t,"IsInf",(function(){return We.tb})),n.d(t,"IsNan",(function(){return We.ub})),n.d(t,"LeakyRelu",(function(){return We.xb})),n.d(t,"Less",(function(){return We.yb})),n.d(t,"LessEqual",(function(){return We.zb})),n.d(t,"LinSpace",(function(){return We.Ab})),n.d(t,"Log",(function(){return We.Bb})),n.d(t,"Log1p",(function(){return We.Cb})),n.d(t,"LogicalAnd",(function(){return We.Eb})),n.d(t,"LogicalNot",(function(){return We.Fb})),n.d(t,"LogicalOr",(function(){return We.Gb})),n.d(t,"LogSoftmax",(function(){return We.Db})),n.d(t,"LRN",(function(){return We.vb})),n.d(t,"LRNGrad",(function(){return We.wb})),n.d(t,"Max",(function(){return We.Hb})),n.d(t,"Maximum",(function(){return We.Nb})),n.d(t,"MaxPool",(function(){return We.Ib})),n.d(t,"MaxPoolGrad",(function(){return We.Lb})),n.d(t,"MaxPool3D",(function(){return We.Jb})),n.d(t,"MaxPool3DGrad",(function(){return We.Kb})),n.d(t,"MaxPoolWithArgmax",(function(){return We.Mb})),n.d(t,"Mean",(function(){return We.Ob})),n.d(t,"Min",(function(){return We.Pb})),n.d(t,"Minimum",(function(){return We.Qb})),n.d(t,"MirrorPad",(function(){return We.Rb})),n.d(t,"Mod",(function(){return We.Sb})),n.d(t,"Multinomial",(function(){return We.Tb})),n.d(t,"Multiply",(function(){return We.Ub})),n.d(t,"Neg",(function(){return We.Vb})),n.d(t,"NotEqual",(function(){return We.Zb})),n.d(t,"NonMaxSuppressionV3",(function(){return We.Wb})),n.d(t,"NonMaxSuppressionV4",(function(){return We.Xb})),n.d(t,"NonMaxSuppressionV5",(function(){return We.Yb})),n.d(t,"OnesLike",(function(){return We.bc})),n.d(t,"OneHot",(function(){return We.ac})),n.d(t,"Pack",(function(){return We.cc})),n.d(t,"PadV2",(function(){return We.dc})),n.d(t,"Pool",(function(){return We.ec})),n.d(t,"Pow",(function(){return We.fc})),n.d(t,"Prelu",(function(){return We.gc})),n.d(t,"Prod",(function(){return We.hc})),n.d(t,"Range",(function(){return We.ic})),n.d(t,"Real",(function(){return We.jc})),n.d(t,"Reciprocal",(function(){return We.lc})),n.d(t,"Relu",(function(){return We.mc})),n.d(t,"Reshape",(function(){return We.oc})),n.d(t,"ResizeNearestNeighbor",(function(){return We.rc})),n.d(t,"ResizeNearestNeighborGrad",(function(){return We.sc})),n.d(t,"ResizeBilinear",(function(){return We.pc})),n.d(t,"ResizeBilinearGrad",(function(){return We.qc})),n.d(t,"Relu6",(function(){return We.nc})),n.d(t,"Reverse",(function(){return We.tc})),n.d(t,"Round",(function(){return We.vc})),n.d(t,"Rsqrt",(function(){return We.wc})),n.d(t,"ScatterNd",(function(){return We.xc})),n.d(t,"Select",(function(){return We.yc})),n.d(t,"Selu",(function(){return We.zc})),n.d(t,"Slice",(function(){return We.Ec})),n.d(t,"Sin",(function(){return We.Cc})),n.d(t,"Sinh",(function(){return We.Dc})),n.d(t,"Sign",(function(){return We.Bc})),n.d(t,"Sigmoid",(function(){return We.Ac})),n.d(t,"Softplus",(function(){return We.Gc})),n.d(t,"Sqrt",(function(){return We.Kc})),n.d(t,"Sum",(function(){return We.Qc})),n.d(t,"SpaceToBatchND",(function(){return We.Hc})),n.d(t,"SplitV",(function(){return We.Jc})),n.d(t,"Softmax",(function(){return We.Fc})),n.d(t,"SquaredDifference",(function(){return We.Mc})),n.d(t,"Square",(function(){return We.Lc})),n.d(t,"Sub",(function(){return We.Pc})),n.d(t,"SparseToDense",(function(){return We.Ic})),n.d(t,"StridedSlice",(function(){return We.Oc})),n.d(t,"Tan",(function(){return We.Rc})),n.d(t,"Tanh",(function(){return We.Sc})),n.d(t,"Tile",(function(){return We.Tc})),n.d(t,"TopK",(function(){return We.Uc})),n.d(t,"Transform",(function(){return We.Vc})),n.d(t,"Transpose",(function(){return We.Wc})),n.d(t,"Unique",(function(){return We.Xc})),n.d(t,"Unpack",(function(){return We.Yc})),n.d(t,"UnsortedSegmentSum",(function(){return We.Zc})),n.d(t,"ZerosLike",(function(){return We.ad})),n.d(t,"Step",(function(){return We.Nc})),n.d(t,"FromPixels",(function(){return We.hb})),n.d(t,"RotateWithOffset",(function(){return We.uc})),n.d(t,"_FusedMatMul",(function(){return We.bd})),n.d(t,"FusedConv2D",(function(){return We.jb})),n.d(t,"FusedDepthwiseConv2D",(function(){return We.kb}));var r={};n.r(r),n.d(r,"copyModel",(function(){return te})),n.d(r,"listModels",(function(){return J})),n.d(r,"moveModel",(function(){return re})),n.d(r,"removeModel",(function(){return Z})),n.d(r,"browserFiles",(function(){return me})),n.d(r,"browserHTTPRequest",(function(){return De})),n.d(r,"concatenateArrayBuffers",(function(){return y.d})),n.d(r,"decodeWeights",(function(){return y.e})),n.d(r,"encodeWeights",(function(){return y.f})),n.d(r,"fromMemory",(function(){return Te})),n.d(r,"getLoadHandlers",(function(){return k})),n.d(r,"getModelArtifactsInfoForJSON",(function(){return y.g})),n.d(r,"getSaveHandlers",(function(){return O})),n.d(r,"http",(function(){return Se})),n.d(r,"isHTTPScheme",(function(){return Ce})),n.d(r,"loadWeights",(function(){return we})),n.d(r,"registerLoadRouter",(function(){return w})),n.d(r,"registerSaveRouter",(function(){return _})),n.d(r,"weightsLoaderFactory",(function(){return ke})),n.d(r,"withSaveHandler",(function(){return Me}));var a={};n.r(a),n.d(a,"confusionMatrix",(function(){return Ue}));var i={};n.r(i),n.d(i,"fromPixelsAsync",(function(){return Ke})),n.d(i,"toPixels",(function(){return Xe})),n.d(i,"fromPixels",(function(){return Je}));var o={};n.r(o),n.d(o,"prepareAndValidate",(function(){return Qe}));var u={};n.r(u),n.d(u,"Serializable",(function(){return tt})),n.d(u,"SerializationMap",(function(){return nt})),n.d(u,"registerClass",(function(){return rt}));var s={};n.r(s),n.d(s,"segOpComputeOptimalWindowSize",(function(){return gn})),n.d(s,"computeOutShape",(function(){return bn})),n.d(s,"collectGatherOpShapeInfo",(function(){return yn}));var c={};n.r(c),n.d(c,"axesAreInnerMostDims",(function(){return Bt.b})),n.d(c,"combineLocations",(function(){return Bt.c})),n.d(c,"computeOutAndReduceShapes",(function(){return Bt.d})),n.d(c,"expandShapeToKeepDim",(function(){return Bt.e})),n.d(c,"assertAxesAreInnerMostDims",(function(){return Bt.a})),n.d(c,"getAxesPermutation",(function(){return Bt.f})),n.d(c,"getUndoAxesPermutation",(function(){return Bt.h})),n.d(c,"getInnerMostAxes",(function(){return Bt.g})),n.d(c,"getBroadcastDims",(function(){return zt.b})),n.d(c,"getReductionAxes",(function(){return zt.c})),n.d(c,"assertAndGetBroadcastShape",(function(){return zt.a})),n.d(c,"assertParamsConsistent",(function(){return Lt})),n.d(c,"computeOutShape",(function(){return Ut})),n.d(c,"computeDilation2DInfo",(function(){return Wt.d})),n.d(c,"computePool2DInfo",(function(){return Wt.e})),n.d(c,"computePool3DInfo",(function(){return Wt.f})),n.d(c,"computeConv2DInfo",(function(){return Wt.a})),n.d(c,"computeConv3DInfo",(function(){return Wt.b})),n.d(c,"computeDefaultPad",(function(){return Wt.c})),n.d(c,"tupleValuesAreOne",(function(){return Wt.i})),n.d(c,"eitherStridesOrDilationsAreOne",(function(){return Wt.h})),n.d(c,"convertConv2DDataFormat",(function(){return Wt.g})),n.d(c,"getFusedDyActivation",(function(){return Vt.c})),n.d(c,"getFusedBiasGradient",(function(){return Vt.b})),n.d(c,"applyActivation",(function(){return Vt.a})),n.d(c,"shouldFuse",(function(){return Vt.d})),n.d(c,"PARALLELIZE_THRESHOLD",(function(){return qt})),n.d(c,"computeOptimalWindowSize",(function(){return Ht})),n.d(c,"slice_util",(function(){return et})),n.d(c,"upcastType",(function(){return Ft.c})),n.d(c,"getImageCenter",(function(){return Gt})),n.d(c,"getReshaped",(function(){return Kt})),n.d(c,"getPermuted",(function(){return $t})),n.d(c,"getReshapedPermuted",(function(){return Xt})),n.d(c,"getSliceBeginCoords",(function(){return Yt})),n.d(c,"getSliceSize",(function(){return Jt})),n.d(c,"prepareAndValidate",(function(){return Qe})),n.d(c,"validateUpdateShape",(function(){return Ze.validateUpdateShape})),n.d(c,"validateInput",(function(){return Ze.validateInput})),n.d(c,"calculateShapes",(function(){return Ze.calculateShapes})),n.d(c,"SELU_SCALEALPHA",(function(){return Qt.b})),n.d(c,"SELU_SCALE",(function(){return Qt.a})),n.d(c,"ERF_P",(function(){return Zt})),n.d(c,"ERF_A1",(function(){return en})),n.d(c,"ERF_A2",(function(){return tn})),n.d(c,"ERF_A3",(function(){return nn})),n.d(c,"ERF_A4",(function(){return rn})),n.d(c,"ERF_A5",(function(){return an})),n.d(c,"warn",(function(){return on})),n.d(c,"log",(function(){return un})),n.d(c,"mergeRealAndImagArrays",(function(){return sn})),n.d(c,"splitRealAndImagArrays",(function(){return cn})),n.d(c,"complexWithEvenIndex",(function(){return ln})),n.d(c,"complexWithOddIndex",(function(){return fn})),n.d(c,"getComplexWithIndex",(function(){return dn})),n.d(c,"assignToTypedArray",(function(){return hn})),n.d(c,"exponents",(function(){return pn})),n.d(c,"exponent",(function(){return vn})),n.d(c,"prepareSplitSize",(function(){return mn})),n.d(c,"segment_util",(function(){return s})),n.d(c,"fromUint8ToStringArray",(function(){return xn})),n.d(c,"fromStringArrayToUint8",(function(){return _n}));var l={};n.r(l),n.d(l,"nonMaxSuppressionV3Impl",(function(){return On.a})),n.d(l,"nonMaxSuppressionV4Impl",(function(){return On.b})),n.d(l,"nonMaxSuppressionV5Impl",(function(){return On.c})),n.d(l,"whereImpl",(function(){return kn.a}));var f=n(12),d=(n(262),n(3)),h=n(9),p=n(42),v=n(10),m=n(2),g=n.n(m),b=n(13),y=n(80),x=function(){function e(){Object(d.a)(this,e),this.saveRouters=[],this.loadRouters=[]}return Object(h.a)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerSaveRouter",value:function(t){e.getInstance().saveRouters.push(t)}},{key:"registerLoadRouter",value:function(t){e.getInstance().loadRouters.push(t)}},{key:"getSaveHandlers",value:function(t){return e.getHandlers(t,"save")}},{key:"getLoadHandlers",value:function(t,n){return e.getHandlers(t,"load",n)}},{key:"getHandlers",value:function(t,n,r){var a=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&a.push(n)})),a}}]),e}(),_=function(e){return x.registerSaveRouter(e)},w=function(e){return x.registerLoadRouter(e)},O=function(e){return x.getSaveHandlers(e)},k=function(e,t){return x.getLoadHandlers(e,t)},j="tensorflowjs",E="models_store",C="model_info_store";function A(){if(!Object(p.c)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function S(e){var t=e.result;t.createObjectStore(E,{keyPath:"modelPath"}),t.createObjectStore(C,{keyPath:"modelPath"})}var D=function(){function e(t){if(Object(d.a)(this,e),this.indexedDB=A(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return Object(h.a)(e,[{key:"save",value:function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 2:return e.abrupt("return",this.databaseAction(this.modelPath,t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.databaseAction(this.modelPath));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"databaseAction",value:function(e,t){var n=this;return new Promise((function(e,r){var a=n.indexedDB.open(j,1);a.onupgradeneeded=function(){return S(a)},a.onsuccess=function(){var i=a.result;if(null==t){var o=i.transaction(E,"readonly"),u=o.objectStore(E).get(n.modelPath);u.onsuccess=function(){if(null==u.result)return i.close(),r(new Error("Cannot find model with path '".concat(n.modelPath,"' ")+"in IndexedDB."));e(u.result.modelArtifacts)},u.onerror=function(e){return i.close(),r(u.error)},o.oncomplete=function(){return i.close()}}else{var s,c=Object(y.g)(t),l=i.transaction(C,"readwrite"),f=l.objectStore(C),d=f.put({modelPath:n.modelPath,modelArtifactsInfo:c});d.onsuccess=function(){var a=(s=i.transaction(E,"readwrite")).objectStore(E).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:c});a.onsuccess=function(){return e({modelArtifactsInfo:c})},a.onerror=function(e){var t=(f=l.objectStore(C)).delete(n.modelPath);t.onsuccess=function(){return i.close(),r(a.error)},t.onerror=function(e){return i.close(),r(a.error)}}},d.onerror=function(e){return i.close(),r(d.error)},l.oncomplete=function(){null==s?i.close():s.oncomplete=function(){return i.close()}}}},a.onerror=function(e){return r(a.error)}}))}}]),e}();D.URL_SCHEME="indexeddb://";var N=function(e){return Object(p.c)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(D.URL_SCHEME)?(t=e.slice(D.URL_SCHEME.length),new D(t)):null;var t};x.registerSaveRouter(N),x.registerLoadRouter(N);var F=function(){function e(){Object(d.a)(this,e),this.indexedDB=A()}return Object(h.a)(e,[{key:"listModels",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=t.indexedDB.open(j,1);r.onupgradeneeded=function(){return S(r)},r.onsuccess=function(){var t=r.result,a=t.transaction(C,"readonly"),i=a.objectStore(C).getAll();i.onsuccess=function(){var t,n={},r=Object(v.a)(i.result);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a.modelPath]=a.modelArtifactsInfo}}catch(o){r.e(o)}finally{r.f()}e(n)},i.onerror=function(e){return t.close(),n(i.error)},a.oncomplete=function(){return t.close()}},r.onerror=function(e){return n(r.error)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(r=t).startsWith(D.URL_SCHEME)?r.slice(D.URL_SCHEME.length):r,e.abrupt("return",new Promise((function(e,r){var a=n.indexedDB.open(j,1);a.onupgradeneeded=function(){return S(a)},a.onsuccess=function(){var n,i=a.result,o=i.transaction(C,"readwrite"),u=o.objectStore(C),s=u.get(t);s.onsuccess=function(){if(null==s.result)return i.close(),r(new Error("Cannot find model with path '".concat(t,"' ")+"in IndexedDB."));var a=u.delete(t),o=function(){var a=(n=i.transaction(E,"readwrite")).objectStore(E).delete(t);a.onsuccess=function(){return e(s.result.modelArtifactsInfo)},a.onerror=function(e){return r(s.error)}};a.onsuccess=o,a.onerror=function(e){return o(),i.close(),r(s.error)}},s.onerror=function(e){return i.close(),r(s.error)},o.oncomplete=function(){null==n?i.close():n.oncomplete=function(){return i.close()}}},a.onerror=function(e){return r(a.error)}})));case 2:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),T=n(20),M="/",I="tensorflowjs_models",R="info",P="model_topology",B="weight_specs",z="weight_data",L="model_metadata";function U(e){return{info:[I,e,R].join(M),topology:[I,e,P].join(M),weightSpecs:[I,e,B].join(M),weightData:[I,e,z].join(M),modelMetadata:[I,e,L].join(M)}}function W(e){var t=e.split(M);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(M)}var V=function(){function e(t){if(Object(d.a)(this,e),!Object(p.c)().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=U(this.modelPath)}return Object(h.a)(e,[{key:"save",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var n,r,a,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=4;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 4:return n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),a=Object(y.g)(t),e.prev=7,this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,Object(y.a)(t.weightData)),i={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy},null!=t.signature&&(i.signature=t.signature),null!=t.userDefinedMetadata&&(i.userDefinedMetadata=t.userDefinedMetadata),null!=t.modelInitializer&&(i.modelInitializer=t.modelInitializer),this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),e.abrupt("return",{modelArtifactsInfo:a});case 20:throw e.prev=20,e.t0=e.catch(7),this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(a.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(a.weightSpecsBytes,", ")+"weightDataBytes=".concat(a.weightDataBytes,"."));case 28:case"end":return e.stop()}}),e,this,[[7,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,n,r,a,i,o,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=JSON.parse(this.LS.getItem(this.keys.info)))){e.next=3;break}throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));case 3:if("JSON"===t.modelTopologyType){e.next=5;break}throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");case 5:if(n={},null!=(r=JSON.parse(this.LS.getItem(this.keys.topology)))){e.next=9;break}throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");case 9:if(n.modelTopology=r,null!=(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))){e.next=13;break}throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");case 13:if(n.weightSpecs=a,null!=(i=this.LS.getItem(this.keys.modelMetadata))&&(o=JSON.parse(i),n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,null!=o.signature&&(n.signature=o.signature),null!=o.userDefinedMetadata&&(n.userDefinedMetadata=o.userDefinedMetadata),null!=o.modelInitializer&&(n.modelInitializer=o.modelInitializer)),null!=(u=this.LS.getItem(this.keys.weightData))){e.next=19;break}throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));case 19:return n.weightData=Object(y.b)(u),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();V.URL_SCHEME="localstorage://";var q=function(e){return Object(p.c)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(V.URL_SCHEME)?(t=e.slice(V.URL_SCHEME.length),new V(t)):null;var t};x.registerSaveRouter(q),x.registerLoadRouter(q);var H=function(){function e(){Object(d.a)(this,e),Object(T.b)(Object(p.c)().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),Object(T.b)("undefined"===typeof window||"undefined"!==typeof window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return Object(h.a)(e,[{key:"listModels",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,n,r,a,i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=I+M,r=M+R,a=0;a<this.LS.length;++a)(i=this.LS.key(a)).startsWith(n)&&i.endsWith(r)&&(o=W(i),t[o]=JSON.parse(this.LS.getItem(i)));return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(a=t).startsWith(V.URL_SCHEME)?a.slice(V.URL_SCHEME.length):a,n=U(t),null!=this.LS.getItem(n.info)){e.next=4;break}throw new Error("Cannot find model at path '".concat(t,"'"));case 4:return r=JSON.parse(this.LS.getItem(n.info)),this.LS.removeItem(n.info),this.LS.removeItem(n.topology),this.LS.removeItem(n.weightSpecs),this.LS.removeItem(n.weightData),e.abrupt("return",r);case 10:case"end":return e.stop()}var a}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),G="://",K=function(){function e(){Object(d.a)(this,e),this.managers={}}return Object(h.a)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerManager",value:function(t,n){Object(T.b)(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(G)&&(t=t.slice(0,t.indexOf(G))),Object(T.b)(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();Object(T.b)(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '".concat(t,"'.")})),r.managers[t]=n}},{key:"getManager",value:function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return t}},{key:"getSchemes",value:function(){return Object.keys(this.getInstance().managers)}}]),e}();function $(e){if(-1===e.indexOf(G))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(K.getSchemes().join(",")));return{scheme:e.split(G)[0],path:e.split(G)[1]}}function X(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(b.a)(g.a.mark((function e(t,n){var r,a,i,o,u,s,c,l,f,d,h=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>2&&void 0!==h[2]&&h[2],Object(T.b)(t!==n,(function(){return"Old path and new path are the same: '".concat(t,"'")})),a=x.getLoadHandlers(t),Object(T.b)(a.length>0,(function(){return"Copying failed because no load handler is found for source URL ".concat(t,".")})),Object(T.b)(a.length<2,(function(){return"Copying failed because more than one (".concat(a.length,") ")+"load handlers for source URL ".concat(t,".")})),i=a[0],o=x.getSaveHandlers(n),Object(T.b)(o.length>0,(function(){return"Copying failed because no save handler is found for destination "+"URL ".concat(n,".")})),Object(T.b)(o.length<2,(function(){return"Copying failed because more than one (".concat(a.length,") ")+"save handlers for destination URL ".concat(n,".")})),u=o[0],s=$(t).scheme,c=$(t).path,l=s===$(t).scheme,e.next=15,i.load();case 15:if(f=e.sent,!r||!l){e.next=19;break}return e.next=19,K.getManager(s).removeModel(c);case 19:return e.next=21,u.save(f);case 21:if(d=e.sent,!r||l){e.next=25;break}return e.next=25,K.getManager(s).removeModel(c);case 25:return e.abrupt("return",d.modelArtifactsInfo);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return Q.apply(this,arguments)}function Q(){return(Q=Object(b.a)(g.a.mark((function e(){var t,n,r,a,i,o,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=K.getSchemes(),n={},r=Object(v.a)(t),e.prev=3,r.s();case 5:if((a=r.n()).done){e.next=13;break}return i=a.value,e.next=9,K.getManager(i).listModels();case 9:for(u in o=e.sent)n[i+G+u]=o[u];case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})))).apply(this,arguments)}function Z(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(b.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$(t),r=K.getManager(n.scheme),e.abrupt("return",r.removeModel(n.path));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t){return ne.apply(this,arguments)}function ne(){return(ne=Object(b.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,e.abrupt("return",X(t,n,false));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(b.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,e.abrupt("return",X(t,n,true));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,[{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,t)}))},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return new TextDecoder(t).decode(e)}}]),e}();if(Object(p.c)().get("IS_BROWSER")){Object(p.c)().setPlatform("browser",new ie);try{K.registerManager(V.URL_SCHEME,new H)}catch(En){}try{K.registerManager(D.URL_SCHEME,new F)}catch(En){}}n(648);var oe=n(87),ue=n(31),se=n(123),ce=n(316),le=n(18);Object(f.b)();var fe={buffer:oe.a,cast:ue.a,clone:se.a,print:ce.a};Object(le.f)(fe);var de=n(14);function he(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var pe=function(){function e(t){if(Object(d.a)(this,e),!Object(p.c)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelTopologyFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return Object(h.a)(e,[{key:"save",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var n,r,a,i,o,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof document){e.next=2;break}throw new Error("Browser downloads are not supported in this environment since `document` is not present");case 2:if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer)){e.next=7;break}throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 7:return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],a={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:r},null!=t.signature&&(a.signature=t.signature),null!=t.userDefinedMetadata&&(a.userDefinedMetadata=t.userDefinedMetadata),null!=t.modelInitializer&&(a.modelInitializer=t.modelInitializer),i=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(o=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,o.href=i,e.next=18,he((function(){return o.dispatchEvent(new MouseEvent("click"))}));case 18:if(null==t.weightData){e.next=24;break}return(u=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,u.href=n,e.next=24,he((function(){return u.dispatchEvent(new MouseEvent("click"))}));case 24:return e.abrupt("return",{modelArtifactsInfo:Object(y.g)(t)});case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();pe.URL_SCHEME="downloads://";var ve=function(){function e(t){if(Object(d.a)(this,e),null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(t));this.files=t}return Object(h.a)(e,[{key:"load",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,n,r=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.files[0],n=this.files.slice(1),e.abrupt("return",new Promise((function(e,a){var i=new FileReader;i.onload=function(i){var o=JSON.parse(i.target.result),u=o.modelTopology;if(null!=u){0===n.length&&e({modelTopology:u});var s=o.weightsManifest;if(null!=s){var c;try{c=r.checkManifestAndWeightFiles(s,n)}catch(En){return void a(En)}var l=[],f=[],d=[];s.forEach((function(e){e.paths.forEach((function(e){f.push(e),d.push(null)})),l.push.apply(l,Object(de.a)(e.weights))})),s.forEach((function(t){t.paths.forEach((function(t){var n=new FileReader;n.onload=function(n){var r=n.target.result,a=f.indexOf(t);if(d[a]=r,-1===d.indexOf(null)){var i={modelTopology:u,weightSpecs:l,weightData:Object(y.d)(d),format:o.format,generatedBy:o.generatedBy,convertedBy:o.convertedBy};null!=o.signature&&(i.signature=o.signature),null!=o.userDefinedMetadata&&(i.userDefinedMetadata=o.userDefinedMetadata),null!=o.modelInitializer&&(i.modelInitializer=o.modelInitializer),e(i)}},n.onerror=function(e){return a("Failed to weights data from file of path '".concat(t,"'."))},n.readAsArrayBuffer(c[t])}))}))}else a(new Error("weightManifest field is missing from file ".concat(t.name)))}else a(new Error("modelTopology field is missing from file ".concat(t.name)))},i.onerror=function(e){return a("Failed to read model topology and weights manifest JSON "+"from file '".concat(t.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},i.readAsText(t)})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkManifestAndWeightFiles",value:function(e,t){var n,r=[],a=t.map((function(e){return Object(y.c)(e.name)})),i={},o=Object(v.a)(e);try{for(o.s();!(n=o.n()).done;){n.value.paths.forEach((function(e){var n=Object(y.c)(e);if(-1!==r.indexOf(n))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(n,"'"));if(r.push(n),-1===a.indexOf(n))throw new Error("Weight file with basename '".concat(n,"' is not provided."));i[e]=t[a.indexOf(n)]}))}}catch(En){o.e(En)}finally{o.f()}if(r.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(r.length,") and the number of weight files provided ")+"(".concat(t.length,")."));return i}}]),e}();function me(e){return new ve(e)}x.registerSaveRouter((function(e){return Object(p.c)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(pe.URL_SCHEME)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new pe(e)}(e.slice(pe.URL_SCHEME.length)):null}));var ge=n(6);function be(e,t,n,r){!function(e){Object(T.b)(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){Object(T.b)(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e)})),Object(T.b)(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t)})),Object(T.b)(t>=e,(function(){return"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)}))}(n=null==n?0:n,r=null==r?1:r);var a=0;return Promise.all(e.map((function(i){return i.then((function(i){var o=n+ ++a/e.length*(r-n);return t(o),i})),i})))}var ye=n(280);function xe(e,t){return _e.apply(this,arguments)}function _e(){return(_e=Object(b.a)(g.a.mark((function e(t,n){var r,a,i,o,u,s,c,l,f;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n={}),r=null==n.fetchFunc?Object(p.c)().platform.fetch:n.fetchFunc,a=t.map((function(e){return r(e,n.requestInit,{isBinary:!0})})),i=0,o=.5,null!=n.onProgress){e.next=11;break}return e.next=8,Promise.all(a);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,be(a,n.onProgress,i,o);case 13:e.t0=e.sent;case 14:if(u=e.t0,s=u.map((function(e){return e.arrayBuffer()})),c=.5,l=1,null!=n.onProgress){e.next=24;break}return e.next=21,Promise.all(s);case 21:e.t1=e.sent,e.next=27;break;case 24:return e.next=26,be(s,n.onProgress,c,l);case 26:e.t1=e.sent;case 27:return f=e.t1,e.abrupt("return",f);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(b.a)(g.a.mark((function e(t){var n,r,a,i,o=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"",r=o.length>2?o[2]:void 0,a=o.length>3?o[3]:void 0,i=ke((function(e){return xe(e,{requestInit:a})})),e.abrupt("return",i(t,n,r));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){return function(){var t=Object(b.a)(g.a.mark((function t(n){var r,a,i,o,u,s,c,l,f,d,h,p,v=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=v.length>1&&void 0!==v[1]?v[1]:"",a=v.length>2?v[2]:void 0,i=n.map((function(){return!1})),o={},u=null!=a?a.map((function(){return!1})):[],s=[],n.forEach((function(e,t){var n=0;e.weights.forEach((function(e){var r="quantization"in e?e.quantization.dtype:e.dtype,c=ye.a[r]*T.O(e.shape),l=function(){i[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:n,sizeBytes:c})};null!=a?a.forEach((function(t,n){t===e.name&&(l(),u[n]=!0)})):l(),s.push(e.name),n+=c}))})),u.every((function(e){return e}))){t.next=10;break}throw c=a.filter((function(e,t){return!u[t]})),new Error("Could not find weights in manifest with names: "+"".concat(c.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(s.join(", "),"."));case 10:return l=i.reduce((function(e,t,n){return t&&e.push(n),e}),[]),f=[],l.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;f.push(t)}))})),t.next=15,e(f);case 15:return d=t.sent,h={},p=0,l.forEach((function(e){for(var t=n[e].paths.length,r=0,a=0;a<t;a++)r+=d[p+a].byteLength;for(var i=new ArrayBuffer(r),u=new Uint8Array(i),s=0,c=0;c<t;c++){var l=new Uint8Array(d[p+c]);u.set(l,s),s+=l.byteLength}o[e].forEach((function(e){var t=i.slice(e.groupOffset,e.groupOffset+e.sizeBytes),n=Object(y.e)(t,[e.manifestEntry]);for(var r in n)h[r]=n[r]})),p+=t})),t.abrupt("return",h);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var je=function(){function e(t,n){if(Object(d.a)(this,e),this.DEFAULT_METHOD="POST",null==n&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,null!=n.fetchFunc?(Object(T.b)("function"===typeof n.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=n.fetchFunc):this.fetch=Object(p.c)().platform.fetch,Object(T.b)(null!=t&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&Object(T.b)(2===t.length,(function(){return"URL paths for http must have a length of 2, "+"(actual length is ".concat(t.length,").")})),this.path=t,null!=n.requestInit&&null!=n.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return Object(h.a)(e,[{key:"save",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var n,r,a,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");case 2:return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],a={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:r},null!=t.signature&&(a.signature=t.signature),null!=t.userDefinedMetadata&&(a.userDefinedMetadata=t.userDefinedMetadata),null!=t.modelInitializer&&(a.modelInitializer=t.modelInitializer),n.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),null!=t.weightData&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),e.next=13,this.fetch(this.path,n);case 13:if(!(i=e.sent).ok){e.next=18;break}return e.abrupt("return",{modelArtifactsInfo:Object(y.g)(t),responses:[i]});case 18:throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(i.status,"."));case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,n,r,a,i,o,u,s,c,l,f,d,h,p,v,m;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(this.path,this.requestInit);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(t.status,". Please verify this URL points to ")+"the model JSON of the model to load.");case 5:return e.prev=5,e.next=8,t.json();case 8:n=e.sent,e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(5),r="Failed to parse model JSON of response from ".concat(this.path,"."),this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 16:if(a=n.modelTopology,i=n.weightsManifest,o=n.generatedBy,u=n.convertedBy,s=n.format,c=n.signature,l=n.userDefinedMetadata,null!=a||null!=i){e.next=25;break}throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");case 25:if(null==i){e.next=32;break}return e.next=28,this.loadWeights(i);case 28:h=e.sent,p=Object(ge.a)(h,2),f=p[0],d=p[1];case 32:return v={modelTopology:a,weightSpecs:f,weightData:d,generatedBy:o,convertedBy:u,format:s},null!=c&&(v.signature=c),null!=l&&(v.userDefinedMetadata=l),(m=n.modelInitializer)&&(v.modelInitializer=m),e.abrupt("return",v);case 38:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var n,r,a,i,o,u,s,c,l,f,d,h,p,m,b,x,_,w,O;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.isArray(this.path)?this.path[1]:this.path,r=Ee(n),a=Object(ge.a)(r,2),i=a[0],o=a[1],u=this.weightPathPrefix||i,s=[],c=Object(v.a)(t);try{for(c.s();!(l=c.n()).done;)f=l.value,s.push.apply(s,Object(de.a)(f.weights))}catch(En){c.e(En)}finally{c.f()}d=[],h=[],p=Object(v.a)(t);try{for(p.s();!(m=p.n()).done;){b=m.value,x=Object(v.a)(b.paths);try{for(x.s();!(_=x.n()).done;)w=_.value,null!=this.weightUrlConverter?h.push(this.weightUrlConverter(w)):d.push(u+w+o)}catch(En){x.e(En)}finally{x.f()}}}catch(En){p.e(En)}finally{p.f()}if(!this.weightUrlConverter){e.next=19;break}return e.t0=d.push,e.t1=d,e.t2=de.a,e.next=16,Promise.all(h);case 16:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 19:return e.next=21,xe(d,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});case 21:return O=e.sent,e.abrupt("return",[s,Object(y.d)(O)]);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ee(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}function Ce(e){return null!=e.match(je.URL_SCHEME_REGEX)}je.URL_SCHEME_REGEX=/^https?:\/\//;var Ae=function(e,t){if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;return(Array.isArray(e)?e.every((function(e){return Ce(e)})):Ce(e))?Se(e,t):null};function Se(e,t){return new je(e,t)}function De(e,t){return Se(e,t)}x.registerSaveRouter(Ae),x.registerLoadRouter(Ae);var Ne=function(){function e(t){Object(d.a)(this,e),this.modelArtifacts=t}return Object(h.a)(e,[{key:"load",value:function(){var e=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.modelArtifacts);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Fe=function(){function e(t){Object(d.a)(this,e),this.saveHandler=t}return Object(h.a)(e,[{key:"save",value:function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.saveHandler(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Te(e,t,n,r){if(1===arguments.length){var a=null!=e.modelTopology||null!=e.weightSpecs;return a?new Ne(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Ne({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Ne({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function Me(e){return new Fe(e)}var Ie=n(8),Re=n(48),Pe=n(192),Be=n(11),ze=n(92);var Le,Ue=Object(Be.b)({confusionMatrix_:function(e,t,n){var r=Object(Ie.a)(e,"labels","confusionMatrix"),a=Object(Ie.a)(t,"predictions","confusionMatrix");T.b(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, "+"but got ".concat(n)})),T.b(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got ".concat(r.rank)})),T.b(1===a.rank,(function(){return"Expected the rank of predictions to be 1, "+"but got ".concat(a.rank)})),T.b(r.shape[0]===a.shape[0],(function(){return"Mismatch in the number of examples: "+"".concat(r.shape[0]," vs. ").concat(a.shape[0],". ")+"Labels and predictions should have the same number of elements."})),T.b(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+"".concat(n)}));var i=Object(Pe.a)(Object(ue.a)(r,"int32"),n),o=Object(Pe.a)(Object(ue.a)(a,"int32"),n),u=Object(ze.a)(i),s=Object(Re.a)(u,o);return Object(ue.a)(s,"int32")}}),We=n(7),Ve=n(113),qe=n(344);function He(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,a=!1,i=!1,o=!1,u=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)i=!0;else if(null!=e.getContext)o=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));u=!0}if(a){var s=2;if(a&&e.readyState<s)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}var c=Object(Ve.c)(We.hb,f.a.backendName);if(null!=c){var l={pixels:e},d={numChannels:t};return f.a.runKernel(We.hb,l,d)}var h,p,v=a?[e.videoWidth,e.videoHeight]:[e.width,e.height],m=Object(ge.a)(v,2),g=m[0],b=m[1];if(o?h=e.getContext("2d").getImageData(0,0,g,b).data:r||n?h=e.data:(i||a||u)&&(null==Le&&(Le=document.createElement("canvas").getContext("2d")),Le.canvas.width=g,Le.canvas.height=b,Le.drawImage(e,0,0,g,b),h=Le.getImageData(0,0,g,b).data),4===t)p=new Int32Array(h);else{var y=g*b;p=new Int32Array(y*t);for(var x=0;x<y;x++)for(var _=0;_<t;++_)p[x*t+_]=h[4*x+_]}var w=[b,g,t];return Object(qe.a)(p,w,"int32")}function Ge(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}function Ke(e){return $e.apply(this,arguments)}function $e(){return($e=Object(b.a)(g.a.mark((function e(t){var n,r,a,i=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:3,r=null,!Object(p.c)().getBool("WRAP_TO_IMAGEBITMAP")||!Ge(t)){e.next=15;break}return e.prev=3,e.next=6,createImageBitmap(t,{premultiplyAlpha:"none"});case 6:a=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a=null;case 12:r=null!=a&&a.width===t.width&&a.height===t.height?a:t,e.next=16;break;case 15:r=t;case 16:return e.abrupt("return",He(r,n));case 17:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function Xe(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(b.a)(g.a.mark((function e(t,n){var r,a,i,o,u,s,c,l,f,d,h,p,v,m,b,y,x;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(Ie.a)(t,"img","toPixels"),t instanceof le.a||(a=r,r=Object(ue.a)(a,"int32"),a.dispose()),2===r.rank||3===r.rank){e.next=4;break}throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(r.rank,"."));case 4:if(i=r.shape.slice(0,2),o=Object(ge.a)(i,2),u=o[0],s=o[1],!((c=2===r.rank?1:r.shape[2])>4||2===c)){e.next=8;break}throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(c));case 8:if("float32"===r.dtype||"int32"===r.dtype){e.next=10;break}throw new Error("Unsupported type for toPixels: ".concat(r.dtype,".")+" Please use float32 or int32 tensors.");case 10:return e.next=12,r.data();case 12:l=e.sent,f="float32"===r.dtype?255:1,d=new Uint8ClampedArray(s*u*4),h=0;case 16:if(!(h<u*s)){e.next=41;break}p=[0,0,0,255],v=0;case 19:if(!(v<c)){e.next=33;break}if(m=l[h*c+v],"float32"!==r.dtype){e.next=26;break}if(!(m<0||m>1)){e.next=24;break}throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(m,"."));case 24:e.next=29;break;case 26:if("int32"!==r.dtype){e.next=29;break}if(!(m<0||m>255)){e.next=29;break}throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(m,"."));case 29:1===c?(p[0]=m*f,p[1]=m*f,p[2]=m*f):p[v]=m*f;case 30:v++,e.next=19;break;case 33:d[(b=4*h)+0]=Math.round(p[0]),d[b+1]=Math.round(p[1]),d[b+2]=Math.round(p[2]),d[b+3]=Math.round(p[3]);case 38:++h,e.next=16;break;case 41:return null!=n&&(n.width=s,n.height=u,y=n.getContext("2d"),x=new ImageData(d,s,u),y.putImageData(x,0,0)),r!==t&&r.dispose(),e.abrupt("return",d);case 44:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Je=Object(Be.b)({fromPixels_:He});function Qe(e,t){var n=e.shape.length,r=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(r<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[r-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[r-1]," vs. ").concat(n));if(0===Object(T.O)(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));for(var a=t.shape,i=a[a.length-1],o=1,u=0;u<a.length-1;++u)o*=a[u];var s=e.shape,c=a.slice();c.pop();for(var l=1,f=i;f<n;++f)l*=s[f],c.push(s[f]);var d=[].concat(Object(de.a)(Object(T.j)(e.shape).map((function(e){return e/l}))),[1]).slice(0,i);return[c,o,l,d]}var Ze=n(215),et=n(216),tt=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,[{key:"getClassName",value:function(){return this.constructor.className}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),e}(),nt=function(){function e(){Object(d.a)(this,e),this.classNameMap={}}return Object(h.a)(e,null,[{key:"getMap",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"register",value:function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]}}]),e}();function rt(e){Object(T.b)(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),Object(T.b)("string"===typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),Object(T.b)(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),nt.register(e)}var at=n(44),it=n(241),ot=n(24),ut="3.3.0",st=n(15),ct=n(16),lt=n(46),ft=n(33),dt=n(35),ht=n(22),pt=n(76),vt=n(45),mt=n(40),gt=n(71),bt=n(36),yt=function(e){Object(st.a)(n,e);var t=Object(ct.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"minimize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.computeGradients(e,n),a=r.value,i=r.grads;if(null!=n){var o=n.map((function(e){return{name:e.name,tensor:i[e.name]}}));this.applyGradients(o)}else this.applyGradients(i);return Object(lt.d)(i),t?a:(a.dispose(),null)}},{key:"iterations",get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}},{key:"incrementIterations",value:function(){this.iterations_=this.iterations+1}},{key:"computeGradients",value:function(e,t){return Object(gt.f)(e,t)}},{key:"dispose",value:function(){null!=this.iterations_&&Object(lt.d)(this.iterations_)}},{key:"saveIterations",value:function(){var e=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.iterations_&&(this.iterations_=0),e.abrupt("return",{name:"iter",tensor:Object(bt.a)(this.iterations_,"int32")});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWeights",value:function(){var e=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for this optimizer yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"extractIterations",value:function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[0].tensor.data();case 2:return this.iterations_=e.sent[0],e.abrupt("return",t.slice(1));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(tt);Object.defineProperty(yt,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var xt=function(e){Object(st.a)(n,e);var t=Object(ct.a)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(d.a)(this,n),(a=t.call(this)).learningRate=e,a.rho=r,a.epsilon=i,a.accumulatedGrads=[],a.accumulatedUpdates=[],null==i&&(a.epsilon=f.a.backend.epsilon()),a}return Object(h.a)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=f.a.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:"".concat(n,"/accum_grad"),variable:Object(lt.t)((function(){return Object(mt.a)(a).variable(false)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:"".concat(n,"/accum_var"),variable:Object(lt.t)((function(){return Object(mt.a)(a).variable(false)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var o=t.accumulatedGrads[r].variable,u=t.accumulatedUpdates[r].variable;Object(lt.t)((function(){var e=Object(ft.a)(Object(ht.a)(o,t.rho),Object(ht.a)(Object(vt.a)(i),1-t.rho)),n=Object(ht.a)(Object(dt.a)(Object(pt.a)(Object(ft.a)(u,t.epsilon)),Object(pt.a)(Object(ft.a)(o,t.epsilon))),i),r=Object(ft.a)(Object(ht.a)(u,t.rho),Object(ht.a)(Object(vt.a)(n),1-t.rho));o.assign(e),u.assign(r);var s=Object(ft.a)(Object(ht.a)(n,-t.learningRate),a);a.assign(s)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedUpdates&&(Object(lt.d)(this.accumulatedGrads.map((function(e){return e.variable}))),Object(lt.d)(this.accumulatedUpdates.map((function(e){return e.variable}))))}},{key:"getWeights",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat(Object(de.a)(this.accumulatedGrads),Object(de.a)(this.accumulatedUpdates)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=t.length/2,!1,this.accumulatedGrads=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedUpdates=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}]),n}(yt);xt.className="Adadelta",rt(xt);var _t=n(218),wt=function(e){Object(st.a)(n,e);var t=Object(ct.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return Object(d.a)(this,n),(r=t.call(this)).learningRate=e,r.initialAccumulatorValue=a,r.accumulatedGrads=[],r}return Object(h.a)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=f.a.registeredVariables[n];if(null==t.accumulatedGrads[r]){t.accumulatedGrads[r]={originalName:"".concat(n,"/accumulator"),variable:Object(lt.t)((function(){return Object(_t.a)(a.shape,t.initialAccumulatorValue).variable(false)}))}}var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var o=t.accumulatedGrads[r].variable;Object(lt.t)((function(){var e=Object(ft.a)(o,Object(vt.a)(i));o.assign(e);var n=Object(ft.a)(Object(ht.a)(Object(dt.a)(i,Object(pt.a)(Object(ft.a)(e,f.a.backend.epsilon()))),-t.learningRate),a);a.assign(n)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedGrads&&Object(lt.d)(this.accumulatedGrads.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulatedGrads=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}]),n}(yt);wt.className="Adagrad",rt(wt);var Ot=n(99),kt=n(34),jt=function(e){Object(st.a)(n,e);var t=Object(ct.a)(n);function n(e,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(d.a)(this,n),(i=t.call(this)).learningRate=e,i.beta1=r,i.beta2=a,i.epsilon=o,i.accumulatedFirstMoment=[],i.accumulatedSecondMoment=[],Object(lt.t)((function(){i.accBeta1=Object(bt.a)(r).variable(),i.accBeta2=Object(bt.a)(a).variable()})),null==o&&(i.epsilon=f.a.backend.epsilon()),i}return Object(h.a)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);Object(lt.t)((function(){var r=Object(kt.a)(1,t.accBeta1),a=Object(kt.a)(1,t.accBeta2);n.forEach((function(n,i){var o=f.a.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:"".concat(n,"/m"),variable:Object(lt.t)((function(){return Object(mt.a)(o).variable(false)}))}),null==t.accumulatedSecondMoment[i]&&(t.accumulatedSecondMoment[i]={originalName:"".concat(n,"/v"),variable:Object(lt.t)((function(){return Object(mt.a)(o).variable(false)}))});var u=Array.isArray(e)?e[i].tensor:e[n];if(null!=u){var s=t.accumulatedFirstMoment[i].variable,c=t.accumulatedSecondMoment[i].variable,l=Object(ft.a)(Object(ht.a)(s,t.beta1),Object(ht.a)(u,1-t.beta1)),d=Object(ft.a)(Object(ht.a)(c,t.beta2),Object(ht.a)(Object(vt.a)(u),1-t.beta2)),h=Object(dt.a)(l,r),p=Object(dt.a)(d,a);s.assign(l),c.assign(d);var v=Object(ft.a)(Object(ht.a)(Object(dt.a)(h,Object(ft.a)(Object(pt.a)(p),t.epsilon)),-t.learningRate),o);o.assign(v)}})),t.accBeta1.assign(Object(ht.a)(t.accBeta1,t.beta1)),t.accBeta2.assign(Object(ht.a)(t.accBeta2,t.beta2))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Object(lt.d)(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&Object(lt.d)(this.accumulatedSecondMoment.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat(Object(de.a)(this.accumulatedFirstMoment),Object(de.a)(this.accumulatedSecondMoment)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var n,r=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,Object(lt.t)((function(){r.accBeta1.assign(Object(Ot.a)(r.beta1,r.iterations_+1)),r.accBeta2.assign(Object(Ot.a)(r.beta2,r.iterations_+1))})),n=t.length/2,!1,this.accumulatedFirstMoment=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedSecondMoment=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}]),n}(yt);jt.className="Adam",rt(jt);var Et=n(82),Ct=n(170),At=function(e){Object(st.a)(n,e);var t=Object(ct.a)(n);function n(e,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return Object(d.a)(this,n),(i=t.call(this)).learningRate=e,i.beta1=r,i.beta2=a,i.epsilon=o,i.decay=u,i.accumulatedFirstMoment=[],i.accumulatedWeightedInfNorm=[],Object(lt.t)((function(){i.iteration=Object(bt.a)(0).variable(),i.accBeta1=Object(bt.a)(r).variable()})),null==o&&(i.epsilon=f.a.backend.epsilon()),i}return Object(h.a)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);Object(lt.t)((function(){var r=Object(kt.a)(1,t.accBeta1),a=Object(dt.a)(-t.learningRate,Object(ft.a)(Object(ht.a)(t.iteration,t.decay),1));n.forEach((function(n,i){var o=f.a.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:"".concat(n,"/m"),variable:Object(mt.a)(o).variable(false)}),null==t.accumulatedWeightedInfNorm[i]&&(t.accumulatedWeightedInfNorm[i]={originalName:"".concat(n,"/v"),variable:Object(mt.a)(o).variable(false)});var u=Array.isArray(e)?e[i].tensor:e[n];if(null!=u){var s=t.accumulatedFirstMoment[i].variable,c=t.accumulatedWeightedInfNorm[i].variable,l=Object(ft.a)(Object(ht.a)(s,t.beta1),Object(ht.a)(u,1-t.beta1)),d=Object(ht.a)(c,t.beta2),h=Object(Et.a)(u),p=Object(Ct.a)(d,h);s.assign(l),c.assign(p);var v=Object(ft.a)(Object(ht.a)(Object(dt.a)(a,r),Object(dt.a)(l,Object(ft.a)(p,t.epsilon))),o);o.assign(v)}})),t.iteration.assign(Object(ft.a)(t.iteration,1)),t.accBeta1.assign(Object(ht.a)(t.accBeta1,t.beta1))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Object(lt.d)(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&Object(lt.d)(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}]),n}(yt);At.className="Adamax",rt(At);var St=function(e){Object(st.a)(n,e);var t=Object(ct.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this)).learningRate=e,r.setLearningRate(e),r}return Object(h.a)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var i=f.a.registeredVariables[n];Object(lt.t)((function(){var e=Object(ft.a)(Object(ht.a)(t.c,a),i);i.assign(e)}))}})),this.incrementIterations()}},{key:"setLearningRate",value:function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=Object(lt.l)(Object(bt.a)(-e))}},{key:"dispose",value:function(){this.c.dispose()}},{key:"getWeights",value:function(){var e=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:if(0===(t=e.sent).length){e.next=5;break}throw new Error("SGD optimizer does not have settable weights.");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate)}}]),n}(yt);St.className="SGD",rt(St);var Dt=function(e){Object(st.a)(n,e);var t=Object(ct.a)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(d.a)(this,n),(a=t.call(this,e)).learningRate=e,a.momentum=r,a.useNesterov=i,a.accumulations=[],a.m=Object(bt.a)(a.momentum),a}return Object(h.a)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=f.a.registeredVariables[n];if(null==t.accumulations[r]){t.accumulations[r]={originalName:"".concat(n,"/momentum"),variable:Object(lt.t)((function(){return Object(mt.a)(a).variable(false)}))}}var i=t.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[n];null!=o&&Object(lt.t)((function(){var e,n=Object(ft.a)(Object(ht.a)(t.m,i),o);e=t.useNesterov?Object(ft.a)(Object(ht.a)(t.c,Object(ft.a)(o,Object(ht.a)(n,t.m))),a):Object(ft.a)(Object(ht.a)(t.c,n),a),i.assign(n),a.assign(e)}))})),this.incrementIterations()}},{key:"dispose",value:function(){this.m.dispose(),null!=this.accumulations&&Object(lt.d)(this.accumulations.map((function(e){return e.variable})))}},{key:"setMomentum",value:function(e){this.momentum=e}},{key:"getWeights",value:function(){var e=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulations=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}]),n}(St);Dt.className="Momentum",rt(Dt);var Nt=function(e){Object(st.a)(n,e);var t=Object(ct.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Object(d.a)(this,n),(r=t.call(this)).learningRate=e,r.decay=a,r.momentum=i,r.epsilon=o,r.accumulatedMeanSquares=[],r.accumulatedMoments=[],r.accumulatedMeanGrads=[],r.centered=u,null==o&&(r.epsilon=f.a.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.");return r}return Object(h.a)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=f.a.registeredVariables[n],i=!1;null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:"".concat(n,"/rms"),variable:Object(lt.t)((function(){return Object(mt.a)(a).variable(i)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:"".concat(n,"/momentum"),variable:Object(lt.t)((function(){return Object(mt.a)(a).variable(i)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:"".concat(n,"/mg"),variable:Object(lt.t)((function(){return Object(mt.a)(a).variable(i)}))});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var u=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;Object(lt.t)((function(){var e=Object(ft.a)(Object(ht.a)(u,t.decay),Object(ht.a)(Object(vt.a)(o),1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,i=Object(ft.a)(Object(ht.a)(n,t.decay),Object(ht.a)(o,1-t.decay)),c=Object(dt.a)(Object(ht.a)(o,t.learningRate),Object(pt.a)(Object(kt.a)(e,Object(ft.a)(Object(vt.a)(i),t.epsilon)))),l=Object(ft.a)(Object(ht.a)(s,t.momentum),c);u.assign(e),n.assign(i),s.assign(l);var f=Object(kt.a)(a,l);a.assign(f)}else{var d=Object(ft.a)(Object(ht.a)(u,t.decay),Object(ht.a)(Object(vt.a)(o),1-t.decay)),h=Object(ft.a)(Object(ht.a)(s,t.momentum),Object(dt.a)(Object(ht.a)(o,t.learningRate),Object(pt.a)(Object(ft.a)(d,t.epsilon))));u.assign(d),s.assign(h);var p=Object(kt.a)(a,h);a.assign(p)}}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedMeanSquares&&Object(lt.d)(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&Object(lt.d)(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&Object(lt.d)(this.accumulatedMoments.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat(Object(de.a)(this.accumulatedMeanSquares),Object(de.a)(this.accumulatedMoments)),this.centered&&t.push.apply(t,Object(de.a)(this.accumulatedMeanGrads)),e.next=4,this.saveIterations();case 4:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=this.centered?t.length/3:t.length/2,r=!1,this.accumulatedMeanSquares=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.accumulatedMoments=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.centered&&(this.accumulatedMeanGrads=t.slice(2*n,3*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}]),n}(yt);Nt.className="RMSProp",rt(Nt);var Ft=n(169),Tt=n(41),Mt=n(72),It=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,null,[{key:"sgd",value:function(e){return new St(e)}},{key:"momentum",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Dt(e,t,n)}},{key:"rmsprop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Nt(e,t,n,r,a)}},{key:"adam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new jt(e,t,n,r)}},{key:"adadelta",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new xt(e,t,n)}},{key:"adamax",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return new At(e,t,n,r,a)}},{key:"adagrad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return new wt(e,t)}}]),e}(),Rt={sgd:It.sgd,momentum:It.momentum,adadelta:It.adadelta,adagrad:It.adagrad,rmsprop:It.rmsprop,adamax:It.adamax,adam:It.adam},Pt=n(489),Bt=n(79),zt=n(37);function Lt(e,t){var n=e[0].length;e.forEach((function(e,t){T.b(e.length===n,(function(){return"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")")}))})),T.b(t>=0&&t<n,(function(){return"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")}));var r=e[0];e.forEach((function(e,a){for(var i=0;i<n;i++)T.b(i===t||e[i]===r[i],(function(){return"Error in concat".concat(n,"D: Shape of tensors[").concat(a,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(r,") ")+"along the non-concatenated axis ".concat(a,".")}))}))}function Ut(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}var Wt=n(62),Vt=n(83),qt=30;function Ht(e){return e<=qt?e:Object(T.G)(e,Math.floor(Math.sqrt(e)))}function Gt(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function Kt(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[];if(r)(a=a.concat(t.slice(0))).push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);for(var i=t.length,o=0;o<i;++o)a=a.concat([e[o+1]/t[o],t[o]]);a=a.concat(e.slice(i+1))}return a}function $t(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];if(n){r.push(t);for(var a=t+1;a<e;++a)a<=2*t?(r.push(a),r.push(a-(t+1))):r.push(a)}else{for(var i=[],o=[],u=1;u<e;++u)u>=2*t+1||u%2===1?o.push(u):i.push(u);r.push.apply(r,i),r.push(0),r.push.apply(r,o)}return r}function Xt(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(var i=1;i<e.length;++i)i<=t.length?r?a.push(t[i-1]*e[i]):a.push(e[i]/t[i-1]):a.push(e[i]);return a}function Yt(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function Jt(e,t,n){for(var r=e.slice(0,1),a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}var Qt=n(275),Zt=.3275911,en=.254829592,tn=-.284496736,nn=1.421413741,rn=-1.453152027,an=1.061405429;function on(){var e;Object(p.c)().getBool("IS_TEST")||(e=console).warn.apply(e,arguments)}function un(){var e;Object(p.c)().getBool("IS_TEST")||(e=console).log.apply(e,arguments)}function sn(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function cn(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function ln(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function fn(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function dn(e,t){return{real:e[2*t],imag:e[2*t+1]}}function hn(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function pn(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),a=0;a<Math.ceil(e/2);a++){var i=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(i),r[a]=Math.sin(i)}return{real:n,imag:r}}function vn(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function mn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)Object(T.b)(e.shape[n]%t===0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(e.shape[n]/t);else{var a=t.reduce((function(e,t){return-1===t&&(e+=1),e}),0);Object(T.b)(a<=1,(function(){return"There should be only one negative value in split array."}));var i=t.indexOf(-1);if(-1!==i){var o=t.reduce((function(e,t){return t>0?e+t:e}));t[i]=e.shape[n]-o}Object(T.b)(e.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t}return r}function gn(e,t){var n,r=!1;for(e<=qt?(n=e,r=!0):n=Object(T.G)(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=Object(T.G)(e,n+1);return n}function bn(e,t,n){for(var r=[],a=e.length,i=0;i<a;i++)i!==t?r.push(e[i]):r.push(n);return r}function yn(e,t,n,r){var a=t.shape.length,i=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error("Expect batchDims in the range of [-".concat(a,", ").concat(a,"], but got ").concat(r));if(r<0&&(r+=a),r>i)throw new Error("batchDims (".concat(r,") must be less than rank(x) (\n    ").concat(i,")."));if(n<r)throw new Error("batchDims (".concat(r,") must be less than or equal to axis (").concat(n,")."));for(var o=0;o<r;++o)if(e.shape[o]!==t.shape[o])throw new Error("x.shape[".concat(o,"]: ").concat(e.shape[o]," should be equal to indices.shape[").concat(o,"]: ").concat(t.shape[o],"."));for(var u=e.shape[n],s=[],c=1,l=1,f=1,d=0;d<r;++d)s.push(e.shape[d]),c*=e.shape[d];for(var h=r;h<n;h++)s.push(e.shape[h]),l*=e.shape[h];for(var p=r;p<a;p++)s.push(t.shape[p]);for(var v=n+1;v<i;v++)s.push(e.shape[v]),f*=e.shape[v];return{batchSize:c,sliceSize:f,outerSize:l,dimSize:u,outputShape:s}}function xn(e){try{return e.map((function(e){return Object(ot.decodeString)(e)}))}catch(En){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(En))}}function _n(e){return e.map((function(e){return Object(ot.encodeString)(e)}))}var wn=n(315),On=n(147),kn=n(348),jn=n(271)},function(e,t,n){"use strict";function r(e,t,n){return e.fields=t||[],e.fname=n,e}function a(e){return null==e?null:e.fname}function i(e){return null==e?null:e.fields}function o(e){return 1===e.length?u(e[0]):s(e)}n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return G})),n.d(t,"f",(function(){return Y})),n.d(t,"g",(function(){return K})),n.d(t,"h",(function(){return X})),n.d(t,"i",(function(){return ee})),n.d(t,"j",(function(){return te})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return ne})),n.d(t,"m",(function(){return re})),n.d(t,"n",(function(){return ae})),n.d(t,"o",(function(){return g})),n.d(t,"p",(function(){return se})),n.d(t,"q",(function(){return f})),n.d(t,"r",(function(){return ce})),n.d(t,"s",(function(){return oe})),n.d(t,"t",(function(){return d})),n.d(t,"u",(function(){return h})),n.d(t,"v",(function(){return le})),n.d(t,"w",(function(){return fe})),n.d(t,"x",(function(){return _})),n.d(t,"y",(function(){return de})),n.d(t,"z",(function(){return he})),n.d(t,"A",(function(){return $})),n.d(t,"B",(function(){return pe})),n.d(t,"C",(function(){return ve})),n.d(t,"D",(function(){return w})),n.d(t,"E",(function(){return me})),n.d(t,"F",(function(){return ge})),n.d(t,"G",(function(){return be})),n.d(t,"H",(function(){return ye})),n.d(t,"I",(function(){return x})),n.d(t,"J",(function(){return xe})),n.d(t,"K",(function(){return _e})),n.d(t,"L",(function(){return k})),n.d(t,"M",(function(){return v})),n.d(t,"N",(function(){return Oe})),n.d(t,"O",(function(){return I})),n.d(t,"P",(function(){return R})),n.d(t,"Q",(function(){return P})),n.d(t,"R",(function(){return B})),n.d(t,"S",(function(){return C})),n.d(t,"T",(function(){return q})),n.d(t,"U",(function(){return ke})),n.d(t,"V",(function(){return l})),n.d(t,"W",(function(){return je})),n.d(t,"X",(function(){return Ee})),n.d(t,"Y",(function(){return Ae})),n.d(t,"Z",(function(){return A})),n.d(t,"ab",(function(){return De})),n.d(t,"bb",(function(){return Se})),n.d(t,"cb",(function(){return Ne})),n.d(t,"db",(function(){return m})),n.d(t,"eb",(function(){return H})),n.d(t,"fb",(function(){return Fe})),n.d(t,"gb",(function(){return p})),n.d(t,"hb",(function(){return L})),n.d(t,"ib",(function(){return U})),n.d(t,"jb",(function(){return W})),n.d(t,"kb",(function(){return V}));var u=function(e){return function(t){return t[e]}},s=function(e){var t=e.length;return function(n){for(var r=0;r<t;++r)n=n[e[r]];return n}};function c(e){throw Error(e)}function l(e){var t,n,r,a=[],i=e.length,o=null,u=0,s="";function l(){a.push(s+e.substring(t,n)),s="",t=n+1}for(e+="",t=n=0;n<i;++n)if("\\"===(r=e[n]))s+=e.substring(t,n),s+=e.substring(++n,++n),t=n;else if(r===o)l(),o=null,u=-1;else{if(o)continue;t===u&&'"'===r||t===u&&"'"===r?(t=n+1,o=r):"."!==r||u?"["===r?(n>t&&l(),u=t=n+1):"]"===r&&(u||c("Access path missing open bracket: "+e),u>0&&l(),u=0,t=n+1):n>t?l():t=n+1}return u&&c("Access path missing closing bracket: "+e),o&&c("Access path missing closing quote: "+e),n>t&&(n++,l()),a}function f(e,t,n){var a=l(e);return e=1===a.length?a[0]:e,r((n&&n.get||o)(a),[e],t||e)}var d=f("id"),h=r((function(e){return e}),[],"identity"),p=r((function(){return 0}),[],"zero"),v=r((function(){return 1}),[],"one"),m=r((function(){return!0}),[],"true"),g=r((function(){return!1}),[],"false");function b(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}var y=1;function x(e,t){var n=e||0;return{level:function(e){return arguments.length?(n=+e,this):n},error:function(){return n>=y&&b(t||"error","ERROR",arguments),this},warn:function(){return n>=2&&b(t||"warn","WARN",arguments),this},info:function(){return n>=3&&b(t||"log","INFO",arguments),this},debug:function(){return n>=4&&b(t||"log","DEBUG",arguments),this}}}var _=Array.isArray;function w(e){return e===Object(e)}var O=function(e){return"__proto__"!==e};function k(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)if("signals"===n)e.signals=E(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;j(e,n,t[n],r)}return e}),{})}function j(e,t,n,r){var a,i;if(O(t))if(w(n)&&!_(n))for(a in i=w(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[a])?j(i,a,n[a]):O(a)&&(i[a]=n[a]);else e[t]=n}function E(e,t){if(null==e)return t;var n={},r=[];function a(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(a),e.forEach(a),r}function C(e){return e[e.length-1]}function A(e){return null==e||""===e?null:+e}var S=function(e){return function(t){return e*Math.exp(t)}},D=function(e){return function(t){return Math.log(e*t)}},N=function(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}},F=function(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}},T=function(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}};function M(e,t,n,r){var a=n(e[0]),i=n(C(e)),o=(i-a)*t;return[r(a-o),r(i-o)]}function I(e,t){return M(e,t,A,h)}function R(e,t){var n=Math.sign(e[0]);return M(e,t,D(n),S(n))}function P(e,t,n){return M(e,t,T(n),T(1/n))}function B(e,t,n){return M(e,t,N(n),F(n))}function z(e,t,n,r,a){var i=r(e[0]),o=r(C(e)),u=null!=t?r(t):(i+o)/2;return[a(u+(i-u)*n),a(u+(o-u)*n)]}function L(e,t,n){return z(e,t,n,A,h)}function U(e,t,n){var r=Math.sign(e[0]);return z(e,t,n,D(r),S(r))}function W(e,t,n,r){return z(e,t,n,T(r),T(1/r))}function V(e,t,n,r){return z(e,t,n,N(r),F(r))}function q(e){return 1+~~(new Date(e).getMonth()/3)}function H(e){return 1+~~(new Date(e).getUTCMonth()/3)}function G(e){return null!=e?_(e)?e:[e]:[]}function K(e,t,n){var r,a=e[0],i=e[1];return i<a&&(r=i,i=a,a=r),(r=i-a)>=n-t?[t,n]:[a=Math.min(Math.max(a,t),n-r),a+r]}function $(e){return"function"===typeof e}function X(e,t,n){n=n||{},t=G(t)||[];var a=[],o=[],u={},s=n.comparator||J;return G(e).forEach((function(e,r){null!=e&&(a.push("descending"===t[r]?-1:1),o.push(e=$(e)?e:f(e,null,n)),(i(e)||[]).forEach((function(e){return u[e]=1})))})),0===o.length?null:r(s(o,a),Object.keys(u))}var Y=function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0)},J=function(e,t){return 1===e.length?Q(e[0],t[0]):Z(e,t,e.length)},Q=function(e,t){return function(n,r){return Y(e(n),e(r))*t}},Z=function(e,t,n){return t.push(0),function(r,a){for(var i,o=0,u=-1;0===o&&++u<n;)i=e[u],o=Y(i(r),i(a));return o*t[u]}};function ee(e){return $(e)?e:function(){return e}}function te(e,t){var n;return function(r){n&&clearTimeout(n),n=setTimeout((function(){return t(r),n=null}),e)}}function ne(e){for(var t,n,r=1,a=arguments.length;r<a;++r)for(n in t=arguments[r])e[n]=t[n];return e}function re(e,t){var n,r,a,i,o=0;if(e&&(n=e.length))if(null==t){for(r=e[o];o<n&&(null==r||r!==r);r=e[++o]);for(a=i=r;o<n;++o)null!=(r=e[o])&&(r<a&&(a=r),r>i&&(i=r))}else{for(r=t(e[o]);o<n&&(null==r||r!==r);r=t(e[++o]));for(a=i=r;o<n;++o)null!=(r=t(e[o]))&&(r<a&&(a=r),r>i&&(i=r))}return[a,i]}function ae(e,t){var n,r,a,i,o,u=e.length,s=-1;if(null==t){for(;++s<u;)if(null!=(r=e[s])&&r>=r){n=a=r;break}if(s===u)return[-1,-1];for(i=o=s;++s<u;)null!=(r=e[s])&&(n>r&&(n=r,i=s),a<r&&(a=r,o=s))}else{for(;++s<u;)if(null!=(r=t(e[s],s,e))&&r>=r){n=a=r;break}if(s===u)return[-1,-1];for(i=o=s;++s<u;)null!=(r=t(e[s],s,e))&&(n>r&&(n=r,i=s),a<r&&(a=r,o=s))}return[i,o]}var ie=Object.prototype.hasOwnProperty;function oe(e,t){return ie.call(e,t)}var ue={};function se(e){var t,n={};function r(e){return oe(n,e)&&n[e]!==ue}var a={size:0,empty:0,object:n,has:r,get:function(e){return r(e)?n[e]:void 0},set:function(e,t){return r(e)||(++a.size,n[e]===ue&&--a.empty),n[e]=t,this},delete:function(e){return r(e)&&(--a.size,++a.empty,n[e]=ue),this},clear:function(){a.size=a.empty=0,a.object=n={}},test:function(e){return arguments.length?(t=e,a):t},clean:function(){var e={},r=0;for(var i in n){var o=n[i];o===ue||t&&t(o)||(e[i]=o,++r)}a.size=r,a.empty=0,a.object=n=e}};return e&&Object.keys(e).forEach((function(t){a.set(t,e[t])})),a}function ce(e,t,n,r,a,i){if(!n&&0!==n)return i;var o,u=+n,s=e[0],c=C(e);c<s&&(o=s,s=c,c=o),o=Math.abs(t-s);var l=Math.abs(c-t);return o<l&&o<=u?r:l<=u?a:i}function le(e,t,n){var r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),ne(r,n)}function fe(e,t,n,r){var a,i=t[0],o=t[t.length-1];return i>o&&(a=i,i=o,o=a),r=void 0===r||r,((n=void 0===n||n)?i<=e:i<e)&&(r?e<=o:e<o)}function de(e){return"boolean"===typeof e}function he(e){return"[object Date]"===Object.prototype.toString.call(e)}function pe(e){return e&&$(e[Symbol.iterator])}function ve(e){return"number"===typeof e}function me(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function ge(e){return"string"===typeof e}function be(e,t,n){e&&(e=t?G(e).map((function(e){return e.replace(/\\(.)/g,"$1")})):G(e));var a,i=e&&e.length,u=n&&n.get||o,s=function(e){return u(t?[e]:l(e))};if(i)if(1===i){var c=s(e[0]);a=function(e){return""+c(e)}}else{var f=e.map(s);a=function(e){for(var t=""+f[0](e),n=0;++n<i;)t+="|"+f[n](e);return t}}else a=function(){return""};return r(a,e,"key")}function ye(e,t){var n=e[0],r=C(e),a=+t;return a?1===a?r:n+a*(r-n):n}function xe(e){var t,n,r;e=+e||1e4;var a=function(){t={},n={},r=0},i=function(a,i){return++r>e&&(n=t,t={},r=1),t[a]=i};return a(),{clear:a,has:function(e){return oe(t,e)||oe(n,e)},get:function(e){return oe(t,e)?t[e]:oe(n,e)?i(e,n[e]):void 0},set:function(e,n){return oe(t,e)?t[e]=n:i(e,n)}}}function _e(e,t,n,r){var a=t.length,i=n.length;if(!i)return t;if(!a)return n;for(var o=r||new t.constructor(a+i),u=0,s=0,c=0;u<a&&s<i;++c)o[c]=e(t[u],n[s])>0?n[s++]:t[u++];for(;u<a;++u,++c)o[c]=t[u];for(;s<i;++s,++c)o[c]=n[s];return o}function we(e,t){for(var n="";--t>=0;)n+=e;return n}function Oe(e,t,n,r){var a=n||" ",i=e+"",o=t-i.length;return o<=0?i:"left"===r?we(a,o)+i:"center"===r?we(a,~~(o/2))+i+we(a,Math.ceil(o/2)):i+we(a,o)}function ke(e){return e&&C(e)-e[0]||0}function je(e){return _(e)?"["+e.map(je)+"]":w(e)||ge(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function Ee(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e}var Ce=function(e){return ve(e)||he(e)?e:Date.parse(e)};function Ae(e,t){return t=t||Ce,null==e||""===e?null:t(e)}function Se(e){return null==e||""===e?null:e+""}function De(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return t}function Ne(e,t,n,r){var a=null!=r?r:"\u2026",i=e+"",o=i.length,u=Math.max(0,t-a.length);return o<=t?i:"left"===n?a+i.slice(o-u):"center"===n?i.slice(0,Math.ceil(u/2))+a+i.slice(o-~~(u/2)):i.slice(0,u)+a}function Fe(e,t,n){if(e)if(t)for(var r=e.length,a=0;a<r;++a){var i=t(e[a]);i&&n(i,a,e)}else e.forEach(n)}},function(e,t,n){e.exports=n(643)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=n(637)},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return d}));var r=n(6),a=n(0);function i(e,t,n,r,i){var u=t.inputParams[e];if(u&&void 0!==u.inputIndexStart){var s=u.inputIndexStart,c=0===u.inputIndexEnd?void 0:void 0===u.inputIndexEnd?s+1:u.inputIndexEnd;if("tensor"===u.type)return o(t.inputNames[u.inputIndexStart],n,r,i);if("tensors"===u.type)return t.inputNames.slice(s,c).map((function(e){return o(e,n,r,i)}));var l=o(t.inputNames.slice(s)[0],n,r,i),f=l.dataSync();return"number"===u.type?f[0]:a.util.toNestedArray(l.shape,f)}var d=t.attrParams[e];return d&&d.value}function o(e,t,n,a){var i=l(e),o=Object(r.a)(i,2),u=o[0],s=o[1];if(null!=a){var f=a.getHashTableHandleByName(u);if(null!=f)return f}var d=n.currentContextIds.find((function(e){return!!t[c(u,e)]}));return void 0!==d?t[c(u,d)][s]:void 0}function u(e,t,n){return t[c(e,n.currentContextId)]}function s(e,t){var n=l(e),a=Object(r.a)(n,2),i=a[0],o=a[1];return[c(i,t&&t.currentContextId),o]}function c(e,t){return t?"".concat(e,"-").concat(t):e}function l(e){var t=e.split(":");return 1===t.length?[e,0]:[t[0],Number(t[t.length-1])]}function f(e,t,n){var r=i("pad",e,t,n);if("explicit"===r){r=i("explicitPaddings",e,t,n);for(var a=[[0,0],[0,0],[0,0],[0,0]],o=0;o<4;o++)a[o][0]=r[2*o],a[o][1]=r[2*o+1];return a}return r}function d(e){return e.kept?e:Object(a.clone)(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(355);var a=n(178),i=n(356);function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,i=s}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}}(e,t)||Object(a.a)(e,t)||Object(i.a)()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return p})),n.d(t,"n",(function(){return v})),n.d(t,"m",(function(){return m})),n.d(t,"o",(function(){return g})),n.d(t,"r",(function(){return b})),n.d(t,"p",(function(){return y})),n.d(t,"q",(function(){return x})),n.d(t,"s",(function(){return _})),n.d(t,"t",(function(){return w})),n.d(t,"u",(function(){return O})),n.d(t,"v",(function(){return k})),n.d(t,"w",(function(){return j})),n.d(t,"x",(function(){return E})),n.d(t,"y",(function(){return C})),n.d(t,"z",(function(){return A})),n.d(t,"A",(function(){return S})),n.d(t,"B",(function(){return D})),n.d(t,"C",(function(){return N})),n.d(t,"D",(function(){return F})),n.d(t,"E",(function(){return T})),n.d(t,"F",(function(){return M})),n.d(t,"G",(function(){return I})),n.d(t,"H",(function(){return R})),n.d(t,"I",(function(){return P})),n.d(t,"J",(function(){return B})),n.d(t,"L",(function(){return z})),n.d(t,"K",(function(){return L})),n.d(t,"M",(function(){return U})),n.d(t,"N",(function(){return W})),n.d(t,"O",(function(){return V})),n.d(t,"P",(function(){return q})),n.d(t,"Q",(function(){return H})),n.d(t,"R",(function(){return G})),n.d(t,"S",(function(){return K})),n.d(t,"U",(function(){return $})),n.d(t,"T",(function(){return X})),n.d(t,"kc",(function(){return Y})),n.d(t,"V",(function(){return J})),n.d(t,"W",(function(){return Q})),n.d(t,"Y",(function(){return Z})),n.d(t,"X",(function(){return ee})),n.d(t,"Z",(function(){return te})),n.d(t,"ab",(function(){return ne})),n.d(t,"bb",(function(){return re})),n.d(t,"cb",(function(){return ae})),n.d(t,"db",(function(){return ie})),n.d(t,"eb",(function(){return oe})),n.d(t,"fb",(function(){return ue})),n.d(t,"gb",(function(){return se})),n.d(t,"ib",(function(){return ce})),n.d(t,"mb",(function(){return le})),n.d(t,"lb",(function(){return fe})),n.d(t,"nb",(function(){return de})),n.d(t,"ob",(function(){return he})),n.d(t,"qb",(function(){return pe})),n.d(t,"pb",(function(){return ve})),n.d(t,"rb",(function(){return me})),n.d(t,"sb",(function(){return ge})),n.d(t,"tb",(function(){return be})),n.d(t,"ub",(function(){return ye})),n.d(t,"xb",(function(){return xe})),n.d(t,"yb",(function(){return _e})),n.d(t,"zb",(function(){return we})),n.d(t,"Ab",(function(){return Oe})),n.d(t,"Bb",(function(){return ke})),n.d(t,"Cb",(function(){return je})),n.d(t,"Eb",(function(){return Ee})),n.d(t,"Fb",(function(){return Ce})),n.d(t,"Gb",(function(){return Ae})),n.d(t,"Db",(function(){return Se})),n.d(t,"vb",(function(){return De})),n.d(t,"wb",(function(){return Ne})),n.d(t,"Hb",(function(){return Fe})),n.d(t,"Nb",(function(){return Te})),n.d(t,"Ib",(function(){return Me})),n.d(t,"Lb",(function(){return Ie})),n.d(t,"Jb",(function(){return Re})),n.d(t,"Kb",(function(){return Pe})),n.d(t,"Mb",(function(){return Be})),n.d(t,"Ob",(function(){return ze})),n.d(t,"Pb",(function(){return Le})),n.d(t,"Qb",(function(){return Ue})),n.d(t,"Rb",(function(){return We})),n.d(t,"Sb",(function(){return Ve})),n.d(t,"Tb",(function(){return qe})),n.d(t,"Ub",(function(){return He})),n.d(t,"Vb",(function(){return Ge})),n.d(t,"Zb",(function(){return Ke})),n.d(t,"Wb",(function(){return $e})),n.d(t,"Xb",(function(){return Xe})),n.d(t,"Yb",(function(){return Ye})),n.d(t,"bc",(function(){return Je})),n.d(t,"ac",(function(){return Qe})),n.d(t,"cc",(function(){return Ze})),n.d(t,"dc",(function(){return et})),n.d(t,"ec",(function(){return tt})),n.d(t,"fc",(function(){return nt})),n.d(t,"gc",(function(){return rt})),n.d(t,"hc",(function(){return at})),n.d(t,"ic",(function(){return it})),n.d(t,"jc",(function(){return ot})),n.d(t,"lc",(function(){return ut})),n.d(t,"mc",(function(){return st})),n.d(t,"oc",(function(){return ct})),n.d(t,"rc",(function(){return lt})),n.d(t,"sc",(function(){return ft})),n.d(t,"pc",(function(){return dt})),n.d(t,"qc",(function(){return ht})),n.d(t,"nc",(function(){return pt})),n.d(t,"tc",(function(){return vt})),n.d(t,"vc",(function(){return mt})),n.d(t,"wc",(function(){return gt})),n.d(t,"xc",(function(){return bt})),n.d(t,"yc",(function(){return yt})),n.d(t,"zc",(function(){return xt})),n.d(t,"Ec",(function(){return _t})),n.d(t,"Cc",(function(){return wt})),n.d(t,"Dc",(function(){return Ot})),n.d(t,"Bc",(function(){return kt})),n.d(t,"Ac",(function(){return jt})),n.d(t,"Gc",(function(){return Et})),n.d(t,"Kc",(function(){return Ct})),n.d(t,"Qc",(function(){return At})),n.d(t,"Hc",(function(){return St})),n.d(t,"Jc",(function(){return Dt})),n.d(t,"Fc",(function(){return Nt})),n.d(t,"Mc",(function(){return Ft})),n.d(t,"Lc",(function(){return Tt})),n.d(t,"Pc",(function(){return Mt})),n.d(t,"Ic",(function(){return It})),n.d(t,"Oc",(function(){return Rt})),n.d(t,"Rc",(function(){return Pt})),n.d(t,"Sc",(function(){return Bt})),n.d(t,"Tc",(function(){return zt})),n.d(t,"Uc",(function(){return Lt})),n.d(t,"Vc",(function(){return Ut})),n.d(t,"Wc",(function(){return Wt})),n.d(t,"Xc",(function(){return Vt})),n.d(t,"Yc",(function(){return qt})),n.d(t,"Zc",(function(){return Ht})),n.d(t,"ad",(function(){return Gt})),n.d(t,"Nc",(function(){return Kt})),n.d(t,"hb",(function(){return $t})),n.d(t,"uc",(function(){return Xt})),n.d(t,"bd",(function(){return Yt})),n.d(t,"jb",(function(){return Jt})),n.d(t,"kb",(function(){return Qt}));var r="Abs",a="Acos",i="Acosh",o="Add",u="AddN",s="All",c="Any",l="ArgMax",f="ArgMin",d="Asin",h="Asinh",p="Atan",v="Atanh",m="Atan2",g="AvgPool",b="AvgPoolGrad",y="AvgPool3D",x="AvgPool3DGrad",_="BatchMatMul",w="BatchToSpaceND",O="Bincount",k="BroadcastTo",j="Cast",E="Ceil",C="ClipByValue",A="Complex",S="ComplexAbs",D="Concat",N="Conv2D",F="Conv2DBackpropFilter",T="Conv2DBackpropInput",M="Conv3D",I="Conv3DBackpropFilterV2",R="Conv3DBackpropInputV2",P="Cos",B="Cosh",z="Cumsum",L="CropAndResize",U="DenseBincount",W="DepthToSpace",V="DepthwiseConv2dNative",q="DepthwiseConv2dNativeBackpropFilter",H="DepthwiseConv2dNativeBackpropInput",G="Diag",K="Dilation2D",$="Dilation2DBackpropInput",X="Dilation2DBackpropFilter",Y="RealDiv",J="Elu",Q="EluGrad",Z="Erf",ee="Equal",te="Exp",ne="ExpandDims",re="Expm1",ae="FFT",ie="Fill",oe="FlipLeftRight",ue="Floor",se="FloorDiv",ce="FusedBatchNorm",le="GatherV2",fe="GatherNd",de="Greater",he="GreaterEqual",pe="Identity",ve="IFFT",me="Imag",ge="IsFinite",be="IsInf",ye="IsNan",xe="LeakyRelu",_e="Less",we="LessEqual",Oe="LinSpace",ke="Log",je="Log1p",Ee="LogicalAnd",Ce="LogicalNot",Ae="LogicalOr",Se="LogSoftmax",De="LRN",Ne="LRNGrad",Fe="Max",Te="Maximum",Me="MaxPool",Ie="MaxPoolGrad",Re="MaxPool3D",Pe="MaxPool3DGrad",Be="MaxPoolWithArgmax",ze="Mean",Le="Min",Ue="Minimum",We="MirrorPad",Ve="Mod",qe="Multinomial",He="Multiply",Ge="Neg",Ke="NotEqual",$e="NonMaxSuppressionV3",Xe="NonMaxSuppressionV4",Ye="NonMaxSuppressionV5",Je="OnesLike",Qe="OneHot",Ze="Pack",et="PadV2",tt="Pool",nt="Pow",rt="Prelu",at="Prod",it="Range",ot="Real",ut="Reciprocal",st="Relu",ct="Reshape",lt="ResizeNearestNeighbor",ft="ResizeNearestNeighborGrad",dt="ResizeBilinear",ht="ResizeBilinearGrad",pt="Relu6",vt="Reverse",mt="Round",gt="Rsqrt",bt="ScatterNd",yt="Select",xt="Selu",_t="Slice",wt="Sin",Ot="Sinh",kt="Sign",jt="Sigmoid",Et="Softplus",Ct="Sqrt",At="Sum",St="SpaceToBatchND",Dt="SplitV",Nt="Softmax",Ft="SquaredDifference",Tt="Square",Mt="Sub",It="SparseToDense",Rt="StridedSlice",Pt="Tan",Bt="Tanh",zt="Tile",Lt="TopK",Ut="Transform",Wt="Transpose",Vt="Unique",qt="Unpack",Ht="UnsortedSegmentSum",Gt="ZerosLike",Kt="Step",$t="FromPixels",Xt="RotateWithOffset",Yt="_FusedMatMul",Jt="FusedConv2D",Qt="FusedDepthwiseConv2D"},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d}));var r=n(12),a=n(42),i=n(18),o=n(20),u=n(24);function s(e,t){var n=e;if(Object(o.A)(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||Object(o.A)(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&Object(a.c)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&c(e,r,[]),r}function c(e,t,n){if(n=n||[],Array.isArray(e)||Object(o.A)(e)){Object(o.b)(t.length>0,(function(){return"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements")})),Object(o.b)(e.length===t[0],(function(){return"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements")}));for(var r=t.slice(1),a=0;a<e.length;++a)c(e[a],r,n.concat(a))}else Object(o.b)(0===t.length,(function(){return"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")}))}function l(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function f(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof i.a)return l(a,e.dtype,t,n),e;var c=Object(o.r)(e);if("string"!==c&&["bool","int32","float32"].indexOf(a)>=0&&(c=a),l(a,c,t,n),null==e||!Object(o.A)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){var f=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(f,"'"))}var d=s(e,c);Object(o.A)(e)||Array.isArray(e)||(e=[e]);var h=!0,p="string"!==c?Object(u.toTypedArray)(e,c):Object(o.m)(e,[],h);return r.a.makeTensor(p,d,c)}function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");var a=e;return a.map((function(e,a){return f(e,"".concat(t,"[").concat(a,"]"),n,r)}))}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(178);function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(12),a=n(20),i="__op";function o(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));var n=t[0],o=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=i;var u=function(){r.a.startScope(n);try{var e=o.apply(void 0,arguments);return Object(a.x)(e)&&console.error("Cannot return a Promise inside of tidy."),r.a.endScope(e),e}catch(t){throw r.a.endScope(null),t}};return Object.defineProperty(u,"name",{value:n,configurable:!0}),u}},function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return A}));var r=n(10),a=n(14),i=n(2),o=n.n(i),u=n(13),s=n(3),c=n(9),l=n(271),f=n(42),d=n(195),h=n(7),p=n(113),v=n(24),m=n(20),g=function(){function e(t,n){Object(s.a)(this,e),this.backendTimer=t,this.logger=n,null==n&&(this.logger=new b)}return Object(c.a)(e,[{key:"profileKernel",value:function(e,t,n){var a,i,o=function(){a=n()},u=v.now();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(o);else{o();var s,c=Object(r.a)(a);try{for(c.s();!(s=c.n()).done;){s.value.dataSync()}}catch(h){c.e(h)}finally{c.f()}i=Promise.resolve({kernelMs:v.now()-u})}if(Object(f.c)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var l=function(t){var n=a[t];n.data().then((function(t){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var a=e[r];if(isNaN(a)||!isFinite(a))return console.warn("Found ".concat(a," in the result of '").concat(n,"'")),!0}}(t,n.dtype,e)}))},d=0;d<a.length;d++)l(d);return{kernelName:e,outputs:a,inputs:t,timeMs:i.then((function(e){return e.kernelMs})),extraInfo:i.then((function(e){return null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""}))}}},{key:"logKernelProfile",value:function(e){var t=this,n=e.kernelName,r=e.outputs,a=e.timeMs,i=e.inputs,o=e.extraInfo;r.forEach((function(e){Promise.all([e.data(),a,o]).then((function(r){t.logger.logKernelProfile(n,e,r[0],r[1],i,r[2])}))}))}}]),e}();var b=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"logKernelProfile",value:function(e,t,n,r,a,i){var o="number"===typeof r?m.L("".concat(r,"ms"),9):r.error,u=m.L(e,25),s=t.rank,c=t.size,l=m.L(t.shape.toString(),14),f="";for(var d in a){var h=a[d];if(null!=h){var p=h.shape||t.shape,v=p.length;f+="".concat(d,": ").concat(v,"D ").concat(v>0?p:""," ")}}console.log("%c".concat(u,"\t%c").concat(o,"\t%c").concat(s,"D ").concat(l,"\t%c").concat(c,"\t%c").concat(f,"\t%c").concat(i),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),e}();function y(e,t,n){for(var r={},a={},i=0;i<t.length;i++)r[t[i].id]=!0;for(var o=0;o<e.length;o++){var u=e[o],s=u.inputs;for(var c in s){for(var l=s[c],f=!1,d=0;d<t.length;d++)if(r[l.id]){u.outputs.forEach((function(e){return r[e.id]=!0})),f=!0,a[u.id]=!0;break}if(f)break}}var h={};h[n.id]=!0;for(var p={},v=e.length-1;v>=0;v--)for(var m=e[v],g=m.inputs,b=0;b<m.outputs.length;b++)if(h[m.outputs[b].id]){for(var y in g)h[g[y].id]=!0,p[m.id]=!0;break}for(var x=[],_=0;_<e.length;_++){var w=e[_];if(a[w.id]&&p[w.id]){var O={};for(var k in w.inputs){var j=w.inputs[k];r[j.id]&&(O[k]=j)}var E=Object.assign({},w);E.inputs=O,E.outputs=w.outputs,x.push(E)}}return x}function x(e,t,n,r){for(var a=function(a){var i=t[a],o=[];if(i.outputs.forEach((function(t){var n=e[t.id];null!=n?o.push(n):o.push(null)})),null==i.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(i.kernelName,"."));var u=i.gradient(o),s=function(t){if(!(t in u))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(u),"."));var a=n((function(){return u[t]()}));if("float32"!==a.dtype)throw new Error("Error in gradient for op ".concat(i.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(a.dtype,"'"));var o=i.inputs[t];if(!m.a(a.shape,o.shape))throw new Error("Error in gradient for op ".concat(i.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(a.shape,"', which does not match ")+"the shape of the input '".concat(o.shape,"'"));if(null==e[o.id])e[o.id]=a;else{var s=e[o.id];e[o.id]=r(s,a),s.dispose()}};for(var c in i.inputs)s(c)},i=t.length-1;i>=0;i--)a(i)}var _=n(18),w=n(44);function O(e){return null!=e.kernelName}var k=function(){function e(){Object(s.a)(this,e),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((function(e){return e.name}))))}}}return Object(c.a)(e,[{key:"dispose",value:function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()}}]),e}(),j=function(){function e(t){Object(s.a)(this,e),this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new k}return Object(c.a)(e,[{key:"ready",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.pendingBackendInit){e.next=2;break}return e.abrupt("return",this.pendingBackendInit.then((function(){})));case 2:if(null==this.backendInstance){e.next=4;break}return e.abrupt("return");case 4:t=this.getSortedBackends(),n=0;case 6:if(!(n<t.length)){e.next=18;break}return r=t[n],e.next=10,this.initializeBackend(r).success;case 10:if(!e.sent){e.next=15;break}return e.next=14,this.setBackend(r);case 14:return e.abrupt("return");case 15:n++,e.next=6;break;case 18:throw new Error("Could not initialize any backends, all backend initializations failed.");case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '".concat(t,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance}},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]}},{key:"findBackendFactory",value:function(e){return e in this.registryFactory?this.registryFactory[e].factory:null}},{key:"registerBackend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(console.warn("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}},{key:"setBackend",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.registryFactory[t]){e.next=2;break}throw new Error("Backend name '".concat(t,"' not found in registry"));case 2:if(this.backendName=t,null!=this.registry[t]){e.next=16;break}if(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,!n.asyncInit){e.next=12;break}return e.next=9,r;case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=r;case 13:if(e.t0){e.next=16;break}return e.abrupt("return",!1);case 16:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new g(this.backendInstance),e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupRegisteredKernels",value:function(){var e=this;Object(p.d)(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))}},{key:"disposeRegisteredKernels",value:function(e){var t=this;Object(p.d)(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))}},{key:"initializeBackend",value:function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{var r=n.factory();if(!r||r instanceof l.b||"function"!==typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};var a=++this.pendingBackendInitId,i=r.then((function(n){return!(a<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return a<t.pendingBackendInitId||(t.pendingBackendInit=null,console.warn("Initialization of backend ".concat(e," failed")),console.warn(n.stack||n.message)),!1}));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}catch(o){return console.warn("Initialization of backend ".concat(e," failed")),console.warn(o.stack||o.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))}},{key:"initializeBackendsAndReturnBest",value:function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),a=r.success,i=r.asyncInit;if(i||a)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),i=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(e,t){var n,r=this,a=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun((function(){return r.startScope(a)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))}},{key:"scopedRun",value:function(e,t,n){e();try{var r=n();return t(),r}catch(a){throw t(),a}}},{key:"nextTensorId",value:function(){return e.nextTensorId++}},{key:"nextVariableId",value:function(){return e.nextVariableId++}},{key:"clone",value:function(e){var t=A.runKernel(h.qb,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){var t={x:e},n={dtype:"float32"};return A.runKernel(h.w,t,n)}}}),[],{}),t}},{key:"runKernel",value:function(e,t,n){if(!(null!=Object(p.c)(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(e,t,n){var r=this.backend.numDataIds(),a=0;n.forEach((function(e){a+="complex64"===e.dtype?3:1}));var i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-a-i;if(o>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(o," data ids) after running '").concat(e,"'"))}},{key:"runKernelFunc",value:function(e){var t,n,r,a=this,i=[],o=this.isTapeOn(),u=this.state.numBytes,s=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;var c=O(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(O(e)){var l=e.kernelName,f=e.inputs,d=e.attrs;null==this.backendName&&this.backend;var h=Object(p.c)(l,this.backendName);m.b(null!=h,(function(){return"Cannot find registered kernel '".concat(l,"' for backend '").concat(a.backendName,"'")})),n=function(){var e=a.backend.numDataIds();r=h.kernelFunc({inputs:f,attrs:d,backend:a.backend});var t=Array.isArray(r)?r:[r];a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(l,e,t);var n=t.map((function(e){if(null!=e.rank)return e;var t=e.dataId,n=e.shape,r=e.dtype;return a.makeTensorFromDataId(t,n,r)}));if(o){var u=a.getTensorsForGradient(l,f,n);i=a.saveTensorsForBackwardMode(u)}return n}}else{var v=e.forwardFunc,g=function(e){o&&(i=e.map((function(e){return a.keep(a.clone(e))})))};n=function(){var e=a.backend.numDataIds();r=a.tidy((function(){return v(a.backend,g)}));var t=Array.isArray(r)?r:[r];return a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(c,e,t),t}}var b,y=e.inputs,x=e.attrs,_=O(e)?null:e.backwardsFunc;return this.scopedRun((function(){return a.state.kernelDepth++}),(function(){return a.state.kernelDepth--}),(function(){a.ENV.getBool("DEBUG")||a.state.profiling?(b=a.profiler.profileKernel(c,y,(function(){return n()})),a.ENV.getBool("DEBUG")&&a.profiler.logKernelProfile(b),t=b.outputs):t=n()})),o&&this.addTapeNode(c,y,t,_,i,x),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-u,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-s,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(y).map((function(e){return null!=y[e]?y[e].shape:null})),outputShapes:t.map((function(e){return e.shape})),kernelTimeMs:b.timeMs,extraInfo:b.extraInfo}),Array.isArray(r)?t:t[0]}},{key:"saveTensorsForBackwardMode",value:function(e){var t=this;return e.map((function(e){return t.keep(t.clone(e))}))}},{key:"getTensorsForGradient",value:function(e,t,n){var r=Object(p.b)(e);if(null!=r){var a,i=r.inputsToSave||[],o=r.outputsToSave||[];r.saveAllInputs?(m.b(Array.isArray(t),(function(){return"saveAllInputs is true, expected inputs to be an array."})),a=Object.keys(t).map((function(e){return t[e]}))):a=i.map((function(e){return t[e]}));var u=n.filter((function(e,t){return o[t]}));return a.concat(u)}return[]}},{key:"makeTensor",value:function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var a=e;"string"===n&&m.z(e[0])&&(a=e.map((function(e){return v.encodeString(e)})));var i=r.write(a,t,n),o=new _.a(t,n,i,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){var u=this.state.tensorInfo.get(i),s=Object(m.f)(a);this.state.numBytes+=s-u.bytes,u.bytes=s}return o}},{key:"makeTensorFromDataId",value:function(e,t,n,r){n=n||"float32";var a=new _.a(t,n,e,this.nextTensorId());return this.trackTensor(a,r),a}},{key:"makeVariable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));var a=new _.c(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error("Variable with name ".concat(a.name," was already registered"));return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}},{key:"trackTensor",value:function(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;var n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*m.g(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof _.c||this.track(e)}},{key:"incRef",value:function(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}},{key:"removeDataId",value:function(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}},{key:"disposeTensor",value:function(e){if(this.state.tensorInfo.has(e.dataId)){var t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){var n=e.size*m.g(e.dtype);this.state.numBytes-=n}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}}},{key:"disposeVariables",value:function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}}},{key:"disposeVariable",value:function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}},{key:"memory",value:function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}},{key:"profile",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,i,u,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.profiling=!0,n=this.state.numBytes,i=this.state.numTensors,this.state.activeProfile.kernels=[],e.next=6,t();case 6:this.state.activeProfile.result=e.sent,this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,Object(a.a)(this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot})))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-i,u=Object(r.a)(this.state.activeProfile.kernels),e.prev=12,u.s();case 14:if((s=u.n()).done){e.next=24;break}return c=s.value,e.next=18,c.kernelTimeMs;case 18:return c.kernelTimeMs=e.sent,e.next=21,c.extraInfo;case 21:c.extraInfo=e.sent;case 22:e.next=14;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(12),u.e(e.t0);case 29:return e.prev=29,u.f(),e.finish(29);case 32:return e.abrupt("return",this.state.activeProfile);case 33:case"end":return e.stop()}}),e,this,[[12,26,29,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(e,t,n,r,a,i){var o=this,u={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},s=Object(p.b)(e);null!=s&&(r=s.gradFunc),null!=r&&(u.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],a=m.F(r.size,r.dtype);return o.makeTensor(a,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],a,i)}),this.state.activeTape.push(u)}},{key:"keep",value:function(e){return e.kept=!0,e}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}},{key:"endScope",value:function(e){for(var t=this,n=Object(w.getTensorsInContainer)(e),r=new Set(n.map((function(e){return e.id}))),a=0;a<this.state.activeScope.track.length;a++){var i=this.state.activeScope.track[a];i.kept||r.has(i.id)||i.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==o.id||t.track(e)}))}},{key:"gradients",value:function(e,t,n){var a=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(m.b(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));var o=this.scopedRun((function(){return a.startTape()}),(function(){return a.endTape()}),(function(){return a.tidy("forward",e)}));m.b(o instanceof _.a,(function(){return"The result y returned by f() must be a tensor."}));var u=y(this.state.activeTape,t,o);if(!i&&0===u.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e={};e[o.id]=null==n?E(o.shape):n,x(e,u,(function(e){return a.tidy(e)}),S);var i=t.map((function(t){return e[t.id]}));return 0===a.state.gradientDepth&&(a.state.activeTape.forEach((function(e){var t,n=Object(r.a)(e.saved);try{for(n.s();!(t=n.n()).done;){t.value.dispose()}}catch(a){n.e(a)}finally{n.f()}})),a.state.activeTape=null),{value:o,grads:i}}))}},{key:"customGrad",value:function(e){var t=this;return m.b(m.u(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i;m.b(r.every((function(e){return e instanceof _.a})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var o={};r.forEach((function(e,t){o[t]=e}));var u=function(t,n){return i=e.apply(void 0,[].concat(r,[n])),m.b(i.value instanceof _.a,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),m.b(m.u(i.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),i.value},s=function(e,t){var n=i.gradFunc(e,t),a=Array.isArray(n)?n:[n];m.b(a.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),m.b(a.every((function(e){return e instanceof _.a})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var o={};return a.forEach((function(e,t){o[t]=function(){return e}})),o};return t.runKernelFunc({forwardFunc:u,backwardsFunc:s,inputs:o})}}},{key:"readSync",value:function(e){return this.state.tensorInfo.get(e).backend.readSync(e)}},{key:"read",value:function(e){return this.state.tensorInfo.get(e).backend.read(e)}},{key:"time",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(v.now)(),e.next=3,this.backend.time(t);case 3:return(r=e.sent).wallMs=Object(v.now)()-n,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"track",value:function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}},{key:"reset",value:function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new k,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}]),e}();function E(e){var t=Object(m.D)(Object(m.O)(e),"float32");return A.makeTensor(t,e,"float32")}function C(){var e=Object(d.b)();if(null==e._tfengine){var t=new f.b(e);e._tfengine=new j(t)}return Object(f.d)(e._tfengine.ENV),Object(_.g)((function(){return e._tfengine})),e._tfengine}j.nextTensorId=0,j.nextVariableId=0;var A=C();function S(e,t){var n={a:e,b:t};return A.runKernel(h.d,n)}},function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){try{var u=e[i](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function u(e){r(o,a,i,u,s,"next",e)}function s(e){r(o,a,i,u,s,"throw",e)}u(void 0)}))}}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(279);var a=n(354),i=n(178);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(a.a)(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(239);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(30),a=n(353),i=n(381);function o(e){var t=Object(a.a)();return function(){var n,a=Object(r.a)(e);if(t){var o=Object(r.a)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return Object(i.a)(this,n)}}},function(e,t,n){"use strict";e.exports=n(644)},function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"g",(function(){return w})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return k})),n.d(t,"a",(function(){return j})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return C}));var r=n(15),a=n(16),i=n(2),o=n.n(i),u=n(13),s=n(3),c=n(9),l=n(195),f=n(14),d=n(20);function h(e,t,n,r){var a=Object(d.j)(t),i=function(e,t,n,r){var a=Object(d.O)(t),i=r[r.length-1],o=new Array(i).fill(0),u=t.length,s="complex64"===n?g(e):e;if(u>1)for(var c=0;c<a/i;c++)for(var l=c*i,f=0;f<i;f++)o[f]=Math.max(o[f],p(s[l+f],0,n).length);return o}(e,t,n,a),o=t.length,u=m(e,t,n,a,i),s=["Tensor"];return r&&(s.push("  dtype: ".concat(n)),s.push("  rank: ".concat(o)),s.push("  shape: [".concat(t,"]")),s.push("  values:")),s.push(u.map((function(e){return"    "+e})).join("\n")),s.join("\n")}function p(e,t,n){var r;return r=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(7))," + ")+"".concat(parseFloat(e[1].toFixed(7)),"j"):Object(d.z)(e)?"'".concat(e,"'"):"bool"===n?v(e):parseFloat(e.toFixed(7)).toString(),Object(d.L)(r,t)}function v(e){return 0===e?"false":"true"}function m(e,t,n,r,a){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o="complex64"===n?2:1,u=t[0],s=t.length;if(0===s){if("complex64"===n){var c=g(e);return[p(c[0],0,n)]}return"bool"===n?[v(e[0])]:[e[0].toString()]}if(1===s){if(u>20){var l=3*o,d=Array.from(e.slice(0,l)),h=Array.from(e.slice((u-3)*o,u*o));return"complex64"===n&&(d=g(d),h=g(h)),["["+d.map((function(e,t){return p(e,a[t],n)})).join(", ")+", ..., "+h.map((function(e,t){return p(e,a[u-3+t],n)})).join(", ")+"]"]}var b="complex64"===n?g(e):Array.from(e);return["["+b.map((function(e,t){return p(e,a[t],n)})).join(", ")+"]"]}var y=t.slice(1),x=r.slice(1),_=r[0]*o,w=[];if(u>20){for(var O=0;O<3;O++){var k=O*_,j=k+_;w.push.apply(w,Object(f.a)(m(e.slice(k,j),y,n,x,a,!1)))}w.push("...");for(var E=u-3;E<u;E++){var C=E*_,A=C+_;w.push.apply(w,Object(f.a)(m(e.slice(C,A),y,n,x,a,E===u-1)))}}else for(var S=0;S<u;S++){var D=S*_,N=D+_;w.push.apply(w,Object(f.a)(m(e.slice(D,N),y,n,x,a,S===u-1)))}var F=2===s?",":"";w[0]="["+w[0]+F;for(var T=1;T<w.length-1;T++)w[T]=" "+w[T]+F;for(var M=",\n",I=2;I<s;I++)M+="\n";return w[w.length-1]=" "+w[w.length-1]+"]"+(i?"":M),w}function g(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var b=n(24),y=function(){function e(t,n,r){var a=this;if(Object(s.a)(this,e),this.dtype=n,this.shape=t.slice(),this.size=d.O(t),null!=r){var i=r.length;d.b(i===this.size,(function(){return"Length of values '".concat(i,"' does not match the size ")+"inferred by the shape '".concat(a.size,"'.")}))}if("complex64"===n)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||d.n(n,this.size),this.strides=Object(d.j)(t)}return Object(c.a)(e,[{key:"set",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];0===r.length&&(r=[0]),d.b(r.length===this.rank,(function(){return"The number of provided coordinates (".concat(r.length,") must ")+"match the rank (".concat(t.rank,")")}));var i=this.locToIndex(r);this.values[i]=e}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);for(var r=0,a=0,i=t;a<i.length;a++){var o=i[a];if(o<0||o>=this.shape[r]){var u="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(u)}r++}for(var s=t[t.length-1],c=0;c<t.length-1;++c)s+=this.strides[c]*t[c];return this.values[s]}},{key:"locToIndex",value:function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}},{key:"indexToLoc",value:function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}},{key:"rank",get:function(){return this.shape.length}},{key:"toTensor",value:function(){return x().makeTensor(this.values,this.shape,this.dtype)}}]),e}(),x=null,_=null;function w(e){x=e}function O(e){_=e}function k(e){e}var j=function(){function e(t,n,r,a){Object(s.a)(this,e),this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=d.O(t),this.strides=Object(d.j)(t),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return Object(c.a)(e,[{key:"rank",get:function(){return this.shape.length}},{key:"buffer",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",_.buffer(this.shape,this.dtype,t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bufferSync",value:function(){return _.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",Object(d.T)(this.shape,t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"arraySync",value:function(){return Object(d.T)(this.shape,this.dataSync())}},{key:"data",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.throwIfDisposed(),t=x().read(this.dataId),"string"!==this.dtype){e.next=13;break}return e.next=5,t;case 5:return n=e.sent,e.prev=6,e.abrupt("return",n.map((function(e){return b.decodeString(e)})));case 10:throw e.prev=10,e.t0=e.catch(6),new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().");case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this,[[6,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"dataSync",value:function(){this.throwIfDisposed();var e=x().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return b.decodeString(e)}))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}},{key:"bytes",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.throwIfDisposed(),e.next=3,x().read(this.dataId);case 3:if(t=e.sent,"string"!==this.dtype){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return",new Uint8Array(t.buffer));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){this.isDisposed||(x().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"isDisposed",get:function(){return this.isDisposedInternal}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw new Error("Tensor is disposed.")}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _.print(this,e)}},{key:"clone",value:function(){return this.throwIfDisposed(),_.clone(this)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.dataSync();return h(t,this.shape,this.dtype,e)}},{key:"cast",value:function(e){return this.throwIfDisposed(),_.cast(this,e)}},{key:"variable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),x().makeVariable(this,e,t,n)}}]),e}();function E(){return Object(l.a)("Tensor",(function(){return j}))}Object.defineProperty(j,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}}),E();var C=function(e){Object(r.a)(n,e);var t=Object(a.a)(n);function n(e,r,a,i){var o;return Object(s.a)(this,n),(o=t.call(this,e.shape,e.dtype,e.dataId,i)).trainable=r,o.name=a,o}return Object(c.a)(n,[{key:"assign",value:function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!d.a(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));x().disposeTensor(this),this.dataId=e.dataId,x().incRef(this,null)}},{key:"dispose",value:function(){x().disposeVariable(this),this.isDisposedInternal=!0}}]),n}(j);Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return e instanceof j&&null!=e.assign&&e.assign instanceof Function}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({reshape_:function(e,t){var n={x:Object(i.a)(e,"x","reshape","string_or_numeric")},o={shape:t};return r.a.runKernel(a.oc,n,o)}})},function(e,t,n){"use strict";function r(e){for(var t=e.length,n=0,r=0;t>0;)r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n}function a(e,t){if(e.length!==t.length)throw new Error("Array sizes must match to be shuffled together "+"First array length was ".concat(e.length)+"Second array length was ".concat(t.length));for(var n,r,a=e.length,i=0;a>0;)i=Math.random()*a|0,n=e[--a],r=t[a],e[a]=e[i],t[a]=t[i],e[i]=n,t[i]=r}function i(e,t,n){return Math.max(e,Math.min(t,n))}function o(e){return e%2===0?e:e+1}function u(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function s(e,t){var n=Math.random();return t*n+(1-n)*e}function c(e,t){for(var n=0,r=0;r<e.length;r++){var a=Number(e[r])-Number(t[r]);n+=a*a}return n}function l(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";l(m(e,t),(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}function d(e){l(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),Array.isArray(e)||N(e)&&!n)for(var r=0;r<e.length;++r)h(e[r],t,n);else t.push(e);return t}function p(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function v(e){return 0===e.length}function m(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function g(e){return e%1===0}function b(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function y(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function x(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return r(t),t}function _(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 0},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(r,a){var i=0;!function o(){if(e())r();else{i++;var u=t(i);null!=n&&i>=n?a():setTimeout(o,u)}}()}))}function O(e,t){for(var n=1,r=-1,a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(-1===e[a]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(r," and dim ").concat(a));r=a}else if(e[a]<0)throw Error("Shapes can not be < 0. Found ".concat(e[a]," at dim ").concat(a));if(-1===r){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));var i=e.slice();return i[r]=t/n,i}function k(e,t){var n=t.length;return l((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e)})),l(e.every((function(e){return g(e)})),(function(){return"All values in axis param must be integers but "+"got axis ".concat(e)})),e.map((function(e){return e<0?n+e:e}))}function j(e,t){for(var n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||a?null:k(t,e).sort(),o=0,u=0;u<e.length;++u){if(null!=i){if(i[o]===u&&1!==e[u])throw new Error("Can't squeeze axis ".concat(u," since its dim '").concat(e[u],"' is not 1"));(null==i[o]||i[o]>u)&&1===e[u]&&(n.push(e[u]),r.push(u)),i[o]<=u&&o++}1!==e[u]&&(n.push(e[u]),r.push(u))}return{newShape:n,keptDims:r}}function E(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type ".concat(e));n=new Uint8Array(t)}return n}function C(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function A(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}function S(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function D(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function N(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function F(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function T(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function M(e){return"string"===typeof e||e instanceof String}function I(e){return"boolean"===typeof e}function R(e){return"number"===typeof e}function P(e){return Array.isArray(e)?P(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":R(e)?"float32":M(e)?"string":I(e)?"bool":"float32"}function B(e){return!!(e&&e.constructor&&e.call&&e.apply)}function z(e,t){for(var n=t;n<e;++n)if(e%n===0)return n;return e}function L(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function U(e,t,n){var r=new Array;if(1===t.length)for(var a=t[0],i=0;i<a;i++)r[i]=n[e+i];else for(var o=t[0],u=t.slice(1),s=u.reduce((function(e,t){return e*t})),c=0;c<o;c++)r[c]=U(e+c*s,u,n);return r}function W(e,t){if(0===e.length)return t[0];var n=e.reduce((function(e,t){return e*t}));if(0===n)return[];if(n!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length,"."));return U(0,e,t)}function V(e,t){for(var n=q(e,t),r=0;r<n.length;r++)n[r]=1;return n}function q(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function H(e,t){var n=e.reduce((function(e,t){return e*t}),1);if(null==t||"float32"===t)return W(e,new Float32Array(n));if("int32"===t)return W(e,new Int32Array(n));if("bool"===t)return W(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function G(e){e.forEach((function(t){l(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")}))}))}function K(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function $(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function X(e){return e&&e.then&&"function"===typeof e.then}n.d(t,"M",(function(){return r})),n.d(t,"N",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"H",(function(){return o})),n.d(t,"R",(function(){return u})),n.d(t,"J",(function(){return s})),n.d(t,"l",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"m",(function(){return h})),n.d(t,"O",(function(){return p})),n.d(t,"y",(function(){return v})),n.d(t,"a",(function(){return m})),n.d(t,"v",(function(){return g})),n.d(t,"S",(function(){return b})),n.d(t,"P",(function(){return y})),n.d(t,"k",(function(){return x})),n.d(t,"L",(function(){return _})),n.d(t,"K",(function(){return w})),n.d(t,"s",(function(){return O})),n.d(t,"I",(function(){return k})),n.d(t,"Q",(function(){return j})),n.d(t,"o",(function(){return E})),n.d(t,"n",(function(){return C})),n.d(t,"h",(function(){return A})),n.d(t,"B",(function(){return S})),n.d(t,"p",(function(){return D})),n.d(t,"A",(function(){return N})),n.d(t,"g",(function(){return F})),n.d(t,"f",(function(){return T})),n.d(t,"z",(function(){return M})),n.d(t,"t",(function(){return I})),n.d(t,"w",(function(){return R})),n.d(t,"r",(function(){return P})),n.d(t,"u",(function(){return B})),n.d(t,"G",(function(){return z})),n.d(t,"j",(function(){return L})),n.d(t,"T",(function(){return W})),n.d(t,"D",(function(){return V})),n.d(t,"F",(function(){return q})),n.d(t,"E",(function(){return H})),n.d(t,"c",(function(){return G})),n.d(t,"C",(function(){return K})),n.d(t,"q",(function(){return $})),n.d(t,"x",(function(){return X}))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(12),i=n(7),o=n(44),u=n(8),s=n(11);var c=Object(s.b)({mul_:function(e,t){var n=Object(u.a)(e,"a","mul"),s=Object(u.a)(t,"b","mul"),c=Object(o.makeTypesMatch)(n,s),l=Object(r.a)(c,2),f={a:n=l[0],b:s=l[1]};return a.a.runKernel(i.Ub,f)}})},function(e,t,n){"use strict";function r(e,t,n){return e.fields=t||[],e.fname=n,e}function a(e){return 1===e.length?i(e[0]):o(e)}n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return R})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return P})),n.d(t,"f",(function(){return B})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return U})),n.d(t,"i",(function(){return L})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return W})),n.d(t,"l",(function(){return V})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return q})),n.d(t,"o",(function(){return H})),n.d(t,"p",(function(){return I})),n.d(t,"q",(function(){return G})),n.d(t,"r",(function(){return K})),n.d(t,"s",(function(){return h})),n.d(t,"t",(function(){return $})),n.d(t,"u",(function(){return X})),n.d(t,"v",(function(){return Y})),n.d(t,"w",(function(){return J})),n.d(t,"x",(function(){return Z})),n.d(t,"y",(function(){return w})),n.d(t,"z",(function(){return O})),n.d(t,"A",(function(){return k})),n.d(t,"B",(function(){return j})),n.d(t,"C",(function(){return p})),n.d(t,"D",(function(){return N})),n.d(t,"E",(function(){return ee})),n.d(t,"F",(function(){return te})),n.d(t,"G",(function(){return ne})),n.d(t,"H",(function(){return ae})),n.d(t,"I",(function(){return v})),n.d(t,"J",(function(){return oe})),n.d(t,"K",(function(){return ie})),n.d(t,"L",(function(){return ue})),n.d(t,"M",(function(){return f})),n.d(t,"N",(function(){return F})),n.d(t,"O",(function(){return C})),n.d(t,"P",(function(){return A})),n.d(t,"Q",(function(){return S})),n.d(t,"R",(function(){return D}));var i=function(e){return function(t){return t[e]}},o=function(e){var t=e.length;return function(n){for(var r=0;r<t;++r)n=n[e[r]];return n}};function u(e){throw Error(e)}function s(e){var t,n,r,a=[],i=e.length,o=null,s=0,c="";function l(){a.push(c+e.substring(t,n)),c="",t=n+1}for(e+="",t=n=0;n<i;++n)if("\\"===(r=e[n]))c+=e.substring(t,n),c+=e.substring(++n,++n),t=n;else if(r===o)l(),o=null,s=-1;else{if(o)continue;t===s&&'"'===r||t===s&&"'"===r?(t=n+1,o=r):"."!==r||s?"["===r?(n>t&&l(),s=t=n+1):"]"===r&&(s||u("Access path missing open bracket: "+e),s>0&&l(),s=0,t=n+1):n>t?l():t=n+1}return s&&u("Access path missing closing bracket: "+e),o&&u("Access path missing closing quote: "+e),n>t&&(n++,l()),a}function c(e,t,n){var i=s(e);return e=1===i.length?i[0]:e,r((n&&n.get||a)(i),[e],t||e)}c("id");var l=r((function(e){return e}),[],"identity"),f=(r((function(){return 0}),[],"zero"),r((function(){return 1}),[],"one"),r((function(){return!0}),[],"true"));r((function(){return!1}),[],"false");var d=Array.isArray;function h(e){return e===Object(e)}function p(e){return e[e.length-1]}function v(e){return null==e||""===e?null:+e}var m=function(e){return function(t){return e*Math.exp(t)}},g=function(e){return function(t){return Math.log(e*t)}},b=function(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}},y=function(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}},x=function(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}};function _(e,t,n,r){var a=n(e[0]),i=n(p(e)),o=(i-a)*t;return[r(a-o),r(i-o)]}function w(e,t){return _(e,t,v,l)}function O(e,t){var n=Math.sign(e[0]);return _(e,t,g(n),m(n))}function k(e,t,n){return _(e,t,x(n),x(1/n))}function j(e,t,n){return _(e,t,b(n),y(n))}function E(e,t,n,r,a){var i=r(e[0]),o=r(p(e)),u=null!=t?r(t):(i+o)/2;return[a(u+(i-u)*n),a(u+(o-u)*n)]}function C(e,t,n){return E(e,t,n,v,l)}function A(e,t,n){var r=Math.sign(e[0]);return E(e,t,n,g(r),m(r))}function S(e,t,n,r){return E(e,t,n,x(r),x(1/r))}function D(e,t,n,r){return E(e,t,n,b(r),y(r))}function N(e){return 1+~~(new Date(e).getMonth()/3)}function F(e){return 1+~~(new Date(e).getUTCMonth()/3)}function T(e){return null!=e?d(e)?e:[e]:[]}function M(e,t,n){var r,a=e[0],i=e[1];return i<a&&(r=i,i=a,a=r),(r=i-a)>=n-t?[t,n]:[a=Math.min(Math.max(a,t),n-r),a+r]}function I(e){return"function"===typeof e}function R(e){return I(e)?e:function(){return e}}function P(e){for(var t,n,r=1,a=arguments.length;r<a;++r)for(n in t=arguments[r])e[n]=t[n];return e}function B(e,t){var n,r,a,i,o=0;if(e&&(n=e.length))if(null==t){for(r=e[o];o<n&&(null==r||r!==r);r=e[++o]);for(a=i=r;o<n;++o)null!=(r=e[o])&&(r<a&&(a=r),r>i&&(i=r))}else{for(r=t(e[o]);o<n&&(null==r||r!==r);r=t(e[++o]));for(a=i=r;o<n;++o)null!=(r=t(e[o]))&&(r<a&&(a=r),r>i&&(i=r))}return[a,i]}var z=Object.prototype.hasOwnProperty;function L(e,t){return z.call(e,t)}function U(e,t,n,r,a,i){if(!n&&0!==n)return i;var o,u=+n,s=e[0],c=p(e);c<s&&(o=s,s=c,c=o),o=Math.abs(t-s);var l=Math.abs(c-t);return o<l&&o<=u?r:l<=u?a:i}function W(e,t,n){var r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),P(r,n)}function V(e,t,n,r){var a,i=t[0],o=t[t.length-1];return i>o&&(a=i,i=o,o=a),r=void 0===r||r,((n=void 0===n||n)?i<=e:i<e)&&(r?e<=o:e<o)}function q(e){return"boolean"===typeof e}function H(e){return"[object Date]"===Object.prototype.toString.call(e)}function G(e){return e&&I(e[Symbol.iterator])}function K(e){return"number"===typeof e}function $(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function X(e){return"string"===typeof e}function Y(e,t){var n=e[0],r=p(e),a=+t;return a?1===a?r:n+a*(r-n):n}function J(e){var t,n,r;e=+e||1e4;var a=function(){t={},n={},r=0},i=function(a,i){return++r>e&&(n=t,t={},r=1),t[a]=i};return a(),{clear:a,has:function(e){return L(t,e)||L(n,e)},get:function(e){return L(t,e)?t[e]:L(n,e)?i(e,n[e]):void 0},set:function(e,n){return L(t,e)?t[e]=n:i(e,n)}}}function Q(e,t){for(var n="";--t>=0;)n+=e;return n}function Z(e,t,n,r){var a=n||" ",i=e+"",o=t-i.length;return o<=0?i:"left"===r?Q(a,o)+i:"center"===r?Q(a,~~(o/2))+i+Q(a,Math.ceil(o/2)):i+Q(a,o)}function ee(e){return e&&p(e)-e[0]||0}function te(e){return d(e)?"["+e.map(te)+"]":h(e)||X(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function ne(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e}var re=function(e){return K(e)||H(e)?e:Date.parse(e)};function ae(e,t){return t=t||re,null==e||""===e?null:t(e)}function ie(e){return null==e||""===e?null:e+""}function oe(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return t}function ue(e,t,n,r){var a=null!=r?r:"\u2026",i=e+"",o=i.length,u=Math.max(0,t-a.length);return o<=t?i:"left"===n?a+i.slice(o-u):"center"===n?i.slice(0,Math.ceil(u/2))+a+i.slice(o-~~(u/2)):i.slice(0,u)+a}},function(e,t,n){"use strict";n.r(t),n.d(t,"createScalarValue",(function(){return i})),n.d(t,"toTypedArray",(function(){return o})),n.d(t,"now",(function(){return u})),n.d(t,"fetch",(function(){return s})),n.d(t,"encodeString",(function(){return c})),n.d(t,"decodeString",(function(){return l}));var r=n(42),a=n(20);function i(e,t){return"string"===t?c(e):o([e],t)}function o(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=a.m(e)),Object(r.c)().getBool("DEBUG")&&a.h(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var n=new Uint8Array(e.length),i=0;i<n.length;++i)0!==Math.round(e[i])&&(n[i]=1);return n}throw new Error("Unknown data type ".concat(t))}function u(){return Object(r.c)().platform.now()}function s(e,t){return Object(r.c)().platform.fetch(e,t)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",Object(r.c)().platform.encode(e,t)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",Object(r.c)().platform.decode(e,t)}n.d(t,"shuffle",(function(){return a.M})),n.d(t,"shuffleCombo",(function(){return a.N})),n.d(t,"clamp",(function(){return a.i})),n.d(t,"nearestLargerEven",(function(){return a.H})),n.d(t,"sum",(function(){return a.R})),n.d(t,"randUniform",(function(){return a.J})),n.d(t,"distSquared",(function(){return a.l})),n.d(t,"assert",(function(){return a.b})),n.d(t,"assertShapesMatch",(function(){return a.e})),n.d(t,"assertNonNull",(function(){return a.d})),n.d(t,"flatten",(function(){return a.m})),n.d(t,"sizeFromShape",(function(){return a.O})),n.d(t,"isScalarShape",(function(){return a.y})),n.d(t,"arraysEqual",(function(){return a.a})),n.d(t,"isInt",(function(){return a.v})),n.d(t,"tanh",(function(){return a.S})),n.d(t,"sizeToSquarishShape",(function(){return a.P})),n.d(t,"createShuffledIndices",(function(){return a.k})),n.d(t,"rightPad",(function(){return a.L})),n.d(t,"repeatedTry",(function(){return a.K})),n.d(t,"inferFromImplicitShape",(function(){return a.s})),n.d(t,"parseAxisParam",(function(){return a.I})),n.d(t,"squeezeShape",(function(){return a.Q})),n.d(t,"getTypedArrayFromDType",(function(){return a.o})),n.d(t,"getArrayFromDType",(function(){return a.n})),n.d(t,"checkConversionForErrors",(function(){return a.h})),n.d(t,"isValidDtype",(function(){return a.B})),n.d(t,"hasEncodingLoss",(function(){return a.p})),n.d(t,"isTypedArray",(function(){return a.A})),n.d(t,"bytesPerElement",(function(){return a.g})),n.d(t,"bytesFromStringArray",(function(){return a.f})),n.d(t,"isString",(function(){return a.z})),n.d(t,"isBoolean",(function(){return a.t})),n.d(t,"isNumber",(function(){return a.w})),n.d(t,"inferDtype",(function(){return a.r})),n.d(t,"isFunction",(function(){return a.u})),n.d(t,"nearestDivisor",(function(){return a.G})),n.d(t,"computeStrides",(function(){return a.j})),n.d(t,"toNestedArray",(function(){return a.T})),n.d(t,"makeOnesTypedArray",(function(){return a.D})),n.d(t,"makeZerosTypedArray",(function(){return a.F})),n.d(t,"makeZerosNestedTypedArray",(function(){return a.E})),n.d(t,"assertNonNegativeIntegerDimensions",(function(){return a.c})),n.d(t,"locToIndex",(function(){return a.C})),n.d(t,"indexToLoc",(function(){return a.q})),n.d(t,"isPromise",(function(){return a.x}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=n(869)()},function(e,t,n){"use strict";e.exports=n(930)},function(e,t,n){"use strict";function r(e,t,n){return e.fields=t||[],e.fname=n,e}function a(e){return 1===e.length?i(e[0]):o(e)}n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return _})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return O})),n.d(t,"l",(function(){return k})),n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return j})),n.d(t,"o",(function(){return E})),n.d(t,"p",(function(){return p})),n.d(t,"q",(function(){return C})),n.d(t,"r",(function(){return A})),n.d(t,"s",(function(){return S})),n.d(t,"t",(function(){return N})),n.d(t,"u",(function(){return v})),n.d(t,"v",(function(){return T})),n.d(t,"w",(function(){return F})),n.d(t,"x",(function(){return f}));var i=function(e){return function(t){return t[e]}},o=function(e){var t=e.length;return function(n){for(var r=0;r<t;++r)n=n[e[r]];return n}};function u(e){throw Error(e)}function s(e){var t,n,r,a=[],i=e.length,o=null,s=0,c="";function l(){a.push(c+e.substring(t,n)),c="",t=n+1}for(e+="",t=n=0;n<i;++n)if("\\"===(r=e[n]))c+=e.substring(t,n),c+=e.substring(++n,++n),t=n;else if(r===o)l(),o=null,s=-1;else{if(o)continue;t===s&&'"'===r||t===s&&"'"===r?(t=n+1,o=r):"."!==r||s?"["===r?(n>t&&l(),s=t=n+1):"]"===r&&(s||u("Access path missing open bracket: "+e),s>0&&l(),s=0,t=n+1):n>t?l():t=n+1}return s&&u("Access path missing closing bracket: "+e),o&&u("Access path missing closing quote: "+e),n>t&&(n++,l()),a}function c(e,t,n){var i=s(e);return e=1===i.length?i[0]:e,r((n&&n.get||a)(i),[e],t||e)}c("id");var l=r((function(e){return e}),[],"identity"),f=(r((function(){return 0}),[],"zero"),r((function(){return 1}),[],"one"),r((function(){return!0}),[],"true"));r((function(){return!1}),[],"false");var d=Array.isArray;function h(e){return e===Object(e)}function p(e){return e[e.length-1]}function v(e){return null==e||""===e?null:+e}function m(e){return null!=e?d(e)?e:[e]:[]}function g(e){return"function"===typeof e}function b(e){return g(e)?e:function(){return e}}function y(e){for(var t,n,r=1,a=arguments.length;r<a;++r)for(n in t=arguments[r])e[n]=t[n];return e}var x=Object.prototype.hasOwnProperty;function _(e,t){return x.call(e,t)}function w(e,t,n){var r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),y(r,n)}function O(e){return e&&g(e[Symbol.iterator])}function k(e){return"number"===typeof e}function j(e){return"string"===typeof e}function E(e){var t,n,r;e=+e||1e4;var a=function(){t={},n={},r=0},i=function(a,i){return++r>e&&(n=t,t={},r=1),t[a]=i};return a(),{clear:a,has:function(e){return _(t,e)||_(n,e)},get:function(e){return _(t,e)?t[e]:_(n,e)?i(e,n[e]):void 0},set:function(e,n){return _(t,e)?t[e]=n:i(e,n)}}}function C(e){return e&&p(e)-e[0]||0}function A(e){return d(e)?"["+e.map(A)+"]":h(e)||j(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function S(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e}var D=function(e){return k(e)||function(e){return"[object Date]"===Object.prototype.toString.call(e)}(e)?e:Date.parse(e)};function N(e,t){return t=t||D,null==e||""===e?null:t(e)}function F(e){return null==e||""===e?null:e+""}function T(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o.Tensor})),n.d(t,"e",(function(){return o.linspace})),n.d(t,"f",(function(){return o.moments})),n.d(t,"g",(function(){return o.oneHot})),n.d(t,"i",(function(){return o.round})),n.d(t,"k",(function(){return o.stack})),n.d(t,"l",(function(){return o.tensor})),n.d(t,"m",(function(){return o.tensor2d})),n.d(t,"n",(function(){return o.train})),n.d(t,"b",(function(){return o.browser})),n.d(t,"j",(function(){return Mo})),n.d(t,"d",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"c",(function(){return i}));var r={};n.r(r),n.d(r,"inputLayer",(function(){return Ws})),n.d(r,"elu",(function(){return Vs})),n.d(r,"reLU",(function(){return qs})),n.d(r,"leakyReLU",(function(){return Hs})),n.d(r,"prelu",(function(){return Gs})),n.d(r,"softmax",(function(){return Ks})),n.d(r,"thresholdedReLU",(function(){return $s})),n.d(r,"conv1d",(function(){return Xs})),n.d(r,"conv2d",(function(){return Ys})),n.d(r,"conv2dTranspose",(function(){return Js})),n.d(r,"conv3d",(function(){return Qs})),n.d(r,"separableConv2d",(function(){return Zs})),n.d(r,"cropping2D",(function(){return ec})),n.d(r,"upSampling2d",(function(){return tc})),n.d(r,"depthwiseConv2d",(function(){return nc})),n.d(r,"activation",(function(){return rc})),n.d(r,"dense",(function(){return ac})),n.d(r,"dropout",(function(){return ic})),n.d(r,"spatialDropout1d",(function(){return oc})),n.d(r,"flatten",(function(){return uc})),n.d(r,"repeatVector",(function(){return sc})),n.d(r,"reshape",(function(){return cc})),n.d(r,"permute",(function(){return lc})),n.d(r,"embedding",(function(){return fc})),n.d(r,"add",(function(){return dc})),n.d(r,"average",(function(){return hc})),n.d(r,"concatenate",(function(){return pc})),n.d(r,"maximum",(function(){return vc})),n.d(r,"minimum",(function(){return mc})),n.d(r,"multiply",(function(){return gc})),n.d(r,"dot",(function(){return bc})),n.d(r,"batchNormalization",(function(){return yc})),n.d(r,"layerNormalization",(function(){return xc})),n.d(r,"zeroPadding2d",(function(){return _c})),n.d(r,"averagePooling1d",(function(){return wc})),n.d(r,"avgPool1d",(function(){return Oc})),n.d(r,"avgPooling1d",(function(){return kc})),n.d(r,"averagePooling2d",(function(){return jc})),n.d(r,"avgPool2d",(function(){return Ec})),n.d(r,"avgPooling2d",(function(){return Cc})),n.d(r,"averagePooling3d",(function(){return Ac})),n.d(r,"avgPool3d",(function(){return Sc})),n.d(r,"avgPooling3d",(function(){return Dc})),n.d(r,"globalAveragePooling1d",(function(){return Nc})),n.d(r,"globalAveragePooling2d",(function(){return Fc})),n.d(r,"globalMaxPooling1d",(function(){return Tc})),n.d(r,"globalMaxPooling2d",(function(){return Mc})),n.d(r,"maxPooling1d",(function(){return Ic})),n.d(r,"maxPooling2d",(function(){return Rc})),n.d(r,"maxPooling3d",(function(){return Pc})),n.d(r,"gru",(function(){return Bc})),n.d(r,"gruCell",(function(){return zc})),n.d(r,"lstm",(function(){return Lc})),n.d(r,"lstmCell",(function(){return Uc})),n.d(r,"simpleRNN",(function(){return Wc})),n.d(r,"simpleRNNCell",(function(){return Vc})),n.d(r,"convLstm2d",(function(){return qc})),n.d(r,"convLstm2dCell",(function(){return Hc})),n.d(r,"rnn",(function(){return Gc})),n.d(r,"stackedRNNCells",(function(){return Kc})),n.d(r,"bidirectional",(function(){return $c})),n.d(r,"timeDistributed",(function(){return Xc})),n.d(r,"globalMaxPool1d",(function(){return Yc})),n.d(r,"globalMaxPool2d",(function(){return Jc})),n.d(r,"maxPool1d",(function(){return Qc})),n.d(r,"maxPool2d",(function(){return Zc})),n.d(r,"Layer",(function(){return Va})),n.d(r,"RNN",(function(){return Mu})),n.d(r,"RNNCell",(function(){return Iu})),n.d(r,"input",(function(){return Io})),n.d(r,"gaussianNoise",(function(){return el})),n.d(r,"gaussianDropout",(function(){return tl})),n.d(r,"alphaDropout",(function(){return nl})),n.d(r,"masking",(function(){return rl}));var a={};n.r(a),n.d(a,"l1l2",(function(){return al})),n.d(a,"l1",(function(){return il})),n.d(a,"l2",(function(){return ol}));var i={};n.r(i),n.d(i,"array",(function(){return dl})),n.d(i,"Dataset",(function(){return ll})),n.d(i,"zip",(function(){return hl})),n.d(i,"CSVDataset",(function(){return wl})),n.d(i,"TextLineDataset",(function(){return vl})),n.d(i,"csv",(function(){return Tl})),n.d(i,"func",(function(){return Ml})),n.d(i,"generator",(function(){return Il})),n.d(i,"microphone",(function(){return Bl})),n.d(i,"webcam",(function(){return Rl})),n.d(i,"FileDataSource",(function(){return Nl})),n.d(i,"URLDataSource",(function(){return Fl})),n.d(i,"version_data",(function(){return Ll}));var o=n(0),u=n(6),s=n(7),c=n(31),l=n(22),f=n(151),d={kernelName:s.a,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(f.a)(Object(c.a)(n,"float32"),-1))}}}},h=n(35),p=n(55),v=n(36),m=n(76),g=n(45),b=n(34),y={kernelName:s.b,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){var t=Object(g.a)(Object(c.a)(n,"float32")),r=Object(m.a)(Object(b.a)(Object(v.a)(1),t));return Object(p.a)(Object(h.a)(e,r))}}}},x={kernelName:s.c,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){var t=Object(m.a)(Object(b.a)(Object(g.a)(Object(c.a)(n,"float32")),1));return Object(h.a)(e,t)}}}},_=n(37),w=n(19),O=n(38),k={kernelName:s.d,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1],i=_.a(r.shape,a.shape);return{a:function(){var t=e,n=_.c(r.shape,i);return n.length>0&&(t=Object(O.a)(t,n)),Object(w.a)(t,r.shape)},b:function(){var t=e,n=_.c(a.shape,i);return n.length>0&&(t=Object(O.a)(t,n)),Object(w.a)(t,a.shape)}}}},j={kernelName:s.e,saveAllInputs:!0,gradFunc:function(e,t){var n={};return t.forEach((function(t,r){n[r]=function(){return e.clone()}})),n}},E=n(40),C={kernelName:s.h,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(E.a)(n)}}}},A={kernelName:s.i,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(E.a)(n)}}}},S={kernelName:s.j,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(h.a)(e,Object(m.a)(Object(b.a)(Object(v.a)(1),Object(g.a)(Object(c.a)(n,"float32")))))}}}},D=n(33),N={kernelName:s.k,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){var t=Object(m.a)(Object(D.a)(Object(v.a)(1),Object(g.a)(Object(c.a)(n,"float32"))));return Object(h.a)(e,t)}}}},F={kernelName:s.m,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(_.a)(r.shape,a.shape);return{a:function(){var t=Object(D.a)(Object(g.a)(r),Object(g.a)(a)),n=Object(l.a)(e,Object(h.a)(a,t)),o=Object(_.c)(r.shape,i);return o.length>0&&(n=Object(O.a)(n,o)),Object(w.a)(n,r.shape)},b:function(){var t=Object(D.a)(Object(g.a)(r),Object(g.a)(a)),n=Object(p.a)(Object(l.a)(e,Object(h.a)(r,t))),o=Object(_.c)(a.shape,i);return o.length>0&&(n=Object(O.a)(n,o)),Object(w.a)(n,a.shape)}}}},T={kernelName:s.l,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(h.a)(e,Object(D.a)(Object(g.a)(Object(c.a)(n,"float32")),1))}}}},M={kernelName:s.n,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(h.a)(e,Object(b.a)(Object(v.a)(1),Object(g.a)(Object(c.a)(n,"float32"))))}}}},I=n(12),R=n(8),P=n(20),B=n(11);var z=Object(B.b)({avgPool3dGrad_:function(e,t,n,r,a,i){var o=Object(R.a)(e,"dy","avgPool3dGrad"),u=Object(R.a)(t,"input","avgPool3dGrad"),c=o,l=u,f=!1;4===u.rank&&(f=!0,c=Object(w.a)(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),l=Object(w.a)(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),P.b(5===c.rank,(function(){return"Error in avgPool3dGrad: dy must be rank 5 but got rank "+"".concat(c.rank,".")})),P.b(5===l.rank,(function(){return"Error in avgPool3dGrad: input must be rank 5 but got rank "+"".concat(l.rank,".")})),null!=i&&P.b(P.v(a),(function(){return"Error in avgPool3dGrad: pad must be an integer when "+"using, dimRoundingMode ".concat(i," but got pad ").concat(a,".")}));var d={dy:c,input:l},h={filterSize:n,strides:r,pad:a,dimRoundingMode:i},p=I.a.runKernel(s.q,d,h);return f?Object(w.a)(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}}),L={kernelName:s.p,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=n.filterSize,i=n.strides,o=n.pad,s=n.dimRoundingMode;return{x:function(){return z(e,r,a,i,o,s)}}}};var U=Object(B.b)({avgPoolGrad_:function(e,t,n,r,a){var i=Object(R.a)(e,"dy","avgPoolGrad"),o=Object(R.a)(t,"input","avgPoolGrad");P.b(o.rank===i.rank,(function(){return"Rank of input (".concat(o.rank,") does not match rank of dy (").concat(i.rank,")")}));var u=o,c=i,l=!1;3===o.rank&&(l=!0,u=Object(w.a)(o,[1,o.shape[0],o.shape[1],o.shape[2]]),c=Object(w.a)(i,[1,i.shape[0],i.shape[1],i.shape[2]])),P.b(4===c.rank,(function(){return"Error in avgPoolGrad: dy must be rank 4 but got rank "+"".concat(c.rank,".")})),P.b(4===u.rank,(function(){return"Error in avgPoolGrad: input must be rank 4 but got rank "+"".concat(u.rank,".")}));var f={dy:c,input:u},d={filterSize:n,strides:r,pad:a},h=I.a.runKernel(s.r,f,d);return l?Object(w.a)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}}),W={kernelName:s.o,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=n.filterSize,i=n.strides,o=n.pad;return{x:function(){return U(e,r,a,i,o)}}}},V=n(48),q={kernelName:s.s,inputsToSave:["a","b"],gradFunc:function(e,t,n){var r=Object(u.a)(t,2),a=r[0],i=r[1],o=n.transposeA,s=n.transposeB;return o||s?!o&&s?{a:function(){return Object(V.a)(e,i,!1,!1)},b:function(){return Object(V.a)(e,a,!0,!1)}}:o&&!s?{a:function(){return Object(V.a)(i,e,!1,!0)},b:function(){return Object(V.a)(a,e,!1,!1)}}:{a:function(){return Object(V.a)(i,e,!0,!0)},b:function(){return Object(V.a)(e,a,!0,!0)}}:{a:function(){return Object(V.a)(e,i,!1,!0)},b:function(){return Object(V.a)(a,e,!0,!1)}}}},H=n(176),G={kernelName:s.t,gradFunc:function(e,t,n){var r=n.blockShape,a=n.crops;return{x:function(){return Object(H.a)(e,r,a)}}}},K={kernelName:s.v,gradFunc:function(e,t,n){for(var r=n,a=r.inputShape,i=r.shape,o=Array.from(i),u=a.length-1;u>=0;u--)if(a[u]===i[u])o[u]=1;else if(1!==a[u])throw new Error("broadcastTo(): [".concat(a,"] cannot be broadcast to [").concat(i,"]."));for(var s=[],c=0;c<o.length;c++)o[c]>1&&s.push(c);return{x:function(){return Object(O.a)(e,s,!0)}}}},$={kernelName:s.w,gradFunc:function(e){return{x:function(){return e.clone()}}}},X={kernelName:s.x,gradFunc:function(e){return{x:function(){return Object(E.a)(e)}}}},Y=n(121),J=n(122),Q=n(111),Z=n(75),ee={kernelName:s.y,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=n.clipValueMin,i=n.clipValueMax;return{x:function(){return Object(Z.a)(Object(Q.a)(Object(Y.a)(r,a),Object(J.a)(r,i)),e,Object(E.a)(e))}}}},te={kernelName:s.A,inputsToSave:["x"],gradFunc:d.gradFunc},ne=n(134),re={kernelName:s.B,saveAllInputs:!0,gradFunc:function(e,t,n){var r=t.map((function(e){return e.shape})),a=n.axis,i=Object(P.I)(a,t[0].shape)[0],o=r.map((function(e){return e[i]}));return Object(ne.a)(e,o,i).map((function(e){return function(){return e}}))}},ae=n(243),ie=n(240),oe=n(62),ue={kernelName:s.C,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=Object(u.a)(t,2),a=r[0],i=r[1],o=n.dilations,s=n.strides,c=n.pad,l=n.dataFormat;return P.b(oe.i(o),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(o,"'")})),{x:function(){return Object(ie.a)(a.shape,e,i,s,c,l)},filter:function(){return Object(ae.a)(a,e,i.shape,s,c,l)}}}},se=n(120),ce={kernelName:s.E,inputsToSave:["dy","filter"],gradFunc:function(e,t,n){var r=Object(u.a)(t,2),a=r[0],i=r[1],o=n.strides,s=n.pad,c=n.dataFormat,l=n.dimRoundingMode;return{dy:function(){return Object(se.a)(e,i,o,s,c,1,l)},filter:function(){return Object(ae.a)(e,a,i.shape,o,s,c,l)}}}};var le=Object(B.b)({conv3DBackpropFilter_:function(e,t,n,r,a){var i=e;4===e.rank&&(i=Object(w.a)(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));var o=t;4===o.rank&&(o=Object(w.a)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),P.b(5===i.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+"".concat(i.shape,".")})),P.b(5===o.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+"".concat(o.shape,".")})),P.b(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+"".concat(n,".")})),P.b(i.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input ".concat(i.shape[4],") must ")+"match input depth in filter (".concat(n[3],".")})),P.b(o.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy (".concat(o.shape[4],") must ")+"match output depth for filter (".concat(n[4],").")}));var u={x:i,dy:o},c={strides:r,pad:a,filterShape:n};return I.a.runKernel(s.G,u,c)}}),fe=n(357),de={kernelName:s.F,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,a=n.strides,i=n.pad;P.b(Object(oe.i)(r),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are "+"not yet supported in gradients. Got dilations '".concat(r,"'")}));var o=Object(u.a)(t,2),s=o[0],c=o[1];return{x:function(){return Object(fe.a)(s.shape,e,c,a,i)},filter:function(){return le(s,e,c.shape,a,i)}}}},he=n(341),pe={kernelName:s.I,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(Object(p.a)(Object(he.a)(Object(c.a)(n,"float32"))),e)}}}},ve=n(342),me={kernelName:s.J,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(Object(ve.a)(Object(c.a)(n,"float32")),e)}}}},ge=n(79),be=n(221),ye=n(92),xe={kernelName:s.L,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=n.axis,i=n.exclusive,o=n.reverse;return{x:function(){var t=Object(ge.f)([a],r.rank),n=Object(be.a)(e,a,i,!o);return null!=t&&(n=Object(ye.a)(n,t)),n}}}},_e=n(361),we=n(360),Oe={kernelName:s.O,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,a=n.strides,i=n.pad,o=n.dimRoundingMode,s=null==r?[1,1]:r;P.b(oe.i(s),(function(){return"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(s,"'")}));var c=Object(u.a)(t,2),l=c[0],f=c[1];return P.b(4===l.rank,(function(){return"Error in gradient of depthwiseConv2dNative: input must be "+"rank 4, but got rank ".concat(l.rank,".")})),P.b(4===f.rank,(function(){return"Error in gradient of depthwiseConv2dNative: filter must be "+"rank 4, but got rank ".concat(f.rank,".")})),P.b(l.shape[3]===f.shape[2],(function(){return"Error in gradient of depthwiseConv2d: number of input "+"channels (".concat(l.shape[3],") must match the inChannels dimension ")+"in filter ".concat(f.shape[2],".")})),P.b(oe.h(a,s),(function(){return"Error in gradient of depthwiseConv2d: Either strides or "+"dilations must be  1. Got strides ".concat(a," and dilations ")+"'".concat(s,"'.")})),null!=o&&P.b(P.v(i),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, "+"dimRoundingMode ".concat(o," but got pad ").concat(i,".")})),{x:function(){return Object(we.a)(l.shape,e,f,a,i,r,o)},filter:function(){return Object(_e.a)(l,e,f.shape,a,i,r,o)}}}},ke={kernelName:s.S,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=Object(u.a)(t,2),a=r[0],i=r[1],o={x:a,filter:i,dy:e},c={x:a,filter:i,dy:e};return{x:function(){return I.a.runKernel(s.U,o,n)},filter:function(){return I.a.runKernel(s.T,c,n)}}}},je={kernelName:s.V,outputsToSave:[!0],gradFunc:function(e,t){var n={dy:e,y:Object(u.a)(t,1)[0]};return{x:function(){return I.a.runKernel(s.W,n)}}}},Ee=n(81),Ce={kernelName:s.Y,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0],r=Object(l.a)(Object(Ee.a)(Object(p.a)(Object(g.a)(n))),2/Math.sqrt(Math.PI));return{x:function(){return Object(l.a)(e,r)}}}},Ae={kernelName:s.Z,outputsToSave:[!0],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(e,n)}}}},Se={kernelName:s.ab,inputsToSave:["input"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{input:function(){return Object(w.a)(e,n.shape)}}}},De={kernelName:s.bb,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(Ee.a)(n))}}}},Ne={kernelName:s.fb,gradFunc:function(e){return{x:function(){return Object(E.a)(e)}}}},Fe={kernelName:s.gb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(_.a)(r.shape,a.shape);return{a:function(){var t=Object(h.a)(e,Object(c.a)(a,"float32")),n=Object(_.c)(r.shape,i);return n.length>0?Object(w.a)(Object(O.a)(t,n),r.shape):t},b:function(){var t=Object(l.a)(e,Object(c.a)(r,"float32")),n=Object(_.c)(a.shape,i);n.length>0&&(t=Object(w.a)(Object(O.a)(t,n),a.shape));var o=Object(g.a)(a);return Object(p.a)(Object(h.a)(t,Object(c.a)(o,"float32")))}}}},Te=n(338),Me=n(155),Ie={kernelName:s.ib,inputsToSave:["x","mean","variance","scale"],gradFunc:function(e,t,n){var r=n.varianceEpsilon,a=Object(u.a)(t,4),i=a[0],o=a[1],s=a[2],c=a[3],f=null==c?Object(v.a)(1):c,d=Object(_.c)(o.shape,i.shape),h=[];if(1===o.rank){for(var p=0;p<i.shape.length-1;++p)h.push(i.shape[p]);h.push(1)}var m=Object(b.a)(i,o),g=Object(l.a)(e,f),y=Object(Te.a)(Object(D.a)(s,Object(v.a)(r))),x=Object(l.a)(Object(l.a)(Object(l.a)(y,y),y),Object(v.a)(-.5));return{x:function(){return 1===o.rank?Object(w.a)(Object(l.a)(Object(l.a)(e,Object(Me.a)(Object(w.a)(y,[1,1,1,o.shape[0]]),h)),f),i.shape):Object(w.a)(Object(l.a)(Object(l.a)(e,y),f),i.shape)},mean:function(){var e=Object(l.a)(Object(l.a)(y,Object(v.a)(-1)),g);return 1===o.rank&&(e=Object(O.a)(e,d)),Object(w.a)(e,o.shape)},variance:function(){var e=Object(l.a)(Object(l.a)(x,m),g);return 1===o.rank&&(e=Object(O.a)(e,d)),Object(w.a)(e,o.shape)},scale:function(){var t=Object(l.a)(m,y),n=Object(l.a)(e,t);return 1===o.rank&&(n=Object(O.a)(n,d)),Object(w.a)(n,o.shape)},offset:function(){var t=e;return 1===o.rank&&(t=Object(O.a)(t,d)),Object(w.a)(t,o.shape)}}}},Re=n(237),Pe={kernelName:s.mb,inputsToSave:["x","indices"],gradFunc:function(e,t,n){var r=Object(u.a)(t,2),a=r[0],i=r[1],o=n.axis,s=Object(P.I)(o,a.shape)[0];return{x:function(){var t=a.shape,n=i.size,r=t.slice(0,s),u=r.length,c=t.slice(o,t.length).slice(1),l=c.length,f=Be(0,u),d=Be(u+1,u+1+l),h=ze([r,[n],c]),p=Object(w.a)(e,h),v=Object(w.a)(i,[n]),m=ze([[u],f,d]),g=Object(ye.a)(p,m),b=Object(Re.a)(g,v,a.shape[s]),y=Object(ge.h)(m);return b=Object(ye.a)(b,y)},indices:function(){return i}}}};function Be(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function ze(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var Le={kernelName:s.ob,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1];return{a:function(){return Object(E.a)(r)},b:function(){return Object(E.a)(a)}}}},Ue={kernelName:s.qb,gradFunc:function(e){return{x:function(){return Object(c.a)(e,"float32")}}}},We={kernelName:s.sb,gradFunc:function(e){return{x:function(){return Object(E.a)(e)}}}},Ve={kernelName:s.tb,gradFunc:function(e){return{x:function(){return Object(E.a)(e)}}}},qe={kernelName:s.ub,gradFunc:function(e){return{x:function(){return Object(E.a)(e)}}}},He=n(90),Ge={kernelName:s.xb,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=n.alpha,i=Object(He.a)(r,0);return{x:function(){return Object(Z.a)(i,e,Object(l.a)(e,a))}}}},Ke={kernelName:s.Cb,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(h.a)(e,Object(D.a)(n,1))}}}},$e={kernelName:s.Bb,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(h.a)(e,Object(c.a)(n,"float32"))}}}},Xe={kernelName:s.Db,inputsToSave:[],outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=n.axis;return{logits:function(){var t=Object(Ee.a)(r);return Object(b.a)(e,Object(l.a)(Object(O.a)(e,a,!0),t))}}}};var Ye=Object(B.b)({localResponseNormalizationBackprop_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5,u={x:e,y:t,dy:n},c={depthRadius:r,bias:a,alpha:i,beta:o};return I.a.runKernel(s.wb,u,c)}}),Je={kernelName:s.vb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(u.a)(t,2),a=r[0],i=r[1],o=n.depthRadius,s=n.bias,c=n.alpha,l=n.beta;return{x:function(){return Ye(a,i,e,o,s,c,l)}}}},Qe=n(173);function Ze(e,t,n,r){return t.rank<n.rank&&(t=Object(w.a)(t,ge.e(t.shape,r))),e.rank<n.rank&&(e=Object(w.a)(e,ge.e(e.shape,r))),{x:function(){return Object(l.a)(e,Object(c.a)(Object(Qe.a)(n,t),e.dtype))}}}var et={kernelName:s.Hb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.reductionIndices,a=t[0],i=Ze(e,t[1],a,P.I(r,a.shape));return{x:function(){return i.x()}}}},tt=n(226),nt={kernelName:s.Nb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1];return{a:function(){return Object(l.a)(e,Object(c.a)(Object(Y.a)(r,a),"float32"))},b:function(){return Object(l.a)(e,Object(c.a)(Object(tt.a)(r,a),"float32"))}}}};var rt=Object(B.b)({maxPool3dGrad_:function(e,t,n,r,a,i,o){var u=Object(R.a)(e,"dy","maxPool3dGrad"),c=Object(R.a)(t,"input","maxPool3dGrad"),l=Object(R.a)(n,"output","maxPool3dGrad"),f=u,d=c,h=l,p=!1;4===c.rank&&(p=!0,f=Object(w.a)(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),d=Object(w.a)(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]]),h=Object(w.a)(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]])),P.b(5===f.rank,(function(){return"Error in maxPool3dGrad: dy must be rank 5 but got rank "+"".concat(f.rank,".")})),P.b(5===d.rank,(function(){return"Error in maxPool3dGrad: input must be rank 5 but got rank "+"".concat(d.rank,".")})),P.b(5===h.rank,(function(){return"Error in maxPool3dGrad: output must be rank 5 but got rank "+"".concat(h.rank,".")})),null!=o&&P.b(P.v(i),(function(){return"Error in maxPool3dGrad: pad must be an integer when "+"using, dimRoundingMode ".concat(o," but got pad ").concat(i,".")}));var v={dy:f,input:d,output:h},m={filterSize:r,strides:a,pad:i,dimRoundingMode:o},g=I.a.runKernel(s.Kb,v,m);return p?Object(w.a)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),at={kernelName:s.Jb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(u.a)(t,2),a=r[0],i=r[1],o=n.filterSize,s=n.strides,c=n.pad,l=n.dimRoundingMode;return{x:function(){return rt(e,a,i,o,s,c,l)}}}};var it=Object(B.b)({maxPoolGrad_:function(e,t,n,r,a,i,o){var u=Object(R.a)(e,"dy","maxPoolGrad"),c=Object(R.a)(t,"input","maxPoolGrad"),l=Object(R.a)(n,"output","maxPoolGrad");P.b(c.rank===u.rank,(function(){return"Rank of input (".concat(c.rank,") does not match rank of dy ")+"(".concat(u.rank,")")})),P.b(4===u.rank,(function(){return"Error in maxPoolGrad: dy must be rank 4 but got rank "+"".concat(u.rank,".")})),P.b(4===c.rank,(function(){return"Error in maxPoolGrad: input must be rank 4 but got rank "+"".concat(c.rank,".")})),null!=o&&P.b(P.v(i),(function(){return"Error in maxPoolGrad: pad must be an integer when using, "+"dimRoundingMode ".concat(o," but got pad ").concat(i,".")}));var f={dy:u,input:c,output:l},d={filterSize:r,strides:a,pad:i,dimRoundingMode:o};return I.a.runKernel(s.Lb,f,d)}}),ot={kernelName:s.Ib,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(u.a)(t,2),a=r[0],i=r[1],o=n.filterSize,s=n.strides,c=n.pad;return{x:function(){return it(e,a,i,o,s,c)}}}},ut=n(148),st={kernelName:s.Ob,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=n.axis,i=P.I(a,r.shape),o=Object(ge.d)(r.shape,i)[1],s=P.O(o);return{x:function(){var t=r.shape.slice();i.forEach((function(e){t[e]=1}));var n=Object(w.a)(e,t);return Object(h.a)(Object(l.a)(n,Object(ut.a)(r.shape,"float32")),s)}}}},ct={kernelName:s.Pb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.axis,a=Object(u.a)(t,2),i=a[0],o=Ze(e,a[1],i,P.I(r,i.shape));return{x:function(){return o.x()}}}},lt={kernelName:s.Qb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1];return{a:function(){return Object(l.a)(e,Object(c.a)(Object(J.a)(r,a),"float32"))},b:function(){return Object(l.a)(e,Object(c.a)(Object(He.a)(r,a),"float32"))}}}},ft=n(47),dt={kernelName:s.Rb,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],a=n.paddings.map((function(e){return e[0]}));return{x:function(){return Object(ft.a)(e,a,r.shape)}}}},ht=n(223),pt={kernelName:s.Sb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(_.a)(r.shape,a.shape);return{a:function(){var t=Object(_.c)(r.shape,i);return t.length>0?Object(w.a)(Object(O.a)(e,t),r.shape):e},b:function(){var t=Object(l.a)(e,Object(p.a)(Object(ht.a)(Object(h.a)(r,a)))),n=Object(_.c)(a.shape,i);return n.length>0?Object(w.a)(Object(O.a)(t,n),a.shape):t}}}},vt={kernelName:s.Ub,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(_.a)(r.shape,a.shape);return{a:function(){var t=Object(l.a)(e,Object(c.a)(a,"float32")),n=Object(_.c)(r.shape,i);return n.length>0?Object(w.a)(Object(O.a)(t,n),r.shape):t},b:function(){var t=Object(l.a)(e,Object(c.a)(r,"float32")),n=Object(_.c)(a.shape,i);return n.length>0?Object(w.a)(Object(O.a)(t,n),a.shape):t}}}},mt={kernelName:s.Vb,gradFunc:function(e){return{x:function(){return Object(p.a)(e)}}}},gt=n(149),bt={kernelName:s.ac,inputsToSave:["indices"],gradFunc:function(e,t){var n=t[0];return{indices:function(){return Object(gt.a)(n.shape,"float32")}}}},yt={kernelName:s.bc,gradFunc:function(e){return{x:function(){return Object(E.a)(e)}}}},xt=n(152),_t={kernelName:s.cc,saveAllInputs:!0,gradFunc:function(e,t,n){var r=n.axis;return Object(xt.a)(e,r).map((function(e){return function(){return e}}))}},wt={kernelName:s.dc,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],a=n.paddings.map((function(e){return e[0]}));return{x:function(){return Object(ft.a)(e,a,r.shape)}}}},Ot=n(133),kt=n(99),jt={kernelName:s.fc,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:function(e,t){var n=Object(u.a)(t,3),r=n[0],a=n[1],i=n[2],o=r,s=a,f=_.a(o.shape,s.shape);return{a:function(){var t=Object(c.a)(s,"float32"),n=Object(l.a)(e,Object(l.a)(t,Object(kt.a)(o,Object(b.a)(t,Object(v.a)(1))))),r=_.c(o.shape,f);return r.length>0&&(n=Object(O.a)(n,r)),Object(w.a)(n,o.shape)},b:function(){var t=Object(He.a)(o,0),n=Object(Z.a)(t,Object(Ot.a)(o),Object(E.a)(o)),r=Object(l.a)(e,Object(l.a)(i,n)),a=_.c(s.shape,f);return a.length>0&&(r=Object(O.a)(r,a)),Object(w.a)(r,s.shape)}}}},Et={kernelName:s.gc,inputsToSave:["x","alpha"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(He.a)(r,0);return{x:function(){return Object(Z.a)(i,e,Object(l.a)(e,a))},alpha:function(){var t=Object(Z.a)(i,Object(E.a)(e),Object(l.a)(e,r)),n=Object(_.c)(a.shape,e.shape);return n.length>0&&(t=Object(O.a)(t,n)),Object(w.a)(t,a.shape)}}}},Ct={kernelName:s.kc,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1],i=_.a(r.shape,a.shape);return{a:function(){var t=Object(h.a)(e,Object(c.a)(a,"float32")),n=_.c(r.shape,i);return n.length>0?Object(w.a)(Object(O.a)(t,n),r.shape):t},b:function(){var t=Object(l.a)(e,Object(c.a)(r,"float32")),n=_.c(a.shape,i);n.length>0&&(t=Object(w.a)(Object(O.a)(t,n),a.shape));var o=Object(g.a)(a);return Object(p.a)(Object(h.a)(t,Object(c.a)(o,"float32")))}}}},At={kernelName:s.lc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(h.a)(e,Object(p.a)(Object(g.a)(n)))}}}},St={kernelName:s.nc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0],r=Object(l.a)(Object(J.a)(n,6),Object(f.a)(n));return{x:function(){return Object(l.a)(e,Object(c.a)(r,"float32"))}}}},Dt={kernelName:s.mc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(c.a)(Object(f.a)(n),"float32"))}}}},Nt={kernelName:s.oc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(w.a)(e,n.shape)}}}},Ft={kernelName:s.pc,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:Object(u.a)(t,1)[0]};return{images:function(){return I.a.runKernel(s.qc,r,n)}}}},Tt={kernelName:s.rc,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:Object(u.a)(t,1)[0]};return{images:function(){return I.a.runKernel(s.sc,r,n)}}}},Mt=n(88),It={kernelName:s.tc,gradFunc:function(e,t,n){var r=n.dims,a=Object(P.I)(r,e.shape);return{x:function(){return Object(Mt.a)(e,a)}}}},Rt={kernelName:s.vc,gradFunc:function(e){return{x:function(){return Object(E.a)(e)}}}},Pt={kernelName:s.wc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(p.a)(Object(h.a)(e,Object(l.a)(Object(kt.a)(n,1.5),2)))}}}},Bt=n(175),zt={kernelName:s.yc,inputsToSave:["condition"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{condition:function(){return Object(c.a)(Object(E.a)(n),"float32")},t:function(){return Object(l.a)(e,Object(c.a)(n,e.dtype))},e:function(){return Object(l.a)(e,Object(c.a)(Object(Bt.a)(n),e.dtype))}}}},Lt=n(275),Ut={kernelName:s.zc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){var t=Object(He.a)(n,Object(v.a)(0)),r=Object(v.a)(Lt.b),a=Object(v.a)(Lt.a),i=Object(l.a)(e,a),o=Object(l.a)(Object(l.a)(e,r),Object(Ee.a)(Object(c.a)(n,"float32")));return Object(Z.a)(t,i,o)}}}},Wt={kernelName:s.Ac,outputsToSave:[!0],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(l.a)(n,Object(b.a)(Object(v.a)(1),n)))}}}},Vt={kernelName:s.Bc,gradFunc:function(e){return{x:function(){return Object(E.a)(e)}}}},qt=n(220),Ht={kernelName:s.Cc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(Object(qt.a)(Object(c.a)(n,"float32")),e)}}}},Gt=n(324),Kt={kernelName:s.Dc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(Object(Gt.a)(Object(c.a)(n,"float32")),e)}}}},$t=n(103),Xt=n(216),Yt={kernelName:s.Ec,inputsToSave:["x"],gradFunc:function(e,t,n){for(var r=Object(u.a)(t,1)[0],a=n.begin,i=n.size,o=r.shape,s=Object(Xt.parseSliceParams)(r,a,i),c=Object(u.a)(s,2),l=c[0],f=c[1],d=[],h=0;h<e.rank;h++)d.push([l[h],o[h]-l[h]-f[h]]);return{x:function(){return Object($t.a)(e,d)}}}},Jt={kernelName:s.Fc,outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=n.dim,i=Object(l.a)(e,r);return{logits:function(){return Object(b.a)(i,Object(l.a)(Object(O.a)(i,[a],true),r))}}}},Qt=n(154),Zt={kernelName:s.Gc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(Qt.a)(n))}}}},en=n(171),tn={kernelName:s.Hc,gradFunc:function(e,t,n){var r=n.blockShape,a=n.paddings;return{x:function(){return Object(en.a)(e,r,a)}}}},nn=n(61),rn={kernelName:s.Jc,gradFunc:function(e,t,n){var r=n.axis;return{x:function(){return Object(nn.a)(e,r)}}}},an={kernelName:s.Kc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(h.a)(e,Object(l.a)(Object(m.a)(Object(c.a)(n,"float32")),2))}}}},on={kernelName:s.Lc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(l.a)(Object(c.a)(n,"float32"),2))}}}},un={kernelName:s.Mc,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(v.a)(2);return{a:function(){return Object(l.a)(e,Object(l.a)(i,Object(b.a)(r,a)))},b:function(){return Object(l.a)(e,Object(l.a)(i,Object(b.a)(a,r)))}}}},sn={kernelName:s.Nc,gradFunc:function(e){return{x:function(){return Object(E.a)(e)}}}},cn={kernelName:s.Pc,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(u.a)(t,2),r=n[0],a=n[1],i=_.a(r.shape,a.shape);return{a:function(){var t=e,n=_.c(r.shape,i);return n.length>0&&(t=Object(O.a)(t,n)),Object(w.a)(t,r.shape)},b:function(){var t=e,n=_.c(a.shape,i);return n.length>0&&(t=Object(O.a)(t,n)),Object(w.a)(Object(p.a)(t),a.shape)}}}},ln={kernelName:s.Qc,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=r.shape.slice(),i=n.axis;Object(P.I)(i,r.shape).forEach((function(e){a[e]=1}));var o=Object(w.a)(e,a),s=Object(l.a)(o,Object(ut.a)(r.shape,"float32"));return{x:function(){return s}}}},fn={kernelName:s.Rc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(h.a)(e,Object(g.a)(Object(qt.a)(n)))}}}},dn={kernelName:s.Sc,outputsToSave:[!0],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return Object(l.a)(Object(b.a)(Object(v.a)(1),Object(g.a)(n)),e)}}}},hn={kernelName:s.Tc,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(u.a)(t,1)[0],a=n.reps;return{x:function(){var t=Object(E.a)(r);if(1===r.rank)for(var n=0;n<a[0];++n)t=Object(D.a)(t,Object(ft.a)(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(var i=0;i<a[0];++i)for(var o=0;o<a[1];++o)t=Object(D.a)(t,Object(ft.a)(e,[i*r.shape[0],o*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(var u=0;u<a[0];++u)for(var s=0;s<a[1];++s)for(var c=0;c<a[2];++c)t=Object(D.a)(t,Object(ft.a)(e,[u*r.shape[0],s*r.shape[1],c*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+"".concat(r.rank," tensors yet."));for(var l=0;l<a[0];++l)for(var f=0;f<a[1];++f)for(var d=0;d<a[2];++d)for(var h=0;h<a[3];++h)t=Object(D.a)(t,Object(ft.a)(e,[l*r.shape[0],f*r.shape[1],d*r.shape[2],h*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},pn={kernelName:s.Wc,gradFunc:function(e,t,n){var r=n.perm,a=ge.h(r);return{x:function(){return Object(ye.a)(e,a)}}}},vn=n(112),mn={kernelName:s.Yc,gradFunc:function(e,t,n){var r=n.axis;return{value:function(){return Object(vn.a)(e,r)}}}},gn=n(114),bn=n(174),yn=n(170),xn={kernelName:s.Zc,inputsToSave:["segmentIds"],gradFunc:function(e,t){var n=Object(u.a)(t,1)[0];return{x:function(){return function(e,t){for(var n=Object(yn.a)(t,Object(E.a)(t)),r=Object(bn.a)(e,n),a=Object(Y.a)(t,Object(v.a)(0,"int32")),i=r.rank-a.rank,o=0;o<i;++o)a=Object(gn.a)(a,o+1);a=Object(Q.a)(a,Object(ut.a)(r.shape,"bool"));var u=Object(E.a)(r);return Object(Z.a)(a,r,u)}(e,n)}}}};for(var _n={kernelName:s.ad,gradFunc:function(e){return{x:function(){return Object(E.a)(e)}}}},wn=n(113),On=0,kn=[d,y,x,k,j,C,A,S,N,F,T,M,L,W,q,G,K,$,X,ee,te,re,ce,ue,de,pe,me,xe,Oe,ke,Ct,je,Ce,Ae,Se,De,Fe,Ne,Ie,Pe,Le,Ue,We,Ve,qe,Ge,Ke,$e,Xe,Je,et,et,nt,at,ot,st,ct,lt,dt,pt,vt,mt,bt,yt,_t,wt,wt,jt,Et,At,St,Dt,Nt,Ft,Tt,It,Rt,Pt,zt,Ut,Wt,Vt,Ht,Kt,Yt,Jt,Zt,tn,tn,rn,rn,an,un,on,sn,cn,ln,fn,dn,hn,pn,mn,xn,_n];On<kn.length;On++){var jn=kn[On];Object(wn.e)(jn)}n(428);var En,Cn=n(3),An=n(9),Sn=n(15),Dn=n(16);function Nn(){return null==En&&(En=Object(o.backend)().epsilon()),En}var Fn=n(14),Tn=n(10),Mn=n(60),In=n(30),Rn=n(239);var Pn=n(362);function Bn(e){var t="function"===typeof Map?new Map:void 0;return(Bn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Object(Pn.a)(e,arguments,Object(In.a)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Object(Rn.a)(r,e)})(e)}var zn=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),r=t.call(this,e),Object.setPrototypeOf(Object(Mn.a)(r),n.prototype),r}return n}(Bn(Error)),Ln=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),r=t.call(this,e),Object.setPrototypeOf(Object(Mn.a)(r),n.prototype),r}return n}(Bn(Error)),Un=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),r=t.call(this,e),Object.setPrototypeOf(Object(Mn.a)(r),n.prototype),r}return n}(Bn(Error)),Wn=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),r=t.call(this,e),Object.setPrototypeOf(Object(Mn.a)(r),n.prototype),r}return n}(Bn(Error)),Vn=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),r=t.call(this,e),Object.setPrototypeOf(Object(Mn.a)(r),n.prototype),r}return n}(Bn(Error));Error;function qn(e,t){if(Array.isArray(e)){for(var n=[],r=0;r<t;r++)n=n.concat(e);return n}var a=new Array(t);return a.fill(e),a}function Hn(e,t){if(!e)throw new Vn(t)}function Gn(e,t){var n,r=0,a=Object(Tn.a)(e);try{for(a.s();!(n=a.n()).done;){n.value===t&&r++}}catch(i){a.e(i)}finally{a.f()}return r}function Kn(e){return 1===e.length?e[0]:e}function $n(e){return Array.isArray(e)?e:[e]}function Xn(e){var t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function Yn(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,(function(e,t){return t.toUpperCase()}))}var Jn={};function Qn(e){if(null===e||void 0===e)return null;var t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function Zn(e){if(null!=e&&"object"===typeof e)if(Array.isArray(e))e.forEach((function(e){return Zn(e)}));else for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],a=e[r];null!=a&&"object"===typeof a&&(Array.isArray(a)||"ndarray"!==a.type||"number"!==typeof a.value?Zn(a):e[r]=a.value)}}function er(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"===typeof e){var i,o=e;if(o in n)i=n[o];else if(o in Jn)i=Jn[o];else if(null==(i=t[o]))throw new Un("Unknown ".concat(r,": ").concat(e,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");return i}var s=e;if(null==s.className||null==s.config)throw new Un("".concat(r,": Improper config format: ")+"".concat(JSON.stringify(s),".\n")+"'className' and 'config' must set.");var c,l,f=s.className;if(f in n){var d=Object(u.a)(n[f],2);c=d[0],l=d[1]}else if(f in Jn){var h=Object(u.a)(Jn.className,2);c=h[0],l=h[1]}else if(f in t){var p=Object(u.a)(t[f],2);c=p[0],l=p[1]}if(null==c)throw new Un("Unknown ".concat(r,": ").concat(f,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");if(null!=l){for(var v={},m=0,g=Object.keys(Jn);m<g.length;m++){var b=g[m];v[b]=Jn[b]}for(var y=0,x=Object.keys(n);y<x.length;y++){var _=x[y];v[_]=n[_]}var w=s.config;w.customObjects=v;for(var O=Object.assign({},Jn),k=0,j=Object.keys(n);k<j.length;k++){var E=j[k];Jn[E]=n[E]}Zn(s.config);var C=l(c,s.config,n,a);return Jn=Object.assign({},O),C}for(var A=Object.assign({},Jn),S=0,D=Object.keys(n);S<D.length;S++){var N=D[S];Jn[N]=n[N]}var F=new c(s.config);return Jn=Object.assign({},A),F}function tr(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function nr(e){if(null==e)return e;var t,n=[],r=Object(Tn.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;-1===n.indexOf(a)&&n.push(a)}}catch(i){r.e(i)}finally{r.f()}return n}function rr(e){if(null==e)throw new Un("Invalid value in obj: ".concat(JSON.stringify(e)));for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function ar(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new Un("".concat(n," is not a valid ").concat(t,".  Valid values are ").concat(e," or null/undefined."))}function ir(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return Hn(n>=0),Hn(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((function(e){return typeof e===t}))}function or(e,t){Array.isArray(e)?(o.util.assert(e.length>0,(function(){return"".concat(t," is unexpectedly an empty array.")})),e.forEach((function(e,n){return or(e,"element ".concat(n+1," of ").concat(t))}))):o.util.assert(Number.isInteger(e)&&e>0,(function(){return"Expected ".concat(t," to be a positive integer, but got ")+"".concat(ur(e),".")}))}function ur(e){return null===e?"null":Array.isArray(e)?"["+e.map((function(e){return ur(e)})).join(",")+"]":"string"===typeof e?'"'.concat(e,'"'):"".concat(e)}function sr(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}function cr(e,t){return Object(o.tidy)((function(){return o.sqrt(o.sum(o.mul(e,e),t,!0))}))}var lr=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"getConfig",value:function(){return{}}}]),n}(o.serialization.Serializable),fr=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this)).defaultMaxValue=2,r.defaultAxis=0,r.maxValue=null!=e.maxValue?e.maxValue:r.defaultMaxValue,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return Object(An.a)(n,[{key:"apply",value:function(e){var t=this;return Object(o.tidy)((function(){var n=cr(e,t.axis),r=o.clipByValue(n,0,t.maxValue);return o.mul(e,o.div(r,o.add(Nn(),n)))}))}},{key:"getConfig",value:function(){return{maxValue:this.maxValue,axis:this.axis}}}]),n}(lr);fr.className="MaxNorm",o.serialization.registerClass(fr);var dr=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this)).defaultAxis=0,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return Object(An.a)(n,[{key:"apply",value:function(e){var t=this;return Object(o.tidy)((function(){return o.div(e,o.add(Nn(),cr(e,t.axis)))}))}},{key:"getConfig",value:function(){return{axis:this.axis}}}]),n}(lr);dr.className="UnitNorm",o.serialization.registerClass(dr);var hr=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return o.relu(e)}}]),n}(lr);hr.className="NonNeg",o.serialization.registerClass(hr);var pr=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this)).defaultMinValue=0,r.defaultMaxValue=1,r.defaultRate=1,r.defaultAxis=0,r.minValue=null!=e.minValue?e.minValue:r.defaultMinValue,r.maxValue=null!=e.maxValue?e.maxValue:r.defaultMaxValue,r.rate=null!=e.rate?e.rate:r.defaultRate,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return Object(An.a)(n,[{key:"apply",value:function(e){var t=this;return Object(o.tidy)((function(){var n=cr(e,t.axis),r=o.add(o.mul(t.rate,o.clipByValue(n,t.minValue,t.maxValue)),o.mul(1-t.rate,n));return o.mul(e,o.div(r,o.add(Nn(),n)))}))}},{key:"getConfig",value:function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}]),n}(lr);pr.className="MinMaxNorm",o.serialization.registerClass(pr);var vr={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function mr(e){return Qn(e)}function gr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return er(e,o.serialization.SerializationMap.getMap().classNameMap,t,"constraint")}function br(e){return null==e?null:"string"===typeof e?gr({className:e in vr?vr[e]:e,config:{}}):e instanceof lr?e:gr(e)}var yr=["channelsFirst","channelsLast"],xr=["nearest","bilinear"],_r=["valid","same","causal"],wr=["max","avg"],Or=["sum","mul","concat","ave"],kr=new Map;function jr(e){ar(yr,"DataFormat",e)}function Er(e){ar(_r,"PaddingMode",e)}function Cr(e){ar(wr,"PoolMode",e)}var Ar=[];function Sr(e,t){Ar.push(e);try{var n=t();return Ar.pop(),n}catch(r){throw Ar.pop(),r}}function Dr(e){if(!Tr(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===Ar.length?"":Ar.join("/")+"/")+e}function Nr(e){if(!Tr(e))throw new Error("Not a valid tensor name: '"+e+"'");kr.has(e)||kr.set(e,0);var t=kr.get(e);if(kr.set(e,kr.get(e)+1),t>0){var n="".concat(e,"_").concat(t);return kr.set(n,1),n}return e}var Fr=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function Tr(e){return!!e.match(Fr)}function Mr(e,t,n){null==t&&(t=0),null==n&&(n=e.length);for(var r=1,a=t;a<n;++a)r*=e[a];return r}function Ir(e){return e=Array.isArray(e)?new Float32Array(e):e,Object(o.tensor1d)(e)}function Rr(e){return o.min(Ir(e)).dataSync()[0]}function Pr(e){return o.max(Ir(e)).dataSync()[0]}function Br(e,t){if(t<e)throw new Un("end (".concat(t,") < begin (").concat(e,") is forbidden."));for(var n=[],r=e;r<t;++r)n.push(r);return n}function zr(e,t){return e.asType(t)}function Lr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),e.reshape(n)}function Ur(e){var t=[Mr(e.shape)];return e.reshape(t)}function Wr(e,t,n){return Object(o.tidy)((function(){switch(e.rank){case 1:return o.slice1d(e,t,n);case 2:return o.slice2d(e,[t,0],[n,e.shape[1]]);case 3:return o.slice3d(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return o.slice4d(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return o.slice(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return o.slice(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new Un("sliceAlongFirstAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function Vr(e,t,n){return Object(o.tidy)((function(){switch(e.rank){case 1:return o.slice1d(e,t,n);case 2:return o.slice2d(e,[0,t],[e.shape[0],n]);case 3:return o.slice3d(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return o.slice4d(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new Un("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function qr(e,t,n,r){return Object(o.tidy)((function(){switch(e.rank){case 1:return o.slice1d(e,t,n);case 2:switch(r){case 1:return Wr(e,t,n);case 2:return Vr(e,t,n);default:throw new Un("The axis is not within the rank of the tensor "+"".concat(r))}case 3:switch(r){case 1:return Wr(e,t,n);case 2:return o.slice3d(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return Vr(e,t,n);default:throw new Un("The axis is not within the rank of the tensor "+"".concat(r))}case 4:switch(r){case 1:return Wr(e,t,n);case 2:return o.slice4d(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return o.slice4d(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return Vr(e,t,n);default:throw new Un("The axis is not within the rank of the tensor "+"".concat(r))}default:throw new Un("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function Hr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n<0&&(n=0!==(t=e[0].rank)?t:0),n===e[0].rank&&(n=-1),o.concat(e,n)}function Gr(e,t){switch(e.rank){case 1:return o.concat1d([e,t]);case 2:return o.concat2d([e,t],0);case 3:return o.concat3d([e,t],0);case 4:return o.concat4d([e,t],0);default:throw new Un("concatAlongFirstAxis() received an unsupported "+"tensor rank: ".concat(e.rank))}}function Kr(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new Un("The length of input n (".concat(t.length,") does not match ")+"the number of dimensions in input x (".concat(e.rank,")"));return o.tile(e,t)}function $r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;return o.randomNormal(e,t,n,r,a)}function Xr(e,t,n,r){if(e.rank<2||t.rank<2)throw new Wn("dot requires both inputs to be rank >= 2"+" but got x shape = ".concat(e.shape," and y shape = ").concat(t.shape));if(t.rank>=3&&e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new Wn("If rank y >= 3, then the second last dim"+" of y must equal the last dim of x but got x shape = ".concat(e.shape," and ")+" y shape = ".concat(t.shape));if(2===e.rank&&2===t.rank){return o.fused.matMul({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?Qr(e.rank,r,"channelsLast"):null,activation:n})}var a=e.shape.slice(),i=a.pop();e=e.reshape([-1,i]);var u=t.shape.slice(),s=u.pop(),c=u.pop(),l=[].concat(Object(Fn.a)(u),[s]),f=Array.from({length:t.rank},(function(e,n){return 0===n?t.rank-2:n<=t.rank-2?n-1:n}));t=t.transpose(f).reshape([c,-1]);var d=[].concat(Object(Fn.a)(a),Object(Fn.a)(l));return o.fused.matMul({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?Qr(e.rank,r,"channelsLast"):null,activation:n}).reshape(d)}function Yr(e,t,n){return Object(o.tidy)((function(){return t=Array.isArray(t)?Object(o.tensor1d)(t,"int32"):t.toInt(),o.gather(e,t,n)}))}function Jr(e){return o.mul(e,e)}function Qr(e,t,n){var r=t.shape;if(1!==t.rank&&t.rank!==e)throw new Un("Unexpected bias dimensions: ".concat(t.rank)+"; expected it to be 1 or ".concat(e));if(5===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1,1,1]):t.reshape([1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,1,1,r[0]]):t.reshape([1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1,1]):t.reshape([1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,1,r[0]]):t.reshape([1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1]):t.reshape([1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,r[0]]):t.reshape([1].concat(r))}else if(e<3)return t;throw new Un("Unsupported input rank by biasAdd: ".concat(t.rank))}function Zr(e,t,n){return Object(o.tidy)((function(){return null==n&&(n="channelsLast"),jr(n),e.add(Qr(e.rank,t,n))}))}function ea(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==t)throw new Wn("Support for alpha values other than 1 (".concat(t,") is not implemented ")+"yet.");return o.elu(e)}function ta(e,t,n,r){return Object(o.tidy)((function(){return o.dropout(e,t,n,r)}))}function na(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?e():t()}var ra=["fanIn","fanOut","fanAvg"],aa=["normal","uniform","truncatedNormal"];var ia=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"fromConfigUsesCustomObjects",value:function(){return!1}},{key:"getConfig",value:function(){return{}}}]),n}(o.serialization.Serializable),oa=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e,t){return Object(o.zeros)(e,t)}}]),n}(ia);oa.className="Zeros",o.serialization.registerClass(oa);var ua=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e,t){return Object(o.ones)(e,t)}}]),n}(ia);ua.className="Ones",o.serialization.registerClass(ua);var sa=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;if(Object(Cn.a)(this,n),r=t.call(this),"object"!==typeof e)throw new Un("Expected argument of type ConstantConfig but got ".concat(e));if(void 0===e.value)throw new Un("config must have value set but got ".concat(e));return r.value=e.value,r}return Object(An.a)(n,[{key:"apply",value:function(e,t){var n=this;return Object(o.tidy)((function(){return Object(o.mul)(Object(o.scalar)(n.value),Object(o.ones)(e,t))}))}},{key:"getConfig",value:function(){return{value:this.value}}}]),n}(ia);sa.className="Constant",o.serialization.registerClass(sa);var ca=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this)).DEFAULT_MINVAL=-.05,r.DEFAULT_MAXVAL=.05,r.minval=e.minval||r.DEFAULT_MINVAL,r.maxval=e.maxval||r.DEFAULT_MAXVAL,r.seed=e.seed,r}return Object(An.a)(n,[{key:"apply",value:function(e,t){return Object(o.randomUniform)(e,this.minval,this.maxval,t)}},{key:"getConfig",value:function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}]),n}(ia);ca.className="RandomUniform",o.serialization.registerClass(ca);var la=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this)).DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=e.mean||r.DEFAULT_MEAN,r.stddev=e.stddev||r.DEFAULT_STDDEV,r.seed=e.seed,r}return Object(An.a)(n,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Wn("randomNormal does not support dType ".concat(t,"."));return $r(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),n}(ia);la.className="RandomNormal",o.serialization.registerClass(la);var fa=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this)).DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=e.mean||r.DEFAULT_MEAN,r.stddev=e.stddev||r.DEFAULT_STDDEV,r.seed=e.seed,r}return Object(An.a)(n,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Wn("truncatedNormal does not support dType ".concat(t,"."));return Object(o.truncatedNormal)(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),n}(ia);fa.className="TruncatedNormal",o.serialization.registerClass(fa);var da=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this)).gain=null!=e.gain?e.gain:1,r}return Object(An.a)(n,[{key:"apply",value:function(e,t){var n=this;return Object(o.tidy)((function(){if(2!==e.length||e[0]!==e[1])throw new Un("Identity matrix initializer can only be used for 2D square matrices.");return Object(o.mul)(n.gain,Object(o.eye)(e[0]))}))}},{key:"getConfig",value:function(){return{gain:this.gain}}}]),n}(ia);da.className="Identity",o.serialization.registerClass(da);var ha=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r,a;if(Object(Cn.a)(this,n),r=t.call(this),e.scale<0)throw new Un("scale must be a positive float. Got: ".concat(e.scale));return r.scale=null==e.scale?1:e.scale,r.mode=null==e.mode?"fanIn":e.mode,a=r.mode,ar(ra,"FanMode",a),r.distribution=null==e.distribution?"normal":e.distribution,function(e){ar(aa,"Distribution",e)}(r.distribution),r.seed=e.seed,r}return Object(An.a)(n,[{key:"apply",value:function(e,t){var n=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channelsLast";if(jr(r),2===e.length)t=e[0],n=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===r){var a=Mr(e,2);t=e[1]*a,n=e[0]*a}else if("channelsLast"===r){var i=Mr(e,0,e.length-2);t=e[e.length-2]*i,n=e[e.length-1]*i}}else{var o=Mr(e);t=Math.sqrt(o),n=Math.sqrt(o)}return[t,n]}(e),r=n[0],a=n[1],i=this.scale;if("fanIn"===this.mode?i/=Math.max(1,r):"fanOut"===this.mode?i/=Math.max(1,a):i/=Math.max(1,(r+a)/2),"normal"===this.distribution){var u=Math.sqrt(i);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Wn("".concat(this.getClassName()," does not support dType ").concat(t,"."));return Object(o.truncatedNormal)(e,0,u,t,this.seed)}var s=Math.sqrt(3*i);return Object(o.randomUniform)(e,-s,s,t)}},{key:"getConfig",value:function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}]),n}(ia);ha.className="VarianceScaling",o.serialization.registerClass(ha);var pa=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}return Object(An.a)(n,[{key:"getClassName",value:function(){return ha.className}}]),n}(ha);pa.className="GlorotUniform",o.serialization.registerClass(pa);var va=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}return Object(An.a)(n,[{key:"getClassName",value:function(){return ha.className}}]),n}(ha);va.className="GlorotNormal",o.serialization.registerClass(va);var ma=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}return Object(An.a)(n,[{key:"getClassName",value:function(){return ha.className}}]),n}(ha);ma.className="HeNormal",o.serialization.registerClass(ma);var ga=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,{scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}return Object(An.a)(n,[{key:"getClassName",value:function(){return ha.className}}]),n}(ha);ga.className="HeUniform",o.serialization.registerClass(ga);var ba=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}return Object(An.a)(n,[{key:"getClassName",value:function(){return ha.className}}]),n}(ha);ba.className="LeCunNormal",o.serialization.registerClass(ba);var ya=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,{scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}return Object(An.a)(n,[{key:"getClassName",value:function(){return ha.className}}]),n}(ha);ya.className="LeCunNormal",o.serialization.registerClass(ya);var xa=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;if(Object(Cn.a)(this,n),(r=t.call(this)).DEFAULT_GAIN=1,r.gain=null==e.gain?r.DEFAULT_GAIN:e.gain,r.seed=e.seed,null!=r.seed)throw new Wn("Random seed is not implemented for Orthogonal Initializer yet.");return r}return Object(An.a)(n,[{key:"apply",value:function(e,t){var n=this;return Object(o.tidy)((function(){if(e.length<2)throw new Wn("Shape must be at least 2D.");e[0]*e[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more "+"than 2000 (".concat(e[0]*e[1],") elements: ")+"Slowness may result.");var t=$r(e[0]>e[1]?[e[1],e[0]]:e,0,1,"float32"),r=o.linalg.gramSchmidt(t);return e[0]>e[1]&&(r=r.transpose()),Object(o.mul)(n.gain,r)}))}},{key:"getConfig",value:function(){return{gain:this.gain,seed:this.seed}}}]),n}(ia);xa.className="Orthogonal",o.serialization.registerClass(xa);var _a={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function wa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return er(e,o.serialization.SerializationMap.getMap().classNameMap,t,"initializer")}function Oa(e){return Qn(e)}function ka(e){if("string"===typeof e){var t=e in _a?_a[e]:e;if("GlorotNormal"===t)return new va;if("GlorotUniform"===t)return new pa;if("HeNormal"===t)return new ma;if("HeUniform"===t)return new ga;if("LeCunNormal"===t)return new ba;if("LeCunUniform"===t)return new ya;var n={};return n.className=t,n.config={},wa(n)}return e instanceof ia?e:wa(e)}var ja=0;function Ea(){return ja++}var Ca={};function Aa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in Ca||(Ca[e]=0),Ca[e]+=1,e+Ca[e].toString()}function Sa(e){return Array.isArray(e)&&Array.isArray(e[0])}function Da(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function Na(e){var t;if(Array.isArray(e)){if(1!==e.length)throw new Un("Expected Tensor length to be 1; got ".concat(e.length));t=e[0]}else t=e;return t}function Fa(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return(e=e)[0];throw new Un("Expected exactly 1 Shape; got ".concat(e.length))}return e}function Ta(e){var t,n=0,r=Object(Tn.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;0===a.shape.length?n+=1:n+=a.shape.reduce((function(e,t){return e*t}))}}catch(i){r.e(i)}finally{r.f()}return n}var Ma="Variable",Ia=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ma,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(Cn.a)(this,e),this.dtype=null==n?"float32":n,this.shape=t.shape,this.id=Ea(),r=null==r?Ma:r,this.originalName=Dr(r),this.name=Nr(this.originalName),this.trainable_=a,this.constraint=i,this.val=o.variable(t,this.trainable_,this.name,this.dtype)}return Object(An.a)(e,[{key:"read",value:function(){return this.assertNotDisposed(),this.val}},{key:"write",value:function(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}},{key:"dispose",value:function(){this.assertNotDisposed(),this.val.dispose()}},{key:"assertNotDisposed",value:function(){if(this.val.isDisposed)throw new Error("LayersVariable ".concat(this.name," is already disposed."))}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.trainable_=e,this.val.trainable=e}}]),e}();function Ra(e){return e.map((function(e){return e.read()}))}function Pa(e){e.forEach((function(e){e[0].write(e[1])}))}var Ba=function e(t){Object(Cn.a)(this,e),this.dtype=t.dtype,this.shape=t.shape,null!=t.shape?this.ndim=t.shape.length:this.ndim=t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}},za=function e(t,n,r,a,i,o,u){Object(Cn.a)(this,e),this.dtype=t,this.shape=n,this.sourceLayer=r,this.inputs=a,this.callArgs=i,this.outputTensorIndex=u,this.id=Ea(),null!=o&&(this.originalName=Dr(o),this.name=Nr(this.originalName)),this.rank=n.length},La=0,Ua=function(){function e(t,n){Object(Cn.a)(this,e),this.callArgs=n,this.id=La++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;var r,a=Object(Tn.a)(t.inboundLayers);try{for(a.s();!(r=a.n()).done;){var i=r.value;null!=i&&i.outboundNodes.push(this)}}catch(o){a.e(o)}finally{a.f()}t.outboundLayer.inboundNodes.push(this)}return Object(An.a)(e,[{key:"getConfig",value:function(){var e,t=[],n=Object(Tn.a)(this.inboundLayers);try{for(n.s();!(e=n.n()).done;){var r=e.value;null!=r?t.push(r.name):t.push(null)}}catch(a){n.e(a)}finally{n.f()}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:t,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}]),e}(),Wa=0,Va=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(Cn.a)(this,n),(e=t.call(this))._callHook=null,e._addedWeightNames=[],e._stateful=!1,e.id=Wa++,e.activityRegularizer=null,e.inputSpec=null,e.supportsMasking=!1,e._trainableWeights=[],e._nonTrainableWeights=[],e._losses=[],e._updates=[],e._built=!1,e.inboundNodes=[],e.outboundNodes=[];var a=r.name;if(!a){var i=e.getClassName();a=Xn(i)+"_"+Aa(i)}if(e.name=a,e.trainable_=null==r.trainable||r.trainable,null!=r.inputShape||null!=r.batchInputShape){var o;if(null!=r.batchInputShape)o=r.batchInputShape;else if(null!=r.inputShape){var u=null;null!=r.batchSize&&(u=r.batchSize),o=[u].concat(r.inputShape)}e.batchInputShape=o;var s=r.dtype;null==s&&(s=r.inputDType),null==s&&(s="float32"),e.dtype=s}return null!=r.weights?e.initialWeights=r.weights:e.initialWeights=null,e._refCount=null,e.fastWeightInitDuringBuild=!1,e}return Object(An.a)(n,[{key:"getNodeAtIndex",value:function(e,t){if(0===this.inboundNodes.length)throw new Ln("The layer has never been called "+"and thus has no defined ".concat(t,"."));if(this.inboundNodes.length<=e)throw new Un("Asked to get ".concat(t," at node ").concat(e,", ")+"but the layer has only ".concat(this.inboundNodes.length," inbound nodes."));return this.inboundNodes[e]}},{key:"getInputAt",value:function(e){return Kn(this.getNodeAtIndex(e,"input").inputTensors)}},{key:"getOutputAt",value:function(e){return Kn(this.getNodeAtIndex(e,"output").outputTensors)}},{key:"input",get:function(){if(this.inboundNodes.length>1)throw new zn("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new zn("Layer ".concat(this.name)+" is not connected, no input to return.");return Kn(this.getNodeAtIndex(0,"input").inputTensors)}},{key:"output",get:function(){if(0===this.inboundNodes.length)throw new zn("Layer ".concat(this.name)+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new zn("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return Kn(this.getNodeAtIndex(0,"output").outputTensors)}},{key:"losses",get:function(){return this._losses}},{key:"calculateLosses",value:function(){return this.losses.map((function(e){return e()}))}},{key:"updates",get:function(){return this._updates}},{key:"built",get:function(){return this._built},set:function(e){this._built=e}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this._trainableWeights.forEach((function(t){return t.trainable=e})),this.trainable_=e}},{key:"trainableWeights",get:function(){return this.trainable_?this._trainableWeights.filter((function(e){return e.trainable})):[]},set:function(e){this._trainableWeights=e}},{key:"nonTrainableWeights",get:function(){return this.trainable?this._trainableWeights.filter((function(e){return!e.trainable})).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)},set:function(e){this._nonTrainableWeights=e}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"stateful",get:function(){return this._stateful}},{key:"resetStates",value:function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}},{key:"assertInputCompatibility",value:function(e){if(e=$n(e),null!=this.inputSpec&&0!==this.inputSpec.length){var t=$n(this.inputSpec);if(e.length!==t.length)throw new Un("Layer ".concat(this.name," expects ").concat(t.length," inputs, ")+"but it received ".concat(e.length," input tensors. ")+"Input received: ".concat(e));for(var n=0;n<e.length;n++){var r=e[n],a=t[n];if(null!=a){var i=r.rank;if(null!=a.ndim&&i!==a.ndim)throw new Un("Input ".concat(n," is incompatible with layer ").concat(this.name,": ")+"expected ndim=".concat(a.ndim,", found ndim=").concat(i));if(null!=a.maxNDim&&i>a.maxNDim)throw new Un("Input ".concat(n," is incompatible with layer ").concat(this.name)+": expected max_ndim=".concat(a.maxNDim,", found ndim=").concat(i));if(null!=a.minNDim&&i<a.minNDim)throw new Un("Input ".concat(n," is incompatible with layer ").concat(this.name)+": expected min_ndim=".concat(a.minNDim,", found ndim=").concat(i,"."));if(null!=a.dtype&&r.dtype!==a.dtype)throw new Un("Input ".concat(n," is incompatible with layer ").concat(this.name," ")+": expected dtype=".concat(a.dtype,", found dtype=").concat(r.dtype,"."));if(a.axes){var o=r.shape;for(var u in a.axes){var s=Number(u),c=a.axes[u],l=s>=0?o[s]:o[o.length+s];if(null!=c&&-1===[c,null].indexOf(l))throw new Un("Input ".concat(n," is incompatible with layer ")+"".concat(this.name,": expected axis ").concat(s," of input shape to ")+"have value ".concat(c," but got shape ").concat(o,"."))}}if(null!=a.shape)for(var f=0;f<a.shape.length;++f){var d=a.shape[f],h=r.shape[f];if(null!=d&&null!=h&&d!==h)throw new Un("Input ".concat(n," is incompatible with layer ")+"".concat(this.name,": expected shape=").concat(a.shape,", ")+"found shape=".concat(r.shape,"."))}}}}}},{key:"call",value:function(e,t){return e}},{key:"invokeCallHook",value:function(e,t){null!=this._callHook&&this._callHook(e,t)}},{key:"setCallHook",value:function(e){this._callHook=e}},{key:"clearCallHook",value:function(){this._callHook=null}},{key:"apply",value:function(e,t){var n=this;t=t||{},this.assertNotDisposed();var r,a=$n(e),i=!0,o=Object(Tn.a)(a);try{for(o.s();!(r=o.n()).done;){if(!(r.value instanceof za)){i=!1;break}}}catch(l){o.e(l)}finally{o.f()}var u,s=!0,c=Object(Tn.a)(a);try{for(c.s();!(u=c.n()).done;){if(u.value instanceof za){s=!1;break}}}catch(l){c.e(l)}finally{c.f()}if(i===s)throw new Un("Arguments to apply() must be all SymbolicTensors or all Tensors");return Sr(this.name,(function(){if(!n.built){n.assertInputCompatibility(e);var r,i=[],o=Object(Tn.a)($n(e));try{for(o.s();!(r=o.n()).done;){var u=r.value;i.push(u.shape)}}catch(l){o.e(l)}finally{o.f()}n.build(Kn(i)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&s&&(n._refCount=1)}if(n.assertInputCompatibility(e),s){var c,f=n.call(e,t),d=$n(f),h=[],p=Object(Tn.a)(d);try{for(p.s();!(c=p.n()).done;){var v=c.value;-1!==a.indexOf(v)&&(v=v.clone()),h.push(v)}}catch(l){p.e(l)}finally{p.f()}if(f=Kn(h),null!=n.activityRegularizer)throw new Wn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return f}var m,g=function(e){e=$n(e);var t,n=[],r=Object(Tn.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(a.shape)}}catch(l){r.e(l)}finally{r.f()}return Kn(n)}(e),b=n.computeOutputShape(g),y="float32";if(n.warnOnIncompatibleInputShape(Array.isArray(e)?g[0]:g),m=null!=b&&b.length>0&&Array.isArray(b[0])?b.map((function(r,a){return new za(y,r,n,$n(e),t,n.name,a)})):new za(y,b,n,$n(e),t,n.name),n.addInboundNode(e,m,null,null,g,b,t),n._refCount++,null!=n.activityRegularizer)throw new Wn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return m}))}},{key:"warnOnIncompatibleInputShape",value:function(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+"".concat(JSON.stringify(e),") does not match that of the ")+"batchInputShape (".concat(JSON.stringify(this.batchInputShape),") ")+"of the layer ".concat(this.name));else{var t=!1;this.batchInputShape.forEach((function(n,r){null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn("The shape of the input tensor "+"(".concat(JSON.stringify(e),") does not ")+"match the expectation of layer ".concat(this.name,": ")+"".concat(JSON.stringify(this.batchInputShape)))}}},{key:"outputShape",get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new zn("The layer ".concat(this.name," has never been called and thus has no ")+"defined output shape.");var e,t=[],n=Object(Tn.a)(this.inboundNodes);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=JSON.stringify(r.outputShapes);-1===t.indexOf(a)&&t.push(a)}}catch(o){n.e(o)}finally{n.f()}if(1===t.length){var i=this.inboundNodes[0].outputShapes;return Array.isArray(i)&&Array.isArray(i[0])&&1===i.length?i[0]:i}throw new zn("The layer ".concat(this.name," has multiple inbound nodes with different ")+'output shapes. Hence the notion of "output shape" is ill-defined for the layer.')}},{key:"countParams",value:function(){if(!this.built)throw new Ln("You tried to call countParams() on ".concat(this.name,", ")+"but the layer is not built yet. Build it first by calling build(batchInputShape).");return Ta(this.weights)}},{key:"build",value:function(e){this.built=!0}},{key:"getWeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Ra(e?this.trainableWeights:this.weights)}},{key:"setWeights",value:function(e){var t=this;Object(o.tidy)((function(){var n=t.weights;if(n.length!==e.length)throw new Un('You called setWeights(weights) on layer "'.concat(t.name,'" ')+"with a weight list of length ".concat(e.length,", ")+"but the layer was expecting ".concat(n.length," weights. ")+"Provided weights: ".concat(e,"..."));if(0!==n.length){for(var r=[],a=Ra(n),i=0;i<a.length;++i){var u=a[i],s=n[i],c=e[i];if(!o.util.arraysEqual(u.shape,c.shape))throw new Un("Layer weight shape ".concat(u.shape," ")+"not compatible with provided weight shape ".concat(c.shape));r.push([s,c])}Pa(r)}}))}},{key:"addWeight",value:function(e,t,n,r,a,i,o){if(-1!==this._addedWeightNames.indexOf(e))throw new Un("Duplicate weight name ".concat(e," for layer ").concat(this.name));this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=ka("zeros"));var u=r.apply(t,n),s=new Ia(u,n,e,i,o);return u.dispose(),null!=a&&this.addLoss((function(){return a.apply(s.read())})),null==i&&(i=!0),i?this._trainableWeights.push(s):this._nonTrainableWeights.push(s),s}},{key:"setFastWeightInitDuringBuild",value:function(e){this.fastWeightInitDuringBuild=e}},{key:"addLoss",value:function(e){var t;null==e||Array.isArray(e)&&0===e.length||(e=$n(e),void 0!==this._losses&&null!==this._losses&&(t=this.losses).push.apply(t,Object(Fn.a)(e)))}},{key:"computeOutputShape",value:function(e){return e}},{key:"computeMask",value:function(e,t){var n=this;if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.");t.forEach((function(e){if(null!=e)throw new TypeError("Layer ".concat(n.name," does not support masking, ")+"but was passed an inputMask.")}))}return null}return t}},{key:"addInboundNode",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=$n(e);t=$n(t),n=$n(n),r=$n(r),a=Da(a),i=Da(i);var s,c=[],l=[],f=[],d=Object(Tn.a)(u);try{for(d.s();!(s=d.n()).done;){var h=s.value;c.push(h.sourceLayer),l.push(h.nodeIndex),f.push(h.tensorIndex)}}catch(v){d.e(v)}finally{d.f()}new Ua({outboundLayer:this,inboundLayers:c,nodeIndices:l,tensorIndices:f,inputTensors:u,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:a,outputShapes:i},o);for(var p=0;p<t.length;p++)t[p].sourceLayer=this,t[p].nodeIndex=this.inboundNodes.length-1,t[p].tensorIndex=p}},{key:"getConfig",value:function(){var e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}},{key:"disposeWeights",value:function(){return this.weights.forEach((function(e){return e.dispose()})),this.weights.length}},{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Layer '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){if(!this.built)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been ")+"built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been used ")+"yet.");this.assertNotDisposed();var e=0;return 0===--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}],[{key:"nodeKey",value:function(e,t){return e.name+"_ib-"+t.toString()}}]),n}(o.serialization.Serializable);function qa(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];var r=t.inboundNodes[n];if(0===r.inboundLayers.length)return r.inputTensors;for(var a=[],i=0;i<r.inboundLayers.length;i++){var o,u=qa(r.inputTensors[i],r.inboundLayers[i],r.nodeIndices[i]),s=Object(Tn.a)(u);try{for(s.s();!(o=s.n()).done;){var c=o.value;-1===a.indexOf(c)&&a.push(c)}}catch(l){s.e(l)}finally{s.f()}}return a}var Ha=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;if(Object(Cn.a)(this,n),r=t.call(this,{dtype:e.dtype,name:null!=e.name?e.name:Aa("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),r.trainable=!1,r.built=!0,r.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new Un("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var a=e.batchInputShape;if(null==a){if(null==e.inputShape)throw new Un("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");a=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new Un("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");var i=e.dtype||"float32";r.batchInputShape=a,r.dtype=i,r.inputSpec=[{shape:a}];var o=new za(r.dtype,r.batchInputShape,Object(Mn.a)(r),[],{},r.name);return o.nodeIndex=0,o.tensorIndex=0,new Ua({outboundLayer:Object(Mn.a)(r),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[o],outputTensors:[o],inputMasks:[null],outputMasks:[null],inputShapes:[a],outputShapes:[a]}),r}return Object(An.a)(n,[{key:"apply",value:function(e,t){throw new Un("Cannot pass any input to an "+"InputLayer's apply() method. InputLayer name: ".concat(this.name))}},{key:"dispose",value:function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}},{key:"getConfig",value:function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}]),n}(Va);function Ga(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new Un("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));var n=e.dtype;return null==n&&(n="float32"),new Ha({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}Ha.className="InputLayer",o.serialization.registerClass(Ha);var Ka,$a=n(2),Xa=n.n($a),Ya=n(13);function Ja(e){return Qa.apply(this,arguments)}function Qa(){return(Qa=Object(Ya.a)(Xa.a.mark((function e(t){var n,r,a,i,u,s,c,l;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:for(i in n=[],r=[],a=[],t)"number"!==typeof(u=t[i])&&(s=u,n.push(s.data()),r.push(i),a.push(s));if(!(n.length>0)){e.next=12;break}return e.next=9,Promise.all(n);case 9:for(c=e.sent,l=0;l<c.length;++l)t[r[l]]=c[l][0];Object(o.dispose)(a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Za(e){if(null!=e)for(var t in e){var n=e[t];"number"!==typeof n&&n.dispose()}}!function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(Ka||(Ka={}));var ei=function(){function e(){Object(Cn.a)(this,e),this.validationData=null}return Object(An.a)(e,[{key:"setParams",value:function(e){this.params=e}},{key:"onEpochBegin",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"setModel",value:function(e){}}]),e}(),ti=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;Object(Cn.a)(this,e),null==t&&(t=[]),this.callbacks=t,this.queueLength=n}return Object(An.a)(e,[{key:"append",value:function(e){this.callbacks.push(e)}},{key:"setParams",value:function(e){var t,n=Object(Tn.a)(this.callbacks);try{for(n.s();!(t=n.n()).done;){t.value.setParams(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"setModel",value:function(e){var t,n=Object(Tn.a)(this.callbacks);try{for(n.s();!(t=n.n()).done;){t.value.setModel(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"onEpochBegin",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){var r,a,i;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=Object(Tn.a)(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return i=a.value,e.next=8,i.onEpochBegin(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){var r,a,i;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=Object(Tn.a)(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return i=a.value,e.next=8,i.onEpochEnd(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){var r,a,i;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=Object(Tn.a)(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return i=a.value,e.next=8,i.onBatchBegin(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){var r,a,i;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=Object(Tn.a)(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return i=a.value,e.next=8,i.onBatchEnd(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t){var n,r,a;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t={}),n=Object(Tn.a)(this.callbacks),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a.onTrainBegin(t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t){var n,r,a;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t={}),n=Object(Tn.a)(this.callbacks),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a.onTrainEnd(t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ni=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.call(this)}return Object(An.a)(n,[{key:"onEpochBegin",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.seen=0,this.totals={};case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){var r,a,i,u=this;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in null==n&&(n={}),r=null==n.size?0:n.size,this.seen+=r,a=function(e){var t=n[e];if("number"===typeof t)u.totals.hasOwnProperty(e)||(u.totals[e]=0),u.totals[e]=u.totals[e]+t*r;else{var a;e in u.totals?a=u.totals[e]:u.totals[e]=0;var i=Object(o.tidy)((function(){return Object(o.add)(u.totals[e],Object(o.mul)(t,r))}));u.totals[e]=i,null!=a&&a.dispose()}},n)a(i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){var r,a,i,u=this;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n){e.next=19;break}r=Object(Tn.a)(this.params.metrics),e.prev=2,i=function(){var e=a.value;if(null==u.totals[e])return"continue";"number"===typeof u.totals[e]?n[e]=u.totals[e]/u.seen:Object(o.tidy)((function(){var t=Object(o.mul)(Object(o.div)(1,u.seen),u.totals[e]);n[e]=t,u.totals[e].dispose(),Object(o.keep)(n[e])}))},r.s();case 5:if((a=r.n()).done){e.next=11;break}if("continue"!==i()){e.next=9;break}return e.abrupt("continue",9);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[2,13,16,19]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(ei),ri=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"onTrainBegin",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.epoch=[],this.history={};case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){var r;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in null==n&&(n={}),this.epoch.push(t),n)null==this.history[r]&&(this.history[r]=[]),this.history[r].push(n[r]);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"syncData",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){var t,n,r,a,i,o,u,s,c;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t=[],n=[],r=[],this.history)for(i=this.history[a],o=0;o<i.length;++o)"number"!==typeof i[o]&&(u=i[o],t.push(u.data()),n.push(a),r.push(o));return e.next=6,Promise.all(t);case 6:for(s=e.sent,c=0;c<s.length;++c)this.history[n[c]][r[c]].dispose(),this.history[n[c]][r[c]]=s[c][0];case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ei),ai=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e,r){var a;if(Object(Cn.a)(this,n),(a=t.call(this)).currentEpoch=0,a.yieldEvery=r||"auto","auto"===a.yieldEvery&&(a.yieldEvery=125),"never"===a.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");return o.util.isNumber(a.yieldEvery)&&(a.maybeWait=function(e,t){var n,r=o.util.now();return function(){var a=o.util.now();return a-r<t?n:(r=a,n=e.apply(void 0,arguments))}}(a.maybeWait.bind(Object(Mn.a)(a)),a.yieldEvery)),a.trainBegin=e.onTrainBegin,a.trainEnd=e.onTrainEnd,a.epochBegin=e.onEpochBegin,a.epochEnd=e.onEpochEnd,a.batchBegin=e.onBatchBegin,a.batchEnd=e.onBatchEnd,a.yield=e.onYield,a}return Object(An.a)(n,[{key:"maybeWait",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n,r){var a;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],null==this.yield){e.next=5;break}return e.next=4,Ja(r);case 4:a.push(this.yield(t,n,r));case 5:return a.push(Object(o.nextFrame)()),e.next=8,Promise.all(a);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"onEpochBegin",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentEpoch=t,null==this.epochBegin){e.next=6;break}return e.next=4,Ja(n);case 4:return e.next=6,this.epochBegin(t,n);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){var r;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],null==this.epochEnd){e.next=5;break}return e.next=4,Ja(n);case 4:r.push(this.epochEnd(t,n));case 5:return"epoch"===this.yieldEvery&&r.push(Object(o.nextFrame)()),e.next=8,Promise.all(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.batchBegin){e.next=5;break}return e.next=3,Ja(n);case 3:return e.next=5,this.batchBegin(t,n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){var r;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],null==this.batchEnd){e.next=5;break}return e.next=4,Ja(n);case 4:r.push(this.batchEnd(t,n));case 5:return"batch"===this.yieldEvery?r.push(Object(o.nextFrame)()):o.util.isNumber(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,t,n)),e.next=8,Promise.all(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.trainBegin){e.next=5;break}return e.next=3,Ja(t);case 3:return e.next=5,this.trainBegin(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.trainEnd){e.next=5;break}return e.next=3,Ja(t);case 3:return e.next=5,this.trainEnd(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ei);function ii(e,t){return null==e&&(e={}),e instanceof ei?[e]:Array.isArray(e)&&e[0]instanceof ei?e:$n(e).map((function(e){return new ai(e,t)}))}var oi=function(){function e(){Object(Cn.a)(this,e)}return Object(An.a)(e,null,[{key:"registerCallbackConstructor",value:function(t,n){o.util.assert(t>=0&&Number.isInteger(t),(function(){return"Verbosity level is expected to be an integer >= 0, "+"but got ".concat(t)})),e.checkForDuplicate(n),null==e.constructors[t]&&(e.constructors[t]=[]),e.constructors[t].push(n)}},{key:"checkForDuplicate",value:function(t){for(var n in e.constructors){e.constructors[+n].forEach((function(e){if(e===t)throw new Un("Duplicate callback constructor.")}))}}},{key:"clear",value:function(){e.constructors={}}},{key:"createCallbacks",value:function(t){var n=[];for(var r in e.constructors){var a=+r;t>=a&&n.push.apply(n,Object(Fn.a)(e.constructors[a]))}return n.map((function(e){return new e}))}}]),e}();function ui(e,t,n,r,a,i,o,u,s){var c=new ri,l=[new ni].concat(Object(Fn.a)(oi.createCallbacks(t)));null!=e&&l.push.apply(l,Object(Fn.a)(e)),l.push(c);var f=new ti(l);return f.setParams({epochs:n,initialEpoch:r,samples:a,steps:i,batchSize:o,verbose:t,doValidation:u,metrics:s}),{callbackList:f,history:c}}oi.constructors={};var si=n(32);function ci(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return er(e,o.serialization.SerializationMap.getMap().classNameMap,t,"layer",n)}function li(e,t){return Object(o.tidy)((function(){"float32"!==e.dtype&&(e=e.asType("float32"));var n=o.sum(Jr(e),t,!0),r=o.fill(n.shape,Nn()),a=o.sqrt(o.maximum(n,r));return o.div(e,a)}))}function fi(e,t){return Object(o.tidy)((function(){return o.mean(Jr(o.sub(t,e)),-1)}))}function di(e,t){return Object(o.tidy)((function(){return o.mean(o.abs(o.sub(t,e)),-1)}))}function hi(e,t){return Object(o.tidy)((function(){var n=o.sub(e,t),r=o.clipByValue(o.abs(e),Nn(),Number.MAX_VALUE),a=o.abs(o.div(n,r));return o.mul(100,o.mean(a,-1))}))}function pi(e,t){return Object(o.tidy)((function(){var n=o.clipByValue(t,Nn(),Number.MAX_VALUE),r=o.log(o.add(1,n)),a=o.clipByValue(e,Nn(),Number.MAX_VALUE),i=o.log(o.add(1,a));return o.mean(Jr(o.sub(r,i)),-1)}))}function vi(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(o.tidy)((function(){if(n)t=o.softmax(t);else{var r=o.sum(t,t.shape.length-1,!0);t=o.div(t,r)}return t=o.clipByValue(t,Nn(),1-Nn()),o.neg(o.sum(o.mul(e.toFloat(),o.log(t)),t.shape.length-1))}))}function mi(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(o.tidy)((function(){var r=o.floor(Ur(e)).toInt(),a=(t=o.clipByValue(t,Nn(),1-Nn())).shape;return vi(o.oneHot(r,a[a.length-1]).reshape(a),t,n)}))}function gi(e,t){return Object(o.tidy)((function(){var n;return n=o.clipByValue(t,Nn(),1-Nn()),n=o.log(o.div(n,o.sub(1,n))),o.mean(function(e,t){if(!o.util.arraysEqual(e.shape,t.shape))throw new Un("logits and labels must have the same shape, but got shapes "+"".concat(JSON.stringify(e.shape)," and ").concat(JSON.stringify(t.shape)));return Object(o.tidy)((function(){var n=t.relu(),r=t.abs().neg();return n.sub(t.mul(e)).add(r.exp().log1p())}))}(e,n),-1)}))}function bi(e,t){return Object(o.tidy)((function(){var n=o.clipByValue(e,Nn(),1),r=o.clipByValue(t,Nn(),1);return o.sum(o.mul(e,o.log(o.div(n,r))),-1)}))}function yi(e,t){return Object(o.tidy)((function(){var n=li(e,-1),r=li(t,-1),a=o.mul(n,r);return o.neg(o.sum(a,-1))}))}var xi={meanSquaredError:fi,meanAbsoluteError:di,meanAbsolutePercentageError:hi,meanSquaredLogarithmicError:pi,squaredHinge:function(e,t){return Object(o.tidy)((function(){var n=o.maximum(0,o.sub(1,o.mul(e,t)));return o.mean(Jr(n),-1)}))},hinge:function(e,t){return Object(o.tidy)((function(){var n=o.maximum(0,o.sub(1,o.mul(e,t)));return o.mean(n,-1)}))},categoricalHinge:function(e,t){return Object(o.tidy)((function(){var n=o.sum(o.mul(e,t),-1),r=o.max(o.mul(o.sub(1,e),t),-1);return o.maximum(0,o.add(1,o.sub(r,n)))}))},logcosh:function(e,t){return Object(o.tidy)((function(){var n=Math.log(2),r=o.sub(t,e),a=o.sub(o.add(r,o.softplus(o.mul(-2,r))),n);return o.mean(a,-1)}))},categoricalCrossentropy:vi,sparseCategoricalCrossentropy:mi,binaryCrossentropy:gi,kullbackLeiblerDivergence:bi,poisson:function(e,t){return Object(o.tidy)((function(){var n=o.log(o.add(Nn(),t));return o.mean(o.sub(t,o.mul(e,n)),-1)}))},cosineProximity:yi};function _i(e){if("string"===typeof e){if(e in xi)return xi[e];var t="Unknown loss ".concat(e);throw e.toLowerCase().includes("softmaxcrossentropy")&&(t="Unknown loss ".concat(e,". ")+'Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new Un(t)}return e}function wi(e,t){return Object(o.tidy)((function(){var n=o.mul(.5,o.onesLike(t)),r=zr(o.greater(t,n),e.dtype);return o.mean(o.equal(e,r),-1)}))}function Oi(e,t){return Object(o.tidy)((function(){return zr(o.equal(o.argMax(e,-1),o.argMax(t,-1)),"float32")}))}function ki(e,t){return Object(o.tidy)((function(){return o.logicalAnd(e.equal(1),t.equal(1)).sum().cast("float32")}))}function ji(e,t){return Object(o.tidy)((function(){var n=ki(e,t),r=function(e,t){return Object(o.tidy)((function(){return o.logicalAnd(e.equal(0),t.equal(1)).sum().cast("float32")}))}(e,t),a=n.add(r);return o.where(o.greater(a,0),n.div(a),0).cast("float32")}))}function Ei(e,t){return gi(e,t)}function Ci(e,t){return e.rank===t.rank&&(e=e.squeeze([e.rank-1])),(t=t.argMax(-1)).dtype!==e.dtype&&(t=t.asType(e.dtype)),o.equal(e,t).asType("float32")}var Ai=vi,Si=mi,Di={binaryAccuracy:wi,categoricalAccuracy:Oi,precision:ji,categoricalCrossentropy:Ai,sparseCategoricalCrossentropy:Si,mse:fi,MSE:fi,mae:di,MAE:di,mape:hi,MAPE:hi,cosine:yi};function Ni(e){if("string"===typeof e&&e in Di)return Di[e];if("string"!==typeof e&&null!=e)return e;throw new Un("Unknown metric ".concat(e))}function Fi(e){if(Hn(null!==e,"Unknown LossOrMetricFn ".concat(e)),"string"===typeof e)return e;for(var t,n=0,r=Object.keys(xi);n<r.length;n++){var a=r[n];if(xi[a]===e){t=a;break}}if(void 0!==t)return t;for(var i=0,o=Object.keys(Di);i<o.length;i++){var u=o[i];if(Di[u]===e){t=u;break}}return void 0!==t?t:e.name}var Ti=1048576;function Mi(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||"object"!==typeof e||Object.getPrototypeOf(e)!==Object.prototype||!Ii(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){var r=JSON.stringify(e);r.length>Ti&&console.warn('User-defined metadata of model "'.concat(t,'" is too large in ')+"size (length=".concat(r.length," when serialized). It is not ")+"recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+"".concat(Ti,"."))}}function Ii(e){if(null===e)return!0;if("object"===typeof e){if(Object.getPrototypeOf(e)===Object.prototype){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("string"!==typeof r)return!1;if(!Ii(e[r]))return!1}return!0}if(Array.isArray(e)){var a,i=Object(Tn.a)(e);try{for(i.s();!(a=i.n()).done;){if(!Ii(a.value))return!1}}catch(u){i.e(u)}finally{i.f()}return!0}return!1}var o=typeof e;return"string"===o||"number"===o||"boolean"===o}function Ri(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log,i=Bi(e),o=["Layer (type)","Output shape","Param #"];if(i?(t=t||65,n=n||[.45,.85,1]):(t=t||98,n=n||[.33,.55,.67,1]),n[n.length-1]<=1&&(n=n.map((function(e){return Math.floor(t*e)}))),!i)for(var u in o.push("Receives inputs"),r=[],e.nodesByDepth){var s;(s=r).push.apply(s,Object(Fn.a)(e.nodesByDepth[u]))}a("_".repeat(t)),zi(o,n,a),a("=".repeat(t));for(var c=e.layers,l=0;l<c.length;++l)i?Li(c[l],n,a):Ui(c[l],n,r,a),a((l===c.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();var f=Pi(e),d=Ta(e.nonTrainableWeights);a("Total params: ".concat(f+d)),a("Trainable params: ".concat(f)),a("Non-trainable params: ".concat(d)),a("_".repeat(t))}function Pi(e){return null!=e.collectedTrainableWeights?Ta(e.collectedTrainableWeights):Ta(e.trainableWeights)}function Bi(e){var t=!0,n=[],r=[];for(var a in e.nodesByDepth)n.push(e.nodesByDepth[a]);for(var i=0,o=n;i<o.length;i++){var u=o[i];if(u.length>1||1===u.length&&u[0].inboundLayers.length>1){t=!1;break}r.push.apply(r,Object(Fn.a)(u))}if(t){var s,c=Object(Tn.a)(e.layers);try{for(c.s();!(s=c.n()).done;){var l,f=s.value,d=!1,h=Object(Tn.a)(f.inboundNodes);try{for(h.s();!(l=h.n()).done;){var p=l.value;if(-1!==r.indexOf(p)){if(d){t=!1;break}d=!0}}}catch(v){h.e(v)}finally{h.f()}if(!t)break}}catch(v){c.e(v)}finally{c.f()}}return t}function zi(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,r="",a=0;a<e.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=e[a]).slice(0,t[a]),r+=" ".repeat(t[a]-r.length);n(r)}function Li(e,t,n){var r;try{r=JSON.stringify(e.outputShape)}catch(o){r="multiple"}var a=e.name,i=e.getClassName();zi(["".concat(a," (").concat(i,")"),r,e.countParams().toString()],t,n)}function Ui(e,t,n,r){var a;try{a=JSON.stringify(e.outputShape)}catch(g){a="multiple"}var i,o=[],u=Object(Tn.a)(e.inboundNodes);try{for(u.s();!(i=u.n()).done;){var s=i.value;if(!(null!=n&&n.length>0&&-1===n.indexOf(s)))for(var c=0;c<s.inboundLayers.length;++c){var l=s.inboundLayers[c].name,f=s.nodeIndices[c],d=s.tensorIndices[c];o.push("".concat(l,"[").concat(f,"][").concat(d,"]"))}}}catch(g){u.e(g)}finally{u.f()}var h=e.name,p=e.getClassName(),v=0===o.length?"":o[0];zi(["".concat(h," (").concat(p,")"),a,e.countParams().toString(),v],t,r);for(var m=1;m<o.length;++m)zi(["","","",o[m]],t,r)}function Wi(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"===typeof n}function Vi(e,t){if(null===e)return null;if("string"===typeof e)return Yn(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var i=e[a];Wi(t,a,i)?n.push(i):n.push(Vi(i,t))}return n}for(var o={},u=0,s=Object.keys(e);u<s.length;u++){var c=s[u],l=e[c];if("name"===c&&"string"===typeof l)o[c]=l;else{var f=Yn(c);o[f]=Vi(l,f)}}return o}function qi(e,t){if(null===e||void 0===e)return null;if("string"===typeof e)return Xn(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var i=e[a];Wi(t,a,i)?n.push(i):n.push(qi(i,t))}return n}for(var o={},u=0,s=Object.keys(e);u<s.length;u++){var c=s[u],l=e[c],f=Xn(c);o[f]="name"!==c&&"className"!==c||"string"!==typeof l?qi(l,c):l}return o}var Hi="3.3.0";var Gi=function(){function e(t){if(Object(Cn.a)(this,e),this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof e)for(var n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(null==t)return;var r,a=Object(Tn.a)(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;this.add(i.key,i.value)}}catch(o){a.e(o)}finally{a.f()}}}return Object(An.a)(e,[{key:"add",value:function(e,t,n){if(null!=this.id2Value[e.id])throw new Un("Duplicate key: name=".concat(e.name,", id=").concat(e.id));return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return Object(o.cast)(t,e.dtype)}catch(n){throw new Un("The dtype of the feed (".concat(t.dtype,") can not be cast to the dtype ")+"of the key '".concat(e.name,"' (").concat(e.dtype,")."))}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}},{key:"addFeed",value:function(e){this.add(e.key,e.value)}},{key:"hasKey",value:function(e){return null!=this.id2Value[e.id]}},{key:"names",value:function(){return Object.keys(this.name2Id)}},{key:"getValue",value:function(e){if(e instanceof za){if(null==this.id2Value[e.id])throw new Un("Nonexistent key: ".concat(e.name));return this.id2Value[e.id]}var t=this.name2Id[e];if(null==t)throw new Un("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Value[t]}},{key:"getMask",value:function(e){if(e instanceof za){if(null==this.id2Value[e.id])throw new Un("Nonexistent key: ".concat(e.name));return this.id2Mask[e.id]}var t=this.name2Id[e];if(null==t)throw new Un("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Mask[t]}},{key:"disposeMasks",value:function(){null!=this.id2Mask&&Object(o.dispose)(this.id2Mask)}}]),e}(),Ki={},$i={};function Xi(e,t,n,r){var a,i=null!=n&&n.training,u=Array.isArray(e),s=u?e:[e],c=s.map((function(e){return e.name})),l=[],f=t.names(),d=Object(Tn.a)(c);try{for(d.s();!(a=d.n()).done;){var h=a.value;-1!==f.indexOf(h)?l.push(t.getValue(h)):l.push(null)}}catch(B){d.e(B)}finally{d.f()}null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);var p,v,m=c.join(",")+"|"+t.names().join(",");if(null==Ki[m]){var g=function(e,t){o.util.assert(null!=e&&e.length>0,(function(){return"Expected at least one fetch, got none"}));var n=[],r={};if(1===e.length){var a=Ji(e[0],t);n=a.sorted,r=a.recipientMap}else{var i,u=new Set,s=Object(Tn.a)(e);try{for(s.s();!(i=s.n()).done;){var c,l=Ji(i.value,t),f=l.sorted,d=l.recipientMap,h=Object(Tn.a)(f);try{for(h.s();!(c=h.n()).done;){var p=c.value;u.has(p.name)||(n.push(p),u.add(p.name))}}catch(B){h.e(B)}finally{h.f()}var v=function(e){null==r[e]&&(r[e]=new Set),d[e].forEach((function(t){return r[e].add(t)}))};for(var m in d)v(m)}}catch(B){s.e(B)}finally{s.f()}}return{sorted:n,recipientCounts:Yi(r)}}(s,t);p=g.sorted,v=g.recipientCounts,Ki[m]=p,$i[m]=v}p=Ki[m],v={},i||Object.assign(v,$i[m]);for(var b=new Gi(t),y=0;y<p.length;++y){if(null!=r){var x=Object(o.memory)().numTensors;x>r.maxNumTensors&&(r.maxNumTensors=x),x<r.minNumTensors&&(r.minNumTensors=x)}var _=p[y],w=_.sourceLayer;if(!(w instanceof Ha)){var O,k=[],j=[],E=[],C=!1,A=Object(Tn.a)(_.inputs);try{for(A.s();!(O=A.n()).done;){var S=O.value,D=b.getValue(S),N=b.getMask(S);k.push(D),j.push(N),null!=N&&(C=!0),i||(v[S.name]--,0!==v[S.name]||t.hasKey(S)||-1!==c.indexOf(S.name)||D.isDisposed||!0===S.sourceLayer.stateful||E.push(D))}}catch(B){A.e(B)}finally{A.f()}C&&((n=n||{}).mask=j[0]);var F=$n(w.apply(k,n)),T=null;w.supportsMasking&&(T=w.computeMask(k,j));for(var M=Qi(_),I=Array.isArray(M)?M:[M],R=0;R<I.length;++R){b.hasKey(I[R])||b.add(I[R],F[R],Array.isArray(T)?T[0]:T);var P=c.indexOf(I[R].name);-1!==P&&(l[P]=F[R])}i||Object(o.dispose)(E)}}return b.disposeMasks(),u?l:l[0]}function Yi(e){var t={};for(var n in e)t[n]=e[n].size;return t}function Ji(e,t){var n,r=new Set,a=[],i={},o=Object(Tn.a)(t.names());try{for(o.s();!(n=o.n()).done;){var u=n.value;r.add(u)}}catch(v){o.e(v)}finally{o.f()}var s=[],c=[];for(s.push(e);s.length>0;){var l=s[s.length-1];if(r.has(l.name))s.pop();else{var f=c[c.length-1]===s.length-1;if(0===l.inputs.length||f)s.pop(),a.push(l),r.add(l.name),f&&c.pop();else{c.push(s.length-1);var d,h=Object(Tn.a)(l.inputs);try{for(h.s();!(d=h.n()).done;){var p=d.value;null==i[p.name]&&(i[p.name]=new Set),i[p.name].add(l.name),r.has(p.name)||s.push(p)}}catch(v){h.e(v)}finally{h.f()}}}}return{sorted:a,recipientMap:i}}function Qi(e){var t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{for(var n=null,r=0;r<e.sourceLayer.inboundNodes.length;++r){var a,i=Object(Tn.a)(e.sourceLayer.inboundNodes[r].outputTensors);try{for(i.s();!(a=i.n()).done;){if(a.value.id===e.id){n=r;break}}}catch(o){i.e(o)}finally{i.f()}}t=e.sourceLayer.getOutputAt(n)}return t}function Zi(e,t,n){var r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return null}));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"===typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error("Provided ".concat(n," is an array of ").concat(e.length," ")+"element(s), but the model has ".concat(r," outputs. ")+"Make sure a set of weights is provided for each model output.");return e}if("object"===typeof e&&Object.keys(e).length>0&&"object"===typeof e[Object.keys(e)[0]]){var a=[];return t.forEach((function(t){t in e?a.push(e[t]):a.push(null)})),a}throw new Error("The model has multiple (".concat(r,") outputs, ")+"so ".concat(n," must be either an array with ")+"".concat(r," elements or an object with ").concat(t," keys. ")+"Provided ".concat(n," not understood: ").concat(JSON.stringify(e)))}function eo(e,t){return Zi(e,t,"classWeight")}function to(e,t,n,r){return no.apply(this,arguments)}function no(){return(no=Object(Ya.a)(Xa.a.mark((function e(t,n,r,a){var i,u,s;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&null==a){e.next=2;break}throw new Error("Support sampleWeight is not implemented yet");case 2:if(null==r){e.next=15;break}return i=Object(o.tidy)((function(){if(1===t.shape.length)return t.clone();if(2===t.shape.length){if(t.shape[1]>1){return t.argMax(1)}if(1===t.shape[1])return t.reshape([t.shape[0]]);throw new Error("Encountered unexpected last-dimension size (".concat(t.shape[1],") ")+"during handling of class weights. The size is expected to be >= 1.")}throw new Error("Unexpected rank of target (y) tensor (".concat(t.rank,") during ")+"handling of class weights. The rank is expected to be 1 or 2.")})),e.t0=Array,e.next=7,i.data();case 7:return e.t1=e.sent,u=e.t0.from.call(e.t0,e.t1),Object(o.dispose)(i),s=[],u.forEach((function(e){if(null==r[e])throw new Error("classWeight must contain all classes in the training data. "+"The class ".concat(e," exists in the data but not in ")+"classWeight");s.push(r[e])})),e.abrupt("return",Object(o.tensor1d)(s,"float32"));case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ro(e,t){return Object(o.mul)(e,t)}function ao(e,t){var n,r,a=t;n=a.xs,r=a.ys,o.util.assert(null!=n&&null!=r,(function(){return"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+"".concat(t)}));var i=io("input",e.inputNames,n),u=io("output",e.outputNames,r),s=i[0].shape[0];o.util.assert(i.length===e.inputs.length,(function(){return"LayersModel has ".concat(e.inputs.length," inputs, but the dataset ")+"provides ".concat(i.length," inputs.  (Expected input keys: ")+"".concat(JSON.stringify(e.inputNames),")")})),o.util.assert(u.length===e.outputs.length,(function(){return"LayersModel has ".concat(e.outputs.length," outputs, but the dataset ")+"provides ".concat(u.length," outputs.  (Expected output keys: ")+"".concat(JSON.stringify(e.outputNames),")")}));for(var c=function(t){o.util.assert(i[t].shape[0]===s,(function(){return"Batch size mismatch: input "+"".concat(e.inputNames[t]," has ").concat(i[t].shape[0],"; ")+"expected  ".concat(s," based on input ").concat(e.inputNames[0],".")}))},l=0;l<i.length;l++)c(l);for(var f=function(t){o.util.assert(u[t].shape[0]===s,(function(){return"Batch size mismatch: output "+"".concat(e.outputNames[t]," has ").concat(u[t].shape[0],"; ")+"expected  ".concat(s," based on input ").concat(e.inputNames[0],".")}))},d=0;d<u.length;d++)f(d);return{xs:i,ys:u}}function io(e,t,n){if(n instanceof o.Tensor)return[n];if(Array.isArray(n))return o.util.assert(n.length===t.length,(function(){return"Received an array of ".concat(n.length," Tensors, but expected ").concat(t.length," to match the ").concat(e," keys ").concat(t,".")})),n;var r,a=[],i=Object(Tn.a)(t);try{for(i.s();!(r=i.n()).done;){var u=r.value;if(null==n[u])throw new Un("The feature data generated by the dataset lacks the required "+"".concat(e," key '").concat(u,"'."));a.push(n[u])}}catch(s){i.e(s)}finally{i.f()}return a}function oo(e){if(3===e.length)throw new Wn("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}function uo(e,t,n){return so.apply(this,arguments)}function so(){return(so=Object(Ya.a)(Xa.a.mark((function e(t,n,r){var a,i,u,s,c,l,f,d,h,p,v,m,g,b,y,x,_,w,O,k,j,E,C,A,S,D,N,F,T,M,I,R,P;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!=r.batchesPerEpoch,o.util.assert(null!=t.optimizer,(function(){return"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."})),o.util.assert(null!=r,(function(){return"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."})),o.util.assert(null!=r.epochs&&r.epochs>0&&Number.isInteger(r.epochs),(function(){return"For fitDataset(), config.epochs is expected to be a positive "+"integer, but got ".concat(r.epochs)})),o.util.assert(!a||r.batchesPerEpoch>0&&Number.isInteger(r.batchesPerEpoch),(function(){return"For fitDataset(), config.batchesPerEpoch is expected to be a "+"positive integer if specified, but got ".concat(r.batchesPerEpoch)})),o.util.assert(null==r.validationSplit,(function(){return"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."})),!t.isTraining){e.next=8;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 8:return t.isTraining=!0,e.prev=9,(i=null!=r.validationData)&&(lo(r.validationData)?o.util.assert(null==r.validationBatches||r.validationBatches>0&&Number.isInteger(r.validationBatches),(function(){return"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, "+"but got ".concat(r.validationBatches)})):(c=oo(r.validationData),u=c.xs,s=c.ys)),l=t.makeTrainFunction(),f=t.getDedupedMetricsNames(),d=i?f.slice().concat(f.map((function(e){return"val_"+e}))):f.slice(),h=ii(r.callbacks,r.yieldEvery),p=null==r.verbose?1:r.verbose,v=ui(h,p,r.epochs,null,null,co(n,r),null,i,d),m=v.callbackList,g=v.history,m.setModel(t),t.history=g,e.next=22,m.onTrainBegin();case 22:return t.stopTraining_=!1,b=null==r.initialEpoch?0:r.initialEpoch,e.next=26,n.iterator();case 26:y=e.sent;case 27:if(!(b<r.epochs)){e.next=98;break}return x={},e.next=31,m.onEpochBegin(b);case 31:if(_=0,w=0,a){e.next=37;break}return e.next=36,n.iterator();case 36:y=e.sent;case 37:if(a&&!(_<r.batchesPerEpoch)){e.next=91;break}return e.next=40,y.next();case 40:if(O=e.sent,!a||!O.done){e.next=44;break}return console.warn("You provided `batchesPerEpoch` as "+"".concat(r.batchesPerEpoch,", ")+"but your dataset iterator ran out of data after "+"".concat(_," batches; ")+"interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+"".concat(r.batchesPerEpoch*r.epochs," batches). ")+"You may need to use the repeat() function when building your dataset."),e.abrupt("break",91);case 44:if(null==O.value){e.next=73;break}return k=ao(t,O.value),j=k.xs,E=k.ys,(C={}).batch=w,C.size=j[0].shape[0],e.next=51,m.onBatchBegin(w,C);case 51:if(A=[],null==r.classWeight){e.next=64;break}S=eo(r.classWeight,t.outputNames),D=0;case 55:if(!(D<S.length)){e.next=64;break}return e.t0=A,e.next=59,to(E[D],null,S[D]);case 59:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 61:++D,e.next=55;break;case 64:for(N=j.concat(E).concat(A),F=l(N),o.dispose(N),T=0;T<f.length;++T)M=f[T],I=F[T],C[M]=I,o.keep(I);return e.next=70,m.onBatchEnd(w,C);case 70:Za(C),w++,_++;case 73:if(!(a?_>=r.batchesPerEpoch:O.done)){e.next=87;break}if(!i){e.next=86;break}if(R=void 0,!lo(r.validationData)){e.next=84;break}return e.t2=$n,e.next=80,t.evaluateDataset(r.validationData,{batches:r.validationBatches});case 80:e.t3=e.sent,R=(0,e.t2)(e.t3),e.next=85;break;case 84:R=$n(t.evaluate(u,s,{batchSize:null==r.validationBatchSize?32:r.validationBatchSize,verbose:0}));case 85:for(P=0;P<t.metricsNames.length;++P)x["val_".concat(t.metricsNames[P])]=R[P];case 86:return e.abrupt("break",91);case 87:if(!t.stopTraining_){e.next=89;break}return e.abrupt("break",91);case 89:e.next=37;break;case 91:return e.next=93,m.onEpochEnd(b,x);case 93:if(b++,!t.stopTraining_){e.next=96;break}return e.abrupt("break",98);case 96:e.next=27;break;case 98:return e.next=100,m.onTrainEnd();case 100:return e.next=102,t.history.syncData();case 102:return e.abrupt("return",t.history);case 103:return e.prev=103,t.isTraining=!1,e.finish(103);case 106:case"end":return e.stop()}}),e,null,[[9,,103,106]])})))).apply(this,arguments)}function co(e,t){var n=null;return null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}function lo(e){return"function"===typeof e.iterator}function fo(e){return"function"===typeof e.next}function ho(e,t,n){return po.apply(this,arguments)}function po(){return(po=Object(Ya.a)(Xa.a.mark((function e(t,n,r){var a,i,u,s,c,l,f,d,h;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!=(r=r||{}).batches,i=t.testFunction,u=[],!(r.verbose>0)){e.next=6;break}throw new Wn("Verbose mode is not implemented yet.");case 6:if(o.util.assert(!a||r.batches>0&&Number.isInteger(r.batches),(function(){return"Test loop expects `batches` to be a positive integer, but "+"received ".concat(JSON.stringify(r.batches))})),!fo(n)){e.next=11;break}e.t0=n,e.next=14;break;case 11:return e.next=13,n.iterator();case 13:e.t0=e.sent;case 14:s=e.t0,c=0,l=0,f=Xa.a.mark((function e(){var n;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.next();case 2:if(n=e.sent,u=o.tidy((function(){return n.value&&function(){var e=ao(t,n.value),r=e.xs,a=e.ys,s=r.concat(a),f=o.tidy((function(){return i(s)}));if(o.dispose(s),0===l)for(var d=0;d<f.length;++d)u.push(Object(o.scalar)(0));for(var h=s[0].shape[0],p=function(e){var t=f[e],n=u[e];u[e]=o.tidy((function(){return o.add(u[e],o.mul(h,t))})),l>0&&o.dispose(n)},v=0;v<f.length;++v)p(v);o.dispose(f),c+=h,++l}(),u})),!n.done){e.next=7;break}return a&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` "+"batches (in this case, ".concat(r.batches," batches). ")+"You may need to use the repeat() function when building your dataset."),e.abrupt("return","break");case 7:case"end":return e.stop()}}),e)}));case 18:if(a&&!(l<r.batches)){e.next=25;break}return e.delegateYield(f(),"t1",20);case 20:if("break"!==e.t1){e.next=23;break}return e.abrupt("break",25);case 23:e.next=18;break;case 25:for(d=0;d<u.length;++d)h=u[d],u[d]=o.div(u[d],c),o.dispose(h);return e.abrupt("return",Kn(u));case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vo(e){o.util.assert(e>0&&Number.isInteger(e),(function(){return"batchSize is required to be a positive integer, but got ".concat(e)}))}function mo(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((function(e){return Wr(e,t,n-t)})):Wr(e,t,n-t)}function go(e,t){return o.tidy((function(){return null==e?null:Array.isArray(e)?e.map((function(e){return go(e,t)})):Yr(e,"int32"===t.dtype?t:t.toInt())}))}function bo(e,t){for(var n=[],r=0,a=null;r<e;)(a=r+t)>=e&&(a=e),n.push([r,a]),r=a;return n}function yo(e,t,n,r,a,i,o,u,s,c,l,f,d,h,p){return xo.apply(this,arguments)}function xo(){return(xo=Object(Ya.a)(Xa.a.mark((function e(t,n,r,a,i,u,s,c,l,f,d,h,p,v,m){var g,b,y,x,_,w,O,k;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==i&&(i=32),null==u&&(u=1),null==d&&(d=!0),null==p&&(p=0),g=!1,null!=l&&null!=f&&(g=!0),null==m){e.next=10;break}if(g=!0,null!=v){e.next=10;break}throw new Un("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");case 10:return null!=(b=t.checkNumSamples(r,i,v,"steps_per_epoch"))&&(y=Br(0,b)),null==s&&(s=1),x=ui(c,s,u,p,b,v,i,g,h),_=x.callbackList,w=x.history,_.setModel(t),t.history=w,e.next=18,_.onTrainBegin();case 18:t.stopTraining_=!1,O=Xa.a.mark((function e(u){var s;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.onEpochBegin(u);case 2:if(s={},null==v){e.next=7;break}throw new Wn("stepsPerEpoch mode is not implemented yet.");case 7:return e.delegateYield(Xa.a.mark((function e(){var u,c,h,p;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("batch"!==d){e.next=4;break}throw new Wn("batch shuffling is not implemneted yet");case 4:d&&o.util.shuffle(y);case 5:u=Object(o.tensor1d)(y),c=bo(b,i),h=Xa.a.mark((function e(d){var h;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h={},e.next=3,_.onBatchBegin(d,h);case 3:return o.tidy((function(){var e=c[d][0],p=c[d][1],v=Wr(u,e,p-e);h.batch=d,h.size=p-e;for(var m=go(r,v),b=n(m),y=0;y<a.length;++y){var x=a[y],_=b[y];h[x]=_,o.keep(_)}if(d===c.length-1&&g)for(var w=t.testLoop(l,f,i),O=0;O<a.length;++O){var k=a[O],j=w[O];o.keep(j),s["val_"+k]=j}})),e.next=6,_.onBatchEnd(d,h);case 6:if(Za(h),!t.stopTraining_){e.next=9;break}return e.abrupt("return","break");case 9:case"end":return e.stop()}}),e)})),p=0;case 9:if(!(p<c.length)){e.next=17;break}return e.delegateYield(h(p),"t0",11);case 11:if("break"!==e.t0){e.next=14;break}return e.abrupt("break",17);case 14:++p,e.next=9;break;case 17:u.dispose();case 18:case"end":return e.stop()}}),e)}))(),"t0",8);case 8:return e.next=10,_.onEpochEnd(u,s);case 10:if(!t.stopTraining_){e.next=12;break}return e.abrupt("return","break");case 12:case"end":return e.stop()}}),e)})),k=p;case 21:if(!(k<u)){e.next=29;break}return e.delegateYield(O(k),"t0",23);case 23:if("break"!==e.t0){e.next=26;break}return e.abrupt("break",29);case 26:++k,e.next=21;break;case 29:return e.next=31,_.onTrainEnd();case 31:return e.next=33,t.history.syncData();case 33:return e.abrupt("return",t.history);case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _o(e,t,n){return wo.apply(this,arguments)}function wo(){return(wo=Object(Ya.a)(Xa.a.mark((function e(t,n,r){var a,i,u,s,c,l,f,d,h,p,v,m,g,b,y,x,_,w,O,k,j,E,C,A,S=arguments;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=S.length>3&&void 0!==S[3]?S[3]:{},!t.isTraining){e.next=3;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 3:return t.isTraining=!0,e.prev=4,vo(h=null==a.batchSize?32:a.batchSize),p=!1,e.next=10,t.standardizeUserData(n,r,a.sampleWeight,a.classWeight,p,h);case 10:if(v=e.sent,i=v[0],u=v[1],d=v[2],m=!1,!(null!=a.validationData&&a.validationData.length>0)){e.next=36;break}if(m=!0,2!==a.validationData.length){e.next=22;break}s=a.validationData[0],c=a.validationData[1],e.next=27;break;case 22:if(3!==a.validationData.length){e.next=26;break}throw new Wn("validationData including sample weights is not supported yet.");case 26:throw new Un("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+"".concat(a.validationData," is invalid."));case 27:return b=!0,e.next=30,t.standardizeUserData(s,c,null,null,b,h);case 30:y=e.sent,l=y[0],f=y[1],g=l.concat(f),e.next=37;break;case 36:null!=a.validationSplit&&a.validationSplit>0&&a.validationSplit<1?(m=!0,x=Math.floor(i[0].shape[0]*(1-a.validationSplit)),_=i[0].shape[0],l=mo(i,x,_),i=mo(i,0,x),f=mo(u,x,_),u=mo(u,0,x),g=l.concat(f)):null!=a.validationSteps&&(m=!0);case 37:return w=i.concat(u).concat(d),t.checkTrainableWeightsConsistency(),O=t.makeTrainFunction(),k=t.getDedupedMetricsNames(),m?(t.makeTestFunction(),j=t.testFunction,E=k.slice().concat(k.map((function(e){return"val_"+e})))):(j=null,g=[],E=k.slice()),C=ii(a.callbacks,a.yieldEvery),e.next=45,yo(t,O,w,k,h,a.epochs,a.verbose,C,j,g,a.shuffle,E,a.initialEpoch,null,null);case 45:return A=e.sent,e.abrupt("return",A);case 47:return e.prev=47,t.isTraining=!1,ko(i,n),ko(u,r),ko(l,s),ko(f,c),null!=d&&o.dispose(d),e.finish(47);case 55:case"end":return e.stop()}}),e,null,[[4,,47,55]])})))).apply(this,arguments)}function Oo(e){var t=[];e instanceof o.Tensor&&(e=[e]);for(var n=0;n<e.length;++n){var r=e[n];if(1===r.rank)t.push(Lr(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function ko(e,t){if(null!=e){var n=[];if(t instanceof o.Tensor)n.push(t.id);else if(Array.isArray(t))t.forEach((function(e){return n.push(e.id)}));else if(null!=t)for(var r in t){var a=t[r];n.push(a.id)}var i=[];if(e instanceof o.Tensor)-1===n.indexOf(e.id)&&i.push(e);else if(Array.isArray(e))e.forEach((function(e){-1===n.indexOf(e.id)&&i.push(e)}));else if(null!=e)for(var u in e){var s=e[u];-1===n.indexOf(s.id)&&i.push(s)}i.forEach((function(e){e.isDisposed||e.dispose()}))}}function jo(e){return Array.isArray(e)}function Eo(e){return!function(e){return e instanceof o.Tensor}(e)&&!jo(e)}function Co(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(null==t||0===t.length){if(null!=e){var o=!1;if(jo(e)&&e.length>0)o=!0;else if(Eo(e)){for(var u in e)if(e.hasOwnProperty(u)){o=!0;break}}else o=!0;if(o)throw new Un("Error when checking model ".concat(i," expected no data, ")+"but got ".concat(e))}return[]}if(null==e)return t.map((function(e){return null}));if(Eo(e)){e=e,r=[];var s,c=Object(Tn.a)(t);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(null==e[l])throw new Un('No data provided for "'.concat(l,'". Need data for each key in: ')+"".concat(t));r.push(e[l])}}catch(m){c.e(m)}finally{c.f()}}else if(jo(e)){if((e=e).length!==t.length)throw new Un("Error when checking model ".concat(i,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"model expected. Expected to see ".concat(t.length," Tensor(s), but ")+"instead got the following list of Tensor(s): ".concat(e));r=e}else{if(e=e,t.length>1)throw new Un("The model ".concat(i," expects ").concat(t.length," Tensor(s), ")+"but only received one Tensor. Found: Tensor with shape ".concat(e.shape));r=[e]}if(r=Oo(r),null!=n)for(var f=0;f<t.length;++f)if(null!=n[f]){var d=r[f];if(d.shape.length!==n[f].length)throw new Un("Error when checking ".concat(i,": expected ").concat(t[f]," ")+"to have ".concat(n[f].length," dimension(s). but got array with ")+"shape ".concat(d.shape));for(var h=0;h<n[f].length;++h)if(0!==h||a){var p=d.shape[h],v=n[f][h];if(null!=v&&v>=0&&p!==v)throw new Un("Error when checking ".concat(i,": expected ").concat(t[f]," ")+"to have shape [".concat(n[f],"], but got array with shape ")+"[".concat(d.shape,"]."))}}return r}function Ao(e,t,n){var r=nr(e.map((function(e){return e.shape[0]})));r.sort();var a=nr(t.map((function(e){return e.shape[0]})));if(a.sort(),r.length>1)throw new Un("All input Tensors (x) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(e.map((function(e){return e.shape})))));if(a.length>1)throw new Un("All target Tensors (y) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(t.map((function(e){return e.shape})))));if(r.length>0&&a.length>0&&!o.util.arraysEqual(r,a))throw new Un("Input Tensors should have the same number of samples as target "+"Tensors. Found ".concat(r[0]," input sample(s) and ").concat(a[0]," target ")+"sample(s).")}function So(e,t,n){for(var r=[fi,gi,vi],a=0;a<e.length;++a){var i=e[a],o=t[a],u=n[a];if(null!=o){if(o===vi&&1===i.shape[i.shape.length-1])throw new Un("You are passing a target array of shape ".concat(i.shape," while using ")+"a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(o))for(var s=i.shape.slice(1),c=u.slice(1),l=0;l<s.length;++l){var f=s[l],d=c[l];if(null!=d&&f!==d)throw new Un("A target Tensor with shape ".concat(i.shape," was passed for an ")+"output of shape ".concat(u,", while using a loss function that ")+"expects targets to have the same shape as the output.")}}}}function Do(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(Array.isArray(e)){if(e.length!==t.length)throw new Un("Error when checking model ".concat(i,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"the model expected. Expected to see ".concat(t.length," Tensor(s),")+" but instead got ".concat(e.length," Tensors(s)."));r=e}else{if(t.length>1)throw new Un("The model expects ".concat(t.length," ").concat(i," Tensors, ")+"but only received one Tensor. Found: array with shape "+"".concat(JSON.stringify(e.shape),"."));r=[e]}if(null!=n)for(var o=0;o<t.length;++o)if(null!=n[o]){var u=r[o];if(u.shape.length!==n[o].length)throw new Un("Error when checking ".concat(i,": expected ").concat(t[o]," ")+"to have ".concat(n[o].length," dimension(s), but got array with ")+"shape ".concat(JSON.stringify(u.shape)));for(var s=0;s<n[o].length;++s)if(0!==s||a){var c=u.shape[s],l=n[o][s];if(null!=l&&l!==c)throw new Un("Error when checking ".concat(i,": expected ")+"".concat(t[o]," to have shape ").concat(JSON.stringify(n[o])," but ")+"got array with shape ".concat(JSON.stringify(u.shape),"."))}}}var No=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,e)).isTraining=!1,r}return Object(An.a)(n,[{key:"summary",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;if(!this.built)throw new Un("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Ri(this,e,t,n)}},{key:"compile",value:function(e){var t=this;if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"===typeof e.optimizer)this.optimizer_=function(e){var t={Adagrad:function(){return o.train.adagrad(.01)},Adadelta:function(){return o.train.adadelta(1,.95,Nn())},Adam:function(){return o.train.adam(.001,.9,.999,Nn())},Adamax:function(){return o.train.adamax(.002,.9,.999,Nn(),0)},RMSProp:function(){return o.train.rmsprop(.001,.9,0,Nn())},SGD:function(){return o.train.sgd(.01)}};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new Un("Unknown Optimizer ".concat(e))}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof o.Optimizer))throw new Un("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}var n=[];if(Array.isArray(e.loss)||"string"===typeof e.loss||"function"===typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new Un("When passing an Array as loss, it should have one entry per "+"model output. The model has ".concat(this.outputs.length," output(s), ")+"but you passed loss=".concat(e.loss,"."));var r=e.loss;n=r.map((function(e){return _i(e)}))}else{var a=_i(e.loss);this.outputs.forEach((function(e){n.push(a)}))}else{for(var i in e.loss=e.loss,e.loss)if(-1===this.outputNames.indexOf(i))throw new Un('Unknown entry in loss dictionary: "'.concat(i,'". ')+"Only expected the following keys: ".concat(this.outputNames));var u,s=Object(Tn.a)(this.outputNames);try{for(s.s();!(u=s.n()).done;){var c=u.value;null==e.loss[c]&&console.warn('Output "'.concat(c,'" is missing from loss dictionary. We assume ')+"this was done on purpose, and we will not be expecting data "+"to be passed to ".concat(c," during training")),n.push(_i(e.loss[c]))}}catch(m){s.e(m)}finally{s.f()}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var l=0;l<this.outputs.length;++l){var f=this.internalOutputShapes[l],d=this.outputNames[l];this.feedOutputNames.push(d),this.feedOutputShapes.push(f),this.feedLossFns.push(this.lossFunctions[l])}var h=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Sr("loss",(function(){for(var e=0;e<t.outputs.length;++e)if(-1===h.indexOf(e)){var n=t.lossFunctions[e];t.outputs.length>1&&(t.metricsTensors.push([n,e]),t.metricsNames.push(t.outputNames[e]+"_loss"))}}));var p=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return[]}));var n;if("string"===typeof e||"function"===typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!==typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,"+"function, Array, or Object, found: ".concat(e));n=e}if(Array.isArray(n))return t.map((function(e){return n}));var r,a=[],i=Object(Tn.a)(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,u=n.hasOwnProperty(o)?n[o]:[];Array.isArray(u)||(u=[u]),a.push(u)}}catch(m){i.e(m)}finally{i.f()}return a}(e.metrics,this.outputNames),v=function(e,n,r){t.outputNames.length>1&&(n=t.outputNames[e]+"_"+n),t.metricsNames.push(n),t.metricsTensors.push([r,e])};Sr("metric",(function(){for(var e=function(e){if(-1!==h.indexOf(e))return"continue";!function(n){var r,a,i,o,u=Object(Tn.a)(n);try{for(u.s();!(o=u.n()).done;){var s=o.value;if("string"===typeof s&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(s)){var c=t.internalOutputShapes[e];1===c[c.length-1]||t.lossFunctions[e]===gi?-1!==["accuracy","acc"].indexOf(s)?a=wi:-1!==["crossentropy","ce"].indexOf(s)&&(a=Ei):t.lossFunctions[e]===mi?-1!==["accuracy","acc"].indexOf(s)?a=Ci:-1!==["crossentropy","ce"].indexOf(s)&&(a=Si):-1!==["accuracy","acc"].indexOf(s)?a=Oi:-1!==["crossentropy","ce"].indexOf(s)&&(a=Ai);var l=void 0;-1!==["accuracy","acc"].indexOf(s)?l="acc":-1!==["crossentropy","ce"].indexOf(s)&&(l="ce"),i=a,r=""+l}else{var f=Ni(s);i=f,r=""+Fi(s)}var d=void 0;Sr(r,(function(){d=i})),v(e,r,d)}}catch(m){u.e(m)}finally{u.f()}}(p[e])},n=0;n<t.outputs.length;++n)e(n)})),this.collectedTrainableWeights=this.trainableWeights}},{key:"checkTrainableWeightsConsistency",value:function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null==n.batchSize?32:n.batchSize;vo(r);var a=!0,i=this.standardizeUserDataXY(e,t,a,r);try{var o=i[0].concat(i[1]);this.makeTestFunction();var u=this.testFunction,s=this.testLoop(u,o,r,n.verbose,n.steps);return Kn(s)}finally{ko(i[0],e),ko(i[1],t)}}},{key:"evaluateDataset",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.makeTestFunction(),e.abrupt("return",ho(this,t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"checkNumSamples",value:function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"steps";if(null!=n){if(r=null,null!=t)throw new Un("If ".concat(a," is set, batchSize must be null or undefined.")+"Got batchSize = ".concat(t))}else{if(null==e)throw new Un("Either the input data should have a defined shape, or "+"".concat(a," shoud be specified."));r=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return r}},{key:"execute",value:function(e,t){if(Array.isArray(t)&&0===t.length)throw new Un("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(t),r=n?t:[t],a=this.retrieveSymbolicTensors(r),i=new Gi;if(e instanceof o.Tensor&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new Un("The number of inputs provided (".concat(e.length,") ")+"does not match the number of inputs of this model "+"(".concat(this.inputs.length,")."));for(var u=0;u<this.inputs.length;++u)i.add(this.inputs[u],e[u])}else{var s,c=Object(Tn.a)(this.inputs);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e[l.name];if(null==f)throw new Un("No value is provided for the model's input ".concat(l.name));i.add(l,f)}}catch(h){c.e(h)}finally{c.f()}}var d=Xi(a,i);return n?d:d[0]}},{key:"retrieveSymbolicTensors",value:function(e){var t,n=qn(null,e.length),r=e.length,a=Object(Tn.a)(this.layers);try{for(a.s();!(t=a.n()).done;){for(var i=t.value,o=Array.isArray(i.output)?i.output:[i.output],u=o.map((function(e){return e.name})),s=0;s<e.length;++s){var c=u.indexOf(e[s]);if(-1!==c&&(n[s]=o[c],r--),0===r)break}if(0===r)break}}catch(f){a.e(f)}finally{a.f()}if(r>0){var l=[];throw n.forEach((function(t,n){null==t&&l.push(e[n])})),new Un("Cannot find SymbolicTensors for output name(s): "+"".concat(JSON.stringify(l)))}return n}},{key:"predictLoop",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.tidy((function(){var a=t.checkNumSamples(e);if(r)throw new Wn("Verbose predictLoop() is not implemented yet.");for(var i=bo(a,n),u=t.outputs.map((function(e){return[]})),s=function(n){o.tidy((function(){var r=i[n][0],a=i[n][1],o=mo(e,r,a),u=[];if(Array.isArray(o))for(var s=0;s<o.length;++s)u.push({key:t.inputs[s],value:o[s]});else u.push({key:t.inputs[0],value:o});var c=new Gi(u);return Xi(t.outputs,c)})).forEach((function(e,t){return u[t].push(e)}))},c=0;c<i.length;++c)s(c);return Kn(u.map((function(e){return o.concat(e,0)})))}))}},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Oo(e);Do(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==t.batchSize?32:t.batchSize;return vo(r),this.predictLoop(n,r)}finally{ko(n,e)}}},{key:"predictOnBatch",value:function(e){Do(e,this.inputNames,this.feedInputShapes,!0);var t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}},{key:"standardizeUserDataXY",value:function(e,t){var n=arguments.length>3?arguments[3]:void 0;if(null==this.optimizer_)throw new Ln("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");for(var r=[],a=0;a<this.feedOutputShapes.length;++a){var i=this.feedOutputShapes[a],o=this.feedLossFns[a];o===mi?r.push(i.slice(0,i.length-1).concat([1])):r.push(i)}if(Ao(e=Co(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=Co(t,this.feedOutputNames,r,!1,"target")),So(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&e[0].shape[0]%n!==0)throw new Un("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+"".concat(n,". Found: ").concat(e[0].shape[0]," sample(s)."));return[e,t]}},{key:"standardizeUserData",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n,r,a){var i,o,s,c,l,f,d,h,p,v=arguments;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!(v.length>4&&void 0!==v[4])||v[4],o=v.length>5?v[5]:void 0,s=this.standardizeUserDataXY(t,n,i,o),c=Object(u.a)(s,2),l=c[0],f=c[1],null==r){e.next=5;break}throw new Error("sample weight is not supported yet.");case 5:if(d=null,null==a){e.next=19;break}h=eo(a,this.outputNames),d=[],p=0;case 10:if(!(p<h.length)){e.next=19;break}return e.t0=d,e.next=14,to(f[p],null,h[p]);case 14:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 16:++p,e.next=10;break;case 19:return e.abrupt("return",[l,f,d]);case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"testLoop",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0;return o.tidy((function(){var u=r.checkNumSamples(t,n,i,"steps"),s=[];if(a>0)throw new Wn("Verbose mode is not implemented yet.");if(null!=i)throw new Wn("steps mode in testLoop() is not implemented yet");for(var c=bo(u,n),l=Object(o.tensor1d)(Br(0,u)),f=0;f<c.length;++f){var d=c[f][0],h=c[f][1],p=Wr(l,d,h-d),v=go(t,p),m=e(v);if(0===f)for(var g=0;g<m.length;++g)s.push(Object(o.scalar)(0));for(var b=0;b<m.length;++b){var y=m[b];s[b]=o.add(s[b],o.mul(h-d,y))}}for(var x=0;x<s.length;++x)s[x]=o.div(s[x],u);return s}))}},{key:"getDedupedMetricsNames",value:function(){for(var e=this.metricsNames,t=[],n=0;n<e.length;++n){var r=e[n],a=r;if(Gn(e,r)>1){var i=Gn(e.slice(0,n),r);a+="_".concat(i)}t.push(a)}return t}},{key:"makeTrainFunction",value:function(){var e=this;return function(t){var n=[],r=t.slice(0,e.inputs.length),a=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),i=t.slice(e.inputs.length+e.outputs.length,e.inputs.length+2*e.outputs.length),u=[],s=e.collectedTrainableWeights.map((function(e){return e.read()}));return[e.optimizer_.minimize((function(){for(var t=[],s=0;s<e.inputs.length;++s)t.push({key:e.inputs[s],value:r[s]});for(var c,l=new Gi(t),f=Xi(e.outputs,l,{training:!0}),d=0;d<e.lossFunctions.length;++d){var h=(0,e.lossFunctions[d])(a[d],f[d]);null!=i[d]&&(h=ro(h,i[d]));var p=o.mean(h);n.push(p),c=0===d?h:o.add(c,h)}for(var v=0;v<e.metricsTensors.length;++v){var m=void 0;if(e.outputs.length>1&&v<e.outputs.length)m=n[v];else{var g=e.metricsTensors[v][0],b=e.metricsTensors[v][1];m=o.mean(g(a[b],f[b]))}o.keep(m),u.push(m)}return c=o.mean(c),e.calculateLosses().forEach((function(e){c=o.add(c,e)})),c}),!0,s)].concat(u)}}},{key:"makeTestFunction",value:function(){var e=this;this.testFunction=function(t){return o.tidy((function(){for(var n,r=[],a=t.slice(0,e.inputs.length),i=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),u=[],s=0;s<e.inputs.length;++s)u.push({key:e.inputs[s],value:a[s]});for(var c=new Gi(u),l=Xi(e.outputs,c),f=0;f<e.lossFunctions.length;++f){var d=e.lossFunctions[f],h=o.mean(d(i[f],l[f]));n=0===f?h:o.add(n,h),r.push(n)}for(var p=0;p<e.metricsTensors.length;++p){var v=e.metricsTensors[p][0],m=e.metricsTensors[p][1],g=o.mean(v(i[m],l[m]));r.push(g)}return r}))}}},{key:"fit",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){var r,a=arguments;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},e.abrupt("return",_o(this,t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uo(this,t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){var r,a,i,u,s,c,l,f,d,h;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.standardizeUserData(t,n);case 2:r=e.sent,a=r[0],i=r[1],u=this.makeTrainFunction(),s=u(a.concat(i)),c=[],l=Object(Tn.a)(s),e.prev=9,l.s();case 11:if((f=l.n()).done){e.next=19;break}return d=f.value,e.next=15,d.data();case 15:h=e.sent,c.push(h[0]);case 17:e.next=11;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),l.e(e.t0);case 24:return e.prev=24,l.f(),e.finish(24);case 27:return o.dispose(s),e.abrupt("return",Kn(c));case 29:case"end":return e.stop()}}),e,this,[[9,21,24,27]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getNamedWeights",value:function(e){for(var t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,a=this.getWeights(n),i=0;i<r.length;++i)n&&!r[i].trainable||t.push({name:r[i].originalName,tensor:a[i]});return t}},{key:"stopTraining",get:function(){return this.stopTraining_},set:function(e){this.stopTraining_=e}},{key:"optimizer",get:function(){return this.optimizer_},set:function(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}},{key:"dispose",value:function(){var e=Object(si.a)(Object(In.a)(n.prototype),"dispose",this).call(this);if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){var t=o.memory().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-o.memory().numTensors}return e}},{key:"getLossIdentifiers",value:function(){var e;if("string"===typeof this.loss)e=Xn(this.loss);else if(Array.isArray(this.loss)){var t,n=Object(Tn.a)(this.loss);try{for(n.s();!(t=n.n()).done;){if("string"!==typeof t.value)throw new Error("Serialization of non-string loss is not supported.")}}catch(s){n.e(s)}finally{n.f()}e=this.loss.map((function(e){return Xn(e)}))}else{var r=Object.keys(this.loss);e={};for(var a=this.loss,i=0,o=r;i<o.length;i++){var u=o[i];if("string"!==typeof a[u])throw new Error("Serialization of non-string loss is not supported.");e[u]=Xn(a[u])}}return e}},{key:"getMetricIdentifiers",value:function(){if("string"===typeof this.metrics||"function"===typeof this.metrics)return[Xn(Fi(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((function(e){return Xn(Fi(e))}));var e={};for(var t in this.metrics)e[t]=Xn(Fi(this.metrics[t]));return e}},{key:"getTrainingConfig",value:function(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}},{key:"loadTrainingConfig",value:function(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");var t,n,r=ci(Vi(e.optimizer_config));if("string"===typeof e.loss)t=Yn(e.loss);else if(Array.isArray(e.loss))t=e.loss.map((function(e){return Yn(e)}));else if(null!=e.loss)for(var a in t={},e.loss)t[a]=Yn(e.loss[a]);if(Array.isArray(e.metrics))n=e.metrics.map((function(e){return Yn(e)}));else if(null!=e.metrics)for(var i in n={},e.metrics)n[i]=Yn(e.metrics[i]);this.compile({loss:t,metrics:n,optimizer:r})}},{key:"save",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){var r,a,i,u,s,c,l,f,d;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=9;break}if(0!==(r=o.io.getSaveHandlers(t)).length){e.next=6;break}throw new Un("Cannot find any save handlers for URL '".concat(t,"'"));case 6:if(!(r.length>1)){e.next=8;break}throw new Un("Found more than one (".concat(r.length,") save handlers for ")+"URL '".concat(t,"'"));case 8:t=r[0];case 9:if(null!=t.save){e.next=11;break}throw new Un("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return e.next=13,o.io.encodeWeights(this.getNamedWeights(n));case 13:if(a=e.sent,!1,null,i=this.toJSON(null,false),u={modelTopology:i,format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v".concat(Hi),convertedBy:null},!(null!=n&&n.includeOptimizer)||null==this.optimizer){e.next=34;break}return u.trainingConfig=this.getTrainingConfig(),c="optimizer",e.t0=o.io,e.next=25,this.optimizer.getWeights();case 25:return e.t1=e.sent,e.t2=c,e.next=29,e.t0.encodeWeights.call(e.t0,e.t1,e.t2);case 29:l=e.sent,f=l.data,d=l.specs,(s=a.specs).push.apply(s,Object(Fn.a)(d)),a.data=o.io.concatenateArrayBuffers([a.data,f]);case 34:return null!=this.userDefinedMetadata&&(!0,Mi(this.userDefinedMetadata,this.name,true),u.userDefinedMetadata=this.userDefinedMetadata),u.weightData=a.data,u.weightSpecs=a.specs,e.abrupt("return",t.save(u));case 38:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setUserDefinedMetadata",value:function(e){Mi(e,this.name),this.userDefinedMetadata=e}},{key:"getUserDefinedMetadata",value:function(){return this.userDefinedMetadata}}]),n}(function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;if(Object(Cn.a)(this,n),(r=t.call(this,{})).containerNodes=new Set,r.name=e.name,null==r.name){var a=r.getClassName().toLowerCase();r.name=Aa(a)}if(r.supportsMasking=!1,r.trainable_=!0,Array.isArray(e.inputs)?r.inputs=e.inputs.slice():r.inputs=[e.inputs],Array.isArray(e.outputs)?r.outputs=e.outputs.slice():r.outputs=[e.outputs],nr(r.inputs).length!==r.inputs.length)throw new Un("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+"".concat(r.inputs.map((function(e){return e.name}))));nr(r.outputs).length!==r.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+"".concat(r.outputs.map((function(e){return e.name})))),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[],r.internalContainerRefs=[];var i,o=Object(Tn.a)(r.outputs);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.sourceLayer,c=u.nodeIndex,l=u.tensorIndex;r.outputLayers.push(s),r.outputLayersNodeIndices.push(c),r.outputLayersTensorIndices.push(l)}}catch(we){o.e(we)}finally{o.f()}var f,d=Object(Tn.a)(r.inputs);try{for(d.s();!(f=d.n()).done;){var h=f.value,p=h.sourceLayer,v=h.nodeIndex,m=h.tensorIndex;Hn(0===v,"input layer has >1 nodes"),Hn(0===m,"input layer has >1 tensors"),r.inputLayers.push(p),r.inputLayersNodeIndices.push(v),r.inputLayersTensorIndices.push(m)}}catch(we){d.e(we)}finally{d.f()}r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var g=0;g<r.inputLayers.length;g++){var b=r.inputLayers[g];if(!(b instanceof Ha))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. "+"Received inputs: ".concat(e.inputs,". ")+"Input ".concat(g," (0-based) originates ")+"from layer type ".concat(b.getClassName(),"."));r.inputNames.push(b.name),r.feedInputShapes.push(b.batchInputShape),r.feedInputNames.push(b.name)}var y,x=Object(Tn.a)(r.outputLayers);try{for(x.s();!(y=x.n()).done;){var _=y.value;r.outputNames.push(_.name)}}catch(we){x.e(we)}finally{x.f()}r.internalInputShapes=r.inputs.map((function(e){return e.shape})),r.internalOutputShapes=r.outputs.map((function(e){return e.shape}));var w,O={},k={},j={},E={},C={},A=[],S=function e(t,a,i,o,u,s){null!=o&&null!=u&&null!=s||(o=t.sourceLayer,u=t.nodeIndex,s=t.tensorIndex);var c=o.inboundNodes[u];if(-1!==i.indexOf(c))throw new Ln("The tensor ".concat(t.name,' at layer "').concat(o.name,'" ')+"is part of a cycle.");if(-1===a.indexOf(c)){r.containerNodes.add(n.nodeKey(o,u)),o.id in C||(C[o.id]=Object.keys(C).length),-1===i.indexOf(c)&&i.push(c);for(var l=c.inboundLayers.length,f=0;f<l;f++){e(c.inputTensors[f],a,i,c.inboundLayers[f],c.nodeIndices[f],c.tensorIndices[f])}for(a.push(c);i.indexOf(c)>=0;)i.splice(i.indexOf(c),1);A.push(c)}},D=[],N=[],F=Object(Tn.a)(r.outputs);try{for(F.s();!(w=F.n()).done;){S(w.value,D,N)}}catch(we){F.e(we)}finally{F.f()}var T,M=A.slice().reverse(),I=Object(Tn.a)(M);try{for(I.s();!(T=I.n()).done;){var R=T.value;k[R.id]=R,R.id in O||(O[R.id]=0);var P=O[R.id],B=null==j[R.outboundLayer.id]?0:j[R.outboundLayer.id];P=Math.max(P,B),j[R.outboundLayer.id]=P,E[R.outboundLayer.id]=R.outboundLayer,O[R.id]=P;for(var z=0;z<R.inboundLayers.length;z++){var L=R.inboundLayers[z],U=R.nodeIndices[z],W=L.inboundNodes[U],V=null==O[W.id]?0:O[W.id];O[W.id]=Math.max(P+1,V),k[W.id]=W}}}catch(we){I.e(we)}finally{I.f()}var q={};for(var H in O){var G=O[H];G in q||(q[G]=[]),q[G].push(k[H])}var K={};for(var $ in j){var X=j[$];X in K||(K[X]=[]),K[X].push(E[$])}var Y=Object.keys(K).map((function(e){return parseInt(e,10)})).sort(tr);r.layers=[];var J,Q=Object(Tn.a)(Y);try{for(Q.s();!(J=Q.n()).done;){var Z=K[J.value];Z.sort((function(e,t){var n=C[e.id],r=C[t.id];return n<r?-1:n>r?1:0}));var ee,te=Object(Tn.a)(Z);try{for(te.s();!(ee=te.n()).done;){var ne=ee.value;ne instanceof n&&r.internalContainerRefs.push(ne),r.layers.push(ne)}}catch(we){te.e(we)}finally{te.f()}}}catch(we){Q.e(we)}finally{Q.f()}r.layersByDepth=K,Y=Object.keys(q).map((function(e){return parseInt(e,10)})).sort(tr);var re,ae=r.inputs.slice(),ie=[],oe=Object(Tn.a)(Y);try{for(oe.s();!(re=oe.n()).done;){var ue,se=re.value,ce=Object(Tn.a)(q[se]);try{for(ce.s();!(ue=ce.n()).done;){var le=ue.value,fe=le.outboundLayer;if(null!=fe){var de,he=Object(Tn.a)(le.inputTensors);try{for(he.s();!(de=he.n()).done;){var pe=de.value;if(-1===ae.indexOf(pe))throw new Ln("Graph disconnected: cannot obtain value for tensor ".concat(pe)+' at layer "'.concat(fe.name,'". ')+"The following previous layers were accessed without "+"issue: ".concat(ie))}}catch(we){he.e(we)}finally{he.f()}var ve,me=Object(Tn.a)(le.outputTensors);try{for(me.s();!(ve=me.n()).done;){var ge=ve.value;ae.push(ge)}}catch(we){me.e(we)}finally{me.f()}ie.push(fe.name)}}}catch(we){ce.e(we)}finally{ce.f()}}}catch(we){oe.e(we)}finally{oe.f()}r.nodesByDepth=q;var be,ye=r.layers.map((function(e){return e.name})),xe=Object(Tn.a)(ye);try{var _e=function(){var e=be.value,t=ye.filter((function(t){return t===e})).length;if(1!==t)throw new Ln('The name "'.concat(e,'" is used ').concat(t," times ")+"in the model. All layer names should be unique. Layer names: "+JSON.stringify(ye))};for(xe.s();!(be=xe.n()).done;)_e()}catch(we){xe.e(we)}finally{xe.f()}return r.outboundNodes=[],r.inboundNodes=[],new Ua({outboundLayer:Object(Mn.a)(r),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map((function(e){return null})),outputMasks:r.outputs.map((function(e){return null})),inputShapes:r.inputs.map((function(e){return e.shape})),outputShapes:r.outputs.map((function(e){return e.shape}))}),r.built=!0,r._refCount=1,r}return Object(An.a)(n,[{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Container '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){this.assertNotDisposed();var e={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){var t,n=Object(Tn.a)(this.layers);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.numDisposedVariables+=r.dispose().numDisposedVariables}}catch(u){n.e(u)}finally{n.f()}var a,i=Object(Tn.a)(this.internalContainerRefs);try{for(i.s();!(a=i.n()).done;){var o=a.value;e.numDisposedVariables+=o.dispose().numDisposedVariables}}catch(u){i.e(u)}finally{i.f()}}return e.refCountAfterDispose=this._refCount,e}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.layers.forEach((function(t){t._trainableWeights.forEach((function(t){return t.trainable=e}))})),this.trainable_=e}},{key:"trainableWeights",get:function(){if(this._trainableWeights.length>0)throw new Un("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];var e,t=[],n=Object(Tn.a)(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t=t.concat(r.trainableWeights)}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"nonTrainableWeights",get:function(){var e,t=[],n=Object(Tn.a)(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,Object(Fn.a)(r.nonTrainableWeights))}}catch(s){n.e(s)}finally{n.f()}if(!this.trainable){var a,i=[],o=Object(Tn.a)(this.layers);try{for(o.s();!(a=o.n()).done;){var u=a.value;i.push.apply(i,Object(Fn.a)(u.trainableWeights))}}catch(s){o.e(s)}finally{o.f()}return i.concat(t)}return t}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"loadWeights",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={},a=0,i=Object(Tn.a)(this.layers);try{for(i.s();!(t=i.n()).done;){var o,u=t.value,s=Object(Tn.a)(u.weights);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(null!=r[c.originalName])throw new Un("Duplicate weight name: ".concat(c.originalName));r[c.originalName]=c,a++}}catch(g){s.e(g)}finally{s.f()}}}catch(g){i.e(g)}finally{i.f()}var l=[];for(var f in e){var d=f;if(null==r[f]){var h=f.split("/"),p=h.slice(0,-2).concat([h[h.length-1]]);d=p.join("/")}if(null!=r[d])l.push([r[d],e[f]]);else if(n)throw new Un("Provided weight data has no target variable: ".concat(f));delete r[d]}if(n){var v=[];for(var m in r)v.push(m);if(v.length>0)throw new Un("".concat(v.length," of ").concat(a," weights are not set: ")+"".concat(v))}Pa(l)}},{key:"updatedConfig",value:function(){var e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers ".concat(Hi),t.backend="TensorFlow.js",t}},{key:"toJSON",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=qi(this.updatedConfig());return t?JSON.stringify(n):n}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){e=$n(e);for(var r=new Gi,a=0;a<n.inputs.length;++a)r.add(n.inputs[a],e[a]);return Xi(n.outputs,r,t)}))}},{key:"computeMask",value:function(e,t){var n=this;return Object(o.tidy)((function(){var r;return e=$n(e),r=null==t?qn(null,e.length):$n(t),n.runInternalGraph(e,r)[1]}))}},{key:"computeOutputShape",value:function(e){var t=Da(e);if(t.length!==this.inputLayers.length)throw new Un("Invalid inputShape argument ".concat(e,": ")+"model has ".concat(this.inputLayers.length," tensor inputs."));for(var n={},r=0;r<t.length;r++){var a=this.inputLayers[r],i=t[r];n[a.name+"_0_0"]=i}var o=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(tr);if(o.length>1){var u,s=Object(Tn.a)(o);try{for(s.s();!(u=s.n()).done;){var c,l=u.value,f=this.nodesByDepth[l],d=Object(Tn.a)(f);try{for(d.s();!(c=d.n()).done;){var h=c.value,p=h.outboundLayer;if(-1===this.inputLayers.map((function(e){return e.id})).indexOf(p.id)){for(var v=[],m=0;m<h.inboundLayers.length;m++){var g=h.inboundLayers[m],b=h.nodeIndices[m],y=h.tensorIndices[m],x=n["".concat(g.name,"_").concat(b,"_").concat(y)];v.push(x)}for(var _=Da(p.computeOutputShape(Kn(v))),w=p.inboundNodes.indexOf(h),O=0;O<_.length;O++){n["".concat(p.name,"_").concat(w,"_").concat(O)]=_[O]}}}}catch(T){d.e(T)}finally{d.f()}}}catch(T){s.e(T)}finally{s.f()}}for(var k=[],j=[],E=0;E<this.outputLayers.length;E++){var C=this.outputLayers[E],A=this.outputLayersNodeIndices[E],S=this.outputLayersTensorIndices[E],D="".concat(C.name,"_").concat(A,"_").concat(S);j.push(D)}for(var N=0;N<j.length;N++){var F=j[N];Hn(F in n),k.push(n[F])}return Kn(k)}},{key:"runInternalGraph",value:function(e,t){null==t&&(t=qn(null,e.length));for(var n={},r=0;r<this.inputs.length;++r){var a=this.inputs[r],i=e[r],o=t[r];n[a.id]=[i,o]}var s,c=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(tr),l=Object(Tn.a)(c);try{for(l.s();!(s=l.n()).done;){var f,d=s.value,h=this.nodesByDepth[d],p=Object(Tn.a)(h);try{for(p.s();!(f=p.n()).done;){var v,m=f.value,g=m.outboundLayer,b=m.inputTensors,y=m.outputTensors,x=new Array,_=Object(Tn.a)(b);try{for(_.s();!(v=_.n()).done;){var w=v.value;w.id in n&&x.push(n[w.id])}}catch(q){_.e(q)}finally{_.f()}if(x.length===b.length){var O={},k=void 0,j=void 0,E=void 0,C=void 0;if(null!=m.callArgs&&(O=m.callArgs),1===x.length){var A=Object(u.a)(x[0],2),S=A[0],D=A[1];null==O.mask&&(O.mask=D),E=$n(g.call(S,O)),C=$n(g.computeMask(S,D)),k=[S],j=[D]}else k=x.map((function(e){return e[0]})),j=x.map((function(e){return e[1]})),null==O.mask&&(O.mask=j),E=$n(g.call(k,O)),C=$n(g.computeMask(k,j));if(g.activityRegularizer)throw new Wn("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(var N=0;N<y.length;++N){var F=y[N],T=E[N],M=C[N];n[F.id]=[T,M]}}}}catch(q){p.e(q)}finally{p.f()}}}catch(q){l.e(q)}finally{l.f()}var I,R=[],P=[],B=[],z=Object(Tn.a)(this.outputs);try{for(z.s();!(I=z.n()).done;){var L=I.value;Hn(L.id in n,"Could not compute output ".concat(L.name," : ").concat(L.id));var U=Object(u.a)(n[L.id],2),W=U[0],V=U[1];B.push(W.shape),R.push(W),P.push(V)}}catch(q){z.e(q)}finally{z.f()}return[R,P,B]}},{key:"buildNodeConversionMap",value:function(e){var t,r,a={},i=Object(Tn.a)(this.layers);try{for(i.s();!(r=i.n()).done;){var o=r.value;t=o instanceof n?1:0;for(var u=0;u<o.inboundNodes.length;u++){var s=n.nodeKey(o,u);this.containerNodes.has(s)&&(a[s]=t,t+=1)}}}catch(c){i.e(c)}finally{i.f()}return a}},{key:"getLayer",value:function(e,t){if(null!=t){if(this.layers.length<=t)throw new Un("Was asked to retrieve layer at index ".concat(t,", but model only ")+"has ".concat(this.layers.length," layer(s)."));return this.layers[t]}if(null==e)throw new Un("Provide either a layer name or layer index");var n,r=Object(Tn.a)(this.layers);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.name===e)return a}}catch(i){r.e(i)}finally{r.f()}throw new Un("No such layer: ".concat(e))}},{key:"calculateLosses",value:function(){var e=this;return Object(o.tidy)((function(){var t,r=[],a=Object(Tn.a)(e.layers);try{for(a.s();!(t=a.n()).done;)for(var i=t.value,o=0;o<i.inboundNodes.length;++o){var u=n.nodeKey(i,o);e.containerNodes.has(u)&&r.push.apply(r,Object(Fn.a)(i.calculateLosses()))}}catch(s){a.e(s)}finally{a.f()}return r}))}},{key:"getConfig",value:function(){var e,t={name:this.name},r=this.buildNodeConversionMap(this.layers),a=[],i=Object(Tn.a)(this.layers);try{for(i.s();!(e=i.n()).done;){for(var o=e.value,u=o.getClassName(),s=o.getConfig(),c=[],l=0;l<o.inboundNodes.length;l++){var f=o.inboundNodes[l],d=n.nodeKey(o,l),h={};if(this.containerNodes.has(d)){if(f.callArgs)try{JSON.stringify(f.callArgs),h=f.callArgs}catch(I){console.warn("Layer ".concat(o.name," was passed ")+"non-serializable keyword arguments: "+"".concat(f.callArgs,". They will not be included ")+"in the serialized model (and thus will be missing at deserialization time)."),h={}}if(f.inboundLayers.length>0){for(var p=[],v=0;v<f.inboundLayers.length;v++){var m=f.inboundLayers[v],g=f.nodeIndices[v],b=f.tensorIndices[v],y=r[n.nodeKey(m,g)];null==y&&(y=0),p.push([m.name,y,b,h])}c.push(p)}}}var x={};x.name=o.name,x.className=u,x.config=s,x.inboundNodes=c,a.push(x)}}catch(I){i.e(I)}finally{i.f()}t.layers=a;for(var _=[],w=0;w<this.inputLayers.length;w++){var O=this.inputLayers[w],k=this.inputLayersNodeIndices[w],j=n.nodeKey(O,k);if(this.containerNodes.has(j)){var E=r[j];null!==E&&void 0!==E||(E=0);var C=this.inputLayersTensorIndices[w];_.push([O.name,E,C])}}t.inputLayers=_;for(var A=[],S=0;S<this.outputLayers.length;S++){var D=this.outputLayers[S],N=this.outputLayersNodeIndices[S],F=n.nodeKey(D,N);if(this.containerNodes.has(F)){var T=r[F];null!==T&&void 0!==T||(T=0);var M=this.outputLayersTensorIndices[S];A.push([D.name,T,M])}}return t.outputLayers=A,t}},{key:"stateful",get:function(){if(this._stateful)throw new Un("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");var e,t=Object(Tn.a)(this.layers);try{for(t.s();!(e=t.n()).done;){if(e.value.stateful)return!0}}catch(n){t.e(n)}finally{t.f()}return!1}},{key:"resetStates",value:function(){var e=this;Object(o.tidy)((function(){e.layers.forEach((function(e){e.stateful&&e.resetStates()}))}))}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={},a={};function i(e,t){e.name in a?a[e.name].push(t):a[e.name]=[t]}function o(e,t){var n,a,o=[],u=Object(Tn.a)(t);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=s[0],l=s[1],f=s[2];if(n=null==s[3]?{}:s[3],!(c in r))return void i(e,t);var d=r[c];if(d.inboundNodes.length<=l)return void i(e,t);var h=d.inboundNodes[l];o.push(h.outputTensors[f])}}catch(p){u.e(p)}finally{u.f()}o.length>0&&e.apply(Kn(o),n)}function u(e){var a=e.name,o=ci(e,null!=t.customObjects?t.customObjects:{});o.setFastWeightInitDuringBuild(n),r[a]=o,e.inboundNodes.forEach((function(e){if(!(e instanceof Array))throw new Un("Corrupted configuration, expected array for nodeData: ".concat(e));i(o,e)}))}var s,c=t.name,l=t.layers,f=Object(Tn.a)(l);try{for(f.s();!(s=f.n()).done;){var d=s.value;u(d)}}catch(U){f.e(U)}finally{f.f()}for(;!rr(a);){var h,p=Object(Tn.a)(l);try{for(p.s();!(h=p.n()).done;){var v=h.value,m=r[v.name];if(m.name in a){var g=a[m.name];delete a[m.name];var b,y=Object(Tn.a)(g);try{for(y.s();!(b=y.n()).done;){var x=b.value;o(m,x)}}catch(U){y.e(U)}finally{y.f()}}}}catch(U){p.e(U)}finally{p.f()}}var _,w=[],O=[],k=t.inputLayers,j=Object(Tn.a)(k);try{for(j.s();!(_=j.n()).done;){var E=_.value,C=E[0],A=E[1],S=E[2];Hn(C in r);var D=r[C],N=D.inboundNodes[A].outputTensors;w.push(N[S])}}catch(U){j.e(U)}finally{j.f()}var F,T=t.outputLayers,M=Object(Tn.a)(T);try{for(M.s();!(F=M.n()).done;){var I=F.value,R=I[0],P=I[1],B=I[2];Hn(R in r);var z=r[R],L=z.inboundNodes[P].outputTensors;O.push(L[B])}}catch(U){M.e(U)}finally{M.f()}return new e({inputs:w,outputs:O,name:c})}}]),n}(Va));No.className="Model",o.serialization.registerClass(No);var Fo=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return n}(No);Fo.className="Functional",o.serialization.registerClass(Fo);var To=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;if(Object(Cn.a)(this,n),e=e||{},(r=t.call(this,{inputs:[],outputs:[]})).trainable=!0,r.built=!1,r.name=null!=e.name?e.name:Aa("sequential_"),null!=e.layers){var a,i=Object(Tn.a)(e.layers);try{for(i.s();!(a=i.n()).done;){var o=a.value;r.add(o)}}catch(u){i.e(u)}finally{i.f()}}return r}return Object(An.a)(n,[{key:"checkShape",value:function(e){if(e.inboundNodes[0].outputTensors[0].shape.some((function(e){return e<0})))throw new Un("Negative dimension size caused by adding layer "+"".concat(e.name," with input shape [")+"".concat(e.inboundNodes[0].inputTensors[0].shape,"]"))}},{key:"add",value:function(e){var t,r=e instanceof n||e instanceof No;if(r){if(1!==(t=e).outputs.length)throw new Un("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==t.inputs.length)throw new Un("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new Un("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var a=Ga({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(a)}if(r)this.outputs=t.outputs,this.inputs=t.inputs;else{if(1!==e.inboundNodes.length)throw new Un("A layer added to a Sequential model must not already be "+"connected somewhere else. LayersModel received layer ".concat(e.name," ")+"which has ".concat(e.inboundNodes.length," pre-existing inbound ")+"connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new Un("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=qa(this.outputs[0])}this.inboundNodes=[],new Ua({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:qn(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((function(e){return e.shape})),outputShapes:this.outputs[0].shape})}else{var i=e.apply(this.outputs[0]);if(Array.isArray(i))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[i],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}},{key:"pop",value:function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}},{key:"call",value:function(e,t){return null==this.model&&this.build(),this.model.call(e,t)}},{key:"build",value:function(e){if(Fa(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new No({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}},{key:"countParams",value:function(){return this.built||this.build(),Object(si.a)(Object(In.a)(n.prototype),"countParams",this).call(this)}},{key:"summary",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;this.built||this.build(),Object(si.a)(Object(In.a)(n.prototype),"summary",this).call(this,e,t,r)}},{key:"setWeights",value:function(e){null==this.model&&this.build(),this.model.setWeights(e)}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new Ln("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}},{key:"evaluateDataset",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.built){e.next=2;break}throw new Ln("The model needs to be compiled before being used.");case 2:return e.abrupt("return",this.model.evaluateDataset(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.model&&this.build(),this.model.predict(e,t)}},{key:"predictOnBatch",value:function(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}},{key:"compile",value:function(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}},{key:"optimizer",get:function(){return null==this.model?void 0:this.model.optimizer},set:function(e){this.model.optimizer=e}},{key:"fit",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){var r,a=arguments;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:{},this.built){e.next=3;break}throw new Ln("The model needs to be compiled before being used.");case 3:return e.abrupt("return",this.model.fit(t,n,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.built){e.next=2;break}throw new Ln("The model needs to be compiled before being used.");case 2:return e.abrupt("return",this.model.fitDataset(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t,n){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.model.trainOnBatch(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"stopTraining",get:function(){if(null==this.model)throw new Un("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining},set:function(e){if(null==this.model)throw new Un("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}},{key:"getConfig",value:function(){var e,t=[],n=Object(Tn.a)(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value,a={};a.className=r.getClassName(),a.config=r.getConfig(),t.push(a)}}catch(i){n.e(i)}finally{n.f()}return{name:this.name,layers:t}}}],[{key:"fromConfig",value:function(e,t){var r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new Un("Legacy serialization format not supported yet.");r=t}else o.util.assert(null!=t.layers,(function(){return"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."})),r=t.layers,delete t.layers,i=t;var u=new e(i);if(!(u instanceof n))throw new Wn("Sequential.fromConfig called on non-Sequential input: ".concat(u));var s,c=Object(Tn.a)(r);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=void 0,d=ci(l,f,a);a&&d.setFastWeightInitDuringBuild(!0),u.add(d)}}catch(h){c.e(h)}finally{c.f()}return u}}]),n}(No);function Mo(e){return new To(e)}function Io(e){return Ga(e)}To.className="Sequential",o.serialization.registerClass(To);var Ro=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"getConfig",value:function(){return{}}}]),n}(o.serialization.Serializable),Po=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return ea(e,t)}}]),n}(Ro);Po.className="elu",o.serialization.registerClass(Po);var Bo=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return o.selu(e)}}]),n}(Ro);Bo.className="selu",o.serialization.registerClass(Bo);var zo=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return o.relu(e)}}]),n}(Ro);zo.className="relu",o.serialization.registerClass(zo);var Lo=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return Object(o.tidy)((function(){return o.minimum(6,o.relu(e))}))}}]),n}(Ro);Lo.className="relu6",o.serialization.registerClass(Lo);var Uo=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return e}}]),n}(Ro);Uo.className="linear",o.serialization.registerClass(Uo);var Wo=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return o.sigmoid(e)}}]),n}(Ro);Wo.className="sigmoid",o.serialization.registerClass(Wo);var Vo=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return function(e){return Object(o.tidy)((function(){var t=o.add(.5,o.mul(.2,e));return o.clipByValue(t,0,1)}))}(e)}}]),n}(Ro);Vo.className="hardSigmoid",o.serialization.registerClass(Vo);var qo=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return o.softplus(e)}}]),n}(Ro);qo.className="softplus",o.serialization.registerClass(qo);var Ho=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return function(e){return Object(o.tidy)((function(){return o.div(e,o.abs(e).add(1))}))}(e)}}]),n}(Ro);Ho.className="softsign",o.serialization.registerClass(Ho);var Go=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){return o.tanh(e)}}]),n}(Ro);Go.className="tanh",o.serialization.registerClass(Go);var Ko=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return o.softmax(e,t)}}]),n}(Ro);Ko.className="softmax",o.serialization.registerClass(Ko);var $o=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return o.logSoftmax(e,t)}}]),n}(Ro);$o.className="logSoftmax",o.serialization.registerClass($o);var Xo=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(o.tidy)((function(){return o.sigmoid(e.mul(t)).mul(e)}))}}]),n}(Ro);function Yo(e){return e.getClassName()}function Jo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return er(e,o.serialization.SerializationMap.getMap().classNameMap,t,"activation")}function Qo(e){if(null==e){var t={className:"linear",config:{}};return Jo(t)}if("string"===typeof e){var n={};return n.className=e,n.config={},Jo(n)}return e instanceof Ro?e:Jo(e)}function Zo(e){if(null!=e&&"object"!==typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an "+"object, but received: ".concat(e))}Xo.className="swish",o.serialization.registerClass(Xo);var eu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return n}(o.serialization.Serializable),tu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),r=t.call(this),Zo(e),r.l1=null==e||null==e.l1?.01:e.l1,r.l2=null==e||null==e.l2?.01:e.l2,r.hasL1=0!==r.l1,r.hasL2=0!==r.l2,r}return Object(An.a)(n,[{key:"apply",value:function(e){var t=this;return Object(o.tidy)((function(){var n=Object(o.zeros)([1]);return t.hasL1&&(n=Object(o.add)(n,Object(o.sum)(o.mul(t.l1,Object(o.abs)(e))))),t.hasL2&&(n=Object(o.add)(n,Object(o.sum)(o.mul(t.l2,Jr(e))))),n.asScalar()}))}},{key:"getConfig",value:function(){return{l1:this.l1,l2:this.l2}}}],[{key:"fromConfig",value:function(e,t){return new e({l1:t.l1,l2:t.l2})}}]),n}(eu);tu.className="L1L2",o.serialization.registerClass(tu);var nu={l1l2:"L1L2"};function ru(e){return Qn(e)}function au(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return er(e,o.serialization.SerializationMap.getMap().classNameMap,t,"regularizer")}function iu(e){return null==e?null:"string"===typeof e?au({className:e in nu?nu[e]:e,config:{}}):e instanceof eu?e:au(e)}var ou=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,null==e?{}:e)).supportsMasking=!0,null!=e&&(r.maxValue=e.maxValue),r}return Object(An.a)(n,[{key:"call",value:function(e,t){e=Na(e);var n=Object(o.relu)(e);return null!=this.maxValue&&(n=Object(o.clipByValue)(n,0,this.maxValue)),n}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={maxValue:this.maxValue},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va);ou.className="ReLU",o.serialization.registerClass(ou);var uu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA=.3,null==e&&(e={}),r.alpha=null==e.alpha?r.DEFAULT_ALPHA:e.alpha,r}return Object(An.a)(n,[{key:"call",value:function(e,t){var n=Na(e);return Object(o.leakyRelu)(n,this.alpha)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va);uu.className="LeakyReLU",o.serialization.registerClass(uu);var su=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;if(Object(Cn.a)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),r.supportsMasking=!0,r.alphaInitializer=ka(e.alphaInitializer||r.DEFAULT_ALPHA_INITIALIZER),r.alphaRegularizer=iu(e.alphaRegularizer),r.alphaConstraint=br(e.alphaConstraint),null==e.sharedAxes)r.sharedAxes=null;else if(Array.isArray(e.sharedAxes))r.sharedAxes=e.sharedAxes;else{if("number"!==typeof e.sharedAxes)throw new Un("Expected sharedAxes to be a number or an array of numbers, "+"but got ".concat(e.sharedAxes));r.sharedAxes=[e.sharedAxes]}return r}return Object(An.a)(n,[{key:"build",value:function(e){var t=(e=Fa(e)).slice(1);if(null!=this.sharedAxes){var n,r=Object(Tn.a)(this.sharedAxes);try{for(r.s();!(n=r.n()).done;){t[n.value-1]=1}}catch(o){r.e(o)}finally{r.f()}}this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var a={};if(null!=this.sharedAxes)for(var i=1;i<e.length;++i)a[i]=e[i];this.inputSpec=[new Ba({ndim:e.length,axes:a})],this.built=!0}},{key:"call",value:function(e,t){return e=Na(e),Object(o.prelu)(e,this.alpha.read())}},{key:"getConfig",value:function(){var e={alphaInitializer:Oa(this.alphaInitializer),alphaRegularizer:ru(this.alphaRegularizer),alphaConstraint:mr(this.alphaConstraint),sharedAxes:this.sharedAxes},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va);su.className="PReLU",o.serialization.registerClass(su);var cu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;if(Object(Cn.a)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==r.DEFAULT_ALPHA)throw new Wn("Non-default alpha value (".concat(e.alpha,") is not supported by the ")+"ELU layer yet.");return r.alpha=null==e.alpha?r.DEFAULT_ALPHA:e.alpha,r}return Object(An.a)(n,[{key:"call",value:function(e,t){var n=Na(e);return Object(o.elu)(n)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va);cu.className="ELU",o.serialization.registerClass(cu);var lu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_THETA=1,null==e&&(e={}),r.theta=null==e.theta?r.DEFAULT_THETA:e.theta,r}return Object(An.a)(n,[{key:"call",value:function(e,t){var n=Na(e);return n.mul(zr(n.greater(this.theta),"float32"))}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={theta:this.theta},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va);lu.className="ThresholdedReLU",o.serialization.registerClass(lu);var fu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_AXIS=1,null==e&&(e={}),r.softmax=(new Ko).apply,r.axis=null==e.axis?r.DEFAULT_AXIS:e.axis,r}return Object(An.a)(n,[{key:"call",value:function(e,t){var n=Na(e);return this.softmax(n,this.axis)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={axis:this.axis},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va);fu.className="Softmax",o.serialization.registerClass(fu);var du=n(21);function hu(e,t,n){if("number"===typeof e)return qn(e,t);if(e.length!==t)throw new Un("The ".concat(n," argument must be an integer or tuple of ").concat(t," integers.")+" Received: ".concat(e.length," elements."));for(var r=0;r<t;++r){var a=e[r];if((i=a)!==parseInt(i.toString(),10))throw new Un("The ".concat(n," argument must be an integer or tuple of ").concat(t)+" integers. Received: ".concat(JSON.stringify(e)," including a")+" non-integer number ".concat(a))}return e;var i}function pu(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(null==e)return e;var i,o=t+(t-1)*(a-1);return i="same"===n?e:e-o+1,Math.floor((i+r-1)/r)}function vu(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+Pr([n-t,0]);else{if("same"!==r)throw new Un("Unsupport padding mode: ".concat(r,"."));e*=t}return e}function mu(e,t){return Object(o.tidy)((function(){return jr(t),"channelsFirst"===t?o.transpose(e,[0,2,3,1]):e}))}function gu(e,t){return Object(o.tidy)((function(){return jr(t),"channelsFirst"===t?o.transpose(e,[0,2,3,4,1]):e}))}function bu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return Object(o.tidy)((function(){if(null==i&&(i="channelsLast"),jr(i),3!==e.shape.length)throw new Un("The input of a conv1dWithBias operation should be 3, but is "+"".concat(e.shape.length," instead."));if(3!==t.shape.length)throw new Un("The kernel for a conv1dWithBias operation should be 3, but is "+"".concat(t.shape.length," instead"));if(null!=n&&1!==n.shape.length)throw new Un("The bias for a conv1dWithBias operation should be 1, but is "+"".concat(t.shape.length," instead"));if("channelsFirst"===i&&(e=o.transpose(e,[0,2,1])),"causal"===a)throw new Wn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var s=o.conv1d(e,t,r,"same"===a?"same":"valid","NWC",u);return null!=n&&(s=Zr(s,n)),s}))}function yu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return Object(o.tidy)((function(){if(null==i&&(i="channelsLast"),jr(i),3!==e.rank&&4!==e.rank)throw new Un("conv2dWithBiasActivation expects input to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));if(3!==t.rank&&4!==t.rank)throw new Un("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));var c=mu(e,i);if("causal"===a)throw new Wn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return c=o.fused.conv2d({x:c,filter:t,strides:r,pad:"same"===a?"same":"valid",dilations:u,dataFormat:"NHWC",bias:n,activation:s}),"channelsFirst"===i&&(c=o.transpose(c,[0,3,1,2])),c}))}function xu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0;return Object(o.tidy)((function(){if(null==i&&(i="channelsLast"),jr(i),4!==e.rank&&5!==e.rank)throw new Un("conv3dWithBias expects input to be of rank 4 or 5, but received "+"".concat(e.rank,"."));if(4!==t.rank&&5!==t.rank)throw new Un("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+"".concat(e.rank,"."));var s=gu(e,i);if("causal"===a)throw new Wn("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return s=o.conv3d(s,t,r,"same"===a?"same":"valid","NDHWC",u),null!=n&&(s=Zr(s,n)),"channelsFirst"===i&&(s=o.transpose(s,[0,4,1,2,3])),s}))}var _u=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e,r){var a;if(Object(Cn.a)(this,n),(a=t.call(this,r)).bias=null,a.DEFAULT_KERNEL_INITIALIZER="glorotNormal",a.DEFAULT_BIAS_INITIALIZER="zeros",n.verifyArgs(r),a.rank=e,or(a.rank,"rank"),1!==a.rank&&2!==a.rank&&3!==a.rank)throw new Wn("Convolution layer for rank other than 1, 2, or 3 (".concat(a.rank,") is ")+"not implemented yet.");if(a.kernelSize=hu(r.kernelSize,e,"kernelSize"),a.strides=hu(null==r.strides?1:r.strides,e,"strides"),a.padding=null==r.padding?"valid":r.padding,Er(a.padding),a.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,jr(a.dataFormat),a.activation=Qo(r.activation),a.useBias=null==r.useBias||r.useBias,a.biasInitializer=ka(r.biasInitializer||a.DEFAULT_BIAS_INITIALIZER),a.biasConstraint=br(r.biasConstraint),a.biasRegularizer=iu(r.biasRegularizer),a.activityRegularizer=iu(r.activityRegularizer),a.dilationRate=hu(null==r.dilationRate?1:r.dilationRate,e,"dilationRate"),1===a.rank&&Array.isArray(a.dilationRate)&&1!==a.dilationRate.length)throw new Un("dilationRate must be a number or an array of a single number for 1D convolution, but received "+"".concat(JSON.stringify(a.dilationRate)));if(2===a.rank){if("number"===typeof a.dilationRate)a.dilationRate=[a.dilationRate,a.dilationRate];else if(2!==a.dilationRate.length)throw new Un("dilationRate must be a number or array of two numbers for 2D "+"convolution, but received ".concat(JSON.stringify(a.dilationRate)))}else if(3===a.rank)if("number"===typeof a.dilationRate)a.dilationRate=[a.dilationRate,a.dilationRate,a.dilationRate];else if(3!==a.dilationRate.length)throw new Un("dilationRate must be a number or array of three numbers for 3D "+"convolution, but received ".concat(JSON.stringify(a.dilationRate)));return a}return Object(An.a)(n,[{key:"getConfig",value:function(){var e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Yo(this.activation),useBias:this.useBias,biasInitializer:Oa(this.biasInitializer),biasRegularizer:ru(this.biasRegularizer),activityRegularizer:ru(this.activityRegularizer),biasConstraint:mr(this.biasConstraint)},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"verifyArgs",value:function(e){if(Hn("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!==typeof e.kernelSize&&!ir(e.kernelSize,"number",1,3))throw new Un("BaseConv expects config.kernelSize to be number or number[] with "+"length 1, 2, or 3, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(Va),wu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e,r){var a;return Object(Cn.a)(this,n),(a=t.call(this,e,r)).kernel=null,n.verifyArgs(r),a.filters=r.filters,or(a.filters,"filters"),a.kernelInitializer=ka(r.kernelInitializer||a.DEFAULT_KERNEL_INITIALIZER),a.kernelConstraint=br(r.kernelConstraint),a.kernelRegularizer=iu(r.kernelRegularizer),a}return Object(An.a)(n,[{key:"build",value:function(e){e=Fa(e);var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Un("The channel dimension of the input should be defined. "+"Found ".concat(e[t]));var n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:Object(du.a)({},t,n)}],this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var t;e=Na(e);var r=null==n.bias?null:n.bias.read(),a=sr(n.activation.getClassName());if(null!=a&&2===n.rank)t=yu(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate,a);else{if(1===n.rank)t=bu(e,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)t=yu(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else{if(3!==n.rank)throw new Wn("convolutions greater than 3D are not implemented yet.");t=xu(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate)}null!=n.activation&&(t=n.activation.apply(t))}return t}))}},{key:"computeOutputShape",value:function(e){e=Fa(e);for(var t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2),r=0;r<n.length;++r){var a=pu(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"===typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(a)}var i=[e[0]];return"channelsLast"===this.dataFormat?(i=i.concat(t)).push(this.filters):(i.push(this.filters),i=i.concat(t)),i}},{key:"getConfig",value:function(){var e={filters:this.filters,kernelInitializer:Oa(this.kernelInitializer),kernelRegularizer:ru(this.kernelRegularizer),kernelConstraint:mr(this.kernelConstraint)},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"verifyArgs",value:function(e){if(!("filters"in e)||"number"!==typeof e.filters||e.filters<1)throw new Un("Convolution layer expected config.filters to be a 'number' > 0 "+"but got ".concat(JSON.stringify(e.filters)))}}]),n}(_u),Ou=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),r=t.call(this,2,e),n.verifyArgs(e),r}return Object(An.a)(n,[{key:"getConfig",value:function(){var e=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&!ir(e.kernelSize,"number",1,2))throw new Un("Conv2D expects config.kernelSize to be number or number[] with "+"length 1 or 2, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(wu);Ou.className="Conv2D",o.serialization.registerClass(Ou);var ku=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),r=t.call(this,3,e),n.verifyArgs(e),r}return Object(An.a)(n,[{key:"getConfig",value:function(){var e=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new Un("Conv3D expects config.kernelSize to be number or"+" [number, number, number], but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(wu);ku.className="Conv3D",o.serialization.registerClass(ku);var ju=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;if(Object(Cn.a)(this,n),(r=t.call(this,e)).inputSpec=[new Ba({ndim:4})],"same"!==r.padding&&"valid"!==r.padding)throw new Un("Conv2DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(r.padding));return r}return Object(An.a)(n,[{key:"build",value:function(e){if(4!==(e=Fa(e)).length)throw new Un("Input should have rank 4; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Un("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Ba({ndim:4,axes:Object(du.a)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return o.tidy((function(){var t=Na(e);if(4!==t.shape.length)throw new Un("Conv2DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));var r,a,i=t.shape,u=i[0];"channelsFirst"===n.dataFormat?(r=2,a=3):(r=1,a=2);var s=i[r],c=i[a],l=n.kernelSize[0],f=n.kernelSize[1],d=n.strides[0],h=n.strides[1],p=[u,vu(s,d,l,n.padding),vu(c,h,f,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=o.transpose(t,[0,2,3,1]));var v=o.conv2dTranspose(t,n.kernel.read(),p,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(v=o.transpose(v,[0,3,1,2])),null!=n.bias&&(v=Zr(v,n.bias.read(),n.dataFormat)),null!=n.activation&&(v=n.activation.apply(v)),v}))}},{key:"computeOutputShape",value:function(e){var t,n,r,a=(e=Fa(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3):(t=3,n=1,r=2);var i=this.kernelSize[0],o=this.kernelSize[1],u=this.strides[0],s=this.strides[1];return a[t]=this.filters,a[n]=vu(a[n],u,i,this.padding),a[r]=vu(a[r],s,o,this.padding),a}},{key:"getConfig",value:function(){var e=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),n}(Ou);ju.className="Conv2DTranspose",o.serialization.registerClass(ju);var Eu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e,r){var a;if(Object(Cn.a)(this,n),(a=t.call(this,e,r)).DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",a.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",a.depthwiseKernel=null,a.pointwiseKernel=null,null==r.filters)throw new Un("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=r.kernelInitializer||null!=r.kernelRegularizer||null!=r.kernelConstraint)throw new Un("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=r.padding&&"same"!==r.padding&&"valid"!==r.padding)throw new Un("SeparableConv".concat(a.rank,"D supports only padding modes: ")+"'same' and 'valid', but received ".concat(JSON.stringify(r.padding)));return a.depthMultiplier=null==r.depthMultiplier?1:r.depthMultiplier,a.depthwiseInitializer=ka(r.depthwiseInitializer||a.DEFAULT_DEPTHWISE_INITIALIZER),a.depthwiseRegularizer=iu(r.depthwiseRegularizer),a.depthwiseConstraint=br(r.depthwiseConstraint),a.pointwiseInitializer=ka(r.depthwiseInitializer||a.DEFAULT_POINTWISE_INITIALIZER),a.pointwiseRegularizer=iu(r.pointwiseRegularizer),a.pointwiseConstraint=br(r.pointwiseConstraint),a}return Object(An.a)(n,[{key:"build",value:function(e){if((e=Fa(e)).length<this.rank+2)throw new Un("Inputs to SeparableConv".concat(this.rank,"D should have rank ")+"".concat(this.rank+2,", but received input shape: ")+"".concat(JSON.stringify(e)));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new Un("The channel dimension of the inputs should be defined, "+"but found ".concat(JSON.stringify(e[t])));for(var n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),a=[],i=0;i<this.rank;++i)a.push(1);a.push(n*this.depthMultiplier,this.filters);var o=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,o,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,o,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,o,this.biasConstraint):this.bias=null,this.inputSpec=[new Ba({ndim:this.rank+2,axes:Object(du.a)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var t;if(e=Na(e),1===n.rank)throw new Wn("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(e=o.transpose(e,[0,2,3,1])),t=o.separableConv2d(e,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(t=Zr(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),"channelsFirst"===n.dataFormat&&(t=o.transpose(t,[0,3,1,2])),t}))}},{key:"getConfig",value:function(){var e=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=Oa(this.depthwiseInitializer),e.pointwiseInitializer=Oa(this.pointwiseInitializer),e.depthwiseRegularizer=ru(this.depthwiseRegularizer),e.pointwiseRegularizer=ru(this.pointwiseRegularizer),e.depthwiseConstraint=mr(this.depthwiseConstraint),e.pointwiseConstraint=mr(this.pointwiseConstraint),e}}]),n}(wu);Eu.className="SeparableConv";var Cu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,2,e)}return n}(Eu);Cu.className="SeparableConv2D",o.serialization.registerClass(Cu);var Au=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),r=t.call(this,1,e),n.verifyArgs(e),r.inputSpec=[{ndim:3}],r}return Object(An.a)(n,[{key:"getConfig",value:function(){var e=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return delete e.rank,delete e.dataFormat,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&!ir(e.kernelSize,"number",1,1))throw new Un("Conv1D expects config.kernelSize to be number or number[] with "+"length 1, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(wu);Au.className="Conv1D",o.serialization.registerClass(Au);var Su=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),r=t.call(this,e),"number"===typeof e.cropping?r.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"===typeof e.cropping[0]?r.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:r.cropping=e.cropping,r.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,r.inputSpec=[{ndim:4}],r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){if(e=Na(e),"channelsLast"===n.dataFormat){var t=qr(e,n.cropping[0][0],e.shape[1]-n.cropping[0][0]-n.cropping[0][1],2);return qr(t,n.cropping[1][0],e.shape[2]-n.cropping[1][1]-n.cropping[1][0],3)}var r=qr(e,n.cropping[0][0],e.shape[2]-n.cropping[0][0]-n.cropping[0][1],3);return qr(r,n.cropping[1][0],e.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)}))}},{key:"getConfig",value:function(){var e={cropping:this.cropping,dataFormat:this.dataFormat},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va);Su.className="Cropping2D",o.serialization.registerClass(Su);var Du=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r,a;return Object(Cn.a)(this,n),(r=t.call(this,e)).DEFAULT_SIZE=[2,2],r.inputSpec=[{ndim:4}],r.size=null==e.size?r.DEFAULT_SIZE:e.size,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,jr(r.dataFormat),r.interpolation=null==e.interpolation?"nearest":e.interpolation,a=r.interpolation,ar(xr,"InterpolationFormat",a),r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){if("channelsFirst"===this.dataFormat){var t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}var r=null==e[1]?null:this.size[0]*e[1],a=null==e[2]?null:this.size[1]*e[2];return[e[0],r,a,e[3]]}},{key:"call",value:function(e,t){var n=this;return o.tidy((function(){var t=Na(e),r=t.shape;if("channelsFirst"===n.dataFormat){t=o.transpose(t,[0,2,3,1]);var a=n.size[0]*r[2],i=n.size[1]*r[3],u="nearest"===n.interpolation?t.resizeNearestNeighbor([a,i]):t.resizeBilinear([a,i]);return o.transpose(u,[0,3,1,2])}var s=n.size[0]*r[1],c=n.size[1]*r[2];return"nearest"===n.interpolation?t.resizeNearestNeighbor([s,c]):t.resizeBilinear([s,c])}))}},{key:"getConfig",value:function(){var e={size:this.size,dataFormat:this.dataFormat},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va);Du.className="UpSampling2D",o.serialization.registerClass(Du);var Nu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,2,e)).depthwiseKernel=null,r.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,r.depthwiseInitializer=ka(e.depthwiseInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.depthwiseConstraint=br(e.depthwiseConstraint),r.depthwiseRegularizer=iu(e.depthwiseRegularizer),r}return Object(An.a)(n,[{key:"build",value:function(e){if((e=Fa(e)).length<4)throw new Un("Inputs to DepthwiseConv2D should have rank 4. "+"Received input shape: ".concat(JSON.stringify(e),"."));var t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new Un("The channel dimension of the inputs to DepthwiseConv2D should "+"be defined, but is not (".concat(e[t],")."));var n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"valid",a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return Object(o.tidy)((function(){null==a&&(a="channelsLast"),jr(a);var u=mu(e,a);if(4!==e.rank)throw new Un("Input for depthwiseConv2d is required to be 4-D, but is instead "+"".concat(e.rank,"-D"));if(4!==t.rank)throw new Un("depthwiseKernel is required to be 4-D, but is instead "+"".concat(t.rank,"-D"));return u=o.depthwiseConv2d(u,t,n,"same"===r?"same":"valid","NHWC",i),"channelsFirst"===a&&(u=o.transpose(u,[0,3,1,2])),u}))}(e=Na(e),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(t=Zr(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),t}))}},{key:"computeOutputShape",value:function(e){e=Fa(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,a=pu(t,this.kernelSize[0],this.padding,this.strides[0]),i=pu(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,a,i]:[e[0],a,i,r]}},{key:"getConfig",value:function(){var e=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=Oa(this.depthwiseInitializer),e.depthwiseRegularizer=ru(this.depthwiseRegularizer),e.depthwiseConstraint=mr(this.depthwiseRegularizer),e}}]),n}(_u);function Fu(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new Un("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function a(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=a(t),constants:n=a(n)}}function Tu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return o.tidy((function(){var c=t.shape.length;if(c<3)throw new Un("Input should be at least 3D, but is ".concat(c,"D."));var l=[1,0].concat(Br(2,c));if(t=o.transpose(t,l),null!=i)throw new Wn("The rnn() functoin of the deeplearn.js backend does not support constants yet.");u&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=a&&((a=a.asType("bool").asType("float32")).rank===c-1&&(a=o.expandDims(a,-1)),a=o.transpose(a,l)),r&&(t=o.reverse(t,0),null!=a&&(a=o.reverse(a,0)));var f,d,h=[],p=n,v=t.shape[0],m=o.unstack(t);null!=a&&(d=o.unstack(a));for(var g,b=function(t){var n=m[t],r=o.tidy((function(){return e(n,p)}));if(null==a)f=r[0],p=r[1];else{var i=o.tidy((function(){var e=d[t],n=o.onesLike(e).sub(e);return{output:r[0].mul(e).add(p[0].mul(n)),newStates:p.map((function(t,a){return r[1][a].mul(e).add(t.mul(n))}))}}));f=i.output,p=i.newStates}s&&h.push(f)},y=0;y<v;++y)b(y);if(s){g=o.stack(h,1)}return[f,g,p]}))}Nu.className="DepthwiseConv2D",o.serialization.registerClass(Nu);var Mu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r,a;if(Object(Cn.a)(this,n),r=t.call(this,e),null==e.cell)throw new Un("cell property is missing for the constructor of RNN.");if(null==(a=Array.isArray(e.cell)?new Wu({cells:e.cell}):e.cell).stateSize)throw new Un("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return r.cell=a,r.returnSequences=null!=e.returnSequences&&e.returnSequences,r.returnState=null!=e.returnState&&e.returnState,r.goBackwards=null!=e.goBackwards&&e.goBackwards,r._stateful=null!=e.stateful&&e.stateful,r.unroll=null!=e.unroll&&e.unroll,r.supportsMasking=!0,r.inputSpec=[new Ba({ndim:3})],r.stateSpec=null,r.states_=null,r.numConstants=null,r.keptStates=[],r}return Object(An.a)(n,[{key:"getStates",value:function(){return null==this.states_?Br(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((function(e){return null})):this.states_}},{key:"setStates",value:function(e){this.states_=e}},{key:"computeOutputShape",value:function(e){Sa(e)&&(e=e[0]),e=e;var t=this.cell.stateSize;Array.isArray(t)||(t=[t]);var n,r=t[0];if(n=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){var a,i=[],o=Object(Tn.a)(t);try{for(o.s();!(a=o.n()).done;){var u=a.value;i.push([e[0],u])}}catch(s){o.e(s)}finally{o.f()}return[n].concat(i)}return n}},{key:"computeMask",value:function(e,t){var n=this;return o.tidy((function(){Array.isArray(t)&&(t=t[0]);var e=n.returnSequences?t:null;if(n.returnState){var r=n.states.map((function(e){return null}));return[e].concat(r)}return e}))}},{key:"states",get:function(){if(null==this.states_){for(var e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[],n=0;n<e;++n)t.push(null);return t}return this.states_},set:function(e){this.states_=e}},{key:"build",value:function(e){if(null!=this.numConstants)throw new Wn("Constants support is not implemented in RNN yet.");Sa(e)&&(e=e[0]),e=e;var t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new Ba({shape:[t,null].concat(Object(Fn.a)(n))});var r,a=[e[0]].concat(e.slice(2));if(this.cell.build(a),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!o.util.arraysEqual(this.stateSpec.map((function(e){return e.shape[e.shape.length-1]})),r))throw new Un("An initialState was passed that is not compatible with "+"cell.stateSize. Received stateSpec=".concat(this.stateSpec,"; ")+"However cell.stateSize is ".concat(this.cell.stateSize))}else this.stateSpec=r.map((function(e){return new Ba({shape:[null,e]})}));this.stateful&&this.resetStates()}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(o.tidy)((function(){if(!t.stateful)throw new zn("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=t.inputSpec[0].shape[0];if(null==r)throw new Un("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.states_)Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(e){return o.zeros([r,e])})):t.states_=[o.zeros([r,t.cell.stateSize])];else if(null==e)o.dispose(t.states_),null!=t.keptStates&&(o.dispose(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(e){return o.zeros([r,e])})):t.states_[0]=o.zeros([r,t.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new Un("Layer ".concat(t.name," expects ").concat(t.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));!0===n?t.keptStates.push(t.states_.slice()):o.dispose(t.states_);for(var a=0;a<t.states_.length;++a){var i=e[a],u=Array.isArray(t.cell.stateSize)?t.cell.stateSize[a]:t.cell.stateSize,s=[r,u];if(!o.util.arraysEqual(i.shape,s))throw new Un("State ".concat(a," is incompatible with layer ").concat(t.name,": ")+"expected shape=".concat(s,", received shape=").concat(i.shape));t.states_[a]=i}}t.states_=t.states_.map((function(e){return o.keep(e.clone())}))}))}},{key:"apply",value:function(e,t){var r=null==t?null:t.initialState,a=null==t?null:t.constants;null==t&&(t={});var i=Fu(e,r,a,this.numConstants);e=i.inputs,r=i.initialState,a=i.constants;var o=[],u=[];if(null!=r){t.initialState=r,o=o.concat(r),this.stateSpec=[];var s,c=Object(Tn.a)(r);try{for(c.s();!(s=c.n()).done;){var l=s.value;this.stateSpec.push(new Ba({shape:l.shape}))}}catch(v){c.e(v)}finally{c.f()}u=u.concat(this.stateSpec)}if(null!=a&&(t.constants=a,o=o.concat(a),this.numConstants=a.length),o[0]instanceof za){var f=[e].concat(o),d=this.inputSpec.concat(u),h=this.inputSpec;this.inputSpec=d;var p=Object(si.a)(Object(In.a)(n.prototype),"apply",this).call(this,f,t);return this.inputSpec=h,p}return Object(si.a)(Object(In.a)(n.prototype),"apply",this).call(this,e,t)}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var r=null==t?null:t.mask,a=null==t?null:t.training,i=null==t?null:t.initialState;e=Na(e),null==i&&(i=n.stateful?n.states_:n.getInitialState(e));var o=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(i.length!==o)throw new Un("RNN Layer has ".concat(o," state(s) but was passed ")+"".concat(i.length," initial state(s)."));n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var u={training:a},s=Tu((function(e,t){var r=n.cell.call([e].concat(t),u);return[r[0],r.slice(1)]}),e,i,n.goBackwards,r,null,n.unroll,n.returnSequences),c=s[0],l=s[1],f=s[2];n.stateful&&n.resetStates(f,a);var d=n.returnSequences?l:c;return n.returnState?[d].concat(f):d}))}},{key:"getInitialState",value:function(e){var t=this;return Object(o.tidy)((function(){var n=o.zeros(e.shape);return n=Lr(n=o.sum(n,[1,2])),Array.isArray(t.cell.stateSize)?t.cell.stateSize.map((function(e){return e>1?Kr(n,[1,e]):n})):t.cell.stateSize>1?[Kr(n,[1,t.cell.stateSize])]:[n]}))}},{key:"trainableWeights",get:function(){return this.trainable?this.cell.trainableWeights:[]}},{key:"nonTrainableWeights",get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}},{key:"setFastWeightInitDuringBuild",value:function(e){Object(si.a)(Object(In.a)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);var r=this.cell.getConfig();return this.getClassName()===n.className&&(t.cell={className:this.cell.getClassName(),config:r}),Object.assign({},r,e,t)}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.cell,a=ci(r,n);return new e(Object.assign(t,{cell:a}))}}]),n}(Va);Mu.className="RNN",o.serialization.registerClass(Mu);var Iu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return n}(Va),Ru=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,or(r.units,"units"),r.activation=Qo(null==e.activation?r.DEFAULT_ACTIVATION:e.activation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=ka(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=ka(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=ka(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=iu(e.kernelRegularizer),r.recurrentRegularizer=iu(e.recurrentRegularizer),r.biasRegularizer=iu(e.biasRegularizer),r.kernelConstraint=br(e.kernelConstraint),r.recurrentConstraint=br(e.recurrentConstraint),r.biasConstraint=br(e.biasConstraint),r.dropout=Rr([1,Pr([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=Rr([1,Pr([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return Object(An.a)(n,[{key:"build",value:function(e){e=Fa(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){if(2!==(e=e).length)throw new Un("SimpleRNNCell expects 2 input Tensors, got ".concat(e.length,"."));var r=e[1];e=e[0];var a,i=null!=t.training&&t.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Vu({ones:function(){return o.onesLike(e)},rate:n.dropout,training:i})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Vu({ones:function(){return o.onesLike(r)},rate:n.recurrentDropout,training:i}));var u=n.dropoutMask,s=n.recurrentDropoutMask;a=Xr(null!=u?o.mul(e,u):e,n.kernel.read()),null!=n.bias&&(a=Zr(a,n.bias.read())),null!=s&&(r=o.mul(r,s));var c=o.add(a,Xr(r,n.recurrentKernel.read()));return null!=n.activation&&(c=n.activation.apply(c)),[c,c]}))}},{key:"getConfig",value:function(){var e=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:Yo(this.activation),useBias:this.useBias,kernelInitializer:Oa(this.kernelInitializer),recurrentInitializer:Oa(this.recurrentInitializer),biasInitializer:Oa(this.biasInitializer),kernelRegularizer:ru(this.kernelRegularizer),recurrentRegularizer:ru(this.recurrentRegularizer),biasRegularizer:ru(this.biasRegularizer),activityRegularizer:ru(this.activityRegularizer),kernelConstraint:mr(this.kernelConstraint),recurrentConstraint:mr(this.recurrentConstraint),biasConstraint:mr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign({},e,t)}}]),n}(Iu);Ru.className="SimpleRNNCell",o.serialization.registerClass(Ru);var Pu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),e.cell=new Ru(e),t.call(this,e)}return Object(An.a)(n,[{key:"call",value:function(e,t){var r=this;return Object(o.tidy)((function(){null!=r.cell.dropoutMask&&(o.dispose(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(o.dispose(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,i=null==t?null:t.training,u=null==t?null:t.initialState;return Object(si.a)(Object(In.a)(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:u})}))}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),n}(Mu);Pu.className="SimpleRNN",o.serialization.registerClass(Pu);var Bu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;if(Object(Cn.a)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new Un("GRUCell does not support reset_after parameter set to true.");return r.units=e.units,or(r.units,"units"),r.activation=Qo(void 0===e.activation?r.DEFAULT_ACTIVATION:e.activation),r.recurrentActivation=Qo(void 0===e.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=ka(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=ka(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=ka(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=iu(e.kernelRegularizer),r.recurrentRegularizer=iu(e.recurrentRegularizer),r.biasRegularizer=iu(e.biasRegularizer),r.kernelConstraint=br(e.kernelConstraint),r.recurrentConstraint=br(e.recurrentConstraint),r.biasConstraint=br(e.biasConstraint),r.dropout=Rr([1,Pr([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=Rr([1,Pr([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.implementation=e.implementation,r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return Object(An.a)(n,[{key:"build",value:function(e){var t=(e=Fa(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){if(2!==(e=e).length)throw new Un("GRUCell expects 2 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var r=null!=t.training&&t.training,a=e[1];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Vu({ones:function(){return o.onesLike(e)},rate:n.dropout,training:r,count:3})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Vu({ones:function(){return o.onesLike(a)},rate:n.recurrentDropout,training:r,count:3}));var i,s,c,l=n.dropoutMask,f=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=o.mul(e,l[0]));var d=Xr(e,n.kernel.read());n.useBias&&(d=Zr(d,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(a=o.mul(a,f[0]));var h=n.recurrentKernel.read(),p=o.split(h,[2*n.units,n.units],h.rank-1),v=Object(u.a)(p,2),m=v[0],g=v[1],b=Xr(a,m),y=o.split(d,3,d.rank-1),x=Object(u.a)(y,3),_=x[0],w=x[1],O=x[2],k=o.split(b,2,b.rank-1),j=Object(u.a)(k,2),E=j[0],C=j[1];i=n.recurrentActivation.apply(o.add(_,E)),s=n.recurrentActivation.apply(o.add(w,C));var A=Xr(o.mul(s,a),g);c=n.activation.apply(o.add(O,A));var S=o.add(o.mul(i,a),o.mul(o.add(1,o.neg(i)),c));return[S,S]}))}},{key:"getConfig",value:function(){var e=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:Yo(this.activation),recurrentActivation:Yo(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Oa(this.kernelInitializer),recurrentInitializer:Oa(this.recurrentInitializer),biasInitializer:Oa(this.biasInitializer),kernelRegularizer:ru(this.kernelRegularizer),recurrentRegularizer:ru(this.recurrentRegularizer),biasRegularizer:ru(this.biasRegularizer),activityRegularizer:ru(this.activityRegularizer),kernelConstraint:mr(this.kernelConstraint),recurrentConstraint:mr(this.recurrentConstraint),biasConstraint:mr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign({},e,t)}}]),n}(Iu);Bu.className="GRUCell",o.serialization.registerClass(Bu);var zu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Bu(e),t.call(this,e)}return Object(An.a)(n,[{key:"call",value:function(e,t){var r=this;return Object(o.tidy)((function(){null!=r.cell.dropoutMask&&(o.dispose(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(o.dispose(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,i=null==t?null:t.training,u=null==t?null:t.initialState;return Object(si.a)(Object(In.a)(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:u})}))}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),n}(Mu);zu.className="GRU",o.serialization.registerClass(zu);var Lu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,or(r.units,"units"),r.activation=Qo(void 0===e.activation?r.DEFAULT_ACTIVATION:e.activation),r.recurrentActivation=Qo(void 0===e.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=ka(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=ka(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=ka(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.unitForgetBias=e.unitForgetBias,r.kernelRegularizer=iu(e.kernelRegularizer),r.recurrentRegularizer=iu(e.recurrentRegularizer),r.biasRegularizer=iu(e.biasRegularizer),r.kernelConstraint=br(e.kernelConstraint),r.recurrentConstraint=br(e.recurrentConstraint),r.biasConstraint=br(e.biasConstraint),r.dropout=Rr([1,Pr([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=Rr([1,Pr([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.implementation=e.implementation,r.stateSize=[r.units,r.units],r.dropoutMask=null,r.recurrentDropoutMask=null,r}return Object(An.a)(n,[{key:"build",value:function(e){var t,n,r=(e=Fa(e))[e.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var a=this.biasInitializer,i=this.units;n=new((t=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e,t){var n=a.apply([i]),r=(new ua).apply([i]),o=a.apply([2*i]);return Gr(Gr(n,r),o)}}]),n}(ia)).className="CustomInit",t)}else n=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var r=null!=t.training&&t.training;if(3!==(e=e).length)throw new Un("LSTMCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var a=e[1],i=e[2];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Vu({ones:function(){return o.onesLike(e)},rate:n.dropout,training:r,count:4})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Vu({ones:function(){return o.onesLike(a)},rate:n.recurrentDropout,training:r,count:4}));var s,c,l,f,d=n.dropoutMask,h=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=o.mul(e,d[0]));var p=Xr(e,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(a=o.mul(a,h[0])),p=o.add(p,Xr(a,n.recurrentKernel.read())),n.useBias&&(p=Zr(p,n.bias.read()));var v=o.split(p,4,p.rank-1),m=Object(u.a)(v,4),g=m[0],b=m[1],y=m[2],x=m[3];s=n.recurrentActivation.apply(g),c=n.recurrentActivation.apply(b),l=o.add(o.mul(c,i),o.mul(s,n.activation.apply(y))),f=n.recurrentActivation.apply(x);var _=o.mul(f,n.activation.apply(l));return[_,_,l]}))}},{key:"getConfig",value:function(){var e=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:Yo(this.activation),recurrentActivation:Yo(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Oa(this.kernelInitializer),recurrentInitializer:Oa(this.recurrentInitializer),biasInitializer:Oa(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:ru(this.kernelRegularizer),recurrentRegularizer:ru(this.recurrentRegularizer),biasRegularizer:ru(this.biasRegularizer),activityRegularizer:ru(this.activityRegularizer),kernelConstraint:mr(this.kernelConstraint),recurrentConstraint:mr(this.recurrentConstraint),biasConstraint:mr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign({},e,t)}}]),n}(Iu);Lu.className="LSTMCell",o.serialization.registerClass(Lu);var Uu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Lu(e),t.call(this,e)}return Object(An.a)(n,[{key:"call",value:function(e,t){var r=this;return Object(o.tidy)((function(){null!=r.cell.dropoutMask&&(o.dispose(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(o.dispose(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,i=null==t?null:t.training,u=null==t?null:t.initialState;return Object(si.a)(Object(In.a)(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:u})}))}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),n}(Mu);Uu.className="LSTM",o.serialization.registerClass(Uu);var Wu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,e)).cells=e.cells,r}return Object(An.a)(n,[{key:"stateSize",get:function(){var e,t=[],n=Object(Tn.a)(this.cells.slice().reverse());try{for(n.s();!(e=n.n()).done;){var r=e.value;Array.isArray(r.stateSize)?t.push.apply(t,Object(Fn.a)(r.stateSize)):t.push(r.stateSize)}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var r,a=(e=e).slice(1),i=[],o=Object(Tn.a)(n.cells.slice().reverse());try{for(o.s();!(r=o.n()).done;){var u=r.value;Array.isArray(u.stateSize)?i.push(a.splice(0,u.stateSize.length)):i.push(a.splice(0,1))}}catch(m){o.e(m)}finally{o.f()}i.reverse();for(var s,c=[],l=0;l<n.cells.length;++l){var f=n.cells[l];a=i[l],s=0===l?[e[0]].concat(a):[s[0]].concat(a),s=f.call(s,t),c.push(s.slice(1))}a=[];var d,h=Object(Tn.a)(c.slice().reverse());try{for(h.s();!(d=h.n()).done;){var p,v=d.value;(p=a).push.apply(p,Object(Fn.a)(v))}}catch(m){h.e(m)}finally{h.f()}return[s[0]].concat(a)}))}},{key:"build",value:function(e){var t;Sa(e)&&(e=e[0]),e=e,this.cells.forEach((function(n,r){Sr("RNNCell_".concat(r),(function(){n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}},{key:"getConfig",value:function(){var e=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this),t={cells:this.cells.map((function(e){return{className:e.getClassName(),config:e.getConfig()}}))};return Object.assign({},e,t)}},{key:"trainableWeights",get:function(){if(!this.trainable)return[];var e,t=[],n=Object(Tn.a)(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,Object(Fn.a)(r.trainableWeights))}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"nonTrainableWeights",get:function(){var e,t=[],n=Object(Tn.a)(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,Object(Fn.a)(r.nonTrainableWeights))}}catch(s){n.e(s)}finally{n.f()}if(!this.trainable){var a,i=[],o=Object(Tn.a)(this.cells);try{for(o.s();!(a=o.n()).done;){var u=a.value;i.push.apply(i,Object(Fn.a)(u.trainableWeights))}}catch(s){o.e(s)}finally{o.f()}return i.concat(t)}return t}},{key:"getWeights",value:function(){var e,t=[],n=Object(Tn.a)(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,Object(Fn.a)(r.weights))}}catch(a){n.e(a)}finally{n.f()}return Ra(t)}},{key:"setWeights",value:function(e){var t,n=[],r=Object(Tn.a)(this.cells);try{for(r.s();!(t=r.n()).done;)for(var a=t.value,i=a.weights.length,o=e.splice(i),u=0;u<a.weights.length;++u)n.push([a.weights[u],o[u]])}catch(s){r.e(s)}finally{r.f()}Pa(n)}}],[{key:"fromConfig",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],i=Object(Tn.a)(t.cells);try{for(i.s();!(n=i.n()).done;){var o=n.value;a.push(ci(o,r))}}catch(u){i.e(u)}finally{i.f()}return new e({cells:a})}}]),n}(Iu);function Vu(e){var t=e.ones,n=e.rate,r=e.training,a=void 0!==r&&r,i=e.count,u=void 0===i?1:i,s=function(){return ta(t(),n)},c=function(){return na(s,t,a)};return!u||u<=1?o.keep(c().clone()):Array(u).fill(void 0).map(c).map((function(e){return o.keep(e.clone())}))}Wu.className="StackedRNNCells",o.serialization.registerClass(Wu);var qu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Hu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;if(Object(Cn.a)(this,n),e.unroll)throw new Wn("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new Wn("It is not possible at the moment to stack convolutional cells.");return(r=t.call(this,e)).inputSpec=[new Ba({ndim:5})],r}return Object(An.a)(n,[{key:"call",value:function(e,t){var r=this;return o.tidy((function(){if(null!=r.cell.dropoutMask&&(o.dispose(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(o.dispose(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null),t&&t.constants)throw new Un("ConvRNN2D cell does not support constants");var a=null==t?null:t.mask,i=null==t?null:t.training,u=null==t?null:t.initialState;return Object(si.a)(Object(In.a)(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:u})}))}},{key:"computeOutputShape",value:function(e){var t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0]].concat(Object(Fn.a)(t.slice(2)))),this.returnState&&(t=[t].concat(Object(Fn.a)(Array(2).fill([e[0]].concat(Object(Fn.a)(t.slice(-3))))))),t}},{key:"getInitialState",value:function(e){var t=this;return o.tidy((function(){var n=t.cell.stateSize,r=e.shape,a=t.computeSingleOutputShape(r),i=[a[0]].concat(Object(Fn.a)(a.slice(2))),u=o.zeros(i);return Array.isArray(n)?Array(n.length).fill(u):[u]}))}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o.tidy((function(){if(!t.stateful)throw new zn("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=t.inputSpec[0].shape,a=t.computeSingleOutputShape(r),i=[a[0]].concat(Object(Fn.a)(a.slice(2)));if(null==r[0])throw new Un("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.getStates())Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(){return o.zeros(i)})):t.states_=[o.zeros(i)];else if(null==e)o.dispose(t.states_),null!=t.keptStates&&(o.dispose(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(){return o.zeros(i)})):t.states_[0]=o.zeros(i);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new Un("Layer ".concat(t.name," expects ").concat(t.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));n?t.keptStates.push(t.states_.slice()):o.dispose(t.states_);for(var u=0;u<t.states_.length;++u){var s=e[u],c=i;if(!o.util.arraysEqual(s.shape,c))throw new Un("State ".concat(u," is incompatible with layer ").concat(t.name,": ")+"expected shape=".concat(c,", received shape=").concat(s.shape));t.states_[u]=s}}t.states_=t.states_.map((function(e){return o.keep(e.clone())}))}))}},{key:"computeSingleOutputShape",value:function(e){var t=this.cell,n=t.dataFormat,r=t.filters,a=t.kernelSize,i=t.padding,o=t.strides,u=t.dilationRate,s="channelsFirst"===n,c=e[s?3:2],l=e[s?4:3],f=pu(c,a[0],i,o[0],u[0]),d=pu(l,a[1],i,o[1],u[1]);return[].concat(Object(Fn.a)(e.slice(0,2)),Object(Fn.a)(s?[r,f,d]:[f,d,r]))}}]),n}(Mu);Hu.className="ConvRNN2D";var Gu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;Object(Cn.a)(this,n);var a=e.filters,i=e.kernelSize,o=e.strides,u=e.padding,s=e.dataFormat,c=e.dilationRate;return(r=t.call(this,Object.assign({},e,{units:a}))).filters=a,or(r.filters,"filters"),r.kernelSize=hu(i,2,"kernelSize"),r.kernelSize.forEach((function(e){return or(e,"kernelSize")})),r.strides=hu(o||1,2,"strides"),r.strides.forEach((function(e){return or(e,"strides")})),r.padding=u||"valid",Er(r.padding),r.dataFormat=s||"channelsLast",jr(r.dataFormat),r.dilationRate=hu(c||1,2,"dilationRate"),r.dilationRate.forEach((function(e){return or(e,"dilationRate")})),r}return Object(An.a)(n,[{key:"build",value:function(e){var t;e=Fa(e);var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new Un("The channel dimension of the input should be defined. "+"Found ".concat(e[n]));var r=e[n],a=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);var i=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",i,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){var u;if(this.unitForgetBias){var s=this.biasInitializer,c=this.filters;u=new((t=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"apply",value:function(e,t){return Hr([s.apply([c]),o.ones([c]),s.apply([2*c])])}}]),n}(ia)).className="CustomInit",t)}else u=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,u,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}},{key:"call",value:function(e,t){var n=this;return o.tidy((function(){if(3!==e.length)throw new Un("ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var r=t.training||!1,a=e[0],i=e[1],s=e[2];0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Vu({ones:function(){return o.onesLike(a)},rate:n.dropout,training:r,count:4}));var c=n.dropoutMask,l=function(e,t,n){return t&&t[n]?o.mul(t[n],e):e},f=l(a,c,0),d=l(a,c,1),h=l(a,c,2),p=l(a,c,3);0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Vu({ones:function(){return o.onesLike(i)},rate:n.recurrentDropout,training:r,count:4}));var v=n.recurrentDropoutMask,m=l(i,v,0),g=l(i,v,1),b=l(i,v,2),y=l(i,v,3),x=o.split(n.kernel.read(),4,3),_=Object(u.a)(x,4),w=_[0],O=_[1],k=_[2],j=_[3],E=n.useBias?o.split(n.bias.read(),4):[null,null,null,null],C=Object(u.a)(E,4),A=C[0],S=C[1],D=C[2],N=C[3];f=n.inputConv(f,w,A,n.padding),d=n.inputConv(d,O,S,n.padding),h=n.inputConv(h,k,D,n.padding),p=n.inputConv(p,j,N,n.padding);var F=o.split(n.recurrentKernel.read(),4,3),T=Object(u.a)(F,4),M=T[0],I=T[1],R=T[2],P=T[3];m=n.recurrentConv(m,M),g=n.recurrentConv(g,I),b=n.recurrentConv(b,R),y=n.recurrentConv(y,P);var B=n.recurrentActivation.apply(o.add(f,m)),z=n.recurrentActivation.apply(o.add(d,g)),L=o.add(o.mul(z,s),o.mul(B,n.activation.apply(o.add(h,b)))),U=o.mul(n.recurrentActivation.apply(o.add(p,y)),n.activation.apply(L));return[U,U,L]}))}},{key:"getConfig",value:function(){var e=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this),t=(e.units,qu(e,["units"])),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign({},t,r)}},{key:"inputConv",value:function(e,t,n,r){var a=o.conv2d(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?Zr(a,n,this.dataFormat):a}},{key:"recurrentConv",value:function(e,t){return o.conv2d(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}]),n}(Lu);Gu.className="ConvLSTM2DCell",o.serialization.registerClass(Gu);var Ku=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){Object(Cn.a)(this,n);var r=new Gu(e);return t.call(this,Object.assign({},e,{cell:r}))}return Object(An.a)(n,null,[{key:"fromConfig",value:function(e,t){return new e(t)}}]),n}(Hu);Ku.className="ConvLSTM2D",o.serialization.registerClass(Ku);var $u=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,e)).rate=Math.max(Math.min(e.rate,1),0),r.noiseShape=e.noiseShape,r.seed=e.seed,r.supportsMasking=!0,r}return Object(An.a)(n,[{key:"getNoiseShape",value:function(e){if(null==this.noiseShape)return this.noiseShape;for(var t=e.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t);var r=Na(e);if(0<n.rate&&n.rate<1){var a=null!=t.training&&t.training,i=n.getNoiseShape(r);return na((function(){return ta(r,n.rate,i,n.seed)}),(function(){return r}),a)}return e}))}},{key:"getConfig",value:function(){var e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}},{key:"dispose",value:function(){return Object(si.a)(Object(In.a)(n.prototype),"dispose",this).call(this)}}]),n}(Va);$u.className="Dropout",o.serialization.registerClass($u);var Xu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,e)).inputSpec=[{ndim:3}],r}return Object(An.a)(n,[{key:"getNoiseShape",value:function(e){var t=e.shape;return[t[0],1,t[2]]}}]),n}($u);Xu.className="SpatialDropout1D",o.serialization.registerClass(Xu);var Yu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;if(Object(Cn.a)(this,n),(r=t.call(this,e)).activation=null,r.useBias=!0,r.kernel=null,r.bias=null,r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){var a=null;null!=e.batchSize&&(a=e.batchSize),r.batchInputShape=[a,e.inputDim]}return r.units=e.units,or(r.units,"units"),r.activation=Qo(e.activation),null!=e.useBias&&(r.useBias=e.useBias),r.kernelInitializer=ka(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.biasInitializer=ka(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelConstraint=br(e.kernelConstraint),r.biasConstraint=br(e.biasConstraint),r.kernelRegularizer=iu(e.kernelRegularizer),r.biasRegularizer=iu(e.biasRegularizer),r.activityRegularizer=iu(e.activityRegularizer),r.supportsMasking=!0,r.inputSpec=[{minNDim:2}],r}return Object(An.a)(n,[{key:"build",value:function(e){var t=(e=Fa(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:Object(du.a)({},-1,t)}],this.built=!0}},{key:"computeOutputShape",value:function(e){var t=(e=Fa(e)).slice();return t[t.length-1]=this.units,t}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t);var r,a=Na(e),i=sr(n.activation.getClassName());return null!=i?r=Xr(a,n.kernel.read(),i,n.bias?n.bias.read():null):(r=Xr(a,n.kernel.read()),null!=n.bias&&(r=Zr(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r))),r}))}},{key:"getConfig",value:function(){var e={units:this.units,activation:Yo(this.activation),useBias:this.useBias,kernelInitializer:Oa(this.kernelInitializer),biasInitializer:Oa(this.biasInitializer),kernelRegularizer:ru(this.kernelRegularizer),biasRegularizer:ru(this.biasRegularizer),activityRegularizer:ru(this.activityRegularizer),kernelConstraint:mr(this.kernelConstraint),biasConstraint:mr(this.biasConstraint)},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va);Yu.className="Dense",o.serialization.registerClass(Yu);var Ju=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),e=e||{},(r=t.call(this,e)).inputSpec=[{minNDim:3}],r.dataFormat=e.dataFormat,r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){e=Fa(e);var t,n=Object(Tn.a)(e.slice(1));try{for(n.s();!(t=n.n()).done;){if(null==t.value)throw new Un('The shape of the input to "Flatten" is not fully defined '+"(got ".concat(e.slice(1),"). Make sure to pass a complete ")+'"input_shape" or "batch_input_shape" argument to the first layer in your model.')}}catch(r){n.e(r)}finally{n.f()}return[e[0],Mr(e,1)]}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t);var r=Na(e);if("channelsFirst"===n.dataFormat&&r.rank>1){for(var a=[0],i=2;i<r.rank;++i)a.push(i);a.push(1),r=r.transpose(a)}return function(e){if(e.rank<=1)throw new Un("batchFlatten requires a minimum rank of 2. Got rank: ".concat(e.rank,"."));var t=[e.shape[0],Mr(e.shape,1)];return e.reshape(t)}(r)}))}},{key:"getConfig",value:function(){var e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);var t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va);Ju.className="Flatten",o.serialization.registerClass(Ju);var Qu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.activation=Qo(e.activation),r}return Object(An.a)(n,[{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t);var r=Na(e);return n.activation.apply(r)}))}},{key:"getConfig",value:function(){var e={activation:Yo(this.activation)},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va);Qu.className="Activation",o.serialization.registerClass(Qu);var Zu=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,e)).n=e.n,r.inputSpec=[{ndim:2}],r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){return[e[0],this.n,e[1]]}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){return e=Na(e),t=e,r=n.n,Object(o.tidy)((function(){if(2!==t.shape.length)throw new Un("repeat() expects a rank-2 tensor, but received a "+"rank-".concat(t.shape.length," tensor."));return Kr(Lr(t,1),[1,r,1])}));var t,r}))}},{key:"getConfig",value:function(){var e={n:this.n},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va);Zu.className="RepeatVector",o.serialization.registerClass(Zu);var es=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;Object(Cn.a)(this,n),(r=t.call(this,e)).targetShape=e.targetShape;for(var a=0;a<r.targetShape.length;++a)r.isUnknown(r.targetShape[a])&&(r.targetShape[a]=null);return r}return Object(An.a)(n,[{key:"isUnknown",value:function(e){return e<0||null==e}},{key:"fixUnknownDimension",value:function(e,t){for(var n="Total size of new array must be unchanged.",r=t.slice(),a=1,i=null,o=0;o<r.length;++o){var u=r[o];if(this.isUnknown(u)){if(null!==i)throw new Un("Can only specifiy one unknown dimension.");i=o}else a*=u}var s=Mr(e);if(null!==i){if(0===a||s%a!==0)throw new Un(n);r[i]=s/a}else if(s!==a)throw new Un(n);return r}},{key:"computeOutputShape",value:function(e){for(var t=!1,n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t);var r=Na(e),a=r.shape,i=a.slice(0,1).concat(n.fixUnknownDimension(a.slice(1),n.targetShape));return r.reshape(i)}))}},{key:"getConfig",value:function(){var e={targetShape:this.targetShape},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va);es.className="Reshape",o.serialization.registerClass(es);var ts=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;if(Object(Cn.a)(this,n),r=t.call(this,e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+"".concat(e.dims," instead."));var a=Br(1,e.dims.length+1);if(!o.util.arraysEqual(e.dims.slice().sort(),a))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");return r.dims=e.dims,r.dimsIncludingBatch=[0].concat(r.dims),r.inputSpec=[new Ba({ndim:r.dims.length+1})],r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){var t=(e=Fa(e)).slice();return this.dims.forEach((function(n,r){t[r+1]=e[n]})),t}},{key:"call",value:function(e,t){return Object(o.transpose)(Na(e),this.dimsIncludingBatch)}},{key:"getConfig",value:function(){var e={dims:this.dims},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va);ts.className="Permute",o.serialization.registerClass(ts);var ns=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,null==e?{}:e)).supportsMasking=!0,r.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0,r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this),t={maskValue:this.maskValue};return Object.assign(t,e),t}},{key:"computeMask",value:function(e,t){var n=Na(e);return Object(o.any)(Object(o.notEqual)(n,this.maskValue),-1)}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t);var r=Na(e),a=Object(o.any)(Object(o.notEqual)(r,n.maskValue),-1,!0);return r.mul(a.asType(r.dtype))}))}}]),n}(Va);ns.className="Masking",o.serialization.registerClass(ns);var rs=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;if(Object(Cn.a)(this,n),(r=t.call(this,e)).embeddings=null,r.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){var a=null;null!=e.batchSize&&(a=e.batchSize),null==e.inputLength?r.batchInputShape=[a,null]:r.batchInputShape=[a].concat($n(e.inputLength))}return r.inputDim=e.inputDim,or(r.inputDim,"inputDim"),r.outputDim=e.outputDim,or(r.outputDim,"outputDim"),r.embeddingsInitializer=ka(e.embeddingsInitializer||r.DEFAULT_EMBEDDINGS_INITIALIZER),r.embeddingsRegularizer=iu(e.embeddingsRegularizer),r.activityRegularizer=iu(e.activityRegularizer),r.embeddingsConstraint=br(e.embeddingsConstraint),r.maskZero=e.maskZero,r.supportsMasking=e.maskZero,r.inputLength=e.inputLength,r}return Object(An.a)(n,[{key:"build",value:function(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}},{key:"warnOnIncompatibleInputShape",value:function(e){}},{key:"computeMask",value:function(e,t){var n=this;return Object(o.tidy)((function(){return n.maskZero?(e=Na(e),Object(o.notEqual)(e,Object(o.zerosLike)(e))):null}))}},{key:"computeOutputShape",value:function(e){if(e=Fa(e),null==this.inputLength)return[].concat(Object(Fn.a)(e),[this.outputDim]);var t=$n(this.inputLength);if(t.length!==e.length-1)throw new Un('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));for(var n=0,r=0;r<t.length;++r){var a=t[r],i=e[r+1];if(null!=a&&null!=i&&a!==i)throw new Un('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));null==a&&(t[n]=i),n++}return[e[0]].concat(Object(Fn.a)(t),[this.outputDim])}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t);var r=Na(e);return"int32"!==r.dtype&&(r=zr(r,"int32")),Yr(n.embeddings.read(),r.as1D()).reshape(Fa(n.computeOutputShape(r.shape)))}))}},{key:"getConfig",value:function(){var e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Oa(this.embeddingsInitializer),embeddingsRegularizer:ru(this.embeddingsRegularizer),activityRegularizer:ru(this.activityRegularizer),embeddingsConstraint:mr(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va);rs.className="Embedding",o.serialization.registerClass(rs);var as=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,e||{})).supportsMasking=!0,r}return Object(An.a)(n,[{key:"mergeFunction",value:function(e){throw new Wn}},{key:"computeElementwiseOpOutputShape",value:function(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;for(var n=e.slice(0,e.length-t.length),r=0;r<t.length;++r){var a=e[e.length-t.length+r],i=t[r];if(null==a||null==i||a<0||i<0)n.push(null);else if(1===a)n.push(i);else if(1===i)n.push(a);else{if(a!==i)throw new Un("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(a)}}return n}},{key:"build",value:function(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Fa(e)]),(e=e).length<2)throw new Un("A merge layer should be called on an Array of at least 2 inputs."+" Got ".concat(e.length," input(s)."));var t,n=[],r=Object(Tn.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;null!=a&&null!==a[0]&&n.push(a[0])}}catch(c){r.e(c)}finally{r.f()}if((n=nr(n)).length>1)throw new Un("Can not merge tensors with different batch sizes. "+"Got tensors with shapes: ".concat(JSON.stringify(e),"."));for(var i=null==e[0]?null:e[0].slice(1),o=1;o<e.length;++o){var u=null==e[o]?null:e[o].slice(1);i=this.computeElementwiseOpOutputShape(i,u)}var s=e.map((function(e){return e.length}));-1===e.indexOf(null)&&1===nr(s).length?this.reshapeRequired=!1:this.reshapeRequired=!0}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){if(e=e,n.reshapeRequired){var t=[],r=e.map((function(e){return e.rank}));if(-1===r.indexOf(null)){var a,i=Pr(r),u=Object(Tn.a)(e);try{for(u.s();!(a=u.n()).done;){for(var s=a.value,c=s.rank,l=0;l<i-c;++l)s=Lr(s,1);t.push(s)}}catch(C){u.e(C)}finally{u.f()}return n.mergeFunction(t)}var f,d=!1,h=Object(Tn.a)(e);try{for(h.s();!(f=h.n()).done;){var p=f.value,v=p.rank;if(null==v){var m=p.shape,g=m[0],b=m.slice(1).concat([g]),y=p.reshape([g].concat(Mr(m.slice(1))));y=(y=o.transpose(y,[1,0])).reshape(b),t.push(y),d=!0}else if(v>1){var x=Br(1,v).concat([0]);t.push(o.transpose(p,x)),d=!0}else t.push(p)}}catch(C){h.e(C)}finally{h.f()}var _=n.mergeFunction(t),w=_.rank;if(d)if(null==w){var O=_.shape,k=O[O.length-1],j=[k].concat(O.slice(0,O.length-1));_=o.transpose(_.reshape([-1,k]),[1,0]).reshape(j)}else if(w>1){var E=[w-1].concat(Br(0,w-1));_=o.transpose(_,E)}return _}return n.mergeFunction(e)}))}},{key:"computeOutputShape",value:function(e){var t;t=null==(e=e)[0]?null:e[0].slice(1);for(var n=1;n<e.length;++n){var r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}var a,i=[],o=Object(Tn.a)(e);try{for(o.s();!(a=o.n()).done;){var u=a.value;null!=u&&null!==u[0]&&i.push(u[0])}}catch(s){o.e(s)}finally{o.f()}return t=1===(i=nr(i)).length?i.concat(t):[null].concat(t)}},{key:"computeMask",value:function(e,t){return o.tidy((function(){if(null==t)return null;if(!Array.isArray(t))throw new Un("`mask` should be an Array");if(!Array.isArray(e))throw new Un("`inputs` should be an Array");if(t.length!==e.length)throw new Un("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths "+"(".concat(e.length," vs ").concat(t.length,")"));if(t.every((function(e){return null==e})))return null;for(var n=(t=t.map((function(e){return null==e?e:o.expandDims(e,0)})))[0],r=1;r<t.length-1;++r)n=o.logicalAnd(n,t[r]);return n}))}}]),n}(Va),is=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"mergeFunction",value:function(e){return Object(o.tidy)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=o.add(t,e[n]);return t}))}}]),n}(as);is.className="Add",o.serialization.registerClass(is);var os=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"mergeFunction",value:function(e){return Object(o.tidy)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=o.mul(t,e[n]);return t}))}}]),n}(as);os.className="Multiply",o.serialization.registerClass(os);var us=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"mergeFunction",value:function(e){return Object(o.tidy)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=o.add(t,e[n]);return o.mul(1/e.length,t)}))}}]),n}(as);us.className="Average",o.serialization.registerClass(us);var ss=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"mergeFunction",value:function(e){return Object(o.tidy)((function(){for(var t=e[0],n=1;n<e.length;++n)t=o.maximum(t,e[n]);return t}))}}]),n}(as);ss.className="Maximum",o.serialization.registerClass(ss);var cs=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"mergeFunction",value:function(e){return Object(o.tidy)((function(){for(var t=e[0],n=1;n<e.length;++n)t=o.minimum(t,e[n]);return t}))}}]),n}(as);cs.className="Minimum",o.serialization.registerClass(cs);var ls=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,e)).DEFAULT_AXIS=-1,null==e&&(e={}),r.axis=null==e.axis?r.DEFAULT_AXIS:e.axis,r.supportsMasking=!0,r.reshapeRequired=!1,r}return Object(An.a)(n,[{key:"build",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new Un("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;var t,n=!0,r=Object(Tn.a)(e);try{for(r.s();!(t=r.n()).done;){if(null!=t.value){n=!1;break}}}catch(d){r.e(d)}finally{r.f()}if(!n){for(var a=[],i=0;i<e.length;++i){var u=e[i].slice();u.splice(this.axis,1);var s,c=!1,l=Object(Tn.a)(a);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(o.util.arraysEqual(f,u)){c=!0;break}}}catch(d){l.e(d)}finally{l.f()}c||a.push(u)}if(a.length>1)throw new Un("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}}},{key:"mergeFunction",value:function(e){var t=this;return Object(o.tidy)((function(){return Hr(e,t.axis)}))}},{key:"computeOutputShape",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new Un("A `Concatenate` layer should be called on a list of inputs.");var t,n=e,r=n[0].slice(),a=this.axis<0?r.length+this.axis:this.axis,i=Object(Tn.a)(n.slice(1));try{for(i.s();!(t=i.n()).done;){var o=t.value;if(null==r[a]||null==o[a]){r[a]=null;break}r[a]+=o[a]}}catch(u){i.e(u)}finally{i.f()}return r}},{key:"computeMask",value:function(e,t){var n=this;if(null==t)return null;if(!Array.isArray(t))throw new Un("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new Un("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new Un("Mismatch in the length of mask (".concat(t.length,") ")+"and the legnth of inputs (".concat(e.length,")"));return o.tidy((function(){var r=!0;if(t.forEach((function(e){null==e||(r=!1)})),r)return null;for(var a=[],i=0;i<e.length;++i)null==t[i]?a.push(o.onesLike(e[i]).asType("bool")):t[i].rank<e[i].rank?a.push(o.expandDims(t[i],-1)):a.push(t[i]);var u=o.concat(a,n.axis);return o.all(u,-1,!1)}))}},{key:"getConfig",value:function(){var e={axis:this.axis},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(as);function fs(e,t){for(;e<0;)e+=t;return e}ls.className="Concatenate",o.serialization.registerClass(ls);var ds=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,e)).axes=e.axes,r.normalize=null!=e.normalize&&e.normalize,r.supportsMasking=!0,r.reshapeRequired=!1,r}return Object(An.a)(n,[{key:"build",value:function(e){o.util.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0],n=e[1];if(t.length>3||n.length>3)throw new Wn("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new Un("Dimension incompatibility: "+"".concat(t[r[0]]," !== ").concat(n[r[1]]))}},{key:"mergeFunction",value:function(e){if(2!==e.length)throw new Un("A `Dot` layer must be called on exactly 2 inputs, "+"but received ".concat(e.length," input(s)."));var t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map((function(t,n){return fs(t,e[n].shape.length)})):[fs(this.axes,n.shape.length),fs(this.axes,r.shape.length)],this.normalize&&(n=li(n,t[0]),r=li(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new Wn("batchDot is not implemented for tensors of 4D or higher rank yet");if(o.util.assert(e.shape.length>=2,(function(){return"batchDot requires the rank of x to be >= 2, "+"but got ".concat(e.shape.length)})),o.util.assert(e.shape.length>=2,(function(){return"batchDot requires the rank of y to be >= 2, "+"but got ".concat(t.shape.length)})),"number"===typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new Wn("batchDot is not implemented for complex64-type Tensors yet.");var r=e.shape.length,a=t.shape.length;null==n&&(n=[r-1,a-2]);var i=n;return o.tidy((function(){var n,o;if(r>a){n=r-a;for(var u=[],s=0;s<n;++s)u.push(1);t=t.reshape(t.shape.concat(u))}else if(a>r){n=a-r;for(var c=[],l=0;l<n;++l)c.push(1);e=e.reshape(e.shape.concat(c))}else n=0;if(2===e.shape.length&&2===t.shape.length)o=i[0]===i[1]?e.mul(t).sum(i[0]):e.transpose([1,0]).mul(t).sum(i[1]);else{var f=i[0]!==e.shape.length-1,d=i[1]===t.shape.length-1;o=e.matMul(t,f,d)}if(n>0){for(var h,p=[],v=h=r>a?r+a-3:r-1;v<h+n;++v)p.push(v);o=o.squeeze(p)}return 1===o.shape.length&&(o=o.expandDims(1)),o}))}(n,r,t)}},{key:"interpretAxes",value:function(e,t){return Array.isArray(this.axes)?this.axes:[fs(this.axes,e.length),fs(this.axes,t.length)]}},{key:"computeOutputShape",value:function(e){o.util.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new Wn("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);var a=t.concat(n);return 1===a.length&&a.push(1),a}},{key:"computeMask",value:function(e,t){return null}},{key:"getConfig",value:function(){var e={axes:this.axes,normalize:this.normalize},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(as);ds.className="Dot",o.serialization.registerClass(ds);var hs=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.stddev=e.stddev,r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this),t={stddev:this.stddev};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t);var r=Na(e);return na((function(){return $r(r.shape,0,n.stddev).add(r)}),(function(){return r}),t.training||!1)}))}}]),n}(Va);hs.className="GaussianNoise",o.serialization.registerClass(hs);var ps=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.rate=e.rate,r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this),t={rate:this.rate};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t);var r=Na(e);if(n.rate>0&&n.rate<1){return na((function(){var e=Math.sqrt(n.rate/(1-n.rate));return r.mul($r(r.shape,1,e))}),(function(){return r}),t.training||!1)}return r}))}}]),n}(Va);ps.className="GaussianDropout",o.serialization.registerClass(ps);var vs=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.rate=e.rate,r.noiseShape=e.noiseShape,r}return Object(An.a)(n,[{key:"_getNoiseShape",value:function(e){return this.noiseShape||Na(e).shape}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this),t={rate:this.rate};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){if(n.rate<1&&n.rate>0){var r=n._getNoiseShape(e);return na((function(){var t=Na(e),a=-1.7580993408473766,i=Object(o.greaterEqual)(Object(o.randomUniform)(r),n.rate);i=zr(i,"float32");var u=Math.pow((1-n.rate)*(1+n.rate*Math.pow(a,2)),-.5),s=-u*a*n.rate;return t.mul(i).add(i.add(-1).mul(a)).mul(u).add(s)}),(function(){return Na(e)}),t.training||!1)}return e}))}}]),n}(Va);function ms(e,t,n,r,a){var i,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.001;if(2===e.rank)i=o.batchNorm2d(e,t,n,r,a,u);else if(3===e.rank)i=o.batchNorm3d(e,t,n,r,a,u);else{if(4!==e.rank)throw new Wn("batchNormalization is not implemented for array of rank ".concat(e.rank," ")+"yet");i=o.batchNorm4d(e,t,n,r,a,u)}return i}function gs(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return Object(o.tidy)((function(){var i=o.moments(e,r),u=i.mean,s=i.variance;return[ms(e,u,s,n,t,a),u,s]}))}function bs(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return Object(o.tidy)((function(){var i,u=o.moments(e,r),s=u.mean,c=u.variance,l=[],f=Object(Tn.a)(Br(0,e.rank));try{for(f.s();!(i=f.n()).done;){var d=i.value;-1!==r.indexOf(d)?l.push(1):l.push(e.shape[d])}}catch(g){f.e(g)}finally{f.f()}var h=s.reshape(l),p=c.reshape(l),v=null==t?null:t.reshape(l),m=null==n?null:n.reshape(l);return[ms(e,h,p,m,v,a),s,c]}))}vs.className="AlphaDropout",o.serialization.registerClass(vs);var ys=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),null==e&&(e={}),(r=t.call(this,e)).supportsMasking=!0,r.axis=null==e.axis?-1:e.axis,r.momentum=null==e.momentum?.99:e.momentum,r.epsilon=null==e.epsilon?.001:e.epsilon,r.center=null==e.center||e.center,r.scale=null==e.scale||e.scale,r.betaInitializer=ka(e.betaInitializer||"zeros"),r.gammaInitializer=ka(e.gammaInitializer||"ones"),r.movingMeanInitializer=ka(e.movingMeanInitializer||"zeros"),r.movingVarianceInitializer=ka(e.movingVarianceInitializer||"ones"),r.betaConstraint=br(e.betaConstraint),r.gammaConstraint=br(e.gammaConstraint),r.betaRegularizer=iu(e.betaRegularizer),r.gammaRegularizer=iu(e.gammaRegularizer),r}return Object(An.a)(n,[{key:"build",value:function(e){e=Fa(e);var t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new Un("Axis ".concat(t," of input tensor should have a defined dimension but ")+"the layer received an input with shape "+"".concat(JSON.stringify(e),"."));this.inputSpec=[new Ba({ndim:e.length,axes:Object(du.a)({},t,n)})];var r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var r=null!=t.training&&t.training,a=Na(e),i=a.shape,s=i.length,c=Br(0,s),l=n.axis>=0?n.axis:n.axis+s;c.splice(l,1);var f=qn(1,s);f[l]=i[l];var d=c.slice();d.sort();var h=!o.util.arraysEqual(d,Br(0,s).slice(0,s-1));if(!r)return function(){if(h){var e=n.movingMean.read().reshape(f),t=n.movingVariance.read().reshape(f),r=n.center?n.beta.read().reshape(f):null,i=n.scale?n.gamma.read().reshape(f):null;return ms(a,e,t,r,i,n.epsilon)}return ms(a,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var p=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return o.util.arraysEqual(r.slice().sort(),Br(0,e.rank-1))?gs(e,t,n,r,a):bs(e,t,n,r,a)}(a,n.gamma.read(),n.beta.read(),c,n.epsilon),v=Object(u.a)(p,3),m=v[0],g=v[1],b=v[2],y=function(e,t,n){o.tidy((function(){var r=1-n,a=e.read(),i=a.sub(t).mul(r);e.write(a.sub(i))}))};return y(n.movingMean,g,n.momentum),y(n.movingVariance,b,n.momentum),m}))}},{key:"getConfig",value:function(){var e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Oa(this.betaInitializer),gammaInitializer:Oa(this.gammaInitializer),movingMeanInitializer:Oa(this.movingMeanInitializer),movingVarianceInitializer:Oa(this.movingVarianceInitializer),betaRegularizer:ru(this.betaRegularizer),gammaRegularizer:ru(this.gammaRegularizer),betaConstraint:mr(this.betaConstraint),gammaConstraint:mr(this.gammaConstraint)},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va);ys.className="BatchNormalization",o.serialization.registerClass(ys);var xs=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;if(Object(Cn.a)(this,n),null==e&&(e={}),(r=t.call(this,e)).axis=null==e.axis?-1:e.axis,"number"===typeof r.axis){if(!Number.isInteger(r.axis))throw new Error("Expected axis to be an integer, but received ".concat(r.axis))}else{if(!Array.isArray(r.axis))throw new Error("Expected axis to be an integer or an array of integers, "+"but received ".concat(JSON.stringify(r.axis)));var a,i=Object(Tn.a)(r.axis);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(!Number.isInteger(o))throw new Error("Expected axis to be an array of integers, "+"but received ".concat(JSON.stringify(r.axis)))}}catch(u){i.e(u)}finally{i.f()}}return r.epsilon=null==e.epsilon?.001:e.epsilon,r.center=null==e.center||e.center,r.scale=null==e.scale||e.scale,r.betaInitializer=ka(e.betaInitializer||"zeros"),r.gammaInitializer=ka(e.gammaInitializer||"ones"),r.betaRegularizer=iu(e.betaRegularizer),r.gammaRegularizer=iu(e.gammaRegularizer),r.supportsMasking=!0,r}return Object(An.a)(n,[{key:"build",value:function(e){var t=(e=Fa(e)).length;"number"===typeof this.axis&&(this.axis=[this.axis]);for(var n=0;n<this.axis.length;++n)this.axis[n]<0&&(this.axis[n]+=t);var r,a=Object(Tn.a)(this.axis);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i<0||i>=t)throw new Error("Invalid axis: ".concat(i))}}catch(u){a.e(u)}finally{a.f()}if(this.axis.length!==nr(this.axis).length)throw new Error("Found duplicate axes in: ".concat(this.axis));var o=this.axis.map((function(t){return e[t]}));this.scale?this.gamma=this.addWeight("gamma",o,"float32",this.gammaInitializer,this.gammaRegularizer,true):this.gamma=null,this.center?this.beta=this.addWeight("beta",o,"float32",this.betaInitializer,this.betaRegularizer,true):this.beta=null,this.built=!0}},{key:"call",value:function(e,t){var n=this,r=Na(e),a=r.shape,i=a.length;return Object(o.tidy)((function(){var e,t=Object(o.moments)(r,n.axis,!0),u=t.mean,s=t.variance,c=qn(1,i),l=Object(Tn.a)(n.axis);try{for(l.s();!(e=l.n()).done;){var f=e.value;c[f]=a[f]}}catch(b){l.e(b)}finally{l.f()}for(var d=function(e){return null!=e&&e.shape.length!==i&&n.axis!==[i-1]?e.reshape(c):e},h=d(n.gamma.read()),p=d(n.beta.read()),v=[],m=[],g=0;g<i;++g)-1!==n.axis.indexOf(g)?(v.push(a[g]),m.push(1)):(v.push(1),m.push(a[g]));return u=u.tile(v),s=s.tile(v),h=h.tile(m),p=p.tile(m),ms(r,u,s,p,h,n.epsilon)}))}},{key:"getConfig",value:function(){var e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Oa(this.betaInitializer),gammaInitializer:Oa(this.gammaInitializer),betaRegularizer:ru(this.betaRegularizer),gammaRegularizer:ru(this.gammaRegularizer)},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va);xs.className="LayerNormalization",o.serialization.registerClass(xs);var _s=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;if(Object(Cn.a)(this,n),null==e&&(e={}),(r=t.call(this,e)).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)r.padding=[[1,1],[1,1]];else if("number"===typeof e.padding)r.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new Un("ZeroPadding2D expects padding to be a length-2 array, but "+"received a length-".concat(e.padding.length," array."));var a,i;if("number"===typeof e.padding[0])a=[e.padding[0],e.padding[0]],i=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new Un("ZeroPadding2D expects height padding to be a length-2 array, "+"but received a length-".concat(e.padding[0].length," array."));if(a=e.padding[0],2!==e.padding[1].length)throw new Un("ZeroPadding2D expects width padding to be a length-2 array, "+"but received a length-".concat(e.padding[1].length," array."));i=e.padding[1]}r.padding=[a,i]}return r.inputSpec=[new Ba({ndim:4})],r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){var t,n;return e=Fa(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){return t=Na(e),r=n.padding,a=n.dataFormat,Object(o.tidy)((function(){if(4!==t.rank)throw new Un("temporalPadding expects input tensor to be 4-D, but received a "+"".concat(t.rank,"-D tensor."));if(null==r&&(r=[[1,1],[1,1]]),2!==r.length||2!==r[0].length||2!==r[1].length)throw new Un("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==a&&(a="channelsLast"),"channelsLast"!==a&&"channelsFirst"!==a)throw new Un("Unknown data format: ".concat(a,". ")+"Supported data formats are 'channelsLast' and 'channelsFirst.");var e;return e="channelsFirst"===a?[[0,0],[0,0],r[0],r[1]]:[[0,0],r[0],r[1],[0,0]],o.pad(t,e)}));var t,r,a}))}},{key:"getConfig",value:function(){var e={padding:this.padding,dataFormat:this.dataFormat},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va);function ws(e,t,n,r,a,i){return Object(o.tidy)((function(){var u;jr(a),Cr(i),Er(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==i&&(i="max"),e=mu(e,a);var s="same"===r?"same":"valid";return u="max"===i?o.maxPool(e,t,n,s):o.avgPool(e,t,n,s),"channelsFirst"===a&&(u=o.transpose(u,[0,3,1,2])),u}))}function Os(e,t,n,r,a,i){return Object(o.tidy)((function(){var u;jr(a),Cr(i),Er(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==i&&(i="max"),e=gu(e,a);var s="same"===r?"same":"valid";return u="max"===i?o.maxPool3d(e,t,n,s):o.avgPool3d(e,t,n,s),"channelsFirst"===a&&(u=o.transpose(u,[0,4,1,2,3])),u}))}_s.className="ZeroPadding2D",o.serialization.registerClass(_s);var ks=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;if(Object(Cn.a)(this,n),null==e.poolSize&&(e.poolSize=2),r=t.call(this,e),"number"===typeof e.poolSize)r.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!==typeof e.poolSize[0])throw new Un("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.poolSize)));r.poolSize=e.poolSize}if(or(r.poolSize,"poolSize"),null==e.strides)r.strides=r.poolSize;else if("number"===typeof e.strides)r.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!==typeof e.strides[0])throw new Un("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.strides)));r.strides=e.strides}return or(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,Er(r.padding),r.inputSpec=[new Ba({ndim:3})],r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){var t=pu((e=Fa(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){n.invokeCallHook(e,t),e=Lr(Na(e),2);var r=n.poolingFunction(Na(e),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return o.squeeze(r,[2])}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va),js=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return jr(a),Er(r),ws(e,t,n,r,a,"max")}}]),n}(ks);js.className="MaxPooling1D",o.serialization.registerClass(js);var Es=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return jr(a),Er(r),ws(e,t,n,r,a,"avg")}}]),n}(ks);Es.className="AveragePooling1D",o.serialization.registerClass(Es);var Cs=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;if(Object(Cn.a)(this,n),null==e.poolSize&&(e.poolSize=[2,2]),(r=t.call(this,e)).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)r.strides=r.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new Un("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+"".concat(e.strides.length,"."));r.strides=e.strides}else r.strides=[e.strides,e.strides];return or(r.poolSize,"poolSize"),or(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,jr(r.dataFormat),Er(r.padding),r.inputSpec=[new Ba({ndim:4})],r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){e=Fa(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=pu(t,this.poolSize[0],this.padding,this.strides[0]),n=pu(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){return n.invokeCallHook(e,t),n.poolingFunction(Na(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va),As=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return jr(a),Er(r),ws(e,t,n,r,a,"max")}}]),n}(Cs);As.className="MaxPooling2D",o.serialization.registerClass(As);var Ss=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return jr(a),Er(r),ws(e,t,n,r,a,"avg")}}]),n}(Cs);Ss.className="AveragePooling2D",o.serialization.registerClass(Ss);var Ds=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;if(Object(Cn.a)(this,n),null==e.poolSize&&(e.poolSize=[2,2,2]),(r=t.call(this,e)).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)r.strides=r.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new Un("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+"".concat(e.strides.length,"."));r.strides=e.strides}else r.strides=[e.strides,e.strides,e.strides];return or(r.poolSize,"poolSize"),or(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,jr(r.dataFormat),Er(r.padding),r.inputSpec=[new Ba({ndim:5})],r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){e=Fa(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=pu(t,this.poolSize[0],this.padding,this.strides[0]),n=pu(n,this.poolSize[1],this.padding,this.strides[1]),r=pu(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){return n.invokeCallHook(e,t),n.poolingFunction(Na(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va),Ns=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return jr(a),Er(r),Os(e,t,n,r,a,"max")}}]),n}(Ds);Ns.className="MaxPooling3D",o.serialization.registerClass(Ns);var Fs=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,e)}return Object(An.a)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return jr(a),Er(r),Os(e,t,n,r,a,"avg")}}]),n}(Ds);Fs.className="AveragePooling3D",o.serialization.registerClass(Fs);var Ts=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,e)).inputSpec=[new Ba({ndim:3})],r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){return[e[0],e[2]]}},{key:"call",value:function(e,t){throw new Wn}}]),n}(Va),Ms=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,e||{})}return Object(An.a)(n,[{key:"call",value:function(e,t){return Object(o.tidy)((function(){var t=Na(e);return o.mean(t,1)}))}}]),n}(Ts);Ms.className="GlobalAveragePooling1D",o.serialization.registerClass(Ms);var Is=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){return Object(Cn.a)(this,n),t.call(this,e||{})}return Object(An.a)(n,[{key:"call",value:function(e,t){return Object(o.tidy)((function(){var t=Na(e);return o.max(t,1)}))}}]),n}(Ts);Is.className="GlobalMaxPooling1D",o.serialization.registerClass(Is);var Rs=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,e)).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,jr(r.dataFormat),r.inputSpec=[new Ba({ndim:4})],r}return Object(An.a)(n,[{key:"computeOutputShape",value:function(e){return e=e,"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}},{key:"call",value:function(e,t){throw new Wn}},{key:"getConfig",value:function(){var e={dataFormat:this.dataFormat},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Va),Ps=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var t=Na(e);return"channelsLast"===n.dataFormat?o.mean(t,[1,2]):o.mean(t,[2,3])}))}}]),n}(Rs);Ps.className="GlobalAveragePooling2D",o.serialization.registerClass(Ps);var Bs=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){return Object(Cn.a)(this,n),t.apply(this,arguments)}return Object(An.a)(n,[{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var t=Na(e);return"channelsLast"===n.dataFormat?o.max(t,[1,2]):o.max(t,[2,3])}))}}]),n}(Rs);Bs.className="GlobalMaxPooling2D",o.serialization.registerClass(Bs);var zs=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,e)).layer=e.layer,r}return Object(An.a)(n,[{key:"build",value:function(e){this.built=!0}},{key:"trainable",get:function(){return null!=this.layer&&this.layer.trainable},set:function(e){null!=this.layer&&(this.layer.trainable=e)}},{key:"trainableWeights",get:function(){return this.layer.trainableWeights}},{key:"nonTrainableWeights",get:function(){return this.layer.nonTrainableWeights}},{key:"updates",get:function(){return this.layer._updates}},{key:"losses",get:function(){return this.layer.losses}},{key:"getWeights",value:function(){return this.layer.getWeights()}},{key:"setWeights",value:function(e){this.layer.setWeights(e)}},{key:"getConfig",value:function(){var e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}},{key:"setFastWeightInitDuringBuild",value:function(e){Object(si.a)(Object(In.a)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.layer,a=ci(r,n);delete t.layer;var i={layer:a};return Object.assign(i,t),new e(i)}}]),n}(Va),Ls=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this,e)).supportsMasking=!0,r}return Object(An.a)(n,[{key:"build",value:function(e){if((e=Fa(e)).length<3)throw new Un("TimeDistributed layer expects an input shape >= 3D, but received "+"input shape ".concat(JSON.stringify(e)));this.inputSpec=[{shape:e}];var t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),Object(si.a)(Object(In.a)(n.prototype),"build",this).call(this,e)}},{key:"computeOutputShape",value:function(e){var t=[(e=Fa(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){return Tu((function(e,r){return[Na(n.layer.call(e,t)),[]]}),e=Na(e),[],!1,null,null,!1,!0)[1]}))}}]),n}(zs);Ls.className="TimeDistributed",o.serialization.registerClass(Ls);var Us=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;Object(Cn.a)(this,n),r=t.call(this,e);var a=e.layer.getConfig(),i={};i.className=e.layer.getClassName(),i.config=a,r.forwardLayer=ci(i),a.goBackwards=!0!==a.goBackwards;var o,u={};if(u.className=e.layer.getClassName(),u.config=a,r.backwardLayer=ci(u),r.forwardLayer.name="forward_"+r.forwardLayer.name,r.backwardLayer.name="backward_"+r.backwardLayer.name,r.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,o=r.mergeMode,ar(Or,"BidirectionalMergeMode",o),e.weights)throw new Wn("weights support is not implemented for Bidirectional layer yet.");return r._stateful=e.layer.stateful,r.returnSequences=e.layer.returnSequences,r.returnState=e.layer.returnState,r.supportsMasking=!0,r._trainable=!0,r.inputSpec=e.layer.inputSpec,r.numConstants=null,r}return Object(An.a)(n,[{key:"trainable",get:function(){return this._trainable},set:function(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}},{key:"getWeights",value:function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}},{key:"setWeights",value:function(e){var t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}},{key:"computeOutputShape",value:function(e){var t,n,r,a=this.forwardLayer.computeOutputShape(e);return Array.isArray(a)&&Array.isArray(a[0])||(a=[a]),a=a,this.returnState?(r=a.slice(1),t=a[0]):t=a[0],t=t,"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):Kn(n)}},{key:"apply",value:function(e,t){var r=null==t?null:t.initialState,a=null==t?null:t.constants;null==t&&(t={});var i=Fu(e,r,a,this.numConstants);if(e=i.inputs,r=i.initialState,a=i.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(null==r||0===r.length)&&null==a)return Object(si.a)(Object(In.a)(n.prototype),"apply",this).call(this,e,t);var o=[],u=[];if(null!=r){var s=r.length;if(s%2>0)throw new Un("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=r,o.push.apply(o,Object(Fn.a)(r));var c=r.map((function(e){return new Ba({shape:e.shape})}));this.forwardLayer.stateSpec=c.slice(0,s/2),this.backwardLayer.stateSpec=c.slice(s/2),u.push.apply(u,Object(Fn.a)(c))}if(null!=a)throw new Wn("Support for constants in Bidirectional layers is not implemented yet.");for(var l=o[0]instanceof za,f=0,d=o;f<d.length;f++){if(d[f]instanceof za!==l)throw new Un("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors")}if(l){var h=[e].concat(o),p=this.inputSpec.concat(u),v=this.inputSpec;this.inputSpec=p;var m=Object(si.a)(Object(In.a)(n.prototype),"apply",this).call(this,h,t);return this.inputSpec=v,m}return Object(si.a)(Object(In.a)(n.prototype),"apply",this).call(this,e,t)}},{key:"call",value:function(e,t){var n=this;return Object(o.tidy)((function(){var r,a,i,u,s=t.initialState;if(null==s)r=n.forwardLayer.call(e,t),a=n.backwardLayer.call(e,t);else{var c=s.slice(0,s.length/2),l=s.slice(s.length/2);r=n.forwardLayer.call(e,Object.assign(t,{initialState:c})),a=n.backwardLayer.call(e,Object.assign(t,{initialState:l}))}return n.returnState&&(Array.isArray(r)&&(i=r.slice(1).concat(a.slice(1))),r=r[0],a=a[0]),n.returnSequences&&(a=o.reverse(a,1)),"concat"===n.mergeMode?u=Hr([r,a]):"sum"===n.mergeMode?u=o.add(r,a):"ave"===n.mergeMode?u=o.mul(.5,o.add(r,a)):"mul"===n.mergeMode?u=o.mul(r,a):null==n.mergeMode&&(u=[r,a]),n.returnState?null==n.mergeMode?u.concat(i):[u].concat(i):u}))}},{key:"resetStates",value:function(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}},{key:"build",value:function(e){var t=this;Sr(this.forwardLayer.name,(function(){t.forwardLayer.build(e)})),Sr(this.backwardLayer.name,(function(){t.backwardLayer.build(e)})),this.built=!0}},{key:"computeMask",value:function(e,t){var n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){var r=this.forwardLayer.states.map((function(e){return null}));return Array.isArray(n)?n.concat(r).concat(r):[n].concat(r).concat(r)}return n}},{key:"trainableWeights",get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}},{key:"nonTrainableWeights",get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}},{key:"setFastWeightInitDuringBuild",value:function(e){Object(si.a)(Object(In.a)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e={mergeMode:this.mergeMode},t=Object(si.a)(Object(In.a)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"fromConfig",value:function(e,t){var n=ci(t.layer);if(delete t.layer,null!=t.numConstants)throw new Wn("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=t;return r.layer=n,new e(r)}}]),n}(zs);function Ws(e){return new Ha(e)}function Vs(e){return new cu(e)}function qs(e){return new ou(e)}function Hs(e){return new uu(e)}function Gs(e){return new su(e)}function Ks(e){return new fu(e)}function $s(e){return new lu(e)}function Xs(e){return new Au(e)}function Ys(e){return new Ou(e)}function Js(e){return new ju(e)}function Qs(e){return new ku(e)}function Zs(e){return new Cu(e)}function ec(e){return new Su(e)}function tc(e){return new Du(e)}function nc(e){return new Nu(e)}function rc(e){return new Qu(e)}function ac(e){return new Yu(e)}function ic(e){return new $u(e)}function oc(e){return new Xu(e)}function uc(e){return new Ju(e)}function sc(e){return new Zu(e)}function cc(e){return new es(e)}function lc(e){return new ts(e)}function fc(e){return new rs(e)}function dc(e){return new is(e)}function hc(e){return new us(e)}function pc(e){return new ls(e)}function vc(e){return new ss(e)}function mc(e){return new cs(e)}function gc(e){return new os(e)}function bc(e){return new ds(e)}function yc(e){return new ys(e)}function xc(e){return new xs(e)}function _c(e){return new _s(e)}function wc(e){return new Es(e)}function Oc(e){return wc(e)}function kc(e){return wc(e)}function jc(e){return new Ss(e)}function Ec(e){return jc(e)}function Cc(e){return jc(e)}function Ac(e){return new Fs(e)}function Sc(e){return Ac(e)}function Dc(e){return Ac(e)}function Nc(e){return new Ms(e)}function Fc(e){return new Ps(e)}function Tc(e){return new Is(e)}function Mc(e){return new Bs(e)}function Ic(e){return new js(e)}function Rc(e){return new As(e)}function Pc(e){return new Ns(e)}function Bc(e){return new zu(e)}function zc(e){return new Bu(e)}function Lc(e){return new Uu(e)}function Uc(e){return new Lu(e)}function Wc(e){return new Pu(e)}function Vc(e){return new Ru(e)}function qc(e){return new Ku(e)}function Hc(e){return new Gu(e)}function Gc(e){return new Mu(e)}function Kc(e){return new Wu(e)}function $c(e){return new Us(e)}function Xc(e){return new Ls(e)}Us.className="Bidirectional",o.serialization.registerClass(Us);var Yc=Tc,Jc=Mc,Qc=Ic,Zc=Rc;function el(e){return new hs(e)}function tl(e){return new ps(e)}function nl(e){return new vs(e)}function rl(e){return new ns(e)}function al(e){return new tu(e)}function il(e){return Zo(t=e),new tu({l1:null!=t?t.l1:null,l2:0});var t}function ol(e){return Zo(t=e),new tu({l2:null!=t?t.l2:null,l1:0});var t}n(104),n(5),n(189),n(456),n(334),n(327),n(217),n(230),n(236),n(82),n(454),n(455),n(457),n(458),n(459),n(321),n(460),n(463),n(110),n(222),n(467),n(468),n(330),n(224),n(479),n(193),n(150),n(480),n(339),n(482),n(331),n(273),n(485),n(464),n(233),n(336),n(225),n(232);n(322),n(41),n(323),n(172),n(465),n(219),n(229),n(476),n(461),n(475),n(326);n(218),n(472),n(477),n(192),n(478),n(337),n(274),n(486),n(347),n(481);n(345),n(346),n(135),n(231),n(228),n(153),n(329),n(483),n(474),n(558),n(124),n(162),n(191),n(317),n(318),n(319),n(320),n(462),n(466),n(484),n(177),n(487),n(488),n(234),n(194),n(235),n(343),n(333),n(325),n(190);var ul=n(156),sl=n(84),cl=n(126),ll=function(){function e(){Object(Cn.a)(this,e),this.size=null}return Object(An.a)(e,[{key:"batch",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this;return o.util.assert(e>0,(function(){return"batchSize needs to be positive, but it is\n      ".concat(e)})),t=this.size===1/0||null==this.size?this.size:n?Math.ceil(this.size/e):Math.floor(this.size/e),fl(Object(Ya.a)(Xa.a.mark((function t(){return Xa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.iterator();case 2:return t.abrupt("return",t.sent.columnMajorBatch(e,n,pl));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"concatenate",value:function(e){var t,n=this;return t=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,fl(Object(Ya.a)(Xa.a.mark((function t(){return Xa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.t0=t.sent,t.next=5,e.iterator();case 5:return t.t1=t.sent,t.abrupt("return",t.t0.concatenate.call(t.t0,t.t1));case 7:case"end":return t.stop()}}),t)}))),t)}},{key:"filter",value:function(e){var t,n=this;return t=this.size===1/0?1/0:null,fl(Object(Ya.a)(Xa.a.mark((function t(){return Xa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.filter((function(t){return o.tidy((function(){return e(t)}))})));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"forEachAsync",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.iterator();case 2:return e.abrupt("return",e.sent.forEachAsync(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(e){var t=this;return fl(Object(Ya.a)(Xa.a.mark((function n(){return Xa.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.map((function(t){return o.tidy((function(){return e(t)}))})));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"mapAsync",value:function(e){var t=this;return fl(Object(Ya.a)(Xa.a.mark((function n(){return Xa.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.mapAsync(e));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"prefetch",value:function(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");var t=this;return fl(Object(Ya.a)(Xa.a.mark((function n(){return Xa.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.prefetch(e));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"repeat",value:function(e){var t,n=this;return t=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,fl(Object(Ya.a)(Xa.a.mark((function t(){var r;return Xa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(sl.e)(Object(Ya.a)(Xa.a.mark((function e(){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.iterator();case 2:return e.t0=e.sent,e.abrupt("return",{value:e.t0,done:!1});case 4:case"end":return e.stop()}}),e)})))),t.abrupt("return",Object(sl.d)(r.take(e)));case 2:case"end":return t.stop()}}),t)}))),t)}},{key:"skip",value:function(e){var t,n=this;return t=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,fl(Object(Ya.a)(Xa.a.mark((function t(){return Xa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.skip(e));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"shuffle",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting "+"bufferSize to the dataset size (".concat(this.size," elements)"));var r=this,a=ul.alea(t||o.util.now().toString());return fl(Object(Ya.a)(Xa.a.mark((function t(){var i;return Xa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.int32(),n&&(i+=a.int32()),t.next=4,r.iterator();case 4:return t.abrupt("return",t.sent.shuffle(e,i.toString()));case 5:case"end":return t.stop()}}),t)}))),this.size)}},{key:"take",value:function(e){var t,n=this;return t=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,fl(Object(Ya.a)(Xa.a.mark((function t(){return Xa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.take(e));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"toArray",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.size!==1/0){e.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return e.next=4,this.iterator();case 4:return e.abrupt("return",e.sent.toArray());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.size!==1/0){e.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return e.next=4,this.iterator();case 4:return e.abrupt("return",e.sent.toArrayForTest());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function fl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new(function(n){Object(Sn.a)(a,n);var r=Object(Dn.a)(a);function a(){var e;return Object(Cn.a)(this,a),(e=r.apply(this,arguments)).size=t,e}return Object(An.a)(a,[{key:"iterator",value:function(){var t=Object(Ya.a)(Xa.a.mark((function t(){return Xa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),a}(ll))}function dl(e){return fl(Object(Ya.a)(Xa.a.mark((function t(){return Xa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(sl.f)(e));case 1:case"end":return t.stop()}}),t)}))),e.length)}function hl(e){if(!Object(cl.e)(e))throw new Error("The argument to zip() must be an object or array.");var t;if(Array.isArray(e))for(var n=0;n<e.length;n++)t=null==t?e[n].size:Math.min(t,e[n].size);else if(e instanceof Object)for(var r in e)t=null==t?e[r].size:Math.min(t,e[r].size);return fl(Object(Ya.a)(Xa.a.mark((function t(){var n;return Xa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(cl.c)(e,(function(e){if(e instanceof ll)return{value:e.iterator(),recurse:!1};if(Object(cl.e)(e))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")}));case 2:return n=t.sent,t.abrupt("return",Object(sl.g)(n,sl.c.SHORTEST));case 4:case"end":return t.stop()}}),t)}))),t)}function pl(e){if(null===e)return null;var t=e[0];return Object(cl.a)(t)?{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof o.Tensor?o.stack(e):o.tensor(e)}(e),recurse:!1}:{value:null,recurse:!0}}ll.MAX_BUFFER_SIZE=1e4;var vl=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;return Object(Cn.a)(this,n),(r=t.call(this)).input=e,r}return Object(An.a)(n,[{key:"iterator",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){var t,n,r;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.input.iterator();case 2:return t=e.sent,n=t.decodeUTF8(),r=n.split("\n").map((function(e){return e.endsWith("\r")&&(e=e.slice(0,-1)),e})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ll),ml='"',gl=Symbol("out"),bl=Symbol("field"),yl=Symbol("quote"),xl=Symbol("quoteafterquote"),_l=Symbol("quoteinquote"),wl=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e,r){var a;return Object(Cn.a)(this,n),(a=t.call(this)).input=e,a.hasHeader=!0,a.fullColumnNames=null,a.columnNamesValidated=!1,a.columnConfigs=null,a.configuredColumnsOnly=!1,a.delimiter=",",a.delimWhitespace=!1,a.base=new vl(e),r||(r={}),a.hasHeader=!1!==r.hasHeader,a.fullColumnNames=r.columnNames,a.columnConfigs=r.columnConfigs,a.configuredColumnsOnly=r.configuredColumnsOnly,r.delimWhitespace?(o.util.assert(null==r.delimiter,(function(){return"Delimiter should not be provided when delimWhitespace is true."})),a.delimWhitespace=!0,a.delimiter=" "):a.delimiter=r.delimiter?r.delimiter:",",a}return Object(An.a)(n,[{key:"columnNames",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.columnNamesValidated){e.next=3;break}return e.next=3,this.setColumnNames();case 3:return e.abrupt("return",this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setColumnNames",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){var t,n,r,a,i,u,s=this;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.maybeReadHeaderLine();case 2:if(t=e.sent,this.fullColumnNames||t){e.next=7;break}throw new Error("Column names must be provided if there is no header line.");case 7:this.fullColumnNames&&t&&o.util.assert(t.length===this.fullColumnNames.length,(function(){return"The length of provided columnNames ("+s.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+t.length.toString()+")."}));case 8:if(this.fullColumnNames||(this.fullColumnNames=t),n=this.fullColumnNames.reduce((function(e,t){return e[t]=e[t]+1||1,e}),{}),r=Object.keys(n).filter((function(e){return n[e]>1})),o.util.assert(0===r.length,(function(){return"Duplicate column names found: "+r.toString()})),!this.columnConfigs){e.next=22;break}a=0,i=Object.keys(this.columnConfigs);case 14:if(!(a<i.length)){e.next=22;break}if(u=i[a],-1!==this.fullColumnNames.indexOf(u)){e.next=19;break}throw new Error('The key "'+u+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").");case 19:a++,e.next=14;break;case 22:this.columnNamesValidated=!0;case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"maybeReadHeaderLine",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){var t,n,r,a;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasHeader){e.next=14;break}return e.next=3,this.base.iterator();case 3:return t=e.sent,e.next=6,t.next();case 6:if(!(n=e.sent).done){e.next=9;break}throw new Error("No data was found for CSV parsing.");case 9:return r=n.value,a=this.parseRow(r,!1),e.abrupt("return",a);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"iterator",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){var t,n=this;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.columnNamesValidated){e.next=3;break}return e.next=3,this.setColumnNames();case 3:return e.next=5,this.base.iterator();case 5:return t=e.sent,this.hasHeader&&(t=t.skip(1)),e.abrupt("return",t.map((function(e){return n.makeDataElement(e)})));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"makeDataElement",value:function(e){for(var t=this.parseRow(e),n={},r={},a=0;a<this.fullColumnNames.length;a++){var i=this.fullColumnNames[a],o=this.columnConfigs?this.columnConfigs[i]:null;if(!this.configuredColumnsOnly||o){var u=t[a],s=null;if(""===u)if(o&&void 0!==o.default)s=o.default;else{if(o&&(o.required||o.isLabel))throw new Error("Required column ".concat(i," is empty in this line: ").concat(e));s=void 0}else{var c=Number(u);if(isNaN(c))s=o&&"bool"===o.dtype?this.getBoolean(u):u;else if(o&&o.dtype)switch(o.dtype){case"float32":s=c;break;case"int32":s=Math.floor(c);break;case"bool":s=this.getBoolean(u);break;default:s=c}else s=c}o&&o.isLabel?r[i]=s:n[i]=s}}return 0===Object.keys(r).length?n:{xs:n,ys:r}}},{key:"getBoolean",value:function(e){return"1"===e||"true"===e.toLowerCase()?1:0}},{key:"parseRow",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],r=0,a=e.length,i=gl,o=0;o<a;o++)switch(i){case gl:switch(e.charAt(o)){case ml:r=o+1,i=yl;break;case this.delimiter:if(r=o+1," "===this.delimiter&&this.delimWhitespace)break;n.push(""),i=gl;break;default:i=bl,r=o}break;case bl:switch(e.charAt(o)){case this.delimiter:n.push(e.substring(r,o)),i=gl,r=o+1}break;case yl:switch(e.charAt(o)){case ml:i=xl}break;case xl:switch(e.charAt(o)){case this.delimiter:n.push(e.substring(r,o-1)),i=gl,r=o+1;break;case ml:i=yl;break;default:i=_l}break;case _l:switch(e.charAt(o)){case ml:i=yl}}if(i===xl?n.push(e.substring(r,a-1)):n.push(e.substring(r)),t&&n.length!==this.fullColumnNames.length)throw new Error("Invalid row in csv file. Should have ".concat(this.fullColumnNames.length," elements in a row, but got ").concat(n));return n}}]),n}(ll),Ol=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r;Object(Cn.a)(this,n),(r=t.call(this)).microphoneConfig=e,r.isClosed=!1,r.fftSize=e.fftSize||1024;var a=Math.log2(r.fftSize);if(r.fftSize<0||a<4||a>14||!Number.isInteger(a))throw new Error("Invalid fftSize: it must be a power of 2 between "+"2 to 4 and 2 to 14, but got ".concat(r.fftSize));if(r.numFrames=e.numFramesPerSpectrogram||43,r.sampleRateHz=e.sampleRateHz,r.columnTruncateLength=e.columnTruncateLength||r.fftSize,r.audioTrackConstraints=e.audioTrackConstraints,r.smoothingTimeConstant=e.smoothingTimeConstant||0,r.includeSpectrogram=!1!==e.includeSpectrogram,r.includeWaveform=!0===e.includeWaveform,!r.includeSpectrogram&&!r.includeWaveform)throw new Error("Both includeSpectrogram and includeWaveform are false. At least one type of data should be returned.");return r}return Object(An.a)(n,[{key:"summary",value:function(){return"microphone"}},{key:"start",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){var t,n;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({audio:null==this.audioTrackConstraints||this.audioTrackConstraints,video:!1});case 3:this.stream=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error thrown while initializing video stream: ".concat(e.t0.message));case 9:if(this.stream){e.next=11;break}throw new Error("Could not obtain audio from microphone.");case 11:if(t=window.AudioContext||window.webkitAudioContext,this.audioContext=new t,this.sampleRateHz){e.next=17;break}this.sampleRateHz=this.audioContext.sampleRate,e.next=19;break;case 17:if(this.audioContext.sampleRate===this.sampleRateHz){e.next=19;break}throw new Error("Mismatch in sampling rate: "+"Expected: ".concat(this.sampleRateHz,"; ")+"Actual: ".concat(this.audioContext.sampleRate));case 19:return n=this.audioContext.createMediaStreamSource(this.stream),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2*this.fftSize,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,n.connect(this.analyser),this.freqData=new Float32Array(this.fftSize),this.timeData=new Float32Array(this.fftSize),e.abrupt("return");case 27:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){var t,n,r,a,i;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isClosed){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return e.next=4,this.getAudioData();case 4:return r=e.sent,this.includeSpectrogram&&(a=this.flattenQueue(r.freqDataQueue),t=this.getTensorFromAudioDataArray(a,[this.numFrames,this.columnTruncateLength,1])),this.includeWaveform&&(i=this.flattenQueue(r.timeDataQueue),n=this.getTensorFromAudioDataArray(i,[this.numFrames*this.fftSize,1])),e.abrupt("return",{value:{spectrogram:t,waveform:n},done:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"capture",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAudioData",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){var t,n,r,a=this;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],r=0,e.abrupt("return",new Promise((function(e){var i=setInterval((function(){a.includeSpectrogram&&(a.analyser.getFloatFrequencyData(a.freqData),a.freqData[0]===-1/0&&e({freqDataQueue:t,timeDataQueue:n}),t.push(a.freqData.slice(0,a.columnTruncateLength))),a.includeWaveform&&(a.analyser.getFloatTimeDomainData(a.timeData),n.push(a.timeData.slice())),++r===a.numFrames&&(clearInterval(i),e({freqDataQueue:t,timeDataQueue:n}))}),a.fftSize/a.sampleRateHz*1e3)})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this.isClosed||(this.isClosed=!0,this.analyser.disconnect(),this.audioContext.close(),null!=this.stream&&this.stream.getTracks().length>0&&this.stream.getTracks()[0].stop())}},{key:"toArray",value:function(){throw new Error("Can not convert infinite audio stream to array.")}},{key:"getSampleRate",value:function(){return this.sampleRateHz}},{key:"flattenQueue",value:function(e){var t=e[0].length,n=new Float32Array(e.length*t);return e.forEach((function(e,r){return n.set(e,r*t)})),n}},{key:"getTensorFromAudioDataArray",value:function(e,t){var n=new Float32Array(o.util.sizeFromShape(t));return n.set(e,n.length-e.length),Object(o.tensor)(n,t)}}],[{key:"create",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){var t,r,a=arguments;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},!Object(o.env)().get("IS_NODE")){e.next=3;break}throw new Error("microphone API is only supported in browser environment.");case 3:return r=new n(t),e.next=6,r.start();case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(sl.a),kl=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e,r){var a;if(Object(Cn.a)(this,n),(a=t.call(this)).webcamVideoElement=e,a.webcamConfig=r,a.isClosed=!0,a.resize=!1,a.needToResize())if(a.resize=!0,a.cropSize=[a.webcamConfig.resizeHeight,a.webcamConfig.resizeWidth],a.cropBoxInd=Object(o.tensor1d)([0],"int32"),a.webcamConfig.centerCrop){var i=1*a.webcamConfig.resizeWidth/a.webcamVideoElement.width,u=1*a.webcamConfig.resizeHeight/a.webcamVideoElement.height,s=(1-i)/2,c=(1-u)/2,l=s+i,f=u+c;a.cropBox=Object(o.tensor2d)([c,s,f,l],[1,4])}else a.cropBox=Object(o.tensor2d)([0,0,1,1],[1,4]);return a}return Object(An.a)(n,[{key:"summary",value:function(){return"webcam"}},{key:"start",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){var t=this;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.webcamConfig.facingMode&&o.util.assert("user"===this.webcamConfig.facingMode||"environment"===this.webcamConfig.facingMode,(function(){return"Invalid webcam facing mode: ".concat(t.webcamConfig.facingMode,". ")+"Please provide 'user' or 'environment'"})),e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}});case 4:this.stream=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0.message="Error thrown while initializing video stream: ".concat(e.t0.message),e.t0;case 11:if(this.stream){e.next=13;break}throw new Error("Could not obtain video from webcam.");case 13:try{this.webcamVideoElement.srcObject=this.stream}catch(n){console.log(n),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,e.abrupt("return",new Promise((function(e){t.webcamVideoElement.onloadedmetadata=function(){e()}})));case 17:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){var t;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isClosed){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:e.prev=2,t=o.browser.fromPixels(this.webcamVideoElement),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(2),new Error("Error thrown converting video to pixels: ".concat(JSON.stringify(e.t0)));case 9:if(!this.resize){e.next=22;break}return e.prev=10,e.abrupt("return",{value:this.cropAndResizeFrame(t),done:!1});case 14:throw e.prev=14,e.t1=e.catch(10),new Error("Error thrown cropping the video: ".concat(e.t1.message));case 17:return e.prev=17,t.dispose(),e.finish(17);case 20:e.next=23;break;case 22:return e.abrupt("return",{value:t,done:!1});case 23:case"end":return e.stop()}}),e,this,[[2,6],[10,14,17,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"needToResize",value:function(){return!(!this.webcamConfig.resizeWidth||!this.webcamConfig.resizeHeight||this.webcamVideoElement.width===this.webcamConfig.resizeWidth&&this.webcamVideoElement.height===this.webcamConfig.resizeHeight)}},{key:"cropAndResizeFrame",value:function(e){var t=this;return Object(o.tidy)((function(){var n,r=Object(o.expandDims)(Object(o.cast)(e,"float32"),0),a=(n=o.image.cropAndResize(r,t.cropBox,t.cropBoxInd,t.cropSize,"bilinear")).shape;return Object(o.reshape)(n,a.slice(1))}))}},{key:"capture",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this.stream.getTracks().forEach((function(e){return e.stop()}));try{this.webcamVideoElement.srcObject=null}catch(e){console.log(e),this.webcamVideoElement.src=null}this.isClosed=!0}},{key:"toArray",value:function(){throw new Error("Can not convert infinite video stream to array.")}}],[{key:"create",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t){var r,a,i=arguments;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:{},!Object(o.env)().get("IS_NODE")){e.next=3;break}throw new Error("tf.data.webcam is only supported in browser environment.");case 3:if(t){e.next=9;break}if(t=document.createElement("video"),r.resizeWidth&&r.resizeHeight){e.next=7;break}throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");case 7:t.width=r.resizeWidth,t.height=r.resizeHeight;case 9:return a=new n(t,r),e.next=12,a.start();case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(sl.a),jl=function e(){Object(Cn.a)(this,e)},El=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(Cn.a)(this,n),(r=t.call(this)).file=e,r.options=a,o.util.assert(e instanceof Uint8Array||!!Object(o.env)().get("IS_BROWSER")&&(e instanceof File||e instanceof Blob),(function(){return"FileChunkIterator only supports File, Blob and Uint8Array right now."})),r.offset=a.offset||0,r.chunkSize=a.chunkSize||1048576,r}return Object(An.a)(n,[{key:"summary",value:function(){return"FileChunks ".concat(this.file)}},{key:"next",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){var t,n=this;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size))){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return t=new Promise((function(e,t){var r=n.offset+n.chunkSize;if(n.file instanceof Uint8Array)e(new Uint8Array(n.file.slice(n.offset,r)));else{var a=new FileReader;a.onload=function(n){var r=a.result;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),!(r instanceof Uint8Array))return t(new TypeError("FileReader returned unknown type."));e(r)},a.onabort=function(e){return t(new Error("Aborted"))},a.onerror=function(e){return t(new Error(e.type))};var i=n.file.slice(n.offset,r);a.readAsArrayBuffer(i)}n.offset=r})),e.next=5,t;case 5:return e.t0=e.sent,e.abrupt("return",{value:e.t0,done:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(n(576).a);function Cl(e){return Al.apply(this,arguments)}function Al(){return(Al=Object(Ya.a)(Xa.a.mark((function e(t){var n,r,a,i,u,s=arguments;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},"string"===typeof t?r=t:(r=t.url,a=Sl(t)),e.next=4,o.util.fetch(r,a);case 4:if(!(i=e.sent).ok){e.next=14;break}return e.t0=Uint8Array,e.next=9,i.arrayBuffer();case 9:return e.t1=e.sent,u=new e.t0(e.t1),e.abrupt("return",new El(u,n));case 14:throw new Error(i.statusText);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sl=function(e){return{method:e.method,headers:e.headers,body:e.body,mode:e.mode,credentials:e.credentials,cache:e.cache,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity}};function Dl(e){return"string"===typeof e&&"file://"===e.substr(0,7)}var Nl=function(e){Object(Sn.a)(r,e);var t=Object(Dn.a)(r);function r(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(Cn.a)(this,r),(n=t.call(this)).input=e,n.options=a,n}return Object(An.a)(r,[{key:"iterator",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){var t;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dl(this.input)&&Object(o.env)().get("IS_NODE")&&(t=n(662),this.input=t.readFileSync(this.input.substr(7))),e.abrupt("return",new El(this.input,this.options));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(jl),Fl=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(Cn.a)(this,n),(r=t.call(this)).url=e,r.fileOptions=a,r}return Object(An.a)(n,[{key:"iterator",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Dl(this.url)){e.next=4;break}return e.abrupt("return",new Nl(this.url,this.fileOptions).iterator());case 4:return e.abrupt("return",Cl(this.url,this.fileOptions));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(jl);function Tl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new wl(new Fl(e),t)}function Ml(e){var t=Object(sl.e)(e);return fl(Object(Ya.a)(Xa.a.mark((function e(){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))))}function Il(e){return fl(Object(Ya.a)(Xa.a.mark((function t(){var n;return Xa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:return n=t.sent,t.abrupt("return",Object(sl.e)((function(){return n.next()})));case 4:case"end":return t.stop()}}),t)}))))}function Rl(e,t){return Pl.apply(this,arguments)}function Pl(){return(Pl=Object(Ya.a)(Xa.a.mark((function e(t,n){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kl.create(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bl(e){return zl.apply(this,arguments)}function zl(){return(zl=Object(Ya.a)(Xa.a.mark((function e(t){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ol.create(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ll="3.3.0";function Ul(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&o.util.assert("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors in the CPU backend.")}))}))}var Wl=o.kernel_impls.whereImpl,Vl=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(){var e;return Object(Cn.a)(this,n),(e=t.call(this)).blockSize=48,e.firstUse=!0,e.data=new o.DataStorage(Object(Mn.a)(e),Object(o.engine)()),e}return Object(An.a)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"write",value:function(e,t,n){this.firstUse&&(this.firstUse=!1,Object(o.env)().get("IS_NODE")&&o.backend_util.warn("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&o.util.isString(n[0])){var a=n.map((function(e){return o.util.encodeString(e)}));r=this.write(a,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}},{key:"refCount",value:function(e){return this.data.has(e)?this.data.get(e).refCount:0}},{key:"incRef",value:function(e){this.data.get(e).refCount++}},{key:"decRef",value:function(e){this.data.has(e)&&this.data.get(e).refCount--}},{key:"move",value:function(e,t,n,r,a){this.data.set(e,{values:t,dtype:r,refCount:a})}},{key:"numDataIds",value:function(){return this.data.numDataIds()}},{key:"read",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t){return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readSync(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readSync",value:function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensorInfos;if("complex64"===n){var a=this.readSync(r.real.dataId),i=this.readSync(r.imag.dataId);return o.backend_util.mergeRealAndImagArrays(a,i)}return this.data.get(e).values}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map((function(e){return o.util.decodeString(e)}))}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return Object(o.buffer)(e.shape,e.dtype,n)}},{key:"makeOutput",value:function(e,t,n){var r=this.write(e,t,n);return Object(o.engine)().makeTensorFromDataId(r,t,n,this)}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;var n=this.data.get(e),r=n.complexTensorInfos;null!=r&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"time",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t){var n,r;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.util.now(),t(),r=o.util.now()-n,e.abrupt("return",{kernelMs:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"memory",value:function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}},{key:"where",value:function(e){Ul([e],"where");var t=this.readSync(e.dataId);return Wl(e.shape,t)}},{key:"dispose",value:function(){}},{key:"floatPrecision",value:function(){return 32}},{key:"epsilon",value:function(){return Object(si.a)(Object(In.a)(n.prototype),"epsilon",this).call(this)}}]),n}(o.KernelBackend);Vl.nextDataId=0;function ql(e,t,n){return function(r){var a=r.inputs,i=r.attrs,u=r.backend,s=a.x;if(Ul(s,e),"string"===s.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");for(var c=u,l=c.data.get(s.dataId).values,f=o.util.sizeFromShape(s.shape),d=n||s.dtype,h=o.util.getArrayFromDType(d,f),p=0;p<f;++p)h[p]=t(l[p],i);return c.makeTensorInfo(s.shape,d,h)}}function Hl(e,t,n){return function(r){var a=r.inputs,i=r.attrs,o=r.backend,u=a.x;if(Ul(u,e),"string"===u.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");var s=o,c=s.data.get(u.dataId).values,l=n||u.dtype,f=t(c,l,i);return s.makeTensorInfo(u.shape,l,f)}}Object(o.registerBackend)("cpu",(function(){return new Vl}),1);var Gl=ql(o.Elu,(function(e){return e>=0?e:Math.exp(e)-1})),Kl={kernelName:o.Elu,backendName:"cpu",kernelFunc:Gl};function $l(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var Xl={kernelName:o.Identity,backendName:"cpu",kernelFunc:$l};function Yl(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.alpha;Ul([a],"leakyRelu");for(var u=o.util.sizeFromShape(a.shape),s=n.data.get(a.dataId).values,c=o.util.getTypedArrayFromDType("float32",u),l=0;l<s.length;l++)c[l]=s[l]<0?i*s[l]:s[l];return n.makeTensorInfo(a.shape,"float32",c)}var Jl={kernelName:o.LeakyRelu,backendName:"cpu",kernelFunc:Yl};function Ql(e){return function(t,n,r,a,i){var u=o.backend_util.assertAndGetBroadcastShape(t,n),s=u.length,c=o.util.computeStrides(u),l=o.util.sizeFromShape(u),f=o.util.getTypedArrayFromDType(i,l),d=t.length,h=n.length,p=o.util.computeStrides(t),v=o.util.computeStrides(n),m=o.backend_util.getBroadcastDims(t,u),g=o.backend_util.getBroadcastDims(n,u);if(m.length+g.length===0)for(var b=0;b<f.length;++b)f[b]=e(r[b%r.length],a[b%a.length]);else for(var y=function(t){var n=o.util.indexToLoc(t,s,c),i=n.slice(-d);m.forEach((function(e){return i[e]=0}));var u=o.util.locToIndex(i,d,p),l=n.slice(-h);g.forEach((function(e){return l[e]=0}));var b=o.util.locToIndex(l,h,v);f[t]=e(r[u],a[b])},x=0;x<f.length;++x)y(x);return[f,u]}}var Zl=Ql((function(e,t){return e<0?t*e:e}));function ef(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha;Ul([r,a],"prelu");var i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,s=Zl(r.shape,a.shape,i,o,r.dtype),c=Object(u.a)(s,2),l=c[0],f=c[1];return n.makeTensorInfo(f,r.dtype,l)}var tf={kernelName:o.Prelu,backendName:"cpu",kernelFunc:ef},nf=ql(o.Relu,(function(e){return Math.max(0,e)})),rf={kernelName:o.Relu,backendName:"cpu",kernelFunc:nf},af=ql(o.Relu6,(function(e){return Math.min(Math.max(0,e),6)})),of={kernelName:o.Relu6,backendName:"cpu",kernelFunc:af};function uf(e,t,n,r,a){if("linear"===n)return $l({inputs:{x:t},backend:e});if("relu"===n)return nf({inputs:{x:t},backend:e});if("elu"===n)return Gl({inputs:{x:t},backend:e});if("relu6"===n)return af({inputs:{x:t},backend:e});if("prelu"===n)return ef({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return Yl({inputs:{x:t},backend:e,attrs:{alpha:a}});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}function sf(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,u=n.makeTensorInfo(r.shape,"complex64");return n.data.get(u.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(a.shape,"float32",o)},u}var cf={kernelName:o.Complex,backendName:"cpu",kernelFunc:sf};function lf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){var r=lf(e,t,"float32"),a=lf(e,t,"float32");return sf({inputs:{real:r,imag:a},backend:e})}var i=o.util.makeZerosTypedArray(o.util.sizeFromShape(t),n);return e.makeTensorInfo(t,n,i)}function ff(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}var df={kernelName:o.Real,backendName:"cpu",kernelFunc:ff};function hf(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.dtype;if("complex64"===i){if("complex64"===a.dtype)return $l({inputs:{x:a},backend:n});var s=lf(n,a.shape,a.dtype),c=hf({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),l=sf({inputs:{real:c,imag:s},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(c),l}if("complex64"===a.dtype){var f=ff({inputs:{input:a},backend:n}),d=hf({inputs:{x:f},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(f),d}if(!o.util.hasEncodingLoss(a.dtype,i)){var h=$l({inputs:{x:a},backend:n});return{dataId:h.dataId,shape:h.shape,dtype:i}}if("int32"===i){var p=n.data.get(a.dataId).values,v=Int32Array.from(p);return n.makeTensorInfo(a.shape,"int32",v)}if("bool"===i){var m=n.data.get(a.dataId).values,g=o.util.toTypedArray([0],a.dtype),b=Ql((function(e,t){return e!==t?1:0}))(a.shape,[],m,g,"bool"),y=Object(u.a)(b,2),x=y[0],_=y[1];return n.makeTensorInfo(_,"bool",x)}throw new Error("Error in Cast: failed to cast ".concat(a.dtype," to ").concat(i))}var pf={kernelName:o.Cast,backendName:"cpu",kernelFunc:hf};function vf(e,t,n,r){return null==n?function(n){var a=n.inputs,i=n.backend,o=a.a,s=a.b,c=i;Ul([o,s],e);var l=c.data.get(o.dataId).values,f=c.data.get(s.dataId).values,d=r||o.dtype,h=t(o.shape,s.shape,l,f,d),p=Object(u.a)(h,2),v=p[0],m=p[1];return c.makeTensorInfo(m,d,v)}:function(e){var a=e.inputs,i=e.backend,o=a.a,s=a.b,c=i;if("complex64"===o.dtype||"complex64"===s.dtype){var l=hf({inputs:{x:o},backend:c,attrs:{dtype:"complex64"}}),f=c.data.get(l.dataId),d=f.complexTensorInfos.real,h=f.complexTensorInfos.imag,p=c.data.get(d.dataId).values,v=c.data.get(h.dataId).values,m=hf({inputs:{x:s},backend:c,attrs:{dtype:"complex64"}}),g=c.data.get(m.dataId),b=g.complexTensorInfos.real,y=g.complexTensorInfos.imag,x=c.data.get(b.dataId).values,_=c.data.get(y.dataId).values,w=n(o.shape,s.shape,p,v,x,_),O=Object(u.a)(w,3),k=O[0],j=O[1],E=O[2],C=c.makeTensorInfo(E,"float32",k),A=c.makeTensorInfo(E,"float32",j),S=sf({inputs:{real:C,imag:A},backend:c});return c.disposeIntermediateTensorInfo(l),c.disposeIntermediateTensorInfo(m),c.disposeIntermediateTensorInfo(C),c.disposeIntermediateTensorInfo(A),S}var D=c.data.get(o.dataId).values,N=c.data.get(s.dataId).values,F=r||o.dtype,T=t(o.shape,s.shape,D,N,F),M=Object(u.a)(T,2),I=M[0],R=M[1];return c.makeTensorInfo(R,F,I)}}function mf(e){return function(t,n,r,a,i,u){var s=o.backend_util.assertAndGetBroadcastShape(t,n),c=o.util.sizeFromShape(s),l=s.length,f=o.util.computeStrides(s),d=o.util.getTypedArrayFromDType("float32",c),h=o.util.getTypedArrayFromDType("float32",c),p=o.backend_util.getBroadcastDims(t,s),v=o.backend_util.getBroadcastDims(n,s),m=o.backend_util.mergeRealAndImagArrays(r,a),g=o.backend_util.mergeRealAndImagArrays(i,u),b=t.length,y=o.util.computeStrides(t),x=n.length,_=o.util.computeStrides(n);if(p.length+v.length===0)for(var w=0;w<d.length;w++){var O=w%m.length,k=w%g.length,j=e(m[2*O],m[2*O+1],g[2*k],g[2*k+1]);d[w]=j.real,h[w]=j.imag}else for(var E=function(t){var n=o.util.indexToLoc(t,l,f),r=n.slice(-b);p.forEach((function(e){return r[e]=0}));var a=o.util.locToIndex(r,b,y),i=n.slice(-x);v.forEach((function(e){return i[e]=0}));var u=o.util.locToIndex(i,x,_),s=e(m[2*a],m[2*a+1],g[2*u],g[2*u+1]);d[t]=s.real,h[t]=s.imag},C=0;C<d.length;C++)E(C);return[d,h,s]}}var gf=Ql((function(e,t){return e+t})),bf=mf((function(e,t,n,r){return{real:e+n,imag:t+r}})),yf=vf(o.Add,gf,bf),xf={kernelName:o.Add,backendName:"cpu",kernelFunc:yf};function _f(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.shape,u=o.util.sizeFromShape(a.shape),s=o.util.inferFromImplicitShape(i,u),c=o.util.sizeFromShape(s);o.util.assert(u===c,(function(){return"The new shape (".concat(s,") has ").concat(c," elements and the old ")+"shape (".concat(a.shape,") has ").concat(u," elements. The new shape and old ")+"shape must have the same number of elements."})),n.incRef(a.dataId);var l=n.data.get(a.dataId);if(null!=l.complexTensorInfos){var f=l.complexTensorInfos.real,d=l.complexTensorInfos.imag;f.shape=s,d.shape=s}return{dataId:a.dataId,shape:s,dtype:a.dtype}}var wf={kernelName:o.Reshape,backendName:"cpu",kernelFunc:_f};function Of(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,i=t.b,s=r.transposeA,c=r.transposeB;Ul([a,i],"matMul");var l=a.shape.length,f=i.shape.length,d=s?a.shape[l-2]:a.shape[l-1],h=c?i.shape[f-1]:i.shape[f-2],p=s?a.shape[l-1]:a.shape[l-2],v=c?i.shape[f-2]:i.shape[f-1],m=a.shape.slice(0,-2),g=i.shape.slice(0,-2),b=o.util.sizeFromShape(m),y=o.util.sizeFromShape(g),x=b===y||1===b||1===y;o.util.assert(l>=2&&f>=2&&x,(function(){return"Error in matMul: the input batch dimensions must either be the same or at least one input batch dimension must be 1. Got input "+"batch dimensions of (".concat(m,") and (").concat(g,").")}));var _=(b>y?a.shape.slice(0,-2):i.shape.slice(0,-2)).concat([p,v]);o.util.assert(d===h,(function(){return"Error in matMul: inner shapes (".concat(d,") and (")+"".concat(h,") of Tensors with shapes ").concat(a.shape," and ")+"".concat(i.shape," and transposeA=").concat(s)+" and transposeB=".concat(c," must match.")}));for(var w=c?[y,v,h]:[y,h,v],O=_f({inputs:{x:a},backend:n,attrs:{shape:s?[b,d,p]:[b,p,d]}}),k=_f({inputs:{x:i},backend:n,attrs:{shape:w}}),j=s?O.shape[1]:O.shape[2],E=s?O.shape[2]:O.shape[1],C=c?k.shape[1]:k.shape[2],A=Math.max(b,y),S=n.data.get(O.dataId).values,D=n.data.get(k.dataId).values,N=o.util.computeStrides(O.shape),F=o.util.computeStrides(k.shape),T=s?[N[0],1,N[1]]:[N[0],N[1],1],M=Object(u.a)(T,3),I=M[0],R=M[1],P=M[2],B=c?[1,F[1],F[0]]:[F[1],1,F[0]],z=Object(u.a)(B,3),L=z[0],U=z[1],W=z[2],V=E*C,q=Object(o.buffer)([A,E,C],O.dtype),H=q.values,G=n.blockSize,K=0;K<A;K++)for(var $=0;$<E;$+=G)for(var X=0;X<C;X+=G)for(var Y=0;Y<j;Y+=G)for(var J=Math.min($+G,E),Q=Math.min(X+G,C),Z=Math.min(Y+G,j),ee=$;ee<J;ee++)for(var te=X;te<Q;te++){for(var ne=0,re=Y;re<Z;re++){var ae=Math.min(K,b-1)*I,ie=Math.min(K,y-1)*W;ne+=S[ae+ee*R+re*P]*D[re*L+te*U+ie]}H[K*V+(ee*C+te)]+=ne}return n.disposeIntermediateTensorInfo(O),n.disposeIntermediateTensorInfo(k),n.makeTensorInfo(_,q.dtype,q.values)}var kf={kernelName:o.BatchMatMul,backendName:"cpu",kernelFunc:Of};var jf={kernelName:o._FusedMatMul,backendName:"cpu",kernelFunc:function(e){var t,n,r,a=e.inputs,i=e.backend,o=e.attrs,u=a.a,s=a.b,c=a.bias,l=a.preluActivationWeights,f=o.transposeA,d=o.transposeB,h=o.activation,p=o.leakyreluAlpha,v=[];t=Of({inputs:{a:u,b:s},attrs:{transposeA:f,transposeB:d},backend:i}),c&&(n=yf({inputs:{a:t,b:c},backend:i}),v.push(t),t=n),h&&(r=uf(i,t,h,l,p),v.push(t),t=r);for(var m=0,g=v;m<g.length;m++){var b=g[m];i.disposeIntermediateTensorInfo(b)}return t}};function Ef(e){for(var t=new Float32Array(e.length),n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}var Cf={kernelName:o.Abs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs.x,n=e.backend;Ul(t,"abs");var r=new Float32Array(o.util.sizeFromShape(t.shape));return r=Ef(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,"float32")}},Af=ql(o.Acos,(function(e){return Math.acos(e)})),Sf={kernelName:o.Acos,backendName:"cpu",kernelFunc:Af},Df=ql(o.Acosh,(function(e){return Math.acosh(e)})),Nf={kernelName:o.Acosh,backendName:"cpu",kernelFunc:Df};var Ff={kernelName:o.AddN,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t;Ul(t,"addN");for(var a=r.map((function(e){return n.data.get(e.dataId).values})),i=Object(o.buffer)(r[0].shape,r[0].dtype),u=i.values,s=0;s<r.length;s++)for(var c=a[s],l=0;l<u.length;l++)u[l]+=c[l];return n.makeTensorInfo(i.shape,i.dtype,i.values)}};function Tf(e,t,n,r,a){for(var i=t.length,u=o.util.sizeFromShape(t),s=o.util.computeStrides(t),c=o.util.computeStrides(a),l=o.util.getTypedArrayFromDType(n,o.util.sizeFromShape(a)),f=0;f<u;++f){for(var d=o.util.indexToLoc(f,i,s),h=new Array(d.length),p=0;p<h.length;p++)h[p]=d[r[p]];l[o.util.locToIndex(h,i,c)]=e[f]}return l}function Mf(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.perm;Ul(a,"transpose");for(var o=a.shape.length,u=new Array(o),s=0;s<u.length;s++)u[s]=a.shape[i[s]];var c=Tf(r.data.get(a.dataId).values,a.shape,a.dtype,i,u);return{dataId:r.write(c,u,a.dtype),shape:u,dtype:a.dtype}}var If={kernelName:o.Transpose,backendName:"cpu",kernelFunc:Mf};var Rf={kernelName:o.All,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,s=r.keepDims;Ul(a,"all");var c=o.util.parseAxisParam(i,a.shape),l=c,f=o.backend_util.getAxesPermutation(l,a.shape.length),d=a;null!=f&&(d=Mf({inputs:{x:a},backend:n,attrs:{perm:f}}),l=o.backend_util.getInnerMostAxes(l.length,a.shape.length)),o.backend_util.assertAxesAreInnerMostDims("all",l,d.shape.length);for(var h=o.backend_util.computeOutAndReduceShapes(d.shape,l),p=Object(u.a)(h,2),v=p[0],m=p[1],g=o.util.sizeFromShape(m),b=o.util.makeZerosTypedArray(o.util.sizeFromShape(v),d.dtype),y=n.data.get(d.dataId).values,x=0;x<b.length;++x){for(var _=x*g,w=y[_],O=0;O<g;++O){var k=y[_+O];w=w&&k}b[x]=w}null!=f&&n.disposeIntermediateTensorInfo(d);var j=n.makeTensorInfo(v,d.dtype,b);if(s){var E=_f({inputs:{x:j},backend:n,attrs:{shape:o.backend_util.expandShapeToKeepDim(v,c)}});return n.disposeIntermediateTensorInfo(j),E}return j}};var Pf={kernelName:o.Any,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,s=r.keepDims;Ul(a,"any");var c=o.util.parseAxisParam(i,a.shape),l=c,f=o.backend_util.getAxesPermutation(l,a.shape.length),d=a;null!=f&&(d=Mf({inputs:{x:a},backend:n,attrs:{perm:f}}),l=o.backend_util.getInnerMostAxes(l.length,a.shape.length)),o.backend_util.assertAxesAreInnerMostDims("any",l,d.shape.length);for(var h=o.backend_util.computeOutAndReduceShapes(d.shape,l),p=Object(u.a)(h,2),v=p[0],m=p[1],g=o.util.sizeFromShape(m),b=o.util.makeZerosTypedArray(o.util.sizeFromShape(v),d.dtype),y=n.data.get(d.dataId).values,x=0;x<b.length;++x){for(var _=x*g,w=y[_],O=0;O<g;++O){var k=y[_+O];w=w||k}b[x]=w}null!=f&&n.disposeIntermediateTensorInfo(d);var j=n.makeTensorInfo(v,d.dtype,b);if(s){var E=_f({inputs:{x:j},backend:n,attrs:{shape:o.backend_util.expandShapeToKeepDim(v,c)}});return n.disposeIntermediateTensorInfo(j),E}return j}};var Bf={kernelName:o.ArgMax,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis;Ul(a,"argMax");var s=o.util.parseAxisParam(i,a.shape),c=o.backend_util.getAxesPermutation(s,a.shape.length),l=a,f=[];null!=c&&(l=Mf({inputs:{x:a},backend:n,attrs:{perm:c}}),f.push(l),s=o.backend_util.getInnerMostAxes(s.length,l.shape.length)),s=[s[0]],o.backend_util.assertAxesAreInnerMostDims("argMax",s,l.shape.length);for(var d=o.backend_util.computeOutAndReduceShapes(l.shape,s),h=Object(u.a)(d,2),p=h[0],v=h[1],m=o.util.sizeFromShape(p),g=o.util.makeZerosTypedArray(m,"int32"),b=o.util.sizeFromShape(v),y=n.data.get(l.dataId).values,x=0;x<g.length;++x){for(var _=x*b,w=y[_],O=0,k=0;k<b;++k){var j=y[_+k];j>w&&(w=j,O=k)}g[x]=O}return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(p,"int32",g)}};var zf={kernelName:o.ArgMin,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis;Ul(a,"argMin");var s=o.util.parseAxisParam(i,a.shape),c=o.backend_util.getAxesPermutation(s,a.shape.length),l=a,f=[];null!=c&&(l=Mf({inputs:{x:a},backend:n,attrs:{perm:c}}),f.push(l),s=o.backend_util.getInnerMostAxes(s.length,l.shape.length)),s=[s[0]],o.backend_util.assertAxesAreInnerMostDims("argMin",s,l.shape.length);for(var d=o.backend_util.computeOutAndReduceShapes(l.shape,s),h=Object(u.a)(d,2),p=h[0],v=h[1],m=o.util.sizeFromShape(p),g=o.util.makeZerosTypedArray(m,"int32"),b=o.util.sizeFromShape(v),y=n.data.get(l.dataId).values,x=0;x<g.length;++x){for(var _=x*b,w=y[_],O=0,k=0;k<b;++k){var j=y[_+k];j<w&&(w=j,O=k)}g[x]=O}return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(p,"int32",g)}},Lf=ql(o.Asin,(function(e){return Math.asin(e)})),Uf={kernelName:o.Asin,backendName:"cpu",kernelFunc:Lf},Wf=ql(o.Asinh,(function(e){return Math.asinh(e)})),Vf={kernelName:o.Asinh,backendName:"cpu",kernelFunc:Wf},qf=ql(o.Atan,(function(e){return Math.atan(e)})),Hf={kernelName:o.Atan,backendName:"cpu",kernelFunc:qf},Gf=Ql((function(e,t){return Math.atan2(e,t)})),Kf=vf(o.Atan2,Gf),$f={kernelName:o.Atan2,backendName:"cpu",kernelFunc:Kf},Xf=ql(o.Atanh,(function(e){return Math.atanh(e)})),Yf={kernelName:o.Atanh,backendName:"cpu",kernelFunc:Xf};function Jf(e,t,n,r,a,i){for(var u=a.strideHeight,s=a.strideWidth,c=a.dilationHeight,l=a.dilationWidth,f=a.effectiveFilterHeight,d=a.effectiveFilterWidth,h=a.padInfo.top,p=a.padInfo.left,v="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=Object(o.buffer)(a.outShape,n),g=m.values,b=a.outShape[1]*a.outShape[2]*a.outShape[3],y=a.outShape[2]*a.outShape[3],x=a.outShape[3],_=0;_<a.batchSize;++_)for(var w=_*b,O=_*r[0],k=0;k<a.inChannels;++k)for(var j=0;j<a.outHeight;++j)for(var E=j*u-h,C=Math.max(0,E),A=Math.min(a.inHeight,f+E),S=w+j*y,D=0;D<a.outWidth;++D){for(var N=D*s-p,F=Math.max(0,N),T=Math.min(a.inWidth,d+N),M=v,I=0,R=0,P=C;P<A;P+=c){for(var B=O+P*r[1],z=F;z<T;z+=l){var L=e[B+z*r[2]+k];"max"===i&&L>M?M=L:"avg"===i&&(I+=L,R++)}if(isNaN(M))break}g[S+D*x+k]="avg"===i?I/R:M}return m}function Qf(e,t,n,r){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=Object(o.buffer)(r.outShape,"int32"),s=r.strideHeight,c=r.strideWidth,l=r.dilationHeight,f=r.dilationWidth,d=r.effectiveFilterHeight,h=r.effectiveFilterWidth,p=r.padInfo.top,v=r.padInfo.left,m=Object(o.buffer)(t,n,e),g=0;g<r.batchSize;++g)for(var b=0;b<r.inChannels;++b)for(var y=0;y<r.outHeight;++y){for(var x=y*s-p,_=x;_<0;)_+=l;for(var w=Math.min(r.inHeight,d+x),O=0;O<r.outWidth;++O){for(var k=O*c-v,j=k;j<0;)j+=f;for(var E=Math.min(r.inWidth,h+k),C=Number.NEGATIVE_INFINITY,A=-1,S=_;S<w;S+=l)for(var D=S-x,N=j;N<E;N+=f){var F=N-k,T=m.get(g,S,N,b);T>C&&(C=T,A=a?i?((g*r.inHeight+S)*r.inWidth+N)*r.inChannels+b:(S*r.inWidth+N)*r.inChannels+b:D*h+F)}u.set(A,g,y,O,b)}}return u}function Zf(e,t,n,r,a,i){for(var u=a.strideDepth,s=a.strideHeight,c=a.strideWidth,l=a.dilationDepth,f=a.dilationHeight,d=a.dilationWidth,h=a.effectiveFilterDepth,p=a.effectiveFilterHeight,v=a.effectiveFilterWidth,m=a.padInfo.front,g=a.padInfo.top,b=a.padInfo.left,y="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,x=Object(o.buffer)(a.outShape,n),_=x.values,w=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],O=a.outShape[2]*a.outShape[3]*a.outShape[4],k=a.outShape[3]*a.outShape[4],j=a.outShape[4],E=0;E<a.batchSize;++E)for(var C=E*w,A=E*r[0],S=0;S<a.inChannels;++S)for(var D=0;D<a.outDepth;++D){for(var N=D*u-m,F=N;F<0;)F+=l;for(var T=Math.min(a.inDepth,h+N),M=C+D*O,I=0;I<a.outHeight;++I){for(var R=I*s-g,P=R;P<0;)P+=f;for(var B=Math.min(a.inHeight,p+R),z=M+I*k,L=0;L<a.outWidth;++L){for(var U=L*c-b,W=U;W<0;)W+=d;for(var V=Math.min(a.inWidth,v+U),q=z+L*j,H=y,G=0,K=0,$=F;$<T;$+=l){for(var X=A+$*r[1],Y=P;Y<B;Y+=f){for(var J=X+Y*r[2],Q=W;Q<V;Q+=d){var Z=e[J+Q*r[3]+S];if("max"===i&&Z>H?H=Z:"avg"===i&&(G+=Z,K++),isNaN(H))break}if(isNaN(H))break}if(isNaN(H))break}_[q+S]="avg"===i?G/K:H}}}return x}var ed={kernelName:o.AvgPool,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;Ul(a,"avgPool");var i=r.filterSize,u=r.strides,s=r.pad,c=r.dimRoundingMode;o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(u,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(u," and dilations '").concat(1,"'")}));var l,f=o.backend_util.computePool2DInfo(a.shape,i,u,1,s,c);if(1===f.filterWidth&&1===f.filterHeight&&o.util.arraysEqual(f.inShape,f.outShape))l=$l({inputs:{x:a},backend:n});else{var d=n.data.get(a.dataId).values,h=o.util.computeStrides(a.shape),p=Jf(d,a.shape,a.dtype,h,f,"avg");l=n.makeTensorInfo(f.outShape,a.dtype,p.values)}return l}};var td={kernelName:o.AvgPool3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,u=r.strides,s=r.pad,c=r.dimRoundingMode,l=r.dataFormat;Ul(a,"avgPool3d");var f=o.backend_util.computePool3DInfo(a.shape,i,u,1,s,c,l),d=Zf(n.data.get(a.dataId).values,a.shape,a.dtype,o.util.computeStrides(a.shape),f,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}};var nd={kernelName:o.AvgPool3DGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,u=r.filterSize,s=r.strides,c=r.pad,l=r.dimRoundingMode;Ul([a,i],"avgPool3DGrad");for(var f=o.backend_util.computePool3DInfo(i.shape,u,s,1,c,l),d=f.strideDepth,h=f.strideHeight,p=f.strideWidth,v=f.filterDepth,m=f.filterHeight,g=f.filterWidth,b=f.dilationDepth,y=f.dilationHeight,x=f.dilationWidth,_=f.effectiveFilterDepth,w=f.effectiveFilterHeight,O=f.effectiveFilterWidth,k=_-1-f.padInfo.front,j=O-1-f.padInfo.left,E=w-1-f.padInfo.top,C=Object(o.buffer)(i.shape,"float32"),A=1/(v*m*g),S=n.bufferSync(a),D=0;D<f.batchSize;++D)for(var N=0;N<f.inChannels;++N)for(var F=0;F<f.inDepth;++F)for(var T=0;T<f.inHeight;++T)for(var M=0;M<f.inWidth;++M){for(var I=F-k,R=T-E,P=M-j,B=0,z=0;z<_;z+=b){var L=(I+z)/d;if(!(L<0||L>=f.outDepth||Math.floor(L)!==L))for(var U=0;U<w;U+=y){var W=(R+U)/h;if(!(W<0||W>=f.outHeight||Math.floor(W)!==W))for(var V=0;V<O;V+=x){var q=(P+V)/p;if(!(q<0||q>=f.outWidth||Math.floor(q)!==q))B+=S.get(D,L,W,q,N)}}}C.set(B*A,D,F,T,M,N)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}};var rd={kernelName:o.AvgPoolGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,u=i;Ul([a,i],"avgPoolGrad");for(var s=r.filterSize,c=r.strides,l=r.pad,f=o.backend_util.computePool2DInfo(u.shape,s,c,1,l),d=f.strideHeight,h=f.strideWidth,p=f.filterHeight,v=f.filterWidth,m=f.dilationHeight,g=f.dilationWidth,b=f.effectiveFilterHeight,y=f.effectiveFilterWidth,x=y-1-f.padInfo.left,_=b-1-f.padInfo.top,w=Object(o.buffer)(u.shape,"float32"),O=1/(p*v),k=n.data.get(a.dataId).values,j=Object(o.buffer)(a.shape,"float32",k),E=0;E<f.batchSize;++E)for(var C=0;C<f.inChannels;++C)for(var A=0;A<f.inHeight;++A)for(var S=0;S<f.inWidth;++S){for(var D=A-_,N=S-x,F=0,T=0;T<b;T+=m){var M=(D+T)/d;if(!(M<0||M>=f.outHeight||Math.floor(M)!==M))for(var I=0;I<y;I+=g){var R=(N+I)/h;if(!(R<0||R>=f.outWidth||Math.floor(R)!==R))F+=j.get(E,M,R,C)}}w.set(F*O,E,A,S,C)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};var ad={kernelName:o.FusedBatchNorm,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.scale,u=t.offset,s=t.mean,c=t.variance;o.util.assert(s.shape.length===c.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),o.util.assert(null==u||s.shape.length===u.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),o.util.assert(null==i||s.shape.length===i.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),Ul([a,s,c,i,u],"batchNorm");var l=r.varianceEpsilon;null==l&&(l=.001);for(var f=n.data.get(a.dataId).values,d=n.data.get(s.dataId).values,h=n.data.get(c.dataId).values,p=i?n.data.get(i.dataId).values:new Float32Array([1]),v=u?n.data.get(u.dataId).values:new Float32Array([0]),m=new Float32Array(f.length),g=v.length,b=p.length,y=h.length,x=d.length,_=0,w=0,O=0,k=0,j=0;j<f.length;++j)m[j]=v[_++]+(f[j]-d[w++])*p[O++]/Math.sqrt(h[k++]+l),_>=g&&(_=0),w>=x&&(w=0),O>=b&&(O=0),k>=y&&(k=0);return n.makeTensorInfo(a.shape,a.dtype,m)}};function id(e,t,n,r,a){var i=o.slice_util.isSliceContinous(r,t,n),u=o.util.sizeFromShape(n),s=o.util.computeStrides(r);if(i){var c=o.slice_util.computeFlatOffset(t,s);return"string"===a?e.slice(c,c+u):e.subarray(c,c+u)}for(var l="string"===a?o.backend_util.fromUint8ToStringArray(e):e,f=Object(o.buffer)(r,a,l),d=Object(o.buffer)(n,a),h=0;h<d.size;++h){var p=d.indexToLoc(h),v=p.map((function(e,n){return e+t[n]}));d.set.apply(d,[f.get.apply(f,Object(Fn.a)(v))].concat(Object(Fn.a)(p)))}return"string"===a?o.backend_util.fromStringArrayToUint8(d.values):d.values}function od(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.begin,s=r.size;Ul(a,"slice");var c=o.slice_util.parseSliceParams(a,i,s),l=Object(u.a)(c,2),f=l[0],d=l[1];o.slice_util.assertParamsValid(a,f,d);var h=id(n.data.get(a.dataId).values,f,d,a.shape,a.dtype);return n.makeTensorInfo(d,a.dtype,h)}var ud={kernelName:o.Slice,backendName:"cpu",kernelFunc:od};var sd={kernelName:o.BatchToSpaceND,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,u=r.crops;Ul([a],"batchToSpaceND");var s=i.reduce((function(e,t){return e*t})),c=o.backend_util.getReshaped(a.shape,i,s),l=o.backend_util.getPermuted(c.length,i.length),f=o.backend_util.getReshapedPermuted(a.shape,i,s),d=o.backend_util.getSliceBeginCoords(u,i.length),h=o.backend_util.getSliceSize(f,u,i.length),p=_f({inputs:{x:a},backend:n,attrs:{shape:c}}),v=Mf({inputs:{x:p},backend:n,attrs:{perm:l}}),m=_f({inputs:{x:v},backend:n,attrs:{shape:f}}),g=od({inputs:{x:m},backend:n,attrs:{begin:d,size:h}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),g}};function cd(e,t,n,r,a){for(var i=o.util.sizeFromShape(r),u=o.util.makeZerosTypedArray(a,n),s=0;s<e.length;s++){var c=e[s];if(c<0)throw new Error("Input x must be non-negative!");c>=a||(u[c]+=i>0?t[s]:1)}return u}function ld(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.shape[0],i=e.shape[1],u=Object(o.buffer)([a,n],t.dtype),s=0;s<a;s++)for(var c=0;c<i;c++){var l=e.get(s,c);if(l<0)throw new Error("Input x must be non-negative!");l>=n||(r?u.set(1,s,l):t.size>0?u.set(u.get(s,l)+t.get(s,c),s,l):u.set(u.get(s,l)+1,s,l))}return u}var fd={kernelName:o.Bincount,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,u=cd(n.data.get(a.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,u)}};function dd(e){return function(t,n,r){for(var a=o.util.getTypedArrayFromDType(n,t.length),i=0;i<t.length;++i)a[i]=e(t[i],r);return a}}var hd=dd((function(e){return Math.ceil(e)})),pd=Hl(o.Ceil,hd),vd={kernelName:o.Ceil,backendName:"cpu",kernelFunc:pd},md=ql(o.ClipByValue,(function(e,t){var n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),gd={kernelName:o.ClipByValue,backendName:"cpu",kernelFunc:md},bd={kernelName:o.ComplexAbs,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs.x,n=e.backend,r=new Float32Array(o.util.sizeFromShape(t.shape)),a=n.data.get(t.dataId),i=a.complexTensorInfos.real,u=a.complexTensorInfos.imag,s=n.data.get(i.dataId).values,c=n.data.get(u.dataId).values,l=0;l<s.length;l++){var f=s[l],d=c[l];r[l]=Math.hypot(f,d)}return n.makeOutput(r,t.shape,"float32")}};function yd(e,t,n,r){var a=o.util.getArrayFromDType(n,o.util.sizeFromShape(t));if(r&&"string"!==n){var i=0;e.forEach((function(e){var t=o.util.sizeFromShape(e.shape);a.set(e.vals,i),i+=t}))}else{var u=0;e.forEach((function(e){for(var r="string"===n?o.backend_util.fromUint8ToStringArray(e.vals):e.vals,i=0,s=0;s<e.shape[0];++s)for(var c=s*t[1]+u,l=0;l<e.shape[1];++l)a[c+l]=r[i++];u+=e.shape[1]}))}return a}function xd(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}var _d={kernelName:o.Imag,backendName:"cpu",kernelFunc:xd};function wd(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,a=o.util.parseAxisParam(r,t[0].shape)[0],i=o.backend_util.computeOutShape(t.map((function(e){return e.shape})),a);if(0===o.util.sizeFromShape(i))return n.makeTensorInfo(i,t[0].dtype,[]);var u=t.filter((function(e){return o.util.sizeFromShape(e.shape)>0}));if(1===u.length)return $l({inputs:{x:u[0]},backend:n});var s=u.map((function(e){return e.shape}));if(o.backend_util.assertParamsConsistent(s,a),"complex64"===u[0].dtype){var c=u.map((function(e){return ff({inputs:{input:e},backend:n})})),l=u.map((function(e){return xd({inputs:{input:e},backend:n})})),f=wd({inputs:c,backend:n,attrs:{axis:a}}),d=wd({inputs:l,backend:n,attrs:{axis:a}}),h=sf({inputs:{real:f,imag:d},backend:n});return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),h}var p=u.map((function(e){var t=o.util.sizeFromShape(e.shape.slice(a));return _f({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),v=p.map((function(e){return{vals:n.data.get(e.dataId).values,shape:e.shape}}));i=o.backend_util.computeOutShape(p.map((function(e){return e.shape})),1);var m=1===p[0].shape[0],g=yd(v,i,t[0].dtype,m),b=o.backend_util.computeOutShape(u.map((function(e){return e.shape})),a),y=n.makeTensorInfo(b,t[0].dtype,g);return p.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),y}var Od={kernelName:o.Concat,backendName:"cpu",kernelFunc:wd};function kd(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,u=r.strides,s=r.pad,c=r.dataFormat,l=r.dilations,f=r.dimRoundingMode;Ul([a,i],"conv2d");for(var d=o.backend_util.convertConv2DDataFormat(c),h=o.backend_util.computeConv2DInfo(a.shape,i.shape,u,l,s,f,!1,d),p=h.filterHeight,v=h.filterWidth,m=h.dilationHeight,g=h.dilationWidth,b=h.padInfo.left,y=h.padInfo.top,x="channelsLast"===h.dataFormat,_=new o.TensorBuffer(h.outShape,a.dtype),w=o.util.computeStrides(a.shape),O=o.util.computeStrides(i.shape),k=w[0],j=x?w[1]:w[2],E=x?w[2]:1,C=x?1:w[1],A=_.strides[0],S=x?_.strides[1]:_.strides[2],D=x?_.strides[2]:1,N=x?1:_.strides[1],F=n.data.get(a.dataId).values,T=n.data.get(i.dataId).values,M=_.values,I=0;I<h.batchSize;++I)for(var R=I*k,P=I*A,B=0;B<h.outHeight;++B)for(var z=P+B*S,L=B*h.strideHeight-y,U=0;U<p;++U){var W=L+U*m;if(!(W<0||W>=h.inHeight))for(var V=U*O[0],q=R+W*j,H=0;H<h.outWidth;++H)for(var G=z+H*D,K=H*h.strideWidth-b,$=0;$<v;++$){var X=K+$*g;if(!(X<0||X>=h.inWidth))for(var Y=q+X*E,J=V+$*O[1],Q=0;Q<h.inChannels;++Q){for(var Z=F[Y+Q*C],ee=0;ee<h.outChannels;++ee)M[G+ee*N]+=Z*T[J+ee];J+=h.outChannels}}}return n.makeTensorInfo(_.shape,_.dtype,M)}var jd={kernelName:o.Conv2D,backendName:"cpu",kernelFunc:kd};var Ed={kernelName:o.Conv2DBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,u=r.strides,s=r.pad,c=r.dataFormat,l=r.dimRoundingMode,f=r.filterShape;Ul([a,i],"conv2dBackpropFilter");for(var d=o.backend_util.convertConv2DDataFormat(c),h=o.backend_util.computeConv2DInfo(a.shape,f,u,1,s,l,!1,d),p=h.strideHeight,v=h.strideWidth,m=h.filterHeight,g=h.filterWidth,b="channelsLast"===h.dataFormat,y=new o.TensorBuffer(h.filterShape,"float32"),x=h.padInfo.left,_=h.padInfo.top,w=n.data.get(a.dataId).values,O=n.data.get(i.dataId).values,k=new o.TensorBuffer(a.shape,a.dtype,w),j=new o.TensorBuffer(i.shape,i.dtype,O),E=0;E<m;++E)for(var C=Math.max(0,Math.ceil((_-E)/p)),A=Math.min(h.outHeight,(h.inHeight+_-E)/p),S=0;S<g;++S)for(var D=Math.max(0,Math.ceil((x-S)/v)),N=Math.min(h.outWidth,(h.inWidth+x-S)/v),F=0;F<h.inChannels;++F)for(var T=0;T<h.outChannels;++T){for(var M=0,I=0;I<h.batchSize;++I)for(var R=C;R<A;++R)for(var P=E+R*p-_,B=D;B<N;++B){var z=S+B*v-x;M+=b?k.get(I,P,z,F)*j.get(I,R,B,T):k.get(I,F,P,z)*j.get(I,T,R,B)}y.set(M,E,S,F,T)}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};var Cd={kernelName:o.Conv2DBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,s=r.inputShape,c=r.strides,l=r.pad,f=r.dataFormat,d=r.dimRoundingMode;Ul([a,i],"conv2dBackpropInput");var h=o.util.computeStrides(i.shape),p=o.util.computeStrides(a.shape),v=o.backend_util.convertConv2DDataFormat(f),m=o.backend_util.computeConv2DInfo(s,i.shape,c,1,l,d,!1,v),g=new o.TensorBuffer(m.inShape,"float32"),b=g.values,y=n.data.get(a.dataId).values,x=n.data.get(i.dataId).values,_=Object(u.a)(h,3),w=_[0],O=_[1],k=_[2],j=m.batchSize,E=m.filterHeight,C=m.filterWidth,A=m.inChannels,S=m.inHeight,D=m.inWidth,N=m.outChannels,F=m.outHeight,T=m.outWidth,M=m.strideHeight,I=m.strideWidth;v=m.dataFormat;for(var R=E-1-m.padInfo.top,P=C-1-m.padInfo.left,B="channelsLast"===v,z=g.strides[0],L=B?g.strides[1]:g.strides[2],U=B?g.strides[2]:1,W=B?1:g.strides[1],V=p[0],q=B?p[1]:p[2],H=B?p[2]:1,G=B?1:p[1],K=0;K<j;++K)for(var $=0;$<A;++$)for(var X=0;X<S;++X)for(var Y=X-R,J=Math.max(0,Math.ceil(Y/M)),Q=Math.min(F,(E+Y)/M),Z=0;Z<D;++Z){for(var ee=Z-P,te=Math.max(0,Math.ceil(ee/I)),ne=Math.min(T,(C+ee)/I),re=0,ae=J;ae<Q;++ae)for(var ie=ae*M-Y,oe=te;oe<ne;++oe)for(var ue=V*K+q*ae+H*oe,se=w*(E-1-ie)+O*(C-1-(oe*I-ee))+k*$,ce=0;ce<N;++ce){re+=y[ue+G*ce]*x[se+ce]}b[z*K+L*X+U*Z+W*$]=re}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};var Ad={kernelName:o.Conv3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,u=r.strides,s=r.pad,c=r.dilations;Ul([a,i],"conv3d");for(var l=o.backend_util.computeConv3DInfo(a.shape,i.shape,u,c,s),f=l.filterDepth,d=l.filterHeight,h=l.filterWidth,p=l.dilationDepth,v=l.dilationHeight,m=l.dilationWidth,g=l.padInfo,b=g.front,y=g.left,x=g.top,_=new o.TensorBuffer(l.outShape,a.dtype),w=n.data.get(a.dataId).values,O=n.data.get(i.dataId).values,k=_.values,j=o.util.computeStrides(a.shape),E=o.util.computeStrides(i.shape),C=0;C<l.batchSize;++C)for(var A=C*j[0],S=C*_.strides[0],D=0;D<l.outDepth;++D)for(var N=S+D*_.strides[1],F=D*l.strideDepth-b,T=0;T<f;++T){var M=F+T*p;if(!(M<0||M>=l.inDepth))for(var I=T*E[0],R=A+M*j[1],P=0;P<l.outHeight;++P)for(var B=N+P*_.strides[2],z=P*l.strideHeight-x,L=0;L<d;++L){var U=z+L*v;if(!(U<0||U>=l.inHeight))for(var W=I+L*E[1],V=R+U*j[2],q=0;q<l.outWidth;++q)for(var H=B+q*l.outChannels,G=q*l.strideWidth-y,K=0;K<h;++K){var $=G+K*m;if(!($<0||$>=l.inWidth))for(var X=W+K*E[2],Y=V+$*l.inChannels,J=X,Q=0;Q<l.inChannels;++Q){for(var Z=w[Y+Q],ee=0;ee<l.outChannels;++ee)k[H+ee]+=Z*O[J+ee];J+=l.outChannels}}}}return n.makeTensorInfo(_.shape,_.dtype,_.values)}};var Sd={kernelName:o.Conv3DBackpropFilterV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,s=r.strides,c=r.pad,l=r.filterShape;Ul([a,i],"conv3dBackpropFilterV2");for(var f=o.util.computeStrides(a.shape),d=o.util.computeStrides(i.shape),h=o.backend_util.computeConv3DInfo(a.shape,l,s,1,c),p=h.strideDepth,v=h.strideHeight,m=h.strideWidth,g=h.filterDepth,b=h.filterHeight,y=h.filterWidth,x=new o.TensorBuffer(h.filterShape,"float32"),_=x.values,w=Object(u.a)(x.strides,4),O=w[0],k=w[1],j=w[2],E=w[3],C=n.data.get(i.dataId).values,A=Object(u.a)(d,4),S=A[0],D=A[1],N=A[2],F=A[3],T=n.data.get(a.dataId).values,M=Object(u.a)(f,4),I=M[0],R=M[1],P=M[2],B=M[3],z=h.padInfo.front,L=h.padInfo.left,U=h.padInfo.top,W=0;W<g;++W)for(var V=Math.max(0,Math.ceil((z-W)/p)),q=Math.min(h.outDepth,(h.inDepth+z-W)/p),H=W*O,G=0;G<b;++G)for(var K=Math.max(0,Math.ceil((U-G)/v)),$=Math.min(h.outHeight,(h.inHeight+U-G)/v),X=G*k+H,Y=0;Y<y;++Y)for(var J=Math.max(0,Math.ceil((L-Y)/m)),Q=Math.min(h.outWidth,(h.inWidth+L-Y)/m),Z=Y*j+X,ee=0;ee<h.inChannels;++ee)for(var te=ee*E+Z,ne=0;ne<h.outChannels;++ne){for(var re=0,ae=0;ae<h.batchSize;++ae)for(var ie=ae*I,oe=ae*S,ue=V;ue<q;++ue)for(var se=(W+ue*p-z)*R+ie,ce=ue*D+oe,le=K;le<$;++le)for(var fe=(G+le*v-U)*P+se,de=le*N+ce,he=J;he<Q;++he){var pe=he*F+de;re+=T[(Y+he*m-L)*B+fe+ee]*C[pe+ne]}_[te+ne]=re}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var Dd={kernelName:o.Conv3DBackpropInputV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,s=r.pad,c=r.strides,l=r.inputShape;Ul([a],"conv3dBackpropInputV2");for(var f=o.util.computeStrides(a.shape),d=o.util.computeStrides(i.shape),h=o.backend_util.computeConv3DInfo(l,i.shape,c,1,s),p=new o.TensorBuffer(h.inShape,"float32"),v=p.values,m=Object(u.a)(p.strides,4),g=m[0],b=m[1],y=m[2],x=m[3],_=n.data.get(a.dataId).values,w=Object(u.a)(f,4),O=w[0],k=w[1],j=w[2],E=w[3],C=n.data.get(i.dataId).values,A=Object(u.a)(d,4),S=A[0],D=A[1],N=A[2],F=A[3],T=h.batchSize,M=h.filterDepth,I=h.filterHeight,R=h.filterWidth,P=h.inChannels,B=h.inDepth,z=h.inHeight,L=h.inWidth,U=h.outChannels,W=h.outDepth,V=h.outHeight,q=h.outWidth,H=h.strideDepth,G=h.strideHeight,K=h.strideWidth,$=M-1-h.padInfo.front,X=I-1-h.padInfo.top,Y=R-1-h.padInfo.left,J=0;J<T;++J)for(var Q=0;Q<P;++Q)for(var Z=0;Z<B;++Z)for(var ee=Z-$,te=Math.max(0,Math.ceil(ee/H)),ne=Math.min(W,(M+ee)/H),re=0;re<z;++re)for(var ae=re-X,ie=Math.max(0,Math.ceil(ae/G)),oe=Math.min(V,(I+ae)/G),ue=0;ue<L;++ue){for(var se=ue-Y,ce=Math.max(0,Math.ceil(se/K)),le=Math.min(q,(R+se)/K),fe=0,de=te;de<ne;++de)for(var he=de*H-ee,pe=ie;pe<oe;++pe)for(var ve=pe*G-ae,me=ce;me<le;++me)for(var ge=O*J+k*de+j*pe+E*me,be=S*(M-1-he)+D*(I-1-ve)+N*(R-1-(me*K-se))+F*Q,ye=0;ye<U;++ye){fe+=_[ge+ye]*C[be+ye]}v[g*J+b*Z+y*re+x*ue+Q]=fe}return n.makeTensorInfo(p.shape,p.dtype,p.values)}},Nd=ql(o.Cos,(function(e){return Math.cos(e)})),Fd={kernelName:o.Cos,backendName:"cpu",kernelFunc:Nd},Td=ql(o.Cosh,(function(e){return Math.cosh(e)})),Md={kernelName:o.Cosh,backendName:"cpu",kernelFunc:Td};var Id={kernelName:o.CropAndResize,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=t.boxes,s=t.boxInd,c=r.cropSize,l=r.method,f=r.extrapolationValue,d=Object(u.a)(a.shape,4),h=d[0],p=d[1],v=d[2],m=d[3],g=i.shape[0],b=Object(u.a)(c,2),y=b[0],x=b[1],_=Object(o.buffer)([g,y,x,m],"float32"),w=n.data.get(i.dataId).values,O=n.data.get(s.dataId).values,k=n.data.get(a.dataId).values,j=o.util.computeStrides(a.shape),E=o.util.computeStrides(_.shape),C=0;C<g;C++){var A=4*C,S=w[A],D=w[A+1],N=w[A+2],F=w[A+3],T=O[C];if(!(T>=h))for(var M=y>1?(N-S)*(p-1)/(y-1):0,I=x>1?(F-D)*(v-1)/(x-1):0,R=0;R<y;R++){var P=y>1?S*(p-1)+R*M:.5*(S+N)*(p-1);if(P<0||P>p-1)for(var B=0;B<x;B++)for(var z=0;z<m;z++){var L=z+B*E[2]+R*E[1]+C*E[0];_.values[L]=f}else if("bilinear"===l)for(var U=Math.floor(P),W=Math.ceil(P),V=P-U,q=0;q<x;q++){var H=x>1?D*(v-1)+q*I:.5*(D+F)*(v-1);if(H<0||H>v-1)for(var G=0;G<m;G++){var K=G+q*E[2]+R*E[1]+C*E[0];_.values[K]=f}else for(var $=Math.floor(H),X=Math.ceil(H),Y=H-$,J=0;J<m;J++){var Q=J+$*j[2]+U*j[1]+T*j[0],Z=k[Q],ee=k[Q=J+X*j[2]+U*j[1]+T*j[0]],te=k[Q=J+$*j[2]+W*j[1]+T*j[0]],ne=Z+(ee-Z)*Y,re=te+(k[Q=J+X*j[2]+W*j[1]+T*j[0]]-te)*Y;Q=J+q*E[2]+R*E[1]+C*E[0],_.values[Q]=ne+(re-ne)*V}}else for(var ae=0;ae<x;++ae){var ie=x>1?D*(v-1)+ae*I:.5*(D+F)*(v-1);if(ie<0||ie>v-1)for(var oe=0;oe<m;oe++){var ue=oe+ae*E[2]+R*E[1]+C*E[0];_.values[ue]=f}else for(var se=Math.round(ie),ce=Math.round(P),le=0;le<m;le++){var fe=le+se*j[2]+ce*j[1]+T*j[0],de=le+ae*E[2]+R*E[1]+C*E[0];_.values[de]=k[fe]}}}}return n.makeTensorInfo(_.shape,_.dtype,_.values)}};var Rd={kernelName:o.Cumsum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,u=r.exclusive,s=r.reverse;Ul(a,"cumsum");var c=o.backend_util.getAxesPermutation([i],a.shape.length),l=a;null!=c&&(l=Mf({inputs:{x:a},backend:n,attrs:{perm:c}}));var f=o.backend_util.getInnerMostAxes(1,a.shape.length)[0];if(f!==l.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(f));for(var d=Object(o.upcastType)(l.dtype,"int32"),h=o.util.makeZerosTypedArray(o.util.sizeFromShape(l.shape),d),p=n.data.get(l.dataId).values,v=l.shape[l.shape.length-1],m=s?function(e,t){return e+v-t-1}:function(e,t){return e+t},g=0;g<p.length;g+=v)for(var b=0;b<v;b++){var y=m(g,b);if(0===b)h[y]=u?0:p[y];else{var x=m(g,b-1);h[y]=u?p[x]+h[x]:p[y]+h[x]}}var _=n.makeTensorInfo(l.shape,d,h);if(null!=c){var w=Mf({inputs:{x:_},backend:n,attrs:{perm:o.backend_util.getUndoAxesPermutation(c)}});return n.disposeIntermediateTensorInfo(_),n.disposeIntermediateTensorInfo(l),w}return _}};var Pd={kernelName:o.DenseBincount,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,u=r.binaryOutput;if(1===a.shape.length){var s=cd(n.data.get(a.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,s)}if(2===a.shape.length){var c=ld(n.bufferSync(a),n.bufferSync(i),o,u);return n.makeTensorInfo(c.shape,i.dtype,c.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}};var Bd={kernelName:o.DepthToSpace,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockSize,u=r.dataFormat;o.util.assert("NHWC"===u,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(u)})),o.util.assert(i>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(i)}));for(var s=a.shape[0],c=a.shape[1],l=a.shape[2],f=a.shape[3],d=c*i,h=l*i,p=f/(i*i),v=n.data.get(a.dataId).values,m=new Float32Array(s*d*h*p),g=0,b=0;b<s;++b)for(var y=0;y<d;++y)for(var x=Math.floor(y/i),_=y%i,w=0;w<h;++w)for(var O=Math.floor(w/i),k=(_*i+w%i)*p,j=0;j<p;++j){var E=j+k+f*(O+l*(x+c*b));m[g++]=v[E]}return n.makeTensorInfo([s,d,h,p],a.dtype,m)}};function zd(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,u=r.strides,s=r.pad,c=r.dilations,l=r.dimRoundingMode;Ul([a,i],"depthwiseConv2DNative");var f=o.util.computeStrides(a.shape),d=o.util.computeStrides(i.shape),h=c;null==h&&(h=[1,1]),o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(u,h),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(u," and dilations '").concat(h,"'")}));for(var p=o.backend_util.computeConv2DInfo(a.shape,i.shape,u,h,s,l,!0),v=p.filterHeight,m=p.filterWidth,g=p.dilationHeight,b=p.dilationWidth,y=p.padInfo,x=y.left,_=y.top,w=p.outChannels/p.inChannels,O=new o.TensorBuffer(p.outShape,a.dtype),k=n.data.get(a.dataId).values,j=n.data.get(i.dataId).values,E=O.values,C=0;C<p.batchSize;++C)for(var A=C*f[0],S=C*O.strides[0],D=0;D<p.outHeight;++D)for(var N=S+D*O.strides[1],F=D*p.strideHeight-x,T=0;T<v;++T){var M=F+T*g;if(!(M<0||M>=p.inHeight))for(var I=T*d[0],R=A+M*f[1],P=0;P<p.outWidth;++P)for(var B=N+P*O.strides[2],z=P*p.strideWidth-_,L=0;L<m;++L){var U=z+L*b;if(!(U<0||U>=p.inWidth))for(var W=I+L*d[1],V=R+U*p.inChannels,q=B,H=W,G=0;G<p.inChannels;++G){for(var K=k[V+G],$=0;$<w;++$)E[q+$]+=K*j[H+$];q+=w,H+=w}}}return n.makeTensorInfo(O.shape,O.dtype,O.values)}var Ld={kernelName:o.DepthwiseConv2dNative,backendName:"cpu",kernelFunc:zd};var Ud={kernelName:o.DepthwiseConv2dNativeBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,u=r.strides,s=r.dilations,c=r.pad,l=r.dimRoundingMode,f=r.filterShape;Ul([a,i],"depthwiseConv2dNativeBackpropFilter");for(var d=o.backend_util.computeConv2DInfo(a.shape,f,u,s,c,l,!0),h=d.strideHeight,p=d.strideWidth,v=d.filterHeight,m=d.filterWidth,g=new o.TensorBuffer(d.filterShape,"float32"),b=d.padInfo.left,y=d.padInfo.top,x=d.outChannels/d.inChannels,_=n.data.get(a.dataId).values,w=new o.TensorBuffer(a.shape,a.dtype,_),O=n.data.get(i.dataId).values,k=new o.TensorBuffer(i.shape,i.dtype,O),j=0;j<v;++j)for(var E=Math.max(0,Math.ceil((y-j)/h)),C=Math.min(d.outHeight,(d.inHeight+y-j)/h),A=0;A<m;++A)for(var S=Math.max(0,Math.ceil((b-A)/p)),D=Math.min(d.outWidth,(d.inWidth+b-A)/p),N=0;N<d.outChannels;++N){for(var F=Math.trunc(N/x),T=N%x,M=0,I=0;I<d.batchSize;++I)for(var R=E;R<C;++R)for(var P=j+R*h-y,B=S;B<D;++B){var z=A+B*p-b;M+=w.get(I,P,z,F)*k.get(I,R,B,N)}g.set(M,j,A,F,T)}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};var Wd={kernelName:o.DepthwiseConv2dNativeBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,s=r.strides,c=r.dilations,l=r.pad,f=r.dimRoundingMode,d=r.inputShape;Ul([a,i],"depthwiseConv2DNativeBackpropInput");for(var h=o.util.computeStrides(a.shape),p=o.util.computeStrides(i.shape),v=o.backend_util.computeConv2DInfo(d,i.shape,s,c,l,f,!0),m=new o.TensorBuffer(v.inShape,"float32"),g=m.values,b=Object(u.a)(m.strides,3),y=b[0],x=b[1],_=b[2],w=n.data.get(a.dataId).values,O=Object(u.a)(h,3),k=O[0],j=O[1],E=O[2],C=n.data.get(i.dataId).values,A=Object(u.a)(p,3),S=A[0],D=A[1],N=A[2],F=v.batchSize,T=v.filterHeight,M=v.filterWidth,I=v.inChannels,R=v.inHeight,P=v.inWidth,B=v.outChannels,z=v.outHeight,L=v.outWidth,U=v.strideHeight,W=v.strideWidth,V=T-1-v.padInfo.top,q=M-1-v.padInfo.left,H=B/I,G=0;G<F;++G)for(var K=0;K<I;++K)for(var $=0;$<R;++$)for(var X=$-V,Y=Math.max(0,Math.ceil(X/U)),J=Math.min(z,(T+X)/U),Q=0;Q<P;++Q){for(var Z=Q-q,ee=Math.max(0,Math.ceil(Z/W)),te=Math.min(L,(M+Z)/W),ne=0,re=Y;re<J;++re)for(var ae=re*U-X,ie=ee;ie<te;++ie)for(var oe=k*G+j*re+E*ie,ue=S*(T-1-ae)+D*(M-1-(ie*W-Z))+N*K,se=0;se<H;++se){ne+=w[oe+(K*H+se)]*C[ue+se]}g[y*G+x*$+_*Q+K]=ne}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};var Vd={kernelName:o.Diag,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=t.x,a=o.util.sizeFromShape(r.shape),i=n.data.get(r.dataId).values,u=Object(o.buffer)([a,a],r.dtype),s=u.values,c=0;c<i.length;c++)s[c*a+c]=i[c];var l=[].concat(Object(Fn.a)(r.shape),Object(Fn.a)(r.shape));return n.makeTensorInfo(l,u.dtype,u.values)}},qd={kernelName:o.Dilation2D,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,u=r.strides,s=r.pad,c=r.dilations,l=n,f=l.data.get(a.dataId).values,d=a.shape.length,h=l.data.get(i.dataId).values,p=i.shape.length,v=o.backend_util.computeDilation2DInfo(a.shape,i.shape,u,s,"NHWC",c),m=v.batchSize,g=v.inHeight,b=v.inWidth,y=v.inChannels,x=v.outHeight,_=v.outWidth,w=v.padInfo,O=v.strideHeight,k=v.strideWidth,j=v.filterHeight,E=v.filterWidth,C=v.dilationHeight,A=v.dilationWidth,S=v.outShape,D=o.util.sizeFromShape(S),N=S.length,F=o.util.getArrayFromDType(a.dtype,D),T=0;T<m;++T)for(var M=0;M<x;++M)for(var I=M*O-w.top,R=0;R<_;++R)for(var P=R*k-w.left,B=0;B<y;++B){for(var z=Number.MIN_SAFE_INTEGER,L=0;L<j;++L){var U=I+L*C;if(U>=0&&U<g)for(var W=0;W<E;++W){var V=P+W*A;if(V>=0&&V<b){var q=o.util.locToIndex([T,U,V,B],d,o.util.computeStrides(a.shape)),H=o.util.locToIndex([L,W,B],p,o.util.computeStrides(i.shape)),G=f[q]+h[H];G>z&&(z=G)}}}F[o.util.locToIndex([T,M,R,B],N,o.util.computeStrides(S))]=z}return{dataId:l.write(o.util.toTypedArray(F,a.dtype),S,a.dtype),shape:S,dtype:a.dtype}}},Hd={kernelName:o.Dilation2DBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,u=t.dy,s=r.strides,c=r.pad,l=r.dilations,f=n,d=o.util.toNestedArray(a.shape,f.data.get(a.dataId).values),h=o.util.toNestedArray(i.shape,f.data.get(i.dataId).values),p=o.backend_util.computeDilation2DInfo(a.shape,i.shape,s,c,"NHWC",l),v=p.batchSize,m=p.inHeight,g=p.inWidth,b=p.inChannels,y=p.outHeight,x=p.outWidth,_=p.padInfo,w=p.strideHeight,O=p.strideWidth,k=p.filterHeight,j=p.filterWidth,E=p.dilationHeight,C=p.dilationWidth,A=p.outShape;o.util.assert(u.rank===A.length,(function(){return"Error in ".concat(o.Dilation2DBackpropFilter,", dy ")+"must have the same rank as output ".concat(A.length,", but got ")+"".concat(u.rank)}));for(var S=o.util.toNestedArray(A,f.data.get(u.dataId).values),D=o.util.makeZerosNestedTypedArray(i.shape,i.dtype),N=0;N<v;++N)for(var F=0;F<y;++F)for(var T=F*w-_.top,M=0;M<x;++M)for(var I=M*O-_.left,R=0;R<b;++R){for(var P=Number.MIN_SAFE_INTEGER,B=0,z=0,L=0;L<k;++L){var U=T+L*E;if(U>=0&&U<m)for(var W=0;W<j;++W){var V=I+W*C;if(V>=0&&V<g){var q=d[N][U][V][R]+h[L][W][R];q>P&&(P=q,B=L,z=W)}}}D[B][z][R]+=S[N][F][M][R]}return{dataId:f.write(o.util.toTypedArray(D,a.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},Gd={kernelName:o.Dilation2DBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,u=t.dy,s=r.strides,c=r.pad,l=r.dilations,f=n,d=o.util.toNestedArray(a.shape,f.data.get(a.dataId).values),h=o.util.toNestedArray(i.shape,f.data.get(i.dataId).values),p=o.backend_util.computeDilation2DInfo(a.shape,i.shape,s,c,"NHWC",l),v=p.batchSize,m=p.inHeight,g=p.inWidth,b=p.inChannels,y=p.outHeight,x=p.outWidth,_=p.padInfo,w=p.strideHeight,O=p.strideWidth,k=p.filterHeight,j=p.filterWidth,E=p.dilationHeight,C=p.dilationWidth,A=p.outShape;o.util.assert(u.rank===A.length,(function(){return"Error in ".concat(o.Dilation2DBackpropInput,", dy ")+"must have the same rank as output ".concat(A.length,", but got ")+"".concat(u.rank)}));for(var S=o.util.toNestedArray(A,f.data.get(u.dataId).values),D=o.util.makeZerosNestedTypedArray(a.shape,a.dtype),N=0;N<v;++N)for(var F=0;F<y;++F)for(var T=F*w-_.top,M=0;M<x;++M)for(var I=M*O-_.left,R=0;R<b;++R){for(var P=Number.MIN_SAFE_INTEGER,B=T<0?0:T,z=I<0?0:I,L=0;L<k;++L){var U=T+L*E;if(U>=0&&U<m)for(var W=0;W<j;++W){var V=I+W*C;if(V>=0&&V<g){var q=d[N][U][V][R]+h[L][W][R];q>P&&(P=q,B=U,z=V)}}}D[N][B][z][R]+=S[N][F][M][R]}return{dataId:f.write(o.util.toTypedArray(D,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}};var Kd={kernelName:o.EluGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y;Ul([r,a],"eluGrad");for(var i=new Float32Array(o.util.sizeFromShape(a.shape)),u=n.data.get(a.dataId).values,s=n.data.get(r.dataId).values,c=0;c<u.length;++c){var l=u[c];i[c]=l>=1?s[c]:s[c]*(l+1)}return n.makeTensorInfo(a.shape,"float32",i)}},$d=Ql((function(e,t){return e===t?1:0})),Xd=vf(o.Equal,$d,null,"bool"),Yd={kernelName:o.Equal,backendName:"cpu",kernelFunc:Xd},Jd=o.backend_util.ERF_P,Qd=o.backend_util.ERF_A1,Zd=o.backend_util.ERF_A2,eh=o.backend_util.ERF_A3,th=o.backend_util.ERF_A4,nh=o.backend_util.ERF_A5,rh=ql(o.Erf,(function(e){var t=Math.sign(e),n=Math.abs(e),r=1/(1+Jd*n);return t*(1-((((nh*r+th)*r+eh)*r+Zd)*r+Qd)*r*Math.exp(-n*n))})),ah={kernelName:o.Erf,backendName:"cpu",kernelFunc:rh},ih=dd((function(e){return Math.exp(e)})),oh=Hl(o.Exp,ih),uh={kernelName:o.Exp,backendName:"cpu",kernelFunc:oh};function sh(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.input,i=r.dim,u=a.shape.length,s=a.shape.slice(),c=i;return i<0&&(o.util.assert(-(u+1)<=i,(function(){return"Axis must be in the interval [".concat(-(u+1),", ").concat(u,"]")})),c=u+i+1),s.splice(c,0,1),_f({inputs:{x:a},backend:n,attrs:{shape:s}})}var ch={kernelName:o.ExpandDims,backendName:"cpu",kernelFunc:sh},lh=dd((function(e){return Math.expm1(e)})),fh=Hl(o.Expm1,lh),dh={kernelName:o.Expm1,backendName:"cpu",kernelFunc:fh},hh=Ql((function(e,t){return e*t})),ph=mf((function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})),vh=vf(o.Multiply,hh,ph),mh={kernelName:o.Multiply,backendName:"cpu",kernelFunc:vh},gh=Ql((function(e,t){return e/t})),bh=vf(o.RealDiv,gh),yh={kernelName:o.RealDiv,backendName:"cpu",kernelFunc:bh},xh=Ql((function(e,t){return e-t})),_h=mf((function(e,t,n,r){return{real:e-n,imag:t-r}})),wh=vf(o.Sub,xh,_h),Oh={kernelName:o.Sub,backendName:"cpu",kernelFunc:wh};function kh(e,t,n){for(var r=e.shape,a=r[0],i=r[1],u=n.data.get(e.dataId),s=u.complexTensorInfos.real,c=u.complexTensorInfos.imag,l=[a,i],f=o.util.sizeFromShape(l),d=o.util.getTypedArrayFromDType("float32",f),h=o.util.getTypedArrayFromDType("float32",f),p=0;p<a;p++){for(var v=od({inputs:{x:s},backend:n,attrs:{begin:[p,0],size:[1,i]}}),m=od({inputs:{x:c},backend:n,attrs:{begin:[p,0],size:[1,i]}}),g=sf({inputs:{real:v,imag:m},backend:n}),b=jh(g,t,n),y=b.real,x=b.imag,_=o.backend_util.mergeRealAndImagArrays(y,x),w=0;w<i;w++){var O=o.backend_util.getComplexWithIndex(_,w);d[p*i+w]=O.real,h[p*i+w]=O.imag}n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g)}var k=n.makeTensorInfo(l,"float32",d),j=n.makeTensorInfo(l,"float32",h),E=sf({inputs:{real:k,imag:j},backend:n});return n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(j),E}function jh(e,t,n){var r=o.util.sizeFromShape(e.shape),a=n.data.get(e.dataId),i=n.data.get(a.complexTensorInfos.real.dataId).values,u=n.data.get(a.complexTensorInfos.imag.dataId).values;if(0===((b=r)&b-1)){var s=Eh(i,u,r,t,n),c=[e.shape[0],e.shape[1]];if(t){var l=n.makeTensorInfo(c,"float32",s.real),f=n.makeTensorInfo(c,"float32",s.imag),d=n.makeTensorInfo([],"float32",o.util.createScalarValue(r,"float32")),h=$l({inputs:{x:d},backend:n}),p=yh.kernelFunc({inputs:{a:l,b:d},backend:n}),v=yh.kernelFunc({inputs:{a:f,b:h},backend:n}),m=n.data.get(p.dataId).values,g=n.data.get(v.dataId).values;return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(v),{real:m,imag:g}}return s}var b,y=function(e,t,n){for(var r=new Float32Array(2*t),a=0;a<t;a++){for(var i=0,u=0,s=0;s<t;s++){var c=o.backend_util.exponent(a*s,t,n),l=o.backend_util.getComplexWithIndex(e,s);i+=l.real*c.real-l.imag*c.imag,u+=l.real*c.imag+l.imag*c.real}n&&(i/=t,u/=t),o.backend_util.assignToTypedArray(r,i,u,a)}return r}(o.backend_util.mergeRealAndImagArrays(i,u),r,t);return o.backend_util.splitRealAndImagArrays(y)}function Eh(e,t,n,r,a){if(1===n)return{real:e,imag:t};var i=o.backend_util.mergeRealAndImagArrays(e,t),u=n/2,s=o.backend_util.complexWithEvenIndex(i),c=s.real,l=s.imag,f=[c.length],d=a.makeTensorInfo(f,"float32",c),h=a.makeTensorInfo(f,"float32",l),p=sf({inputs:{real:d,imag:h},backend:a}),v=o.backend_util.complexWithOddIndex(i),m=v.real,g=v.imag,b=[m.length],y=a.makeTensorInfo(b,"float32",m),x=a.makeTensorInfo(b,"float32",g),_=sf({inputs:{real:y,imag:x},backend:a}),w=Eh(c,l,u,r,a),O=w.real,k=w.imag,j=[O.length],E=a.makeTensorInfo(j,"float32",O),C=a.makeTensorInfo(j,"float32",k),A=sf({inputs:{real:E,imag:C},backend:a}),S=Eh(m,g,u,r,a),D=S.real,N=S.imag,F=[D.length],T=a.makeTensorInfo(F,"float32",D),M=a.makeTensorInfo(F,"float32",N),I=sf({inputs:{real:T,imag:M},backend:a}),R=o.backend_util.exponents(n,r),P=[R.real.length],B=a.makeTensorInfo(P,"float32",R.real),z=a.makeTensorInfo(P,"float32",R.imag),L=sf({inputs:{real:B,imag:z},backend:a}),U=vh({inputs:{a:L,b:I},backend:a}),W=yf({inputs:{a:A,b:U},backend:a}),V=wh({inputs:{a:A,b:U},backend:a}),q=ff({inputs:{input:W},backend:a}),H=ff({inputs:{input:V},backend:a}),G=xd({inputs:{input:W},backend:a}),K=xd({inputs:{input:V},backend:a}),$=wd({inputs:[q,H],backend:a,attrs:{axis:0}}),X=wd({inputs:[G,K],backend:a,attrs:{axis:0}}),Y=a.data.get($.dataId).values,J=a.data.get(X.dataId).values;return a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(y),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(_),a.disposeIntermediateTensorInfo(E),a.disposeIntermediateTensorInfo(C),a.disposeIntermediateTensorInfo(A),a.disposeIntermediateTensorInfo(T),a.disposeIntermediateTensorInfo(M),a.disposeIntermediateTensorInfo(I),a.disposeIntermediateTensorInfo(B),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(L),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(W),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(q),a.disposeIntermediateTensorInfo(G),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(K),a.disposeIntermediateTensorInfo($),a.disposeIntermediateTensorInfo(X),{real:Y,imag:J}}var Ch={kernelName:o.FFT,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=o.util.sizeFromShape(r.shape),i=r.shape[r.shape.length-1],u=_f({inputs:{x:r},backend:n,attrs:{shape:[a/i,i]}}),s=kh(u,!1,n),c=_f({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(s),c}};function Ah(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,i=n.dtype||o.util.inferDtype(a),u=o.util.getArrayFromDType(i,o.util.sizeFromShape(r));return function(e,t,n){e.fill(t)}(u,a),t.makeTensorInfo(r,i,u)}var Sh={kernelName:o.Fill,backendName:"cpu",kernelFunc:Ah};var Dh={kernelName:o.FlipLeftRight,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=(e.attrs,e.backend),r=t.image,a=n,i=o.util.getTypedArrayFromDType(r.dtype,o.util.sizeFromShape(r.shape)),s=Object(u.a)(r.shape,4),c=s[0],l=s[1],f=s[2],d=s[3],h=a.data.get(r.dataId).values,p=0;p<c;p++)for(var v=p*f*l*d,m=0;m<l;m++)for(var g=m*(f*d),b=0;b<f;b++)for(var y=b*d,x=0;x<d;x++){var _=[c,m,b,x][2],w=Math.round(f-_),O=v+g+y+x,k=h[O];if(w>=0&&w<f)k=h[v+g+w*d+x];i[O]=k}return{dataId:a.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},Nh=dd((function(e){return Math.floor(e)})),Fh=Hl(o.Floor,Nh),Th={kernelName:o.Floor,backendName:"cpu",kernelFunc:Fh},Mh=Ql((function(e,t){return Math.floor(e/t)})),Ih=vf(o.FloorDiv,Mh,null,"int32"),Rh={kernelName:o.FloorDiv,backendName:"cpu",kernelFunc:Ih};var Ph={kernelName:o.FusedConv2D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,u=t.preluActivationWeights,s=r.strides,c=r.pad,l=r.dataFormat,f=r.dilations,d=r.dimRoundingMode,h=r.activation,p=r.leakyreluAlpha,v=kd({inputs:{x:a,filter:i},backend:n,attrs:{strides:s,pad:c,dataFormat:l,dilations:f,dimRoundingMode:d}});if(o){var m=v;v=yf({inputs:{a:v,b:o},backend:n}),n.disposeIntermediateTensorInfo(m)}if(h){var g=v;v=uf(n,v,h,u,p),n.disposeIntermediateTensorInfo(g)}return v}};var Bh={kernelName:o.FusedDepthwiseConv2D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,u=t.preluActivationWeights,s=r.strides,c=r.pad,l=r.dataFormat,f=r.dilations,d=r.dimRoundingMode,h=r.activation,p=r.leakyreluAlpha,v=zd({inputs:{x:a,filter:i},backend:n,attrs:{strides:s,pad:c,dataFormat:l,dilations:f,dimRoundingMode:d}});if(o){var m=v;v=yf({inputs:{a:v,b:o},backend:n}),n.disposeIntermediateTensorInfo(m)}if(h){var g=v;v=uf(n,v,h,u,p),n.disposeIntermediateTensorInfo(g)}return v}};var zh={kernelName:o.GatherNd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,i=o.util.sizeFromShape(r.shape),s=a.shape,c=s[s.length-1],l=o.backend_util.prepareAndValidate(r,a),f=Object(u.a)(l,4),d=f[0],h=f[1],p=f[2],v=f[3];if(0===h)return n.makeTensorInfo(d,r.dtype,[]);for(var m=Object(o.buffer)([h,p],r.dtype),g=n.data.get(a.dataId).values,b=n.data.get(r.dataId).values,y=0;y<h;y++){for(var x=[],_=0,w=0;w<c;w++){var O=g[y*c+w];_+=O*v[w],x.push(O)}if(_<0||_>=i/p)throw new Error("Invalid indices: ".concat(x," does not index into ").concat(r.shape));for(var k=0;k<p;k++)m.values[y*p+k]=b[_*p+k]}return n.makeTensorInfo(d,m.dtype,m.values)}};function Lh(e,t,n){for(var r=Object(o.buffer)(n,e.dtype),a=0;a<r.size;++a){var i=r.indexToLoc(a).slice(),u=i[0],s=i[2],c=t.locToIndex([u,s]);i[2]=t.values[c];var l=e.locToIndex(i);r.values[a]=e.values[l]}return r}var Uh={kernelName:o.GatherV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.indices,u=r.axis,s=r.batchDims;Ul([a,i],"gatherV2");var c=s;null==s&&(c=0);var l=o.util.sizeFromShape(i.shape),f=o.util.parseAxisParam(u,a.shape)[0],d=o.backend_util.segment_util.collectGatherOpShapeInfo(a,i,f,c),h=_f({inputs:{x:a},backend:n,attrs:{shape:[d.batchSize,d.outerSize,d.dimSize,d.sliceSize]}}),p=_f({inputs:{x:i},backend:n,attrs:{shape:[d.batchSize,l/d.batchSize]}}),v=[d.batchSize,d.outerSize,l/d.batchSize,d.sliceSize],m=n.bufferSync(p),g=Lh(n.bufferSync(h),m,v);return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.makeTensorInfo(d.outputShape,g.dtype,g.values)}},Wh=Ql((function(e,t){return e>t?1:0})),Vh=vf(o.Greater,Wh,null,"bool"),qh={kernelName:o.Greater,backendName:"cpu",kernelFunc:Vh},Hh=Ql((function(e,t){return e>=t?1:0})),Gh=vf(o.GreaterEqual,Hh,null,"bool"),Kh={kernelName:o.GreaterEqual,backendName:"cpu",kernelFunc:Gh};var $h={kernelName:o.IFFT,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=o.util.sizeFromShape(r.shape),i=r.shape[r.shape.length-1],u=_f({inputs:{x:r},backend:n,attrs:{shape:[a/i,i]}}),s=kh(u,!0,n),c=_f({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(s),c}},Xh=ql(o.IsFinite,(function(e){return Number.isFinite(e)?1:0}),"bool"),Yh={kernelName:o.IsFinite,backendName:"cpu",kernelFunc:Xh},Jh=ql(o.IsInf,(function(e){return Math.abs(e)===1/0?1:0}),"bool"),Qh={kernelName:o.IsInf,backendName:"cpu",kernelFunc:Jh},Zh=ql(o.IsNan,(function(e){return Number.isNaN(e)?1:0}),"bool"),ep={kernelName:o.IsNan,backendName:"cpu",kernelFunc:Zh},tp=Ql((function(e,t){return e<t?1:0})),np=vf(o.Less,tp,null,"bool"),rp={kernelName:o.Less,backendName:"cpu",kernelFunc:np},ap=Ql((function(e,t){return e<=t?1:0})),ip=vf(o.LessEqual,ap,null,"bool"),op={kernelName:o.LessEqual,backendName:"cpu",kernelFunc:ip};function up(e,t,n){var r=(t-e)/(n-1),a=o.util.makeZerosTypedArray(n,"float32");a[0]=e;for(var i=1;i<a.length;i++)a[i]=a[i-1]+r;return a}var sp={kernelName:o.LinSpace,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=up(n.start,n.stop,n.num);return t.makeTensorInfo([r.length],"float32",r)}},cp=dd((function(e){return Math.log(e)})),lp=Hl(o.Log,cp),fp={kernelName:o.Log,backendName:"cpu",kernelFunc:lp},dp=ql(o.Log1p,(function(e){return Math.log1p(e)})),hp={kernelName:o.Log1p,backendName:"cpu",kernelFunc:dp},pp=Ql((function(e,t){return e&&t})),vp=vf(o.LogicalAnd,pp,null,"bool"),mp={kernelName:o.LogicalAnd,backendName:"cpu",kernelFunc:vp},gp=ql(o.LogicalNot,(function(e){return e?0:1}),"bool"),bp={kernelName:o.LogicalNot,backendName:"cpu",kernelFunc:gp},yp=Ql((function(e,t){return e||t})),xp=vf(o.LogicalOr,yp,null,"bool"),_p={kernelName:o.LogicalOr,backendName:"cpu",kernelFunc:xp};var wp={kernelName:o.LRN,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.depthRadius,u=r.bias,s=r.alpha,c=r.beta;Ul(a,"LRN");var l=a.shape[3],f=l-1,d=n.data.get(a.dataId).values,h=o.util.sizeFromShape(a.shape),p=new Float32Array(h);function v(e){for(var t=e%l,n=e-t+Math.max(0,t-i),r=e-t+Math.min(t+i,f),a=0;n<=r;n++){var o=d[n];a+=o*o}return a}for(var m=0;m<h;m++){var g=v(m),b=d[m]*Math.pow(u+s*g,-c);p[m]=b}return n.makeTensorInfo(a.shape,a.dtype,p)}};var Op={kernelName:o.LRNGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.y,u=t.dy,s=r.depthRadius,c=r.bias,l=r.alpha,f=r.beta;Ul(u,"LRNGrad");for(var d=o.util.sizeFromShape(u.shape),h=u.shape[3],p=n.data.get(u.dataId).values,v=n.data.get(a.dataId).values,m=n.data.get(i.dataId).values,g=new Float32Array(d),b=d,y=0;y<b;y++){for(var x=y%h,_=y-x+Math.max(0,x-s),w=y-x+Math.min(h,x+s+1),O=0,k=_;k<w;k++)O+=Math.pow(v[k],2);O=l*O+c;for(var j=_;j<w;j++){var E=-2*l*f*v[j]*m[y]/O;y===j&&(E+=Math.pow(O,-f)),E*=p[y],g[j]+=E}}return n.makeTensorInfo(u.shape,a.dtype,g)}};function kp(e,t,n,r){for(var a=o.util.getTypedArrayFromDType(r,o.util.sizeFromShape(n)),i=0;i<a.length;++i){for(var u=i*t,s=e[u],c=0;c<t;++c){var l=e[u+c];l>s&&(s=l)}a[i]=s}return a}function jp(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reductionIndices,s=r.keepDims,c=n,l=a.shape,f=l.length,d=o.util.parseAxisParam(i,l),h=d,p=o.backend_util.getAxesPermutation(h,f),v=c.data.get(a.dataId).values;if(null!=p){for(var m=new Array(f),g=0;g<m.length;g++)m[g]=l[p[g]];v=Tf(v,l,a.dtype,p,m),h=o.backend_util.getInnerMostAxes(h.length,f),l=m}Ul(a,"max"),o.backend_util.assertAxesAreInnerMostDims("max",h,f);var b=o.backend_util.computeOutAndReduceShapes(l,h),y=Object(u.a)(b,2),x=y[0],_=y[1],w=kp(v,o.util.sizeFromShape(_),x,a.dtype),O=c.write(w,x,a.dtype),k=x;s&&(k=o.backend_util.expandShapeToKeepDim(x,d));return{dataId:O,shape:k,dtype:a.dtype}}var Ep={kernelName:o.Max,backendName:"cpu",kernelFunc:jp},Cp=Ql((function(e,t){return Math.max(e,t)})),Ap=vf(o.Maximum,Cp),Sp={kernelName:o.Maximum,backendName:"cpu",kernelFunc:Ap};var Dp={kernelName:o.MaxPool,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;Ul(a,"maxPool");var i=r.filterSize,u=r.strides,s=r.pad,c=r.dimRoundingMode;o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(u,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(u," and dilations '").concat(1,"'")}));var l,f=o.backend_util.computePool2DInfo(a.shape,i,u,1,s,c);if(1===f.filterWidth&&1===f.filterHeight&&o.util.arraysEqual(f.inShape,f.outShape))l=$l({inputs:{x:a},backend:n});else{var d=n.data.get(a.dataId).values,h=o.util.computeStrides(a.shape),p=Jf(d,a.shape,a.dtype,h,f,"max");l=n.makeTensorInfo(f.outShape,a.dtype,p.values)}return l}};var Np={kernelName:o.MaxPool3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,u=r.strides,s=r.pad,c=r.dimRoundingMode,l=r.dataFormat;Ul(a,"maxPool3d");var f=o.backend_util.computePool3DInfo(a.shape,i,u,1,s,c,l),d=Zf(n.data.get(a.dataId).values,a.shape,a.dtype,o.util.computeStrides(a.shape),f,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}};var Fp={kernelName:o.MaxPool3DGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,u=r.filterSize,s=r.strides,c=r.pad,l=r.dimRoundingMode;Ul([a,i],"maxPool3DGrad");for(var f=o.backend_util.computePool3DInfo(i.shape,u,s,1,c,l),d=function(e,t){for(var n=Object(o.buffer)(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,i=t.strideWidth,u=t.dilationDepth,s=t.dilationHeight,c=t.dilationWidth,l=t.effectiveFilterDepth,f=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.front,p=t.padInfo.top,v=t.padInfo.left,m=0;m<t.batchSize;++m)for(var g=0;g<t.inChannels;++g)for(var b=0;b<t.outDepth;++b){for(var y=b*r-h,x=y;x<0;)x+=u;for(var _=Math.min(t.inDepth,l+y),w=0;w<t.outHeight;++w){for(var O=w*a-p,k=O;k<0;)k+=s;for(var j=Math.min(t.inHeight,f+O),E=0;E<t.outWidth;++E){for(var C=E*i-v,A=C;A<0;)A+=c;for(var S=Math.min(t.inWidth,d+C),D=Number.NEGATIVE_INFINITY,N=-1,F=x;F<_;F+=u)for(var T=F-y,M=k;M<j;M+=s)for(var I=M-O,R=A;R<S;R+=c){var P=R-C,B=e.get(m,F,M,R,g);B>=D&&(D=B,N=T*f*d+I*f+P)}n.set(N,m,b,w,E,g)}}}return n}(n.bufferSync(i),f),h=f.strideDepth,p=f.strideHeight,v=f.strideWidth,m=f.dilationDepth,g=f.dilationHeight,b=f.dilationWidth,y=f.effectiveFilterDepth,x=f.effectiveFilterHeight,_=f.effectiveFilterWidth,w=y-1-f.padInfo.front,O=_-1-f.padInfo.left,k=x-1-f.padInfo.top,j=Object(o.buffer)(i.shape,"float32"),E=n.bufferSync(a),C=0;C<f.batchSize;++C)for(var A=0;A<f.inChannels;++A)for(var S=0;S<f.inDepth;++S)for(var D=0;D<f.inHeight;++D)for(var N=0;N<f.inWidth;++N){for(var F=S-w,T=D-k,M=N-O,I=0,R=0;R<y;R+=m){var P=(F+R)/h;if(!(P<0||P>=f.outDepth||Math.floor(P)!==P))for(var B=0;B<x;B+=g){var z=(T+B)/p;if(!(z<0||z>=f.outHeight||Math.floor(z)!==z))for(var L=0;L<_;L+=b){var U=(M+L)/v;if(!(U<0||U>=f.outWidth||Math.floor(U)!==U)){var W=y*x*_-1-d.get(C,P,z,U,A)===R*x*_+B*_+L?1:0;if(0!==W)I+=E.get(C,P,z,U,A)*W}}}}j.set(I,C,S,D,N,A)}return n.makeTensorInfo(j.shape,j.dtype,j.values)}};var Tp={kernelName:o.MaxPoolGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,u=i;Ul([i,t.output],"maxPoolGrad");for(var s=r.filterSize,c=r.strides,l=r.pad,f=r.dimRoundingMode,d=o.backend_util.computePool2DInfo(u.shape,s,c,1,l,f),h=n.data.get(u.dataId).values,p=Object(o.buffer)(d.outShape,u.dtype,Qf(h,u.shape,u.dtype,d).values),v=d.strideHeight,m=d.strideWidth,g=d.dilationHeight,b=d.dilationWidth,y=d.effectiveFilterHeight,x=d.effectiveFilterWidth,_=x-1-d.padInfo.left,w=y-1-d.padInfo.top,O=Object(o.buffer)(u.shape,"float32"),k=n.data.get(a.dataId).values,j=Object(o.buffer)(a.shape,"float32",k),E=0;E<d.batchSize;++E)for(var C=0;C<d.inChannels;++C)for(var A=0;A<d.inHeight;++A)for(var S=0;S<d.inWidth;++S){for(var D=A-w,N=S-_,F=0,T=0;T<y;T+=g){var M=(D+T)/v;if(!(M<0||M>=d.outHeight||Math.floor(M)!==M))for(var I=0;I<x;I+=b){var R=(N+I)/m;if(!(R<0||R>=d.outWidth||Math.floor(R)!==R)){var P=y*x-1-p.get(E,M,R,C)===T*x+I?1:0;if(0!==P)F+=j.get(E,M,R,C)*P}}}O.set(F,E,A,S,C)}return n.makeTensorInfo(O.shape,O.dtype,O.values)}};var Mp={kernelName:o.MaxPoolWithArgmax,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.filterSize,s=n.strides,c=n.pad,l=n.includeBatchInIndex,f=r;Ul(a,"MaxPoolWithArgmax");var d=f.data.get(a.dataId).values,h=o.backend_util.computePool2DInfo(a.shape,i,s,[1,1],c),p=function(e,t,n,r,a){var i=Jf(e,0,n,o.util.computeStrides(t),a,"max"),u=Qf(e,t,n,a,!0,r);return[i.values,u.values]}(d,a.shape,a.dtype,l,h),v=Object(u.a)(p,2),m=v[0],g=v[1],b=f.write(m,h.outShape,a.dtype),y=f.write(g,h.outShape,a.dtype);return[{dataId:b,shape:h.outShape,dtype:a.dtype},{dataId:y,shape:h.outShape,dtype:"int32"}]}};function Ip(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,s=a.axis,c=a.keepDims;Ul(i,"sum");var l=(t="bool"===i.dtype?hf({inputs:{x:i},backend:r,attrs:{dtype:"int32"}}):$l({inputs:{x:i},backend:r})).shape.length,f=o.util.parseAxisParam(s,t.shape),d=o.backend_util.getAxesPermutation(f,l),h=f,p=t;null!=d&&(p=Mf({inputs:{x:t},backend:r,attrs:{perm:d}}),h=o.backend_util.getInnerMostAxes(h.length,l)),o.backend_util.assertAxesAreInnerMostDims("sum",h,p.shape.length);for(var v=o.backend_util.computeOutAndReduceShapes(p.shape,h),m=Object(u.a)(v,2),g=m[0],b=m[1],y=lf(r,g,o.backend_util.upcastType(p.dtype,"int32")),x=o.util.sizeFromShape(b),_=r.data.get(y.dataId).values,w=r.data.get(p.dataId).values,O=0;O<_.length;++O){for(var k=O*x,j=0,E=0;E<x;++E)j+=w[k+E];_[O]=j}if(c){var C=y;y=_f({inputs:{x:y},backend:r,attrs:{shape:o.backend_util.expandShapeToKeepDim(y.shape,f)}}),r.disposeIntermediateTensorInfo(C)}return r.disposeIntermediateTensorInfo(t),null!=d&&r.disposeIntermediateTensorInfo(p),y}var Rp={kernelName:o.Sum,backendName:"cpu",kernelFunc:Ip};var Pp={kernelName:o.Mean,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,u=r.keepDims,s=o.util.parseAxisParam(i,a.shape),c=o.backend_util.computeOutAndReduceShapes(a.shape,s)[1],l=o.util.sizeFromShape(c),f=[],d=n.makeTensorInfo([],"float32",new Float32Array([l]));f.push(d);var h=hf({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});f.push(h);var p=bh({inputs:{a:h,b:d},backend:n});f.push(p);var v=Ip({inputs:{x:p},backend:n,attrs:{axis:i,keepDims:u}});return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),v}};var Bp={kernelName:o.Min,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,s=r.keepDims;Ul(a,"min");var c=o.util.parseAxisParam(i,a.shape),l=c,f=o.backend_util.getAxesPermutation(l,a.shape.length),d=a;null!=f&&(d=Mf({inputs:{x:a},backend:n,attrs:{perm:f}}),l=o.backend_util.getInnerMostAxes(l.length,a.shape.length)),o.backend_util.assertAxesAreInnerMostDims("min",l,d.shape.length);for(var h=o.backend_util.computeOutAndReduceShapes(d.shape,l),p=Object(u.a)(h,2),v=p[0],m=p[1],g=o.util.sizeFromShape(m),b=o.util.makeZerosTypedArray(o.util.sizeFromShape(v),d.dtype),y=n.data.get(d.dataId).values,x=0;x<b.length;++x){for(var _=x*g,w=y[_],O=0;O<g;++O){var k=y[_+O];k<w&&(w=k)}b[x]=w}null!=f&&n.disposeIntermediateTensorInfo(d);var j=n.makeTensorInfo(v,d.dtype,b);if(s){var E=_f({inputs:{x:j},backend:n,attrs:{shape:o.backend_util.expandShapeToKeepDim(v,c)}});return n.disposeIntermediateTensorInfo(j),E}return j}},zp=Ql((function(e,t){return Math.min(e,t)})),Lp=vf(o.Minimum,zp),Up={kernelName:o.Minimum,backendName:"cpu",kernelFunc:Lp};var Wp={kernelName:o.MirrorPad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,u=r.mode;Ul(a,"mirrorPad");for(var s=i.map((function(e,t){return e[0]+a.shape[t]+e[1]})),c=i.map((function(e){return e[0]})),l=i.map((function(e,t){return e[0]+a.shape[t]})),f="reflect"===u?0:1,d=n.data.get(a.dataId).values,h=a.shape.length,p=o.util.computeStrides(a.shape),v=o.util.sizeFromShape(s),m=s.length,g=o.util.computeStrides(s),b=o.util.getTypedArrayFromDType(a.dtype,v),y=0;y<v;y++){for(var x=o.util.indexToLoc(y,m,g),_=0;_<m;_++)x[_]<c[_]?x[_]=2*c[_]-x[_]-f:x[_]>=l[_]&&(x[_]=2*(l[_]-1)-x[_]+f);x=x.map((function(e,t){return e-c[t]}));var w=o.util.locToIndex(x,h,p);b[y]=d[w]}return{dataId:n.write(b,s,a.dtype),shape:s,dtype:a.dtype}}},Vp=Ql((function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),qp=vf(o.Mod,Vp),Hp={kernelName:o.Mod,backendName:"cpu",kernelFunc:qp};function Gp(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.dim,u=a.shape.length,s=i;if(-1===s&&(s=u-1),s!==u-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(u," and dim was ").concat(s));var c=o.util.parseAxisParam([s],a.shape),l=jp({inputs:{x:a},backend:n,attrs:{reductionIndices:c,keepDims:!1}}),f=o.backend_util.expandShapeToKeepDim(l.shape,c),d=_f({inputs:{x:l},backend:n,attrs:{shape:f}}),h=wh({inputs:{a:a,b:d},backend:n}),p=oh({inputs:{x:h},backend:n}),v=Ip({inputs:{x:p},backend:n,attrs:{axis:c,keepDims:!1}}),m=_f({inputs:{x:v},backend:n,attrs:{shape:f}}),g=bh({inputs:{a:p,b:m},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),g}var Kp={kernelName:o.Softmax,backendName:"cpu",kernelFunc:Gp};var $p={kernelName:o.Multinomial,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.numSamples,u=r.seed,s=r.normalized;Ul(a,"multinomial");for(var c=s?a:Gp({inputs:{logits:a},backend:n,attrs:{dim:-1}}),l=c.shape[0],f=c.shape[1],d=n.data.get(c.dataId).values,h=[l,i],p=o.util.makeZerosTypedArray(o.util.sizeFromShape(h),"int32"),v=0;v<l;++v){var m=v*f,g=new Float32Array(f-1);g[0]=d[m];for(var b=1;b<g.length;++b)g[b]=g[b-1]+d[m+b];for(var y=ul.alea(u.toString()),x=v*i,_=0;_<i;++_){var w=y();p[x+_]=g.length;for(var O=0;O<g.length;O++)if(w<g[O]){p[x+_]=O;break}}}return s||n.disposeIntermediateTensorInfo(c),n.makeTensorInfo(h,"int32",p)}};function Xp(e,t,n){var r=o.util.createScalarValue(-1,n);return hh([],t,r,e,n)}var Yp={kernelName:o.Neg,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x;Ul(r,"neg");var a=Xp(n.data.get(r.dataId).values,r.shape,r.dtype),i=Object(u.a)(a,2),o=i[0],s=i[1];return n.makeTensorInfo(s,r.dtype,o)}},Jp=o.kernel_impls.nonMaxSuppressionV3Impl;var Qp={kernelName:o.NonMaxSuppressionV3,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,u=r.iouThreshold,s=r.scoreThreshold;Ul(a,"NonMaxSuppression");var c=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,f=Jp(c,l,o,u,s).selectedIndices;return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}},Zp=o.kernel_impls.nonMaxSuppressionV4Impl;var ev={kernelName:o.NonMaxSuppressionV4,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,u=r.iouThreshold,s=r.scoreThreshold,c=r.padToMaxOutputSize;Ul(a,"NonMaxSuppressionPadded");var l=n.data.get(a.dataId).values,f=n.data.get(i.dataId).values,d=Zp(l,f,o,u,s,c),h=d.selectedIndices,p=d.validOutputs;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},tv=o.kernel_impls.nonMaxSuppressionV5Impl;var nv={kernelName:o.NonMaxSuppressionV5,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,u=r.iouThreshold,s=r.scoreThreshold,c=r.softNmsSigma;Ul(a,"NonMaxSuppressionWithScore");var l=n.data.get(a.dataId).values,f=n.data.get(i.dataId).values,d=tv(l,f,o,u,s,c),h=d.selectedIndices,p=d.selectedScores;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([p.length],"float32",new Float32Array(p))]}},rv=Ql((function(e,t){return e!==t?1:0})),av=vf(o.NotEqual,rv,null,"bool"),iv={kernelName:o.NotEqual,backendName:"cpu",kernelFunc:av};var ov={kernelName:o.OneHot,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=r.depth,u=r.onValue,s=r.offValue;Ul(a,"oneHot");var c=o.util.sizeFromShape(a.shape),l=new Float32Array(c*i);l.fill(s);for(var f=n.data.get(a.dataId).values,d=0;d<c;++d)f[d]>=0&&f[d]<i&&(l[d*i+f[d]]=u);return n.makeTensorInfo([].concat(Object(Fn.a)(a.shape),[i]),"int32",l)}};function uv(e){var t=e.inputs,n=e.backend,r=t.x;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){var a=ff({inputs:{input:r},backend:n}),i=uv({inputs:{x:a},backend:n}),o=xd({inputs:{input:r},backend:n}),u=uv({inputs:{x:o},backend:n}),s=sf({inputs:{real:i,imag:u},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(u),s}return Ah({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}var sv={kernelName:o.ZerosLike,backendName:"cpu",kernelFunc:uv};var cv={kernelName:o.OnesLike,backendName:"cpu",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===a.dtype){var i=ff({inputs:{input:a},backend:r}),o=e({inputs:{x:i},backend:r}),u=xd({inputs:{input:a},backend:r}),s=uv({inputs:{x:u},backend:r}),c=sf({inputs:{real:o,imag:s},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(u),r.disposeIntermediateTensorInfo(s),c}return Ah({backend:r,attrs:{shape:a.shape,value:1,dtype:a.dtype}})}};function lv(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return sh({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,i=t[0].dtype;t.forEach((function(e){o.util.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),o.util.assert(i===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var u=[],s=wd({inputs:t.map((function(e){var t=sh({inputs:{input:e},backend:n,attrs:{dim:r}});return u.push(t),t})),backend:n,attrs:{axis:r}});return u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),s}var fv={kernelName:o.Pack,backendName:"cpu",kernelFunc:lv};var dv={kernelName:o.PadV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,u=r.constantValue;Ul(a,"pad");var s=i.map((function(e,t){return e[0]+a.shape[t]+e[1]})),c=i.map((function(e){return e[0]})),l=n.data.get(a.dataId).values,f=o.util.sizeFromShape(a.shape),d=a.shape.length,h=o.util.computeStrides(a.shape),p=o.util.sizeFromShape(s),v=s.length,m=o.util.computeStrides(s),g=o.util.getTypedArrayFromDType(a.dtype,p);0!==u&&g.fill(u);for(var b=0;b<f;b++){var y=o.util.indexToLoc(b,d,h).map((function(e,t){return e+c[t]}));g[o.util.locToIndex(y,v,m)]=l[b]}return{dataId:n.write(g,s,a.dtype),shape:s,dtype:a.dtype}}},hv=Ql((function(e,t){return Math.pow(e,t)})),pv=vf(o.Pow,hv),vv={kernelName:o.Pow,backendName:"cpu",kernelFunc:pv};function mv(e,t,n,r){for(var a=o.backend_util.computeOutAndReduceShapes(e,r),i=Object(u.a)(a,2),s=i[0],c=i[1],l=Object(o.upcastType)(t,"int32"),f=o.util.makeZerosTypedArray(o.util.sizeFromShape(s),l),d=o.util.sizeFromShape(c),h=0;h<f.length;++h){for(var p=h*d,v=1,m=0;m<d;++m)v*=n[p+m];f[h]=v}return{outVals:f,outShape:s,outDtype:l}}var gv={kernelName:o.Prod,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,u=r.keepDims;Ul(a,"prod");var s=a.shape.length,c=o.util.parseAxisParam(i,a.shape),l=o.backend_util.getAxesPermutation(c,s),f=c,d=a,h=[];null!=l&&(d=Mf({inputs:{x:a},backend:n,attrs:{perm:l}}),h.push(d),f=o.backend_util.getInnerMostAxes(f.length,s));var p=n.data.get(d.dataId).values,v=mv(d.shape,d.dtype,p,f),m=v.outVals,g=v.outShape,b=v.outDtype,y=g;return u&&(y=o.backend_util.expandShapeToKeepDim(g,c)),h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(y,b,m)}};function bv(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return o.util.makeZerosTypedArray(0,r);var a=Math.abs(Math.ceil((t-e)/n)),i=o.util.makeZerosTypedArray(a,r);t<e&&1===n&&(n=-1),i[0]=e;for(var u=1;u<i.length;u++)i[u]=i[u-1]+n;return i}var yv={kernelName:o.Range,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.dtype,o=bv(r,a,n.step,i);return t.makeTensorInfo([o.length],i,o)}},xv=ql(o.Reciprocal,(function(e){return 1/e})),_v={kernelName:o.Reciprocal,backendName:"cpu",kernelFunc:xv};var wv={kernelName:o.ResizeBilinear,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,s=r.halfPixelCenters,c=r.size;Ul(a,"resizeBilinear");for(var l=o.util.computeStrides(a.shape),f=Object(u.a)(c,2),d=f[0],h=f[1],p=Object(u.a)(a.shape,4),v=p[0],m=p[1],g=p[2],b=p[3],y=n.data.get(a.dataId).values,x=new Float32Array(o.util.sizeFromShape([v,d,h,b])),_=[i&&d>1?m-1:m,i&&h>1?g-1:g],w=[i&&d>1?d-1:d,i&&h>1?h-1:h],O=0,k=_[0]/w[0],j=_[1]/w[1],E=0;E<v;E++)for(var C=0;C<d;C++){var A=void 0;A=s?k*(C+.5)-.5:k*C;for(var S=Math.max(0,Math.floor(A)),D=A-S,N=Math.min(m-1,Math.ceil(A)),F=E*l[0]+S*l[1],T=E*l[0]+N*l[1],M=0;M<h;M++){var I=void 0;I=s?j*(M+.5)-.5:j*M;for(var R=Math.max(0,Math.floor(I)),P=I-R,B=Math.min(g-1,Math.ceil(I)),z=F+R*l[2],L=T+R*l[2],U=F+B*l[2],W=T+B*l[2],V=0;V<b;V++){var q=y[z+V],H=y[L+V],G=q+(y[U+V]-q)*P,K=G+(H+(y[W+V]-H)*P-G)*D;x[O++]=K}}}return n.makeTensorInfo([v,d,h,b],"float32",x)}};var Ov={kernelName:o.ResizeBilinearGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,s=r.alignCorners;Ul([i,a],"resizeBilinearGrad");for(var c=o.util.computeStrides(a.shape),l=Object(u.a)(a.shape,4),f=l[0],d=l[1],h=l[2],p=l[3],v=Object(u.a)(i.shape,3),m=v[1],g=v[2],b=new Float32Array(f*d*h*p),y=[s&&m>1?d-1:d,s&&g>1?h-1:h],x=[s&&m>1?m-1:m,s&&g>1?g-1:g],_=y[0]/x[0],w=y[1]/x[1],O=n.data.get(i.dataId).values,k=0,j=0;j<f;j++)for(var E=j*c[0],C=0;C<m;C++)for(var A=C*_,S=Math.floor(A),D=Math.min(Math.ceil(A),d-1),N=E+S*c[1],F=E+D*c[1],T=A-S,M=1-T,I=0;I<g;I++)for(var R=I*w,P=Math.floor(R),B=Math.min(Math.ceil(R),h-1),z=R-P,L=1-z,U=N+P*c[2],W=N+B*c[2],V=F+P*c[2],q=F+B*c[2],H=M*L,G=M*z,K=T*L,$=T*z,X=0;X<p;X++){var Y=O[k++];b[U+X]+=Y*H,b[W+X]+=Y*G,b[V+X]+=Y*K,b[q+X]+=Y*$}return n.makeTensorInfo([f,h,d,p],"float32",b)}};var kv={kernelName:o.ResizeNearestNeighbor,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,s=r.halfPixelCenters,c=r.size;Ul(a,"resizeNearestNeighbor");for(var l=o.util.computeStrides(a.shape),f=Object(u.a)(c,2),d=f[0],h=f[1],p=Object(u.a)(a.shape,4),v=p[0],m=p[1],g=p[2],b=p[3],y=n.data.get(a.dataId).values,x=new Float32Array(v*d*h*b),_=[i&&d>1?m-1:m,i&&h>1?g-1:g],w=[i&&d>1?d-1:d,i&&h>1?h-1:h],O=_[0]/w[0],k=_[1]/w[1],j=0,E=0;E<v;E++)for(var C=E*l[0],A=0;A<d;A++){var S=s?O*(A+.5):O*A,D=Math.min(m-1,i?Math.round(S):Math.floor(S));s&&(D=Math.max(0,D));for(var N=C+D*l[1],F=0;F<h;F++){var T=s?k*(F+.5):k*F,M=Math.min(g-1,i?Math.round(T):Math.floor(T));s&&(M=Math.max(0,M));for(var I=N+M*l[2],R=0;R<b;R++){var P=y[I+R];x[j++]=P}}}return n.makeTensorInfo([v,d,h,b],a.dtype,x)}};var jv={kernelName:o.ResizeNearestNeighborGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,s=r.alignCorners;Ul([i,a],"resizeNearestNeighborGrad");for(var c=o.util.computeStrides(a.shape),l=o.util.computeStrides(i.shape),f=Object(u.a)(a.shape,4),d=f[0],h=f[1],p=f[2],v=f[3],m=Object(u.a)(i.shape,3),g=m[1],b=m[2],y=new Float32Array(d*h*p*v),x=n.data.get(i.dataId).values,_=[s&&g>1?h-1:h,s&&b>1?p-1:p],w=[s&&g>1?g-1:g,s&&b>1?b-1:b],O=_[0]/w[0],k=_[1]/w[1],j=1/O,E=1/k,C=2*Math.ceil(j)+2,A=2*Math.ceil(E)+2,S=0;S<d;S++)for(var D=S*c[0],N=0;N<h;N++)for(var F=D+N*c[1],T=Math.floor(N*j),M=Math.floor(T-C/2),I=0;I<p;I++)for(var R=F+I*c[2],P=Math.floor(I*E),B=Math.floor(P-A/2),z=0;z<v;z++){for(var L=0,U=0;U<C;U++){var W=U+M;if(!(W<0||W>=g)){var V=D+W*l[1],q=W*O;if(N===Math.min(h-1,s?Math.round(q):Math.floor(q)))for(var H=0;H<A;H++){var G=H+B;if(!(G<0||G>=b)){var K=V+G*l[2],$=G*k;I===Math.min(p-1,s?Math.round($):Math.floor($))&&(L+=x[K+z])}}}}y[R+z]=L}return n.makeTensorInfo(a.shape,a.dtype,y)}};var Ev={kernelName:o.Reverse,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.dims;Ul(a,"reverse");var u=a.shape.length,s=o.util.parseAxisParam(i,a.shape);if(0===u)return $l({inputs:{x:a},backend:n});for(var c=new o.TensorBuffer(a.shape,a.dtype),l=n.bufferSync(a),f=function(e){var t=c.indexToLoc(e),n=t.slice();s.forEach((function(e){return n[e]=a.shape[e]-1-n[e]})),c.set.apply(c,[l.get.apply(l,Object(Fn.a)(n))].concat(Object(Fn.a)(t)))},d=0;d<c.size;d++)f(d);return n.makeTensorInfo(c.shape,c.dtype,c.values)}},Cv={kernelName:o.RotateWithOffset,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,i=n.radians,s=n.fillValue,c=n.center,l=r,f=o.util.getTypedArrayFromDType(a.dtype,o.util.sizeFromShape(a.shape)),d=Object(u.a)(a.shape,4),h=d[0],p=d[1],v=d[2],m=d[3],g=o.backend_util.getImageCenter(c,p,v),b=Object(u.a)(g,2),y=b[0],x=b[1],_=Math.sin(i),w=Math.cos(i),O=l.data.get(a.dataId).values,k=0;k<h;k++)for(var j=k*v*p*m,E=0;E<p;E++)for(var C=E*(v*m),A=0;A<v;A++)for(var S=A*m,D=0;D<m;D++){var N=[h,E,A,D],F=N[2],T=N[1],M=(F-y)*w-(T-x)*_,I=(F-y)*_+(T-x)*w;M=Math.round(M+y),I=Math.round(I+x);var R=s;if("number"!==typeof s&&(R=3===D?255:s[D]),M>=0&&M<v&&I>=0&&I<p)R=O[j+I*(v*m)+M*m+D];f[j+C+S+D]=R}return{dataId:l.write(f,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},Av=ql(o.Round,(function(e){var t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),Sv={kernelName:o.Round,backendName:"cpu",kernelFunc:Av},Dv=dd((function(e){return 1/Math.sqrt(e)})),Nv=Hl(o.Rsqrt,Dv),Fv={kernelName:o.Rsqrt,backendName:"cpu",kernelFunc:Nv};function Tv(e,t,n,r,a,i,u,s,c,l){var f=[r/a,a],d=e.values,h=t.values;if(0===r)return Object(o.buffer)(n,t.dtype);var p=Object(o.buffer)(f,t.dtype);p.values.fill(c);for(var v=0;v<i;v++){for(var m=[],g=0,b=0;b<u;b++){var y=d[v*u+b];m.push(y),g+=y*s[b]}if(g<0||g>=r/a)throw new Error("Invalid indices: ".concat(m," does not index into ").concat(n));for(var x=0;x<a;x++)l?p.values[g*a+x]+=h[v*a+x]:p.values[g*a+x]=0===t.rank?h[0]:h[v*a+x]}return p}var Mv={kernelName:o.ScatterNd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=t.updates,u=r.shape,s=o.backend_util.calculateShapes(i,a,u),c=s.sliceRank,l=s.numUpdates,f=s.sliceSize,d=s.strides,h=s.outputSize,p=Tv(n.bufferSync(a),n.bufferSync(i),u,h,f,l,c,d,0,!0);return n.makeTensorInfo(u,p.dtype,p.values)}};var Iv={kernelName:o.Select,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,i=t.e;Ul([r,a,i],"select");for(var u=r.shape.length,s=n.data.get(r.dataId).values,c=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,f=Object(o.upcastType)(a.dtype,i.dtype),d=o.util.makeZerosTypedArray(o.util.sizeFromShape(a.shape),f),h=0,p=0===u||u>1||1===a.shape.length?1:o.util.sizeFromShape(a.shape.slice(1)),v=0;v<s.length;v++)for(var m=0;m<p;m++)1===s[v]?d[h++]=c[v]:d[h++]=l[v];return n.makeTensorInfo(a.shape,f,d)}},Rv=o.backend_util.SELU_SCALEALPHA,Pv=o.backend_util.SELU_SCALE,Bv=ql(o.Selu,(function(e){return e>=0?Pv*e:Rv*(Math.exp(e)-1)})),zv={kernelName:o.Selu,backendName:"cpu",kernelFunc:Bv},Lv=ql(o.Sigmoid,(function(e){return 1/(1+Math.exp(-e))})),Uv={kernelName:o.Sigmoid,backendName:"cpu",kernelFunc:Lv},Wv=ql(o.Sign,(function(e){return e<0?-1:e>0?1:0})),Vv={kernelName:o.Sign,backendName:"cpu",kernelFunc:Wv},qv=ql(o.Sin,(function(e){return Math.sin(e)})),Hv={kernelName:o.Sin,backendName:"cpu",kernelFunc:qv},Gv=ql(o.Sinh,(function(e){return Math.sinh(e)})),Kv={kernelName:o.Sinh,backendName:"cpu",kernelFunc:Gv},$v=Math.log(1.1920928955078125e-7)+2,Xv=ql(o.Softplus,(function(e){var t=e>-$v,n=e<$v,r=Math.exp(e);return n?r:t?e:Math.log(1+r)})),Yv={kernelName:o.Softplus,backendName:"cpu",kernelFunc:Xv};var Jv={kernelName:o.SpaceToBatchND,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,u=r.paddings;Ul([a],"spaceToBatchND");var s=o.util.sizeFromShape(i),c=[[0,0]];c.push.apply(c,Object(Fn.a)(u));for(var l=1+i.length;l<a.shape.length;++l)c.push([0,0]);var f=dv.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:c,constantValue:0}}),d=o.backend_util.getReshaped(f.shape,i,s,!1),h=o.backend_util.getPermuted(d.length,i.length,!1),p=o.backend_util.getReshapedPermuted(f.shape,i,s,!1),v=_f({inputs:{x:f},backend:n,attrs:{shape:d}}),m=Mf({inputs:{x:v},backend:n,attrs:{perm:h}}),g=_f({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),g}};var Qv={kernelName:o.SparseToDense,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sparseIndices,i=t.sparseValues,u=t.defaultValue,s=r.outputShape,c=o.backend_util.calculateShapes(i,a,s),l=c.sliceRank,f=c.numUpdates,d=c.sliceSize,h=c.strides,p=c.outputSize,v=Tv(n.bufferSync(a),n.bufferSync(i),s,p,d,f,l,h,n.data.get(u.dataId).values[0],!1);return n.makeTensorInfo(s,v.dtype,v.values)}};var Zv={kernelName:o.SplitV,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.numOrSizeSplits,u=r.axis,s=o.util.parseAxisParam(u,a.shape)[0],c=o.backend_util.prepareSplitSize(a,i,s),l=new Array(a.shape.length).fill(0),f=a.shape.slice();return c.map((function(e){var t=Object(Fn.a)(f);t[s]=e;var r=od({inputs:{x:a},backend:n,attrs:{begin:l,size:t}});return l[s]+=e,r}))}},em=ql(o.Sqrt,(function(e){return Math.sqrt(e)})),tm={kernelName:o.Sqrt,backendName:"cpu",kernelFunc:em},nm={kernelName:o.Square,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n;Ul(r,"square");for(var i=a.data.get(r.dataId).values,o=new Float32Array(i.length),u=0;u<i.length;++u){var s=i[u];o[u]=s*s}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},rm=Ql((function(e,t){var n=e-t;return n*n})),am=vf(o.SquaredDifference,rm),im={kernelName:o.SquaredDifference,backendName:"cpu",kernelFunc:am},om=ql(o.Step,(function(e,t){var n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),um={kernelName:o.Step,backendName:"cpu",kernelFunc:om};function sm(e,t,n,r){for(var a=Object(o.buffer)(e,t.dtype),i=0;i<a.size;i++){for(var u=a.indexToLoc(i),s=new Array(u.length),c=0;c<s.length;c++)s[c]=u[c]*n[c]+r[c];a.set.apply(a,[t.get.apply(t,s)].concat(Object(Fn.a)(u)))}return a}var cm={kernelName:o.StridedSlice,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.begin,u=r.end,s=r.strides,c=r.beginMask,l=r.endMask,f=r.ellipsisMask,d=r.newAxisMask,h=r.shrinkAxisMask;Ul(a,"stridedSlice");var p,v=o.slice_util.sliceInfo(a.shape,i,u,s,c,l,f,d,h),m=v.nonStrided,g=v.$begin,b=v.$strides,y=v.size,x=v.newShape,_=v.outShape,w=_f({inputs:{x:a},backend:n,attrs:{shape:x}});if(m){var O=od({inputs:{x:w},backend:n,attrs:{begin:g,size:y}});p=_f({inputs:{x:O},backend:n,attrs:{shape:_}}),n.disposeIntermediateTensorInfo(O)}else if(_.some((function(e){return 0===e})))p=n.makeTensorInfo(_,a.dtype,[]);else{var k=sm(_,n.bufferSync(w),b,g);p=n.makeTensorInfo(k.shape,k.dtype,k.values)}var j=_f({inputs:{x:p},backend:n,attrs:{shape:_}});return n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(p),j}},lm=ql(o.Tan,(function(e){return Math.tan(e)})),fm={kernelName:o.Tan,backendName:"cpu",kernelFunc:lm},dm=ql(o.Tanh,(function(e){return Math.tanh(e)})),hm={kernelName:o.Tanh,backendName:"cpu",kernelFunc:dm};function pm(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];for(var a=Object(o.buffer)(n,e.dtype),i=0;i<a.values.length;++i){for(var u=a.indexToLoc(i),s=new Array(e.rank),c=0;c<s.length;c++)s[c]=u[c]%e.shape[c];var l=e.locToIndex(s);a.values[i]=e.values[l]}return a}var vm={kernelName:o.Tile,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reps;Ul(a,"tile");var o=pm(n.bufferSync(a),i);return n.makeTensorInfo(o.shape,o.dtype,o.values)}};function mm(e,t,n,r,a){for(var i=t[t.length-1],u=e.length/i,s=i,c=o.util.getTypedArrayFromDType(n,u*r),l=o.util.getTypedArrayFromDType("int32",u*r),f=0;f<u;f++){for(var d=f*s,h=e.subarray(d,d+s),p=[],v=0;v<h.length;v++)p.push({value:h[v],index:v});p.sort((function(e,t){return t.value-e.value}));for(var m=f*r,g=c.subarray(m,m+r),b=l.subarray(m,m+r),y=0;y<r;y++)g[y]=p[y].value,b[y]=p[y].index}var x=t.slice();return x[x.length-1]=r,[Object(o.buffer)(x,n,c),Object(o.buffer)(x,"int32",l)]}var gm={kernelName:o.TopK,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.k;r.sorted,Ul(a,"topk");var o=mm(n.data.get(a.dataId).values,a.shape,a.dtype,i),s=Object(u.a)(o,2),c=s[0],l=s[1];return[n.makeTensorInfo(c.shape,c.dtype,c.values),n.makeTensorInfo(l.shape,l.dtype,l.values)]}};var bm={kernelName:o.Transform,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,i=t.transforms,s=n.interpolation,c=n.fillMode,l=n.fillValue,f=n.outputShape,d=Object(u.a)(a.shape,4),h=d[0],p=d[1],v=d[2],m=d[3],g=null!=f?f:[p,v],b=Object(u.a)(g,2),y=b[0],x=b[1],_=[h,y,x,m],w=o.util.computeStrides(a.shape),O=w[0],k=w[1],j=w[2],E=o.util.getTypedArrayFromDType(a.dtype,o.util.sizeFromShape(_));E.fill(l);for(var C=r.data.get(a.dataId).values,A=r.data.get(i.dataId).values,S=0;S<h;++S){for(var D=1===i.shape[0]?A:A.subarray(8*S,8*S+8),N=0;N<y;++N)for(var F=0;F<x;++F)for(var T=0;T<m;++T){var M=void 0,I=D[6]*F+D[7]*N+1;if(0!==I){var R=(D[0]*F+D[1]*N+D[2])/I,P=(D[3]*F+D[4]*N+D[5])/I,B=ym(R,v,c),z=ym(P,p,c);switch(s){case"nearest":M=_m(C,p,v,O,k,j,S,z,B,T,l);break;case"bilinear":M=wm(C,p,v,O,k,j,S,z,B,T,l);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(s))}E[S*O+N*k+F*j+T]=M}}return r.makeTensorInfo(_,a.dtype,E)}return{dataId:r.write(E,_,a.dtype),shape:a.shape,dtype:a.dtype}}};function ym(e,t,n){switch(n){case"reflect":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=2*t;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-t?n+r:-n-1}else if(n>t-1)if(t<=1)n=0;else{var a=2*t;(n-=a*Math.trunc(n/a))>=t&&(n=a-n-1)}return o.util.clamp(0,n,t-1)}(e,t);case"wrap":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=t-1;n+=t*(Math.trunc(-n/r)+1)}else if(n>t-1)if(t<=1)n=0;else{var a=t-1;n-=t*Math.trunc(n/a)}return o.util.clamp(0,n,t-1)}(e,t);case"nearest":return function(e,t){return o.util.clamp(0,e,t-1)}(e,t);case"constant":default:return function(e,t){return e}(e)}}function xm(e,t,n,r,a,i,o,u,s,c,l){return 0<=u&&u<t&&0<=s&&s<n?e[o*r+u*a+s*i+c]:l}function _m(e,t,n,r,a,i,o,u,s,c,l){return xm(e,t,n,r,a,i,o,Math.round(u),Math.round(s),c,l)}function wm(e,t,n,r,a,i,o,u,s,c,l){var f=Math.floor(u),d=Math.floor(s),h=f+1,p=d+1;return(h-u)*((p-s)*xm(e,t,n,r,a,i,o,f,d,c,l)+(s-d)*xm(e,t,n,r,a,i,o,f,p,c,l))+(u-f)*((p-s)*xm(e,t,n,r,a,i,o,h,d,c,l)+(s-d)*xm(e,t,n,r,a,i,o,h,p,c,l))}function Om(e,t,n,r){for(var a=o.util.parseAxisParam(t,n)[0],i=[1,n[0],1],u=0;u<a;u++)i[0]*=n[u];i[1]=n[a];for(var s=a+1;s<n.length;s++)i[2]*=n[s];for(var c={},l=new Int32Array(n[a]),f=new o.TensorBuffer(i,r,e),d=[],h=1===i[0]&&1===i[2],p=0;p<n[a];p++){var v=void 0;if(h)v=e[p].toString();else{for(var m=[],g=0;g<i[0];g++)for(var b=0;b<i[2];b++)m.push(f.get(g,p,b));v=m.join(",")}if(void 0!==c[v])l[p]=c[v];else{var y=Object.keys(c).length;c[v]=y,l[p]=y,d.push(p)}}var x=i.slice();x[1]=Object.keys(c).length;var _=new o.TensorBuffer(x,r);d.forEach((function(e,t){for(var n=0;n<i[0];n++)for(var r=0;r<i[2];r++)_.set(f.get(n,e,r),n,t,r)}));var w=n.slice();return w[a]=x[1],{outputValues:_.values,outputShape:w,indices:l}}var km={kernelName:o.Unique,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,i=t.x;Ul(i,"unique");var o=Om(r.data.get(i.dataId).values,a,i.shape,i.dtype),u=o.outputValues,s=o.outputShape,c=o.indices;return[r.makeTensorInfo(s,i.dtype,u),r.makeTensorInfo([c.length],"int32",c)]}};var jm={kernelName:o.Unpack,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,i=r.axis;i<0&&(i+=a.shape.length);for(var o=a.shape.length,u=a.shape[i],s=new Array(o-1),c=0,l=0;l<o;l++)l!==i&&(s[c++]=a.shape[l]);var f=new Array(o).fill(0),d=a.shape.slice();d[i]=1;for(var h=new Array(u),p=0;p<h.length;p++){f[i]=p;var v=od({inputs:{x:a},backend:n,attrs:{begin:f,size:d}});h[p]=_f({inputs:{x:v},backend:n,attrs:{shape:s}}),n.disposeIntermediateTensorInfo(v)}return h}};for(var Em={kernelName:o.UnsortedSegmentSum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.segmentIds,u=r.numSegments;Ul(a,"unsortedSegmentSum");for(var s=[],c=[],l=a.shape.length-i.shape.length,f=i,d=0;d<l;++d){var h=sh({inputs:{input:f},backend:n,attrs:{dim:d+1}});f=h,c.push(h)}for(var p=0;p<u;++p){var v=o.util.createScalarValue(p,"int32"),m=n.makeTensorInfo([],"int32",v),g=Xd({inputs:{a:m,b:f},backend:n}),b=hf({inputs:{x:g},backend:n,attrs:{dtype:"float32"}}),y=vh({inputs:{a:b,b:a},backend:n}),x=Ip({inputs:{x:y},backend:n,attrs:{axis:0,keepDims:!1}});s.push(x),c.push(m),c.push(g),c.push(b),c.push(y),c.push(x)}var _=lv({inputs:s,backend:n,attrs:{axis:0}});return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),_}},Cm=0,Am=[jf,Cf,Sf,Nf,xf,Ff,Rf,Pf,Bf,zf,Uf,Vf,Hf,$f,Yf,ed,td,nd,rd,kf,ad,sd,fd,pf,vd,gd,cf,bd,Od,Ed,Cd,jd,Sd,Dd,Ad,Fd,Md,Id,Rd,Pd,Bd,Ld,Ud,Wd,Vd,qd,Gd,Hd,yh,Kl,Kd,Yd,ah,uh,ch,dh,Ch,Sh,Dh,Th,Rh,Ph,Bh,zh,Uh,qh,Kh,Xl,$h,_d,Yh,Qh,ep,Jl,rp,op,sp,fp,hp,mp,bp,_p,wp,Op,Sp,Dp,Np,Fp,Tp,Mp,Ep,Pp,Bp,Up,Wp,Hp,$p,mh,Yp,Qp,ev,nv,iv,ov,cv,fv,dv,vv,tf,gv,yv,df,_v,rf,of,wf,wv,Ov,kv,jv,Ev,Cv,Sv,Fv,Mv,Iv,zv,Uv,Vv,Hv,Kv,ud,Kp,Yv,Jv,Qv,Zv,tm,nm,im,um,cm,Oh,Rp,fm,hm,vm,gm,If,bm,km,jm,Em,sv];Cm<Am.length;Cm++){var Sm=Am[Cm];Object(o.registerKernel)(Sm)}var Dm,Nm,Fm,Tm={},Mm={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Im(e){if(!(e in Tm)){var t=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=function(e){if("undefined"!==typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);if(t.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete Tm[e]}),!1),1===e)return t.getContext("webgl",Mm)||t.getContext("experimental-webgl",Mm);return t.getContext("webgl2",Mm)}(e);if(null===t)return console.log("Could not get context for WebGL version",e),null;Tm[e]=t}var n=Tm[e];return n.isContextLost()?(delete Tm[e],Im(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),Tm[e])}function Rm(e,t){return[t,e]}function Pm(e){var t=o.util.sizeFromShape(e),n=Math.ceil(t/4);return o.util.sizeToSquarishShape(n)}function Bm(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function zm(e,t){var n,r,a,i,u,s,c,l,f,d=e;return 2===Object(o.env)().getNumber("WEBGL_VERSION")?(n=d.R32F,r=d.R16F,a=d.RGBA16F,i=d.RGBA32F,u=d.RED,s=4,c=1,l=d.HALF_FLOAT,f=d.FLOAT):(n=e.RGBA,r=e.RGBA,a=e.RGBA,i=d.RGBA,u=e.RGBA,s=4,c=4,l=null!=t?t.HALF_FLOAT_OES:null,f=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:i,textureFormatFloat:u,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:c,textureTypeHalfFloat:l,textureTypeFloat:f}}function Lm(e,t){var n=t();return Object(o.env)().getBool("DEBUG")&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(Dm||(Dm={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(Nm||(Nm={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Fm||(Fm={}));function Um(e){return!!(Object(o.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function Wm(e,t){return tg(e,(function(){return e.getExtension(t)}),'Extension "'+t+'" not supported on this browser.')}function Vm(e,t){var n=tg(e,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(Lm(e,(function(){return e.shaderSource(n,t)})),Lm(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw function(e,t){var n=Gm.exec(t);if(null==n)return console.log("Couldn't parse line number in error: ".concat(t)),void console.log(e);for(var r=+n[1],a=e.split("\n"),i=a.length.toString().length+2,u=a.map((function(e,t){return o.util.rightPad((t+1).toString(),i)+e})),s=0,c=0;c<u.length;c++)s=Math.max(u[c].length,s);var l=u.slice(0,r-1),f=u.slice(r-1,r),d=u.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(o.util.rightPad(f[0],s)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join("\n"))}(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var qm,Hm,Gm=/ERROR: [0-9]+:([0-9]+):/g;function Km(e,t){if(Lm(e,(function(){return e.validateProgram(t)})),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function $m(e,t,n,r,a,i,o){var u=e.getAttribLocation(t,n);return-1!==u&&(Lm(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),Lm(e,(function(){return e.vertexAttribPointer(u,a,e.FLOAT,!1,i,o)})),Lm(e,(function(){return e.enableVertexAttribArray(u)})),!0)}function Xm(e,t,n){return tg(e,(function(){return e.getUniformLocation(t,n)}),'uniform "'+n+'" not present in program.')}function Ym(e,t,n){return e.getUniformLocation(t,n)}function Jm(e,t,n,r){Lm(e,(function(){return function(e,t,n){ng(e,n),Lm(e,(function(){return e.activeTexture(e.TEXTURE0+n)})),Lm(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)}))}(e,t,r)})),Lm(e,(function(){return e.uniform1i(n,r)}))}function Qm(e,t,n){Lm(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),Lm(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}))}function Zm(e,t){Lm(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)})),Lm(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function eg(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}(e,t))}function tg(e,t,n){var r=Lm(e,(function(){return t()}));if(null==r)throw new Error(n);return r}function ng(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){var a="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(a,"."))}}function rg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return o.util.sizeFromShape(e.slice(0,e.length-t))}function ag(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function ig(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[rg(e)].concat(Object(Fn.a)(ag(e)))),t}function og(e){return e%2===0}function ug(e,t){if(e=e.slice(-2),t=t.slice(-2),o.util.arraysEqual(e,t))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(og(n)&&og(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&og(e[0])&&og(t[0])}function sg(e,t){return null!=e.getExtension(t)}function cg(e){try{if(null!=Im(e))return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function lg(e){if(0===e)return!1;var t=Im(e);if(1!==e){if(sg(t,"EXT_color_buffer_float"))return fg(t);var n="EXT_color_buffer_half_float";if(sg(t,n)){var r=t.getExtension(n);return function(e,t){var n=zm(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);var a=1,i=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,a,i,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var u=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),u}(t,r)}return!1}return!!sg(t,"OES_texture_float")&&(!!sg(t,"WEBGL_color_buffer_float")&&fg(t))}function fg(e){var t=zm(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function dg(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&o.util.assert("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."}))}))}var hg=Object(o.env)();function pg(){var e,t,n,r,a,i,u,s,c,l;return 2===Object(o.env)().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",a="texture",i="outputColor",u="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",c="",l="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",a="texture2D",i="gl_FragColor",u="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",c="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",l="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:i,defineOutput:u,defineSpecialNaN:s,defineSpecialInf:c,defineRound:l}}function vg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=o.util.computeStrides(t);return r.map((function(t,a){var i="int ".concat(e[a]," = ").concat(n," / ").concat(t),o=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * ").concat(t):"index -= ".concat(e[a]," * ").concat(t);return"".concat(i,"; ").concat(o,";")})).join("")}function mg(e){var t=o.util.computeStrides(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n  }\n")}hg.registerFlag("HAS_WEBGL",(function(){return hg.getNumber("WEBGL_VERSION")>0})),hg.registerFlag("WEBGL_VERSION",(function(){return cg(2)?2:cg(1)?1:0})),hg.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(function(){return!1})),hg.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===hg.get("WEBGL_VERSION")})),hg.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),hg.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),hg.registerFlag("WEBGL_PACK",(function(){return hg.getBool("HAS_WEBGL")})),hg.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return hg.getBool("WEBGL_PACK")})),hg.registerFlag("WEBGL_PACK_CLIP",(function(){return hg.getBool("WEBGL_PACK")})),hg.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return!1})),hg.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return hg.getBool("WEBGL_PACK")})),hg.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return hg.getBool("WEBGL_PACK")})),hg.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return hg.getBool("WEBGL_PACK")})),hg.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return hg.getBool("WEBGL_PACK")})),hg.registerFlag("WEBGL_PACK_REDUCE",(function(){return hg.getBool("WEBGL_PACK")})),hg.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return hg.getBool("WEBGL_PACK")})),hg.registerFlag("WEBGL_CONV_IM2COL",(function(){return hg.getBool("WEBGL_PACK")})),hg.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return function(e){if(null==qm){var t=Im(e);qm=t.getParameter(t.MAX_TEXTURE_SIZE)}return qm}(hg.getNumber("WEBGL_VERSION"))})),hg.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return function(e){if(null==Hm){var t=Im(e);Hm=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Hm)}(hg.getNumber("WEBGL_VERSION"))})),hg.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=hg.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;var t=Im(e);return sg(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:sg(t,"EXT_disjoint_timer_query")?1:0}(e)})),hg.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return hg.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!o.device_util.isMobile()})),hg.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return function(e){if(0===e)return!1;var t=Im(e);if(1===e){if(!sg(t,"OES_texture_float"))return!1}else if(!sg(t,"EXT_color_buffer_float"))return!1;return fg(t)}(hg.getNumber("WEBGL_VERSION"))})),hg.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!hg.getBool("WEBGL_FORCE_F16_TEXTURES")&&hg.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),hg.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return lg(hg.getNumber("WEBGL_VERSION"))})),hg.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return 2===(e=hg.getNumber("WEBGL_VERSION"))&&null!=Im(e).fenceSync;var e})),hg.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return hg.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),hg.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(function(){return-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))})),hg.registerFlag("WEBGL_FLUSH_THRESHOLD",(function(){return o.device_util.isMobile()&&hg.getBool("IS_CHROME")?1:-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))}));var gg="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",bg=function e(t){Object(Cn.a)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Dm.DENSE;var n=Pm(t),r=pg();this.outputShape=t,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(vg(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2(").concat(n[0],", ").concat(n[1],"));\n        int index = 4 * (resTexRC.x * ").concat(n[1]," + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(r.output," = result;\n      }\n    ")},yg=function e(t){Object(Cn.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Dm.DENSE;var n=Pm(t),r=pg();this.outputShape=t,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(vg(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2(").concat(n[0],", ").concat(n[1],"));\n        int index = 4 * (resTexRC.x * ").concat(n[1]," + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(r.output," = result;\n      }\n    ")},xg=function e(t){Object(Cn.a)(this,e),this.variableNames=["A"],this.outTexUsage=Nm.DOWNLOAD;var n=pg();this.outputShape=t,this.userCode="\n      ".concat(gg,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(n.output," = encode_float(x);\n      }\n    ")},_g=function e(t){Object(Cn.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Nm.DOWNLOAD;var n=pg();this.outputShape=t,this.userCode="\n      ".concat(gg,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(n.output," = encode_float(x);\n      }\n    ")},wg=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(Cn.a)(this,e),this.variableNames=["A"];var a=pg(),i=Object(u.a)(n,2),o=i[0],s=i[1];this.outputShape=t;var c="result";r&&(c="floor(result * 255. + 0.5)"),this.userCode="\n      ".concat(mg(t),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / ").concat(s,";\n        int c = imod(flatIndex, ").concat(s,");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(").concat(s,".0, ").concat(o,".0);\n        vec4 values = ").concat(a.texture2D,"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ").concat(a.output," = vec4(").concat(c,", 0., 0., 0.);\n      }\n    ")},Og=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(Cn.a)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var a=pg(),i=Object(u.a)(n,2),o=i[0],s=i[1];this.outputShape=t;var c="",l="result";r&&(l="floor(result * 255. + 0.5)");for(var f=0;f<=1;f++)for(var d=0;d<=1;d++){var h=2*f+d;c+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(d," < ").concat(t[2],") {\n            localCoords[2] += ").concat(d,";\n            if(localCoords[1] + ").concat(f," < ").concat(t[1],") {\n              localCoords[1] += ").concat(f,";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / ").concat(s,";\n              c = imod(flatIndex, ").concat(s,");\n              uv = (vec2(c, r) + halfCR) / vec2(").concat(s,".0, ").concat(o,".0);\n              values = ").concat(a.texture2D,"(A, uv);\n\n              if(offset == 0) {\n                result[").concat(h,"] = values[0];\n              } else if(offset == 1) {\n                result[").concat(h,"] = values[1];\n              } else if(offset == 2) {\n                result[").concat(h,"] = values[2];\n              } else {\n                result[").concat(h,"] = values[3];\n              }\n            }\n          }\n        ")}this.userCode="\n      ".concat(mg(t),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        ").concat(c,"\n\n        ").concat(a.output," = ").concat(l,";\n      }\n    ")};function kg(e){var t=pg();return function(e,t){var n=tg(e,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(Lm(e,(function(){return e.shaderSource(n,t)})),Lm(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,"".concat(t.version,"\n    precision highp float;\n    ").concat(t.attribute," vec3 clipSpacePos;\n    ").concat(t.attribute," vec2 uv;\n    ").concat(t.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function jg(e){return function(e,t){var n=tg(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return Lm(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),Lm(e,(function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Eg(e){return function(e,t){var n=tg(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return Lm(e,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)})),Lm(e,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}(e,new Uint16Array([0,1,2,2,1,3]))}function Cg(e,t,n,r,a,i){!function(e,t){var n=Object(o.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="[".concat(e,"x").concat(t,"]");throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n){var a="[".concat(e,"x").concat(t,"]"),i="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+a+" greater than WebGL maximum on this browser / GPU "+i+".")}}(t,n);var u=function(e){return tg(e,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}(e),s=e.TEXTURE_2D;return Lm(e,(function(){return e.bindTexture(s,u)})),Lm(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),Lm(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),Lm(e,(function(){return e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST)})),Lm(e,(function(){return e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST)})),Lm(e,(function(){return e.texImage2D(s,0,r,t,n,0,a,i,null)})),Lm(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),u}function Ag(e){return e.internalFormatFloat}function Sg(e){return e.internalFormatHalfFloat}function Dg(e){return e.downloadTextureFormat}function Ng(e){return e.internalFormatPackedFloat}function Fg(e){return e.internalFormatPackedHalfFloat}function Tg(e,t,n,r,a,i,o,s){var c=e,l=new Float32Array(function(e,t){var n=Bm(e,t),r=Object(u.a)(n,2);return r[0]*r[1]*4}(i,o));return c.bindBuffer(c.PIXEL_PACK_BUFFER,t),c.getBufferSubData(c.PIXEL_PACK_BUFFER,0,l),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),l}var Mg=function(){function e(t){Object(Cn.a)(this,e),this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=Object(o.env)().getNumber("WEBGL_VERSION");null!=t?(this.gl=t,function(e,t){Tm[e]=t}(n,t)):this.gl=Im(n);var r="WEBGL_color_buffer_float",a="EXT_color_buffer_half_float";if(1===Object(o.env)().getNumber("WEBGL_VERSION")){var i="OES_texture_half_float";if(this.textureFloatExtension=Wm(this.gl,"OES_texture_float"),sg(this.gl,i))this.textureHalfFloatExtension=Wm(this.gl,i);else if(Object(o.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),sg(this.gl,a))this.colorBufferHalfFloatExtension=Wm(this.gl,a);else if(Object(o.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",sg(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!sg(this.gl,a))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(a)}this.vertexBuffer=jg(this.gl),this.indexBuffer=Eg(this.gl),this.framebuffer=function(e){return tg(e,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=zm(this.gl,this.textureHalfFloatExtension)}return Object(An.a)(e,[{key:"debug",get:function(){return Object(o.env)().getBool("DEBUG")}},{key:"dispose",value:function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;Lm(t,(function(){return t.finish()})),Lm(t,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),Lm(t,(function(){return t.deleteFramebuffer(e.framebuffer)})),Lm(t,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),Lm(t,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),Lm(t,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}}},{key:"createFloat32MatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=Rm(t,n),i=Object(u.a)(a,2);return Cg(e,i[0],i[1],Ag(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}},{key:"createFloat16MatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=Rm(t,n),i=Object(u.a)(a,2);return Cg(e,i[0],i[1],Sg(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}},{key:"createUnsignedBytesMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=Rm(t,n),i=Object(u.a)(a,2);return Cg(e,i[0],i[1],Dg(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}},{key:"uploadPixelDataToTexture",value:function(e,t){this.throwIfDisposed(),function(e,t,n){Lm(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),n.data instanceof Uint8Array?Lm(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)})):Lm(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)})),Lm(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}(this.gl,e,t)}},{key:"uploadDenseMatrixToTexture",value:function(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,a,i){var o,u,s;Lm(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),a instanceof Uint8Array?(o=new Uint8Array(n*r*4),u=e.UNSIGNED_BYTE,s=e.RGBA):(o=new Float32Array(n*r*4),u=e.FLOAT,s=i.internalFormatPackedFloat),o.set(a),Lm(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,s,n,r,0,e.RGBA,u,o)})),Lm(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}(this.gl,e,t,n,r,this.textureConfig)}},{key:"createFloat16PackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=Bm(t,n),i=Object(u.a)(a,2);return Cg(e,i[0],i[1],Fg(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}},{key:"createPackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=Bm(t,n),i=Object(u.a)(a,2);return Cg(e,i[0],i[1],Ng(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}},{key:"deleteMatrixTexture",value:function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(Zm(this.gl,this.framebuffer),this.outputTexture=null),Lm(this.gl,(function(){return t.gl.deleteTexture(e)}))}},{key:"downloadByteEncodedFloatMatrixFromOutputTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return function(e,t,n,r){var a=Rm(t,n),i=Object(u.a)(a,2),o=i[0],s=i[1],c=new Uint8Array(t*n*4);return Lm(e,(function(){return e.readPixels(0,0,o,s,r.downloadTextureFormat,e.UNSIGNED_BYTE,c)})),new Float32Array(c.buffer)}(r.gl,t,n,r.textureConfig)}))}},{key:"downloadPackedMatrixFromBuffer",value:function(e,t,n,r,a,i){return Tg(this.gl,e,0,0,0,a,i,this.textureConfig)}},{key:"downloadFloat32MatrixFromBuffer",value:function(e,t){return function(e,t,n){var r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}(this.gl,e,t)}},{key:"createBufferFromTexture",value:function(e,t,n){this.bindTextureToFrameBuffer(e);var r=function(e,t,n,r){var a=e.createBuffer();Lm(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)}));var i=16*t*n;return Lm(e,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,i,e.STREAM_READ)})),Lm(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)})),Lm(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),a}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}},{key:"createAndWaitForFence",value:function(){var e=this.createFence(this.gl);return this.pollFence(e)}},{key:"createFence",value:function(e){var t,n,r=this;if(Object(o.env)().getBool("WEBGL_FENCE_API_ENABLED")){var a=e,i=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=a.clientWaitSync(i,0,0);return e===a.ALREADY_SIGNALED||e===a.CONDITION_SATISFIED},t=i}else Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}}},{key:"downloadMatrixFromPackedTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return function(e,t,n){var r=new Float32Array(t*n*4);return Lm(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)})),r}(r.gl,t,n)}))}},{key:"createProgram",value:function(e){this.throwIfDisposed();var t=this.gl,n=Vm(t,e),r=kg(t),a=function(e){return tg(e,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}(t);return Lm(t,(function(){return t.attachShader(a,r)})),Lm(t,(function(){return t.attachShader(a,n)})),function(e,t){if(Lm(e,(function(){return e.linkProgram(t)})),!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(t,a),this.debug&&Km(t,a),this.vertexAttrsAreBound||(this.setProgram(a),this.vertexAttrsAreBound=function(e,t,n){return Lm(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),$m(e,t,"clipSpacePos",n,3,20,0)&&$m(e,t,"uv",n,2,20,12)}(t,this.program,this.vertexBuffer)),a}},{key:"deleteProgram",value:function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&Lm(this.gl,(function(){return t.gl.deleteProgram(e)}))}},{key:"setProgram",value:function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&Km(this.gl,this.program),Lm(this.gl,(function(){return t.gl.useProgram(e)}))}},{key:"getUniformLocation",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?Xm(this.gl,e,t):Ym(this.gl,e,t)}},{key:"getAttributeLocation",value:function(e,t){var n=this;return this.throwIfDisposed(),Lm(this.gl,(function(){return n.gl.getAttribLocation(e,t)}))}},{key:"getUniformLocationNoThrow",value:function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}},{key:"setInputMatrixTexture",value:function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),Jm(this.gl,e,t,n)}},{key:"setOutputMatrixTexture",value:function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}},{key:"setOutputPackedMatrixTexture",value:function(e,t,n){this.throwIfDisposed();var r=Bm(t,n),a=Object(u.a)(r,2),i=a[0],o=a[1];this.setOutputMatrixTextureDriver(e,i,o)}},{key:"setOutputMatrixWriteRegion",value:function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}},{key:"setOutputPackedMatrixWriteRegion",value:function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}},{key:"debugValidate",value:function(){null!=this.program&&Km(this.gl,this.program),eg(this.gl)}},{key:"executeProgram",value:function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),Lm(e,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))}},{key:"blockUntilAllProgramsCompleted",value:function(){var e=this;this.throwIfDisposed(),Lm(this.gl,(function(){return e.gl.finish()}))}},{key:"getQueryTimerExtension",value:function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=Wm(this.gl,2===Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}},{key:"getQueryTimerExtensionWebGL2",value:function(){return this.getQueryTimerExtension()}},{key:"getQueryTimerExtensionWebGL1",value:function(){return this.getQueryTimerExtension()}},{key:"beginQuery",value:function(){if(2===Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),a=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,a),a}},{key:"endQuery",value:function(){if(2!==Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}}},{key:"waitForQueryAndGetTime",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t){var n=this;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.util.repeatedTry((function(){return n.disposed||n.isQueryAvailable(t,Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}));case 2:return e.abrupt("return",this.getQueryTime(t,Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryTime",value:function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}},{key:"isQueryAvailable",value:function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}var i=this.getQueryTimerExtensionWebGL1(),o=i.getQueryObjectEXT(e,i.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),o&&!this.disjoint}},{key:"pollFence",value:function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))}},{key:"pollItems",value:function(){for(var e=function(e){for(var t=0;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t){(0,this.itemsToPoll[t].resolveFn)()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}},{key:"addItemToPoll",value:function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||o.util.repeatedTry((function(){return n.pollItems(),0===n.itemsToPoll.length}))}},{key:"bindTextureToFrameBuffer",value:function(e){this.throwIfDisposed(),Qm(this.gl,e,this.framebuffer),this.debug&&eg(this.gl)}},{key:"unbindTextureToFrameBuffer",value:function(){null!=this.outputTexture?(Qm(this.gl,this.outputTexture,this.framebuffer),this.debug&&eg(this.gl)):Zm(this.gl,this.framebuffer)}},{key:"downloadMatrixDriver",value:function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n}},{key:"setOutputMatrixTextureDriver",value:function(e,t,n){this.throwIfDisposed();var r=this.gl;Qm(r,e,this.framebuffer),this.debug&&eg(r),this.outputTexture=e,Lm(r,(function(){return r.viewport(0,0,t,n)})),Lm(r,(function(){return r.scissor(0,0,t,n)}))}},{key:"setOutputMatrixWriteRegionDriver",value:function(e,t,n,r){var a=this;this.throwIfDisposed(),Lm(this.gl,(function(){return a.gl.scissor(e,t,n,r)}))}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}},{key:"throwIfNoProgram",value:function(){if(null==this.program)throw new Error("No GPU program is currently set.")}}]),e}();var Ig=o.backend_util.getBroadcastDims;function Rg(e,t,n,r){var a=[];e.forEach((function(e){var t=o.util.sizeFromShape(e.shapeInfo.logicalShape);e.shapeInfo.isUniform?a.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(a.push("uniform sampler2D ".concat(e.name,";")),a.push("uniform int offset".concat(e.name,";")))}));var i,u,s=a.join("\n"),c=e.map((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="";r+=n?Bg(e):Pg(e);var a=e.shapeInfo.logicalShape,i=t.logicalShape;a.length<=i.length&&(r+=n?Hg(e,t):Gg(e,t));return r}(e,t,r)})).join("\n"),l=t.texShape,f=pg(),d=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(e.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(f),h=function(e){return"".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFs," vec2 resultUV;\n    ").concat(e.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(e.defineSpecialNaN,"\n    ").concat(e.defineSpecialInf,"\n    ").concat(e.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat(zg,"\n    ").concat(Lg,"\n    ").concat(Ug,"\n  ")}(f);return t.isPacked?(i=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===n[0])return"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(n[1],".0);\n      }\n    ");if(1===n[1])return"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(n[0],".0);\n      }\n    ");return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(n[0],", ").concat(n[1],"));\n      return 2 * (resTexRC.x * ").concat(n[1]," + resTexRC.y);\n    }\n  ")}(0,t);case 2:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(o.util.arraysEqual(e,t))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(n[0],", ").concat(n[1],"));\n      }\n    ");var r=Math.ceil(e[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(n[0],", ").concat(n[1],"));\n\n      int index = resTexRC.x * ").concat(n[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(r,");\n      int c = imod(index, ").concat(r,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(e,t);case 3:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[2]/2),a=r*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(n[0],", ").concat(n[1],"));\n      int index = resTexRC.x * ").concat(n[1]," + resTexRC.y;\n\n      int b = index / ").concat(a,";\n      index -= b * ").concat(a,";\n\n      int r = 2 * (index / ").concat(r,");\n      int c = imod(index, ").concat(r,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(e,t);default:return function(e,t){for(var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),a=r*Math.ceil(e[e.length-2]/2),i=a,o="",u="b, r, c",s=2;s<e.length-1;s++)i*=e[e.length-s-1],o="\n      int b".concat(s," = index / ").concat(i,";\n      index -= b").concat(s," * ").concat(i,";\n    ")+o,u="b".concat(s,", ")+u;return"\n    ivec".concat(e.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(n[0],", ").concat(n[1],"));\n      int index = resTexRC.x * ").concat(n[1]," + resTexRC.y;\n\n      ").concat(o,"\n\n      int b = index / ").concat(a,";\n      index -= b * ").concat(a,";\n\n      int r = 2 * (index / ").concat(r,");\n      int c = imod(index, ").concat(r,") * 2;\n\n      return ivec").concat(e.length,"(").concat(u,");\n    }\n  ")}(e,t)}}(t.logicalShape,l),u=function(e){return"\n    void setOutput(vec4 val) {\n      ".concat(e.output," = val;\n    }\n  ")}(f)):(i=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){if(1===t[0])return"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(t[1],".0);\n      }\n    ");if(1===t[1])return"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(t[0],".0);\n      }\n    ");return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      return resTexRC.x * ").concat(t[1]," + resTexRC.y;\n    }\n  ")}(0,t);case 2:return function(e,t){if(o.util.arraysEqual(e,t))return"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(t[0],", ").concat(t[1],"));\n      }\n    ");if(1===e[1])return"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ");if(1===e[0])return"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ");return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      int r = index / ").concat(e[1],";\n      int c = index - r * ").concat(e[1],";\n      return ivec2(r, c);\n    }\n  ")}(e,t);case 3:return function(e,t){var n=vg(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}(e,t);case 4:return function(e,t){var n=vg(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(n,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(e,t);case 5:return function(e,t){var n=vg(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(t[0],",\n                             ").concat(t[1],"));\n\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(e,t);case 6:return function(e,t){var n=vg(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(e,t);default:throw new Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,l),u=function(e){return"\n    void setOutput(float val) {\n      ".concat(e.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(f)),r&&(h+=Wg),[h,d,u,s,i,c,n].join("\n")}function Pg(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(n,"() {return ").concat(t,";}");var r=Object(u.a)(e.shapeInfo.texShape,2),a=r[0],i=r[1];if(1===a&&1===i)return"\n      float ".concat(n,"() {\n        return sampleTexture(").concat(t,", halfCR);\n      }\n    ");var o=Object(u.a)(e.shapeInfo.texShape,2),s=o[0],c=o[1],l=Vg(t);return"\n    float ".concat(n,"() {\n      vec2 uv = uvFromFlat(").concat(s,", ").concat(c,", ").concat(l,");\n      return sampleTexture(").concat(t,", uv);\n    }\n  ")}(e);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"\n      float ".concat(n,"(int index) {\n        ").concat(qg(e),"\n      }\n    ");var r=e.shapeInfo.texShape,a=r[0],i=r[1];if(1===i&&1===a)return"\n      float ".concat(n,"(int index) {\n        return sampleTexture(").concat(t,", halfCR);\n      }\n    ");var o=Vg(t);if(1===i)return"\n      float ".concat(n,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(o,") + 0.5) / ").concat(a,".0);\n        return sampleTexture(").concat(t,", uv);\n      }\n    ");if(1===a)return"\n      float ".concat(n,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(o,") + 0.5) / ").concat(i,".0, 0.5);\n        return sampleTexture(").concat(t,", uv);\n      }\n    ");return"\n    float ".concat(n,"(int index) {\n      vec2 uv = uvFromFlat(").concat(a,", ").concat(i,", index + ").concat(o,");\n      return sampleTexture(").concat(t,", uv);\n    }\n  ")}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape;if(null!=a&&o.util.arraysEqual(t,a)){var i=a[0],u=a[1];return"\n    float ".concat(r,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(u,".0, ").concat(i,".0);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}var s=o.util.squeezeShape(t),c=s.newShape,l=s.keptDims,f=c;if(f.length<t.length){var d=$g(e,f),h=["row","col"];return"\n      ".concat(Pg(d),"\n      float ").concat(r,"(int row, int col) {\n        return ").concat(r,"(").concat(Xg(h,l),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(t[1],", 1)));\n        ").concat(qg(e),"\n      }\n    ");var p=a[0],v=a[1],m=Vg(n);if(1===v)return"\n    float ".concat(r,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(t[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(p,".0);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");if(1===p)return"\n    float ".concat(r,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(t[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(v,".0, 0.5);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");return"\n  float ".concat(r,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(t[1]," + col + ").concat(m,";\n    vec2 uv = uvFromFlat(").concat(p,", ").concat(v,", index);\n    return sampleTexture(").concat(n,", uv);\n  }\n")}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[1]*t[2],i=t[2],u=o.util.squeezeShape(t),s=u.newShape,c=u.keptDims,l=s;if(l.length<t.length){var f=$g(e,l),d=["row","col","depth"];return"\n        ".concat(Pg(f),"\n        float ").concat(r,"(int row, int col, int depth) {\n          return ").concat(r,"(").concat(Xg(d,c),");\n        }\n      ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(a,", ").concat(i,", 1)));\n        ").concat(qg(e),"\n      }\n    ");var h=e.shapeInfo.texShape,p=h[0],v=h[1],m=e.shapeInfo.flatOffset;if(v===a&&null==m)return"\n        float ".concat(r,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(i,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(v,".0, ").concat(p,".0);\n          return sampleTexture(").concat(n,", uv);\n        }\n      ");if(v===i&&null==m)return"\n    float ".concat(r,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(t[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(v,".0, ").concat(p,".0);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");var g=Vg(n);return"\n      float ".concat(r,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(a," + col * ").concat(i," + depth + ").concat(g,";\n        vec2 uv = uvFromFlat(").concat(p,", ").concat(v,", index);\n        return sampleTexture(").concat(n,", uv);\n      }\n  ")}(e);case 4:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[3],i=t[2]*a,u=t[1]*i,s=o.util.squeezeShape(t),c=s.newShape,l=s.keptDims;if(c.length<t.length){var f=$g(e,c),d=["row","col","depth","depth2"];return"\n      ".concat(Pg(f),"\n      float ").concat(r,"(int row, int col, int depth, int depth2) {\n        return ").concat(r,"(").concat(Xg(d,l),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(u,", ").concat(i,", ").concat(a,", 1)));\n        ").concat(qg(e),"\n      }\n    ");var h=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,v=p[0],m=p[1];if(m===u&&null==h)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(i,", ").concat(a,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(m,".0, ").concat(v,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(m===a&&null==h)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(t[1]*t[2],", ").concat(t[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(m,".0, ").concat(v,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var g=Vg(n);return"\n    float ".concat(r,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(u," + col * ").concat(i," +\n          depth * ").concat(a," + depth2;\n      vec2 uv = uvFromFlat(").concat(v,", ").concat(m,", index + ").concat(g,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);case 5:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],i=t[3]*a,u=t[2]*i,s=t[1]*u,c=o.util.squeezeShape(t),l=c.newShape,f=c.keptDims;if(l.length<t.length){var d=$g(e,l),h=["row","col","depth","depth2","depth3"];return"\n      ".concat(Pg(d),"\n      float ").concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(r,"(").concat(Xg(h,f),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(s,", ").concat(u,", ").concat(i,", ").concat(a,")) +\n          depth3;\n        ").concat(qg(e),"\n      }\n    ");var p=e.shapeInfo.flatOffset,v=e.shapeInfo.texShape,m=v[0],g=v[1];if(g===s&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(u,", ").concat(i,", ").concat(a,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(g===a&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3],",\n               ").concat(t[2]*t[3],", ").concat(t[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var b=Vg(n);return"\n    float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(u," + depth * ").concat(i," +\n          depth2 * ").concat(a," + depth3 + ").concat(b,";\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(g,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);case 6:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=o.util.squeezeShape(t),i=a.newShape,u=a.keptDims;if(i.length<t.length){var s=$g(e,i),c=["row","col","depth","depth2","depth3","depth4"];return"\n      ".concat(Pg(s),"\n      float ").concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(r,"(").concat(Xg(c,u),");\n      }\n    ")}var l=t[5],f=t[4]*l,d=t[3]*f,h=t[2]*d,p=t[1]*h;if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(p,", ").concat(h,", ").concat(d,", ").concat(f,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(l,", 1)));\n        ").concat(qg(e),"\n      }\n    ");var v=e.shapeInfo.flatOffset,m=e.shapeInfo.texShape,g=m[0],b=m[1];if(b===p&&null==v)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(h,", ").concat(d,", ").concat(f,", ").concat(l,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(b,".0, ").concat(g,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(b===l&&null==v)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3]*t[4],",\n               ").concat(t[2]*t[3]*t[4],",\n               ").concat(t[3]*t[4],",\n               ").concat(t[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(b,".0, ").concat(g,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var y=Vg(n);return"\n    float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(p," + col * ").concat(h," + depth * ").concat(d," +\n          depth2 * ").concat(f," + depth3 * ").concat(l," + depth4 + ").concat(y,";\n      vec2 uv = uvFromFlat(").concat(g,", ").concat(b,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);default:throw new Error("".concat(t.length,"-D input sampling")+" is not yet supported")}}function Bg(e){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=pg();return"\n    vec4 ".concat(n,"() {\n      return ").concat(r.texture2D,"(").concat(t,", halfCR);\n    }\n  ")}(e);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=e.shapeInfo.texShape,a=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],i=pg();return"\n    vec4 ".concat(n,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(a[0],", ").concat(a[1],", index);\n      return ").concat(i.texture2D,"(").concat(t,", uv);\n    }\n  ")}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,i=a[0],u=a[1],s=pg();if(null!=a&&o.util.arraysEqual(t,a))return"\n      vec4 ".concat(r,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(u,".0, ").concat(i,".0);\n\n        return ").concat(s.texture2D,"(").concat(n,", uv);\n      }\n    ");var c=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],l=Math.ceil(t[1]/2);return"\n    vec4 ".concat(r,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(l,", ").concat(c[0],", ").concat(c[1],", row, col);\n      return ").concat(s.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,i=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(1===t[0]){var o=[1,2],u=$g(e,t.slice(1)),s=["b","row","col"];return"\n        ".concat(Bg(u),"\n        vec4 ").concat(r,"(int b, int row, int col) {\n          return ").concat(r,"(").concat(Xg(s,o),");\n        }\n      ")}var c=i[0],l=i[1],f=Math.ceil(t[2]/2),d=f*Math.ceil(t[1]/2),h=pg();return"\n    vec4 ".concat(r,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(c,", ").concat(l,", ").concat(d,", ").concat(f,", b, row, col);\n      return ").concat(h.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e);default:return function(e){for(var t=e.shapeInfo.logicalShape,n=t.length,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],u=o[0],s=o[1],c=Math.ceil(t[n-1]/2),l=c*Math.ceil(t[n-2]/2),f="int b, int row, int col",d="b * ".concat(l," + (row / 2) * ").concat(c," + (col / 2)"),h=2;h<n-1;h++)f="int b".concat(h,", ")+f,l*=t[n-h-1],d="b".concat(h," * ").concat(l," + ")+d;var p=pg();return"\n    vec4 ".concat(a,"(").concat(f,") {\n      int index = ").concat(d,";\n      int texR = index / ").concat(s,";\n      int texC = index - texR * ").concat(s,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(s,", ").concat(u,");\n      return ").concat(p.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e)}}var zg="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Lg="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Ug="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Wg="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Vg(e){return"offset".concat(e)}function qg(e){var t=e.name,n=o.util.sizeFromShape(e.shapeInfo.logicalShape);return n<2?"return ".concat(t,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(t,"[i];\n      }\n    }\n  ")}function Hg(e,t){var n,r=e.name,a=r.charAt(0).toUpperCase()+r.slice(1),i="get"+a+"AtOutCoords",u=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,c=Ig(e.shapeInfo.logicalShape,t.logicalShape),l=Kg(s),f=s-u,d=["x","y","z","w","u","v"];n=0===u?"":s<2&&c.length>=1?"coords = 0;":c.map((function(e){return"coords.".concat(d[e+f]," = 0;")})).join("\n");var h="";h=s<2&&u>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(d[t+f])})).join(", ");var p="return outputValue;",v=1===o.util.sizeFromShape(e.shapeInfo.logicalShape),m=1===o.util.sizeFromShape(t.logicalShape);if(1!==u||v||m){if(v&&!m)p=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(c.length){var g=u-2,b=u-1;c.indexOf(g)>-1&&c.indexOf(b)>-1?p="return vec4(outputValue.x);":c.indexOf(g)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":c.indexOf(b)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}}else p="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(i,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(n,"\n      vec4 outputValue = get").concat(a,"(").concat(h,");\n      ").concat(p,"\n    }\n  ")}function Gg(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",i=t.texShape,u=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,c=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===c&&null==e.shapeInfo.flatOffset&&o.util.arraysEqual(u,i))return"\n      float ".concat(a,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");var l,f=Kg(c),d=Ig(e.shapeInfo.logicalShape,t.logicalShape),h=c-s,p=["x","y","z","w","u","v"];l=0===s?"":c<2&&d.length>=1?"coords = 0;":d.map((function(e){return"coords.".concat(p[e+h]," = 0;")})).join("\n");var v="";return v=c<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(p[t+h])})).join(", "),"\n    float ".concat(a,"() {\n      ").concat(f," coords = getOutputCoords();\n      ").concat(l,"\n      return get").concat(r,"(").concat(v,");\n    }\n  ")}function Kg(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function $g(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Xg(e,t){return t.map((function(t){return e[t]})).join(", ")}function Yg(e,t,n,r){var a=t.userCode,i=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),u=i.map((function(e){return e.shapeInfo})),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},c=Rg(i,s,a,t.packedInputs),l=e.createProgram(c),f=null,d=e.getUniformLocation(l,"NAN",!1);1===Object(o.env)().getNumber("WEBGL_VERSION")&&(f=e.getUniformLocation(l,"INFINITY",!1));for(var h={},p=0;p<t.variableNames.length;p++){var v=t.variableNames[p];h[v]=e.getUniformLocation(l,v,false),h["offset".concat(v)]=e.getUniformLocation(l,"offset".concat(v),false)}return{program:t,source:c,webGLProgram:l,uniformLocations:h,inShapeInfos:u,outShapeInfo:s,infLoc:f,nanLoc:d}}function Jg(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach((function(e,n){var r=e.logicalShape,a=t[n],i=a.shape;if(!o.util.arraysEqual(r,i))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(r," and ").concat(i," must match"));if(!e.isUniform||!a.isUniform){var u=e.texShape,s=a.isUniform?null:a.texData.texShape;if(!o.util.arraysEqual(u,s))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(u," and ").concat(s," must match"))}}))}function Qg(e,t,n,r,a){Jg(t.inShapeInfos,n),Jg([t.outShapeInfo],[r]);var i=r.texData.texture,u=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i,u[0],u[1]):e.setOutputMatrixTexture(i,u[0],u[1]),e.setProgram(t.webGLProgram),1===Object(o.env)().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var a=t.program.variableNames[r],i=t.uniformLocations[a],u=t.uniformLocations["offset".concat(a)];if(null!=i)if(n.isUniform)if(o.util.sizeFromShape(n.shape)<2)e.gl.uniform1f(i,n.uniformValues[0]);else{var s=n.uniformValues;s instanceof Float32Array||(s=new Float32Array(s)),e.gl.uniform1fv(i,s)}else null!=n.texData.slice&&null!=u&&e.gl.uniform1i(u,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture,i,r)})),null!=a&&a(e,t.webGLProgram),e.executeProgram()}function Zg(e,t,n){var r="";t.concat(n).forEach((function(e){var t=null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0,n=e.isUniform?"uniform":e.texData.texShape;r+="".concat(e.shape,"_").concat(n,"_").concat(t)}));var a=e.userCode,i=e.constructor.name;return i+="_"+r+"_"+a}var eb=gf,tb=cd,nb=ld,rb=hd,ab=yd,ib=ih,ob=lh,ub=Nh,sb=Lh,cb=Wh,lb=tp,fb=up,db=cp,hb=kp,pb=Cp,vb=zp,mb=hh,gb=Xp,bb=mv,yb=bv,xb=Dv,_b=Ef,wb=id,Ob=sm,kb=xh,jb=pm,Eb=mm,Cb=Tf,Ab=Om;function Sb(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return"".concat(e,".").concat(t)}))}function Db(e,t){return 1===t?[e]:Sb(e,t)}var Nb=function e(t){Object(Cn.a)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t;var n=t.length;if(0===n)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var r=Db("rc",n),a=Kg(n),i=function(e,t,n){if(1===e)return"rc > ".concat(t[0]);for(var r="",a=e-2;a<e;a++)r+="".concat(n[a]," >= ").concat(t[a]),a<e-1&&(r+="||");return r}(n,t,r),o=function(e,t,n,r){if(1===e)return"";var a=r.slice(-2);return"\n    int r = ".concat(a[0],";\n    int c = ").concat(a[1],";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= ").concat(t,";\n    bool rEdge = rp1 >= ").concat(n,";\n  ")}(n,t[t.length-1],t[t.length-2],r),u=function(e,t){var n=e.length,r=function(e,t){for(var n=[],r=0;r<=1;r++)for(var a=0;a<=1;a++){for(var i="".concat(0===r?"r":"rp1",", ").concat(0===a?"c":"cp1"),o=2;o<e;o++)i="".concat(t[t.length-1-o],",")+i;n.push(i)}return n}(n,t);if(1===n)return"getA(rc),\n            rc + 1 >= ".concat(e[0]," ? 0. : getA(rc + 1),\n            0, 0");return"getA(".concat(r[0],"),\n          cEdge ? 0. : getA(").concat(r[1],"),\n          rEdge ? 0. : getA(").concat(r[2],"),\n          rEdge || cEdge ? 0. : getA(").concat(r[3],")")}(t,r);this.userCode="\n        void main() {\n          ".concat(a," rc = getOutputCoords();\n\n          if(").concat(i,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(o,"\n\n            setOutput(vec4(").concat(u,"));\n          }\n        }\n      ")}};var Fb=function e(t,n){Object(Cn.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;for(var r="",a=0;a<4;a++){var i="thisRC = rc;";a%2===1&&(i+="thisRC.z += 1;"),a>1&&(i+="thisRC.y += 1;"),r+="\n        ".concat(i,"\n        ").concat(a>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(a,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(a>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(e){var t=vg(["r","c","d"],e);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(t,"\n      return ivec3(r, c, d);\n    }\n  ")}(n),"\n      ").concat(mg(t),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(t[1],";\n        int cols = ").concat(t[2],";\n\n        ").concat(r,"\n\n        setOutput(result);\n      }\n    ")};var Tb=function(){function e(t){Object(Cn.a)(this,e),this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return Object(An.a)(e,[{key:"acquireTexture",value:function(e,t,n){var r=Ib(t,n),a=Rb(e,r,n);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);var i,o=Mb(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();var u=this.freeTextures[a].shift();return this.usedTextures[a].push(u),u}return r===Fm.PACKED_2X2_FLOAT32?i=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===Fm.PACKED_2X2_FLOAT16?i=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===Fm.UNPACKED_FLOAT32?i=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===Fm.UNPACKED_FLOAT16?i=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===Fm.PACKED_4X1_UNSIGNED_BYTE&&(i=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(i),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),i}},{key:"releaseTexture",value:function(e,t,n,r){if(null!=this.freeTextures){var a=Ib(n,r),i=Rb(t,a,r);i in this.freeTextures||(this.freeTextures[i]=[]);var u=Mb(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),s=Object(o.env)().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==s&&this._numBytesAllocated>s?(this.gpgpu.deleteMatrixTexture(e),this._numBytesAllocated-=u):(this.freeTextures[i].push(e),this.numFreeTextures++,this._numBytesFree+=u),this.numUsedTextures--;var c=this.usedTextures[i],l=c.indexOf(e);if(l<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c.splice(l,1),this.log()}}},{key:"log",value:function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));var t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}}},{key:"numBytesAllocated",get:function(){return this._numBytesAllocated}},{key:"numBytesFree",get:function(){return this._numBytesFree}},{key:"getNumUsedTextures",value:function(){return this.numUsedTextures}},{key:"getNumFreeTextures",value:function(){return this.numFreeTextures}},{key:"dispose",value:function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));for(var n in this.usedTextures)this.usedTextures[n].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}]),e}();function Mb(e,t,n,r,a){var i,o=function(e,t){switch(e){case Fm.PACKED_2X2_FLOAT32:return Ng(t);case Fm.PACKED_2X2_FLOAT16:return Fg(t);case Fm.UNPACKED_FLOAT32:return Ag(t);case Fm.UNPACKED_FLOAT16:return Sg(t);case Fm.PACKED_4X1_UNSIGNED_BYTE:return Dg(t);default:throw new Error("Unknown physical texture type ".concat(e))}}(t,r);if(a){var s=Bm(e[0],e[1]),c=Object(u.a)(s,2);i=c[0]*c[1]}else{var l=Rm(e[0],e[1]),f=Object(u.a)(l,2);i=f[0]*f[1]}return i*function(e,t){var n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;throw new Error("Unknown internal format ".concat(t))}(n,o)}function Ib(e,t){if(e===Nm.UPLOAD)return Fm.PACKED_2X2_FLOAT32;if(e===Nm.RENDER||null==e)return function(e){return Object(o.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?Fm.PACKED_2X2_FLOAT32:Fm.UNPACKED_FLOAT32:e?Fm.PACKED_2X2_FLOAT16:Fm.UNPACKED_FLOAT16}(t);if(e===Nm.DOWNLOAD||e===Nm.PIXELS)return Fm.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(e))}function Rb(e,t,n){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(n)}var Pb=function e(t,n){Object(Cn.a)(this,e),this.variableNames=["A"],this.outputShape=t,this.userCode="\n      float unaryOperation(float x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")},Bb="if (isnan(x)) return x;",zb="return x;",Lb="return abs(x);";var Ub="return (x >= 0.0) ? x : (exp(x) - 1.0);",Wb=Bb+"\n  return (x < 0.0) ? 0.0 : x;\n",Vb=Bb+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",qb="return x;",Hb="return x;",Gb="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",Kb="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",$b="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Xb=function e(t,n){Object(Cn.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")},Yb=function e(t){Object(Cn.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t;var n=t.length,r=Db("rc",n),a=Kg(n),i=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,r),o=r.slice(-2),u=n<=1?"rc":"vec2(".concat(o.join(","),")");this.userCode="\n      void main() {\n        ".concat(a," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(i,");\n\n        setOutput(getChannel(packedInput, ").concat(u,"));\n      }\n    ")},Jb=o.kernel_impls.whereImpl,Qb={};var Zb=function(e){Object(Sn.a)(n,e);var t=Object(Dn.a)(n);function n(e){var r,a;if(Object(Cn.a)(this,n),(r=t.call(this)).pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.lastGlFlushTime=0,r.warnedAboutMemory=!1,r.warnedAboutCPUBackend=!1,r.pendingDeletes=0,r.disposed=!1,!Object(o.env)().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==e){var i=Im(Object(o.env)().getNumber("WEBGL_VERSION"));r.binaryCache=((a=Object(o.env)().getNumber("WEBGL_VERSION"))in Qb||(Qb[a]={}),Qb[a]),r.gpgpu=new Mg(i),r.canvas=i.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=e,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=e.gl.canvas;return r.textureManager=new Tb(r.gpgpu),r.numMBBeforeWarning=null==Object(o.env)().global.screen?1024:Object(o.env)().global.screen.height*Object(o.env)().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new o.DataStorage(Object(Mn.a)(r),Object(o.engine)()),r}return Object(An.a)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"numDataIds",value:function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes}},{key:"write",value:function(e,t,n){if((Object(o.env)().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Object(o.env)().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:Nm.UPLOAD,refCount:1}),r}},{key:"refCount",value:function(e){return this.texData.has(e)?this.texData.get(e).refCount:0}},{key:"incRef",value:function(e){this.texData.get(e).refCount++}},{key:"decRef",value:function(e){this.texData.has(e)&&this.texData.get(e).refCount--}},{key:"move",value:function(e,t,n,r,a){if(Object(o.env)().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:Nm.UPLOAD,refCount:a})}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"readSync",value:function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,a=t.complexTensorInfos,i=t.slice,u=t.shape,s=t.isPacked;if(null!=i){var c;c=s?new Xb(u,qb):new Pb(u,qb);var l=this.runWebGLProgram(c,[{dataId:e,shape:u,dtype:r}],r),f=this.readSync(l.dataId);return this.disposeIntermediateTensorInfo(l),f}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var d,h,p=null!=this.activeTimers;if(p&&(d=o.util.now()),"complex64"===r){var v=this.readSync(a.real.dataId),m=this.readSync(a.imag.dataId);h=o.backend_util.mergeRealAndImagArrays(v,m)}else h=this.getValuesFromTexture(e);return p&&(this.downloadWaitMs+=o.util.now()-d),this.convertAndCacheOnCPU(e,h)}},{key:"read",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t){var n,r,a,i,u,s,c,l,f,d,h,p,v,m,g,b,y,x,_,w,O,k;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pendingRead.has(t)){e.next=3;break}return n=this.pendingRead.get(t),e.abrupt("return",new Promise((function(e){return n.push(e)})));case 3:if(r=this.texData.get(t),a=r.values,i=r.shape,u=r.slice,s=r.dtype,c=r.complexTensorInfos,l=r.isPacked,null==u){e.next=11;break}return f=l?new Xb(i,qb):new Pb(i,qb),d=this.runWebGLProgram(f,[{dataId:t,shape:i,dtype:s}],s),h=this.read(d.dataId),this.disposeIntermediateTensorInfo(d),e.abrupt("return",h);case 11:if(null==a){e.next=13;break}return e.abrupt("return",this.convertAndCacheOnCPU(t));case 13:if(Object(o.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")||2!==Object(o.env)().getNumber("WEBGL_VERSION")){e.next=15;break}throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");case 15:if(p=null,"complex64"!==s&&Object(o.env)().get("WEBGL_BUFFER_SUPPORTED")&&(v=this.decode(t),g=this.texData.get(v.dataId),p=(m=this.gpgpu).createBufferFromTexture.apply(m,[g.texture].concat(Object(Fn.a)(Pm(i))))),this.pendingRead.set(t,[]),"complex64"===s){e.next=21;break}return e.next=21,this.gpgpu.createAndWaitForFence();case 21:if("complex64"!==s){e.next=30;break}return e.next=24,Promise.all([this.read(c.real.dataId),this.read(c.imag.dataId)]);case 24:y=e.sent,x=y[0],_=y[1],b=o.backend_util.mergeRealAndImagArrays(x,_),e.next=31;break;case 30:null==p?b=this.getValuesFromTexture(t):(w=o.util.sizeFromShape(i),b=this.gpgpu.downloadFloat32MatrixFromBuffer(p,w));case 31:return null!=v&&this.disposeIntermediateTensorInfo(v),O=this.convertAndCacheOnCPU(t,b),k=this.pendingRead.get(t),this.pendingRead.delete(t),k.forEach((function(e){return e(O)})),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)&&Object(o.engine)().removeDataId(t,this),this.pendingDeletes--),e.abrupt("return",O);case 38:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map((function(e){return o.util.decodeString(e)}))}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return Object(o.buffer)(e.shape,e.dtype,n)}},{key:"checkNumericalProblems",value:function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!Um(n)){if(Object(o.env)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(n," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(n," cannot be represented on this device."))}}}},{key:"getValuesFromTexture",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,a=t.isPacked,i=o.util.sizeFromShape(n);if(Object(o.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var u,s=this.decode(e),c=this.texData.get(s.dataId),l=(u=this.gpgpu).downloadMatrixFromPackedTexture.apply(u,[c.texture].concat(Object(Fn.a)(Pm(n)))).subarray(0,i);return this.disposeIntermediateTensorInfo(s),l}var f=Object(o.env)().getBool("WEBGL_PACK")&&!0===a,d=f?ig(n):n,h=f?new _g(d):new xg(d),p=this.runWebGLProgram(h,[{shape:d,dtype:r,dataId:e}],"float32"),v=this.texData.get(p.dataId),m=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(v.texture,v.texShape[0],v.texShape[1]).subarray(0,i);return this.disposeIntermediateTensorInfo(p),m}},{key:"timerAvailable",value:function(){return Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}},{key:"time",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t){var n,r,a,i,u,s,c;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.activeTimers,r=[],a=!1,null==this.programTimersStack?(this.programTimersStack=r,a=!0):this.activeTimers.push(r),this.activeTimers=r,t(),i=o.util.flatten(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),u=o.util.flatten(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e})),this.activeTimers=n,a&&(this.programTimersStack=null),s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},!(Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=19;break}return e.next=14,Promise.all(i);case 14:c=e.sent,s.kernelMs=o.util.sum(c),s.getExtraProfileInfo=function(){return c.map((function(e,t){return{name:u[t],ms:e}})).map((function(e){return"".concat(e.name,": ").concat(e.ms)})).join(", ")},e.next=20;break;case 19:s.kernelMs={error:"WebGL query timers are not supported in this environment."};case 20:return this.uploadWaitMs=0,this.downloadWaitMs=0,e.abrupt("return",s);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"memory",value:function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}},{key:"startTimer",value:function(){return Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:o.util.now(),endMs:null}}},{key:"endTimer",value:function(e){return Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=o.util.now(),e)}},{key:"getQueryTime",value:function(){var e=Object(Ya.a)(Xa.a.mark((function e(t){var n;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object(o.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=2;break}return e.abrupt("return",this.gpgpu.waitForQueryAndGetTime(t));case 2:return n=t,e.abrupt("return",n.endMs-n.startMs);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);var n=this.texData.get(e),r=n.complexTensorInfos;return null!=r&&(this.disposeData(r.real.dataId,t),this.disposeData(r.imag.dataId,t)),this.texData.delete(e),!0}},{key:"releaseGPUData",value:function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,a=t.texShape,i=t.usage,o=t.isPacked,u=t.slice,s=u&&u.origDataId||e,c=this.dataRefCount.get(s);c>1?this.dataRefCount.set(s,c-1):(this.dataRefCount.delete(s),null!=n&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(n,a,i,o)));var l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null}},{key:"getTexture",value:function(e){return this.uploadToGPU(e),this.texData.get(e).texture}},{key:"getDataInfo",value:function(e){return this.texData.get(e)}},{key:"getCPUBackend",value:function(){return Object(o.env)().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=Object(o.engine)().findBackend("cpu")),this.cpuBackend):null}},{key:"shouldExecuteOnCPU",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:128,r=this.getCPUBackend();return Object(o.env)().getBool("IS_TEST")||this.warnedAboutCPUBackend||null!=r||(console.warn("Your application contains ops that are small enough to be executed on the CPU backend, however the CPU backend cannot be found. Consider importing the CPU backend (@tensorflow/tfjs-backend-cpu) for better performance."),this.warnedAboutCPUBackend=!0),null!=r&&e.every((function(e){return null==t.texData.get(e.dataId).texture&&o.util.sizeFromShape(e.shape)<n}))}},{key:"getGPGPUContext",value:function(){return this.gpgpu}},{key:"where",value:function(e){o.backend_util.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return Jb(e.shape,t)}},{key:"packedUnaryOp",value:function(e,t,n){var r=new Xb(e.shape,t),a=this.compileAndRun(r,[e],n);return Object(o.engine)().makeTensorFromDataId(a.dataId,a.shape,a.dtype)}},{key:"abs",value:function(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){var t=_b(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(Object(o.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Lb,e.dtype);var n=new Pb(e.shape,Lb),r=this.compileAndRun(n,[e]);return Object(o.engine)().makeTensorFromDataId(r.dataId,r.shape,r.dtype)}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&o.util.isString(n[0])){var a=n.map((function(e){return o.util.encodeString(e)}));r=this.write(a,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}},{key:"makeOutput",value:function(e,t,n){var r=this.makeTensorInfo(e,t,n).dataId;return Object(o.engine)().makeTensorFromDataId(r,e,t,this)}},{key:"unpackTensor",value:function(e){var t=new Yb(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}},{key:"packTensor",value:function(e){var t=new Nb(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}},{key:"packedReshape",value:function(e,t){var n=[rg(e.shape)].concat(Object(Fn.a)(ag(e.shape))),r={dtype:e.dtype,shape:n,dataId:e.dataId},a=[rg(t)].concat(Object(Fn.a)(ag(t))),i=new Fb(a,n),o=this.runWebGLProgram(i,[r],e.dtype,null,!0);return{dataId:o.dataId,shape:t,dtype:o.dtype}}},{key:"decode",value:function(e){var t,n=this.texData.get(e),r=n.isPacked,a=n.shape,i=n.dtype,o=ig(a);t=r?new yg(o):new bg(o);return{dtype:i,shape:a,dataId:this.runWebGLProgram(t,[{shape:o,dtype:i,dataId:e}],i,null,!0).dataId}}},{key:"runWebGLProgram",value:function(e,t,n,r){var a=this,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(u.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===Dm.DENSE){var c=Pm(e.outputShape);s.texShape=c.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===o.util.sizeFromShape(u.shape))return s.values=o.util.getTypedArrayFromDType(u.dtype,0),u;var l=[],f=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=a.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&o.util.sizeFromShape(t.shape)<=Object(o.env)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}else if(!!n.isPacked!==!!e.packedInputs)t=n.isPacked?a.unpackTensor(t):a.packTensor(t),l.push(t),n=a.texData.get(t.dataId);else if(n.isPacked&&!ug(n.shape,t.shape)){var r=t,i=t.shape;t.shape=n.shape,t=a.packedReshape(t,i),l.push(t),n=a.texData.get(t.dataId),r.shape=i}return a.uploadToGPU(t.dataId),{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(u.dataId);var d,h={shape:u.shape,texData:s,isUniform:!1},p=Zg(e,f,h),v=this.getAndSaveBinary(p,(function(){return Yg(a.gpgpu,e,f,h)})),m=null!=this.activeTimers;m&&(d=this.startTimer()),Qg(this.gpgpu,v,f,h,r),l.forEach((function(e){return a.disposeIntermediateTensorInfo(e)})),m&&(d=this.endTimer(d),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(d)}));var g=Object(o.env)().get("WEBGL_FLUSH_THRESHOLD");if(g>0){var b=o.util.now();b-this.lastGlFlushTime>g&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=b)}if(!Object(o.env)().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===i){var y=this.unpackTensor(u);return this.disposeIntermediateTensorInfo(u),y}return u}},{key:"compileAndRun",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||t[0].dtype;var i=this.runWebGLProgram(e,t,n,r,a);return i}},{key:"getAndSaveBinary",value:function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}},{key:"getTextureManager",value:function(){return this.textureManager}},{key:"dispose",value:function(){var e=this;if(!this.disposed){if(!Object(o.env)().getBool("IS_TEST"))Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}));this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}},{key:"floatPrecision",value:function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Object(o.tidy)((function(){if(!Object(o.env)().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=Object(o.env)().getBool("DEBUG");Object(o.env)().set("DEBUG",!1);var n=e.abs(Object(o.scalar)(1e-8)).dataSync()[0];if(Object(o.env)().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"uploadToGPU",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,a=t.values,i=t.texture,s=t.usage,c=t.isPacked;if(null==i){var l,f=null!=this.activeTimers;f&&(l=o.util.now());var d=t.texShape;if(null==d&&(d=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(o.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,1===(e=e.map((function(t,n){return n>=e.length-2?o.util.nearestLargerEven(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var r=o.util.squeezeShape(e);e=r.newShape}var a=o.util.sizeFromShape(e);if(e.length<=1&&a<=n)return[1,a];if(2===e.length&&e[0]<=n&&e[1]<=n)return e;if(3===e.length&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){var i=rg(e),s=2,c=2;if(e.length){var l=ag(e),f=Object(u.a)(l,2);s=f[0],c=f[1]}return a=i*(s/2)*(c/2),o.util.sizeToSquarishShape(a).map((function(e){return 2*e}))}return o.util.sizeToSquarishShape(a)}(n,c),t.texShape=d),null!=a){var h,p=ig(n),v=d[1],m=d[0],g=a instanceof Uint8Array;if(c){var b=Bm(d[0],d[1]),y=Object(u.a)(b,2);v=y[0],m=y[1],h=new Og(p,[m,v],g)}else h=new wg(p,[m,v],g);var x=this.makeTensorInfo([m,v],r);this.texData.get(x.dataId).usage=g?Nm.PIXELS:Nm.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(x.dataId),v,m,a);var _=this.runWebGLProgram(h,[x],r,null,!0),w=this.texData.get(_.dataId);t.texture=w.texture,t.texShape=w.texShape,t.isPacked=w.isPacked,t.usage=w.usage,this.disposeIntermediateTensorInfo(x),this.texData.delete(_.dataId),t.values=null,f&&(this.uploadWaitMs+=o.util.now()-l)}else{var O=this.acquireTexture(d,s,r,c);t.texture=O}}}},{key:"convertAndCacheOnCPU",value:function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype ".concat(t))}(t,r)),n.values}},{key:"acquireTexture",value:function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(a," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)}},{key:"computeBytes",value:function(e,t){return e[0]*e[1]*o.util.bytesPerElement(t)}}]),n}(o.KernelBackend);Zb.nextDataId=0;o.device_util.isBrowser()&&Object(o.registerBackend)("webgl",(function(){return new Zb}),2);var ey=function e(t,n,r){Object(Cn.a)(this,e),this.variableNames=["A","B"],this.outputShape=o.backend_util.assertAndGetBroadcastShape(n,r),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")},ty=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(Cn.a)(this,e),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=o.backend_util.assertAndGetBroadcastShape(n,r);var i=this.outputShape.length,u="";if(a)if(0===i||1===o.util.sizeFromShape(this.outputShape))u="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{var s=Kg(i);if(u="\n          ".concat(s," coords = getOutputCoords();\n        "),1===i)u+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{var c=Db("coords",i);u+="\n            bool nextRowOutOfBounds =\n              (".concat(c[i-2]," + 1) >= ").concat(this.outputShape[i-2],";\n            bool nextColOutOfBounds =\n              (").concat(c[i-1]," + 1) >= ").concat(this.outputShape[i-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(u,"\n\n        setOutput(result);\n      }\n    ")};function ny(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var ry={kernelName:o.Identity,backendName:"webgl",kernelFunc:ny};function ay(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,i=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(i.dataId),u=ny({inputs:{x:r},backend:n}),s=ny({inputs:{x:a},backend:n});return o.complexTensorInfos={real:u,imag:s},i}var iy={kernelName:o.Complex,backendName:"webgl",kernelFunc:ay},oy="return (a < 0.) ? b * a : a;",uy="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var sy={kernelName:o.LeakyRelu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.alpha,u=n.makeTensorInfo([],"float32",o.util.createScalarValue(i,"float32")),s=Object(o.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ty(uy,a.shape,u.shape):new ey(oy,a.shape,u.shape),c=n.runWebGLProgram(s,[a,u],a.dtype);return n.disposeIntermediateTensorInfo(u),c}},cy="return (a < 0.) ? b * a : a;",ly="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var fy={kernelName:o.Prelu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha,i=Object(o.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ty(ly,r.shape,a.shape):new ey(cy,r.shape,a.shape);return n.runWebGLProgram(i,[r,a],r.dtype)}};function dy(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.cpuKernelImpl,a=e.dtype;return function(e){var i,u=e.inputs,s=e.backend,c=u.x,l=s,f=a||c.dtype;if(l.shouldExecuteOnCPU([c])&&null!=r){var d=l.texData.get(c.dataId),h=r(d.values,f);return l.makeTensorInfo(c.shape,f,h)}return i=Object(o.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new Xb(c.shape,n):new Pb(c.shape,t),l.runWebGLProgram(i,[c],f)}}function hy(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.checkOutOfBounds,a=void 0!==r&&r,i=e.supportsComplex,s=void 0!==i&&i,c=e.cpuKernelImpl,l=e.dtype;return function(e){var r=e.inputs,i=e.backend,f=r.a,d=r.b,h=i;if(s&&"complex64"===f.dtype){var p=h.texData.get(f.dataId),v=h.texData.get(d.dataId),m=[[p.complexTensorInfos.real,v.complexTensorInfos.real],[p.complexTensorInfos.imag,v.complexTensorInfos.imag]].map((function(e){var n=Object(u.a)(e,2),r=n[0],a=n[1],i={dataId:r.dataId,dtype:r.dtype,shape:f.shape},s={dataId:a.dataId,dtype:a.dtype,shape:d.shape},c=new ey(t,f.shape,d.shape);return h.runWebGLProgram(c,[i,s],Object(o.upcastType)(r.dtype,a.dtype))})),g=Object(u.a)(m,2),b=g[0],y=g[1],x=ay({inputs:{real:b,imag:y},backend:h});return h.disposeIntermediateTensorInfo(b),h.disposeIntermediateTensorInfo(y),x}var _,w=l||Object(o.upcastType)(f.dtype,d.dtype);if(h.shouldExecuteOnCPU([f,d])&&null!=c){var O=h.texData.get(f.dataId),k=h.texData.get(d.dataId),j=c(f.shape,d.shape,O.values,k.values,w),E=Object(u.a)(j,2),C=E[0],A=E[1],S=h.makeTensorInfo(A,w);return h.texData.get(S.dataId).values=C,S}return _=Object(o.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new ty(n,f.shape,d.shape,a):new ey(t,f.shape,d.shape),h.runWebGLProgram(_,[f,d],w)}}function py(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?Hb:zb;if("relu"===e)return t?Kb:Wb;if("elu"===e)return t?Gb:Ub;if("relu6"===e)return t?$b:Vb;if("prelu"===e)return t?ly:cy;if("leakyrelu"===e)return t?uy:oy;throw new Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}var vy=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];Object(Cn.a)(this,e),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r;var l=a?t[1]:t[2],f=Math.ceil(l/2),d=a?"i * 2, rc.y":"rc.y, i * 2",h=i?"rc.z, i * 2":"i * 2, rc.z",p=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],v=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],m="",g="";u&&(m=s?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(u,"\n        }"):c?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(u,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(u,"\n        }"),g="result = activation(result);");var b=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");var y="rc.x",x="rc.x";t[0]<n[0]?y="int(min(float(rc.x), ".concat(t[0]-1,".))"):n[0]<t[0]&&(x="int(min(float(rc.x), ".concat(n[0]-1,".))")),this.userCode="\n      ".concat(m,"\n\n      const float sharedDimension = ").concat(f,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ").concat(f,"; i++) {\n          int batchA = ").concat(y,";\n          int batchB = ").concat(x,";\n          vec4 a = getMatrixA(batchA, ").concat(d,");\n          vec4 b = getMatrixB(batchB, ").concat(h,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(p[0]," * ").concat(v[0],");\n          result += (").concat(p[1]," * ").concat(v[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(b,"\n\n        ").concat(g,"\n\n        setOutput(result);\n      }\n    ")},my="return areal * breal - aimag * bimag;",gy="return areal * bimag + aimag * breal;",by=function e(t,n,r){Object(Cn.a)(this,e),this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=o.backend_util.assertAndGetBroadcastShape(n,r),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")},yy="return a * b;";function xy(e){var t,n=e.inputs,r=e.backend,a=n.a,i=n.b,s=o.backend_util.upcastType(a.dtype,i.dtype);if("complex64"===a.dtype){var c=r.texData.get(a.dataId),l=r.texData.get(i.dataId),f=new by(my,a.shape,i.shape),d=new by(gy,a.shape,i.shape),h=[{dataId:c.complexTensorInfos.real.dataId,dtype:c.complexTensorInfos.real.dtype,shape:a.shape},{dataId:c.complexTensorInfos.imag.dataId,dtype:c.complexTensorInfos.imag.dtype,shape:a.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:i.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:i.shape}],p=r.runWebGLProgram(f,h,"float32"),v=r.runWebGLProgram(d,h,"float32"),m=ay({inputs:{real:p,imag:v},backend:r});return r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(v),m}if(r.shouldExecuteOnCPU([a,i])){var g=r.texData.get(a.dataId),b=r.texData.get(i.dataId),y=mb(a.shape,i.shape,g.values,b.values,s),x=Object(u.a)(y,2),_=x[0],w=x[1],O=r.makeTensorInfo(w,s);return r.texData.get(O.dataId).values=_,O}return t=Object(o.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ty(yy,a.shape,i.shape):new ey(yy,a.shape,i.shape),r.runWebGLProgram(t,[a,i],s)}var _y={kernelName:o.Multiply,backendName:"webgl",kernelFunc:xy};function wy(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.shape,u=n,s=o.util.sizeFromShape(a.shape),c=o.util.inferFromImplicitShape(i,s),l=o.util.sizeFromShape(c);o.util.assert(s===l,(function(){return"The new shape (".concat(c,") has ").concat(l," elements and the old ")+"shape (".concat(a.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."}));var f=u.texData.get(a.dataId);return!f.isPacked||ug(a.shape,c)||null!==f.texture&&ug(f.shape,c)?(u.incRef(a.dataId),{dataId:a.dataId,shape:c,dtype:a.dtype}):function(e,t,n){var r=[rg(e.shape)].concat(Object(Fn.a)(ag(e.shape))),a={dtype:e.dtype,shape:r,dataId:e.dataId},i=[rg(t)].concat(Object(Fn.a)(ag(t))),o=new Fb(i,r),u=n.runWebGLProgram(o,[a],e.dtype,null,!0);return{dataId:u.dataId,shape:t,dtype:u.dtype}}(a,c,u)}var Oy={kernelName:o.Reshape,backendName:"webgl",kernelFunc:wy},ky=function e(t,n){Object(Cn.a)(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,i=t.inSize,u=t.outSize;this.outputShape=[a,u];var s=4*Math.floor(r/4),c=r%4,l="sumValue += dot(values, ones);";if(null!=n){var f=1/n;l="sumValue += dot(values * ".concat(o.util.isInt(f)?f.toPrecision(2):f,", ones);")}var d="";i%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(d,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(s,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(s,";\n        if (").concat(1===c,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(2===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(3===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(l,"\n        }\n        setOutput(sumValue);\n      }\n    ")},jy=function e(t,n){Object(Cn.a)(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.outSize;this.outputShape=[a,o];var u="0.0",s="";"prod"===n?u="1.0":"min"===n?(u="1.0 / 1e-20",s="min"):"max"===n&&(u="-1.0 / 1e-20",s="max");var c="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===n?c="sumValue":"prod"===n?c="prodValue":"all"===n?c="allValue":"any"===n&&(c="anyValue");var l=4*Math.floor(r/4),f=r%4,d="\n      if (".concat("sum"===n,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===n,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(s,"(values, minMaxValue);\n      }\n    "),h="vec4";"all"===n?(u="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):"any"===n&&(u="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");var p="";i%r>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(u,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(p,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        vec4 minMaxValue = vec4(").concat(u,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(l,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(d,"\n        }\n\n        int inIdx = inOffset + ").concat(l,";\n        if (").concat(1===f,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(d,"\n        } else if (").concat(2===f,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(d,"\n        } else if (").concat(3===f,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(d,"\n        }\n        setOutput(").concat(c,");\n      }\n    ")};function Ey(e,t,n,r){for(var a=function(e){for(var t=[];0===t.length||1!==t[t.length-1].outSize;){var n=t.length?t[t.length-1].outSize:e[1],r=o.backend_util.computeOptimalWindowSize(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape),i=e,u=0;u<a.length;u++){var s,c=a[u],l=c.inSize,f=c.windowSize,d=c.outSize,h=void 0;h="mean"===n?0===u?new ky({windowSize:f,inSize:l,batchSize:e.shape[0],outSize:d},l):new ky({windowSize:f,inSize:l,batchSize:e.shape[0],outSize:d}):new jy({windowSize:f,inSize:l,batchSize:e.shape[0],outSize:d},n),s=i,i=r.runWebGLProgram(h,[i],t),s.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(s)}return i}var Cy=function e(t,n){Object(Cn.a)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];this.outputShape=r,this.rank=r.length;var i=Kg(this.rank),o=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}(n);this.userCode="\n    void main() {\n      ".concat(i," resRC = getOutputCoords();\n      setOutput(getA(").concat(o,"));\n    }\n    ")};var Ay=function e(t,n){Object(Cn.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));for(var i=Kg(this.rank),o=Sb("rc",this.rank),u=new Array(this.rank),s=0;s<n.length;s++)u[n[s]]=o[s];var c="vec2(".concat(u.slice(-2).join(),")"),l="++".concat(o[this.rank-1]," < ").concat(r[this.rank-1]),f="getChannel(getA(".concat(u.join(),"), ").concat(c,")");this.userCode="\n    void main() {\n      ".concat(i," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(f,";\n      if(").concat(l,") {\n        result[1] = ").concat(f,";\n      }\n      --").concat(o[this.rank-1],";\n      if(++").concat(o[this.rank-2]," < ").concat(r[this.rank-2],") {\n        result[2] = ").concat(f,";\n        if(").concat(l,") {\n          result[3] = ").concat(f,";\n        }\n      }\n      setOutput(result);\n    }\n    ")};function Sy(e,t,n){var r=Object(o.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ay(e.shape,t):new Cy(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function Dy(e){var t=e.inputs,n=e.backend,r=e.attrs;return function(e,t,n,r){var a=t,i=e.shape.length,s=o.util.parseAxisParam(a,e.shape),c=s,l=o.backend_util.getAxesPermutation(c,i),f=null!=l,d=e;f&&(d=Sy(e,l,r),c=o.backend_util.getInnerMostAxes(c.length,i)),o.backend_util.assertAxesAreInnerMostDims("sum",c,i);var h=o.backend_util.computeOutAndReduceShapes(d.shape,c),p=Object(u.a)(h,2),v=p[0],m=p[1],g=v;n&&(g=o.backend_util.expandShapeToKeepDim(v,s));var b=o.util.sizeFromShape(m),y=wy({inputs:{x:d},attrs:{shape:[o.util.sizeFromShape(e.shape)/b,b]},backend:r}),x=Ey(y,Object(o.sumOutType)(e.dtype),"sum",r),_=wy({inputs:{x:x},attrs:{shape:g},backend:r});return r.disposeIntermediateTensorInfo(y),r.disposeIntermediateTensorInfo(x),f&&r.disposeIntermediateTensorInfo(d),_}(t.x,r.axis,r.keepDims,n)}var Ny={kernelName:o.Sum,backendName:"webgl",kernelFunc:Dy};function Fy(e){for(var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=a.perm,u=r,s=i.shape.length,c=new Array(s),l=0;l<c.length;l++)c[l]=i.shape[o[l]];if(u.shouldExecuteOnCPU([i])){var f=u.texData.get(i.dataId).values,d=Cb(f,i.shape,i.dtype,o,c);t=u.makeTensorInfo(c,i.dtype),u.texData.get(t.dataId).values=d}else t=Sy(i,o,u);return t}var Ty={kernelName:o.Transpose,backendName:"webgl",kernelFunc:Fy};function My(e){var t=e.a,n=e.b,r=e.transposeA,a=e.transposeB,i=e.backend,u=e.bias,s=void 0===u?null:u,c=e.preluActivationWeights,l=void 0===c?null:c,f=e.leakyreluAlpha,d=void 0===f?0:f,h=e.activation,p=void 0===h?null:h,v=t.shape.length,m=n.shape.length,g=r?t.shape[v-2]:t.shape[v-1],b=a?n.shape[m-1]:n.shape[m-2],y=r?t.shape[v-1]:t.shape[v-2],x=a?n.shape[m-2]:n.shape[m-1],_=t.shape.slice(0,-2),w=n.shape.slice(0,-2),O=o.util.sizeFromShape(_),k=o.util.sizeFromShape(w),j=O===k||1===O||1===k;o.util.assert(v>=2&&m>=2&&j,(function(){return"Error in matMul: the input batch dimensions must either be the same or at least one input batch dimension must be 1. Got input "+"batch dimensions of (".concat(_,") and (").concat(w,").")}));var E=(O>k?t.shape.slice(0,-2):n.shape.slice(0,-2)).concat([y,x]);o.util.assert(g===b,(function(){return"Error in matMul: inner shapes (".concat(g,") and (")+"".concat(b,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(n.shape," and transposeA=").concat(r)+" and transposeB=".concat(a," must match.")}));var C,A=r?[O,g,y]:[O,y,g],S=a?[k,x,b]:[k,b,x],D=wy({inputs:{x:t},backend:i,attrs:{shape:A}}),N=wy({inputs:{x:n},backend:i,attrs:{shape:S}}),F=[D,N],T=Math.max(O,k),M=r?D.shape[1]:D.shape[2],I=null!=s,R=null!=l,P="leakyrelu"===p,B=null!=p?py(p,!0):null;if((1===y||1===x)&&M>1e3&&!1===(I||R||P||null!=B)){var z=D,L=N;r&&(z=Fy({inputs:{x:D},backend:i,attrs:{perm:[0,2,1]}}),F.push(z)),a&&(L=Fy({inputs:{x:N},backend:i,attrs:{perm:[0,2,1]}}),F.push(L));var U=1===x,W=z;1!==x&&(W=wy({inputs:{x:z},backend:i,attrs:{shape:[T,M,1]}}),F.push(W));var V=1===x?2:1,q=L;U&&(q=wy({inputs:{x:L},backend:i,attrs:{shape:[T,1,M]}}),F.push(q));var H=xy({inputs:{a:W,b:q},backend:i});C=Dy({inputs:{x:H},backend:i,attrs:{axis:V,keepDims:!0}}),F.push(H)}else{var G=Object(o.upcastType)(t.dtype,n.dtype),K=new vy(A,S,[T,y,x],r,a,I,B,R,P),$=[D,N];if(null!=s&&$.push(s),R&&$.push(l),P){var X=i.makeTensorInfo([],"float32",o.util.createScalarValue(d,"float32"));$.push(X),F.push(X)}C=i.runWebGLProgram(K,$,G)}var Y=wy({inputs:{x:C},backend:i,attrs:{shape:E}});F.push(C);for(var J=0,Q=F;J<Q.length;J++){var Z=Q[J];i.disposeIntermediateTensorInfo(Z)}return Y}var Iy={kernelName:o._FusedMatMul,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,i=t.b,o=t.bias,u=t.preluActivationWeights,s=r.transposeA,c=r.transposeB,l=r.activation;return My({a:a,b:i,transposeA:s,transposeB:c,backend:n,bias:o,preluActivationWeights:u,leakyreluAlpha:r.leakyreluAlpha,activation:l})}},Ry="return abs(x);";var Py={kernelName:o.Abs,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.x;if(r.shouldExecuteOnCPU([a])&&"complex64"!==a.dtype){var i=r.texData.get(a.dataId),u=_b(i.values);return r.makeTensorInfo(a.shape,a.dtype,u)}return t=Object(o.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Xb(a.shape,Ry):new Pb(a.shape,Ry),r.runWebGLProgram(t,[a],a.dtype)}},By=dy({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),zy={kernelName:o.Acos,backendName:"webgl",kernelFunc:By},Ly=dy({opSnippet:"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),Uy={kernelName:o.Acosh,backendName:"webgl",kernelFunc:Ly},Wy="return a + b;",Vy=hy({opSnippet:Wy,packedOpSnippet:Wy,supportsComplex:!0,cpuKernelImpl:eb}),qy={kernelName:o.Add,backendName:"webgl",kernelFunc:Vy},Hy=function e(t,n){Object(Cn.a)(this,e),this.outputShape=[],this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))}));var a=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        float result = ").concat(a,";\n        setOutput(result);\n      }\n    ")},Gy=function e(t,n){Object(Cn.a)(this,e),this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))}));var a=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        vec4 result = ").concat(a,";\n        setOutput(result);\n      }\n    ")};var Ky={kernelName:o.AddN,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n;if(1===a.length)return ny({inputs:{x:a[0]},backend:r});if(a.length>Object(o.env)().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var i=Math.floor(a.length/2),u=e({inputs:a.slice(0,i),backend:r}),s=e({inputs:a.slice(i),backend:r});return e({inputs:[u,s],backend:r})}var c=a.map((function(e){return e.dtype})).reduce((function(e,t){return Object(o.upcastType)(e,t)})),l=a.map((function(e){return e.shape})),f=Object(o.env)().getBool("WEBGL_PACK")?new Gy(a[0].shape,l):new Hy(a[0].shape,l);return r.runWebGLProgram(f,a,c)}};var $y={kernelName:o.All,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,s=r.keepDims,c=a.shape.length,l=o.util.parseAxisParam(i,a.shape),f=l,d=o.backend_util.getAxesPermutation(f,c),h=a;null!=d&&(h=Fy({inputs:{x:a},backend:n,attrs:{perm:d}}),f=o.backend_util.getInnerMostAxes(f.length,c)),o.backend_util.assertAxesAreInnerMostDims("all",f,c);var p,v=o.backend_util.computeOutAndReduceShapes(h.shape,f),m=Object(u.a)(v,2),g=m[0],b=m[1],y=wy({inputs:{x:h},backend:n,attrs:{shape:[-1,o.util.sizeFromShape(b)]}}),x=Ey(y,y.dtype,"all",n);return p=wy(s?{inputs:{x:x},backend:n,attrs:{shape:o.backend_util.expandShapeToKeepDim(g,l)}}:{inputs:{x:x},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(x),null!=d&&n.disposeIntermediateTensorInfo(h),p}};var Xy={kernelName:o.Any,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,s=r.keepDims,c=a.shape.length,l=o.util.parseAxisParam(i,a.shape),f=l,d=o.backend_util.getAxesPermutation(f,c),h=a;null!=d&&(h=Fy({inputs:{x:a},backend:n,attrs:{perm:d}}),f=o.backend_util.getInnerMostAxes(f.length,c)),o.backend_util.assertAxesAreInnerMostDims("any",f,c);var p,v=o.backend_util.computeOutAndReduceShapes(h.shape,f),m=Object(u.a)(v,2),g=m[0],b=m[1],y=wy({inputs:{x:h},backend:n,attrs:{shape:[-1,o.util.sizeFromShape(b)]}}),x=Ey(y,y.dtype,"any",n);return p=wy(s?{inputs:{x:x},backend:n,attrs:{shape:o.backend_util.expandShapeToKeepDim(g,l)}}:{inputs:{x:x},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(x),null!=d&&n.disposeIntermediateTensorInfo(h),p}},Yy=function e(t,n,r){Object(Cn.a)(this,e),this.variableNames=["A"];var a=t.windowSize,i=t.batchSize,o=t.outSize;r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];var u="max"===n?">":"<",s=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(a,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          int inIdx = ").concat(s,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(u," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")},Jy=function e(t,n,r,a){Object(Cn.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,o.util.assert(t.length>2,(function(){return"Packed arg".concat(r.charAt(0).toUpperCase()+r.slice(1)," supports only inputs with rank above 2.")}));var i=t[t.length-1],u=Math.ceil(i/n);this.outputShape=t.slice(0,-1),u>1&&this.outputShape.push(u),a||this.variableNames.push("bestIndicesA");var s,c,l=this.outputShape,f=l.length,d=Kg(f),h=Db("coords",f);if(1===u){var p=Kg(c=f+1);s="\n        ".concat(p," sourceLocR = ").concat(p,"(").concat(h.join(),", 0);\n        ++").concat(h[f-1],";\n        ").concat(p," sourceLocG = ").concat(p,"(").concat(h.join(),", 0);\n        ++").concat(h[f-2],";\n        ").concat(p," sourceLocA = ").concat(p,"(").concat(h.join(),", 0);\n        --").concat(h[f-1],";\n        ").concat(p," sourceLocB = ").concat(p,"(").concat(h.join(),", 0);\n        --").concat(h[f-2],";")}else c=f,s="\n        ".concat(d," sourceLocR = coords;\n        ++").concat(h[f-1],";\n        ").concat(d," sourceLocG = coords;\n        ++").concat(h[f-2],";\n        ").concat(d," sourceLocA = coords;\n        --").concat(h[f-1],";\n        ").concat(d," sourceLocB = coords;\n        --").concat(h[f-2],";");var v=["x","y","z","w","u","v"].slice(0,c),m="."+v[c-1],g=v.map((function(e){return"int "+e})),b=Db("sourceLocR",c-1).concat("inIdx.r"),y=Db("sourceLocG",c-1).concat("inIdx.g"),x=Db("sourceLocB",c-1).concat("inIdx.b"),_=Db("sourceLocA",c-1).concat("inIdx.a"),w="max"===r?"greaterThan":"lessThan",O=a?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(b.join(),"),\n                             getBestIndicesAChannel(").concat(y.join(),"),\n                             getBestIndicesAChannel(").concat(x.join(),"),\n                             getBestIndicesAChannel(").concat(_.join(),")));"),k="vec4(\n            getAChannel(".concat(b.join(),"),\n            hasNextCol ? getAChannel(").concat(y.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(x.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(_.join(),") : 0.)"),j=a?"":"\n      float getBestIndicesAChannel(".concat(g.join(),") {\n        return getChannel(getBestIndicesA(").concat(v.join(),"),\n                                          vec2(").concat(v.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(g.join(),") {\n        return getChannel(getA(").concat(v.join(),"),\n                               vec2(").concat(v.slice(-2).join(),"));\n      }\n      ").concat(j,"\n      void main() {\n        ").concat(d," coords = getOutputCoords();\n        bool hasNextCol = ").concat(h[f-1]," < ").concat(l[f-1]-1,";\n        bool hasNextRow = ").concat(h[f-2]," < ").concat(l[f-2]-1,";\n        ").concat(s,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(m,", sourceLocG").concat(m,",\n          sourceLocB").concat(m,", sourceLocA").concat(m,") * ").concat(n,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(k,";\n\n        for (int i = 0; i < ").concat(n,"; i++) {\n          inIdx = srcIdx;\n          ").concat(O,"\n          vec4 candidate = ").concat(k,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(w,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")};function Qy(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=t.shape[0],i=t.shape[1];null!=r&&(a=r.shape[0],i=r.shape[1]);var u=o.backend_util.computeOptimalWindowSize(i),s={windowSize:u,inSize:i,batchSize:a,outSize:Math.ceil(i/u)},c=new Yy(s,n,null==r),l=[t];null!=r&&l.push(r);var f=e.runWebGLProgram(c,l,"int32");if(1===f.shape[1])return f;var d=Qy(e,t,n,f);return e.disposeIntermediateTensorInfo(f),d}function Zy(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null!=r?r.shape:t.shape,i=a[a.length-1],u=o.backend_util.computeOptimalWindowSize(i),s=new Jy(a,u,n,null==r),c=null==r?[t]:[t,r],l=e.runWebGLProgram(s,c,"int32");if(l.shape.length===t.shape.length){var f=Zy(e,t,n,l);return e.disposeIntermediateTensorInfo(l),f}return l}function ex(e,t,n,r){var a=[n];if(o.backend_util.assertAxesAreInnerMostDims("arg"+r.charAt(0).toUpperCase()+r.slice(1),a,t.shape.length),!Object(o.env)().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){var i=[],s=o.backend_util.computeOutAndReduceShapes(t.shape,a),c=Object(u.a)(s,2),l=c[0],f=c[1],d=o.util.sizeFromShape(f),h=wy({inputs:{x:t},backend:e,attrs:{shape:[-1,d]}});i.push(h);var p=Qy(e,h,r);i.push(p);var v=wy({inputs:{x:p},backend:e,attrs:{shape:l}});return i.forEach((function(t){return e.disposeIntermediateTensorInfo(t)})),v}return Zy(e,t,r)}var tx={kernelName:o.ArgMax,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,u=o.util.parseAxisParam(i,a.shape),s=o.backend_util.getAxesPermutation(u,a.shape.length),c=a,l=[];null!=s&&(c=Fy({inputs:{x:a},backend:n,attrs:{perm:s}}),l.push(c),u=o.backend_util.getInnerMostAxes(u.length,c.shape.length)),o.backend_util.assertAxesAreInnerMostDims("argMax",[u[0]],c.shape.length);var f=ex(n,c,u[0],"max");return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),f}};var nx={kernelName:o.ArgMin,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,u=o.util.parseAxisParam(i,a.shape),s=o.backend_util.getAxesPermutation(u,a.shape.length),c=a,l=[];null!=s&&(c=Fy({inputs:{x:a},backend:n,attrs:{perm:s}}),l.push(c),u=o.backend_util.getInnerMostAxes(u.length,c.shape.length)),o.backend_util.assertAxesAreInnerMostDims("argMin",[u[0]],c.shape.length);var f=ex(n,c,u[0],"min");return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),f}},rx=dy({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),ax={kernelName:o.Asin,backendName:"webgl",kernelFunc:rx},ix=dy({opSnippet:"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));"}),ox={kernelName:o.Asinh,backendName:"webgl",kernelFunc:ix},ux=dy({opSnippet:"if (isnan(x)) return x;\n  return atan(x);\n"}),sx={kernelName:o.Atan,backendName:"webgl",kernelFunc:ux},cx=hy({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),lx={kernelName:o.Atan2,backendName:"webgl",kernelFunc:cx},fx=dy({opSnippet:"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),dx={kernelName:o.Atanh,backendName:"webgl",kernelFunc:fx},hx=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Object(Cn.a)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,u=t.strideHeight,s=t.strideWidth,c=t.dilationHeight,l=t.dilationWidth,f=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.top,p=t.padInfo.left;this.outputShape=t.outShape;var v="avg"===n,m="((batch  * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),g="(xR * ".concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),b="0.0";if(v||(b="-1.0 / 1e-20"),r){var y=">=";this.userCode="\n        const ivec2 strides = ivec2(".concat(u,", ").concat(s,");\n        const ivec2 pads = ivec2(").concat(h,", ").concat(p,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(f,";\n              wR += ").concat(c,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(d,";\n                wC += ").concat(l,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(y," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(a?i?m:g:"wR * ".concat(d," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var x="max",_="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(_="avgValue / count");var w=4*Math.floor(o/4),O=o%4,k="\n      if (".concat(v,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(x,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(u,", ").concat(s,");\n      const ivec2 pads = ivec2(").concat(h,", ").concat(p,");\n      const float initializationValue = ").concat(b,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(b,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(f,";\n            wR += ").concat(c,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(w,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(l,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              getValue(batch, xR, xC + 3 * ").concat(l,", d)\n            );\n\n            ").concat(k,"\n          }\n\n          int xC = xCCorner + ").concat(w,";\n          if (").concat(1===O,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(k,"\n          } else if (").concat(2===O,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(k,"\n          } else if (").concat(3===O,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              initializationValue\n            );\n\n            ").concat(k,"\n          }\n        }\n        setOutput(").concat(_,");\n      }\n    ")}},px=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Object(Cn.a)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,u=t.strideDepth,s=t.strideHeight,c=t.strideWidth,l=t.dilationDepth,f=t.dilationHeight,d=t.dilationWidth,h=t.effectiveFilterDepth,p=t.effectiveFilterHeight,v=t.effectiveFilterWidth,m=t.padInfo.front,g=t.padInfo.top,b=t.padInfo.left;this.outputShape=t.outShape;var y="avg"===n,x="0.0";if(y||(x="-1.0 / 1e-20"),r){var _=">=";this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(u,", ").concat(s,", ").concat(c,");\n        const ivec3 pads = ivec3(").concat(m,", ").concat(g,", ").concat(b,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(h,";\n              wD += ").concat(l,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(p,";\n                wR += ").concat(f,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(v,";\n                  wC += ").concat(d,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(_," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(a?i?"(((batch * ".concat(t.inDepth," + xD) * ").concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"((xD * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"wD * ".concat(p," * ").concat(v," +\n                      wR * ").concat(v," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var w="max",O="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(O="avgValue / count");var k=4*Math.floor(o/4),j=o%4,E="\n      if (".concat(y,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(w,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(u,", ").concat(s,", ").concat(c,");\n      const ivec3 pads = ivec3(").concat(m,", ").concat(g,", ").concat(b,");\n      const float initializationValue = ").concat(x,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(x,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(h,";\n            wD += ").concat(l,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(p,";\n            wR += ").concat(f,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(k,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(d,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(d,", ch)\n              );\n\n              ").concat(E,"\n            }\n\n            int xC = xCCorner + ").concat(k,";\n            if (").concat(1===j,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(E,"\n            } else if (").concat(2===j,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(E,"\n            } else if (").concat(3===j,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n                initializationValue\n              );\n\n              ").concat(E,"\n            }\n          }\n          setOutput(").concat(O,");\n        }\n      }\n    ")}};var vx={kernelName:o.AvgPool,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;dg(a,"avgPool");var i=r.filterSize,u=r.strides,s=r.pad,c=r.dimRoundingMode;o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(u,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(u," and dilations '").concat(1,"'")}));var l=o.backend_util.computePool2DInfo(a.shape,i,u,1,s,c);if(1===l.filterWidth&&1===l.filterHeight&&o.util.arraysEqual(l.inShape,l.outShape))return ny({inputs:{x:a},backend:n});var f=new hx(l,"avg",!1);return n.runWebGLProgram(f,[a],"float32")}};var mx={kernelName:o.AvgPool3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,u=r.strides,s=r.pad,c=r.dimRoundingMode,l=r.dataFormat,f=o.backend_util.computePool3DInfo(a.shape,i,u,[1,1,1],s,c,l),d=new px(f,"avg",!1);return n.runWebGLProgram(d,[a],"float32")}},gx=function e(t){Object(Cn.a)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=t.dilationHeight,u=t.dilationWidth,s=t.effectiveFilterHeight,c=t.effectiveFilterWidth,l=s-1-t.padInfo.top,f=c-1-t.padInfo.left,d=1/(n*r);this.userCode="\n      const ivec2 pads = ivec2(".concat(l,", ").concat(f,");\n      const float avgMultiplier = float(").concat(d,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(s,";\n            wR += ").concat(o,") {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(c,";\n            wC+= ").concat(u,") {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},bx=function e(t){Object(Cn.a)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,i=t.strideDepth,o=t.strideHeight,u=t.strideWidth,s=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,f=t.effectiveFilterDepth,d=t.effectiveFilterHeight,h=t.effectiveFilterWidth,p=f-1-t.padInfo.front,v=d-1-t.padInfo.top,m=h-1-t.padInfo.left,g=1/(n*r*a);this.userCode="\n      const ivec3 pads = ivec3(".concat(p,", ").concat(v,", ").concat(m,");\n      const float avgMultiplier = float(").concat(g,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(f,";\n            wD += ").concat(s,") {\n          float dyD = float(dyDCorner + wD) / ").concat(i,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(c,") {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(h,";\n                wC += ").concat(l,") {\n              float dyC = float(dyCCorner + wC) / ").concat(u,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")};var yx={kernelName:o.AvgPool3DGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,u=r.filterSize,s=r.strides,c=r.pad,l=r.dimRoundingMode,f=o.backend_util.computePool3DInfo(i.shape,u,s,[1,1,1],c,l),d=new bx(f);return n.runWebGLProgram(d,[a],i.dtype)}};var xx={kernelName:o.AvgPoolGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,u=i;dg([a,i],"avgPoolGrad");var s=r.filterSize,c=r.strides,l=r.pad,f=o.backend_util.computePool2DInfo(u.shape,s,c,1,l),d=new gx(f);return n.runWebGLProgram(d,[a],u.dtype)}};var _x={kernelName:o.BatchMatMul,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return My({a:t.a,b:t.b,transposeA:r.transposeA,transposeB:r.transposeB,backend:n})}},wx=function e(t,n,r,a,i,u){Object(Cn.a)(this,e),this.outputShape=[],this.variableNames=["x","mean","variance"],o.backend_util.assertAndGetBroadcastShape(t,n),o.backend_util.assertAndGetBroadcastShape(t,r);var s="0.0";null!=a&&(o.backend_util.assertAndGetBroadcastShape(t,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var c="1.0";null!=i&&(o.backend_util.assertAndGetBroadcastShape(t,i),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(s,";\n        float scale = ").concat(c,";\n        float inv = scale * inversesqrt(variance + float(").concat(u,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")},Ox=function e(t,n,r,a,i,u){Object(Cn.a)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],o.backend_util.assertAndGetBroadcastShape(t,n),o.backend_util.assertAndGetBroadcastShape(t,r);var s="vec4(0.0)";null!=a&&(o.backend_util.assertAndGetBroadcastShape(t,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var c="vec4(1.0)";null!=i&&(o.backend_util.assertAndGetBroadcastShape(t,i),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        vec4 offset = ".concat(s,";\n        vec4 scale = ").concat(c,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(u,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")},kx={kernelName:o.FusedBatchNorm,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.mean,u=t.variance,s=t.offset,c=t.scale;o.util.assert(i.shape.length===u.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),o.util.assert(null==s||i.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),o.util.assert(null==c||i.shape.length===c.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var l=r.varianceEpsilon;null==l&&(l=.001);var f=[a,i,u],d=null;null!=s&&(d=s.shape,f.push(s));var h=null;null!=c&&(h=c.shape,f.push(c));var p=Object(o.env)().getBool("WEBGL_PACK_NORMALIZATION")?new Ox(a.shape,i.shape,u.shape,d,h,l):new wx(a.shape,i.shape,u.shape,d,h,l);return n.runWebGLProgram(p,f,f[0].dtype)}},jx=function(){function e(t){Object(Cn.a)(this,e),this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n,r=Kg(this.rank),a="uniform int start[".concat(this.rank,"];"),i=function(e){if(1===e)return"sourceLoc";if(e<=6)return Ex.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank),o=t.map((function(e,t){return"sourceLoc.".concat(Ex[t]," = start[").concat(t,"] + coords.").concat(Ex[t],";")}));n="\n        ".concat(r," sourceLoc;\n        ").concat(r," coords = getOutputCoords();\n        ").concat(o.join("\n"),"\n      "),this.userCode="\n      ".concat(a,"\n      void main() {\n        ").concat(n,"\n        setOutput(getSource(").concat(i,"));\n      }\n    ")}return Object(An.a)(e,[{key:"getCustomSetupFunc",value:function(e){var t=this;if(e.length!==this.rank)throw Error("The rank (".concat(this.rank,") of the program must match the ")+"length of start (".concat(e.length,")"));return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}}}]),e}(),Ex=["x","y","z","w","u","v"];var Cx=function(){function e(t){Object(Cn.a)(this,e),this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length;var n=Kg(this.rank),r=Db("coords",this.rank),a=Db("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":"vec2(".concat(a.slice(-2).join(),")"),o="getChannel(getSource(".concat(a.join(),"), ").concat(i,")"),u="\n      result.x = ".concat(o,";\n      if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n        ++").concat(a[this.rank-1],";\n        result.y = ").concat(o,";\n        --").concat(a[this.rank-1],";\n      }\n    "),s=1===this.rank?"":"\n      --".concat(r[this.rank-1],";\n      if (++").concat(r[this.rank-2]," < ").concat(t[this.rank-2],") {\n        ++").concat(a[this.rank-2],";\n        result.z = ").concat(o,";\n        if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n          ++").concat(a[this.rank-1],";\n          result.w = ").concat(o,";\n        }\n      }\n    "),c=this.rank<=4?"sourceLoc = coords +\n            ".concat(n,"(").concat(t.map((function(e,t){return"start[".concat(t,"]")})).join(),");"):t.map((function(e,t){return"".concat(a[t]," = ").concat(r[t]," + start[").concat(t,"];")})).join("\n");this.userCode="\n      uniform int start[".concat(this.rank,"];\n      void main() {\n        ").concat(n," coords = getOutputCoords();\n        ").concat(n," sourceLoc;\n        ").concat(c,"\n        vec4 result = vec4(0.);\n        ").concat(u,"\n        ").concat(s,"\n        setOutput(result);\n      }\n    ")}return Object(An.a)(e,[{key:"getCustomSetupFunc",value:function(e){var t=this;if(e.length!==this.rank)throw Error("The rank (".concat(this.rank,") of the program must match the ")+"length of start (".concat(e.length,")"));return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}}}]),e}();function Ax(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.begin,s=r.size,c=o.slice_util.parseSliceParams(a,i,s),l=Object(u.a)(c,2),f=l[0],d=l[1];if(o.slice_util.assertParamsValid(a,f,d),0===o.util.sizeFromShape(d))return n.makeTensorInfo(d,a.dtype,[]);if(n.shouldExecuteOnCPU([a])||"string"===a.dtype){var h=n.texData.get(a.dataId),p=wb(h.values,f,d,a.shape,a.dtype);return n.makeTensorInfo(d,a.dtype,p)}var v=n.texData.get(a.dataId).isPacked,m=o.slice_util.isSliceContinous(a.shape,f,d);if(v||!m){var g=Object(o.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Cx(d):new jx(d),b=g.getCustomSetupFunc(f);return n.runWebGLProgram(g,[a],a.dtype,b)}return n.uploadToGPU(a.dataId),function(e,t,n,r){var a=r.texData.get(e.dataId),i=r.makeTensorInfo(n,e.dtype),u=r.texData.get(i.dataId);Object.assign(u,a),u.refCount=1,u.shape=n,u.dtype=e.dtype;var s=o.slice_util.computeFlatOffset(t,o.util.computeStrides(e.shape));a.slice&&(s+=a.slice.flatOffset),u.slice={flatOffset:s,origDataId:a.slice&&a.slice.origDataId||e.dataId};var c=r.dataRefCount.get(u.slice.origDataId)||1;return r.dataRefCount.set(u.slice.origDataId,c+1),i}(a,f,d,n)}var Sx={kernelName:o.Slice,backendName:"webgl",kernelFunc:Ax},Dx={kernelName:o.BatchToSpaceND,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,u=r.crops;o.util.assert(a.shape.length<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var s=i.reduce((function(e,t){return e*t})),c=o.backend_util.getReshaped(a.shape,i,s),l=o.backend_util.getPermuted(c.length,i.length),f=o.backend_util.getReshapedPermuted(a.shape,i,s),d=o.backend_util.getSliceBeginCoords(u,i.length),h=o.backend_util.getSliceSize(f,u,i.length),p=[],v=wy({inputs:{x:a},backend:n,attrs:{shape:c}}),m=Fy({inputs:{x:v},backend:n,attrs:{perm:l}}),g=wy({inputs:{x:m},backend:n,attrs:{shape:f}}),b=Ax({inputs:{x:g},backend:n,attrs:{begin:d,size:h}});return p.push(v),p.push(m),p.push(g),p.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),b}};var Nx={kernelName:o.Bincount,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,u=n.readSync(a.dataId),s=n.readSync(i.dataId),c=tb(u,s,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,c)}},Fx=hy({opSnippet:"return float(a != b);",dtype:"bool"}),Tx={kernelName:o.NotEqual,backendName:"webgl",kernelFunc:Fx};function Mx(e){var t=e.inputs,n=e.backend,r=t.input;return ny({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}var Ix={kernelName:o.Real,backendName:"webgl",kernelFunc:Mx};var Rx={kernelName:o.Cast,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=t.attrs,i=n.x,u=a.dtype;if("complex64"===u){if("complex64"===i.dtype)return ny({inputs:{x:i},backend:r});var s=o.zeros(i.shape),c=e({inputs:{x:i},backend:r,attrs:{dtype:"float32"}}),l=ay({inputs:{real:c,imag:s},backend:r});return s.dispose(),r.disposeIntermediateTensorInfo(c),l}if("complex64"===i.dtype){var f=Mx({inputs:{input:i},backend:r}),d=e({inputs:{x:f},backend:r,attrs:{dtype:u}});return r.disposeIntermediateTensorInfo(f),d}if(!o.util.hasEncodingLoss(i.dtype,u)){var h=ny({inputs:{x:i},backend:r});return{dataId:h.dataId,shape:h.shape,dtype:u}}if("int32"===u)return function(e,t){var n=new Pb(e.shape,"return float(int(x));"),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(i,r);if("bool"===u){var p=r.makeTensorInfo([],"bool",o.util.getTypedArrayFromDType("bool",1)),v=Fx({inputs:{a:i,b:p},backend:r});return r.disposeIntermediateTensorInfo(p),v}throw new Error("Error in Cast: failed to cast ".concat(i.dtype," to ").concat(u))}},Px="return ceil(x);",Bx=dy({opSnippet:Px,packedOpSnippet:Px,cpuKernelImpl:rb}),zx={kernelName:o.Ceil,backendName:"webgl",kernelFunc:Bx},Lx=function(){function e(t){Object(Cn.a)(this,e),this.variableNames=["A"],this.outputShape=t,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return Object(An.a)(e,[{key:"getCustomSetupFunc",value:function(e,t){var n=this;return function(r,a){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(a,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(a,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}}}]),e}(),Ux=function(){function e(t){Object(Cn.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return Object(An.a)(e,[{key:"getCustomSetupFunc",value:function(e,t){var n=this;return function(r,a){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(a,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(a,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}}}]),e}();var Wx={kernelName:o.ClipByValue,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,u=a.clipValueMin,s=a.clipValueMax,c=(t=Object(o.env)().getBool("WEBGL_PACK_CLIP")?new Ux(i.shape):new Lx(i.shape)).getCustomSetupFunc(u,s);return r.runWebGLProgram(t,[i],i.dtype,c)}},Vx=function e(t){Object(Cn.a)(this,e),this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "};function qx(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}var Hx={kernelName:o.ComplexAbs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n.texData.get(r.dataId),i=new Vx(r.shape),o=[qx(r,a.complexTensorInfos.real),qx(r,a.complexTensorInfos.imag)];return n.runWebGLProgram(i,o,o[0].dtype)}},Gx=function e(t){Object(Cn.a)(this,e),this.outputShape=[],this.outputShape=o.backend_util.computeOutShape(t,1),this.variableNames=t.map((function(e,t){return"T".concat(t)}));var n=new Array(t.length-1);n[0]=t[0][1];for(var r=1;r<n.length;r++)n[r]=n[r-1]+t[r][1];for(var a=["if (yC < ".concat(n[0],") setOutput(getT0(yR, yC));")],i=1;i<n.length;i++){var u=n[i-1];a.push("else if (yC < ".concat(n[i],") ")+"setOutput(getT".concat(i,"(yR, yC-").concat(u,"));"))}var s=n.length,c=n[n.length-1];a.push("else setOutput(getT".concat(s,"(yR, yC-").concat(c,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(a.join("\n        "),"\n      }\n    ")},Kx=function e(t,n){Object(Cn.a)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=o.backend_util.computeOutShape(t,n);var r=this.outputShape,a=r.length,i=Kg(a),u=Db("coords",a),s=["x","y","z","w","u","v"].slice(0,a);this.variableNames=t.map((function(e,t){return"T".concat(t)}));var c=new Array(t.length-1);c[0]=t[0][n];for(var l=1;l<c.length;l++)c[l]=c[l-1]+t[l][n];for(var f=s[n],d=s.slice(-2),h=s.join(),p="if (".concat(f," < ").concat(c[0],") {\n        return getChannel(\n            getT0(").concat(h,"), vec2(").concat(d.join(),"));\n        }"),v=1;v<c.length;v++){var m=c[v-1];p+="\n        if (".concat(f," < ").concat(c[v],"  && ").concat(f," >= ").concat(c[v-1],") {\n          return getChannel(\n            getT").concat(v,"(").concat($x(s,f,m),"),\n            vec2(").concat($x(d,f,m),"));\n        }")}var g=c.length,b=c[c.length-1];p+="\n        return getChannel(\n          getT".concat(g,"(").concat($x(s,f,b),"),\n          vec2(").concat($x(d,f,b),"));"),this.userCode="\n      float getValue(".concat(s.map((function(e){return"int "+e})),") {\n        ").concat(p,"\n      }\n\n      void main() {\n        ").concat(i," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(u,"), 0., 0., 0.);\n\n        ").concat(u[a-1]," = ").concat(u[a-1]," + 1;\n        if (").concat(u[a-1]," < ").concat(r[a-1],") {\n          result.g = getValue(").concat(u,");\n        }\n\n        ").concat(u[a-2]," = ").concat(u[a-2]," + 1;\n        if (").concat(u[a-2]," < ").concat(r[a-2],") {\n          result.a = getValue(").concat(u,");\n        }\n\n        ").concat(u[a-1]," = ").concat(u[a-1]," - 1;\n        if (").concat(u[a-2]," < ").concat(r[a-2]," &&\n            ").concat(u[a-1]," < ").concat(r[a-1],") {\n          result.b = getValue(").concat(u,");\n        }\n        setOutput(result);\n      }\n    ")};function $x(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?"".concat(e," - ").concat(n):e})).join()}function Xx(e){var t=e.inputs,n=e.backend,r=t.input;return ny({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}var Yx={kernelName:o.Imag,backendName:"webgl",kernelFunc:Xx};function Jx(e,t,n){var r=e[0].dtype;if("complex64"===r){var a=e.map((function(e){return Mx({inputs:{input:e},backend:n})})),i=e.map((function(e){return Xx({inputs:{input:e},backend:n})})),u=Jx(a,t,n),s=Jx(i,t,n),c=ay({inputs:{real:u,imag:s},backend:n});return a.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),i.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(s),c}if("string"===r){var l=Qx(e,t,n),f=l.tensors2D,d=l.outShape,h=f.map((function(e){return{vals:n.readSync(e.dataId),shape:e.shape}})),p=1===f[0].shape[0],v=ab(h,d,r,p),m=o.backend_util.computeOutShape(e.map((function(e){return e.shape})),t),g=n.makeTensorInfo(m,r,v);return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}if(e.length>Object(o.env)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var b=Math.floor(e.length/2),y=Jx(e.slice(0,b),t,n),x=Jx(e.slice(b),t,n),_=Jx([y,x],t,n);return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(x),_}if(Object(o.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){var w=new Kx(e.map((function(e){return e.shape})),t);return n.runWebGLProgram(w,e,r)}var O=Qx(e,t,n),k=O.tensors2D,j=O.outShape,E=new Gx(k.map((function(e){return e.shape}))),C=n.runWebGLProgram(E,k,r);k.forEach((function(e){return n.disposeIntermediateTensorInfo(e)}));var A=wy({inputs:{x:C},attrs:{shape:j},backend:n});return n.disposeIntermediateTensorInfo(C),A}function Qx(e,t,n){var r=o.backend_util.computeOutShape(e.map((function(e){return e.shape})),t);return{tensors2D:e.map((function(e){return wy({inputs:{x:e},attrs:{shape:[-1,o.util.sizeFromShape(e.shape.slice(t))]},backend:n})})),outShape:r}}function Zx(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,a=o.util.parseAxisParam(r,t[0].shape)[0],i=o.backend_util.computeOutShape(t.map((function(e){return e.shape})),a);if(0===o.util.sizeFromShape(i))return n.makeTensorInfo(i,t[0].dtype,[]);var u=t.filter((function(e){return o.util.sizeFromShape(e.shape)>0}));if(1===u.length)return ny({inputs:{x:u[0]},backend:n});var s=u.map((function(e){return e.shape}));return o.backend_util.assertParamsConsistent(s,a),Jx(u,a,n)}var e_={kernelName:o.Concat,backendName:"webgl",kernelFunc:Zx},t_=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(Cn.a)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var o=t.padInfo.top,u=t.padInfo.left,s=t.strideHeight,c=t.strideWidth,l=t.dilationHeight,f=t.dilationWidth,d=t.filterHeight,h=t.filterWidth,p=4*Math.floor(t.inChannels/4),v=t.inChannels%4,m="channelsLast"===t.dataFormat,g=m?1:2,b=m?2:3,y=m?3:1,x="",_="";r&&(x=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):i?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),_="result = activation(result);");var w=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(x,"\n\n      const ivec2 strides = ivec2(").concat(s,", ").concat(c,");\n      const ivec2 pads = ivec2(").concat(o,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(y,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(g,"], coords[").concat(b,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(d,"; wR++) {\n          int xR = xRCorner + wR * ").concat(l,";\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(h,"; wC++) {\n            int xC = xCCorner + wC * ").concat(f,";\n\n            if (xC < 0 || xC >= ").concat(t.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(p,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(m,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===v,") {\n\n              if (").concat(m,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(p,") *\n                    getW(wR, wC, ").concat(p,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(p,", xR, xC) *\n                    getW(wR, wC, ").concat(p,", d2);\n              }\n\n            } else if (").concat(2===v,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(p,", d2),\n                getW(wR, wC, ").concat(p," + 1, d2)\n              );\n\n              if (").concat(m,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(p,"),\n                  getX(batch, xR, xC, ").concat(p," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(p,", xR, xC),\n                  getX(batch, ").concat(p," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===v,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(p,", d2),\n                getW(wR, wC, ").concat(p," + 1, d2),\n                getW(wR, wC, ").concat(p," + 2, d2)\n              );\n\n              if (").concat(m,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(p,"),\n                  getX(batch, xR, xC, ").concat(p," + 1),\n                  getX(batch, xR, xC, ").concat(p," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(p,", xR, xC),\n                  getX(batch, ").concat(p," + 1, xR, xC),\n                  getX(batch, ").concat(p," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(w,"\n        ").concat(_,"\n        setOutput(result);\n      }\n    ")},n_=function e(t){Object(Cn.a)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.padInfo.front,r=t.padInfo.top,a=t.padInfo.left,i=t.strideDepth,o=t.strideHeight,u=t.strideWidth,s=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,f=t.filterDepth,d=t.filterHeight,h=t.filterWidth,p=4*Math.floor(t.inChannels/4),v=t.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(i,", ").concat(o,", ").concat(u,");\n      const ivec3 pads = ivec3(").concat(n,", ").concat(r,", ").concat(a,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(f,"; wF++) {\n          int xF = xFCorner + wF * ").concat(s,";\n\n          if (xF < 0 || xF >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(d,"; wR++) {\n            int xR = xRCorner + wR * ").concat(c,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(h,"; wC++) {\n              int xC = xCCorner + wC * ").concat(l,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(p,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===v,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(p,") *\n                  getW(wF, wR, wC, ").concat(p,", d2);\n              } else if (").concat(2===v,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(p,"),\n                  getX(batch, xF, xR, xC, ").concat(p," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(p,", d2),\n                  getW(wF, wR, wC, ").concat(p," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===v,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(p,"),\n                  getX(batch, xF, xR, xC, ").concat(p," + 1),\n                  getX(batch, xF, xR, xC, ").concat(p," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(p,", d2),\n                  getW(wF, wR, wC, ").concat(p," + 1, d2),\n                  getW(wF, wR, wC, ").concat(p," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},r_=function e(t,n,r){Object(Cn.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;for(var a=r.filterWidth,i=r.inChannels,o=r.strideWidth,u=r.strideHeight,s=r.padInfo,c=r.outWidth,l=r.dilationWidth,f=r.dilationHeight,d=r.dataFormat,h=s.left,p=s.top,v=i*a,m=pg(),g="channelsLast"===d,b=g?0:1,y=g?1:2,x="",_=0;_<=1;_++)for(var w=0;w<=1;w++)x+="\n          blockIndex = rc.y + ".concat(w,";\n          pos = rc.x + ").concat(_,";\n\n          if(blockIndex < ").concat(t[1]," && pos < ").concat(t[0],") {\n            offsetY = int(blockIndex / (").concat(c,")) * ").concat(u," - ").concat(p,";\n            d0 = offsetY + ").concat(f," * (pos / ").concat(v,");\n\n            if(d0 < ").concat(n[b]," && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), ").concat(c,".) * ").concat(o,". - ").concat(h,".);\n              d1 = offsetX + ").concat(l," * (int(mod(float(pos), ").concat(v,".) / ").concat(i,".));\n\n              if(d1 < ").concat(n[y]," && d1 >= 0) {\n\n                ch = int(mod(float(pos), ").concat(i,".));\n\n                if (").concat(g,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*_+w,"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*_+w,"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(x,"\n\n        ").concat(m.output," = result;\n      }\n    ")};function a_(e){var t,n=e.x,r=e.filter,a=e.convInfo,i=e.backend,u=e.bias,s=void 0===u?null:u,c=e.preluActivationWeights,l=void 0===c?null:c,f=e.leakyreluAlpha,d=void 0===f?0:f,h=e.activation,p=void 0===h?null:h,v=n.shape,m=i.texData.get(n.dataId),g=a.inChannels,b=v[0]*v[1]*v[2],y=a.outChannels,x="channelsLast"===a.dataFormat,_=[],w=(1===b||1===y)&&g>1e3,O=v[2]%2!==0&&!!m.isPacked;if(!w&&Object(o.env)().getBool("WEBGL_LAZILY_UNPACK")&&Object(o.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&O){var k=x?v[0]*v[1]*(v[2]+1):v[0]*v[2]*(v[3]+1),j={dataId:n.dataId,shape:[1,k,a.inChannels],dtype:n.dtype},E=m.shape;m.shape=m.shape.slice(),m.shape[m.shape.length-2]++,o.util.assert(ug(m.shape,j.shape),(function(){return"packed reshape ".concat(m.shape," to ").concat(j.shape," isn't free")}));var C=wy({inputs:{x:r},backend:i,attrs:{shape:[1,a.inChannels,a.outChannels]}});_.push(C);var A=My({a:j,b:C,backend:i,transposeA:false,transposeB:false,bias:s,activation:p,preluActivationWeights:l,leakyreluAlpha:d}),S=i.texData.get(A.dataId);o.util.assert(S.isPacked,(function(){return"batchMatMul result is expected to be packed"})),m.shape=E,S.shape=a.outShape,(t=ny({inputs:{x:A},backend:i})).shape=a.outShape,_.push(A)}else{var D=wy({inputs:{x:n},backend:i,attrs:{shape:[1,x?v[0]*v[1]*v[2]:v[0]*v[2]*v[3],a.inChannels]}}),N=wy({inputs:{x:r},backend:i,attrs:{shape:[1,a.inChannels,a.outChannels]}}),F=My({a:D,b:N,transposeA:false,transposeB:false,backend:i,bias:s,activation:p,preluActivationWeights:l,leakyreluAlpha:d});t=wy({inputs:{x:F},backend:i,attrs:{shape:a.outShape}}),_.push(D),_.push(N),_.push(F)}for(var T=0,M=_;T<M.length;T++){var I=M[T];i.disposeIntermediateTensorInfo(I)}return t}function i_(e){var t=e.x,n=e.filter,r=e.convInfo,a=e.backend,i=e.bias,u=void 0===i?null:i,s=e.preluActivationWeights,c=void 0===s?null:s,l=e.leakyreluAlpha,f=void 0===l?0:l,d=e.activation,h=void 0===d?null:d,p=r.filterWidth,v=r.filterHeight,m=r.inChannels,g=r.outWidth,b=r.outHeight,y="channelsLast"===r.dataFormat,x=p*v*m,_=b*g,w=[x,_],O=[],k=wy({inputs:{x:t},backend:a,attrs:{shape:t.shape.slice(1)}}),j=wy({inputs:{x:n},backend:a,attrs:{shape:[1,x,o.util.sizeFromShape(n.shape)/x]}});O.push(k),O.push(j);var E=new r_(w,k.shape,r),C=a.runWebGLProgram(E,[k],"float32"),A=wy({inputs:{x:C},backend:a,attrs:{shape:[1,w[0],w[1]]}});O.push(C),O.push(A);var S=null!=u,D=null!=c,N="leakyrelu"===h,F=h?py(h,!0):null,T=new vy(A.shape,j.shape,[1,_,r.outChannels],!0,!1,S,F,D,N),M=[A,j];if(u&&M.push(u),D&&M.push(c),N){var I=a.makeTensorInfo([],"float32",o.util.createScalarValue(f,"float32"));M.push(I),O.push(I)}var R=a.runWebGLProgram(T,M,"float32"),P=wy({inputs:{x:R},backend:a,attrs:{shape:y?[1,b,g,r.outChannels]:[1,r.outChannels,b,g]}});O.push(R);for(var B=0,z=O;B<z.length;B++){var L=z[B];a.disposeIntermediateTensorInfo(L)}return P}var o_={kernelName:o.Conv2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,u=n.filter,s=a.strides,c=a.pad,l=a.dataFormat,f=a.dilations,d=a.dimRoundingMode,h=o.backend_util.convertConv2DDataFormat(l),p=o.backend_util.computeConv2DInfo(i.shape,u.shape,s,f,c,d,!1,h);if(1!==p.filterHeight||1!==p.filterWidth||1!==p.dilationHeight||1!==p.dilationWidth||1!==p.strideHeight||1!==p.strideWidth||"SAME"!==p.padInfo.type&&"VALID"!==p.padInfo.type)if(Object(o.env)().getBool("WEBGL_CONV_IM2COL")&&1===i.shape[0])t=i_({x:i,filter:u,convInfo:p,backend:r});else{var v=new t_(p);t=r.runWebGLProgram(v,[i,u],"float32")}else t=a_({x:i,filter:u,convInfo:p,backend:r});var m=wy({inputs:{x:t},backend:r,attrs:{shape:p.outShape}});return r.disposeIntermediateTensorInfo(t),m}},u_=function e(t){Object(Cn.a)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,i=t.padInfo.left,o="channelsLast"===t.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(i,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              if (").concat(o,") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},s_=function e(t){Object(Cn.a)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o="channelsLast"===t.dataFormat,u=n-1-t.padInfo.top,s=r-1-t.padInfo.left,c=o?1:2,l=o?2:3,f=o?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(u,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(f,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(c,"], coords[").concat(l,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n\n              if (").concat(o,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},c_=function e(t){Object(Cn.a)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.padInfo.front,o=t.padInfo.top,u=t.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(t.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(n," - ").concat(i,";\n\n            if (xF < 0 || xF >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(r," - ").concat(o,";\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(a," - ").concat(u,";\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},l_=function e(t){Object(Cn.a)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,i=t.strideDepth,o=t.strideHeight,u=t.strideWidth,s=n-1-t.padInfo.front,c=r-1-t.padInfo.top,l=a-1-t.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(s,", ").concat(c,", ").concat(l,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(n,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(i,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(t.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(n," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(r,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(r," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(a,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(u,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(a," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")};var f_={kernelName:o.Conv2DBackpropFilter,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,u=r.strides,s=r.pad,c=r.dataFormat,l=r.dimRoundingMode,f=r.filterShape,d=o.backend_util.convertConv2DDataFormat(c),h=o.backend_util.computeConv2DInfo(a.shape,f,u,1,s,l,!1,d),p=new u_(h);return n.runWebGLProgram(p,[a,i],"float32")}};var d_={kernelName:o.Conv2DBackpropInput,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,u=r.inputShape,s=r.strides,c=r.pad,l=r.dataFormat,f=r.dimRoundingMode,d=o.backend_util.convertConv2DDataFormat(l),h=o.backend_util.computeConv2DInfo(u,i.shape,s,1,c,f,!1,d),p=new s_(h);return n.runWebGLProgram(p,[a,i],"float32")}};var h_={kernelName:o.Conv3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,u=r.strides,s=r.pad,c=r.dilations,l=o.backend_util.computeConv3DInfo(a.shape,i.shape,u,c,s),f=new n_(l);return n.runWebGLProgram(f,[a,i],"float32")}};var p_={kernelName:o.Conv3DBackpropFilterV2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,u=r.strides,s=r.pad,c=r.filterShape,l=o.backend_util.computeConv3DInfo(a.shape,c,u,1,s),f=new c_(l);return n.runWebGLProgram(f,[a,i],"float32")}};var v_={kernelName:o.Conv3DBackpropInputV2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,u=r.pad,s=r.strides,c=r.inputShape,l=o.backend_util.computeConv3DInfo(c,i.shape,s,1,u),f=new l_(l);return n.runWebGLProgram(f,[a,i],"float32")}},m_=dy({opSnippet:"if (isnan(x)) return x;\n  return cos(x);\n"}),g_={kernelName:o.Cos,backendName:"webgl",kernelFunc:m_},b_=dy({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),y_={kernelName:o.Cosh,backendName:"webgl",kernelFunc:b_},x_=function e(t,n,r,a,i){Object(Cn.a)(this,e),this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=Object(u.a)(t,4),s=o[0],c=o[1],l=o[2],f=o[3],d=Object(u.a)(n,1)[0],h=Object(u.a)(r,2),p=h[0],v=h[1];this.outputShape=[d,p,v,f];var m="bilinear"===a?1:0,g="".concat(c-1,".0"),b="".concat(l-1,".0"),y=p>1?["".concat((c-1)/(p-1)),"(y2-y1) * height_ratio","y1*".concat(g," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(g)],x=Object(u.a)(y,3),_=x[0],w=x[1],O=x[2],k=v>1?["".concat((l-1)/(v-1)),"(x2-x1) * width_ratio","x1*".concat(b," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(b)],j=Object(u.a)(k,3),E=j[0],C=j[1],A=j[2];this.userCode="\n      const float height_ratio = float(".concat(_,");\n      const float width_ratio = float(").concat(E,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(s,") {\n          return;\n        }\n\n        float height_scale = ").concat(w,";\n        float width_scale = ").concat(C,";\n\n        float in_y = ").concat(O,";\n        if( in_y < 0.0 || in_y > ").concat(g," ) {\n          setOutput(float(").concat(i,"));\n          return;\n        }\n        float in_x = ").concat(A,";\n        if( in_x < 0.0 || in_x > ").concat(b," ) {\n          setOutput(float(").concat(i,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(m," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")},__={kernelName:o.CropAndResize,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=t.boxes,o=t.boxInd,u=r.cropSize,s=r.method,c=r.extrapolationValue,l=new x_(a.shape,i.shape,u,s,c);return n.runWebGLProgram(l,[a,i,o],"float32")}},w_=function(){function e(t,n,r){Object(Cn.a)(this,e),this.variableNames=["x"],this.outputShape=t;var a=t.length,i=n?"0.0":"getX(".concat(O_(a,"coords"),")"),o=t[t.length-1],u="",s="";n?(u=r?"end != ".concat(o-1):"end != 0",s=r?"end + 1":"end - 1"):(u=r?"end + pow2 < ".concat(o):"end >= pow2",s=r?"end + pow2":"end - pow2"),this.userCode="\n      uniform float index;\n      void main() {\n        ".concat(Kg(a)," coords = getOutputCoords();\n        int end = ").concat(k_(a,"coords"),";\n        float val = ").concat(i,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(u,") {\n          int idx = ").concat(s,";\n          ").concat(k_(a,"coords")," = idx;\n          val += getX(").concat(O_(a,"coords"),");\n        }\n        setOutput(val);\n      }\n    ")}return Object(An.a)(e,[{key:"getCustomSetupFunc",value:function(e){var t=this;return function(n,r){null==t.index&&(t.index=n.getUniformLocation(r,"index")),n.gl.uniform1f(t.index,e)}}}]),e}();function O_(e,t){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw Error("Cumulative sum for rank ".concat(e," is not yet supported"))}function k_(e,t){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw Error("Cumulative sum for rank ".concat(e," is not yet supported"))}var j_={kernelName:o.Cumsum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,u=r.exclusive,s=r.reverse,c=a.shape.length,l=o.backend_util.getAxesPermutation([i],c),f=a;null!=l&&(f=Fy({inputs:{x:a},backend:n,attrs:{perm:l}}));var d=o.backend_util.getInnerMostAxes(1,c)[0];if(d!==c-1)throw new Error("WebGL cumsum shader expects an inner-most axis=".concat(a.shape.length-1," ")+"but got axis=".concat(i));for(var h=f.shape[d],p=ny({inputs:{x:f},backend:n}),v=0;v<=Math.ceil(Math.log2(h))-1;v++){var m=new w_(f.shape,!1,s),g=m.getCustomSetupFunc(v),b=p;p=n.runWebGLProgram(m,[p],p.dtype,g),n.disposeIntermediateTensorInfo(b)}if(u){var y=new w_(f.shape,u,s),x=p;p=n.runWebGLProgram(y,[p],p.dtype),n.disposeIntermediateTensorInfo(x)}if(null!=l){var _=Fy({inputs:{x:p},backend:n,attrs:{perm:o.backend_util.getUndoAxesPermutation(l)}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),_}return p}};var E_={kernelName:o.DenseBincount,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,u=r.binaryOutput;if(1===a.shape.length){var s=n.readSync(a.dataId),c=n.readSync(i.dataId),l=tb(s,c,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,l)}if(2===a.shape.length){var f=n.bufferSync(a),d=n.bufferSync(i),h=nb(f,d,o,u);return n.makeTensorInfo(h.shape,i.dtype,h.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}},C_=function(){function e(t,n,r){Object(Cn.a)(this,e),this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(n,";\n      int offset_h = imod(h, ").concat(n,");\n      int in_w = w / ").concat(n,";\n      int offset_w = imod(w, ").concat(n,");\n      int offset_d = (offset_h * ").concat(n," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}return Object(An.a)(e,[{key:"getHeightCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}},{key:"getWidthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}},{key:"getDepthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}},{key:"getOutputDepthSize",value:function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}},{key:"getInputSamplingString",value:function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}]),e}();var A_={kernelName:o.DepthToSpace,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockSize,u=r.dataFormat;o.util.assert(i>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(i)}));var s=a.shape[0],c="NHWC"===u?a.shape[1]:a.shape[2],l="NHWC"===u?a.shape[2]:a.shape[3],f="NHWC"===u?a.shape[3]:a.shape[1],d=c*i,h=l*i,p=f/(i*i),v=new C_("NHWC"===u?[s,d,h,p]:[s,p,d,h],i,u);return n.runWebGLProgram(v,[a],a.dtype)}},S_=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(Cn.a)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var o=t.inHeight,u=t.inWidth,s=t.padInfo.top,c=t.padInfo.left,l=t.strideHeight,f=t.strideWidth,d=t.dilationHeight,h=t.dilationWidth,p=t.filterHeight,v=t.filterWidth,m=t.outChannels/t.inChannels,g="",b="";r&&(g=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):i?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),b="result = activation(result);");var y=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(g,"\n\n      const ivec2 strides = ivec2(").concat(l,", ").concat(f,");\n      const ivec2 pads = ivec2(").concat(s,", ").concat(c,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(m,";\n        int q = d2 - d1 * ").concat(m,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(p,"; wR++) {\n          int xR = xRCorner + wR * ").concat(d,";\n\n          if (xR < 0 || xR >= ").concat(o,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(v,"; wC++) {\n            int xC = xCCorner + wC * ").concat(h,";\n\n            if (xC < 0 || xC >= ").concat(u,") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(y,"\n        ").concat(b,"\n        setOutput(result);\n      }\n    ")},D_=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(Cn.a)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.outShape;for(var u=t.inHeight,s=t.inWidth,c=t.padInfo.top,l=t.padInfo.left,f=t.strideHeight,d=t.strideWidth,h=t.dilationHeight,p=t.dilationWidth,v=t.filterHeight,m=t.filterWidth,g=m,b="int xR; int xC; int xCOffset;",y=0;y<v;y++)for(var x=0;x<m;x++)b+="\n          vec4 xTexelR".concat(y,"C").concat(2*x," = vec4(0.);\n          vec4 wR").concat(y,"C").concat(x," = vec4(0.);\n          vec4 xR").concat(y,"C").concat(x," = vec4(0.);");for(var _=0;_<v;_++)for(var w=0;w<g;w++){var O=2*w;if(b+="\n          xR = xRCorner + ".concat(_*h,";\n          xC = xCCorner + ").concat(O*p,";\n        "),1===d){if(O<m&&(b+=l%2===1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < ".concat(u," && xCOffset >= 0 && xCOffset < ").concat(s,") {\n                  xTexelR").concat(_,"C").concat(O," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= ").concat(s,") {\n                    xTexelR").concat(_,"C").concat(O,".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR").concat(_,"C").concat(O," = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < ").concat(u," && xCOffset >= 0 && xCOffset < ").concat(s,") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= ").concat(s,") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR").concat(_,"C").concat(O," = vec4(previous.zw, xTexelR").concat(_,"C").concat(O,".xy);\n                } else {\n                  xR").concat(_,"C").concat(O," = vec4(0, 0, xTexelR").concat(_,"C").concat(O,".xy);\n                }\n              "):"\n                if(xR >= 0 && xR < ".concat(u," && xC >= 0 && xC < ").concat(s,") {\n                  xTexelR").concat(_,"C").concat(O," = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR").concat(_,"C").concat(O," = vec4(0.);\n                }\n\n                xR").concat(_,"C").concat(O," = xTexelR").concat(_,"C").concat(O,";\n              "),O+1<m)){var k=l%2===0?o.util.nearestLargerEven(p):p;p%2===0&&l%2===1||p%2!==0&&l%2!==1?(b+="\n                  xCOffset = xC + ".concat(l%2," + ").concat(k,";\n\n                  if(xR >= 0 && xR < ").concat(u," &&\n                    xCOffset >= 0 && xCOffset < ").concat(s,") {\n                    xTexelR").concat(_,"C").concat(O+2," = getX(batch, xR, xCOffset, d1);\n                  }\n                "),p>1&&(b+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < ".concat(u," &&\n                      xCOffset >= 0 && xCOffset < ").concat(s,") {\n                      xTexelR").concat(_,"C").concat(O," = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR").concat(_,"C").concat(O," = vec4(0.);\n                    }\n                  ")),b+="\n                  xR".concat(_,"C").concat(O+1," = vec4(\n                    xTexelR").concat(_,"C").concat(O,".zw, xTexelR").concat(_,"C").concat(O+2,".xy);\n                ")):b+="\n                  xCOffset = xC + ".concat(k,";\n\n                  if(xR >= 0 && xR < ").concat(u," &&\n                    xCOffset >= 0 && xCOffset < ").concat(s,") {\n                    xTexelR").concat(_,"C").concat(O+2," = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR").concat(_,"C").concat(O+1," = xTexelR").concat(_,"C").concat(O+2,";\n                ")}}else O<m&&(b+="\n              if(xR >= 0 && xR < ".concat(u,") {\n            "),l%2===1?(b+="\n                xCOffset = xC + 1 - ".concat(d,";\n                if(xCOffset >= 0 && xCOffset < ").concat(s,") {\n                  xTexelR").concat(_,"C").concat(O," = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR").concat(_,"C").concat(O," = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < ").concat(s,") {\n                  xTexelR").concat(_,"C").concat(O+2," = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR").concat(_,"C").concat(O+2," = vec4(0.);\n                }\n\n                xR").concat(_,"C").concat(O," = vec4(\n                  xTexelR").concat(_,"C").concat(O,".zw, xTexelR").concat(_,"C").concat(O+2,".zw);\n              "),O+1<m&&(b+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + ".concat(d,";\n                  if(xCOffset >= 0 && xCOffset < ").concat(s,") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR").concat(_,"C").concat(O+1," = vec4(xTexelR").concat(_,"C").concat(O+2,".xy, final.xy);\n                "))):(b+="\n                if(xC >= 0 && xC < ".concat(s,") {\n                  xTexelR").concat(_,"C").concat(O," = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR").concat(_,"C").concat(O," = vec4(0.);\n                }\n\n                xCOffset = xC + ").concat(d,";\n                if(xCOffset >= 0 && xCOffset < ").concat(s,") {\n                  xTexelR").concat(_,"C").concat(O+2," = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR").concat(_,"C").concat(O+2," = vec4(0.);\n                }\n\n                xR").concat(_,"C").concat(O," = vec4(\n                  xTexelR").concat(_,"C").concat(O,".xy, xTexelR").concat(_,"C").concat(O+2,".xy);\n              "),O+1<m&&(b+="\n                  xR".concat(_,"C").concat(O+1," = vec4(\n                    xTexelR").concat(_,"C").concat(O,".zw, xTexelR").concat(_,"C").concat(O+2,".zw);\n                "))),b+="}");O<m&&(b+="\n            vec4 wTexelR".concat(_,"C").concat(O," = getW(").concat(_,", ").concat(O,", d1, q);\n            wR").concat(_,"C").concat(O," = vec4(wTexelR").concat(_,"C").concat(O,".xz, wTexelR").concat(_,"C").concat(O,".xz);\n          "),O+1<m&&(b+="\n              vec4 wTexelR".concat(_,"C").concat(O+1," = getW(").concat(_,", ").concat(O+1,", d1, q);\n              wR").concat(_,"C").concat(O+1," =\n                vec4(wTexelR").concat(_,"C").concat(O+1,".xz, wTexelR").concat(_,"C").concat(O+1,".xz);")))}for(var j=0;j<v;j++)for(var E=0;E<m;E++)b+="dotProd += xR".concat(j,"C").concat(E," * wR").concat(j,"C").concat(E,";");var C="",A="";r&&(C=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):i?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(r,"\n        }"),A="result = activation(result);");var S=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(C,"\n\n      const ivec2 strides = ivec2(").concat(f,", ").concat(d,");\n      const ivec2 pads = ivec2(").concat(c,", ").concat(l,");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        ").concat(b,"\n\n        vec4 result = dotProd;\n        ").concat(S,"\n        ").concat(A,"\n        setOutput(result);\n      }\n    ")};var N_={kernelName:o.DepthwiseConv2dNative,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,u=r.strides,s=r.pad,c=r.dilations,l=r.dimRoundingMode,f=c;null==f&&(f=[1,1]),o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(u,f),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(u," and dilations '").concat(f,"'")}));var d,h=o.backend_util.computeConv2DInfo(a.shape,i.shape,u,f,s,l,!0);return d=Object(o.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&h.strideWidth<=2&&h.outChannels/h.inChannels===1?new D_(h):new S_(h),n.runWebGLProgram(d,[a,i],"float32")}},F_=function e(t){Object(Cn.a)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,i=t.padInfo.left,o=t.outChannels/t.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(o," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(i,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},T_=function e(t){Object(Cn.a)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=n-1-t.padInfo.top,u=r-1-t.padInfo.left,s=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(o,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(s,"; dm++) {\n              int d2 = d1 * ").concat(s," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")};var M_={kernelName:o.DepthwiseConv2dNativeBackpropFilter,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,u=r.strides,s=r.dilations,c=r.pad,l=r.dimRoundingMode,f=r.filterShape,d=o.backend_util.computeConv2DInfo(a.shape,f,u,s,c,l,!0),h=new F_(d);return n.runWebGLProgram(h,[a,i],"float32")}};var I_={kernelName:o.DepthwiseConv2dNativeBackpropInput,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,u=r.strides,s=r.dilations,c=r.pad,l=r.dimRoundingMode,f=r.inputShape,d=o.backend_util.computeConv2DInfo(f,i.shape,u,s,c,l,!0),h=new T_(d);return n.runWebGLProgram(h,[a,i],"float32")}},R_=function e(t){Object(Cn.a)(this,e),this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "};var P_={kernelName:o.Diag,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=[].concat(Object(Fn.a)(r.shape),Object(Fn.a)(r.shape)),i=o.util.sizeFromShape(r.shape),u=wy({inputs:{x:r},backend:n,attrs:{shape:[i]}}),s=new R_(i),c=n.runWebGLProgram(s,[u],u.dtype),l=wy({inputs:{x:c},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),l}},B_=function e(t){Object(Cn.a)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.inHeight,r=t.inWidth,a=t.padInfo,i=t.strideHeight,o=t.strideWidth,u=t.filterHeight,s=t.filterWidth,c=t.dilationHeight,l=t.dilationWidth,f=a.top,d=a.left;this.userCode="\n      const ivec2 strides = ivec2(".concat(i,", ").concat(o,");\n      const ivec2 pads = ivec2(").concat(f,", ").concat(d,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(u,"; h++) {\n          int hIn = hBeg + h * ").concat(c,";\n\n          if (hIn >= 0 && hIn < ").concat(n,") {\n            for (int w = 0; w < ").concat(s,"; w++) {\n              int wIn = wBeg + w * ").concat(l,";\n\n              if (wIn >= 0 && wIn < ").concat(r,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")};var z_={kernelName:o.Dilation2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,u=n.filter,s=a.strides,c=a.pad,l=a.dilations,f=o.backend_util.computeDilation2DInfo(i.shape,u.shape,s,c,"NHWC",l),d=new B_(f),h=wy({inputs:{x:t=r.runWebGLProgram(d,[i,u],"float32")},backend:r,attrs:{shape:f.outShape}});return r.disposeIntermediateTensorInfo(t),h}},L_=dy({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),U_={kernelName:o.Elu,backendName:"webgl",kernelFunc:L_},W_={kernelName:o.EluGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y,i=Object(o.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ty("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,a.shape):new ey("return (b >= 1.0) ? a : a * (b + 1.0);",r.shape,a.shape);return n.runWebGLProgram(i,[r,a],r.dtype)}},V_=hy({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool"}),q_={kernelName:o.Equal,backendName:"webgl",kernelFunc:V_},H_=dy({opSnippet:'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(o.backend_util.ERF_P,";\n  float a1 = ").concat(o.backend_util.ERF_A1,";\n  float a2 = ").concat(o.backend_util.ERF_A2,";\n  float a3 = ").concat(o.backend_util.ERF_A3,";\n  float a4 = ").concat(o.backend_util.ERF_A4,";\n  float a5 = ").concat(o.backend_util.ERF_A5,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n")}),G_={kernelName:o.Erf,backendName:"webgl",kernelFunc:H_},K_="return exp(x);",$_=dy({opSnippet:K_,packedOpSnippet:K_,cpuKernelImpl:ib}),X_={kernelName:o.Exp,backendName:"webgl",kernelFunc:$_};function Y_(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.dim,i=t.input,u=i.shape.length,s=i.shape.slice(),c=a;return a<0&&(o.util.assert(-(u+1)<=a,(function(){return"Axis must be in the interval [".concat(-(u+1),", ").concat(u,"]")})),c=u+a+1),s.splice(c,0,1),wy({inputs:{x:i},backend:r,attrs:{shape:s}})}var J_={kernelName:o.ExpandDims,backendName:"webgl",kernelFunc:Y_},Q_="return exp(x) - 1.0;",Z_=dy({opSnippet:Q_,packedOpSnippet:Q_,cpuKernelImpl:ob}),ew={kernelName:o.Expm1,backendName:"webgl",kernelFunc:Z_},tw=function e(t,n,r){Object(Cn.a)(this,e),this.variableNames=["real","imag"];var a=n[1];this.outputShape=n;var i,o=r?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),u=r?"".concat(a,".0"):"1.0";if("real"===t)i="return real * expR - imag * expI;";else{if("imag"!==t)throw new Error('FFT component must be either "real" or "imag", got '.concat(t,"."));i="return real * expI + imag * expR;"}this.userCode="\n      const float exponentMultiplier = ".concat(o,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(i,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(a,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(u,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")};function nw(e,t,n){var r=n.texData.get(e.dataId),a=o.util.sizeFromShape(e.shape),i=e.shape[e.shape.length-1],u=wy({inputs:{x:e},backend:n,attrs:{shape:[a/i,i]}}),s=u.shape,c=new tw("real",s,t),l=new tw("imag",s,t),f=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:s},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:s}],d=n.runWebGLProgram(c,f,"float32"),h=n.runWebGLProgram(l,f,"float32"),p=ay({inputs:{real:d,imag:h},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h);var v=wy({inputs:{x:p},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(p),v}var rw={kernelName:o.FFT,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return nw(t.input,!1,n)}},aw=function(){function e(t,n){Object(Cn.a)(this,e),this.outputShape=[],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return Object(An.a)(e,[{key:"getCustomSetupFunc",value:function(e){var t=this;return function(n,r){null==t.valueLoc&&(t.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(t.valueLoc,e)}}}]),e}();function iw(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,i=n.dtype;if("string"===(i=i||o.util.inferDtype(a))){var u=o.util.getArrayFromDType(i,o.util.sizeFromShape(r));return u.fill(a),t.makeTensorInfo(r,i,u)}var s=new aw(r,a),c=s.getCustomSetupFunc(a);return t.runWebGLProgram(s,[],i,c)}var ow,uw={kernelName:o.Fill,backendName:"webgl",kernelFunc:iw},sw=function e(t){Object(Cn.a)(this,e),this.variableNames=["Image"],this.outputShape=[];var n=t[2];this.outputShape=t,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(n," - x;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(n,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")},cw={kernelName:o.FlipLeftRight,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.image,a=n,i=new sw(r.shape);return a.runWebGLProgram(i,[r],r.dtype)}},lw="return floor(x);",fw=dy({opSnippet:lw,packedOpSnippet:lw,cpuKernelImpl:ub}),dw={kernelName:o.Floor,backendName:"webgl",kernelFunc:fw},hw=hy({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),pw={kernelName:o.FloorDiv,backendName:"webgl",kernelFunc:hw},vw=function e(t){Object(Cn.a)(this,e),this.variableNames=["A"];var n=pg(),r=Object(u.a)(t,2),a=r[0],i=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(i,".0, ").concat(a,".0);\n\n        vec4 values = ").concat(n.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")},mw=function e(t){Object(Cn.a)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=pg(),r=Object(u.a)(t,2),a=r[0],i=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(i,".0, ").concat(a,".0);\n            vec4 values = ").concat(n.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")},gw={kernelName:o.FromPixels,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.pixels,i=r.numChannels,s="undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement,c="undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement,l=s?[a.videoWidth,a.videoHeight]:[a.width,a.height],f=Object(u.a)(l,2),d=f[0],h=f[1],p=[h,d],v=[h,d,i];(c||s)&&(null==ow&&(ow=document.createElement("canvas").getContext("2d")),ow.canvas.width=d,ow.canvas.height=h,ow.drawImage(a,0,0,d,h),a=ow.canvas);var m=n.makeTensorInfo(p,"int32");n.texData.get(m.dataId).usage=Nm.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(m.dataId),a);var g=Object(o.env)().getBool("WEBGL_PACK")?new mw(v):new vw(v),b=n.runWebGLProgram(g,[m],"int32");return n.disposeData(m.dataId),b}};var bw={kernelName:o.FusedConv2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,u=n.filter,s=n.bias,c=n.preluActivationWeights,l=a.strides,f=a.pad,d=a.dataFormat,h=a.dilations,p=a.dimRoundingMode,v=a.activation,m=a.leakyreluAlpha,g=o.backend_util.convertConv2DDataFormat(d),b=o.backend_util.computeConv2DInfo(i.shape,u.shape,l,h,f,p,!1,g),y=[];if(1!==b.filterHeight||1!==b.filterWidth||1!==b.dilationHeight||1!==b.dilationWidth||1!==b.strideHeight||1!==b.strideWidth||"SAME"!==b.padInfo.type&&"VALID"!==b.padInfo.type)if(Object(o.env)().getBool("WEBGL_CONV_IM2COL")&&1===i.shape[0])t=i_({x:i,filter:u,convInfo:b,backend:r,bias:s,activation:v,preluActivationWeights:c,leakyreluAlpha:m});else{var x=null!=s,_=null!=c,w="leakyrelu"===v,O=v?py(v,!1):null,k=new t_(b,x,O,_,w),j=[i,u];if(s&&j.push(s),c&&j.push(c),w){var E=r.makeTensorInfo([],"float32",o.util.createScalarValue(m,"float32"));j.push(E),y.push(E)}t=r.runWebGLProgram(k,j,"float32")}else t=a_({x:i,filter:u,convInfo:b,backend:r,bias:s,activation:v,preluActivationWeights:c,leakyreluAlpha:m});var C=wy({inputs:{x:t},backend:r,attrs:{shape:b.outShape}});return y.push(t),y.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),C}};var yw={kernelName:o.FusedDepthwiseConv2D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,u=t.bias,s=t.preluActivationWeights,c=r.strides,l=r.pad,f=r.dilations,d=r.dimRoundingMode,h=r.activation,p=r.leakyreluAlpha,v=[],m=f;null==m&&(m=[1,1]),o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(c,m),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(c," and dilations '").concat(m,"'")}));var g,b=o.backend_util.computeConv2DInfo(a.shape,i.shape,c,m,l,d,!0),y=Object(o.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&b.strideWidth<=2&&b.outChannels/b.inChannels===1,x=h?py(h,y):null,_=[a,i],w=null!=u,O=null!=s,k="leakyrelu"===h;if(w&&_.push(u),O&&_.push(s),k){var j=n.makeTensorInfo([],"float32",o.util.createScalarValue(p,"float32"));_.push(j),v.push(j)}g=y?new D_(b,w,x,O,k):new S_(b,w,x,O,k);var E=n.runWebGLProgram(g,_,"float32");return v.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),E}},xw=function e(t,n,r){Object(Cn.a)(this,e),this.sliceDim=t,this.strides=n,this.variableNames=["x","indices"],this.outputShape=r;var a=Kg(n.length),i=Kg(r.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        ".concat(a," strides = ").concat(a,"(").concat(this.strides,");\n         void main() {\n          ").concat(i," coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < ").concat(this.sliceDim,"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * ").concat(o,";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      ")};var _w={kernelName:o.GatherNd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,i=a.shape,s=i[i.length-1],c=o.backend_util.prepareAndValidate(r,a),l=Object(u.a)(c,4),f=l[0],d=l[1],h=l[2],p=l[3],v=wy({inputs:{x:a},backend:n,attrs:{shape:[d,s]}}),m=wy({inputs:{x:r},backend:n,attrs:{shape:[o.util.sizeFromShape(r.shape)/h,h]}}),g=new xw(s,p,[d,h]),b=n.runWebGLProgram(g,[m,v],m.dtype),y=wy({inputs:{x:b},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),y}},ww=function e(t,n){Object(Cn.a)(this,e),this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;var r=Kg(this.rank),a=function(e,t){for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],a=0;a<e.length;a++)2===a?r.push("int(getIndices(resRC.x, resRC.z))"):r.push("".concat(n[a]));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(r," resRC = getOutputCoords();\n        setOutput(getA(").concat(a,"));\n      }\n    ")};var Ow={kernelName:o.GatherV2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.indices,u=r.axis,s=r.batchDims,c=o.util.parseAxisParam(u,a.shape)[0],l=o.backend_util.segment_util.collectGatherOpShapeInfo(a,i,c,s),f=o.util.sizeFromShape(i.shape),d=[],h=wy({inputs:{x:a},backend:n,attrs:{shape:[l.batchSize,l.outerSize,l.dimSize,l.sliceSize]}}),p=wy({inputs:{x:i},backend:n,attrs:{shape:[l.batchSize,f/l.batchSize]}});d.push(h),d.push(p);var v=[l.batchSize,l.outerSize,f/l.batchSize,l.sliceSize];if(n.shouldExecuteOnCPU([a,i])||"string"===a.dtype){var m=n.bufferSync(p),g=n.bufferSync(h),b=sb(g,m,v);return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(l.outputShape,b.dtype,b.values)}var y=new ww(h.shape,v),x=n.runWebGLProgram(y,[h,p],h.dtype);d.push(x);var _=wy({inputs:{x:x},backend:n,attrs:{shape:l.outputShape}});return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),_}},kw=hy({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:cb,dtype:"bool"}),jw={kernelName:o.Greater,backendName:"webgl",kernelFunc:kw},Ew=hy({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool"}),Cw={kernelName:o.GreaterEqual,backendName:"webgl",kernelFunc:Ew};var Aw={kernelName:o.IFFT,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return nw(t.input,!0,n)}},Sw=dy({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),Dw={kernelName:o.IsFinite,backendName:"webgl",kernelFunc:Sw},Nw=dy({opSnippet:"return float(isinf(x));",dtype:"bool"}),Fw={kernelName:o.IsInf,backendName:"webgl",kernelFunc:Nw},Tw=dy({opSnippet:"return float(isnan(x));",dtype:"bool"}),Mw={kernelName:o.IsNan,backendName:"webgl",kernelFunc:Tw},Iw=hy({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:lb,dtype:"bool"}),Rw={kernelName:o.Less,backendName:"webgl",kernelFunc:Iw},Pw=hy({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",dtype:"bool"}),Bw={kernelName:o.LessEqual,backendName:"webgl",kernelFunc:Pw};var zw={kernelName:o.LinSpace,backendName:"webgl",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.num,o=fb(r,a,i);return t.makeTensorInfo([o.length],"float32",o)}},Lw=dy({opSnippet:"if (x < 0.0) return NAN;\n  return log(x);",packedOpSnippet:"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:db}),Uw={kernelName:o.Log,backendName:"webgl",kernelFunc:Lw},Ww=dy({opSnippet:"return log(1.0 + x);"}),Vw={kernelName:o.Log1p,backendName:"webgl",kernelFunc:Ww},qw=hy({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),Hw={kernelName:o.LogicalAnd,backendName:"webgl",kernelFunc:qw},Gw=dy({opSnippet:"return float(!(x >= 1.0));"}),Kw={kernelName:o.LogicalNot,backendName:"webgl",kernelFunc:Gw},$w=hy({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),Xw={kernelName:o.LogicalOr,backendName:"webgl",kernelFunc:$w},Yw=function e(t,n,r,a,i){Object(Cn.a)(this,e),this.variableNames=["x"],this.outputShape=[];var o,u=n,s=t[3]-1;this.outputShape=t;var c="float(".concat(r,") + float(").concat(a,") * sum");o=.5===i?"inversesqrt(".concat(c,")"):1===i?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(i,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(u,"; j <= ").concat(u,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(s,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(o,";\n        setOutput(val);\n      }\n    ")},Jw=function e(t,n,r,a,i){Object(Cn.a)(this,e),this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,u=n,s=t[3]-1;this.outputShape=t;var c="float(".concat(r,") + float(").concat(a,") * sum");o=.5===i?"inversesqrt(".concat(c,")"):1===i?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(i,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(u,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(u,"; j <= ").concat(u,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(s,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(o,";\n        setOutput(result);\n      }\n    ")},Qw={kernelName:o.LRN,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.depthRadius,u=r.bias,s=r.alpha,c=r.beta,l=Object(o.env)().getBool("WEBGL_PACK_NORMALIZATION")?new Jw(a.shape,i,u,s,c):new Yw(a.shape,i,u,s,c);return n.runWebGLProgram(l,[a],a.dtype)}},Zw=function e(t,n,r,a,i){Object(Cn.a)(this,e),this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=a,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(n,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(n," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(a,") * norm + float(").concat(r,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(a,")\n                * float(").concat(i,")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(i,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")},eO={kernelName:o.LRNGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.y,o=t.dy,u=r.depthRadius,s=r.bias,c=r.alpha,l=r.beta,f=new Zw(a.shape,u,s,c,l);return n.runWebGLProgram(f,[a,i,o],a.dtype)}};function tO(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reductionIndices,s=r.keepDims,c=a.shape.length,l=o.util.parseAxisParam(i,a.shape),f=l,d=o.backend_util.getAxesPermutation(f,c),h=null!=d,p=n.shouldExecuteOnCPU([a]),v=a;if(h){if(p){for(var m=n.texData.get(v.dataId).values,g=new Array(c),b=0;b<g.length;b++)g[b]=a.shape[d[b]];var y=Cb(m,a.shape,a.dtype,d,g);v=n.makeTensorInfo(g,a.dtype),n.texData.get(v.dataId).values=y}else v=Sy(a,d,n);f=o.backend_util.getInnerMostAxes(f.length,c)}o.backend_util.assertAxesAreInnerMostDims("max",f,c);var x,_=o.backend_util.computeOutAndReduceShapes(v.shape,f),w=Object(u.a)(_,2),O=w[0],k=w[1],j=O;if(s&&(j=o.backend_util.expandShapeToKeepDim(O,l)),p){var E=n.texData.get(v.dataId).values,C=hb(E,o.util.sizeFromShape(k),j,a.dtype);x=n.makeTensorInfo(j,a.dtype),n.texData.get(x.dataId).values=C}else x=function(e,t,n,r){var a=o.util.sizeFromShape(t),i=wy({inputs:{x:e},attrs:{shape:[o.util.sizeFromShape(e.shape)/a,a]},backend:r}),u=Ey(i,e.dtype,"max",r),s=wy({inputs:{x:u},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(u),s}(v,k,j,n);return h&&n.disposeIntermediateTensorInfo(v),x}var nO={kernelName:o.Max,backendName:"webgl",kernelFunc:tO},rO=hy({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:pb}),aO={kernelName:o.Maximum,backendName:"webgl",kernelFunc:rO};var iO={kernelName:o.MaxPool,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;dg(a,"maxPool");var i=r.filterSize,u=r.strides,s=r.pad,c=r.dimRoundingMode;o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(u,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(u," and dilations '").concat(1,"'")}));var l=o.backend_util.computePool2DInfo(a.shape,i,u,1,s,c);if(1===l.filterWidth&&1===l.filterHeight&&o.util.arraysEqual(l.inShape,l.outShape))return ny({inputs:{x:a},backend:n});var f=new hx(l,"max",!1);return n.runWebGLProgram(f,[a],a.dtype)}};var oO={kernelName:o.MaxPool3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,u=r.strides,s=r.pad,c=r.dataFormat,l=r.dimRoundingMode,f=o.backend_util.computePool3DInfo(a.shape,i,u,[1,1,1],s,l,c),d=new px(f,"max",!1);return n.runWebGLProgram(d,[a],a.dtype)}},uO=function e(t){Object(Cn.a)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideHeight,r=t.strideWidth,a=t.dilationHeight,i=t.effectiveFilterHeight,o=t.effectiveFilterWidth,u=i-1-t.padInfo.top,s=o-1-t.padInfo.left,c=i*o-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(u,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(i,";\n          wR += ").concat(a,") {\n          float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(o,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(c," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(o," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},sO=function e(t){Object(Cn.a)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.dilationDepth,o=t.dilationHeight,u=t.dilationWidth,s=t.effectiveFilterDepth,c=t.effectiveFilterHeight,l=t.effectiveFilterWidth,f=s-1-t.padInfo.front,d=c-1-t.padInfo.top,h=l-1-t.padInfo.left,p=s*c*l-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(f,", ").concat(d,", ").concat(h,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(s,";\n           wD += ").concat(i,") {\n          float dyD = float(dyDCorner + wD) / ").concat(n,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(c,";\n              wR += ").concat(o,") {\n            float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(l,";\n                wC += ").concat(u,") {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(p," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(c," * ").concat(l," +\n                  wR * ").concat(l," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")};var cO={kernelName:o.MaxPool3DGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,u=r.filterSize,s=r.strides,c=r.pad,l=r.dimRoundingMode,f=o.backend_util.computePool3DInfo(i.shape,u,s,[1,1,1],c,l),d=new px(f,"max",!0),h=n.runWebGLProgram(d,[i],i.dtype),p=new sO(f),v=n.runWebGLProgram(p,[a,h],i.dtype);return n.disposeIntermediateTensorInfo(h),v}};var lO={kernelName:o.MaxPoolGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,u=i;dg([i,t.output],"maxPoolGrad");var s=r.filterSize,c=r.strides,l=r.pad,f=r.dimRoundingMode,d=o.backend_util.computePool2DInfo(u.shape,s,c,1,l,f),h=new hx(d,"max",!0),p=n.runWebGLProgram(h,[u],u.dtype),v=new uO(d),m=n.runWebGLProgram(v,[a,p],u.dtype);return n.disposeIntermediateTensorInfo(p),m}};var fO={kernelName:o.MaxPoolWithArgmax,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.filterSize,s=n.strides,c=n.pad,l=n.includeBatchInIndex,f=r;o.util.assert(4===a.shape.length,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(a.shape.length,".")}));var d=[1,1];o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(s,d),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(d,"'")}));var h=o.backend_util.computePool2DInfo(a.shape,i,s,d,c),p=function(e,t,n,r){var a=new hx(n,"max",!1),i=r.runWebGLProgram(a,[e],"float32");return a=new hx(n,"max",!0,!0,t),[i,r.runWebGLProgram(a,[e],"float32")]}(a,l,h,f),v=Object(u.a)(p,2);return[v[0],v[1]]}};var dO={kernelName:o.Mean,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.keepDims,s=n.axis,c=r,l=a.shape.length,f=o.util.parseAxisParam(s,a.shape),d=f,h=o.backend_util.getAxesPermutation(d,l),p=null!=h,v=c.shouldExecuteOnCPU([a]),m=[],g=a;if(p){if(v){for(var b=c.texData.get(g.dataId).values,y=new Array(l),x=0;x<y.length;x++)y[x]=a.shape[h[x]];var _=Cb(b,a.shape,a.dtype,h,y);g=c.makeTensorInfo(y,a.dtype),c.texData.get(g.dataId).values=_}else g=Sy(a,h,c);m.push(g),d=o.backend_util.getInnerMostAxes(d.length,l)}o.backend_util.assertAxesAreInnerMostDims("sum",d,l);var w=o.backend_util.computeOutAndReduceShapes(g.shape,d),O=Object(u.a)(w,2),k=O[0],j=O[1],E=k;i&&(E=o.backend_util.expandShapeToKeepDim(k,f));for(var C=function(e,t,n,r){var a=o.util.sizeFromShape(t),i=wy({inputs:{x:e},attrs:{shape:[o.util.sizeFromShape(e.shape)/a,a]},backend:r}),u=Ey(i,"float32","mean",r),s=wy({inputs:{x:u},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(u),s}(g,j,E,c),A=0,S=m;A<S.length;A++){var D=S[A];c.disposeIntermediateTensorInfo(D)}return C}};var hO={kernelName:o.Min,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,s=r.keepDims,c=a.shape.length,l=o.util.parseAxisParam(i,a.shape),f=l,d=o.backend_util.getAxesPermutation(f,c),h=a;null!=d&&(h=Fy({inputs:{x:a},backend:n,attrs:{perm:d}}),f=o.backend_util.getInnerMostAxes(f.length,a.shape.length)),o.backend_util.assertAxesAreInnerMostDims("min",f,c);var p,v=o.backend_util.computeOutAndReduceShapes(h.shape,f),m=Object(u.a)(v,2),g=m[0],b=m[1],y=wy({inputs:{x:h},backend:n,attrs:{shape:[-1,o.util.sizeFromShape(b)]}}),x=Ey(y,y.dtype,"min",n);return p=wy(s?{inputs:{x:x},backend:n,attrs:{shape:o.backend_util.expandShapeToKeepDim(g,l)}}:{inputs:{x:x},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(x),null!=d&&n.disposeIntermediateTensorInfo(h),p}},pO=hy({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:vb}),vO={kernelName:o.Minimum,backendName:"webgl",kernelFunc:pO},mO=function e(t,n,r){Object(Cn.a)(this,e),this.variableNames=["x"],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,i=Kg(a),o=n.map((function(e){return e[0]})).join(","),u=n.map((function(e,n){return e[0]+t[n]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),c="reflect"===r?0:1;this.userCode=1!==a?"\n      ".concat(i," start = ").concat(i,"(").concat(o,");\n      ").concat(i," end = ").concat(i,"(").concat(u,");\n\n      void main() {\n        ").concat(i," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(a,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(c,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(c,";\n          }\n        }\n        ").concat(i," coords = outC - start;\n        setOutput(getX(").concat(s,"));\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(u,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(c,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(c,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ")},gO=function e(t,n,r){Object(Cn.a)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,i=Kg(a),o=n.map((function(e){return e[0]})).join(","),u=n.map((function(e,n){return e[0]+t[n]})).join(","),s=Db("rc",a),c=Db("source",a),l="".concat(s[a-1]," < ").concat(this.outputShape[a-1]),f=1===a?"source":"vec2(".concat(c.slice(-2).join(),")"),d="reflect"===r?0:1,h="";if(1===a){var p="\n        ".concat(i," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(d,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(d,";\n        }\n        source -= start;\n      ");h="\n        ".concat(i," rc = outputLoc;\n        ").concat(p,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        ").concat(s[a-1]," += 1;\n        if(").concat(l,") {\n          ").concat(p,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        }\n      ")}else{var v="\n        ".concat(i," source = rc;\n        ").concat(i," lt = ").concat(i,"(lessThan(source, start));\n        ").concat(i," gte = ").concat(i,"(greaterThanEqual(source, end));\n        ").concat(i," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(d,") +\n                gte * ((end - 1) * 2 - source + ").concat(d,");\n        source -= start;\n      ");h="\n        ".concat(i," rc = outputLoc;\n        ").concat(v,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        ").concat(s[a-1]," += 1;\n        if(").concat(l,") {\n          ").concat(v,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        }\n        rc = outputLoc;\n        ").concat(s[a-2]," += 1;\n        if(").concat(s[a-2]," < ").concat(this.outputShape[a-2],") {\n          ").concat(v,"\n          result[2] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n          ").concat(s[a-1]," += 1;\n          if(").concat(l,") {\n            ").concat(v,"\n            result[3] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(i," start = ").concat(i,"(").concat(o,");\n      const ").concat(i," end = ").concat(i,"(").concat(u,");\n\n      void main() {\n        ").concat(i," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(h,"\n        setOutput(result);\n      }\n    ")},bO={kernelName:o.MirrorPad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,u=r.mode,s=Object(o.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new gO(a.shape,i,u):new mO(a.shape,i,u);return n.runWebGLProgram(s,[a],a.dtype)}},yO=hy({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),xO={kernelName:o.Mod,backendName:"webgl",kernelFunc:yO},_O=function(){function e(t,n,r){Object(Cn.a)(this,e),this.variableNames=["probs"],this.outputShape=[t,r],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(n-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(n-1,"));\n      }\n    ")}return Object(An.a)(e,[{key:"getCustomSetupFunc",value:function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}}}]),e}(),wO=hy({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),OO={kernelName:o.RealDiv,backendName:"webgl",kernelFunc:wO},kO="return a - b;",jO=hy({opSnippet:kO,packedOpSnippet:kO,supportsComplex:!0,cpuKernelImpl:kb}),EO={kernelName:o.Sub,backendName:"webgl",kernelFunc:jO};function CO(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.dim,u=o.util.parseAxisParam([i],a.shape),s=tO({inputs:{x:a},backend:n,attrs:{reductionIndices:u,keepDims:!1}}),c=o.backend_util.expandShapeToKeepDim(s.shape,u),l=wy({inputs:{x:s},backend:n,attrs:{shape:c}}),f=jO({inputs:{a:a,b:l},backend:n}),d=$_({inputs:{x:f},backend:n}),h=Dy({inputs:{x:d},backend:n,attrs:{axis:u,keepDims:!1}}),p=wy({inputs:{x:h},backend:n,attrs:{shape:c}}),v=wO({inputs:{a:d,b:p},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),v}var AO={kernelName:o.Softmax,backendName:"webgl",kernelFunc:CO};var SO={kernelName:o.Multinomial,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.numSamples,o=r.seed,u=r.normalized,s=u?a:CO({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),c=s.shape[0],l=s.shape[1],f=new _O(c,l,i),d=f.getCustomSetupFunc(o),h=n.runWebGLProgram(f,[s],"int32",d);return u||n.disposeIntermediateTensorInfo(s),h}},DO="return -x;";var NO={kernelName:o.Neg,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.x;if(r.shouldExecuteOnCPU([a])){var i=r.texData.get(a.dataId),s=gb(i.values,a.shape,a.dtype),c=Object(u.a)(s,2),l=c[0],f=c[1];return r.makeTensorInfo(f,a.dtype,l)}return t=Object(o.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Xb(a.shape,DO):new Pb(a.shape,DO),r.runWebGLProgram(t,[a],a.dtype)}},FO=o.kernel_impls.nonMaxSuppressionV3Impl;var TO={kernelName:o.NonMaxSuppressionV3,backendName:"webgl",kernelFunc:function(e){o.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,u=r.maxOutputSize,s=r.iouThreshold,c=r.scoreThreshold,l=n.readSync(a.dataId),f=n.readSync(i.dataId),d=FO(l,f,u,s,c).selectedIndices;return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},MO=o.kernel_impls.nonMaxSuppressionV4Impl;var IO={kernelName:o.NonMaxSuppressionV4,backendName:"webgl",kernelFunc:function(e){o.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,u=r.maxOutputSize,s=r.iouThreshold,c=r.scoreThreshold,l=r.padToMaxOutputSize,f=n.readSync(a.dataId),d=n.readSync(i.dataId),h=MO(f,d,u,s,c,l),p=h.selectedIndices,v=h.validOutputs;return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([v]))]}},RO=o.kernel_impls.nonMaxSuppressionV5Impl;var PO={kernelName:o.NonMaxSuppressionV5,backendName:"webgl",kernelFunc:function(e){o.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,u=r.maxOutputSize,s=r.iouThreshold,c=r.scoreThreshold,l=r.softNmsSigma,f=n.readSync(a.dataId),d=n.readSync(i.dataId),h=RO(f,d,u,s,c,l),p=h.selectedIndices,v=h.selectedScores;return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}},BO=function e(t,n,r,a){Object(Cn.a)(this,e),this.variableNames=["indices"],this.outputShape=[t,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(a,"), float(").concat(r,"),\n                      float(index == coords.y)));\n      }\n    ")},zO={kernelName:o.OneHot,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=r.depth,u=r.onValue,s=r.offValue,c=o.util.sizeFromShape(a.shape),l=new BO(c,i,u,s),f=wy({inputs:{x:a},backend:n,attrs:{shape:[c]}}),d=n.runWebGLProgram(l,[f],a.dtype);n.disposeIntermediateTensorInfo(f);var h=wy({inputs:{x:d},backend:n,attrs:{shape:[].concat(Object(Fn.a)(a.shape),[i])}});return n.disposeIntermediateTensorInfo(d),h}};function LO(e){var t=e.inputs,n=e.backend,r=t.x;if("complex64"===r.dtype){var a=Mx({inputs:{input:r},backend:n}),i=LO({inputs:{x:a},backend:n}),o=Xx({inputs:{input:r},backend:n}),u=LO({inputs:{x:o},backend:n}),s=ay({inputs:{real:i,imag:u},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(u),s}return iw({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}var UO={kernelName:o.ZerosLike,backendName:"webgl",kernelFunc:LO};var WO={kernelName:o.OnesLike,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===a.dtype){var i=Mx({inputs:{input:a},backend:r}),o=e({inputs:{x:i},backend:r}),u=Xx({inputs:{input:a},backend:r}),s=LO({inputs:{x:u},backend:r}),c=ay({inputs:{real:o,imag:s},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(u),r.disposeIntermediateTensorInfo(s),c}return iw({attrs:{shape:a.shape,dtype:a.dtype,value:1},backend:r})}};var VO={kernelName:o.Pack,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return Y_({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,i=t[0].dtype;t.forEach((function(e){o.util.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),o.util.assert(i===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var u=[],s=Zx({inputs:t.map((function(e){var t=Y_({inputs:{input:e},backend:n,attrs:{dim:r}});return u.push(t),t})),backend:n,attrs:{axis:r}});return u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),s}},qO=function(){function e(t,n,r){Object(Cn.a)(this,e),this.variableNames=["x"],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,i=Kg(a),o=n.map((function(e){return e[0]})).join(","),u=n.map((function(e,n){return e[0]+t[n]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);this.userCode=1!==a?"\n      ".concat(i," start = ").concat(i,"(").concat(o,");\n      ").concat(i," end = ").concat(i,"(").concat(u,");\n      uniform float value;\n\n      void main() {\n        ").concat(i," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(i," coords = outC - start;\n          setOutput(getX(").concat(s,"));\n        }\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(u,";\n        uniform float value;\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")}return Object(An.a)(e,[{key:"getCustomSetupFunc",value:function(e){var t=this;return function(n,r){null==t.valueLoc&&(t.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(t.valueLoc,e)}}}]),e}(),HO=function(){function e(t,n,r){Object(Cn.a)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));for(var a=t.length,i=Kg(a),o=n.map((function(e){return e[0]})).join(","),u=n.map((function(e,n){return e[0]+t[n]})).join(","),s=Db("rc",a),c=Db("source",a),l="".concat(s[a-1]," < ").concat(this.outputShape[a-1]),f=1===a?"source":"vec2(".concat(c.slice(-2).join(),")"),d=["".concat(i," rc = outputLoc;"),"".concat(s[a-1]," += 1;\n       if(").concat(l,") {\n      "),1===a?"":"}\n       rc = outputLoc;\n       ".concat(s[a-2]," += 1;\n       if(").concat(s[a-2]," < ").concat(this.outputShape[a-2],") {"),1===a?"":"  ".concat(s[a-1]," += 1;\n         if(").concat(l,") {")],h=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",p="",v=0,m=1===a?2:4;v<m;v++)p+="\n        ".concat(d[v],"\n        if (").concat(h,") {\n          result[").concat(v,"] = float(value);\n        } else {\n          ").concat(i," source = rc - start;\n          result[").concat(v,"] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        }\n      ");p+=1===a?"} ":"}}",this.userCode="\n      const ".concat(i," start = ").concat(i,"(").concat(o,");\n      const ").concat(i," end = ").concat(i,"(").concat(u,");\n      uniform float value;\n\n      void main() {\n        ").concat(i," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(p,"\n        setOutput(result);\n      }\n    ")}return Object(An.a)(e,[{key:"getCustomSetupFunc",value:function(e){var t=this;return function(n,r){null==t.valueLoc&&(t.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(t.valueLoc,e)}}}]),e}(),GO=function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,u=r.constantValue,s=Object(o.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new HO(a.shape,i,u):new qO(a.shape,i,u),c=s.getCustomSetupFunc(u);return n.runWebGLProgram(s,[a],a.dtype,c)},KO={kernelName:o.PadV2,backendName:"webgl",kernelFunc:GO},$O=hy({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),XO={kernelName:o.Pow,backendName:"webgl",kernelFunc:$O};var YO={kernelName:o.Prod,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,s=a.axis,c=a.keepDims,l=i.shape.length,f=[],d=o.util.parseAxisParam(s,i.shape),h=d,p=o.backend_util.getAxesPermutation(h,l),v=i;if(null!=p&&(v=Fy({inputs:{x:i},backend:r,attrs:{perm:p}}),h=o.backend_util.getInnerMostAxes(h.length,l),f.push(v)),o.backend_util.assertAxesAreInnerMostDims("prod",h,l),r.shouldExecuteOnCPU([v])){var m=r.texData.get(v.dataId).values,g=bb(v.shape,v.dtype,m,h),b=g.outVals,y=g.outShape,x=g.outDtype;t=r.makeTensorInfo(y,x,b)}else{var _=o.backend_util.computeOutAndReduceShapes(v.shape,h),w=Object(u.a)(_,2),O=w[0],k=w[1],j=o.util.sizeFromShape(k),E=wy({inputs:{x:v},backend:r,attrs:{shape:[-1,j]}}),C=Ey(E,Object(o.sumOutType)(i.dtype),"prod",r);t=wy({inputs:{x:C},backend:r,attrs:{shape:O}}),f.push(E),f.push(C)}if(c){f.push(t);var A=o.backend_util.expandShapeToKeepDim(t.shape,d);t=wy({inputs:{x:t},backend:r,attrs:{shape:A}})}return f.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),t}},JO=function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.step,o=n.dtype,u=yb(r,a,i,o);return t.makeTensorInfo([u.length],o,u)},QO={kernelName:o.Range,backendName:"webgl",kernelFunc:JO},ZO=dy({opSnippet:"return 1.0 / x;"}),ek={kernelName:o.Reciprocal,backendName:"webgl",kernelFunc:ZO},tk=dy({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),nk={kernelName:o.Relu,backendName:"webgl",kernelFunc:tk},rk=dy({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),ak={kernelName:o.Relu6,backendName:"webgl",kernelFunc:rk},ik=function e(t,n,r,a,i){Object(Cn.a)(this,e),this.variableNames=["A"],this.outputShape=[];var o=Object(u.a)(t,4),s=o[0],c=o[1],l=o[2],f=o[3];this.outputShape=[s,n,r,f];var d,h=[a&&n>1?c-1:c,a&&r>1?l-1:l],p=[a&&n>1?n-1:n,a&&r>1?r-1:r];d=i?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(h[0]/p[0],",\n          ").concat(h[1]/p[1],");\n      const vec2 inputShapeRC = vec2(").concat(c,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")},ok=function e(t,n,r,a,i){Object(Cn.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=Object(u.a)(t,4),s=o[0],c=o[1],l=o[2],f=o[3];this.outputShape=[s,n,r,f];var d,h=[a&&n>1?c-1:c,a&&r>1?l-1:l],p=[a&&n>1?n-1:n,a&&r>1?r-1:r];d=i?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(h[0]/p[0],",\n          ").concat(h[1]/p[1],",\n          ").concat(h[1]/p[1],");\n      const vec3 inputShapeRC = vec3(").concat(c,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(f-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")};var uk={kernelName:o.ResizeBilinear,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,s=r.halfPixelCenters,c=r.size,l=Object(u.a)(c,2),f=l[0],d=l[1],h=Object(o.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ok(a.shape,f,d,i,s):new ik(a.shape,f,d,i,s);return n.runWebGLProgram(h,[a],"float32")}},sk=function e(t,n,r){Object(Cn.a)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var a=Object(u.a)(n,3),i=a[1],o=a[2],s=Object(u.a)(t,3),c=s[1],l=s[2],f=[r&&c>1?i-1:i,r&&l>1?o-1:o],d=[r&&c>1?c-1:c,r&&l>1?l-1:l],h=f[0]/d[0],p=f[1]/d[1],v=1/h,m=1/p,g=2*Math.ceil(v)+2,b=2*Math.ceil(m)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(h,");\n        const float widthScale = float(").concat(p,");\n\n        const float invHeightScale = float(").concat(v,");\n        const float invWidthScale = float(").concat(m,");\n\n        const int winHeight = int(").concat(g,");\n        const int winWidth = int(").concat(b,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(c,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(l,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(i-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(o-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")};var ck={kernelName:o.ResizeBilinearGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,o=r.alignCorners,u=new sk(i.shape,a.shape,o);return n.runWebGLProgram(u,[i],i.dtype)}},lk=function e(t,n,r,a,i){Object(Cn.a)(this,e),this.variableNames=["A"],this.outputShape=[];var o=Object(u.a)(t,4),s=o[0],c=o[1],l=o[2],f=o[3];this.outputShape=[s,n,r,f];var d,h=[a&&n>1?c-1:c,a&&r>1?l-1:l],p=[a&&n>1?n-1:n,a&&r>1?r-1:r],v=a?"0.5":"0.0";d=i?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(h[0]/p[0],",\n          ").concat(h[1]/p[1],");\n      const vec2 inputShapeRC = vec2(").concat(c,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(v,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")};var fk={kernelName:o.ResizeNearestNeighbor,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,o=r.halfPixelCenters,s=r.size,c=Object(u.a)(s,2),l=c[0],f=c[1],d=new lk(a.shape,l,f,i,o);return n.runWebGLProgram(d,[a],a.dtype)}},dk=function e(t,n,r){Object(Cn.a)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var a=Object(u.a)(n,3),i=a[1],o=a[2],s=Object(u.a)(t,3),c=s[1],l=s[2],f=[r&&c>1?i-1:i,r&&l>1?o-1:o],d=[r&&c>1?c-1:c,r&&l>1?l-1:l],h=f[0]/d[0],p=f[1]/d[1],v=1/h,m=1/p,g=2*Math.ceil(v)+2,b=2*Math.ceil(m)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(h,");\n        const float widthScale = float(").concat(p,");\n\n        const float invHeightScale = float(").concat(v,");\n        const float invWidthScale = float(").concat(m,");\n\n        const int winHeight = int(").concat(g,");\n        const int winWidth = int(").concat(b,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(c,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(l,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(f[0],") *\n                (float(dyR) / float(").concat(d[0],"));\n\n            float sourceFracCol =\n                float(").concat(f[1],") *\n                  (float(dyC) / float(").concat(d[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(i,") - 1),\n                ").concat(r," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(o,") - 1),\n                ").concat(r," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")};var hk={kernelName:o.ResizeNearestNeighborGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,o=r.alignCorners,u=new dk(i.shape,a.shape,o);return n.runWebGLProgram(u,[i],i.dtype)}},pk=function e(t,n){Object(Cn.a)(this,e),this.variableNames=["x"];var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));if(this.outputShape=t,1!==r){var a=t.map((function(e,r){return function(e){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - coords[").concat(e,"] - 1"):"coords[".concat(e,"]")}(r)})).join(","),i=Kg(r);this.userCode="\n      void main() {\n        ".concat(i," coords = getOutputCoords();\n        setOutput(getX(").concat(a,"));\n      }\n    ")}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(t[0]," - coord - 1));\n        }\n      ")},vk=function e(t,n){Object(Cn.a)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));this.outputShape=t;var a=Db("rc",r),i="".concat(a[r-1]," + 1 < ").concat(this.outputShape[r-1]),o="".concat(a[r-2]," + 1 < ").concat(this.outputShape[r-2]),u=Kg(r);function s(e){var r=t.map((function(r,a){return function(e,r){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - ").concat(r[e]," - 1"):"".concat(r[e])}(a,e)})),a=r.join(","),i=r.slice(-2).join(",");return"getChannel(getX(".concat(a,"), vec2(").concat(i,"))")}this.userCode=1===r?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(t[0]," - rc - 1),\n            ").concat(t[0]," - rc - 1);\n          if(").concat(i,"){\n              result.g = getChannel(getX(").concat(t[0]," - (rc  + 1) - 1),\n                ").concat(t[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(u," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(e){return s(e)}(a.slice()),";\n          if(").concat(i,"){\n            result.g = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",s(e)}(a.slice()),";\n          }\n          if(").concat(o,") {\n            result.b = ").concat(function(e){return e[r-2]="("+e[r-2]+" + 1)",s(e)}(a.slice()),";\n            if(").concat(i,") {\n              result.a = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",e[r-2]="("+e[r-2]+" + 1)",s(e)}(a.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")};var mk={kernelName:o.Reverse,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.dims,u=a.shape.length,s=o.util.parseAxisParam(i,a.shape);if(0===u)return ny({inputs:{x:a},backend:n});var c=Object(o.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new vk(a.shape,s):new pk(a.shape,s);return n.runWebGLProgram(c,[a],a.dtype)}},gk=function(){function e(t,n){Object(Cn.a)(this,e),this.variableNames=["Image"],this.outputShape=[];var r=t[1],a=t[2];this.outputShape=t;var i="";i="number"===typeof n?"float outputValue = ".concat(n.toFixed(2),";"):"\n        vec3 fill = vec3(".concat(n.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        uniform vec4 params;\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(i,"\n          if(coordX >= 0 && coordX < ").concat(a," && coordY >= 0 && coordY < ").concat(r,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")}return Object(An.a)(e,[{key:"getCustomSetupFunc",value:function(e,t,n,r){var a=this;return function(i,o){null==a.paramsLoc&&(a.paramsLoc=i.getUniformLocationNoThrow(o,"params")),i.gl.uniform4f(a.paramsLoc,e,t,n,r)}}}]),e}(),bk={kernelName:o.RotateWithOffset,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,i=n.radians,s=n.fillValue,c=n.center,l=r,f=new gk(a.shape,s),d=o.backend_util.getImageCenter(c,a.shape[1],a.shape[2]),h=Object(u.a)(d,2),p=h[0],v=h[1],m=f.getCustomSetupFunc(p,v,Math.sin(i),Math.cos(i));return l.runWebGLProgram(f,[a],a.dtype,m)}},yk=dy({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),xk={kernelName:o.Round,backendName:"webgl",kernelFunc:yk},_k=dy({opSnippet:"return inversesqrt(x);",cpuKernelImpl:xb}),wk={kernelName:o.Rsqrt,backendName:"webgl",kernelFunc:_k},Ok=function e(t,n,r,a,i,o){Object(Cn.a)(this,e),this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var u=Kg(i.length),s=Kg(o.length),c="";1===r?c="i":2===r&&(c="i, j");var l="getIndices(".concat(c,")"),f="";1===a?f="i":2===a&&(f="i, coords[1]");var d="getUpdates(".concat(f,")"),h=n>1?"strides[j]":"strides";this.userCode="\n        ".concat(u," strides = ").concat(u,"(").concat(i,");\n\n        void main() {\n          ").concat(s," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(t,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(n,"; j++) {\n              int index = round(").concat(l,");\n              flattenedIndex += index * ").concat(h,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(d,";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      ")};var kk={kernelName:o.ScatterNd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=t.updates,u=r.shape,s=o.backend_util.calculateShapes(i,a,u),c=s.sliceRank,l=s.numUpdates,f=s.sliceSize,d=s.strides,h=s.outputSize,p=[h/f,f];if(0===h)return n.makeTensorInfo(u,a.dtype);var v=wy({inputs:{x:a},backend:n,attrs:{shape:[l,c]}}),m=wy({inputs:{x:i},backend:n,attrs:{shape:[l,f]}}),g=n.makeTensorInfo([],"float32",new Float32Array([0])),b=new Ok(l,c,v.shape.length,m.shape.length,d,p),y=n.runWebGLProgram(b,[m,v,g],m.dtype),x=wy({inputs:{x:y},backend:n,attrs:{shape:u}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(g),x}},jk=function e(t,n,r){var a,i;if(Object(Cn.a)(this,e),this.variableNames=["c","a","b"],this.outputShape=n,r>4)throw Error("Where for rank ".concat(r," is not yet supported"));if(1===r)i="resRC",a="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],u=[],s=[],c=0;c<n.length;c++)s.push("".concat(o[c])),c<t&&u.push("".concat(o[c]));a=u.join(),i=s.join()}var l=Kg(r);this.userCode="\n      void main() {\n        ".concat(l," resRC = getOutputCoords();\n        float cVal = getC(").concat(a,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(i,"));\n        } else {\n          setOutput(getB(").concat(i,"));\n        }\n      }\n    ")};var Ek={kernelName:o.Select,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,i=t.e,u=new jk(r.shape.length,a.shape,a.shape.length);return n.runWebGLProgram(u,[r,a,i],Object(o.upcastType)(a.dtype,i.dtype))}},Ck=dy({opSnippet:"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(o.backend_util.SELU_SCALEALPHA,";\n  float scale = ").concat(o.backend_util.SELU_SCALE,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n")}),Ak={kernelName:o.Selu,backendName:"webgl",kernelFunc:Ck},Sk=dy({opSnippet:"return 1.0 / (1.0 + exp(-1.0 * x));"}),Dk={kernelName:o.Sigmoid,backendName:"webgl",kernelFunc:Sk},Nk=dy({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),Fk={kernelName:o.Sign,backendName:"webgl",kernelFunc:Nk},Tk=dy({opSnippet:"if (isnan(x)) return x;\n  return sin(x);\n"}),Mk={kernelName:o.Sin,backendName:"webgl",kernelFunc:Tk},Ik=dy({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),Rk={kernelName:o.Sinh,backendName:"webgl",kernelFunc:Ik},Pk=dy({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),Bk={kernelName:o.Softplus,backendName:"webgl",kernelFunc:Pk},zk={kernelName:o.SpaceToBatchND,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,u=r.paddings;o.util.assert(a.shape.length<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var s=i.reduce((function(e,t){return e*t})),c=[[0,0]];c.push.apply(c,Object(Fn.a)(u));for(var l=1+i.length;l<a.shape.length;++l)c.push([0,0]);var f=[],d=GO({inputs:{x:a},backend:n,attrs:{paddings:c,constantValue:0}}),h=o.backend_util.getReshaped(d.shape,i,s,!1),p=o.backend_util.getPermuted(h.length,i.length,!1),v=o.backend_util.getReshapedPermuted(d.shape,i,s,!1),m=wy({inputs:{x:d},backend:n,attrs:{shape:h}}),g=Fy({inputs:{x:m},backend:n,attrs:{perm:p}}),b=wy({inputs:{x:g},backend:n,attrs:{shape:v}});return f.push(d),f.push(m),f.push(g),f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),b}};var Lk={kernelName:o.SparseToDense,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sparseIndices,i=t.sparseValues,u=t.defaultValue,s=r.outputShape,c=o.backend_util.calculateShapes(i,a,s),l=c.sliceRank,f=c.numUpdates,d=c.strides,h=c.outputSize,p=new Ok(f,l,a.shape.length,i.shape.length,d,[h,1],!1),v=n.runWebGLProgram(p,[i,a,u],i.dtype),m=wy({inputs:{x:v},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(v),m}};var Uk={kernelName:o.SplitV,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.numOrSizeSplits,u=r.axis,s=o.util.parseAxisParam(u,a.shape)[0],c=o.backend_util.prepareSplitSize(a,i,s),l=a.shape.length,f=new Array(l).fill(0),d=a.shape.slice();return c.map((function(e){var t=Object(Fn.a)(d);t[s]=e;var r=Ax({inputs:{x:a},backend:n,attrs:{begin:f,size:t}});return f[s]+=e,r}))}},Wk=dy({opSnippet:"return sqrt(x);"}),Vk={kernelName:o.Sqrt,backendName:"webgl",kernelFunc:Wk},qk=dy({opSnippet:"return x * x;"}),Hk={kernelName:o.Square,backendName:"webgl",kernelFunc:qk},Gk="return (a - b) * (a - b);",Kk=hy({opSnippet:Gk,packedOpSnippet:Gk}),$k={kernelName:o.SquaredDifference,backendName:"webgl",kernelFunc:Kk};var Xk={kernelName:o.Step,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=Bb+"\n    return x > 0.0 ? 1.0 : float(".concat(n.alpha,");\n  "),o=new Pb(a.shape,i);return r.runWebGLProgram(o,[a],a.dtype)}},Yk=function e(t,n,r){Object(Cn.a)(this,e),this.variableNames=["x"],this.outputShape=r;var a=r.length,i=Kg(r.length),o=Kg(r.length),u="";if(1===a)u="coords * strides + begin";else{var s=0;u=r.map((function(e,t){return s++,1===r.length?"coords * strides[".concat(t,"] + begin[").concat(t,"]"):"coords[".concat(s-1,"] * strides[").concat(t,"] + begin[").concat(t,"]")})).join(",")}this.userCode="\n      ".concat(i," begin = ").concat(i,"(").concat(t,");\n      ").concat(i," strides = ").concat(i,"(").concat(n,");\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        setOutput(getX(").concat(u,"));\n      }\n    ")};var Jk={kernelName:o.StridedSlice,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,u=a.begin,s=a.end,c=a.strides,l=a.beginMask,f=a.endMask,d=a.ellipsisMask,h=a.newAxisMask,p=a.shrinkAxisMask,v=o.slice_util.sliceInfo(i.shape,u,s,c,l,f,d,h,p),m=v.nonStrided,g=v.$begin,b=v.$strides,y=v.size,x=v.newShape,_=v.outShape,w=wy({inputs:{x:i},backend:r,attrs:{shape:x}});if(m){var O=Ax({inputs:{x:w},backend:r,attrs:{begin:g,size:y}});t=wy({inputs:{x:O},backend:r,attrs:{shape:_}}),r.disposeIntermediateTensorInfo(O)}else if(_.some((function(e){return 0===e})))t=r.makeTensorInfo(_,i.dtype,[]);else{if(r.shouldExecuteOnCPU([w])){var k=r.texData.get(w.dataId).values,j=Object(o.buffer)(w.shape,w.dtype,k),E=Ob(_,j,b,g);t=r.makeTensorInfo(_,w.dtype,E.values)}else{var C=new Yk(g,b,_);t=r.runWebGLProgram(C,[w],w.dtype)}}var A=wy({inputs:{x:t},backend:r,attrs:{shape:_}});return r.disposeIntermediateTensorInfo(w),r.disposeIntermediateTensorInfo(t),A}},Qk=dy({opSnippet:"return tan(x);"}),Zk={kernelName:o.Tan,backendName:"webgl",kernelFunc:Qk},ej=dy({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),tj={kernelName:o.Tanh,backendName:"webgl",kernelFunc:ej},nj=function e(t,n){Object(Cn.a)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[a]*n[a];this.outputShape=r,this.rank=r.length;var i=Kg(this.rank),o=function(e){var t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],a=0;a<e.length;a++)r.push("imod(".concat(n[a],", ").concat(e[a],")"));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(i," resRC = getOutputCoords();\n        setOutput(getA(").concat(o,"));\n      }\n    ")};function rj(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reps;if("string"===a.dtype){var u=n.readSync(a.dataId).map((function(e){return o.util.decodeString(e)})),s=Object(o.buffer)(a.shape,a.dtype,u),c=jb(s,i);return n.makeTensorInfo(c.shape,c.dtype,c.values)}var l=new nj(a.shape,i);return n.runWebGLProgram(l,[a],a.dtype)}var aj={kernelName:o.Tile,backendName:"webgl",kernelFunc:rj};var ij={kernelName:o.TopK,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.k,o=r.sorted,s=n.readSync(a.dataId),c=Eb(s,a.shape,a.dtype,i,o),l=Object(u.a)(c,2),f=l[0],d=l[1];return[n.makeTensorInfo(f.shape,f.dtype,f.values),n.makeTensorInfo(d.shape,d.dtype,d.values)]}},oj=function e(t,n,r,a,i,o){Object(Cn.a)(this,e),this.variableNames=["Image","Transforms"],this.outputShape=o;var u,s="nearest"===r?1:2;switch(a){case"constant":u=1;break;case"reflect":u=2;break;case"wrap":u=3;break;case"nearest":u=4;break;default:u=1}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(u," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(u," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(u," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(t," && 0 <= coordX && coordX < ").concat(n,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(i,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(i,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(n,"));\n                float mapY = mapCoord(inY, float(").concat(t,"));\n\n                if (").concat(s," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")};var uj={kernelName:o.Transform,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=t.transforms,o=r.interpolation,s=r.fillMode,c=r.fillValue,l=r.outputShape,f=Object(u.a)(a.shape,4),d=f[0],h=f[1],p=f[2],v=f[3],m=null!=l?l:[h,p],g=Object(u.a)(m,2),b=g[0],y=g[1],x=new oj(h,p,o,s,c,[d,b,y,v]);return n.runWebGLProgram(x,[a,i],"float32")}};var sj={kernelName:o.Unique,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,i=t.x;dg(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");var o=r.readSync(i.dataId),u=Ab(o,a,i.shape,i.dtype),s=u.outputValues,c=u.outputShape,l=u.indices;return[r.makeTensorInfo(c,i.dtype,s),r.makeTensorInfo([l.length],"int32",l)]}};var cj={kernelName:o.Unpack,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,i=r.axis;i<0&&(i+=a.shape.length);for(var o=a,u=o.shape.length,s=a.shape[i],c=new Array(u-1),l=0,f=0;f<u;f++)f!==i&&(c[l++]=o.shape[f]);var d=[],h=new Array(u).fill(0),p=o.shape.slice();p[i]=1;for(var v=new Array(s),m=0;m<v.length;m++){h[i]=m;var g=Ax({inputs:{x:o},backend:n,attrs:{begin:h,size:p}}),b=wy({inputs:{x:g},backend:n,attrs:{shape:c}});v[m]=b,d.push(g)}return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),v}},lj=function e(t,n){Object(Cn.a)(this,e),this.variableNames=["x","segmentIds"];var r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.numSegments,u=o*Math.ceil(i/r);this.outputShape=[a,u];var s=4*Math.floor(r/4),c=r%4,l="\n        sumValue += dot(values, segFilter);\n    ",f="";i%r>0&&(f="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return initializationValue;\n        }\n      "));var d="";i%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(f,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(d,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(o,")) * float(").concat(r,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(o,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(s,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(s,";\n        if (").concat(1===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(l,"\n        } else if (").concat(2===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(l,"\n        } else if (").concat(3===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(l,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")};for(var fj=0,dj=[Qw,eO,Iy,Py,zy,Uy,qy,Ky,$y,Xy,tx,nx,ax,ox,lx,sx,dx,mx,vx,yx,xx,_x,kx,Dx,Nx,Rx,zx,Wx,Hx,iy,e_,f_,d_,o_,p_,v_,h_,g_,y_,__,j_,E_,A_,M_,I_,N_,P_,z_,U_,W_,q_,G_,X_,J_,ew,rw,uw,cw,dw,pw,gw,bw,yw,_w,Ow,jw,Cw,ry,Aw,Yx,Dw,Fw,Mw,sy,Rw,Bw,zw,Vw,Uw,Hw,Kw,Xw,nO,oO,iO,cO,lO,fO,aO,dO,hO,vO,bO,xO,SO,_y,NO,TO,IO,PO,Tx,zO,WO,VO,KO,XO,fy,YO,QO,Ix,OO,ek,ak,nk,Oy,uk,ck,fk,hk,mk,bk,xk,wk,kk,Ek,Ak,Dk,Fk,Mk,Rk,Sx,AO,Bk,zk,Lk,Uk,Vk,Hk,$k,Xk,Jk,EO,Ny,Zk,tj,aj,ij,uj,Ty,sj,cj,{kernelName:o.UnsortedSegmentSum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.segmentIds,u=r.numSegments,s=a.shape.length,c=[],l=0,f=o.backend_util.getAxesPermutation([l],s),d=a;null!=f&&(d=Fy({inputs:{x:a},backend:n,attrs:{perm:f}}),c.push(d),l=o.backend_util.getInnerMostAxes(1,s)[0]);var h=o.backend_util.segment_util.computeOutShape(d.shape,l,u),p=o.util.sizeFromShape([d.shape[l]]),v=wy({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}});c.push(v);var m=wy({inputs:{x:function e(t,r,a,i,u){var s=t.shape[0],l=t.shape[1],f=o.backend_util.segment_util.segOpComputeOptimalWindowSize(l,u),d=new lj({windowSize:f,inSize:l,batchSize:s,numSegments:u},r),h=n.compileAndRun(d,[t,a],i);if(c.push(h),h.shape[1]===u)return h;var p=JO({backend:n,attrs:{start:0,stop:u,step:1,dtype:"float32"}}),v=rj({inputs:{x:p},backend:n,attrs:{reps:[l/f]}});return c.push(p),c.push(v),e(h,r,v,i,u)}(v,"unsortedSegmentSum",i,Object(o.sumOutType)(a.dtype),u)},backend:n,attrs:{shape:h}}),g=m;if(null!=f){c.push(m);var b=o.backend_util.getUndoAxesPermutation(f);g=Fy({inputs:{x:g},backend:n,attrs:{perm:b}})}return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}},UO];fj<dj.length;fj++){var hj=dj[fj];Object(o.registerKernel)(hj)}o.version_core},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11);var s=Object(u.b)({cast_:function(e,t){var n=Object(i.a)(e,"x","cast");if(!o.B(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var u={x:n},s={dtype:t};return r.a.runKernel(a.w,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(30);function a(e,t,n){return(a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(12),i=n(7),o=n(44),u=n(8),s=n(11);var c=Object(s.b)({add_:function(e,t){var n=Object(u.a)(e,"a","add"),s=Object(u.a)(t,"b","add"),c=Object(o.makeTypesMatch)(n,s),l=Object(r.a)(c,2),f={a:n=l[0],b:s=l[1]};return a.a.runKernel(i.d,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(12),i=n(7),o=n(44),u=n(8),s=n(11);var c=Object(s.b)({sub_:function(e,t){var n=Object(u.a)(e,"a","sub"),s=Object(u.a)(t,"b","sub"),c=Object(o.makeTypesMatch)(n,s),l=Object(r.a)(c,2),f={a:n=l[0],b:s=l[1]};return a.a.runKernel(i.Pc,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(6),a=n(12),i=n(7),o=n(44),u=n(8),s=n(217),c=n(11);var l=Object(c.b)({div_:function(e,t){var n=Object(u.a)(e,"a","div"),c=Object(u.a)(t,"b","div"),l=Object(o.makeTypesMatch)(n,c),f=Object(r.a)(l,2);if(n=f[0],c=f[1],"int32"===n.dtype&&"int32"===c.dtype)return Object(s.a)(n,c);var d={a:n,b:c};return a.a.runKernel(i.kc,d,{})}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20),a=n(91);function i(e,t){if((Object(r.A)(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&Object(r.A)(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Object(a.a)(e,[],[],t)}},function(e,t,n){"use strict";function r(e,t){for(var n=e.length,r=[],a=0;a<n;a++){var i=n-1-a,o=e[i]||1;(t[t.length-1-a]||1)>1&&1===o&&r.unshift(i)}return r}function a(e,t){for(var n=[],r=0;r<t.length;r++){var a=e[e.length-r-1],i=t.length-r-1,o=t[i];(null==a||1===a&&o>1)&&n.unshift(i)}return n}function i(e,t){for(var n=[],r=Math.max(e.length,t.length),a=0;a<r;a++){var i=e[e.length-a-1];null==i&&(i=1);var o=t[t.length-a-1];if(null==o&&(o=1),1===i)n.unshift(o);else if(1===o)n.unshift(i);else{if(i!==o){var u="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(u)}n.unshift(i)}}return n}n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(31),u=n(11);var s=Object(u.b)({sum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=Object(i.a)(e,"x","sum");"bool"===u.dtype&&(u=Object(o.a)(u,"int32"));var s={x:u},c={axis:t,keepDims:n};return r.a.runKernel(a.Qc,s,c)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return M})),n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return B})),n.d(t,"f",(function(){return R})),n.d(t,"g",(function(){return D})),n.d(t,"h",(function(){return S})),n.d(t,"i",(function(){return P})),n.d(t,"j",(function(){return z})),n.d(t,"k",(function(){return N})),n.d(t,"l",(function(){return A})),n.d(t,"m",(function(){return G})),n.d(t,"n",(function(){return Re})),n.d(t,"o",(function(){return se})),n.d(t,"p",(function(){return pe})),n.d(t,"q",(function(){return ge})),n.d(t,"r",(function(){return xe})),n.d(t,"s",(function(){return V})),n.d(t,"t",(function(){return U})),n.d(t,"u",(function(){return fe})),n.d(t,"v",(function(){return ve})),n.d(t,"w",(function(){return be})),n.d(t,"x",(function(){return _e})),n.d(t,"y",(function(){return Q})),n.d(t,"z",(function(){return Z})),n.d(t,"A",(function(){return K}));var r,a,i,o,u,s,c,l=n(21),f=n(1),d=n(255),h=n(144),p=n(256),v=n(145),m=n(257),g=n(613),b=n(941),y=n(942),x=n(614),_=n(615),w=n(258),O=n(616),k=n(943),j=n(944),E=n(385),C=n(449),A="year",S="quarter",D="month",N="week",F="date",T="day",M="dayofyear",I="hours",R="minutes",P="seconds",B="milliseconds",z=[A,S,D,N,F,T,M,I,R,P,B],L=z.reduce((function(e,t,n){return e[t]=1+n,e}),{});function U(e){var t=Object(f.e)(e).slice(),n={};return t.length||Object(f.k)("Missing time unit."),t.forEach((function(e){Object(f.s)(L,e)?n[e]=1:Object(f.k)("Invalid time unit: ".concat(e,"."))})),(n[N]||n[T]?1:0)+(n[S]||n[D]||n[F]?1:0)+(n[M]?1:0)>1&&Object(f.k)("Incompatible time units: ".concat(e)),t.sort((function(e,t){return L[e]-L[t]})),t}var W=(r={},Object(l.a)(r,A,"%Y "),Object(l.a)(r,S,"Q%q "),Object(l.a)(r,D,"%b "),Object(l.a)(r,F,"%d "),Object(l.a)(r,N,"W%U "),Object(l.a)(r,T,"%a "),Object(l.a)(r,M,"%j "),Object(l.a)(r,I,"%H:00"),Object(l.a)(r,R,"00:%M"),Object(l.a)(r,P,":%S"),Object(l.a)(r,B,".%L"),Object(l.a)(r,"".concat(A,"-").concat(D),"%Y-%m "),Object(l.a)(r,"".concat(A,"-").concat(D,"-").concat(F),"%Y-%m-%d "),Object(l.a)(r,"".concat(I,"-").concat(R),"%H:%M"),r);function V(e,t){var n,r,a=Object(f.l)({},W,t),i=U(e),o=i.length,u="",s=0;for(s=0;s<o;)for(n=i.length;n>s;--n)if(null!=a[r=i.slice(s,n).join("-")]){u+=a[r],s=n;break}return u.trim()}var q=new Date;function H(e){return q.setFullYear(e),q.setMonth(0),q.setDate(1),q.setHours(0,0,0,0),q}function G(e){return $(new Date(e))}function K(e){return X(new Date(e))}function $(e){return d.a.count(H(e.getFullYear())-1,e)}function X(e){return h.b.count(H(e.getFullYear())-1,e)}function Y(e){return H(e).getDay()}function J(e,t,n,r,a,i,o){if(0<=e&&e<100){var u=new Date(-1,t,n,r,a,i,o);return u.setFullYear(e),u}return new Date(e,t,n,r,a,i,o)}function Q(e){return ee(new Date(e))}function Z(e){return te(new Date(e))}function ee(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return p.a.count(t-1,e)}function te(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return v.b.count(t-1,e)}function ne(e){return q.setTime(Date.UTC(e,0,1)),q.getUTCDay()}function re(e,t,n,r,a,i,o){if(0<=e&&e<100){var u=new Date(Date.UTC(-1,t,n,r,a,i,o));return u.setUTCFullYear(n.y),u}return new Date(Date.UTC(e,t,n,r,a,i,o))}function ae(e,t,n,r,a){var i=t||1,o=Object(f.S)(e),u=function(e,t,a){return function(e,t,n,r){var a=n<=1?e:r?function(t,a){return r+n*Math.floor((e(t,a)-r)/n)}:function(t,r){return n*Math.floor(e(t,r)/n)};return t?function(e,n){return t(a(e,n),n)}:a}(n[a=a||e],r[a],e===o&&i,t)},s=new Date,c=Object(f.ab)(e),l=c[A]?u(A):Object(f.i)(2012),d=c[D]?u(D):c[S]?u(S):f.gb,h=c[N]&&c[T]?u(T,1,N+T):c[N]?u(N,1):c[T]?u(T,1):c[F]?u(F,1):c[M]?u(M,1):f.M,p=c[I]?u(I):f.gb,v=c[R]?u(R):f.gb,m=c[P]?u(P):f.gb,g=c[B]?u(B):f.gb;return function(e){s.setTime(+e);var t=l(s);return a(t,d(s),h(s,t),p(s),v(s),m(s),g(s))}}function ie(e,t,n){return t+7*e-(n+6)%7}var oe=(a={},Object(l.a)(a,A,(function(e){return e.getFullYear()})),Object(l.a)(a,S,(function(e){return Math.floor(e.getMonth()/3)})),Object(l.a)(a,D,(function(e){return e.getMonth()})),Object(l.a)(a,F,(function(e){return e.getDate()})),Object(l.a)(a,I,(function(e){return e.getHours()})),Object(l.a)(a,R,(function(e){return e.getMinutes()})),Object(l.a)(a,P,(function(e){return e.getSeconds()})),Object(l.a)(a,B,(function(e){return e.getMilliseconds()})),Object(l.a)(a,M,(function(e){return $(e)})),Object(l.a)(a,N,(function(e){return X(e)})),Object(l.a)(a,N+T,(function(e,t){return ie(X(e),e.getDay(),Y(t))})),Object(l.a)(a,T,(function(e,t){return ie(1,e.getDay(),Y(t))})),a),ue=(i={},Object(l.a)(i,S,(function(e){return 3*e})),Object(l.a)(i,N,(function(e,t){return ie(e,0,Y(t))})),i);function se(e,t){return ae(e,t||1,oe,ue,J)}var ce=(o={},Object(l.a)(o,A,(function(e){return e.getUTCFullYear()})),Object(l.a)(o,S,(function(e){return Math.floor(e.getUTCMonth()/3)})),Object(l.a)(o,D,(function(e){return e.getUTCMonth()})),Object(l.a)(o,F,(function(e){return e.getUTCDate()})),Object(l.a)(o,I,(function(e){return e.getUTCHours()})),Object(l.a)(o,R,(function(e){return e.getUTCMinutes()})),Object(l.a)(o,P,(function(e){return e.getUTCSeconds()})),Object(l.a)(o,B,(function(e){return e.getUTCMilliseconds()})),Object(l.a)(o,M,(function(e){return ee(e)})),Object(l.a)(o,N,(function(e){return te(e)})),Object(l.a)(o,T,(function(e,t){return ie(1,e.getUTCDay(),ne(t))})),Object(l.a)(o,N+T,(function(e,t){return ie(te(e),e.getUTCDay(),ne(t))})),o),le=(u={},Object(l.a)(u,S,(function(e){return 3*e})),Object(l.a)(u,N,(function(e,t){return ie(e,0,ne(t))})),u);function fe(e,t){return ae(e,t||1,ce,le,re)}var de=(s={},Object(l.a)(s,A,m.a),Object(l.a)(s,S,g.a.every(3)),Object(l.a)(s,D,g.a),Object(l.a)(s,N,h.b),Object(l.a)(s,F,d.a),Object(l.a)(s,T,d.a),Object(l.a)(s,M,d.a),Object(l.a)(s,I,b.a),Object(l.a)(s,R,y.a),Object(l.a)(s,P,x.a),Object(l.a)(s,B,_.a),s),he=(c={},Object(l.a)(c,A,w.a),Object(l.a)(c,S,O.a.every(3)),Object(l.a)(c,D,O.a),Object(l.a)(c,N,v.b),Object(l.a)(c,F,p.a),Object(l.a)(c,T,p.a),Object(l.a)(c,M,p.a),Object(l.a)(c,I,k.a),Object(l.a)(c,R,j.a),Object(l.a)(c,P,x.a),Object(l.a)(c,B,_.a),c);function pe(e){return de[e]}function ve(e){return he[e]}function me(e,t,n){return e?e.offset(t,n):void 0}function ge(e,t,n){return me(pe(e),t,n)}function be(e,t,n){return me(ve(e),t,n)}function ye(e,t,n,r){return e?e.range(t,n,r):void 0}function xe(e,t,n,r){return ye(pe(e),t,n,r)}function _e(e,t,n,r){return ye(ve(e),t,n,r)}var we=1e3,Oe=6e4,ke=36e5,je=864e5,Ee=2592e6,Ce=31536e6,Ae=[A,D,F,I,R,P,B],Se=Ae.slice(0,-1),De=Se.slice(0,-1),Ne=De.slice(0,-1),Fe=Ne.slice(0,-1),Te=[A,D],Me=[A],Ie=[[Se,1,we],[Se,5,5e3],[Se,15,15e3],[Se,30,3e4],[De,1,Oe],[De,5,3e5],[De,15,9e5],[De,30,18e5],[Ne,1,ke],[Ne,3,108e5],[Ne,6,216e5],[Ne,12,432e5],[Fe,1,je],[[A,N],1,6048e5],[Te,1,Ee],[Te,3,7776e6],[Me,1,Ce]];function Re(e){var t,n,r=e.extent,a=e.maxbins||40,i=Math.abs(Object(f.U)(r))/a,o=Object(E.a)((function(e){return e[2]})).right(Ie,i);return o===Ie.length?(t=Me,n=Object(C.c)(r[0]/Ce,r[1]/Ce,a)):o?(t=(o=Ie[i/Ie[o-1][2]<Ie[o][2]/i?o-1:o])[0],n=o[1]):(t=Ae,n=Math.max(Object(C.c)(r[0],r[1],a),1)),{units:t,step:n}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({zerosLike_:function(e){var t={x:Object(i.a)(e,"x","zerosLike")};return r.a.runKernel(a.ad,t)}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return i.a})),n.d(t,"d",(function(){return o.a})),n.d(t,"e",(function(){return u.a})),n.d(t,"f",(function(){return s.a})),n.d(t,"g",(function(){return c.a})),n.d(t,"h",(function(){return l.a})),n.d(t,"i",(function(){return f.a})),n.d(t,"j",(function(){return d.a})),n.d(t,"k",(function(){return h.a})),n.d(t,"l",(function(){return p.a})),n.d(t,"m",(function(){return v.a})),n.d(t,"n",(function(){return m.a})),n.d(t,"o",(function(){return g.a})),n.d(t,"p",(function(){return b.a})),n.d(t,"q",(function(){return y.a})),n.d(t,"r",(function(){return A})),n.d(t,"w",(function(){return S.a})),n.d(t,"s",(function(){return D.a})),n.d(t,"t",(function(){return F})),n.d(t,"u",(function(){return T})),n.d(t,"v",(function(){return M})),n.d(t,"x",(function(){return I.a})),n.d(t,"z",(function(){return R.a})),n.d(t,"A",(function(){return P.a})),n.d(t,"B",(function(){return B.a})),n.d(t,"C",(function(){return z.a})),n.d(t,"D",(function(){return L.a})),n.d(t,"E",(function(){return U.a})),n.d(t,"F",(function(){return W.a})),n.d(t,"G",(function(){return _.a})),n.d(t,"H",(function(){return V})),n.d(t,"I",(function(){return q})),n.d(t,"J",(function(){return H})),n.d(t,"K",(function(){return G})),n.d(t,"L",(function(){return K.a})),n.d(t,"M",(function(){return $.a})),n.d(t,"N",(function(){return X.a})),n.d(t,"O",(function(){return Y.a})),n.d(t,"P",(function(){return Q})),n.d(t,"Q",(function(){return Z.a})),n.d(t,"R",(function(){return ee.a})),n.d(t,"T",(function(){return te.a})),n.d(t,"U",(function(){return ne.a})),n.d(t,"V",(function(){return re.a})),n.d(t,"W",(function(){return ae.a})),n.d(t,"X",(function(){return ue})),n.d(t,"Y",(function(){return se.a})),n.d(t,"Z",(function(){return ce.a})),n.d(t,"ab",(function(){return le.a})),n.d(t,"bb",(function(){return fe.a})),n.d(t,"db",(function(){return de.a})),n.d(t,"fb",(function(){return he.a})),n.d(t,"gb",(function(){return pe.a})),n.d(t,"hb",(function(){return ve.a})),n.d(t,"ib",(function(){return me.a})),n.d(t,"jb",(function(){return ge.a})),n.d(t,"kb",(function(){return xe})),n.d(t,"mb",(function(){return _e.a})),n.d(t,"nb",(function(){return we.a})),n.d(t,"ob",(function(){return Oe.a})),n.d(t,"qb",(function(){return ke.a})),n.d(t,"sb",(function(){return je.a})),n.d(t,"tb",(function(){return Ee.a})),n.d(t,"vb",(function(){return Ce.a})),n.d(t,"zb",(function(){return Ae.a})),n.d(t,"Ab",(function(){return Se.a})),n.d(t,"Bb",(function(){return De.a})),n.d(t,"Cb",(function(){return Ne.a})),n.d(t,"Db",(function(){return Fe.a})),n.d(t,"Eb",(function(){return Te.a})),n.d(t,"Gb",(function(){return Me.a})),n.d(t,"Hb",(function(){return Ie.a})),n.d(t,"Ib",(function(){return Re.a})),n.d(t,"Jb",(function(){return Pe.a})),n.d(t,"Kb",(function(){return Be.a})),n.d(t,"Lb",(function(){return ze.a})),n.d(t,"Mb",(function(){return Le.a})),n.d(t,"Nb",(function(){return Ue.a})),n.d(t,"Ob",(function(){return We.a})),n.d(t,"Pb",(function(){return Ve.a})),n.d(t,"Qb",(function(){return qe.a})),n.d(t,"Sb",(function(){return w.a})),n.d(t,"Tb",(function(){return He.a})),n.d(t,"Ub",(function(){return Ge.a})),n.d(t,"Vb",(function(){return Ke.a})),n.d(t,"Wb",(function(){return $e.a})),n.d(t,"Xb",(function(){return Xe.a})),n.d(t,"Yb",(function(){return Ye.a})),n.d(t,"Zb",(function(){return Je.a})),n.d(t,"ac",(function(){return Qe.a})),n.d(t,"bc",(function(){return Ze.a})),n.d(t,"cc",(function(){return et.a})),n.d(t,"dc",(function(){return at})),n.d(t,"fc",(function(){return O.a})),n.d(t,"gc",(function(){return it})),n.d(t,"hc",(function(){return ot.a})),n.d(t,"ic",(function(){return ut.a})),n.d(t,"kc",(function(){return st.a})),n.d(t,"lc",(function(){return ct.a})),n.d(t,"mc",(function(){return lt.a})),n.d(t,"nc",(function(){return ft.a})),n.d(t,"pc",(function(){return dt})),n.d(t,"qc",(function(){return ht.a})),n.d(t,"rc",(function(){return pt})),n.d(t,"sc",(function(){return vt})),n.d(t,"tc",(function(){return mt})),n.d(t,"uc",(function(){return gt})),n.d(t,"vc",(function(){return bt.a})),n.d(t,"wc",(function(){return yt.a})),n.d(t,"xc",(function(){return xt.a})),n.d(t,"yc",(function(){return _t.a})),n.d(t,"zc",(function(){return wt.a})),n.d(t,"Ac",(function(){return Ot})),n.d(t,"Bc",(function(){return jt})),n.d(t,"Cc",(function(){return Et})),n.d(t,"Dc",(function(){return Ct.a})),n.d(t,"Ec",(function(){return At.a})),n.d(t,"Fc",(function(){return St.a})),n.d(t,"Gc",(function(){return Dt.a})),n.d(t,"Hc",(function(){return Nt.a})),n.d(t,"Ic",(function(){return Ft.a})),n.d(t,"Jc",(function(){return be.a})),n.d(t,"Kc",(function(){return Tt.a})),n.d(t,"Lc",(function(){return Mt})),n.d(t,"Mc",(function(){return It})),n.d(t,"Nc",(function(){return Rt})),n.d(t,"Oc",(function(){return Pt})),n.d(t,"Qc",(function(){return Bt.a})),n.d(t,"Rc",(function(){return zt.a})),n.d(t,"Sc",(function(){return Lt.a})),n.d(t,"Uc",(function(){return Ut.a})),n.d(t,"Vc",(function(){return Wt.a})),n.d(t,"Wc",(function(){return Vt.a})),n.d(t,"Xc",(function(){return j.a})),n.d(t,"Yc",(function(){return qt.a})),n.d(t,"ad",(function(){return Ht.a})),n.d(t,"bd",(function(){return Gt.a})),n.d(t,"cd",(function(){return E.a})),n.d(t,"dd",(function(){return Kt})),n.d(t,"ed",(function(){return $t})),n.d(t,"fd",(function(){return Xt})),n.d(t,"gd",(function(){return Yt})),n.d(t,"hd",(function(){return Jt.a})),n.d(t,"id",(function(){return Qt.a})),n.d(t,"jd",(function(){return Zt.a})),n.d(t,"lb",(function(){return en.a})),n.d(t,"ub",(function(){return tn.a})),n.d(t,"yb",(function(){return nn.a})),n.d(t,"Pc",(function(){return rn.a})),n.d(t,"md",(function(){return an.a})),n.d(t,"nd",(function(){return on.a})),n.d(t,"od",(function(){return nt.a})),n.d(t,"pd",(function(){return un.a})),n.d(t,"qd",(function(){return sn.a})),n.d(t,"rd",(function(){return cn.a})),n.d(t,"sd",(function(){return ln.a})),n.d(t,"td",(function(){return fn.a})),n.d(t,"ud",(function(){return rt.a})),n.d(t,"vd",(function(){return dn.a})),n.d(t,"wd",(function(){return hn.a})),n.d(t,"xd",(function(){return C.a})),n.d(t,"yd",(function(){return pn.a})),n.d(t,"zd",(function(){return vn.a})),n.d(t,"Ad",(function(){return gn})),n.d(t,"Bd",(function(){return bn.a})),n.d(t,"Cd",(function(){return yn})),n.d(t,"Dd",(function(){return xn})),n.d(t,"Ed",(function(){return _n})),n.d(t,"Fd",(function(){return ye.a})),n.d(t,"Gd",(function(){return wn.a})),n.d(t,"Id",(function(){return On.a})),n.d(t,"Jd",(function(){return kn.a})),n.d(t,"Kd",(function(){return jn.a})),n.d(t,"Ld",(function(){return En.a})),n.d(t,"Md",(function(){return Cn})),n.d(t,"Nd",(function(){return An.a})),n.d(t,"Od",(function(){return Sn.a})),n.d(t,"Pd",(function(){return Dn.a})),n.d(t,"Qd",(function(){return Nn.a})),n.d(t,"y",(function(){return Rn})),n.d(t,"Hd",(function(){return Pn.a})),n.d(t,"jc",(function(){return Bn.a})),n.d(t,"ec",(function(){return Ln})),n.d(t,"Tc",(function(){return Un.a})),n.d(t,"kd",(function(){return Wn.a})),n.d(t,"rb",(function(){return Vn.a})),n.d(t,"cb",(function(){return Hn})),n.d(t,"eb",(function(){return Gn})),n.d(t,"S",(function(){return Kn})),n.d(t,"xb",(function(){return Xn})),n.d(t,"oc",(function(){return k.b})),n.d(t,"a",(function(){return k.a})),n.d(t,"wb",(function(){return $r})),n.d(t,"Fb",(function(){return Xr})),n.d(t,"Rb",(function(){return Yr})),n.d(t,"ld",(function(){return Gr})),n.d(t,"pb",(function(){return r})),n.d(t,"Zc",(function(){return Kr}));var r={};n.r(r),n.d(r,"conv2d",(function(){return rr})),n.d(r,"depthwiseConv2d",(function(){return or})),n.d(r,"matMul",(function(){return ur}));var a=n(82),i=n(454),o=n(455),u=n(33),s=n(456),c=n(317),l=n(318),f=n(319),d=n(320),h=n(457),p=n(458),v=n(459),m=n(321),g=n(460),b=n(219),y=n(461),x=n(8),_=n(61),w=n(48),O=n(22),k=n(11),j=n(154),E=n(47),C=n(273);var A=Object(k.b)({basicLSTMCell_:function(e,t,n,r,a,i){var o=Object(x.a)(e,"forgetBias","basicLSTMCell"),s=Object(x.a)(t,"lstmKernel","basicLSTMCell"),c=Object(x.a)(n,"lstmBias","basicLSTMCell"),l=Object(x.a)(r,"data","basicLSTMCell"),f=Object(x.a)(a,"c","basicLSTMCell"),d=Object(x.a)(i,"h","basicLSTMCell"),h=Object(_.a)([l,d],1),p=Object(w.a)(h,s),v=Object(u.a)(p,c),m=v.shape[0],g=v.shape[1]/4,b=[m,g],y=Object(E.a)(v,[0,0],b),k=Object(E.a)(v,[0,g],b),A=Object(E.a)(v,[0,2*g],b),S=Object(E.a)(v,[0,3*g],b),D=Object(u.a)(Object(O.a)(Object(j.a)(y),Object(C.a)(k)),Object(O.a)(f,Object(j.a)(Object(u.a)(o,A))));return[D,Object(O.a)(Object(C.a)(D),Object(j.a)(S))]}}),S=n(171),D=n(153),N=n(20);var F=Object(k.b)({batchNorm2d_:function(e,t,n,r,a,i){var o,u,s=Object(x.a)(e,"x","batchNorm"),c=Object(x.a)(t,"mean","batchNorm"),l=Object(x.a)(n,"variance","batchNorm");return null!=a&&(o=Object(x.a)(a,"scale","batchNorm")),null!=r&&(u=Object(x.a)(r,"offset","batchNorm")),N.b(2===s.rank,(function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(s.rank,".")})),N.b(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(c.rank,".")})),N.b(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=o&&N.b(2===o.rank||1===o.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=u&&N.b(2===u.rank||1===u.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(u.rank,".")})),Object(D.a)(s,c,l,u,o,i)}});var T=Object(k.b)({batchNorm3d_:function(e,t,n,r,a,i){var o,u,s=Object(x.a)(e,"x","batchNorm"),c=Object(x.a)(t,"mean","batchNorm"),l=Object(x.a)(n,"variance","batchNorm");return null!=a&&(o=Object(x.a)(a,"scale","batchNorm")),null!=r&&(u=Object(x.a)(r,"offset","batchNorm")),N.b(3===s.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(s.rank,".")})),N.b(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(c.rank,".")})),N.b(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=o&&N.b(3===o.rank||1===o.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=u&&N.b(3===u.rank||1===u.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(u.rank,".")})),Object(D.a)(s,c,l,u,o,i)}});var M=Object(k.b)({batchNorm4d_:function(e,t,n,r,a,i){var o,u,s=Object(x.a)(e,"x","batchNorm"),c=Object(x.a)(t,"mean","batchNorm"),l=Object(x.a)(n,"variance","batchNorm");return null!=a&&(o=Object(x.a)(a,"scale","batchNorm")),null!=r&&(u=Object(x.a)(r,"offset","batchNorm")),N.b(4===s.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(s.rank,".")})),N.b(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(c.rank,".")})),N.b(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=o&&N.b(4===o.rank||1===o.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=u&&N.b(4===u.rank||1===u.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(u.rank,".")})),Object(D.a)(s,c,l,u,o,i)}}),I=n(462),R=n(190),P=n(87),B=n(31),z=n(463),L=n(464),U=n(123),W=n(110);var V=Object(k.b)({concat1d_:function(e){return Object(_.a)(e,0)}});var q=Object(k.b)({concat2d_:function(e,t){return Object(_.a)(e,t)}});var H=Object(k.b)({concat3d_:function(e,t){return Object(_.a)(e,t)}});var G=Object(k.b)({concat4d_:function(e,t){return Object(_.a)(e,t)}}),K=n(322),$=n(120),X=n(323),Y=n(465),J=n(357);var Q=Object(k.b)({conv3dTranspose_:function(e,t,n,r,a){var i=Object(x.a)(e,"x","conv3dTranspose"),o=Object(x.a)(t,"filter","conv3dTranspose");return Object(J.a)(n,i,o,r,a)}}),Z=n(220),ee=n(324),te=n(221),ne=n(466),re=n(325),ae=n(172),ie=n(12),oe=n(7);var ue=Object(k.b)({diag_:function(e){var t={x:Object(x.a)(e,"x","diag")};return ie.a.runKernel(oe.R,t)}}),se=n(326),ce=n(35),le=n(327),fe=n(328),de=n(222),he=n(173),pe=n(467),ve=n(81),me=n(114),ge=n(468),be=n(19),ye=n(155);var xe=Object(k.b)({eye_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";null==t&&(t=e);for(var a=Object(P.a)([e,t],r),i=e<=t?e:t,o=0;o<i;++o)a.set(1,o,o);var u=Object(be.a)(a.toTensor(),[e,t]);if(null==n)return u;if(1===n.length)return Object(ye.a)(Object(me.a)(u,0),[n[0],1,1]);if(2===n.length)return Object(ye.a)(Object(me.a)(Object(me.a)(u,0),0),[n[0],n[1],1,1]);if(3===n.length)return Object(ye.a)(Object(me.a)(Object(me.a)(Object(me.a)(u,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}}),_e=n(218),we=n(223),Oe=n(217),ke=n(174),je=n(90),Ee=n(121),Ce=n(224),Ae=n(469),Se=n(470),De=n(471),Ne=n(225),Fe=n(226),Te=n(122),Me=n(472),Ie=n(329),Re=n(133),Pe=n(330),Be=n(473),ze=n(474),Le=n(227),Ue=n(111),We=n(175),Ve=n(228),qe=n(332),He=n(124),Ge=n(229),Ke=n(475),$e=n(476),Xe=n(170),Ye=n(162),Je=n(191),Qe=n(230),Ze=n(333),et=n(334),tt=n(79),nt=n(45),rt=n(34);var at=Object(k.b)({moments_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=Object(x.a)(e,"x","moments");var r=Object(N.I)(t,e.shape),a=Object(Ye.a)(e,r,n),i=a.shape;n||(i=Object(tt.e)(a.shape,r));var o=Object(nt.a)(Object(rt.a)(Object(B.a)(e,"float32"),Object(be.a)(a,i))),u=Object(Ye.a)(o,r,n);return{mean:a,variance:u}}});var it=Object(k.b)({multiRNNCell_:function(e,t,n,r){for(var a=Object(x.a)(t,"data","multiRNNCell"),i=Object(x.b)(n,"c","multiRNNCell"),o=Object(x.b)(r,"h","multiRNNCell"),u=a,s=[],c=0;c<e.length;c++){var l=e[c](u,i[c],o[c]);s.push(l[0]),s.push(l[1]),u=l[1]}for(var f=[],d=[],h=0;h<s.length;h+=2)f.push(s[h]),d.push(s[h+1]);return[f,d]}}),ot=n(477),ut=n(55),st=n(231),ct=n(192),lt=n(148),ft=n(478);var dt=Object(k.b)({outerProduct_:function(e,t){var n=Object(x.a)(e,"v1","outerProduct"),r=Object(x.a)(t,"v2","outerProduct");N.b(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var a=Object(be.a)(n,[-1,1]),i=Object(be.a)(r,[1,-1]);return Object(w.a)(a,i)}}),ht=n(103);var pt=Object(k.b)({pad1d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(N.b)(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),Object(ht.a)(e,[t],n)}});var vt=Object(k.b)({pad2d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(N.b)(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Object(ht.a)(e,t,n)}});var mt=Object(k.b)({pad3d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(N.b)(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Object(ht.a)(e,t,n)}});var gt=Object(k.b)({pad4d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(N.b)(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Object(ht.a)(e,t,n)}}),bt=n(335),yt=n(99),xt=n(232),_t=n(316),wt=n(336);var Ot=Object(k.b)({rand_:function(e,t,n){var r=Object(N.O)(e),a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));a=new Uint8Array(r)}for(var i=0;i<r;i++)a[i]=t();return ie.a.makeTensor(a,e,n)}}),kt=n(180);var jt=Object(k.b)({randomGamma_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if(null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));for(var i=new kt.b(t,n,r,a),o=Object(P.a)(e,r),u=0;u<o.values.length;u++)o.values[u]=i.nextValue();return o.toTensor()}});var Et=Object(k.b)({randomNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));for(var i=new kt.a(t,n,r,!1,a),o=Object(P.a)(e,r),u=0;u<o.values.length;u++)o.values[u]=i.nextValue();return o.toTensor()}}),Ct=n(337),At=n(274),St=n(193),Dt=n(479),Nt=n(150),Ft=n(233),Tt=n(88);var Mt=Object(k.b)({reverse1d_:function(e){var t=Object(x.a)(e,"x","reverse");return N.b(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,".")})),Object(Tt.a)(t,0)}});var It=Object(k.b)({reverse2d_:function(e,t){var n=Object(x.a)(e,"x","reverse");return N.b(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")})),Object(Tt.a)(n,t)}});var Rt=Object(k.b)({reverse3d_:function(e,t){var n=Object(x.a)(e,"x","reverse");return N.b(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")})),Object(Tt.a)(n,t)}});var Pt=Object(k.b)({reverse4d_:function(e,t){var n=Object(x.a)(e,"x","reverse");return N.b(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")})),Object(Tt.a)(n,t)}}),Bt=n(480),zt=n(338),Lt=n(36),Ut=n(339),Wt=n(340),Vt=n(481),qt=n(482),Ht=n(341),Gt=n(342);var Kt=Object(k.b)({slice1d_:function(e,t,n){var r=Object(x.a)(e,"x","slice1d");return N.b(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor")})),Object(E.a)(r,[t],[n])}});var $t=Object(k.b)({slice2d_:function(e,t,n){var r=Object(x.a)(e,"x","slice2d");return N.b(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor")})),Object(E.a)(r,t,n)}});var Xt=Object(k.b)({slice3d_:function(e,t,n){var r=Object(x.a)(e,"x","slice3d");return N.b(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor")})),Object(E.a)(r,t,n)}});var Yt=Object(k.b)({slice4d_:function(e,t,n){var r=Object(x.a)(e,"x","slice4d");return N.b(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor")})),Object(E.a)(r,t,n)}}),Jt=n(483),Qt=n(331),Zt=n(176),en=n(234),tn=n(194),nn=n(343),rn=n(235),an=n(134),on=n(76),un=n(236),sn=n(177),cn=n(112),ln=n(151),fn=n(484),dn=n(38),hn=n(485),pn=n(179),vn=n(135),mn=n(91);function gn(e,t,n){if(Object(N.d)(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=Object(x.c)(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Object(mn.a)(e,t,r,n)}var bn=n(344);function yn(e,t,n){if(Object(N.d)(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=Object(x.c)(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Object(mn.a)(e,t,r,n)}function xn(e,t,n){if(Object(N.d)(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=Object(x.c)(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Object(mn.a)(e,t,r,n)}function _n(e,t,n){if(Object(N.d)(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=Object(x.c)(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||r,Object(mn.a)(e,t,r,n)}var wn=n(345),On=n(486),kn=n(346),jn=n(237),En=n(152);function Cn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return ie.a.makeVariable(e,t,n,r)}var An=n(75),Sn=n(347),Dn=n(149),Nn=n(40),Fn=n(2),Tn=n.n(Fn),Mn=n(13);function In(){return(In=Object(Mn.a)(Tn.a.mark((function e(t,n,r){var a,i,o,u,s,c,l,f,d,h,p,v,m;return Tn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=Object(x.a)(t,"tensor","boolMask"),i=Object(x.a)(n,"mask","boolMask","bool"),o=null==r?0:r,u=i.rank,s=a.shape,N.b(u>0,(function(){return"mask cannot be scalar"})),N.e(s.slice(o,o+u),i.shape,"mask's shape must match the first K dimensions of tensor's shape,"),c=1,l=o;l<o+u;l++)c*=s[l];return f=s.slice(0,o).concat([c],s.slice(o+u)),d=Object(be.a)(a,f),h=Object(be.a)(i,[-1]),e.next=14,Object(Sn.a)(h);case 14:return p=e.sent,v=Object(sn.a)(p,[1]),m=Object(ke.a)(d,v,o),t!==a&&a.dispose(),n!==i&&i.dispose(),v.dispose(),d.dispose(),h.dispose(),p.dispose(),e.abrupt("return",m);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rn=function(e,t,n){return In.apply(this,arguments)},Pn=n(92),Bn=n(238),zn=n(44);var Ln=Object(k.b)({movingAverage_:function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=Object(x.a)(e,"v","movingAverage"),o=Object(x.a)(t,"x","movingAverage"),s=Object(x.a)(n,"decay","movingAverage");Object(zn.assertTypesMatch)(i,o),N.b(N.a(i.shape,o.shape),(function(){return"Shape mismatch in v and x"}));var c=Object(Lt.a)(1),l=Object(rt.a)(c,s),f=Object(O.a)(Object(rt.a)(o,i),l);if(a){N.b(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var d=Object(x.a)(r,"step","movingAverage");f=Object(ce.a)(f,Object(rt.a)(c,Object(yt.a)(s,d)))}return Object(u.a)(i,f)}}),Un=n(487),Wn=n(558),Vn=n(488),qn=n(18);var Hn=Object(k.b)({dropout_:function(e,t,n,r){var a=Object(x.a)(e,"x","dropout");if(N.b("float32"===a.dtype,(function(){return"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(a.dtype," tensor instead.")})),N.b(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got ".concat(t,".")})),0===t)return e instanceof qn.a?a.clone():a;var i=function(e,t){if(null==t)return e.shape.slice();if(N.a(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),o=1-t,s=Object(ce.a)(Object(we.a)(Object(u.a)(Object(Ct.a)(i,0,1,"float32",r),o)),o);return Object(O.a)(a,s)}});function Gn(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function Kn(e,t,n){for(var r=1-e%2,a=new Float32Array(e),i=0;i<e;++i){var o=2*Math.PI*i/(e+r-1);a[i]=t-n*Math.cos(o)}return Object(vn.a)(a,"float32")}function $n(){return($n=Object(Mn.a)(Tn.a.mark((function e(t,n){var r,a,i,o,u,s,c,l,f,d,h,p,v,m,g,b=arguments;return Tn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.length>2&&void 0!==b[2]?b[2]:1,a=Object(x.a)(t,"predictions","inTopK"),i=Object(x.a)(n,"targets","inTopK"),Object(N.b)(a.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(a.rank)})),Object(N.b)(a.rank-1===i.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(a.rank," and targets rank ").concat(i.rank)})),Object(N.e)(a.shape.slice(0,a.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=a.shape[a.shape.length-1],Object(N.b)(r>0&&r<=o,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(o,"), but got ").concat(r)})),e.next=10,a.data();case 10:return u=e.sent,e.next=13,i.data();case 13:s=e.sent,c=u.length/o,l=o,f=Object(N.o)("bool",c),d=0;case 17:if(!(d<c)){e.next=35;break}for(h=d*l,p=u.subarray(h,h+l),v=[],m=0;m<p.length;m++)v.push({value:p[m],index:m});v.sort((function(e,t){return t.value-e.value})),f[d]=0,g=0;case 25:if(!(g<r)){e.next=32;break}if(v[g].index!==s[d]){e.next=29;break}return f[d]=1,e.abrupt("break",32);case 29:g++,e.next=25;break;case 32:d++,e.next=17;break;case 35:return t!==a&&a.dispose(),n!==i&&i.dispose(),e.abrupt("return",Object(pn.a)(f,i.shape,"bool"));case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xn=function(e,t){return $n.apply(this,arguments)},Yn=n(6),Jn=n(71),Qn=n(37),Zn=n(243),er=n(240),tr=n(62),nr=n(83);var rr=Object(k.b)({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,i=e.dataFormat,o=void 0===i?"NHWC":i,s=e.dilations,c=void 0===s?[1,1]:s,l=e.dimRoundingMode,f=e.bias,d=e.activation,h=void 0===d?"linear":d,p=e.preluActivationWeights,v=e.leakyreluAlpha;if(h=h||"linear",!1===Object(nr.d)(ie.a.state.gradientDepth,h)){var m=Object($.a)(t,n,r,a,o,c,l);return null!=f&&(m=Object(u.a)(m,f)),Object(nr.a)(m,h,p,v)}var g=Object(x.a)(t,"x","conv2d"),b=Object(x.a)(n,"filter","conv2d"),y=g,_=!1;3===g.rank&&(_=!0,y=Object(be.a)(g,[1,g.shape[0],g.shape[1],g.shape[2]])),N.b(4===y.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(y.rank,".")})),N.b(4===b.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(b.rank,".")})),null!=l&&N.b(N.v(a),(function(){return"Error in fused conv2d: pad must be an integer when using, "+"dimRoundingMode ".concat(l," but got pad ").concat(a,".")})),N.b(y.shape[3]===b.shape[2],(function(){return"Error in conv2d: depth of input (".concat(y.shape[3],") must match ")+"input depth for filter ".concat(b.shape[2],".")})),N.b(tr.h(r,c),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(c,"'")})),N.b("NHWC"===o,(function(){return"Error in conv2d: got dataFormat of ".concat(o," but only NHWC is currently supported.")}));var w,O,k=tr.a(y.shape,b.shape,r,c,a,l);if(null!=f){w=Object(x.a)(f,"bias","fused conv2d");var j=Object(zn.makeTypesMatch)(w,g);w=Object(Yn.a)(j,1)[0],Qn.a(k.outShape,w.shape)}null!=p&&(O=Object(x.a)(p,"prelu weights","fused conv2d"));var E=function(e,t){var n=Object(Yn.a)(t,4),i=n[0],o=n[1],u=n[2],s=n[3],l=Object(nr.c)(e,u,h);N.b(tr.i(c),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(c,"'")}));var f=[Object(er.a)(o.shape,l,i,r,a),Object(Zn.a)(o,l,i.shape,r,a)];if(null!=s){var d=Object(nr.b)(s,l);f.push(d)}return f},C={x:y,filter:b,bias:w,preluActivationWeights:O},A={strides:r,pad:a,dataFormat:o,dilations:c,dimRoundingMode:l,activation:h,leakyreluAlpha:v};return null==f?Object(Jn.a)((function(e,t,n){var r=ie.a.runKernel(oe.jb,C,A);return n([t,e,r]),_&&(r=Object(be.a)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:E}}))(y,b):Object(Jn.a)((function(e,t,n,r){var a=ie.a.runKernel(oe.jb,C,A);return r([t,e,a,n]),_&&(a=Object(be.a)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:E}}))(y,b,w)}}),ar=n(361),ir=n(360);var or=Object(k.b)({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,i=e.dataFormat,o=void 0===i?"NHWC":i,s=e.dilations,c=void 0===s?[1,1]:s,l=e.dimRoundingMode,f=e.bias,d=e.activation,h=void 0===d?"linear":d,p=e.preluActivationWeights,v=e.leakyreluAlpha;if(!1===Object(nr.d)(ie.a.state.gradientDepth,h)){var m=Object(ae.a)(t,n,r,a,o,c,l);return null!=f&&(m=Object(u.a)(m,f)),Object(nr.a)(m,h,p,v)}var g=Object(x.a)(t,"x","depthwiseConv2d"),b=Object(x.a)(n,"filter","depthwiseConv2d"),y=g,_=!1;3===g.rank&&(_=!0,y=Object(be.a)(g,[1,g.shape[0],g.shape[1],g.shape[2]])),N.b(4===y.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(y.rank,".")})),N.b(4===b.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(b.rank,".")})),N.b(y.shape[3]===b.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels "+"(".concat(y.shape[3],") must match the inChannels dimension in ")+"filter ".concat(b.shape[2],".")})),null==c&&(c=[1,1]),N.b(tr.h(r,c),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(r," and dilations '").concat(c,"'")})),null!=l&&N.b(N.v(a),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when "+"using dimRoundingMode ".concat(l," but got pad ").concat(a,".")}));var w,O,k=tr.a(y.shape,b.shape,r,c,a,l,!0);if(null!=f){w=Object(x.a)(f,"bias","fused conv2d");var j=Object(zn.makeTypesMatch)(w,g),E=Object(Yn.a)(j,1);w=E[0],Qn.a(k.outShape,w.shape)}null!=p&&(O=Object(x.a)(p,"prelu weights","fused depthwiseConv2d"));var C=function(e,t){N.b(tr.i(c),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(c,"'")}));var n=Object(Yn.a)(t,4),i=n[0],o=n[1],u=n[2],s=n[3],f=Object(nr.c)(e,u,h),d=Object(ir.a)(o.shape,f,i,r,a,c,l),p=Object(ar.a)(o,f,i.shape,r,a,c,l);return null!=s?[d,p,Object(nr.b)(w,f)]:[d,p]},A={x:y,filter:b,bias:w,preluActivationWeights:O},S={strides:r,pad:a,dataFormat:o,dilations:c,dimRoundingMode:l,activation:h,leakyreluAlpha:v};return null==f?Object(Jn.a)((function(e,t,n){var r=ie.a.runKernel(oe.kb,A,S);return n([t,e,r]),_&&(r=Object(be.a)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:C}}))(y,b):Object(Jn.a)((function(e,t,n,r){var a=ie.a.runKernel(oe.kb,A,S);return r([t,e,a,n]),_&&(a=Object(be.a)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:C}}))(y,b,w)}});var ur=Object(k.b)({fusedMatMul_:function(e){var t=e.a,n=e.b,r=e.transposeA,a=void 0!==r&&r,i=e.transposeB,o=void 0!==i&&i,s=e.bias,c=e.activation,l=void 0===c?"linear":c,f=e.preluActivationWeights,d=e.leakyreluAlpha;if(!1===Object(nr.d)(ie.a.state.gradientDepth,l)){var h=Object(w.a)(t,n,a,o);return null!=s&&(h=Object(u.a)(h,s)),Object(nr.a)(h,l,f,d)}var p=Object(x.a)(t,"a","fused matMul"),v=Object(x.a)(n,"b","fused matMul"),m=Object(zn.makeTypesMatch)(p,v),g=Object(Yn.a)(m,2);p=g[0],v=g[1];var b=a?p.shape[p.rank-2]:p.shape[p.rank-1],y=o?v.shape[v.rank-1]:v.shape[v.rank-2],_=a?p.shape[p.rank-1]:p.shape[p.rank-2],O=o?v.shape[v.rank-2]:v.shape[v.rank-1],k=p.shape.slice(0,-2),j=v.shape.slice(0,-2),E=N.O(k),C=N.O(j);N.b(p.rank>=2&&v.rank>=2&&p.rank===v.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at "+"least 2, got ranks ".concat(p.rank," and ").concat(v.rank,".")})),N.b(N.a(k,j),(function(){return"Error in fused matMul: outer dimensions (".concat(k,") and (")+"".concat(j,") of Tensors with shapes ").concat(p.shape," and ")+"".concat(v.shape," must match.")})),N.b(b===y,(function(){return"Error in fused matMul: inner shapes (".concat(b,") and (")+"".concat(y,") of Tensors with shapes ").concat(p.shape," and ")+"".concat(v.shape," and transposeA=").concat(a)+" and transposeB=".concat(o," must match.")}));var A,S,D=p.shape.slice(0,-2).concat([_,O]),F=a?Object(be.a)(p,[E,b,_]):Object(be.a)(p,[E,_,b]),T=o?Object(be.a)(v,[C,O,y]):Object(be.a)(v,[C,y,O]);if(null!=s){A=Object(x.a)(s,"bias","fused matMul");var M=Object(zn.makeTypesMatch)(A,p);A=Object(Yn.a)(M,1)[0],Qn.a(D,A.shape)}null!=f&&(S=Object(x.a)(f,"prelu weights","fused matMul"));var I=function(e,t){var n,r,i=Object(Yn.a)(t,4),u=i[0],c=i[1],f=i[2],d=i[3],h=Object(nr.c)(Object(be.a)(e,f.shape),f,l);return a||o?!a&&o?(n=Object(w.a)(h,c,!1,!1),r=Object(w.a)(h,u,!0,!1)):a&&!o?(n=Object(w.a)(c,h,!1,!0),r=Object(w.a)(u,h,!1,!1)):(n=Object(w.a)(c,h,!0,!0),r=Object(w.a)(h,u,!0,!0)):(n=Object(w.a)(h,c,!1,!0),r=Object(w.a)(u,h,!0,!1)),null!=s?[n,r,Object(nr.b)(d,h)]:[n,r]},R={a:F,b:T,bias:A,preluActivationWeights:S},P={transposeA:a,transposeB:o,activation:l,leakyreluAlpha:d};return null==s?Object(Jn.a)((function(e,t,n){var r=ie.a.runKernel(oe.bd,R,P);return n([e,t,r]),{value:Object(be.a)(r,D),gradFunc:I}}))(F,T):Object(Jn.a)((function(e,t,n,r){var a=ie.a.runKernel(oe.bd,R,P);return r([e,t,a,n]),{value:Object(be.a)(a,D),gradFunc:I}}))(F,T,A)}});var sr=Object(k.b)({hammingWindow_:function(e){return Kn(e,.54,.46)}});var cr=Object(k.b)({hannWindow_:function(e){return Kn(e,.5,.5)}});var lr=Object(k.b)({frame_:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=0,o=[];i+t<=e.size;)o.push(Object(E.a)(e,i,t)),i+=n;if(r)for(;i<e.size;){var u=i+t-e.size,s=Object(_.a)([Object(E.a)(e,i,t-u),Object(_e.a)([u],a)]);o.push(s),i+=n}return 0===o.length?gn([],[0,t]):Object(be.a)(Object(_.a)(o),[o.length,t])}});var fr=Object(k.b)({stft_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:cr;null==r&&(r=Gn(t));for(var i=lr(e,t,n),o=Object(O.a)(i,a(t)),u=[],s=0;s<i.shape[0];s++)u.push(Object(rn.a)(Object(E.a)(o,[s,0],[1,t]),r));return Object(_.a)(u)}});var dr=Object(k.b)({cropAndResize_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=Object(x.a)(e,"image","cropAndResize"),u=Object(x.a)(t,"boxes","cropAndResize","float32"),s=Object(x.a)(n,"boxInd","cropAndResize","int32"),c=u.shape[0];N.b(4===o.rank,(function(){return"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(o.rank,".")})),N.b(2===u.rank&&4===u.shape[1],(function(){return"Error in cropAndResize: boxes must be have size [".concat(c,",4] ")+"but had shape ".concat(u.shape,".")})),N.b(1===s.rank&&s.shape[0]===c,(function(){return"Error in cropAndResize: boxInd must be have size [".concat(c,"] ")+"but had shape ".concat(u.shape,".")})),N.b(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,".")})),N.b(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was ".concat(r)})),N.b("bilinear"===a||"nearest"===a,(function(){return"method must be bilinear or nearest, but was ".concat(a)}));var l={image:o,boxes:u,boxInd:s},f={method:a,extrapolationValue:i,cropSize:r},d=ie.a.runKernel(oe.K,l,f);return d}});var hr=Object(k.b)({flipLeftRight_:function(e){var t=Object(x.a)(e,"image","flipLeftRight","float32");N.b(4===t.rank,(function(){return"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")}));var n={image:t};return ie.a.runKernel(oe.eb,n,{})}});var pr=Object(k.b)({rotateWithOffset_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=Object(x.a)(e,"image","rotateWithOffset","float32");N.b(4===a.rank,(function(){return"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(a.rank,".")}));var i={image:a},o={radians:t,fillValue:n,center:r},u=ie.a.runKernel(oe.uc,i,o);return u}});function vr(e,t,n,r,a,i){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==i&&(i=0);var o=e.shape[0];return n=Math.min(n,o),N.b(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '".concat(r,"'")})),N.b(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'")})),N.b(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1])})),N.b(1===t.rank,(function(){return"scores must be a 1D tensor"})),N.b(t.shape[0]===o,(function(){return"scores has incompatible shape with boxes. Expected ".concat(o,", ")+"but was ".concat(t.shape[0])})),N.b(0<=i&&i<=1,(function(){return"softNmsSigma must be in [0, 1], but was '".concat(i,"'")})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i}}var mr=Object(k.b)({nonMaxSuppression_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=Object(x.a)(e,"boxes","nonMaxSuppression"),o=Object(x.a)(t,"scores","nonMaxSuppression"),u=vr(i,o,n,r,a),s={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:a=u.scoreThreshold};return ie.a.runKernel(oe.Wb,{boxes:i,scores:o},s)}}),gr=n(147);function br(){return(br=Object(Mn.a)(Tn.a.mark((function e(t,n,r){var a,i,o,u,s,c,l,f,d,h,p=arguments;return Tn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>3&&void 0!==p[3]?p[3]:.5,i=p.length>4&&void 0!==p[4]?p[4]:Number.NEGATIVE_INFINITY,o=Object(x.a)(t,"boxes","nonMaxSuppressionAsync"),u=Object(x.a)(n,"scores","nonMaxSuppressionAsync"),s=vr(o,u,r,a,i),r=s.maxOutputSize,a=s.iouThreshold,i=s.scoreThreshold,e.next=10,Promise.all([o.data(),u.data()]);case 10:return c=e.sent,l=c[0],f=c[1],d=Object(gr.a)(l,f,r,a,i),h=d.selectedIndices,o!==t&&o.dispose(),u!==n&&u.dispose(),e.abrupt("return",Object(vn.a)(h,"int32"));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yr=function(e,t,n){return br.apply(this,arguments)};var xr=Object(k.b)({nonMaxSuppressionWithScore_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=Object(x.a)(e,"boxes","nonMaxSuppression"),u=Object(x.a)(t,"scores","nonMaxSuppression"),s=vr(o,u,n,r,a,i),c={boxes:o,scores:u},l={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:a=s.scoreThreshold,softNmsSigma:i=s.softNmsSigma},f=ie.a.runKernel(oe.Yb,c,l);return{selectedIndices:f[0],selectedScores:f[1]}}});function _r(){return(_r=Object(Mn.a)(Tn.a.mark((function e(t,n,r){var a,i,o,u,s,c,l,f,d,h,p,v,m=arguments;return Tn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.length>3&&void 0!==m[3]?m[3]:.5,i=m.length>4&&void 0!==m[4]?m[4]:Number.NEGATIVE_INFINITY,o=m.length>5&&void 0!==m[5]?m[5]:0,u=Object(x.a)(t,"boxes","nonMaxSuppressionAsync"),s=Object(x.a)(n,"scores","nonMaxSuppressionAsync"),c=vr(u,s,r,a,i,o),r=c.maxOutputSize,a=c.iouThreshold,i=c.scoreThreshold,o=c.softNmsSigma,e.next=12,Promise.all([u.data(),s.data()]);case 12:return l=e.sent,f=l[0],d=l[1],h=Object(gr.c)(f,d,r,a,i,o),p=h.selectedIndices,v=h.selectedScores,u!==t&&u.dispose(),s!==n&&s.dispose(),e.abrupt("return",{selectedIndices:Object(vn.a)(p,"int32"),selectedScores:Object(vn.a)(v)});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wr=function(e,t,n){return _r.apply(this,arguments)};var Or=Object(k.b)({nonMaxSuppressionPadded_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=Object(x.a)(e,"boxes","nonMaxSuppression"),u=Object(x.a)(t,"scores","nonMaxSuppression"),s=vr(o,u,n,r,a,null),c=s.maxOutputSize,l=s.iouThreshold,f=s.scoreThreshold,d={boxes:o,scores:u},h={maxOutputSize:c,iouThreshold:l,scoreThreshold:f,padToMaxOutputSize:i},p=ie.a.runKernel(oe.Xb,d,h);return{selectedIndices:p[0],validOutputs:p[1]}}});function kr(){return(kr=Object(Mn.a)(Tn.a.mark((function e(t,n,r){var a,i,o,u,s,c,l,f,d,h,p,v,m,g,b,y,_=arguments;return Tn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=_.length>3&&void 0!==_[3]?_[3]:.5,i=_.length>4&&void 0!==_[4]?_[4]:Number.NEGATIVE_INFINITY,o=_.length>5&&void 0!==_[5]&&_[5],u=Object(x.a)(t,"boxes","nonMaxSuppressionAsync"),s=Object(x.a)(n,"scores","nonMaxSuppressionAsync"),c=vr(u,s,r,a,i,null),l=c.maxOutputSize,f=c.iouThreshold,d=c.scoreThreshold,e.next=11,Promise.all([u.data(),s.data()]);case 11:return h=e.sent,p=Object(Yn.a)(h,2),v=p[0],m=p[1],g=Object(gr.b)(v,m,l,f,d,o),b=g.selectedIndices,y=g.validOutputs,u!==t&&u.dispose(),s!==n&&s.dispose(),e.abrupt("return",{selectedIndices:Object(vn.a)(b,"int32"),validOutputs:Object(Lt.a)(y,"int32")});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jr=function(e,t,n){return kr.apply(this,arguments)},Er=n(359),Cr=n(358);var Ar=Object(k.b)({transform_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0,o=Object(x.a)(e,"image","transform","float32"),u=Object(x.a)(t,"transforms","transform","float32");N.b(4===o.rank,(function(){return"Error in transform: image must be rank 4,"+"but got rank ".concat(o.rank,".")})),N.b(2===u.rank&&(u.shape[0]===o.shape[0]||1===u.shape[0])&&8===u.shape[1],(function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"})),N.b(null==i||2===i.length,(function(){return"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(i,".")}));var s={image:o,transforms:u},c={interpolation:n,fillMode:r,fillValue:a,outputShape:i};return ie.a.runKernel(oe.Vc,s,c)}});var Sr=Object(k.b)({bandPart_:function(e,t,n){Object(N.b)(t%1===0,(function(){return"bandPart(): numLower must be an integer, got ".concat(t,".")})),Object(N.b)(n%1===0,(function(){return"bandPart(): numUpper must be an integer, got ".concat(n,".")}));var r=Object(x.a)(e,"a","bandPart");Object(N.b)(r.rank>=2,(function(){return"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")}));var a=r.shape,i=r.shape.slice(-2),o=Object(Yn.a)(i,2),u=o[0],s=o[1];if(!(t<=u))throw new Error("bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(u,")."));if(!(n<=s))throw new Error("bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(s,")."));t<0&&(t=u),n<0&&(n=s);var c=Object(be.a)(Object(At.a)(0,u,1,"int32"),[-1,1]),l=Object(At.a)(0,s,1,"int32"),f=Object(rt.a)(c,l),d=Object(Ue.a)(Object(Te.a)(f,Object(Lt.a)(+t,"int32")),Object(Ee.a)(f,Object(Lt.a)(-n,"int32"))),h=Object(Dn.a)([u,s],r.dtype);return Object(be.a)(Object(cn.a)(Object(En.a)(Object(be.a)(r,[-1,u,s])).map((function(e){return Object(An.a)(d,e,h)}))),a)}});var Dr=Object(k.b)({gramSchmidt_:function(e){var t;Array.isArray(e)?function(){t=!1,Object(N.b)(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){Object(N.b)(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")}))},a=1;a<e.length;++a)r(a)}():(t=!0,e=Object(an.a)(e,e.shape[0],0).map((function(e){return Object(sn.a)(e,[0])}))),Object(N.b)(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")}));for(var n=[],r=e,a=function(e){n.push(ie.a.tidy((function(){var t=r[e];if(e>0)for(var a=0;a<e;++a){var i=Object(O.a)(Object(dn.a)(Object(O.a)(n[a],t)),n[a]);t=Object(rt.a)(t,i)}return Object(ce.a)(t,Object(Bn.a)(t,"euclidean"))})))},i=0;i<e.length;++i)a(i);return t?Object(cn.a)(n,0):n}}),Nr=n(46);function Fr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ie.a.tidy((function(){Object(N.b)(2===e.shape.length,(function(){return"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")}));for(var n=e.shape[0],r=e.shape[1],a=xe(n),i=Object(U.a)(e),o=gn([[1]],[1,1]),u=Object(U.a)(o),s=n>=r?r:n,c=function(e){var t=i,s=u,c=a,l=ie.a.tidy((function(){var t=Object(E.a)(i,[e,e],[n-e,1]),s=Object(Bn.a)(t),c=Object(E.a)(i,[e,e],[1,1]),l=Object(An.a)(Object(je.a)(c,0),gn([[-1]]),gn([[1]])),f=Object(rt.a)(c,Object(O.a)(l,s)),d=Object(ce.a)(t,f);u=1===d.shape[0]?Object(U.a)(o):Object(_.a)([o,Object(E.a)(d,[1,0],[d.shape[0]-1,d.shape[1]])],0);var h=Object(ut.a)(Object(ce.a)(Object(w.a)(l,f),s)),p=Object(E.a)(i,[e,0],[n-e,r]),v=Object(O.a)(h,u),m=Object(Pn.a)(u);if(0===e)i=Object(rt.a)(p,Object(w.a)(v,Object(w.a)(m,p)));else{var g=Object(rt.a)(p,Object(w.a)(v,Object(w.a)(m,p)));i=Object(_.a)([Object(E.a)(i,[0,0],[e,r]),g],0)}var b=Object(Pn.a)(v),y=Object(E.a)(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=Object(rt.a)(y,Object(w.a)(Object(w.a)(y,u),b));else{var x=Object(rt.a)(y,Object(w.a)(Object(w.a)(y,u),b));a=Object(_.a)([Object(E.a)(a,[0,0],[n,e]),x],1)}return[u,i,a]})),f=Object(Yn.a)(l,3);u=f[0],i=f[1],a=f[2],Object(Nr.d)([t,s,c])},l=0;l<s;++l)c(l);return!t&&n>r&&(a=Object(E.a)(a,[0,0],[n,r]),i=Object(E.a)(i,[0,0],[r,r])),[a,i]}))}var Tr=Object(k.b)({qr_:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Object(N.b)(e.rank>=2,(function(){return"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank)})),2===e.rank)return Fr(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=Object(En.a)(Object(be.a)(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],i=[];r.forEach((function(e){var n=Fr(e,t),r=Object(Yn.a)(n,2),o=r[0],u=r[1];a.push(o),i.push(u)}));var o=Object(be.a)(Object(cn.a)(a,0),e.shape),u=Object(be.a)(Object(cn.a)(i,0),e.shape);return[o,u]}}),Mr=n(72);var Ir=Object(k.b)({computeWeightedLoss_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mr.a.SUM_BY_NONZERO_WEIGHTS,r=Object(x.a)(e,"losses","computeWeightedLoss"),a=null;null!=t&&(a=Object(x.a)(t,"weights","computeWeightedLoss"));var i=null==a?r:Object(O.a)(r,a);if(n===Mr.a.NONE)return i;if(n===Mr.a.SUM)return Object(dn.a)(i);if(n===Mr.a.MEAN){if(null==a)return Object(Ye.a)(i);var o=r.size/a.size,u=Object(ce.a)(Object(dn.a)(i),Object(dn.a)(a));return o>1?Object(ce.a)(u,Object(Lt.a)(o)):u}if(n===Mr.a.SUM_BY_NONZERO_WEIGHTS){if(null==a)return Object(ce.a)(Object(dn.a)(i),Object(Lt.a)(r.size));var s=Object(O.a)(a,Object(lt.a)(r.shape)),c=Object(B.a)(Object(dn.a)(Object(st.a)(s,Object(Lt.a)(0))),"float32");return Object(ce.a)(Object(dn.a)(i),c)}throw Error("Unknown reduction: ".concat(n))}});var Rr=Object(k.b)({absoluteDifference_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Mr.a.SUM_BY_NONZERO_WEIGHTS,i=Object(x.a)(e,"labels","absoluteDifference"),o=Object(x.a)(t,"predictions","absoluteDifference"),u=null;null!=n&&(u=Object(x.a)(n,"weights","absoluteDifference")),Object(N.e)(i.shape,o.shape,"Error in absoluteDifference: ");var s=Object(a.a)(Object(rt.a)(i,o));return Ir(s,u,r)}});var Pr=Object(k.b)({cosineDistance_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mr.a.SUM_BY_NONZERO_WEIGHTS,i=Object(x.a)(e,"labels","cosineDistance"),o=Object(x.a)(t,"predictions","cosineDistance"),u=null;null!=r&&(u=Object(x.a)(r,"weights","cosineDistance")),Object(N.e)(i.shape,o.shape,"Error in cosineDistance: ");var s=Object(Lt.a)(1),c=Object(rt.a)(s,Object(dn.a)(Object(O.a)(i,o),n,!0));return Ir(c,u,a)}});var Br=Object(k.b)({hingeLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Mr.a.SUM_BY_NONZERO_WEIGHTS,a=Object(x.a)(e,"labels","hingeLoss"),i=Object(x.a)(t,"predictions","hingeLoss"),o=null;null!=n&&(o=Object(x.a)(n,"weights","hingeLoss")),Object(N.e)(a.shape,i.shape,"Error in hingeLoss: ");var u=Object(Lt.a)(1);a=Object(rt.a)(Object(O.a)(Object(Lt.a)(2),a),u);var s=Object(Nt.a)(Object(rt.a)(u,Object(O.a)(a,i)));return Ir(s,o,r)}});var zr=Object(k.b)({huberLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mr.a.SUM_BY_NONZERO_WEIGHTS,o=Object(x.a)(e,"labels","huberLoss"),s=Object(x.a)(t,"predictions","huberLoss"),c=null;null!=n&&(c=Object(x.a)(n,"weights","huberLoss")),Object(N.e)(o.shape,s.shape,"Error in huberLoss: ");var l=Object(Lt.a)(r),f=Object(a.a)(Object(rt.a)(s,o)),d=Object(Qe.a)(f,l),h=Object(rt.a)(f,d),p=Object(u.a)(Object(O.a)(Object(Lt.a)(.5),Object(nt.a)(d)),Object(O.a)(l,h));return Ir(p,c,i)}});var Lr=Object(k.b)({logLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mr.a.SUM_BY_NONZERO_WEIGHTS,i=Object(x.a)(e,"labels","logLoss"),o=Object(x.a)(t,"predictions","logLoss"),s=null;null!=n&&(s=Object(x.a)(n,"weights","logLoss")),Object(N.e)(i.shape,o.shape,"Error in logLoss: ");var c=Object(Lt.a)(1),l=Object(Lt.a)(r),f=Object(ut.a)(Object(O.a)(i,Object(Re.a)(Object(u.a)(o,l)))),d=Object(O.a)(Object(rt.a)(c,i),Object(Re.a)(Object(u.a)(Object(rt.a)(c,o),l))),h=Object(rt.a)(f,d);return Ir(h,s,a)}});var Ur=Object(k.b)({meanSquaredError_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Mr.a.SUM_BY_NONZERO_WEIGHTS,a=Object(x.a)(e,"labels","meanSquaredError"),i=Object(x.a)(t,"predictions","meanSquaredError"),o=null;null!=n&&(o=Object(x.a)(n,"weights","meanSquaredError")),Object(N.e)(a.shape,i.shape,"Error in meanSquaredError: ");var u=Object(un.a)(a,i);return Ir(u,o,r)}});function Wr(e,t){var n=Object(x.a)(e,"labels","sigmoidCrossEntropyWithLogits"),r=Object(x.a)(t,"logits","sigmoidCrossEntropyWithLogits");Object(N.e)(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var i=Object(Nt.a)(r),o=Object(O.a)(r,n),s=Object(Pe.a)(Object(ve.a)(Object(ut.a)(Object(a.a)(r))));return Object(u.a)(Object(rt.a)(i,o),s)}var Vr=Object(k.b)({sigmoidCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mr.a.SUM_BY_NONZERO_WEIGHTS,i=Object(x.a)(e,"multiClassLabels","sigmoidCrossEntropy"),o=Object(x.a)(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=Object(x.a)(n,"weights","sigmoidCrossEntropy")),Object(N.e)(i.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){var c=Object(Lt.a)(r),l=Object(Lt.a)(1),f=Object(Lt.a)(.5);i=Object(u.a)(Object(O.a)(i,Object(rt.a)(l,c)),Object(O.a)(f,c))}var d=Wr(i,o);return Ir(d,s,a)}});function qr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));var r=Object(Jn.a)((function(e,t,r){var a=Object(Le.a)(t,[n],!0),i=Object(rt.a)(Object(B.a)(t,"float32"),a);r([e,i]);var o=Object(ut.a)(Object(O.a)(i,e));return{value:Object(dn.a)(o,[n]),gradFunc:function(e,t){var r=Object(Yn.a)(t,2),a=r[0],i=r[1],o=Object(tt.e)(e.shape,[n]);return[Object(O.a)(Object(be.a)(e,o),Object(rt.a)(Object(B.a)(a,"float32"),Object(ve.a)(i))),Object(O.a)(Object(be.a)(e,o),Object(rt.a)(Object(ve.a)(i),Object(B.a)(a,"float32")))]}}}));return r(e,t)}var Hr=Object(k.b)({softmaxCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mr.a.SUM_BY_NONZERO_WEIGHTS,i=Object(x.a)(e,"onehotLabels","softmaxCrossEntropy"),o=Object(x.a)(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=Object(x.a)(n,"weights","softmaxCrossEntropy")),Object(N.e)(i.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){var c=Object(Lt.a)(r),l=Object(Lt.a)(1),f=Object(Lt.a)(i.shape[1]);i=Object(u.a)(Object(O.a)(i,Object(rt.a)(l,c)),Object(ce.a)(c,f))}var d=qr(i,o);return Ir(d,s,a)}}),Gr={fft:en.a,ifft:tn.a,rfft:rn.a,irfft:nn.a},Kr={hammingWindow:sr,hannWindow:cr,frame:lr,stft:fr},$r={flipLeftRight:hr,resizeNearestNeighbor:Cr.a,resizeBilinear:Er.a,rotateWithOffset:pr,cropAndResize:dr,nonMaxSuppression:mr,nonMaxSuppressionAsync:yr,nonMaxSuppressionWithScore:xr,nonMaxSuppressionWithScoreAsync:wr,nonMaxSuppressionPadded:Or,nonMaxSuppressionPaddedAsync:jr,transform:Ar},Xr={bandPart:Sr,gramSchmidt:Dr,qr:Tr},Yr={absoluteDifference:Rr,computeWeightedLoss:Ir,cosineDistance:Pr,hingeLoss:Br,huberLoss:zr,logLoss:Lr,meanSquaredError:Ur,sigmoidCrossEntropy:Vr,softmaxCrossEntropy:Hr}},function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return v}));var r=n(6),a=n(2),i=n.n(a),o=n(13),u=n(3),s=n(9),c=n(20),l="tfjsflags",f=function(){function e(t){Object(u.a)(this,e),this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return Object(s.a)(e,[{key:"setPlatform",value:function(e,t){null!=this.platform&&console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(t,".")),this.platformName=e,this.platform=t}},{key:"registerFlag",value:function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];console.warn("Setting feature override from URL ".concat(e,": ").concat(r,".")),this.set(e,r)}}},{key:"getAsync",value:function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.flags)){e.next=2;break}return e.abrupt("return",this.flags[t]);case 2:return e.next=4,this.evaluateFlag(t);case 4:return this.flags[t]=e.sent,e.abrupt("return",this.flags[t]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(e){if(e in this.flags)return this.flags[e];var t=this.evaluateFlag(e);if(Object(c.x)(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}},{key:"getNumber",value:function(e){return this.get(e)}},{key:"getBool",value:function(e){return this.get(e)}},{key:"getFlags",value:function(){return this.flags}},{key:"features",get:function(){return this.flags}},{key:"set",value:function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}},{key:"evaluateFlag",value:function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}},{key:"setFlags",value:function(e){this.flags=Object.assign({},e)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var e=this;if("undefined"!==typeof this.global&&"undefined"!==typeof this.global.location&&"undefined"!==typeof this.global.location.search){var t=function(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return d(t,r[0],r[1]),r.join("=")})),t}(this.global.location.search);if(l in t)t.tfjsflags.split(",").forEach((function(t){var n=t.split(":"),a=Object(r.a)(n,2),i=a[0],o=a[1];e.urlFlags[i]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if("".concat(+t)===t)return+t;throw new Error("Could not parse value flag value ".concat(t," for flag ").concat(e,"."))}(i,o)}))}}}]),e}();function d(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function h(){return p}var p=null;function v(e){p=e}},,function(e,t,n){"use strict";n.r(t),n.d(t,"makeTypesMatch",(function(){return o})),n.d(t,"assertTypesMatch",(function(){return u})),n.d(t,"isTensorInList",(function(){return s})),n.d(t,"getTensorsInContainer",(function(){return c}));var r=n(18),a=n(169),i=n(20);function o(e,t){if(e.dtype===t.dtype)return[e,t];var n=Object(a.c)(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function u(e,t){Object(i.b)(e.dtype===t.dtype,(function(){return"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")}))}function s(e,t){return t.some((function(t){return t.id===e.id}))}function c(e){var t=[];return l(e,t,new Set),t}function l(e,t,n){if(null!=e)if(e instanceof r.a)t.push(e);else if(a=e,Array.isArray(a)||"object"===typeof a){var a,i=e;for(var o in i){var u=i[o];n.has(u)||(n.add(u),l(u,t,n))}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12),a=n(8),i=n(11);var o=Object(i.b)({square_:function(e){var t=Object(a.a)(e,"x","square");return r.a.runKernel("Square",{x:t},{})}})},function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"h",(function(){return d})),n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return p})),n.d(t,"t",(function(){return v})),n.d(t,"d",(function(){return m})),n.d(t,"l",(function(){return g})),n.d(t,"u",(function(){return b})),n.d(t,"r",(function(){return y})),n.d(t,"o",(function(){return x})),n.d(t,"k",(function(){return _})),n.d(t,"q",(function(){return w})),n.d(t,"i",(function(){return O})),n.d(t,"j",(function(){return k})),n.d(t,"p",(function(){return j})),n.d(t,"a",(function(){return E})),n.d(t,"s",(function(){return C}));var r=n(12),a=n(42),i=n(18),o=n(44);function u(){Object(a.c)().set("PROD",!0)}function s(){Object(a.c)().set("DEBUG",!0)}function c(){Object(a.c)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function l(e){Object(a.c)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function f(){r.a.disposeVariables()}function d(){return r.a}function h(){return r.a.memory()}function p(e){return r.a.profile(e)}function v(e,t){return r.a.tidy(e,t)}function m(e){Object(o.getTensorsInContainer)(e).forEach((function(e){return e.dispose()}))}function g(e){return r.a.keep(e)}function b(e){return r.a.time(e)}function y(e){return r.a.setBackend(e)}function x(){return r.a.ready()}function _(){return r.a.backendName}function w(e){r.a.removeBackend(e)}function O(e){return r.a.findBackend(e)}function k(e){return r.a.findBackendFactory(e)}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return r.a.registerBackend(e,t,n)}function E(){return r.a.backend}function C(e,t){Object(a.c)().setPlatform(e,t)}Object(i.e)(l)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({slice_:function(e,t,n){var o=Object(i.a)(e,"x","slice","string_or_numeric");if(0===o.rank)throw new Error("Slicing scalar is not possible");var u={x:o},s={begin:t,size:n};return r.a.runKernel(a.Ec,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(12),i=n(7),o=n(44),u=n(8),s=n(11);var c=Object(s.b)({matMul_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=Object(u.a)(e,"a","matMul"),l=Object(u.a)(t,"b","matMul"),f=Object(o.makeTypesMatch)(c,l),d=Object(r.a)(f,2),h={a:c=d[0],b:l=d[1]},p={transposeA:n,transposeB:s};return a.a.runKernel(i.s,h,p)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(21);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){(function(e,r){var a;(function(){var i,o="Expected a function",u="__lodash_hash_undefined__",s="__lodash_placeholder__",c=16,l=32,f=64,d=128,h=256,p=1/0,v=9007199254740991,m=NaN,g=4294967295,b=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",l],["partialRight",f],["rearg",h]],y="[object Arguments]",x="[object Array]",_="[object Boolean]",w="[object Date]",O="[object Error]",k="[object Function]",j="[object GeneratorFunction]",E="[object Map]",C="[object Number]",A="[object Object]",S="[object Promise]",D="[object RegExp]",N="[object Set]",F="[object String]",T="[object Symbol]",M="[object WeakMap]",I="[object ArrayBuffer]",R="[object DataView]",P="[object Float32Array]",B="[object Float64Array]",z="[object Int8Array]",L="[object Int16Array]",U="[object Int32Array]",W="[object Uint8Array]",V="[object Uint8ClampedArray]",q="[object Uint16Array]",H="[object Uint32Array]",G=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,$=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,J=RegExp(X.source),Q=RegExp(Y.source),Z=/<%-([\s\S]+?)%>/g,ee=/<%([\s\S]+?)%>/g,te=/<%=([\s\S]+?)%>/g,ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ue=/^\s+/,se=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,fe=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,ve=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,be=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,xe=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oe=/($^)/,ke=/['\n\r\u2028\u2029\\]/g,je="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",Ce="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",Se="\\ufe0e\\ufe0f",De="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ne="['\u2019]",Fe="[\\ud800-\\udfff]",Te="["+De+"]",Me="["+je+"]",Ie="\\d+",Re="[\\u2700-\\u27bf]",Pe="["+Ce+"]",Be="[^\\ud800-\\udfff"+De+Ie+Ee+Ce+Ae+"]",ze="\\ud83c[\\udffb-\\udfff]",Le="[^\\ud800-\\udfff]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",We="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Ae+"]",qe="(?:"+Pe+"|"+Be+")",He="(?:"+Ve+"|"+Be+")",Ge="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ke="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",$e="(?:"+Me+"|"+ze+")"+"?",Xe="[\\ufe0e\\ufe0f]?",Ye=Xe+$e+("(?:\\u200d(?:"+[Le,Ue,We].join("|")+")"+Xe+$e+")*"),Je="(?:"+[Re,Ue,We].join("|")+")"+Ye,Qe="(?:"+[Le+Me+"?",Me,Ue,We,Fe].join("|")+")",Ze=RegExp(Ne,"g"),et=RegExp(Me,"g"),tt=RegExp(ze+"(?="+ze+")|"+Qe+Ye,"g"),nt=RegExp([Ve+"?"+Pe+"+"+Ge+"(?="+[Te,Ve,"$"].join("|")+")",He+"+"+Ke+"(?="+[Te,Ve+qe,"$"].join("|")+")",Ve+"?"+qe+"+"+Ge,Ve+"+"+Ke,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ie,Je].join("|"),"g"),rt=RegExp("[\\u200d\\ud800-\\udfff"+je+Se+"]"),at=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,ut={};ut[P]=ut[B]=ut[z]=ut[L]=ut[U]=ut[W]=ut[V]=ut[q]=ut[H]=!0,ut[y]=ut[x]=ut[I]=ut[_]=ut[R]=ut[w]=ut[O]=ut[k]=ut[E]=ut[C]=ut[A]=ut[D]=ut[N]=ut[F]=ut[M]=!1;var st={};st[y]=st[x]=st[I]=st[R]=st[_]=st[w]=st[P]=st[B]=st[z]=st[L]=st[U]=st[E]=st[C]=st[A]=st[D]=st[N]=st[F]=st[T]=st[W]=st[V]=st[q]=st[H]=!0,st[O]=st[k]=st[M]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ft=parseInt,dt="object"==typeof e&&e&&e.Object===Object&&e,ht="object"==typeof self&&self&&self.Object===Object&&self,pt=dt||ht||Function("return this")(),vt=t&&!t.nodeType&&t,mt=vt&&"object"==typeof r&&r&&!r.nodeType&&r,gt=mt&&mt.exports===vt,bt=gt&&dt.process,yt=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),xt=yt&&yt.isArrayBuffer,_t=yt&&yt.isDate,wt=yt&&yt.isMap,Ot=yt&&yt.isRegExp,kt=yt&&yt.isSet,jt=yt&&yt.isTypedArray;function Et(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ct(e,t,n,r){for(var a=-1,i=null==e?0:e.length;++a<i;){var o=e[a];t(r,o,n(o),e)}return r}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function St(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}function Ft(e,t){return!!(null==e?0:e.length)&&Wt(e,t,0)>-1}function Tt(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function It(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function Rt(e,t,n,r){var a=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}function Pt(e,t,n,r){var a=null==e?0:e.length;for(r&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n}function Bt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var zt=Gt("length");function Lt(e,t,n){var r;return n(e,(function(e,n,a){if(t(e,n,a))return r=n,!1})),r}function Ut(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}function Wt(e,t,n){return t===t?function(e,t,n){var r=n-1,a=e.length;for(;++r<a;)if(e[r]===t)return r;return-1}(e,t,n):Ut(e,qt,n)}function Vt(e,t,n,r){for(var a=n-1,i=e.length;++a<i;)if(r(e[a],t))return a;return-1}function qt(e){return e!==e}function Ht(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:m}function Gt(e){return function(t){return null==t?i:t[e]}}function Kt(e){return function(t){return null==e?i:e[t]}}function $t(e,t,n,r,a){return a(e,(function(e,a,i){n=r?(r=!1,e):t(n,e,a,i)})),n}function Xt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Yt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Jt(e){return e?e.slice(0,mn(e)+1).replace(ue,""):e}function Qt(e){return function(t){return e(t)}}function Zt(e,t){return Mt(t,(function(t){return e[t]}))}function en(e,t){return e.has(t)}function tn(e,t){for(var n=-1,r=e.length;++n<r&&Wt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length;n--&&Wt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var an=Kt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Kt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function un(e){return"\\"+ct[e]}function sn(e){return rt.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function fn(e,t){for(var n=-1,r=e.length,a=0,i=[];++n<r;){var o=e[n];o!==t&&o!==s||(e[n]=s,i[a++]=n)}return i}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return sn(e)?function(e){var t=tt.lastIndex=0;for(;tt.test(e);)++t;return t}(e):zt(e)}function vn(e){return sn(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gn=Kt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var bn=function e(t){var n=(t=null==t?pt:bn.defaults(pt.Object(),t,bn.pick(pt,it))).Array,r=t.Date,a=t.Error,se=t.Function,je=t.Math,Ee=t.Object,Ce=t.RegExp,Ae=t.String,Se=t.TypeError,De=n.prototype,Ne=se.prototype,Fe=Ee.prototype,Te=t["__core-js_shared__"],Me=Ne.toString,Ie=Fe.hasOwnProperty,Re=0,Pe=function(){var e=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Be=Fe.toString,ze=Me.call(Ee),Le=pt._,Ue=Ce("^"+Me.call(Ie).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=gt?t.Buffer:i,Ve=t.Symbol,qe=t.Uint8Array,He=We?We.allocUnsafe:i,Ge=ln(Ee.getPrototypeOf,Ee),Ke=Ee.create,$e=Fe.propertyIsEnumerable,Xe=De.splice,Ye=Ve?Ve.isConcatSpreadable:i,Je=Ve?Ve.iterator:i,Qe=Ve?Ve.toStringTag:i,tt=function(){try{var e=di(Ee,"defineProperty");return e({},"",{}),e}catch(t){}}(),rt=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,ct=r&&r.now!==pt.Date.now&&r.now,dt=t.setTimeout!==pt.setTimeout&&t.setTimeout,ht=je.ceil,vt=je.floor,mt=Ee.getOwnPropertySymbols,bt=We?We.isBuffer:i,yt=t.isFinite,zt=De.join,Kt=ln(Ee.keys,Ee),yn=je.max,xn=je.min,_n=r.now,wn=t.parseInt,On=je.random,kn=De.reverse,jn=di(t,"DataView"),En=di(t,"Map"),Cn=di(t,"Promise"),An=di(t,"Set"),Sn=di(t,"WeakMap"),Dn=di(Ee,"create"),Nn=Sn&&new Sn,Fn={},Tn=zi(jn),Mn=zi(En),In=zi(Cn),Rn=zi(An),Pn=zi(Sn),Bn=Ve?Ve.prototype:i,zn=Bn?Bn.valueOf:i,Ln=Bn?Bn.toString:i;function Un(e){if(ru(e)&&!Go(e)&&!(e instanceof Hn)){if(e instanceof qn)return e;if(Ie.call(e,"__wrapped__"))return Li(e)}return new qn(e)}var Wn=function(){function e(){}return function(t){if(!nu(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Vn(){}function qn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new $n;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Kn(e);this.size=t.size}function Jn(e,t){var n=Go(e),r=!n&&Ho(e),a=!n&&!r&&Yo(e),i=!n&&!r&&!a&&fu(e),o=n||r||a||i,u=o?Yt(e.length,Ae):[],s=u.length;for(var c in e)!t&&!Ie.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||yi(c,s))||u.push(c);return u}function Qn(e){var t=e.length;return t?e[Xr(0,t-1)]:i}function Zn(e,t){return Ri(Da(e),sr(t,0,e.length))}function er(e){return Ri(Da(e))}function tr(e,t,n){(n!==i&&!Wo(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function nr(e,t,n){var r=e[t];Ie.call(e,t)&&Wo(r,n)&&(n!==i||t in e)||or(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Wo(e[n][0],t))return n;return-1}function ar(e,t,n,r){return hr(e,(function(e,a,i){t(r,e,n(e),i)})),r}function ir(e,t){return e&&Na(t,Tu(t),e)}function or(e,t,n){"__proto__"==t&&tt?tt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ur(e,t){for(var r=-1,a=t.length,o=n(a),u=null==e;++r<a;)o[r]=u?i:Au(e,t[r]);return o}function sr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,a,o){var u,s=1&t,c=2&t,l=4&t;if(n&&(u=a?n(e,r,a,o):n(e)),u!==i)return u;if(!nu(e))return e;var f=Go(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ie.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Da(e,u)}else{var d=vi(e),h=d==k||d==j;if(Yo(e))return ka(e,s);if(d==A||d==y||h&&!a){if(u=c||h?{}:gi(e),!s)return c?function(e,t){return Na(e,pi(e),t)}(e,function(e,t){return e&&Na(t,Mu(t),e)}(u,e)):function(e,t){return Na(e,hi(e),t)}(e,ir(u,e))}else{if(!st[d])return a?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case I:return ja(e);case _:case w:return new r(+e);case R:return function(e,t){var n=t?ja(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case P:case B:case z:case L:case U:case W:case V:case q:case H:return Ea(e,n);case E:return new r;case C:case F:return new r(e);case D:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case N:return new r;case T:return a=e,zn?Ee(zn.call(a)):{}}var a}(e,d,s)}}o||(o=new Yn);var p=o.get(e);if(p)return p;o.set(e,u),su(e)?e.forEach((function(r){u.add(cr(r,t,n,r,e,o))})):au(e)&&e.forEach((function(r,a){u.set(a,cr(r,t,n,a,e,o))}));var v=f?i:(l?c?ii:ai:c?Mu:Tu)(e);return At(v||e,(function(r,a){v&&(r=e[a=r]),nr(u,a,cr(r,t,n,a,e,o))})),u}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ee(e);r--;){var a=n[r],o=t[a],u=e[a];if(u===i&&!(a in e)||!o(u))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Se(o);return Fi((function(){e.apply(i,n)}),t)}function dr(e,t,n,r){var a=-1,i=Ft,o=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=Mt(t,Qt(n))),r?(i=Tt,o=!1):t.length>=200&&(i=en,o=!1,t=new Xn(t));e:for(;++a<u;){var l=e[a],f=null==n?l:n(l);if(l=r||0!==l?l:0,o&&f===f){for(var d=c;d--;)if(t[d]===f)continue e;s.push(l)}else i(t,f,r)||s.push(l)}return s}Un.templateSettings={escape:Z,evaluate:ee,interpolate:te,variable:"",imports:{_:Un}},Un.prototype=Vn.prototype,Un.prototype.constructor=Un,qn.prototype=Wn(Vn.prototype),qn.prototype.constructor=qn,Hn.prototype=Wn(Vn.prototype),Hn.prototype.constructor=Hn,Gn.prototype.clear=function(){this.__data__=Dn?Dn(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(Dn){var n=t[e];return n===u?i:n}return Ie.call(t,e)?t[e]:i},Gn.prototype.has=function(e){var t=this.__data__;return Dn?t[e]!==i:Ie.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Dn&&t===i?u:t,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,!0)},Kn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Kn.prototype.has=function(e){return rr(this.__data__,e)>-1},Kn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},$n.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(En||Kn),string:new Gn}},$n.prototype.delete=function(e){var t=li(this,e).delete(e);return this.size-=t?1:0,t},$n.prototype.get=function(e){return li(this,e).get(e)},$n.prototype.has=function(e){return li(this,e).has(e)},$n.prototype.set=function(e,t){var n=li(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Xn.prototype.add=Xn.prototype.push=function(e){return this.__data__.set(e,u),this},Xn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Kn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Kn){var r=n.__data__;if(!En||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new $n(r)}return n.set(e,t),this.size=n.size,this};var hr=Ma(_r),pr=Ma(wr,!0);function vr(e,t){var n=!0;return hr(e,(function(e,r,a){return n=!!t(e,r,a)})),n}function mr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],u=t(o);if(null!=u&&(s===i?u===u&&!lu(u):n(u,s)))var s=u,c=o}return c}function gr(e,t){var n=[];return hr(e,(function(e,r,a){t(e,r,a)&&n.push(e)})),n}function br(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=bi),a||(a=[]);++i<o;){var u=e[i];t>0&&n(u)?t>1?br(u,t-1,n,r,a):It(a,u):r||(a[a.length]=u)}return a}var yr=Ia(),xr=Ia(!0);function _r(e,t){return e&&yr(e,t,Tu)}function wr(e,t){return e&&xr(e,t,Tu)}function Or(e,t){return Nt(t,(function(t){return Zo(e[t])}))}function kr(e,t){for(var n=0,r=(t=xa(t,e)).length;null!=e&&n<r;)e=e[Bi(t[n++])];return n&&n==r?e:i}function jr(e,t,n){var r=t(e);return Go(e)?r:It(r,n(e))}function Er(e){return null==e?e===i?"[object Undefined]":"[object Null]":Qe&&Qe in Ee(e)?function(e){var t=Ie.call(e,Qe),n=e[Qe];try{e[Qe]=i;var r=!0}catch(o){}var a=Be.call(e);r&&(t?e[Qe]=n:delete e[Qe]);return a}(e):function(e){return Be.call(e)}(e)}function Cr(e,t){return e>t}function Ar(e,t){return null!=e&&Ie.call(e,t)}function Sr(e,t){return null!=e&&t in Ee(e)}function Dr(e,t,r){for(var a=r?Tt:Ft,o=e[0].length,u=e.length,s=u,c=n(u),l=1/0,f=[];s--;){var d=e[s];s&&t&&(d=Mt(d,Qt(t))),l=xn(d.length,l),c[s]=!r&&(t||o>=120&&d.length>=120)?new Xn(s&&d):i}d=e[0];var h=-1,p=c[0];e:for(;++h<o&&f.length<l;){var v=d[h],m=t?t(v):v;if(v=r||0!==v?v:0,!(p?en(p,m):a(f,m,r))){for(s=u;--s;){var g=c[s];if(!(g?en(g,m):a(e[s],m,r)))continue e}p&&p.push(m),f.push(v)}}return f}function Nr(e,t,n){var r=null==(e=Ai(e,t=xa(t,e)))?e:e[Bi(Ji(t))];return null==r?i:Et(r,e,n)}function Fr(e){return ru(e)&&Er(e)==y}function Tr(e,t,n,r,a){return e===t||(null==e||null==t||!ru(e)&&!ru(t)?e!==e&&t!==t:function(e,t,n,r,a,o){var u=Go(e),s=Go(t),c=u?x:vi(e),l=s?x:vi(t),f=(c=c==y?A:c)==A,d=(l=l==y?A:l)==A,h=c==l;if(h&&Yo(e)){if(!Yo(t))return!1;u=!0,f=!1}if(h&&!f)return o||(o=new Yn),u||fu(e)?ni(e,t,n,r,a,o):function(e,t,n,r,a,i,o){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!i(new qe(e),new qe(t)));case _:case w:case C:return Wo(+e,+t);case O:return e.name==t.name&&e.message==t.message;case D:case F:return e==t+"";case E:var u=cn;case N:var s=1&r;if(u||(u=dn),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=ni(u(e),u(t),r,a,i,o);return o.delete(e),l;case T:if(zn)return zn.call(e)==zn.call(t)}return!1}(e,t,c,n,r,a,o);if(!(1&n)){var p=f&&Ie.call(e,"__wrapped__"),v=d&&Ie.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,g=v?t.value():t;return o||(o=new Yn),a(m,g,n,r,o)}}if(!h)return!1;return o||(o=new Yn),function(e,t,n,r,a,o){var u=1&n,s=ai(e),c=s.length,l=ai(t).length;if(c!=l&&!u)return!1;var f=c;for(;f--;){var d=s[f];if(!(u?d in t:Ie.call(t,d)))return!1}var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var v=!0;o.set(e,t),o.set(t,e);var m=u;for(;++f<c;){var g=e[d=s[f]],b=t[d];if(r)var y=u?r(b,g,d,t,e,o):r(g,b,d,e,t,o);if(!(y===i?g===b||a(g,b,n,r,o):y)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var x=e.constructor,_=t.constructor;x==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof _&&_ instanceof _||(v=!1)}return o.delete(e),o.delete(t),v}(e,t,n,r,a,o)}(e,t,n,r,Tr,a))}function Mr(e,t,n,r){var a=n.length,o=a,u=!r;if(null==e)return!o;for(e=Ee(e);a--;){var s=n[a];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){var c=(s=n[a])[0],l=e[c],f=s[1];if(u&&s[2]){if(l===i&&!(c in e))return!1}else{var d=new Yn;if(r)var h=r(l,f,c,e,t,d);if(!(h===i?Tr(f,l,3,r,d):h))return!1}}return!0}function Ir(e){return!(!nu(e)||(t=e,Pe&&Pe in t))&&(Zo(e)?Ue:ye).test(zi(e));var t}function Rr(e){return"function"==typeof e?e:null==e?is:"object"==typeof e?Go(e)?Wr(e[0],e[1]):Ur(e):ps(e)}function Pr(e){if(!ki(e))return Kt(e);var t=[];for(var n in Ee(e))Ie.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Br(e){if(!nu(e))return function(e){var t=[];if(null!=e)for(var n in Ee(e))t.push(n);return t}(e);var t=ki(e),n=[];for(var r in e)("constructor"!=r||!t&&Ie.call(e,r))&&n.push(r);return n}function zr(e,t){return e<t}function Lr(e,t){var r=-1,a=$o(e)?n(e.length):[];return hr(e,(function(e,n,i){a[++r]=t(e,n,i)})),a}function Ur(e){var t=fi(e);return 1==t.length&&t[0][2]?Ei(t[0][0],t[0][1]):function(n){return n===e||Mr(n,e,t)}}function Wr(e,t){return _i(e)&&ji(t)?Ei(Bi(e),t):function(n){var r=Au(n,e);return r===i&&r===t?Su(n,e):Tr(t,r,3)}}function Vr(e,t,n,r,a){e!==t&&yr(t,(function(o,u){if(a||(a=new Yn),nu(o))!function(e,t,n,r,a,o,u){var s=Di(e,n),c=Di(t,n),l=u.get(c);if(l)return void tr(e,n,l);var f=o?o(s,c,n+"",e,t,u):i,d=f===i;if(d){var h=Go(c),p=!h&&Yo(c),v=!h&&!p&&fu(c);f=c,h||p||v?Go(s)?f=s:Xo(s)?f=Da(s):p?(d=!1,f=ka(c,!0)):v?(d=!1,f=Ea(c,!0)):f=[]:ou(c)||Ho(c)?(f=s,Ho(s)?f=yu(s):nu(s)&&!Zo(s)||(f=gi(c))):d=!1}d&&(u.set(c,f),a(f,c,r,o,u),u.delete(c));tr(e,n,f)}(e,t,u,n,Vr,r,a);else{var s=r?r(Di(e,u),o,u+"",e,t,a):i;s===i&&(s=o),tr(e,u,s)}}),Mu)}function qr(e,t){var n=e.length;if(n)return yi(t+=t<0?n:0,n)?e[t]:i}function Hr(e,t,n){t=t.length?Mt(t,(function(e){return Go(e)?function(t){return kr(t,1===e.length?e[0]:e)}:e})):[is];var r=-1;return t=Mt(t,Qt(ci())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Lr(e,(function(e,n,a){return{criteria:Mt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,a=e.criteria,i=t.criteria,o=a.length,u=n.length;for(;++r<o;){var s=Ca(a[r],i[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,a=t.length,i={};++r<a;){var o=t[r],u=kr(e,o);n(u,o)&&ea(i,xa(o,e),u)}return i}function Kr(e,t,n,r){var a=r?Vt:Wt,i=-1,o=t.length,u=e;for(e===t&&(t=Da(t)),n&&(u=Mt(e,Qt(n)));++i<o;)for(var s=0,c=t[i],l=n?n(c):c;(s=a(u,l,s,r))>-1;)u!==e&&Xe.call(u,s,1),Xe.call(e,s,1);return e}function $r(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(n==r||a!==i){var i=a;yi(a)?Xe.call(e,a,1):da(e,a)}}return e}function Xr(e,t){return e+vt(On()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>v)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return Ti(Ci(e,t,is),e+"")}function Qr(e){return Qn(Wu(e))}function Zr(e,t){var n=Wu(e);return Ri(n,sr(t,0,n.length))}function ea(e,t,n,r){if(!nu(e))return e;for(var a=-1,o=(t=xa(t,e)).length,u=o-1,s=e;null!=s&&++a<o;){var c=Bi(t[a]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=u){var f=s[c];(l=r?r(f,c,s):i)===i&&(l=nu(f)?f:yi(t[a+1])?[]:{})}nr(s,c,l),s=s[c]}return e}var ta=Nn?function(e,t){return Nn.set(e,t),e}:is,na=tt?function(e,t){return tt(e,"toString",{configurable:!0,enumerable:!1,value:ns(t),writable:!0})}:is;function ra(e){return Ri(Wu(e))}function aa(e,t,r){var a=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=n(i);++a<i;)o[a]=e[a+t];return o}function ia(e,t){var n;return hr(e,(function(e,r,a){return!(n=t(e,r,a))})),!!n}function oa(e,t,n){var r=0,a=null==e?r:e.length;if("number"==typeof t&&t===t&&a<=2147483647){for(;r<a;){var i=r+a>>>1,o=e[i];null!==o&&!lu(o)&&(n?o<=t:o<t)?r=i+1:a=i}return a}return ua(e,t,is,n)}function ua(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var u=(t=n(t))!==t,s=null===t,c=lu(t),l=t===i;a<o;){var f=vt((a+o)/2),d=n(e[f]),h=d!==i,p=null===d,v=d===d,m=lu(d);if(u)var g=r||v;else g=l?v&&(r||h):s?v&&h&&(r||!p):c?v&&h&&!p&&(r||!m):!p&&!m&&(r?d<=t:d<t);g?a=f+1:o=f}return xn(o,4294967294)}function sa(e,t){for(var n=-1,r=e.length,a=0,i=[];++n<r;){var o=e[n],u=t?t(o):o;if(!n||!Wo(u,s)){var s=u;i[a++]=0===o?0:o}}return i}function ca(e){return"number"==typeof e?e:lu(e)?m:+e}function la(e){if("string"==typeof e)return e;if(Go(e))return Mt(e,la)+"";if(lu(e))return Ln?Ln.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fa(e,t,n){var r=-1,a=Ft,i=e.length,o=!0,u=[],s=u;if(n)o=!1,a=Tt;else if(i>=200){var c=t?null:Ya(e);if(c)return dn(c);o=!1,a=en,s=new Xn}else s=t?[]:u;e:for(;++r<i;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,o&&f===f){for(var d=s.length;d--;)if(s[d]===f)continue e;t&&s.push(f),u.push(l)}else a(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u}function da(e,t){return null==(e=Ai(e,t=xa(t,e)))||delete e[Bi(Ji(t))]}function ha(e,t,n,r){return ea(e,t,n(kr(e,t)),r)}function pa(e,t,n,r){for(var a=e.length,i=r?a:-1;(r?i--:++i<a)&&t(e[i],i,e););return n?aa(e,r?0:i,r?i+1:a):aa(e,r?i+1:0,r?a:i)}function va(e,t){var n=e;return n instanceof Hn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,It([e],t.args))}),n)}function ma(e,t,r){var a=e.length;if(a<2)return a?fa(e[0]):[];for(var i=-1,o=n(a);++i<a;)for(var u=e[i],s=-1;++s<a;)s!=i&&(o[i]=dr(o[i]||u,e[s],t,r));return fa(br(o,1),t,r)}function ga(e,t,n){for(var r=-1,a=e.length,o=t.length,u={};++r<a;){var s=r<o?t[r]:i;n(u,e[r],s)}return u}function ba(e){return Xo(e)?e:[]}function ya(e){return"function"==typeof e?e:is}function xa(e,t){return Go(e)?e:_i(e,t)?[e]:Pi(xu(e))}var _a=Jr;function wa(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:aa(e,t,n)}var Oa=rt||function(e){return pt.clearTimeout(e)};function ka(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function ja(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function Ea(e,t){var n=t?ja(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ca(e,t){if(e!==t){var n=e!==i,r=null===e,a=e===e,o=lu(e),u=t!==i,s=null===t,c=t===t,l=lu(t);if(!s&&!l&&!o&&e>t||o&&u&&c&&!s&&!l||r&&u&&c||!n&&c||!a)return 1;if(!r&&!o&&!l&&e<t||l&&n&&a&&!r&&!o||s&&n&&a||!u&&a||!c)return-1}return 0}function Aa(e,t,r,a){for(var i=-1,o=e.length,u=r.length,s=-1,c=t.length,l=yn(o-u,0),f=n(c+l),d=!a;++s<c;)f[s]=t[s];for(;++i<u;)(d||i<o)&&(f[r[i]]=e[i]);for(;l--;)f[s++]=e[i++];return f}function Sa(e,t,r,a){for(var i=-1,o=e.length,u=-1,s=r.length,c=-1,l=t.length,f=yn(o-s,0),d=n(f+l),h=!a;++i<f;)d[i]=e[i];for(var p=i;++c<l;)d[p+c]=t[c];for(;++u<s;)(h||i<o)&&(d[p+r[u]]=e[i++]);return d}function Da(e,t){var r=-1,a=e.length;for(t||(t=n(a));++r<a;)t[r]=e[r];return t}function Na(e,t,n,r){var a=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var s=t[o],c=r?r(n[s],e[s],s,n,e):i;c===i&&(c=e[s]),a?or(n,s,c):nr(n,s,c)}return n}function Fa(e,t){return function(n,r){var a=Go(n)?Ct:ar,i=t?t():{};return a(n,e,ci(r,2),i)}}function Ta(e){return Jr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,u=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,u&&xi(n[0],n[1],u)&&(o=a<3?i:o,a=1),t=Ee(t);++r<a;){var s=n[r];s&&e(t,s,r,o)}return t}))}function Ma(e,t){return function(n,r){if(null==n)return n;if(!$o(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Ee(n);(t?i--:++i<a)&&!1!==r(o[i],i,o););return n}}function Ia(e){return function(t,n,r){for(var a=-1,i=Ee(t),o=r(t),u=o.length;u--;){var s=o[e?u:++a];if(!1===n(i[s],s,i))break}return t}}function Ra(e){return function(t){var n=sn(t=xu(t))?vn(t):i,r=n?n[0]:t.charAt(0),a=n?wa(n,1).join(""):t.slice(1);return r[e]()+a}}function Pa(e){return function(t){return Rt(Zu(Hu(t).replace(Ze,"")),e,"")}}function Ba(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Wn(e.prototype),r=e.apply(n,t);return nu(r)?r:n}}function za(e){return function(t,n,r){var a=Ee(t);if(!$o(t)){var o=ci(n,3);t=Tu(t),n=function(e){return o(a[e],e,a)}}var u=e(t,n,r);return u>-1?a[o?t[u]:u]:i}}function La(e){return ri((function(t){var n=t.length,r=n,a=qn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Se(o);if(a&&!s&&"wrapper"==ui(u))var s=new qn([],!0)}for(r=s?r:n;++r<n;){var c=ui(u=t[r]),l="wrapper"==c?oi(u):i;s=l&&wi(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[ui(l[0])].apply(s,l[3]):1==u.length&&wi(u)?s[c]():s.thru(u)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Go(r))return s.plant(r).value();for(var a=0,i=n?t[a].apply(this,e):r;++a<n;)i=t[a].call(this,i);return i}}))}function Ua(e,t,r,a,o,u,s,c,l,f){var h=t&d,p=1&t,v=2&t,m=24&t,g=512&t,b=v?i:Ba(e);return function i(){for(var d=arguments.length,y=n(d),x=d;x--;)y[x]=arguments[x];if(m)var _=si(i),w=rn(y,_);if(a&&(y=Aa(y,a,o,m)),u&&(y=Sa(y,u,s,m)),d-=w,m&&d<f){var O=fn(y,_);return $a(e,t,Ua,i.placeholder,r,y,O,c,l,f-d)}var k=p?r:this,j=v?k[e]:e;return d=y.length,c?y=Si(y,c):g&&d>1&&y.reverse(),h&&l<d&&(y.length=l),this&&this!==pt&&this instanceof i&&(j=b||Ba(j)),j.apply(k,y)}}function Wa(e,t){return function(n,r){return function(e,t,n,r){return _r(e,(function(e,a,i){t(r,n(e),a,i)})),r}(n,e,t(r),{})}}function Va(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=la(n),r=la(r)):(n=ca(n),r=ca(r)),a=e(n,r)}return a}}function qa(e){return ri((function(t){return t=Mt(t,Qt(ci())),Jr((function(n){var r=this;return e(t,(function(e){return Et(e,r,n)}))}))}))}function Ha(e,t){var n=(t=t===i?" ":la(t)).length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,ht(e/pn(t)));return sn(t)?wa(vn(r),0,e).join(""):r.slice(0,e)}function Ga(e){return function(t,r,a){return a&&"number"!=typeof a&&xi(t,r,a)&&(r=a=i),t=vu(t),r===i?(r=t,t=0):r=vu(r),function(e,t,r,a){for(var i=-1,o=yn(ht((t-e)/(r||1)),0),u=n(o);o--;)u[a?o:++i]=e,e+=r;return u}(t,r,a=a===i?t<r?1:-1:vu(a),e)}}function Ka(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=bu(t),n=bu(n)),e(t,n)}}function $a(e,t,n,r,a,o,u,s,c,d){var h=8&t;t|=h?l:f,4&(t&=~(h?f:l))||(t&=-4);var p=[e,t,a,h?o:i,h?u:i,h?i:o,h?i:u,s,c,d],v=n.apply(i,p);return wi(e)&&Ni(v,p),v.placeholder=r,Mi(v,e,t)}function Xa(e){var t=je[e];return function(e,n){if(e=bu(e),(n=null==n?0:xn(mu(n),292))&&yt(e)){var r=(xu(e)+"e").split("e");return+((r=(xu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ya=An&&1/dn(new An([,-0]))[1]==p?function(e){return new An(e)}:ls;function Ja(e){return function(t){var n=vi(t);return n==E?cn(t):n==N?hn(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qa(e,t,r,a,u,p,v,m){var g=2&t;if(!g&&"function"!=typeof e)throw new Se(o);var b=a?a.length:0;if(b||(t&=-97,a=u=i),v=v===i?v:yn(mu(v),0),m=m===i?m:mu(m),b-=u?u.length:0,t&f){var y=a,x=u;a=u=i}var _=g?i:oi(e),w=[e,t,r,a,u,y,x,p,v,m];if(_&&function(e,t){var n=e[1],r=t[1],a=n|r,i=a<131,o=r==d&&8==n||r==d&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!o)return e;1&r&&(e[2]=t[2],a|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?Aa(c,u,t[4]):u,e[4]=c?fn(e[3],s):t[4]}(u=t[5])&&(c=e[5],e[5]=c?Sa(c,u,t[6]):u,e[6]=c?fn(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&d&&(e[8]=null==e[8]?t[8]:xn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=a}(w,_),e=w[0],t=w[1],r=w[2],a=w[3],u=w[4],!(m=w[9]=w[9]===i?g?0:e.length:yn(w[9]-b,0))&&24&t&&(t&=-25),t&&1!=t)O=8==t||t==c?function(e,t,r){var a=Ba(e);return function o(){for(var u=arguments.length,s=n(u),c=u,l=si(o);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:fn(s,l);return(u-=f.length)<r?$a(e,t,Ua,o.placeholder,i,s,f,i,i,r-u):Et(this&&this!==pt&&this instanceof o?a:e,this,s)}}(e,t,m):t!=l&&33!=t||u.length?Ua.apply(i,w):function(e,t,r,a){var i=1&t,o=Ba(e);return function t(){for(var u=-1,s=arguments.length,c=-1,l=a.length,f=n(l+s),d=this&&this!==pt&&this instanceof t?o:e;++c<l;)f[c]=a[c];for(;s--;)f[c++]=arguments[++u];return Et(d,i?r:this,f)}}(e,t,r,a);else var O=function(e,t,n){var r=1&t,a=Ba(e);return function t(){return(this&&this!==pt&&this instanceof t?a:e).apply(r?n:this,arguments)}}(e,t,r);return Mi((_?ta:Ni)(O,w),e,t)}function Za(e,t,n,r){return e===i||Wo(e,Fe[n])&&!Ie.call(r,n)?t:e}function ei(e,t,n,r,a,o){return nu(e)&&nu(t)&&(o.set(t,e),Vr(e,t,i,ei,o),o.delete(t)),e}function ti(e){return ou(e)?i:e}function ni(e,t,n,r,a,o){var u=1&n,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var l=o.get(e),f=o.get(t);if(l&&f)return l==t&&f==e;var d=-1,h=!0,p=2&n?new Xn:i;for(o.set(e,t),o.set(t,e);++d<s;){var v=e[d],m=t[d];if(r)var g=u?r(m,v,d,t,e,o):r(v,m,d,e,t,o);if(g!==i){if(g)continue;h=!1;break}if(p){if(!Bt(t,(function(e,t){if(!en(p,t)&&(v===e||a(v,e,n,r,o)))return p.push(t)}))){h=!1;break}}else if(v!==m&&!a(v,m,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function ri(e){return Ti(Ci(e,i,Gi),e+"")}function ai(e){return jr(e,Tu,hi)}function ii(e){return jr(e,Mu,pi)}var oi=Nn?function(e){return Nn.get(e)}:ls;function ui(e){for(var t=e.name+"",n=Fn[t],r=Ie.call(Fn,t)?n.length:0;r--;){var a=n[r],i=a.func;if(null==i||i==e)return a.name}return t}function si(e){return(Ie.call(Un,"placeholder")?Un:e).placeholder}function ci(){var e=Un.iteratee||os;return e=e===os?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function li(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fi(e){for(var t=Tu(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,ji(a)]}return t}function di(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Ir(n)?n:i}var hi=mt?function(e){return null==e?[]:(e=Ee(e),Nt(mt(e),(function(t){return $e.call(e,t)})))}:gs,pi=mt?function(e){for(var t=[];e;)It(t,hi(e)),e=Ge(e);return t}:gs,vi=Er;function mi(e,t,n){for(var r=-1,a=(t=xa(t,e)).length,i=!1;++r<a;){var o=Bi(t[r]);if(!(i=null!=e&&n(e,o)))break;e=e[o]}return i||++r!=a?i:!!(a=null==e?0:e.length)&&tu(a)&&yi(o,a)&&(Go(e)||Ho(e))}function gi(e){return"function"!=typeof e.constructor||ki(e)?{}:Wn(Ge(e))}function bi(e){return Go(e)||Ho(e)||!!(Ye&&e&&e[Ye])}function yi(e,t){var n=typeof e;return!!(t=null==t?v:t)&&("number"==n||"symbol"!=n&&_e.test(e))&&e>-1&&e%1==0&&e<t}function xi(e,t,n){if(!nu(n))return!1;var r=typeof t;return!!("number"==r?$o(n)&&yi(t,n.length):"string"==r&&t in n)&&Wo(n[t],e)}function _i(e,t){if(Go(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!lu(e))||(re.test(e)||!ne.test(e)||null!=t&&e in Ee(t))}function wi(e){var t=ui(e),n=Un[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var r=oi(n);return!!r&&e===r[0]}(jn&&vi(new jn(new ArrayBuffer(1)))!=R||En&&vi(new En)!=E||Cn&&vi(Cn.resolve())!=S||An&&vi(new An)!=N||Sn&&vi(new Sn)!=M)&&(vi=function(e){var t=Er(e),n=t==A?e.constructor:i,r=n?zi(n):"";if(r)switch(r){case Tn:return R;case Mn:return E;case In:return S;case Rn:return N;case Pn:return M}return t});var Oi=Te?Zo:bs;function ki(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Fe)}function ji(e){return e===e&&!nu(e)}function Ei(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ee(n)))}}function Ci(e,t,r){return t=yn(t===i?e.length-1:t,0),function(){for(var a=arguments,i=-1,o=yn(a.length-t,0),u=n(o);++i<o;)u[i]=a[t+i];i=-1;for(var s=n(t+1);++i<t;)s[i]=a[i];return s[t]=r(u),Et(e,this,s)}}function Ai(e,t){return t.length<2?e:kr(e,aa(t,0,-1))}function Si(e,t){for(var n=e.length,r=xn(t.length,n),a=Da(e);r--;){var o=t[r];e[r]=yi(o,n)?a[o]:i}return e}function Di(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ni=Ii(ta),Fi=dt||function(e,t){return pt.setTimeout(e,t)},Ti=Ii(na);function Mi(e,t,n){var r=t+"";return Ti(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return At(b,(function(n){var r="_."+n[0];t&n[1]&&!Ft(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(fe):[]}(r),n)))}function Ii(e){var t=0,n=0;return function(){var r=_n(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ri(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=Xr(n,a),u=e[o];e[o]=e[n],e[n]=u}return e.length=t,e}var Pi=function(e){var t=Ro(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ae,(function(e,n,r,a){t.push(r?a.replace(pe,"$1"):n||e)})),t}));function Bi(e){if("string"==typeof e||lu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function zi(e){if(null!=e){try{return Me.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Li(e){if(e instanceof Hn)return e.clone();var t=new qn(e.__wrapped__,e.__chain__);return t.__actions__=Da(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ui=Jr((function(e,t){return Xo(e)?dr(e,br(t,1,Xo,!0)):[]})),Wi=Jr((function(e,t){var n=Ji(t);return Xo(n)&&(n=i),Xo(e)?dr(e,br(t,1,Xo,!0),ci(n,2)):[]})),Vi=Jr((function(e,t){var n=Ji(t);return Xo(n)&&(n=i),Xo(e)?dr(e,br(t,1,Xo,!0),i,n):[]}));function qi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:mu(n);return a<0&&(a=yn(r+a,0)),Ut(e,ci(t,3),a)}function Hi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=mu(n),a=n<0?yn(r+a,0):xn(a,r-1)),Ut(e,ci(t,3),a,!0)}function Gi(e){return(null==e?0:e.length)?br(e,1):[]}function Ki(e){return e&&e.length?e[0]:i}var $i=Jr((function(e){var t=Mt(e,ba);return t.length&&t[0]===e[0]?Dr(t):[]})),Xi=Jr((function(e){var t=Ji(e),n=Mt(e,ba);return t===Ji(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Dr(n,ci(t,2)):[]})),Yi=Jr((function(e){var t=Ji(e),n=Mt(e,ba);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Dr(n,i,t):[]}));function Ji(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Qi=Jr(Zi);function Zi(e,t){return e&&e.length&&t&&t.length?Kr(e,t):e}var eo=ri((function(e,t){var n=null==e?0:e.length,r=ur(e,t);return $r(e,Mt(t,(function(e){return yi(e,n)?+e:e})).sort(Ca)),r}));function to(e){return null==e?e:kn.call(e)}var no=Jr((function(e){return fa(br(e,1,Xo,!0))})),ro=Jr((function(e){var t=Ji(e);return Xo(t)&&(t=i),fa(br(e,1,Xo,!0),ci(t,2))})),ao=Jr((function(e){var t=Ji(e);return t="function"==typeof t?t:i,fa(br(e,1,Xo,!0),i,t)}));function io(e){if(!e||!e.length)return[];var t=0;return e=Nt(e,(function(e){if(Xo(e))return t=yn(e.length,t),!0})),Yt(t,(function(t){return Mt(e,Gt(t))}))}function oo(e,t){if(!e||!e.length)return[];var n=io(e);return null==t?n:Mt(n,(function(e){return Et(t,i,e)}))}var uo=Jr((function(e,t){return Xo(e)?dr(e,t):[]})),so=Jr((function(e){return ma(Nt(e,Xo))})),co=Jr((function(e){var t=Ji(e);return Xo(t)&&(t=i),ma(Nt(e,Xo),ci(t,2))})),lo=Jr((function(e){var t=Ji(e);return t="function"==typeof t?t:i,ma(Nt(e,Xo),i,t)})),fo=Jr(io);var ho=Jr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,oo(e,n)}));function po(e){var t=Un(e);return t.__chain__=!0,t}function vo(e,t){return t(e)}var mo=ri((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return ur(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Hn&&yi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:vo,args:[a],thisArg:i}),new qn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var go=Fa((function(e,t,n){Ie.call(e,n)?++e[n]:or(e,n,1)}));var bo=za(qi),yo=za(Hi);function xo(e,t){return(Go(e)?At:hr)(e,ci(t,3))}function _o(e,t){return(Go(e)?St:pr)(e,ci(t,3))}var wo=Fa((function(e,t,n){Ie.call(e,n)?e[n].push(t):or(e,n,[t])}));var Oo=Jr((function(e,t,r){var a=-1,i="function"==typeof t,o=$o(e)?n(e.length):[];return hr(e,(function(e){o[++a]=i?Et(t,e,r):Nr(e,t,r)})),o})),ko=Fa((function(e,t,n){or(e,n,t)}));function jo(e,t){return(Go(e)?Mt:Lr)(e,ci(t,3))}var Eo=Fa((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Co=Jr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&xi(e,t[0],t[1])?t=[]:n>2&&xi(t[0],t[1],t[2])&&(t=[t[0]]),Hr(e,br(t,1),[])})),Ao=ct||function(){return pt.Date.now()};function So(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Qa(e,d,i,i,i,i,t)}function Do(e,t){var n;if("function"!=typeof t)throw new Se(o);return e=mu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var No=Jr((function(e,t,n){var r=1;if(n.length){var a=fn(n,si(No));r|=l}return Qa(e,r,t,n,a)})),Fo=Jr((function(e,t,n){var r=3;if(n.length){var a=fn(n,si(Fo));r|=l}return Qa(t,r,e,n,a)}));function To(e,t,n){var r,a,u,s,c,l,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new Se(o);function v(t){var n=r,o=a;return r=a=i,f=t,s=e.apply(o,n)}function m(e){return f=e,c=Fi(b,t),d?v(e):s}function g(e){var n=e-l;return l===i||n>=t||n<0||h&&e-f>=u}function b(){var e=Ao();if(g(e))return y(e);c=Fi(b,function(e){var n=t-(e-l);return h?xn(n,u-(e-f)):n}(e))}function y(e){return c=i,p&&r?v(e):(r=a=i,s)}function x(){var e=Ao(),n=g(e);if(r=arguments,a=this,l=e,n){if(c===i)return m(l);if(h)return Oa(c),c=Fi(b,t),v(l)}return c===i&&(c=Fi(b,t)),s}return t=bu(t)||0,nu(n)&&(d=!!n.leading,u=(h="maxWait"in n)?yn(bu(n.maxWait)||0,t):u,p="trailing"in n?!!n.trailing:p),x.cancel=function(){c!==i&&Oa(c),f=0,r=l=a=c=i},x.flush=function(){return c===i?s:y(Ao())},x}var Mo=Jr((function(e,t){return fr(e,1,t)})),Io=Jr((function(e,t,n){return fr(e,bu(t)||0,n)}));function Ro(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Se(o);var n=function n(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(Ro.Cache||$n),n}function Po(e){if("function"!=typeof e)throw new Se(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ro.Cache=$n;var Bo=_a((function(e,t){var n=(t=1==t.length&&Go(t[0])?Mt(t[0],Qt(ci())):Mt(br(t,1),Qt(ci()))).length;return Jr((function(r){for(var a=-1,i=xn(r.length,n);++a<i;)r[a]=t[a].call(this,r[a]);return Et(e,this,r)}))})),zo=Jr((function(e,t){var n=fn(t,si(zo));return Qa(e,l,i,t,n)})),Lo=Jr((function(e,t){var n=fn(t,si(Lo));return Qa(e,f,i,t,n)})),Uo=ri((function(e,t){return Qa(e,h,i,i,i,t)}));function Wo(e,t){return e===t||e!==e&&t!==t}var Vo=Ka(Cr),qo=Ka((function(e,t){return e>=t})),Ho=Fr(function(){return arguments}())?Fr:function(e){return ru(e)&&Ie.call(e,"callee")&&!$e.call(e,"callee")},Go=n.isArray,Ko=xt?Qt(xt):function(e){return ru(e)&&Er(e)==I};function $o(e){return null!=e&&tu(e.length)&&!Zo(e)}function Xo(e){return ru(e)&&$o(e)}var Yo=bt||bs,Jo=_t?Qt(_t):function(e){return ru(e)&&Er(e)==w};function Qo(e){if(!ru(e))return!1;var t=Er(e);return t==O||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ou(e)}function Zo(e){if(!nu(e))return!1;var t=Er(e);return t==k||t==j||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eu(e){return"number"==typeof e&&e==mu(e)}function tu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=v}function nu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ru(e){return null!=e&&"object"==typeof e}var au=wt?Qt(wt):function(e){return ru(e)&&vi(e)==E};function iu(e){return"number"==typeof e||ru(e)&&Er(e)==C}function ou(e){if(!ru(e)||Er(e)!=A)return!1;var t=Ge(e);if(null===t)return!0;var n=Ie.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Me.call(n)==ze}var uu=Ot?Qt(Ot):function(e){return ru(e)&&Er(e)==D};var su=kt?Qt(kt):function(e){return ru(e)&&vi(e)==N};function cu(e){return"string"==typeof e||!Go(e)&&ru(e)&&Er(e)==F}function lu(e){return"symbol"==typeof e||ru(e)&&Er(e)==T}var fu=jt?Qt(jt):function(e){return ru(e)&&tu(e.length)&&!!ut[Er(e)]};var du=Ka(zr),hu=Ka((function(e,t){return e<=t}));function pu(e){if(!e)return[];if($o(e))return cu(e)?vn(e):Da(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=vi(e);return(t==E?cn:t==N?dn:Wu)(e)}function vu(e){return e?(e=bu(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function mu(e){var t=vu(e),n=t%1;return t===t?n?t-n:t:0}function gu(e){return e?sr(mu(e),0,g):0}function bu(e){if("number"==typeof e)return e;if(lu(e))return m;if(nu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=nu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var n=be.test(e);return n||xe.test(e)?ft(e.slice(2),n?2:8):ge.test(e)?m:+e}function yu(e){return Na(e,Mu(e))}function xu(e){return null==e?"":la(e)}var _u=Ta((function(e,t){if(ki(t)||$o(t))Na(t,Tu(t),e);else for(var n in t)Ie.call(t,n)&&nr(e,n,t[n])})),wu=Ta((function(e,t){Na(t,Mu(t),e)})),Ou=Ta((function(e,t,n,r){Na(t,Mu(t),e,r)})),ku=Ta((function(e,t,n,r){Na(t,Tu(t),e,r)})),ju=ri(ur);var Eu=Jr((function(e,t){e=Ee(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&xi(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],u=Mu(o),s=-1,c=u.length;++s<c;){var l=u[s],f=e[l];(f===i||Wo(f,Fe[l])&&!Ie.call(e,l))&&(e[l]=o[l])}return e})),Cu=Jr((function(e){return e.push(i,ei),Et(Ru,i,e)}));function Au(e,t,n){var r=null==e?i:kr(e,t);return r===i?n:r}function Su(e,t){return null!=e&&mi(e,t,Sr)}var Du=Wa((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),e[t]=n}),ns(is)),Nu=Wa((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),Ie.call(e,t)?e[t].push(n):e[t]=[n]}),ci),Fu=Jr(Nr);function Tu(e){return $o(e)?Jn(e):Pr(e)}function Mu(e){return $o(e)?Jn(e,!0):Br(e)}var Iu=Ta((function(e,t,n){Vr(e,t,n)})),Ru=Ta((function(e,t,n,r){Vr(e,t,n,r)})),Pu=ri((function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,(function(t){return t=xa(t,e),r||(r=t.length>1),t})),Na(e,ii(e),n),r&&(n=cr(n,7,ti));for(var a=t.length;a--;)da(n,t[a]);return n}));var Bu=ri((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return Su(e,n)}))}(e,t)}));function zu(e,t){if(null==e)return{};var n=Mt(ii(e),(function(e){return[e]}));return t=ci(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var Lu=Ja(Tu),Uu=Ja(Mu);function Wu(e){return null==e?[]:Zt(e,Tu(e))}var Vu=Pa((function(e,t,n){return t=t.toLowerCase(),e+(n?qu(t):t)}));function qu(e){return Qu(xu(e).toLowerCase())}function Hu(e){return(e=xu(e))&&e.replace(we,an).replace(et,"")}var Gu=Pa((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ku=Pa((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),$u=Ra("toLowerCase");var Xu=Pa((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Yu=Pa((function(e,t,n){return e+(n?" ":"")+Qu(t)}));var Ju=Pa((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qu=Ra("toUpperCase");function Zu(e,t,n){return e=xu(e),(t=n?i:t)===i?function(e){return at.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var es=Jr((function(e,t){try{return Et(e,i,t)}catch(n){return Qo(n)?n:new a(n)}})),ts=ri((function(e,t){return At(t,(function(t){t=Bi(t),or(e,t,No(e[t],e))})),e}));function ns(e){return function(){return e}}var rs=La(),as=La(!0);function is(e){return e}function os(e){return Rr("function"==typeof e?e:cr(e,1))}var us=Jr((function(e,t){return function(n){return Nr(n,e,t)}})),ss=Jr((function(e,t){return function(n){return Nr(e,n,t)}}));function cs(e,t,n){var r=Tu(t),a=Or(t,r);null!=n||nu(t)&&(a.length||!r.length)||(n=t,t=e,e=this,a=Or(t,Tu(t)));var i=!(nu(n)&&"chain"in n)||!!n.chain,o=Zo(e);return At(a,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),a=n.__actions__=Da(this.__actions__);return a.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,It([this.value()],arguments))})})),e}function ls(){}var fs=qa(Mt),ds=qa(Dt),hs=qa(Bt);function ps(e){return _i(e)?Gt(Bi(e)):function(e){return function(t){return kr(t,e)}}(e)}var vs=Ga(),ms=Ga(!0);function gs(){return[]}function bs(){return!1}var ys=Va((function(e,t){return e+t}),0),xs=Xa("ceil"),_s=Va((function(e,t){return e/t}),1),ws=Xa("floor");var Os=Va((function(e,t){return e*t}),1),ks=Xa("round"),js=Va((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new Se(o);return e=mu(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=So,Un.assign=_u,Un.assignIn=wu,Un.assignInWith=Ou,Un.assignWith=ku,Un.at=ju,Un.before=Do,Un.bind=No,Un.bindAll=ts,Un.bindKey=Fo,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Go(e)?e:[e]},Un.chain=po,Un.chunk=function(e,t,r){t=(r?xi(e,t,r):t===i)?1:yn(mu(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,u=0,s=n(ht(a/t));o<a;)s[u++]=aa(e,o,o+=t);return s},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var i=e[t];i&&(a[r++]=i)}return a},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],a=e;a--;)t[a-1]=arguments[a];return It(Go(r)?Da(r):[r],br(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=ci();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new Se(o);return[n(e[0]),e[1]]})):[],Jr((function(n){for(var r=-1;++r<t;){var a=e[r];if(Et(a[0],this,n))return Et(a[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=Tu(e);return function(n){return lr(n,e,t)}}(cr(e,1))},Un.constant=ns,Un.countBy=go,Un.create=function(e,t){var n=Wn(e);return null==t?n:ir(n,t)},Un.curry=function e(t,n,r){var a=Qa(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Un.curryRight=function e(t,n,r){var a=Qa(t,c,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Un.debounce=To,Un.defaults=Eu,Un.defaultsDeep=Cu,Un.defer=Mo,Un.delay=Io,Un.difference=Ui,Un.differenceBy=Wi,Un.differenceWith=Vi,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?aa(e,(t=n||t===i?1:mu(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?aa(e,0,(t=r-(t=n||t===i?1:mu(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?pa(e,ci(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?pa(e,ci(t,3),!0):[]},Un.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&xi(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=mu(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:mu(r))<0&&(r+=a),r=n>r?0:gu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return(Go(e)?Nt:gr)(e,ci(t,3))},Un.flatMap=function(e,t){return br(jo(e,t),1)},Un.flatMapDeep=function(e,t){return br(jo(e,t),p)},Un.flatMapDepth=function(e,t,n){return n=n===i?1:mu(n),br(jo(e,t),n)},Un.flatten=Gi,Un.flattenDeep=function(e){return(null==e?0:e.length)?br(e,p):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?br(e,t=t===i?1:mu(t)):[]},Un.flip=function(e){return Qa(e,512)},Un.flow=rs,Un.flowRight=as,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r},Un.functions=function(e){return null==e?[]:Or(e,Tu(e))},Un.functionsIn=function(e){return null==e?[]:Or(e,Mu(e))},Un.groupBy=wo,Un.initial=function(e){return(null==e?0:e.length)?aa(e,0,-1):[]},Un.intersection=$i,Un.intersectionBy=Xi,Un.intersectionWith=Yi,Un.invert=Du,Un.invertBy=Nu,Un.invokeMap=Oo,Un.iteratee=os,Un.keyBy=ko,Un.keys=Tu,Un.keysIn=Mu,Un.map=jo,Un.mapKeys=function(e,t){var n={};return t=ci(t,3),_r(e,(function(e,r,a){or(n,t(e,r,a),e)})),n},Un.mapValues=function(e,t){var n={};return t=ci(t,3),_r(e,(function(e,r,a){or(n,r,t(e,r,a))})),n},Un.matches=function(e){return Ur(cr(e,1))},Un.matchesProperty=function(e,t){return Wr(e,cr(t,1))},Un.memoize=Ro,Un.merge=Iu,Un.mergeWith=Ru,Un.method=us,Un.methodOf=ss,Un.mixin=cs,Un.negate=Po,Un.nthArg=function(e){return e=mu(e),Jr((function(t){return qr(t,e)}))},Un.omit=Pu,Un.omitBy=function(e,t){return zu(e,Po(ci(t)))},Un.once=function(e){return Do(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:(Go(t)||(t=null==t?[]:[t]),Go(n=r?i:n)||(n=null==n?[]:[n]),Hr(e,t,n))},Un.over=fs,Un.overArgs=Bo,Un.overEvery=ds,Un.overSome=hs,Un.partial=zo,Un.partialRight=Lo,Un.partition=Eo,Un.pick=Bu,Un.pickBy=zu,Un.property=ps,Un.propertyOf=function(e){return function(t){return null==e?i:kr(e,t)}},Un.pull=Qi,Un.pullAll=Zi,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,ci(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,i,n):e},Un.pullAt=eo,Un.range=vs,Un.rangeRight=ms,Un.rearg=Uo,Un.reject=function(e,t){return(Go(e)?Nt:gr)(e,Po(ci(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,a=[],i=e.length;for(t=ci(t,3);++r<i;){var o=e[r];t(o,r,e)&&(n.push(o),a.push(r))}return $r(e,a),n},Un.rest=function(e,t){if("function"!=typeof e)throw new Se(o);return Jr(e,t=t===i?t:mu(t))},Un.reverse=to,Un.sampleSize=function(e,t,n){return t=(n?xi(e,t,n):t===i)?1:mu(t),(Go(e)?Zn:Zr)(e,t)},Un.set=function(e,t,n){return null==e?e:ea(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ea(e,t,n,r)},Un.shuffle=function(e){return(Go(e)?er:ra)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&xi(e,t,n)?(t=0,n=r):(t=null==t?0:mu(t),n=n===i?r:mu(n)),aa(e,t,n)):[]},Un.sortBy=Co,Un.sortedUniq=function(e){return e&&e.length?sa(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?sa(e,ci(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&xi(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=xu(e))&&("string"==typeof t||null!=t&&!uu(t))&&!(t=la(t))&&sn(e)?wa(vn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new Se(o);return t=null==t?0:yn(mu(t),0),Jr((function(n){var r=n[t],a=wa(n,0,t);return r&&It(a,r),Et(e,this,a)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?aa(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?aa(e,0,(t=n||t===i?1:mu(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?aa(e,(t=r-(t=n||t===i?1:mu(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?pa(e,ci(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?pa(e,ci(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new Se(o);return nu(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),To(e,t,{leading:r,maxWait:t,trailing:a})},Un.thru=vo,Un.toArray=pu,Un.toPairs=Lu,Un.toPairsIn=Uu,Un.toPath=function(e){return Go(e)?Mt(e,Bi):lu(e)?[e]:Da(Pi(xu(e)))},Un.toPlainObject=yu,Un.transform=function(e,t,n){var r=Go(e),a=r||Yo(e)||fu(e);if(t=ci(t,4),null==n){var i=e&&e.constructor;n=a?r?new i:[]:nu(e)&&Zo(i)?Wn(Ge(e)):{}}return(a?At:_r)(e,(function(e,r,a){return t(n,e,r,a)})),n},Un.unary=function(e){return So(e,1)},Un.union=no,Un.unionBy=ro,Un.unionWith=ao,Un.uniq=function(e){return e&&e.length?fa(e):[]},Un.uniqBy=function(e,t){return e&&e.length?fa(e,ci(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fa(e,i,t):[]},Un.unset=function(e,t){return null==e||da(e,t)},Un.unzip=io,Un.unzipWith=oo,Un.update=function(e,t,n){return null==e?e:ha(e,t,ya(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ha(e,t,ya(n),r)},Un.values=Wu,Un.valuesIn=function(e){return null==e?[]:Zt(e,Mu(e))},Un.without=uo,Un.words=Zu,Un.wrap=function(e,t){return zo(ya(t),e)},Un.xor=so,Un.xorBy=co,Un.xorWith=lo,Un.zip=fo,Un.zipObject=function(e,t){return ga(e||[],t||[],nr)},Un.zipObjectDeep=function(e,t){return ga(e||[],t||[],ea)},Un.zipWith=ho,Un.entries=Lu,Un.entriesIn=Uu,Un.extend=wu,Un.extendWith=Ou,cs(Un,Un),Un.add=ys,Un.attempt=es,Un.camelCase=Vu,Un.capitalize=qu,Un.ceil=xs,Un.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=bu(n))===n?n:0),t!==i&&(t=(t=bu(t))===t?t:0),sr(bu(e),t,n)},Un.clone=function(e){return cr(e,4)},Un.cloneDeep=function(e){return cr(e,5)},Un.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},Un.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},Un.conformsTo=function(e,t){return null==t||lr(e,t,Tu(t))},Un.deburr=Hu,Un.defaultTo=function(e,t){return null==e||e!==e?t:e},Un.divide=_s,Un.endsWith=function(e,t,n){e=xu(e),t=la(t);var r=e.length,a=n=n===i?r:sr(mu(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},Un.eq=Wo,Un.escape=function(e){return(e=xu(e))&&Q.test(e)?e.replace(Y,on):e},Un.escapeRegExp=function(e){return(e=xu(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Un.every=function(e,t,n){var r=Go(e)?Dt:vr;return n&&xi(e,t,n)&&(t=i),r(e,ci(t,3))},Un.find=bo,Un.findIndex=qi,Un.findKey=function(e,t){return Lt(e,ci(t,3),_r)},Un.findLast=yo,Un.findLastIndex=Hi,Un.findLastKey=function(e,t){return Lt(e,ci(t,3),wr)},Un.floor=ws,Un.forEach=xo,Un.forEachRight=_o,Un.forIn=function(e,t){return null==e?e:yr(e,ci(t,3),Mu)},Un.forInRight=function(e,t){return null==e?e:xr(e,ci(t,3),Mu)},Un.forOwn=function(e,t){return e&&_r(e,ci(t,3))},Un.forOwnRight=function(e,t){return e&&wr(e,ci(t,3))},Un.get=Au,Un.gt=Vo,Un.gte=qo,Un.has=function(e,t){return null!=e&&mi(e,t,Ar)},Un.hasIn=Su,Un.head=Ki,Un.identity=is,Un.includes=function(e,t,n,r){e=$o(e)?e:Wu(e),n=n&&!r?mu(n):0;var a=e.length;return n<0&&(n=yn(a+n,0)),cu(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&Wt(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:mu(n);return a<0&&(a=yn(r+a,0)),Wt(e,t,a)},Un.inRange=function(e,t,n){return t=vu(t),n===i?(n=t,t=0):n=vu(n),function(e,t,n){return e>=xn(t,n)&&e<yn(t,n)}(e=bu(e),t,n)},Un.invoke=Fu,Un.isArguments=Ho,Un.isArray=Go,Un.isArrayBuffer=Ko,Un.isArrayLike=$o,Un.isArrayLikeObject=Xo,Un.isBoolean=function(e){return!0===e||!1===e||ru(e)&&Er(e)==_},Un.isBuffer=Yo,Un.isDate=Jo,Un.isElement=function(e){return ru(e)&&1===e.nodeType&&!ou(e)},Un.isEmpty=function(e){if(null==e)return!0;if($o(e)&&(Go(e)||"string"==typeof e||"function"==typeof e.splice||Yo(e)||fu(e)||Ho(e)))return!e.length;var t=vi(e);if(t==E||t==N)return!e.size;if(ki(e))return!Pr(e).length;for(var n in e)if(Ie.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return Tr(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Tr(e,t,i,n):!!r},Un.isError=Qo,Un.isFinite=function(e){return"number"==typeof e&&yt(e)},Un.isFunction=Zo,Un.isInteger=eu,Un.isLength=tu,Un.isMap=au,Un.isMatch=function(e,t){return e===t||Mr(e,t,fi(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Mr(e,t,fi(t),n)},Un.isNaN=function(e){return iu(e)&&e!=+e},Un.isNative=function(e){if(Oi(e))throw new a("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ir(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=iu,Un.isObject=nu,Un.isObjectLike=ru,Un.isPlainObject=ou,Un.isRegExp=uu,Un.isSafeInteger=function(e){return eu(e)&&e>=-9007199254740991&&e<=v},Un.isSet=su,Un.isString=cu,Un.isSymbol=lu,Un.isTypedArray=fu,Un.isUndefined=function(e){return e===i},Un.isWeakMap=function(e){return ru(e)&&vi(e)==M},Un.isWeakSet=function(e){return ru(e)&&"[object WeakSet]"==Er(e)},Un.join=function(e,t){return null==e?"":zt.call(e,t)},Un.kebabCase=Gu,Un.last=Ji,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=mu(n))<0?yn(r+a,0):xn(a,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Ut(e,qt,a,!0)},Un.lowerCase=Ku,Un.lowerFirst=$u,Un.lt=du,Un.lte=hu,Un.max=function(e){return e&&e.length?mr(e,is,Cr):i},Un.maxBy=function(e,t){return e&&e.length?mr(e,ci(t,2),Cr):i},Un.mean=function(e){return Ht(e,is)},Un.meanBy=function(e,t){return Ht(e,ci(t,2))},Un.min=function(e){return e&&e.length?mr(e,is,zr):i},Un.minBy=function(e,t){return e&&e.length?mr(e,ci(t,2),zr):i},Un.stubArray=gs,Un.stubFalse=bs,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=Os,Un.nth=function(e,t){return e&&e.length?qr(e,mu(t)):i},Un.noConflict=function(){return pt._===this&&(pt._=Le),this},Un.noop=ls,Un.now=Ao,Un.pad=function(e,t,n){e=xu(e);var r=(t=mu(t))?pn(e):0;if(!t||r>=t)return e;var a=(t-r)/2;return Ha(vt(a),n)+e+Ha(ht(a),n)},Un.padEnd=function(e,t,n){e=xu(e);var r=(t=mu(t))?pn(e):0;return t&&r<t?e+Ha(t-r,n):e},Un.padStart=function(e,t,n){e=xu(e);var r=(t=mu(t))?pn(e):0;return t&&r<t?Ha(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(xu(e).replace(ue,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&xi(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=vu(e),t===i?(t=e,e=0):t=vu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=On();return xn(e+a*(t-e+lt("1e-"+((a+"").length-1))),t)}return Xr(e,t)},Un.reduce=function(e,t,n){var r=Go(e)?Rt:$t,a=arguments.length<3;return r(e,ci(t,4),n,a,hr)},Un.reduceRight=function(e,t,n){var r=Go(e)?Pt:$t,a=arguments.length<3;return r(e,ci(t,4),n,a,pr)},Un.repeat=function(e,t,n){return t=(n?xi(e,t,n):t===i)?1:mu(t),Yr(xu(e),t)},Un.replace=function(){var e=arguments,t=xu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,a=(t=xa(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[Bi(t[r])];o===i&&(r=a,o=n),e=Zo(o)?o.call(e):o}return e},Un.round=ks,Un.runInContext=e,Un.sample=function(e){return(Go(e)?Qn:Qr)(e)},Un.size=function(e){if(null==e)return 0;if($o(e))return cu(e)?pn(e):e.length;var t=vi(e);return t==E||t==N?e.size:Pr(e).length},Un.snakeCase=Xu,Un.some=function(e,t,n){var r=Go(e)?Bt:ia;return n&&xi(e,t,n)&&(t=i),r(e,ci(t,3))},Un.sortedIndex=function(e,t){return oa(e,t)},Un.sortedIndexBy=function(e,t,n){return ua(e,t,ci(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oa(e,t);if(r<n&&Wo(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return oa(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return ua(e,t,ci(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oa(e,t,!0)-1;if(Wo(e[n],t))return n}return-1},Un.startCase=Yu,Un.startsWith=function(e,t,n){return e=xu(e),n=null==n?0:sr(mu(n),0,e.length),t=la(t),e.slice(n,n+t.length)==t},Un.subtract=js,Un.sum=function(e){return e&&e.length?Xt(e,is):0},Un.sumBy=function(e,t){return e&&e.length?Xt(e,ci(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&xi(e,t,n)&&(t=i),e=xu(e),t=Ou({},t,r,Za);var o,u,s=Ou({},t.imports,r.imports,Za),c=Tu(s),l=Zt(s,c),f=0,d=t.interpolate||Oe,h="__p += '",p=Ce((t.escape||Oe).source+"|"+d.source+"|"+(d===te?ve:Oe).source+"|"+(t.evaluate||Oe).source+"|$","g"),v="//# sourceURL="+(Ie.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(p,(function(t,n,r,a,i,s){return r||(r=a),h+=e.slice(f,s).replace(ke,un),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),i&&(u=!0,h+="';\n"+i+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=s+t.length,t})),h+="';\n";var m=Ie.call(t,"variable")&&t.variable;if(m){if(he.test(m))throw new a("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(u?h.replace(G,""):h).replace(K,"$1").replace($,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=es((function(){return se(c,v+"return "+h).apply(i,l)}));if(g.source=h,Qo(g))throw g;return g},Un.times=function(e,t){if((e=mu(e))<1||e>v)return[];var n=g,r=xn(e,g);t=ci(t),e-=g;for(var a=Yt(r,t);++n<e;)t(n);return a},Un.toFinite=vu,Un.toInteger=mu,Un.toLength=gu,Un.toLower=function(e){return xu(e).toLowerCase()},Un.toNumber=bu,Un.toSafeInteger=function(e){return e?sr(mu(e),-9007199254740991,v):0===e?e:0},Un.toString=xu,Un.toUpper=function(e){return xu(e).toUpperCase()},Un.trim=function(e,t,n){if((e=xu(e))&&(n||t===i))return Jt(e);if(!e||!(t=la(t)))return e;var r=vn(e),a=vn(t);return wa(r,tn(r,a),nn(r,a)+1).join("")},Un.trimEnd=function(e,t,n){if((e=xu(e))&&(n||t===i))return e.slice(0,mn(e)+1);if(!e||!(t=la(t)))return e;var r=vn(e);return wa(r,0,nn(r,vn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=xu(e))&&(n||t===i))return e.replace(ue,"");if(!e||!(t=la(t)))return e;var r=vn(e);return wa(r,tn(r,vn(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(nu(t)){var a="separator"in t?t.separator:a;n="length"in t?mu(t.length):n,r="omission"in t?la(t.omission):r}var o=(e=xu(e)).length;if(sn(e)){var u=vn(e);o=u.length}if(n>=o)return e;var s=n-pn(r);if(s<1)return r;var c=u?wa(u,0,s).join(""):e.slice(0,s);if(a===i)return c+r;if(u&&(s+=c.length-s),uu(a)){if(e.slice(s).search(a)){var l,f=c;for(a.global||(a=Ce(a.source,xu(me.exec(a))+"g")),a.lastIndex=0;l=a.exec(f);)var d=l.index;c=c.slice(0,d===i?s:d)}}else if(e.indexOf(la(a),s)!=s){var h=c.lastIndexOf(a);h>-1&&(c=c.slice(0,h))}return c+r},Un.unescape=function(e){return(e=xu(e))&&J.test(e)?e.replace(X,gn):e},Un.uniqueId=function(e){var t=++Re;return xu(e)+t},Un.upperCase=Ju,Un.upperFirst=Qu,Un.each=xo,Un.eachRight=_o,Un.first=Ki,cs(Un,function(){var e={};return _r(Un,(function(t,n){Ie.call(Un.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Un.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),At(["drop","take"],(function(e,t){Hn.prototype[e]=function(n){n=n===i?1:yn(mu(n),0);var r=this.__filtered__&&!t?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=xn(n,r.__takeCount__):r.__views__.push({size:xn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),At(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ci(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),At(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),At(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(is)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Jr((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return Nr(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(Po(ci(e)))},Hn.prototype.slice=function(e,t){e=mu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Hn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=mu(t))<0?n.dropRight(-t):n.take(t-e)),n)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(g)},_r(Hn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=Un[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(Un.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof Hn,c=u[0],l=s||Go(t),f=function(e){var t=a.apply(Un,It([e],u));return r&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var d=this.__chain__,h=!!this.__actions__.length,p=o&&!d,v=s&&!h;if(!o&&l){t=v?t:new Hn(this);var m=e.apply(t,u);return m.__actions__.push({func:vo,args:[f],thisArg:i}),new qn(m,d)}return p&&v?e.apply(this,u):(m=this.thru(f),p?r?m.value()[0]:m.value():m)})})),At(["pop","push","shift","sort","splice","unshift"],(function(e){var t=De[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var a=this.value();return t.apply(Go(a)?a:[],e)}return this[n]((function(n){return t.apply(Go(n)?n:[],e)}))}})),_r(Hn.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";Ie.call(Fn,r)||(Fn[r]=[]),Fn[r].push({name:t,func:n})}})),Fn[Ua(i,2).name]=[{name:"wrapper",func:i}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Da(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Da(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Da(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Go(e),r=t<0,a=n?e.length:0,i=function(e,t,n){var r=-1,a=n.length;for(;++r<a;){var i=n[r],o=i.size;switch(i.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=xn(t,e+o);break;case"takeRight":e=yn(e,t-o)}}return{start:e,end:t}}(0,a,this.__views__),o=i.start,u=i.end,s=u-o,c=r?u:o-1,l=this.__iteratees__,f=l.length,d=0,h=xn(s,this.__takeCount__);if(!n||!r&&a==s&&h==s)return va(e,this.__actions__);var p=[];e:for(;s--&&d<h;){for(var v=-1,m=e[c+=t];++v<f;){var g=l[v],b=g.iteratee,y=g.type,x=b(m);if(2==y)m=x;else if(!x){if(1==y)continue e;break e}}p[d++]=m}return p},Un.prototype.at=mo,Un.prototype.chain=function(){return po(this)},Un.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=pu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof Vn;){var r=Li(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:vo,args:[to],thisArg:i}),new qn(t,this.__chain__)}return this.thru(to)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return va(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Je&&(Un.prototype[Je]=function(){return this}),Un}();pt._=bn,(a=function(){return bn}.call(t,n,t,r))===i||(r.exports=a)}).call(this)}).call(this,n(106),n(118)(e))},function(e,t,n){var r,a,i;a=[],void 0===(i="function"===typeof(r=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=n&&/blob:/i.test((t.location||{}).protocol),a={},i=0,o={parse:function(n,r){var u=(r=r||{}).dynamicTyping||!1;if(_(u)&&(r.dynamicTypingFunction=u,u={}),r.dynamicTyping=u,r.transform=!!_(r.transform)&&r.transform,r.worker&&o.WORKERS_SUPPORTED){var s=function(){if(!o.WORKERS_SUPPORTED)return!1;var n,r,u=(n=t.URL||t.webkitURL||null,r=e.toString(),o.BLOB_URL||(o.BLOB_URL=n.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),s=new t.Worker(u);return s.onmessage=m,s.id=i++,a[s.id]=s}();return s.userStep=r.step,s.userChunk=r.chunk,s.userComplete=r.complete,s.userError=r.error,r.step=_(r.step),r.chunk=_(r.chunk),r.complete=_(r.complete),r.error=_(r.error),delete r.worker,void s.postMessage({input:n,config:r,workerId:s.id})}var h=null;return o.NODE_STREAM_INPUT,"string"==typeof n?h=r.download?new c(r):new f(r):!0===n.readable&&_(n.read)&&_(n.on)?h=new d(r):(t.File&&n instanceof File||n instanceof Object)&&(h=new l(r)),h.stream(n)},unparse:function(e,t){var n=!1,r=!0,a=",",i="\r\n",u='"',s=u+u,c=!1,l=null,f=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||o.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(a=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(i=t.newline),"string"==typeof t.quoteChar&&(u=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");l=t.columns}void 0!==t.escapeChar&&(s=t.escapeChar+u),"boolean"==typeof t.escapeFormulae&&(f=t.escapeFormulae)}}();var d=new RegExp(p(u),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return v(null,e,c);if("object"==typeof e[0])return v(l||h(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:h(e.data[0])),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),v(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function h(e){if("object"!=typeof e)return[];var t=[];for(var n in e)t.push(n);return t}function v(e,t,n){var o="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var u=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(u&&r){for(var c=0;c<e.length;c++)0<c&&(o+=a),o+=m(e[c],c);0<t.length&&(o+=i)}for(var l=0;l<t.length;l++){var f=u?e.length:t[l].length,d=!1,h=u?0===Object.keys(t[l]).length:0===t[l].length;if(n&&!u&&(d="greedy"===n?""===t[l].join("").trim():1===t[l].length&&0===t[l][0].length),"greedy"===n&&u){for(var p=[],v=0;v<f;v++){var g=s?e[v]:v;p.push(t[l][g])}d=""===p.join("").trim()}if(!d){for(var b=0;b<f;b++){0<b&&!h&&(o+=a);var y=u&&s?e[b]:b;o+=m(t[l][y],b)}l<t.length-1&&(!n||0<f&&!h)&&(o+=i)}}return o}function m(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);!0===f&&"string"==typeof e&&null!==e.match(/^[=+\-@].*$/)&&(e="'"+e);var r=e.toString().replace(d,s);return"boolean"==typeof n&&n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(r,o.BAD_DELIMITERS)||-1<r.indexOf(a)||" "===r.charAt(0)||" "===r.charAt(r.length-1)?u+r+u:r}}};if(o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!n&&!!t.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=v,o.ParserHandle=h,o.NetworkStreamer=c,o.FileStreamer=l,o.StringStreamer=f,o.ReadableStreamStreamer=d,t.jQuery){var u=t.jQuery;u.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==u(this).prop("tagName").toUpperCase()||"file"!==u(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var a=0;a<this.files.length;a++)r.push({file:this.files[a],inputElem:this,instanceConfig:u.extend({},n)})})),a(),this;function a(){if(0!==r.length){var t,n,a,s,c=r[0];if(_(e.before)){var l=e.before(c.file,c.inputElem);if("object"==typeof l){if("abort"===l.action)return t="AbortError",n=c.file,a=c.inputElem,s=l.reason,void(_(e.error)&&e.error({name:t},n,a,s));if("skip"===l.action)return void i();"object"==typeof l.config&&(c.instanceConfig=u.extend(c.instanceConfig,l.config))}else if("skip"===l)return void i()}var f=c.instanceConfig.complete;c.instanceConfig.complete=function(e){_(f)&&f(e,c.file,c.inputElem),i()},o.parse(c.file,c.instanceConfig)}else _(e.complete)&&e.complete()}function i(){r.splice(0,1),a()}}}function s(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=y(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&_(this._config.beforeFirstChunk)){var a=this._config.beforeFirstChunk(e);void 0!==a&&(e=a)}this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+e;this._partialLine="";var u=this._handle.parse(i,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=u.meta.cursor;this._finished||(this._partialLine=i.substring(s-this._baseIndex),this._baseIndex=s),u&&u.data&&(this._rowCount+=u.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:u,workerId:o.WORKER_ID,finished:c});else if(_(this._config.chunk)&&!n){if(this._config.chunk(u,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);u=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(u.data),this._completeResults.errors=this._completeResults.errors.concat(u.errors),this._completeResults.meta=u.meta),this._completed||!c||!_(this._config.complete)||u&&u.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||u&&u.meta.paused||this._nextChunk(),u}this._halted=!0},this._sendError=function(e){_(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:o.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=o.RemoteChunkSize),s.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var a=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+a)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function l(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=o.LocalChunkSize),s.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var a=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,a)}var i=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function f(e){var t;s.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function d(e){s.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){s.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){s.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=x((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=x((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=x((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=x((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function h(e){var t,n,r,a=Math.pow(2,53),i=-a,u=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)(e[-+]?\d+)?\s*$/,s=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,c=this,l=0,f=0,d=!1,h=!1,m=[],g={data:[],errors:[],meta:{}};if(_(e.step)){var b=e.step;e.step=function(t){if(g=t,O())w();else{if(w(),0===g.data.length)return;l+=t.data.length,e.preview&&l>e.preview?n.abort():(g.data=g.data[0],b(g,c))}}}function x(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function w(){if(g&&r&&(j("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines)for(var t=0;t<g.data.length;t++)x(g.data[t])&&g.data.splice(t--,1);return O()&&function(){if(g)if(Array.isArray(g.data[0])){for(var t=0;O()&&t<g.data.length;t++)g.data[t].forEach(n);g.data.splice(0,1)}else g.data.forEach(n);function n(t,n){_(e.transformHeader)&&(t=e.transformHeader(t,n)),m.push(t)}}(),function(){if(!g||!e.header&&!e.dynamicTyping&&!e.transform)return g;function t(t,n){var r,a=e.header?{}:[];for(r=0;r<t.length;r++){var i=r,o=t[r];e.header&&(i=r>=m.length?"__parsed_extra":m[r]),e.transform&&(o=e.transform(o,i)),o=k(i,o),"__parsed_extra"===i?(a[i]=a[i]||[],a[i].push(o)):a[i]=o}return e.header&&(r>m.length?j("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+r,f+n):r<m.length&&j("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+r,f+n)),a}var n=1;return!g.data.length||Array.isArray(g.data[0])?(g.data=g.data.map(t),n=g.data.length):g.data=t(g.data,0),e.header&&g.meta&&(g.meta.fields=m),f+=n,g}()}function O(){return e.header&&0===m.length}function k(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(u.test(e)){var t=parseFloat(e);if(i<t&&t<a)return!0}return!1}(n)?parseFloat(n):s.test(n)?new Date(n):""===n?null:n):n;var r}function j(e,t,n,r){var a={type:e,code:t,message:n};void 0!==r&&(a.row=r),g.errors.push(a)}this.parse=function(a,i,u){var s=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(p(t)+"([^]*?)"+p(t),"gm"),r=(e=e.replace(n,"")).split("\r"),a=e.split("\n"),i=1<a.length&&a[0].length<r[0].length;if(1===r.length||i)return"\n";for(var o=0,u=0;u<r.length;u++)"\n"===r[u][0]&&o++;return o>=r.length/2?"\r\n":"\r"}(a,s)),r=!1,e.delimiter)_(e.delimiter)&&(e.delimiter=e.delimiter(a),g.meta.delimiter=e.delimiter);else{var c=function(t,n,r,a,i){var u,s,c,l;i=i||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var f=0;f<i.length;f++){var d=i[f],h=0,p=0,m=0;c=void 0;for(var g=new v({comments:a,delimiter:d,newline:n,preview:10}).parse(t),b=0;b<g.data.length;b++)if(r&&x(g.data[b]))m++;else{var y=g.data[b].length;p+=y,void 0!==c?0<y&&(h+=Math.abs(y-c),c=y):c=y}0<g.data.length&&(p/=g.data.length-m),(void 0===s||h<=s)&&(void 0===l||l<p)&&1.99<p&&(s=h,u=d,l=p)}return{successful:!!(e.delimiter=u),bestDelimiter:u}}(a,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(r=!0,e.delimiter=o.DefaultDelimiter),g.meta.delimiter=e.delimiter}var l=y(e);return e.preview&&e.header&&l.preview++,t=a,n=new v(l),g=n.parse(t,i,u),w(),d?{meta:{paused:!0}}:g||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,n.abort(),t=_(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?(d=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return h},this.abort=function(){h=!0,n.abort(),g.meta.aborted=!0,_(e.complete)&&e.complete(g),t=""}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(e){var t,n=(e=e||{}).delimiter,r=e.newline,a=e.comments,i=e.step,u=e.preview,s=e.fastMode,c=t=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof n||-1<o.BAD_DELIMITERS.indexOf(n))&&(n=","),a===n)throw new Error("Comment character same as delimiter");!0===a?a="#":("string"!=typeof a||-1<o.BAD_DELIMITERS.indexOf(a))&&(a=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var l=0,f=!1;this.parse=function(e,o,d){if("string"!=typeof e)throw new Error("Input must be a string");var h=e.length,v=n.length,m=r.length,g=a.length,b=_(i),y=[],x=[],w=[],O=l=0;if(!e)return P();if(s||!1!==s&&-1===e.indexOf(t)){for(var k=e.split(r),j=0;j<k.length;j++){if(w=k[j],l+=w.length,j!==k.length-1)l+=r.length;else if(d)return P();if(!a||w.substring(0,g)!==a){if(b){if(y=[],T(w.split(n)),B(),f)return P()}else T(w.split(n));if(u&&u<=j)return y=y.slice(0,u),P(!0)}}return P()}for(var E=e.indexOf(n,l),C=e.indexOf(r,l),A=new RegExp(p(c)+p(t),"g"),S=e.indexOf(t,l);;)if(e[l]!==t)if(a&&0===w.length&&e.substring(l,l+g)===a){if(-1===C)return P();l=C+m,C=e.indexOf(r,l),E=e.indexOf(n,l)}else{if(-1!==E&&(E<C||-1===C)){if(!(E<S)){w.push(e.substring(l,E)),l=E+v,E=e.indexOf(n,l);continue}var D=z(E,S,C);if(D&&void 0!==D.nextDelim){E=D.nextDelim,S=D.quoteSearch,w.push(e.substring(l,E)),l=E+v,E=e.indexOf(n,l);continue}}if(-1===C)break;if(w.push(e.substring(l,C)),R(C+m),b&&(B(),f))return P();if(u&&y.length>=u)return P(!0)}else for(S=l,l++;;){if(-1===(S=e.indexOf(t,S+1)))return d||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:y.length,index:l}),I();if(S===h-1)return I(e.substring(l,S).replace(A,t));if(t!==c||e[S+1]!==c){if(t===c||0===S||e[S-1]!==c){-1!==E&&E<S+1&&(E=e.indexOf(n,S+1)),-1!==C&&C<S+1&&(C=e.indexOf(r,S+1));var N=M(-1===C?E:Math.min(E,C));if(e[S+1+N]===n){w.push(e.substring(l,S).replace(A,t)),e[l=S+1+N+v]!==t&&(S=e.indexOf(t,l)),E=e.indexOf(n,l),C=e.indexOf(r,l);break}var F=M(C);if(e.substring(S+1+F,S+1+F+m)===r){if(w.push(e.substring(l,S).replace(A,t)),R(S+1+F+m),E=e.indexOf(n,l),S=e.indexOf(t,l),b&&(B(),f))return P();if(u&&y.length>=u)return P(!0);break}x.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:y.length,index:l}),S++}}else S++}return I();function T(e){y.push(e),O=l}function M(t){var n=0;if(-1!==t){var r=e.substring(S+1,t);r&&""===r.trim()&&(n=r.length)}return n}function I(t){return d||(void 0===t&&(t=e.substring(l)),w.push(t),l=h,T(w),b&&B()),P()}function R(t){l=t,T(w),w=[],C=e.indexOf(r,l)}function P(e){return{data:y,errors:x,meta:{delimiter:n,linebreak:r,aborted:f,truncated:!!e,cursor:O+(o||0)}}}function B(){i(P()),y=[],x=[]}function z(r,a,i){var o={nextDelim:void 0,quoteSearch:void 0},u=e.indexOf(t,a+1);if(a<r&&r<u&&(u<i||-1===i)){var s=e.indexOf(n,u);if(-1===s)return o;u<s&&(u=e.indexOf(t,u+1)),o=z(s,u,i)}else o={nextDelim:r,quoteSearch:a};return o}},this.abort=function(){f=!0},this.getCharIndex=function(){return l}}function m(e){var t=e.data,n=a[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){r=!0,g(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(_(n.userStep)){for(var o=0;o<t.results.data.length&&(n.userStep({data:t.results.data[o],errors:t.results.errors,meta:t.results.meta},i),!r);o++);delete t.results}else _(n.userChunk)&&(n.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!r&&g(t.workerId,t.results)}function g(e,t){var n=a[e];_(n.userComplete)&&n.userComplete(t),n.terminate(),delete a[e]}function b(){throw new Error("Not implemented.")}function y(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=y(e[n]);return t}function x(e,t){return function(){e.apply(t,arguments)}}function _(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===o.WORKER_ID&&n&&(o.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:o.WORKER_ID,results:o.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=o.parse(n.input,n.config);r&&t.postMessage({workerId:o.WORKER_ID,results:r,finished:!0})}}),(c.prototype=Object.create(s.prototype)).constructor=c,(l.prototype=Object.create(s.prototype)).constructor=l,(f.prototype=Object.create(f.prototype)).constructor=f,(d.prototype=Object.create(s.prototype)).constructor=d,o})?r.apply(t,a):r)||(e.exports=i)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(53);function a(e,t){if(null==e)return{};var n,a,i=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return f}));var r=n(27);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(r.useMemo)((function(){return function(e){t.forEach((function(t){return t(e)}))}}),t)}var i="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,o=i?r.useLayoutEffect:r.useEffect;function u(){var e=Object(r.useRef)(null);return[Object(r.useCallback)((function(t,n){e.current=setInterval(t,n)}),[]),Object(r.useCallback)((function(){null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}function s(e,t){var n=Object(r.useRef)();return Object(r.useMemo)((function(){var t=e(n.current);return n.current=t,t}),[].concat(t))}function c(){var e=Object(r.useRef)(null),t=Object(r.useCallback)((function(t){e.current=t}),[]);return[e,t]}var l={};function f(e,t){return Object(r.useMemo)((function(){if(t)return t;var n=null==l[e]?0:l[e]+1;return l[e]=n,e+"-"+n}),[e,t])}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((function(t,n){for(var r=0,a=Object.entries(n);r<a.length;r++){var i=a[r],o=i[0],u=i[1],s=t[o];null!=s&&(t[o]=s+e*u)}return t}),d({},t))}}var p=h(1),v=h(-1),m=Object.freeze({Translate:{toString:function(e){if(e){var t=e.x,n=e.y;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}}},Scale:{toString:function(e){if(e)return"scaleX("+e.scaleX+") scaleY("+e.scaleY+")"}},Transform:{toString:function(e){if(e)return[m.Translate.toString(e),m.Scale.toString(e)].join(" ")}},Transition:{toString:function(e){return e.property+" "+e.duration+"ms "+e.easing}}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({neg_:function(e){var t={x:Object(i.a)(e,"x","neg")};return r.a.runKernel(a.Vb,t)}})},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(6),a=n(14),i=n(2),o=n.n(i),u=n(13),s=n(3),c=n(9),l=n(381),f=n(15),d=n(16),h=n(29),p=n(619),v=n(93),m=function(){function e(t){Object(s.a)(this,e),this.series=t,this.array=t.values}return Object(c.a)(e,[{key:"toLowerCase",value:function(){var e=[];return this.array.map((function(t){e.push(t.toLowerCase())})),this.__create_new_sf_from(e,this.series)}},{key:"toUpperCase",value:function(){var e=[];return this.array.map((function(t){e.push(t.toUpperCase())})),this.__create_new_sf_from(e,this.series)}},{key:"capitalize",value:function(){var e=[];return this.array.map((function(t){var n=t.slice(0,1),r=t.slice(1),a="".concat(n.toUpperCase()).concat(r.toLowerCase());e.push(a)})),this.__create_new_sf_from(e,this.series)}},{key:"charAt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=[];this.array.map((function(n){t.push(n.charAt(e))}));var n=this.__create_new_sf_from(t,this.series);return n}},{key:"concat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(Array.isArray(e)){for(var n=[],r=0;r<e.length;r++){var a=this.array[r],i=e[r];1==t?n.push(a.concat(i)):n.push(i.concat(a))}var o=this.__create_new_sf_from(n,this.series);return o}var u=[];this.array.map((function(n){1==t?u.push(n.concat(e)):u.push(e.concat(n))}));var s=this.__create_new_sf_from(u,this.series);return s}},{key:"startsWith",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];this.array.map((function(n){t.push(n.startsWith(e))}));var n=this.__create_new_sf_from(t,this.series);return n}},{key:"endsWith",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];this.array.map((function(n){t.push(n.endsWith(e))}));var n=this.__create_new_sf_from(t,this.series);return n}},{key:"includes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];this.array.map((function(n){t.push(n.includes(e))}));var n=this.__create_new_sf_from(t,this.series);return n}},{key:"indexOf",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];this.array.map((function(n){t.push(n.indexOf(e))}));var n=this.__create_new_sf_from(t,this.series);return n}},{key:"lastIndexOf",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];this.array.map((function(n){t.push(n.lastIndexOf(e))}));var n=this.__create_new_sf_from(t,this.series);return n}},{key:"replace",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[];this.array.map((function(r){n.push(r.replace(e,t))}));var r=this.__create_new_sf_from(n,this.series);return r}},{key:"repeat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=[];this.array.map((function(n){t.push(n.repeat(e))}));var n=this.__create_new_sf_from(t,this.series);return n}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];this.array.map((function(n){t.push(n.search(e))}));var n=this.__create_new_sf_from(t,this.series);return n}},{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[];this.array.map((function(r){n.push(r.slice(e,t))}));var r=this.__create_new_sf_from(n,this.series);return r}},{key:"split",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",t=[];this.array.map((function(n){t.push(n.split(e))}));var n=this.__create_new_sf_from(t,this.series);return n}},{key:"substr",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[];this.array.map((function(r){n.push(r.substr(e,t))}));var r=this.__create_new_sf_from(n,this.series);return r}},{key:"substring",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[];this.array.map((function(r){n.push(r.substring(e,t))}));var r=this.__create_new_sf_from(n,this.series);return r}},{key:"trim",value:function(){var e=[];return this.array.map((function(t){e.push(t.trim())})),this.__create_new_sf_from(e,this.series)}},{key:"join",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=[];this.array.map((function(r){var a=e,i="".concat(r).concat(t).concat(a);n.push(i)}));var r=this.__create_new_sf_from(n,this.series);return r}},{key:"len",value:function(){var e=[];return this.array.map((function(t){e.push(t.length)})),this.__create_new_sf_from(e,this.series)}},{key:"__create_new_sf_from",value:function(e,t){return new E(e,{columns:t.column_names,index:t.index})}}]),e}(),g=n(365),b=n(363),y=n(244),x=new v.a,_=function(){function e(t){Object(s.a)(this,e),x.__in_object(t,"data","specify the data"),t.data instanceof E?this.data=t.data.values:this.data=t.data,this.format=t.format||null,this.keys={Y:4,m:2,H:2,M:2,S:2,b:3,d:2,"-":1},this.__in_format=["%Y-m-d%","%m-d-Y%","%m-d-Y H%M%S%"],this.__monthName=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.__weekName=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}return Object(c.a)(e,[{key:"preprocessed",value:function(){var e=null;this.format&&(e=this.generate_format()),this.date_list=[];for(var t=0;t<this.data.length;t++){var n=this.data[t];if(this.format&&!this.__in_format.includes(this.format)){var r=this.__apply_format(n,e),a=new Date(r);this.__is_validDate(a),this.date_list.push(a)}else if(this.is_timestamp(n)){var i=parseInt(n),o=new Date(i);this.__is_validDate(o),this.date_list.push(o)}else{var u=new Date(n);this.__is_validDate(u),this.date_list.push(u)}}}},{key:"__apply_format",value:function(e,t){var n="",r=0;for(var a in t){var i=t[a];0==a?n+=e.slice(0,i):a>4?n+=":"+e.slice(r,r+i):4==a?n+=" "+e.slice(r,r+i):a>0&&a<=2&&(n+="-"+e.slice(r,r+i)),r+=i}return n}},{key:"generate_format",value:function(){var e=this.format.split(""),t=this;return e.filter((function(e){return x.__key_in_object(t.keys,e)})).map((function(e){return t.keys[e]}))}},{key:"is_timestamp",value:function(e){var t=parseInt(e),n=String(t);return!(isNaN(t)||n.length<e.length)}},{key:"__is_validDate",value:function(e){if("Invalid Date"==e.toDateString())throw new Error("Invalid date, the date format not recognise")}},{key:"__date_ops",value:function(e){var t=this.date_list.map((function(t){return e(t)}));return new E(t=t)}},{key:"month",value:function(){return this.__date_ops((function(e){return e.getMonth()}))}},{key:"hour",value:function(){return this.__date_ops((function(e){return e.getHours()}))}},{key:"day",value:function(){return this.__date_ops((function(e){return e.getDay()}))}},{key:"year",value:function(){return this.__date_ops((function(e){return e.getFullYear()}))}},{key:"month_name",value:function(){var e=this;return this.__date_ops((function(t){return e.__monthName[t.getMonth()]}))}},{key:"weekdays",value:function(){var e=this;return this.__date_ops((function(t){return e.__weekName[t.getDay()]}))}},{key:"monthday",value:function(){return this.__date_ops((function(e){return e.getDate()}))}},{key:"seconds",value:function(){return this.__date_ops((function(e){return e.getSeconds()}))}},{key:"minutes",value:function(){return this.__date_ops((function(e){return e.getMinutes()}))}}]),e}(),w=n(364),O=n(183),k=new v.a,j=new y.a,E=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var a;return Object(s.a)(this,n),Array.isArray(e[0])||k.__is_object(e[0])?(e=k.__convert_2D_to_1D(e),a=t.call(this,e,r)):a=t.call(this,e,r),Object(l.a)(a)}return Object(c.a)(n,[{key:"tensor",get:function(){return h.l(this.values).asType(this.dtypes[0])}},{key:"head",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;if(e>this.shape[0]||e<1)return new n(this.values,{columns:this.column_names});var t=this.values.slice(0,e);return new n(t,{columns:this.column_names})}},{key:"tail",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;if(e>this.values.length||e<1)return new n(this.values,{columns:this.column_names});var t=this.values.slice(this.shape[0]-e),r=this.index.slice(this.shape[0]-e),a=new n(t,{columns:this.column_names,index:r});return a}},{key:"sample",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,r,a,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:5,n=i.length>1&&void 0!==i[1]?i[1]:1,!(t>this.shape[0])){e.next=4;break}throw new Error("Sample size n cannot be bigger than size of dataset");case 4:if(!(t<-1||0==t)){e.next=6;break}throw new Error("Sample size cannot be less than -1 or 0");case 6:return t=-1===t?this.shape[0]:t,e.next=9,h.c.array(this.index).shuffle(t,n).take(t).toArray();case 9:return r=e.sent,a=this.iloc(r),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(e){return k.__is_number(e)?new n(this.row_data_tensor.add(e).arraySync(),{columns:this.column_names}):this.__check_series_op_compactibility?new n(this.tensor.add(e.tensor).arraySync(),{columns:this.column_names}):void 0}},{key:"sub",value:function(e){if(k.__is_number(e)){var t=this.tensor.sub(e).arraySync();return new n(t,{columns:this.column_names})}if(this.__check_series_op_compactibility)return new n(this.tensor.sub(e.tensor).arraySync(),{columns:this.column_names})}},{key:"mul",value:function(e){if(k.__is_number(e)){var t=this.tensor.mul(e).arraySync();return new n(t,{columns:this.column_names})}if(this.__check_series_op_compactibility)return new n(this.tensor.mul(e.tensor).arraySync(),{columns:this.column_names})}},{key:"div",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(k.__is_number(e)){var r=this.tensor.div(e);return new n(r.arraySync(),{columns:this.column_names,dtypes:[r.dtype]})}if(this.__check_series_op_compactibility){var a;a=t?"float32":"int32";var i=this.tensor.asType(a),o=e.tensor.asType(a),u=i.div(o);return new n(u.arraySync(),{columns:this.column_names,dtypes:[u.dtype]})}}},{key:"pow",value:function(e){return k.__is_number(e)?new n(this.tensor.pow(e).arraySync(),{columns:this.column_names}):this.__check_series_op_compactibility?new n(this.tensor.pow(e.tensor).arraySync(),{columns:this.column_names}):void 0}},{key:"mod",value:function(e){return k.__is_number(e)?new n(this.tensor.mod(e).arraySync(),{columns:this.column_names}):this.__check_series_op_compactibility?new n(this.tensor.mod(e.tensor).arraySync(),{columns:this.column_names}):void 0}},{key:"mean",value:function(){k._throw_str_dtype_error(this,"mean");var e=k._remove_nans(this.values),t=h.l(e).mean().arraySync();return t}},{key:"median",value:function(){k._throw_str_dtype_error(this,"median");var e=k._remove_nans(this.values);return Object(p.a)(e)}},{key:"mode",value:function(){k._throw_str_dtype_error(this,"median");var e=k._remove_nans(this.values);return Object(p.b)(e)}},{key:"min",value:function(){k._throw_str_dtype_error(this,"min");var e=this.row_data_tensor.min().arraySync();return e}},{key:"max",value:function(){k._throw_str_dtype_error(this,"max");var e=this.row_data_tensor.max().arraySync();return e}},{key:"sum",value:function(){if(k._throw_str_dtype_error(this,"sum"),"boolean"==this.dtypes[0]){var e=this.row_data_tensor.sum().arraySync();return Number(e)}var t=this.row_data_tensor.sum().arraySync();return Number(t.toFixed(5))}},{key:"count",value:function(){return k.__count_nan(this.values,!0,!0)}},{key:"maximum",value:function(e){if(k.__is_number(e)){var t=this.row_data_tensor.maximum(e);return new n(t.arraySync(),{columns:this.column_names,dtypes:t.dtype,index:this.index})}if(this.__check_series_op_compactibility){var r=this.row_data_tensor,a=e.tensor;return new n(r.maximum(a).arraySync(),{columns:this.column_names,index:this.index})}}},{key:"minimum",value:function(e){if(k.__is_number(e)){var t=this.row_data_tensor.minimum(e);return new n(t.arraySync(),{columns:this.column_names,dtypes:t.dtype,index:this.index})}if(this.__check_series_op_compactibility){var r=this.tensor,a=e.tensor;return new n(r.minimum(a).arraySync(),{columns:this.column_names,index:this.index})}}},{key:"round",value:function(e){return k.__is_undefined(e)?new n(h.i(this.row_data_tensor).arraySync(),{columns:this.column_names,index:this.index}):new n(k.__round(this.values,e,!0),{columns:this.column_names,index:this.index})}},{key:"std",value:function(){k._throw_str_dtype_error(this,"std");var e=k._remove_nans(this.values);return Object(p.c)(e)}},{key:"var",value:function(){k._throw_str_dtype_error(this,"std");var e=k._remove_nans(this.values);return Object(p.d)(e)}},{key:"isna",value:function(){return new n(this.__isna(),{index:this.index,columns:this.column_names,dtypes:["boolean"]})}},{key:"fillna",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=["value","inplace"];if(k._throw_wrong_params_error(e,t),e.inplace=e.inplace||!1,!("value"in e))throw Error("Value Error: Must specify value to replace with");var r=[];if(this.values.forEach((function(t){isNaN(t)&&"string"!=typeof t?r.push(e.value):r.push(t)})),!e.inplace){var a=new n(r,{columns:this.column_names,index:this.index,dtypes:this.dtypes});return a}this.data=r}},{key:"sort_values",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=["inplace","ascending"];k._throw_wrong_params_error(t,r),"ascending"in t||(t.ascending=!0),"inplace"in t||(t.inplace=!1);var i=[],o=Object(a.a)(this.values),u=k.__range(0,this.index.length-1),s=k._sort_arr_with_index(u,o,this.dtypes[0]);if(s.forEach((function(t){i.push(e.values[t])})),t.ascending&&(i=i.reverse(),s=s.reverse()),!t.inplace){var c=new n(i,{columns:this.column_names,index:s});return c}this.data=i,this.__set_index(s)}},{key:"copy",value:function(){return new n(Object(a.a)(this.values),{columns:Object(a.a)(this.column_names),index:Object(a.a)(this.index),dtypes:Object(a.a)(this.dtypes[0])})}},{key:"describe",value:function(){if("string"==this.dtypes[0])return null;return new n([this.count(),this.mean(),this.std(),this.min(),this.median(),this.max(),this.var()],{columns:this.columns,index:["count","mean","std","min","median","max","variance"]})}},{key:"reset_index",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=["inplace"];if(k._throw_wrong_params_error(e,t),e.inplace=e.inplace||!1,!e.inplace){var n=this.copy();return n.__reset_index(),n}this.__reset_index()}},{key:"set_index",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=["index","inplace"];if(k._throw_wrong_params_error(e,t),e.inplace=e.inplace||!1,!("index"in e))throw Error("Index ValueError: You must specify an array of index");if(e.index.length!=this.index.length)throw Error("Index LengthError: Lenght of new Index array ".concat(e.index.length," must match lenght of existing index ").concat(this.index.length));if(!e.inplace){var n=this.copy();return n.__set_index(e.index),n}this.index_arr=e.index}},{key:"__check_series_op_compactibility",value:function(e){if(k.__is_undefined(e.series))throw Error("param [other] must be a Series or a single value that can be broadcasted");if(e.values.length!=this.values.length)throw Error("Shape Error: Series shape do not match");if("float"!=this.dtypes[0]||"int"!=this.dtypes[0])throw Error("dtype Error: Cannot perform operation on type ".concat(this.dtypes[0]," with type ").concat(e.dtypes[0]));if("float"!=e.dtypes[0]||"int"!=e.dtypes[0])throw Error("dtype Error: Cannot perform operation on type ".concat(e.dtypes[0]," with type ").concat(this.dtypes[0]));return!0}},{key:"map",value:function(e){var t=k.__is_function(e);return new n(this.data.map((function(n){if(t)return e(n);if(k.__is_object(e))return n in e?e[n]:NaN;throw new Error("callable must either be a function or an object")})),{columns:this.column_names,index:this.index})}},{key:"apply",value:function(e){if(!k.__is_function(e))throw new Error("the arguement most be a function");return new n(this.data.map((function(t){return e(t)})),{columns:this.column_names,index:this.index})}},{key:"unique",value:function(){var e=new Set(this.values);return new n(Array.from(e))}},{key:"nunique",value:function(){return this.unique().values.length}},{key:"value_counts",value:function(){for(var e=this.values,t={},r=0;r<e.length;r++){var a=e[r];a in t?t[a]+=1:t[a]=1}var i=Object.keys(t).map((function(e){return parseInt(e)?parseInt(e):e}));return new n(Object.values(t),{index:i})}},{key:"abs",value:function(){var e=this.row_data_tensor.abs().arraySync();return new n(k.__round(e,2,!0))}},{key:"cumsum",value:function(){return this.__cum_ops("sum")}},{key:"cummin",value:function(){return this.__cum_ops("min")}},{key:"cummax",value:function(){return this.__cum_ops("max")}},{key:"cumprod",value:function(){return this.__cum_ops("prod")}},{key:"lt",value:function(e){return this.__bool_ops(e,"lt")}},{key:"gt",value:function(e){return this.__bool_ops(e,"gt")}},{key:"le",value:function(e){return this.__bool_ops(e,"le")}},{key:"ge",value:function(e){return this.__bool_ops(e,"ge")}},{key:"ne",value:function(e){return this.__bool_ops(e,"ne")}},{key:"eq",value:function(e){return this.__bool_ops(e,"eq")}},{key:"replace",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=["replace","with","inplace"];if(k._throw_wrong_params_error(e,t),e.inplace=e.inplace||!1,!("replace"in e))throw Error("Params Error: Must specify param 'replace'");if(!("with"in e))throw Error("Params Error: Must specify param 'with'");var r=[],a=this.values;if(a.forEach((function(t){t==e.replace?r.push(e.with):r.push(t)})),!e.inplace){var i=new n(r,{index:this.index,columns:this.columns,dtypes:this.dtypes});return i}this.data=r}},{key:"dropna",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=["inplace"];k._throw_wrong_params_error(e,t),e.inplace=e.inplace||!1;var r=this.values,a=this.index,i=[],o=[],u=this.isna().values;if(u.forEach((function(e,t){e||(i.push(r[t]),o.push(a[t]))})),!e.inplace){var s=new n(i,{columns:this.column_names,index:o,dtypes:this.dtypes});return s}this.index_arr=o,this.data=i}},{key:"argsort",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.sort_values({ascending:e}).index,r=new n(t);return r}},{key:"argmax",value:function(){return this.row_data_tensor.argMax().arraySync()}},{key:"argmin",value:function(){return this.row_data_tensor.argMin().arraySync()}},{key:"dtype",get:function(){return this.dtypes[0]}},{key:"drop_duplicates",value:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=["inplace","keep"];k._throw_wrong_params_error(r,a),r.inplace=r.inplace||!1,r.keep=r.keep||"first","last"==r.keep?(e=this.values.reverse(),t=this.index.reverse()):(e=this.values,t=this.index);var i=[],o=[];if(e.forEach((function(e,n){o.includes(e)||(i.push(t[n]),o.push(e))})),"last"==r.keep&&(o=o.reverse(),i=i.reverse()),!r.inplace){var u=new n(o,{index:i,columns:this.column_names,dtypes:this.dtypes});return u}this.data=o,this.index_arr=i}},{key:"toString",value:function(){var e,t,n=j.get_max_row,r=[],a={},i=[""].concat(this.columns);this.values.length>n?(t=this.values.slice(0,n),e=this.index.slice(0,n)):(t=this.values,e=this.index),e.forEach((function(e,n){var a=[e].concat(t[n]);r.push(a)})),a[0]=10,a[1]={width:20,truncate:20};var o=[i].concat(r);return Object(b.table)(o,{columns:a})}},{key:"__bool_ops",value:function(e,t){var r,i=this.values;if("number"==typeof e)r=Object(a.a)(i).fill(e);else{if(!(e instanceof n))throw new Error("Value Error: 'other' must be an instance of Series");r=e.values}if(i.length!==r.length)throw new Error("Length Error: Both series must be of the same length");for(var o=[],u=0;u<i.length;u++){var s=i[u],c=r[u],l=null;switch(t){case"lt":l=s<c,o.push(l);break;case"gt":l=s>c,o.push(l);break;case"le":l=s<=c,o.push(l);break;case"ge":l=s>=c,o.push(l);break;case"ne":l=s!=c,o.push(l);break;case"eq":l=s===c,o.push(l)}}return new n(o)}},{key:"__cum_ops",value:function(e){for(var t=this.values,r=t[0],a=[r],i=1;i<t.length;i++){var o=t[i];switch(e){case"max":o>r?(a.push(o),r=o):a.push(r);break;case"min":o<r?(a.push(o),r=o):a.push(r);break;case"sum":r+=o,a.push(r);break;case"prod":r*=o,a.push(r)}}return new n(a)}},{key:"astype",value:function(e){var t=["float32","int32","string","boolean"];if(!e)throw Error("Value Error: Please specify dtype to cast to");if(!t.includes(e))throw Error("dtype ".concat(e," not supported. dtype must be one of ").concat(t));var r=this.values,a=[];switch(e){case"float32":r.forEach((function(e){a.push(Number(e))}));break;case"int32":r.forEach((function(e){a.push(Number(Number(e).toFixed()))}));break;case"string":r.forEach((function(e){a.push(String(e))}));break;case"boolean":r.forEach((function(e){a.push(Boolean(e))}))}return new n(a,{dtypes:e,index:this.index})}},{key:"str",get:function(){var e=this.values;if("string"!=this.dtypes[0]){var t=[];e.forEach((function(e){t.push(String(e))}));var r=new n(t,{columns:this.column_names,index:this.index});return new m(r)}return new m(this)}},{key:"dt",get:function(){var e=new _({data:this});return e.preprocessed(),e}},{key:"print",value:function(){console.log(this+"")}},{key:"plot",value:function(e){return new w.a(this,e)}},{key:"iloc",value:function(e){var t={};t.rows=e,t.type="iloc";var a=Object(O.a)(this,t),i=Object(r.a)(a,3);return new n(i[0],{columns:i[1],index:i[2]})}},{key:"append",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t){var r=this.copy();if(Array.isArray(e))e.forEach((function(e,t){r.data.push(e),r.index_arr.push(t)}));else if(e instanceof n){var a=e.values,i=e.index;a.forEach((function(e,t){r.data.push(e),r.index_arr.push(i[t])}))}else r.data.push(e),r.index_arr.push(0);return r}var o=this;if(Array.isArray(e))e.forEach((function(e,t){o.data.push(e),o.index_arr.push(t)}));else if(e instanceof n){var u=e.values,s=e.index;u.forEach((function(e,t){o.data.push(e),o.index_arr.push(s[t])}))}else o.data.push(e),o.index_arr.push(0)}}]),n}(g.a)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=new Date,a=new Date;function i(e,t,n,o){function u(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return u.floor=function(t){return e(t=new Date(+t)),t},u.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},u.round=function(e){var t=u(e),n=u.ceil(e);return e-t<n-e?t:n},u.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},u.range=function(n,r,a){var i,o=[];if(n=u.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return o;do{o.push(i=new Date(+n)),t(n,a),e(n)}while(i<n&&n<r);return o},u.filter=function(n){return i((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(u.count=function(t,i){return r.setTime(+t),a.setTime(+i),e(r),e(a),Math.floor(n(r,a))},u.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?u.filter(o?function(t){return o(t)%e===0}:function(t){return u.count(0,t)%e===0}):u:null}),u}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(123),s=n(11);var c=Object(s.b)({concat_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(o.b)(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=Object(i.b)(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return Object(u.a)(n[0]);var s=n,c={axis:t};return r.a.runKernel(a.B,s,c)}})},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"i",(function(){return g})),n.d(t,"h",(function(){return b})),n.d(t,"g",(function(){return y}));var r=n(6),a=n(14);function i(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5?arguments[5]:void 0,u=e[3],c=[].concat(Object(a.a)(t),[u]),l=y(i);return s(e,c,n,o,r,null,null,l)}function o(e,t,n,a,i,o){var u,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",l=f(t),d=Object(r.a)(l,2),h=d[0],p=d[1];if("channelsLast"===c)u=[h,p,e[3],e[3]];else{if("channelsFirst"!==c)throw new Error("Unknown dataFormat ".concat(c));u=[h,p,e[1],e[1]]}return s(e,u,n,a,i,o,!1,c)}function u(e,t,n,a,i,o){var u,s,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC",f=d(t),h=Object(r.a)(f,3),p=h[0],v=h[1],m=h[2];if("NDHWC"===l)s="channelsLast",u=[p,v,m,e[4],e[4]];else{if("NCDHW"!==l)throw new Error("Unknown dataFormat ".concat(l));s="channelsFirst",u=[p,v,m,e[1],e[1]]}return c(e,u,n,a,i,!1,s,o)}function s(e,t,n,a,i,o){var u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",c=-1,l=-1,d=-1,v=-1;if("channelsLast"===s){var m=Object(r.a)(e,4);c=m[0],l=m[1],d=m[2],v=m[3]}else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));var g=Object(r.a)(e,4);c=g[0],v=g[1],l=g[2],d=g[3]}var b,y=Object(r.a)(t,4),x=y[0],_=y[1],w=y[3],O=f(n),k=Object(r.a)(O,2),j=k[0],E=k[1],C=f(a),A=Object(r.a)(C,2),S=A[0],D=A[1],N=h(x,S),F=h(_,D),T=p(i,l,d,j,E,N,F,o,s),M=T.padInfo,I=T.outHeight,R=T.outWidth,P=u?w*v:w;return"channelsFirst"===s?b=[c,P,I,R]:"channelsLast"===s&&(b=[c,I,R,P]),{batchSize:c,dataFormat:s,inHeight:l,inWidth:d,inChannels:v,outHeight:I,outWidth:R,outChannels:P,padInfo:M,strideHeight:j,strideWidth:E,filterHeight:x,filterWidth:_,effectiveFilterHeight:N,effectiveFilterWidth:F,dilationHeight:S,dilationWidth:D,inShape:e,outShape:b,filterShape:t}}function c(e,t,n,a,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",s=arguments.length>7?arguments[7]:void 0,c=-1,l=-1,f=-1,p=-1,m=-1;if("channelsLast"===u){var g=Object(r.a)(e,5);c=g[0],l=g[1],f=g[2],p=g[3],m=g[4]}else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));var b=Object(r.a)(e,5);c=b[0],m=b[1],l=b[2],f=b[3],p=b[4]}var y,x=Object(r.a)(t,5),_=x[0],w=x[1],O=x[2],k=x[4],j=d(n),E=Object(r.a)(j,3),C=E[0],A=E[1],S=E[2],D=d(a),N=Object(r.a)(D,3),F=N[0],T=N[1],M=N[2],I=h(_,F),R=h(w,T),P=h(O,M),B=v(i,l,f,p,C,A,S,I,R,P,s),z=B.padInfo,L=B.outDepth,U=B.outHeight,W=B.outWidth,V=o?k*m:k;return"channelsFirst"===u?y=[c,V,L,U,W]:"channelsLast"===u&&(y=[c,L,U,W,V]),{batchSize:c,dataFormat:u,inDepth:l,inHeight:f,inWidth:p,inChannels:m,outDepth:L,outHeight:U,outWidth:W,outChannels:V,padInfo:z,strideDepth:C,strideHeight:A,strideWidth:S,filterDepth:_,filterHeight:w,filterWidth:O,effectiveFilterDepth:I,effectiveFilterHeight:R,effectiveFilterWidth:P,dilationDepth:F,dilationHeight:T,dilationWidth:M,inShape:e,outShape:y,filterShape:t}}function l(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=h(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}function f(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function d(e){return"number"===typeof e?[e,e,e]:e}function h(e,t){return t<=1?e:e+(e-1)*(t-1)}function p(e,t,n,r,a,i,o,u,s){var c,f,d;if("number"===typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var h=function(e,t,n,r,a){null==r&&(r=l(e,t,n));var i=e[0],o=e[1];return[m((i-t+2*r)/n+1,a),m((o-t+2*r)/n+1,a)]}([t,n],i,r,e,u);f=h[0],d=h[1]}else if("same"===e){f=Math.ceil(t/r),d=Math.ceil(n/a);var p=Math.max(0,(f-1)*r+i-t),v=Math.max(0,(d-1)*a+o-n),g=Math.floor(p/2),b=p-g,y=Math.floor(v/2);c={top:g,bottom:b,left:y,right:v-y,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},f=Math.ceil((t-i+1)/r),d=Math.ceil((n-o+1)/a);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));var x="channelsLast"===s?e[1][0]:e[2][0],_="channelsLast"===s?e[1][1]:e[2][1],w="channelsLast"===s?e[2][0]:e[3][0],O="channelsLast"===s?e[2][1]:e[3][1];c={top:x,bottom:_,left:w,right:O,type:0===x&&0===_&&0===w&&0===O?"VALID":"EXPLICIT"},f=m((t-i+x+_)/r+1,u),d=m((n-o+w+O)/a+1,u)}return{padInfo:c,outHeight:f,outWidth:d}}function v(e,t,n,r,a,i,o,u,s,c,f){var d,h,p,v;if("number"===typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var g=function(e,t,n,r,a,i){null==a&&(a=l(e,t,r));var o=e[0],u=e[1],s=e[2];return[m((o-t+2*a)/r+1,i),m((u-t+2*a)/r+1,i),m((s-t+2*a)/r+1,i),n]}([t,n,r,1],u,1,a,e,f);h=g[0],p=g[1],v=g[2]}else if("same"===e){var b=((h=Math.ceil(t/a))-1)*a+u-t,y=((p=Math.ceil(n/i))-1)*i+s-n,x=((v=Math.ceil(r/o))-1)*o+c-r,_=Math.floor(b/2),w=b-_,O=Math.floor(y/2),k=y-O,j=Math.floor(x/2);d={top:O,bottom:k,left:j,right:x-j,front:_,back:w,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: ".concat(e));d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},h=Math.ceil((t-u+1)/a),p=Math.ceil((n-s+1)/i),v=Math.ceil((r-c+1)/o)}return{padInfo:d,outDepth:h,outHeight:p,outWidth:v}}function m(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function g(e){var t=f(e),n=Object(r.a)(t,3),a=n[0],i=n[1],o=n[2];return 1===a&&1===i&&1===o}function b(e,t){return g(e)||g(t)}function y(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return u}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function i(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(u){a={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return u}));var r=1e3,a=6e4,i=36e5,o=864e5,u=6048e5},function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"===typeof e||"number"===typeof e)a+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}t.a=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(64);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";function r(e,t,n){return e.fields=t||[],e.fname=n,e}function a(e){return 1===e.length?i(e[0]):o(e)}n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return y})),n.d(t,"j",(function(){return _})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return w}));var i=function(e){return function(t){return t[e]}},o=function(e){var t=e.length;return function(n){for(var r=0;r<t;++r)n=n[e[r]];return n}};function u(e){throw Error(e)}function s(e){var t,n,r,a=[],i=e.length,o=null,s=0,c="";function l(){a.push(c+e.substring(t,n)),c="",t=n+1}for(e+="",t=n=0;n<i;++n)if("\\"===(r=e[n]))c+=e.substring(t,n),c+=e.substring(++n,++n),t=n;else if(r===o)l(),o=null,s=-1;else{if(o)continue;t===s&&'"'===r||t===s&&"'"===r?(t=n+1,o=r):"."!==r||s?"["===r?(n>t&&l(),s=t=n+1):"]"===r&&(s||u("Access path missing open bracket: "+e),s>0&&l(),s=0,t=n+1):n>t?l():t=n+1}return s&&u("Access path missing closing bracket: "+e),o&&u("Access path missing closing quote: "+e),n>t&&(n++,l()),a}function c(e,t,n){var i=s(e);return e=1===i.length?i[0]:e,r((n&&n.get||a)(i),[e],t||e)}c("id");var l=r((function(e){return e}),[],"identity");r((function(){return 0}),[],"zero"),r((function(){return 1}),[],"one"),r((function(){return!0}),[],"true"),r((function(){return!1}),[],"false");var f=Array.isArray;function d(e){return e===Object(e)}function h(e){return null==e||""===e?null:+e}function p(e){return"function"===typeof e}function v(e){for(var t,n,r=1,a=arguments.length;r<a;++r)for(n in t=arguments[r])e[n]=t[n];return e}var m=Object.prototype.hasOwnProperty;function g(e,t){return m.call(e,t)}function b(e){return f(e)?"["+e.map(b)+"]":d(e)||"string"===typeof e?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function y(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e}var x=function(e){return function(e){return"number"===typeof e}(e)||function(e){return"[object Date]"===Object.prototype.toString.call(e)}(e)?e:Date.parse(e)};function _(e,t){return t=t||x,null==e||""===e?null:t(e)}function w(e){return null==e||""===e?null:e+""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0),n(428);var r=n(797),a=n(859),i=n(860),o=n(424),u=n(548),s=n(861),c=n(314),l=n(862),f=n(864),d=n(865),h=n(866),p=n(313),v=n(867);t.version_vis=v.version;var m={barchart:r.barchart,table:c.table,histogram:o.histogram,linechart:u.linechart,scatterplot:s.scatterplot,confusionMatrix:a.confusionMatrix,heatmap:i.heatmap};t.render=m;var g={accuracy:p.accuracy,perClassAccuracy:p.perClassAccuracy,confusionMatrix:p.confusionMatrix};t.metrics=g;var b={history:l.history,fitCallbacks:l.fitCallbacks,perClassAccuracy:d.perClassAccuracy,valuesDistribution:h.valuesDistribution,layer:f.layer,modelSummary:f.modelSummary};t.show=b;var y=n(546);t.visor=y.visor,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(545))},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ie})),n.d(t,"b",(function(){return ge})),n.d(t,"c",(function(){return Oe})),n.d(t,"d",(function(){return Ae})),n.d(t,"e",(function(){return D})),n.d(t,"f",(function(){return $})),n.d(t,"g",(function(){return q})),n.d(t,"h",(function(){return M})),n.d(t,"i",(function(){return H})),n.d(t,"j",(function(){return Le})),n.d(t,"k",(function(){return ze})),n.d(t,"l",(function(){return We})),n.d(t,"m",(function(){return ve})),n.d(t,"n",(function(){return me}));var r=n(27),a=n.n(r),i=n(606),o=n(54),u={display:"none"};function s(e){var t=e.id,n=e.value;return a.a.createElement("div",{id:t,style:u},n)}var c={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function l(e){var t=e.id,n=e.announcement;return a.a.createElement("div",{id:t,style:c,role:"status","aria-live":"assertive","aria-atomic":!0},n)}var f,d={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},h={onDragStart:function(e){return"Picked up draggable item "+e+"."},onDragOver:function(e,t){return t?"Draggable item "+e+" was moved over droppable area "+t+".":"Draggable item "+e+" is no longer over a droppable area."},onDragEnd:function(e,t){return t?"Draggable item "+e+" was dropped over droppable area "+t:"Draggable item "+e+" was dropped."},onDragCancel:function(e){return"Dragging was cancelled. Draggable item "+e+" was dropped."}};!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(f||(f={}));var p=function(e){return v(e,(function(e,t){return e<t}))};function v(e,t){if(0===e.length)return-1;for(var n=e[0],r=0,a=1;a<e.length;a++)t(e[a],n)&&(r=a,n=e[a]);return r}function m(){}function g(e,t,n,r,a,i,o){try{var u=e[i](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,a)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function x(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function O(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function k(e,t){return x(t,[e].map(O))}var j=Object(r.createContext)({activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,activeNodeClientRect:null,activators:[],ariaDescribedById:{draggable:""},containerNodeRect:null,dispatch:m,draggableNodes:{},droppableRects:new Map,droppableContainers:{},over:null,overlayNode:{nodeRef:{current:null},rect:null,setRef:m},scrollableAncestors:[],scrollableAncestorRects:[],recomputeLayouts:m,windowRect:null,willRecomputeLayouts:!1}),E=Object.freeze({x:0,y:0});function C(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function A(e){if(function(e){var t;return(null==(t=window)?void 0:t.TouchEvent)&&e instanceof TouchEvent}(e)){if(e.touches&&e.touches.length){var t=e.touches[0];return{x:t.clientX,y:t.clientY}}if(e.changedTouches&&e.changedTouches.length){var n=e.changedTouches[0];return{x:n.clientX,y:n.clientY}}}return function(e){var t;return(null==(t=window)?void 0:t.MouseEvent)&&e instanceof MouseEvent||e.type.includes("mouse")}(e)?{x:e.clientX,y:e.clientY}:{x:0,y:0}}function S(e,t,n){return void 0===t&&(t=e.offsetLeft),void 0===n&&(n=e.offsetTop),{x:t+.5*e.width,y:n+.5*e.height}}var D=function(e,t){var n=S(t,t.left,t.top),r=e.map((function(e){return C(S(e[1]),n)})),a=p(r);return e[a]?e[a][0]:null};function N(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((function(t,n){return b({},t,{top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x,offsetLeft:t.offsetLeft+e*n.x,offsetTop:t.offsetTop+e*n.y})}),b({},t))}}var F,T=N(1);function M(e){var t=[];return e?function e(n){return n?n instanceof Document&&null!=n.scrollingElement?(t.push(n.scrollingElement),t):!(n instanceof HTMLElement)||n instanceof SVGElement?t:(function(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return null!=["overflow","overflowX","overflowY"].find((function(e){var r=t[e];return"string"===typeof r&&n.test(r)}))}(n)&&t.push(n),e(n.parentNode)):t}(e.parentNode):t}function I(e){return o.c?e===document.scrollingElement||e instanceof Document?window:e instanceof HTMLElement?e:null:null}function R(e){return e instanceof Window?{x:e.scrollX,y:e.scrollY}:{x:e.scrollLeft,y:e.scrollTop}}function P(e){var t={x:0,y:0},n={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(F||(F={}));var B={x:.2,y:.2};function z(e,t,n,r,a){var i=n.top,u=n.left,s=n.right,c=n.bottom;void 0===r&&(r=10),void 0===a&&(a=B);var l,f=e.clientHeight,d=e.clientWidth,h=(l=e,o.c&&l&&l===document.scrollingElement?{top:0,left:0,right:d,bottom:f,width:d,height:f}:t),p=P(e),v=p.isTop,m=p.isBottom,g=p.isLeft,b=p.isRight,y={x:0,y:0},x={x:0,y:0},_=h.height*a.y,w=h.width*a.x;return!v&&i<=h.top+_?(y.y=F.Backward,x.y=r*Math.abs((h.top+_-i)/_)):!m&&c>=h.bottom-_&&(y.y=F.Forward,x.y=r*Math.abs((h.bottom-_-c)/_)),!b&&s>=h.right-w?(y.x=F.Forward,x.x=r*Math.abs((h.right-w-s)/w)):!g&&u<=h.left+w&&(y.x=F.Backward,x.x=r*Math.abs((h.left+w-u)/w)),{direction:y,speed:x}}function L(e){if(e===document.scrollingElement){var t=window,n=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}var a=e.getBoundingClientRect();return{top:a.top,left:a.left,right:a.right,bottom:a.bottom,width:e.clientWidth,height:e.clientHeight}}function U(e){return e.reduce((function(e,t){return Object(o.b)(e,R(t))}),E)}function W(e,t,n){if(void 0===n&&(n=E),!e||!(e instanceof HTMLElement))return n;var r={x:n.x+e.offsetLeft,y:n.y+e.offsetTop};return e.offsetParent===t?r:W(e.offsetParent,t,r)}function V(e){var t=e.offsetWidth,n=e.offsetHeight,r=W(e,null),a=r.x;return{width:t,height:n,offsetTop:r.y,offsetLeft:a}}function q(e){if(e instanceof Window){var t=window.innerWidth,n=window.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n,offsetTop:0,offsetLeft:0}}var r=V(e),a=r.offsetTop,i=r.offsetLeft,o=e.getBoundingClientRect(),u=o.width,s=o.height,c=o.top,l=o.bottom,f=o.left;return{width:u,height:s,top:c,bottom:l,right:o.right,left:f,offsetTop:a,offsetLeft:i}}function H(e){var t=V(e),n=t.width,r=t.height,a=t.offsetTop,i=t.offsetLeft,o=U(M(e)),u=a-o.y,s=i-o.x;return{width:n,height:r,top:u,bottom:u+r,right:s+n,left:s,offsetTop:a,offsetLeft:i}}function G(e){return"top"in e}function K(e,t,n){return void 0===t&&(t=e.offsetLeft),void 0===n&&(n=e.offsetTop),[{x:t,y:n},{x:t+e.width,y:n},{x:t,y:n+e.height},{x:t+e.width,y:n+e.height}]}var $=function(e,t){var n=K(t,t.left,t.top),r=e.map((function(e){var t=e[1],r=K(t,G(t)?t.left:void 0,G(t)?t.top:void 0),a=n.reduce((function(e,t,n){return e+C(r[n],t)}),0);return Number((a/4).toFixed(4))})),a=p(r);return e[a]?e[a][0]:null};var X=function(e,t){var n=e.map((function(e){return function(e,t){var n=Math.max(t.top,e.offsetTop),r=Math.max(t.left,e.offsetLeft),a=Math.min(t.left+t.width,e.offsetLeft+e.width),i=Math.min(t.top+t.height,e.offsetTop+e.height),o=a-r,u=i-n;if(r<a&&n<i){var s=t.width*t.height,c=e.width*e.height,l=o*u;return Number((l/(s+c-l)).toFixed(4))}return 0}(e[1],t)})),r=v(n,(function(e,t){return e>t}));return n[r]<=0?null:e[r]?e[r][0]:null};function Y(e){return e instanceof HTMLElement?e.ownerDocument:document}function J(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},lastEvent:null,nodes:{},translate:{x:0,y:0}},droppable:{containers:{}}}}function Q(e,t){switch(t.type){case f.DragStart:return b({},e,{draggable:b({},e.draggable,{initialCoordinates:t.initialCoordinates,active:t.active,lastEvent:f.DragStart})});case f.DragMove:return e.draggable.active?b({},e,{draggable:b({},e.draggable,{translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}})}):e;case f.DragEnd:case f.DragCancel:return b({},e,{draggable:b({},e.draggable,{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0},lastEvent:t.type})});case f.RegisterDroppable:var n,r=t.element,a=r.id;return b({},e,{droppable:b({},e.droppable,{containers:b({},e.droppable.containers,(n={},n[a]=r,n))})});case f.SetDroppableDisabled:var i,o=t.id,u=t.disabled,s=e.droppable.containers[o];return s?b({},e,{droppable:b({},e.droppable,{containers:b({},e.droppable.containers,(i={},i[o]=b({},s,{disabled:u}),i))})}):e;case f.UnregisterDroppable:var c=t.id;return b({},e,{droppable:b({},e.droppable,{containers:k(c,e.droppable.containers)})});default:return e}}function Z(e){var t=e.announcements,n=void 0===t?h:t,u=e.activeId,c=e.overId,d=e.lastEvent,p=e.hiddenTextDescribedById,v=e.screenReaderInstructions,m=function(){var e=Object(r.useState)(""),t=e[0];return{announce:e[1],announcement:t}}(),g=m.announce,b=m.announcement,y=Object(r.useRef)({activeId:u,overId:c}),x=Object(o.j)("DndLiveRegion");return Object(r.useEffect)((function(){var e,t=y.current,r=t.activeId,a=t.overId;!r&&u?e=n.onDragStart(u):!u&&r?d===f.DragEnd?e=n.onDragEnd(r,null!=a?a:void 0):d===f.DragCancel&&(e=n.onDragCancel(r)):u&&r&&c!==a&&(e=n.onDragOver(u,null!=c?c:void 0)),e&&g(e),y.current.overId===c&&y.current.activeId===u||(y.current={activeId:u,overId:c})}),[n,g,u,c,d]),o.c?Object(i.createPortal)(a.a.createElement(a.a.Fragment,null,a.a.createElement(s,{id:p,value:v.draggable}),a.a.createElement(l,{id:x,announcement:b})),document.body):null}function ee(e,t){return e(t={exports:{}},t.exports),t.exports}var te,ne,re,ae,ie=ee((function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),o=new A(r||[]);return i._invoke=function(e,t,n){var r=f;return function(a,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===a)throw i;return D()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var u=j(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:d,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function m(){}function g(){}function b(){}var y={};y[i]=function(){return this};var x=Object.getPrototypeOf,_=x&&x(x(S([])));_&&_!==n&&r.call(_,i)&&(y=_);var w=b.prototype=m.prototype=Object.create(y);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,i,o,u){var s=l(e[a],e,i);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var a;this._invoke=function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}}function j(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=l(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function S(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:D}}function D(){return{value:t,done:!0}}return g.prototype=w.constructor=b,b.constructor=g,g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},O(k.prototype),k.prototype[o]=function(){return this},e.AsyncIterator=k,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new k(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(w),s(w,u,"Generator"),w[i]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return u.type="throw",u.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],u=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:S(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}}));!function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(te||(te={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(ne||(ne={})),function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(re||(re={})),function(e){e.Optimized="optimized"}(ae||(ae={}));var oe=new Map;function ue(e,t){var n,a=t.dragging,i=t.dependencies,u=t.config,s=Object(r.useState)(!1),c=s[0],l=s[1],f=(n=u)?b({},se,n):se,d=f.frequency,h=f.strategy,p=Object(r.useRef)(e),v=Object(r.useCallback)((function(){return l(!0)}),[]),m=Object(r.useRef)(null),g=function(){switch(h){case re.Always:return!1;case re.BeforeDragging:return a;default:return!a}}(),y=Object(o.h)((function(t){if(g&&!a)return oe;if(!t||t===oe||p.current!==e||c){for(var n=0,r=Object.values(e);n<r.length;n++){var i=r[n];i&&(i.rect.current=i.node.current?V(i.node.current):null)}return function(e){var t=new Map;if(e)for(var n=0,r=Object.values(e);n<r.length;n++){var a=r[n];if(a){var i=a.id,o=a.rect;a.disabled||null==o.current||t.set(i,o.current)}}return t}(e)}return t}),[e,a,g,c]);return Object(r.useEffect)((function(){p.current=e}),[e]),Object(r.useEffect)((function(){c&&l(!1)}),[c]),Object(r.useEffect)((function(){g||requestAnimationFrame(v)}),[a,g]),Object(r.useEffect)((function(){g||"number"!==typeof d||null!==m.current||(m.current=setTimeout((function(){v(),m.current=null}),d))}),[d,g,v].concat(i)),{layoutRectMap:y,recomputeLayouts:v,willRecomputeLayouts:c}}var se={strategy:re.WhileDragging,frequency:ae.Optimized};var ce=[];var le=he(q),fe=pe(q),de=he(H);function he(e){return function(t,n){var a=Object(r.useRef)(t);return Object(o.h)((function(r){return t?n||!r&&t||t!==a.current?t instanceof HTMLElement&&null==t.parentNode?null:e(t):null!=r?r:null:null}),[t,n])}}function pe(e){var t=[];return function(n,a){var i=Object(r.useRef)(n);return Object(o.h)((function(r){return n.length?a||!r&&n.length||n!==i.current?n.map((function(t){return e(t)})):null!=r?r:t:t}),[n,a])}}function ve(e,t){return Object(r.useMemo)((function(){return{sensor:e,options:null!=t?t:{}}}),[e,t])}function me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(r.useMemo)((function(){return[].concat(t).filter((function(e){return null!=e}))}),[].concat(t))}var ge,be=function(){function e(e){this.target=e,this.listeners=[]}var t=e.prototype;return t.add=function(e,t,n){this.target.addEventListener(e,t,n),this.listeners.push({eventName:e,handler:t})},t.removeAll=function(){var e=this;this.listeners.forEach((function(t){var n=t.eventName,r=t.handler;return e.target.removeEventListener(n,r)}))},e}();function ye(e,t){var n=Math.abs(e.x),r=Math.abs(e.y);return"number"===typeof t?Math.sqrt(Math.pow(n,2)+Math.pow(r,2))>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}!function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(ge||(ge={}));var xe,_e={start:[ge.Space,ge.Enter],cancel:[ge.Esc],end:[ge.Space,ge.Enter]},we=function(e,t){var n=t.currentCoordinates;switch(e.code){case ge.Right:return b({},n,{x:n.x+25});case ge.Left:return b({},n,{x:n.x-25});case ge.Down:return b({},n,{y:n.y+25});case ge.Up:return b({},n,{y:n.y-25})}},Oe=function(){function e(e){this.props=e,this.autoScrollEnabled=!1,this.coordinates=E;var t=e.event.target;this.props=e,this.listeners=new be(Y(t)),this.windowListeners=new be(function(e){var t;return null!=(t=Y(e).defaultView)?t:window}(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}var t=e.prototype;return t.attach=function(){var e=this;this.handleStart(),setTimeout((function(){e.listeners.add("keydown",e.handleKeyDown),e.windowListeners.add("resize",e.handleCancel)}))},t.handleStart=function(){var e=this.props,t=e.activeNode,n=e.onStart;if(!t.current)throw new Error("Active draggable node is undefined");var r=q(t.current),a={x:r.left,y:r.top};this.coordinates=a,n(a)},t.handleKeyDown=function(e){if(e instanceof KeyboardEvent){var t=this.coordinates,n=this.props,r=n.active,a=n.context,i=n.options,u=i.keyboardCodes,s=void 0===u?_e:u,c=i.coordinateGetter,l=void 0===c?we:c,f=i.scrollBehavior,d=void 0===f?"smooth":f,h=e.code;if(s.end.includes(h))return void this.handleEnd(e);if(s.cancel.includes(h))return void this.handleCancel(e);var p=l(e,{active:r,context:a.current,currentCoordinates:t});if(p){for(var v,m={x:0,y:0},g=w(a.current.scrollableAncestors);!(v=g()).done;){var b=v.value,y=e.code,x=Object(o.d)(p,t),_=P(b),O=_.isTop,k=_.isRight,j=_.isLeft,E=_.isBottom,C=_.maxScroll,A=_.minScroll,S=L(b),D={x:Math.min(y===ge.Right?S.right-S.width/2:S.right,Math.max(y===ge.Right?S.left:S.left+S.width/2,p.x)),y:Math.min(y===ge.Down?S.bottom-S.height/2:S.bottom,Math.max(y===ge.Down?S.top:S.top+S.height/2,p.y))},N=y===ge.Right&&!k||y===ge.Left&&!j,F=y===ge.Down&&!E||y===ge.Up&&!O;if(N&&D.x!==p.x){if(y===ge.Right&&b.scrollLeft+x.x<=C.x||y===ge.Left&&b.scrollLeft+x.x>=A.x)return void b.scrollBy({left:x.x,behavior:d});m.x=y===ge.Right?b.scrollLeft-C.x:b.scrollLeft-A.x,b.scrollBy({left:-m.x,behavior:d});break}if(F&&D.y!==p.y){if(y===ge.Down&&b.scrollTop+x.y<=C.y||y===ge.Up&&b.scrollTop+x.y>=A.y)return void b.scrollBy({top:x.y,behavior:d});m.y=y===ge.Down?b.scrollTop-C.y:b.scrollTop-A.y,b.scrollBy({top:-m.y,behavior:d});break}}this.handleMove(e,Object(o.b)(p,m))}}},t.handleMove=function(e,t){var n=this.props.onMove;e.preventDefault(),n(t),this.coordinates=t},t.handleEnd=function(e){var t=this.props.onEnd;e.preventDefault(),this.detach(),t()},t.handleCancel=function(e){var t=this.props.onCancel;e.preventDefault(),this.detach(),t()},t.detach=function(){this.listeners.removeAll(),this.windowListeners.removeAll()},e}();function ke(e){return Boolean(e&&"distance"in e)}function je(e){return Boolean(e&&"delay"in e)}Oe.activators=[{eventName:"onKeyDown",handler:function(e,t){var n=t.keyboardCodes,r=void 0===n?_e:n,a=t.onActivation,i=e.nativeEvent.code;return!!r.start.includes(i)&&(e.preventDefault(),null==a||a({event:e.nativeEvent}),!0)}}],function(e){e.Keydown="keydown"}(xe||(xe={}));var Ee=function(){function e(e,t,n){var r;void 0===n&&(n=(r=e.event.target)instanceof HTMLElement?r:Y(r)),this.props=e,this.events=t,this.autoScrollEnabled=!0,this.activated=!1,this.timeoutId=null;var a=e.event;this.props=e,this.events=t,this.ownerDocument=Y(a.target),this.listeners=new be(n),this.initialCoordinates=A(a),this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.attach()}var t=e.prototype;return t.attach=function(){var e=this.events,t=this.props.options.activationConstraint;if(this.listeners.add(e.move.name,this.handleMove,!1),this.listeners.add(e.end.name,this.handleEnd),this.ownerDocument.addEventListener(xe.Keydown,this.handleKeydown),t){if(ke(t))return;if(je(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay))}this.handleStart()},t.detach=function(){this.listeners.removeAll(),this.ownerDocument.removeEventListener(xe.Keydown,this.handleKeydown),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)},t.handleStart=function(){var e=this.initialCoordinates,t=this.props.onStart;e&&(this.activated=!0,t(e))},t.handleMove=function(e){var t=this.activated,n=this.initialCoordinates,r=this.props,a=r.onMove,i=r.options.activationConstraint;if(n){var u=A(e),s=Object(o.d)(n,u);if(!t&&i){if(je(i))return ye(s,i.tolerance)?this.handleCancel():void 0;if(ke(i))return ye(s,i.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),a(u)}},t.handleEnd=function(){var e=this.props.onEnd;this.detach(),e()},t.handleCancel=function(){var e=this.props.onCancel;this.detach(),e()},t.handleKeydown=function(e){e.code===ge.Esc&&this.handleCancel()},e}(),Ce={move:{name:"pointermove"},end:{name:"pointerup"}},Ae=function(e){function t(t){var n=Y(t.event.target);return e.call(this,t,Ce,n)||this}return y(t,e),t}(Ee);Ae.activators=[{eventName:"onPointerDown",handler:function(e,t){var n=e.nativeEvent,r=t.onActivation;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];var Se,De={move:{name:"mousemove"},end:{name:"mouseup"}};!function(e){e[e.RightClick=2]="RightClick"}(Se||(Se={})),(function(e){function t(t){return e.call(this,t,De,Y(t.event.target))||this}return y(t,e),t}(Ee)).activators=[{eventName:"onMouseDown",handler:function(e,t){var n=e.nativeEvent,r=t.onActivation;return n.button!==Se.RightClick&&(null==r||r({event:n}),!0)}}];var Ne={move:{name:"touchmove"},end:{name:"touchend"}};function Fe(e,t){var n=t.transform,r=x(t,["transform"]);return(null==e?void 0:e.length)?e.reduce((function(e,t){return t(b({transform:e},r))}),n):n}(function(e){function t(t){return e.call(this,t,Ne)||this}return y(t,e),t}(Ee)).activators=[{eventName:"onTouchStart",handler:function(e,t){var n=e.nativeEvent,r=t.onActivation;return!(n.touches.length>1)&&(null==r||r({event:n}),!0)}}];var Te=[{sensor:Ae,options:{}},{sensor:Oe,options:{}}],Me=Object(r.createContext)(b({},E,{scaleX:1,scaleY:1})),Ie=Object(r.memo)((function(e){var t,n,i=e.autoScroll,u=void 0===i||i,s=e.announcements,c=e.children,l=e.sensors,h=void 0===l?Te:l,p=e.collisionDetection,v=void 0===p?X:p,m=e.layoutMeasuring,y=e.modifiers,_=e.screenReaderInstructions,O=void 0===_?d:_,k=x(e,["autoScroll","announcements","children","sensors","collisionDetection","layoutMeasuring","modifiers","screenReaderInstructions"]),C=Object(r.useReducer)(Q,void 0,J),S=C[0],D=C[1],N=S.draggable,F=N.active,P=N.lastEvent,B=N.nodes,L=N.translate,W=S.droppable.containers,V=Object(r.useRef)(null),q=Object(r.useState)(null),H=q[0],G=q[1],K=Object(r.useState)(null),$=K[0],Y=K[1],ee=Object(r.useRef)(k),re=Object(o.j)("DndDescribedBy"),ae=ue(W,{dragging:null!=F,dependencies:[L.x,L.y],config:m}),oe=ae.layoutRectMap,se=ae.recomputeLayouts,he=ae.willRecomputeLayouts,pe=function(e,t){return Object(o.h)((function(n){var r,a;return null===t?null:null!=(r=null!=(a=null==e?void 0:e.current)?a:n)?r:null}),[e,t])}(function(e,t){var n;return e&&null!=(n=t[e])?n:null}(F,B),F),ve=$?A($):null,me=de(pe),ge=le(pe),be=Object(r.useRef)(null),ye=be.current,xe=(n=ye,(t=me)&&n?{x:t.left-n.left,y:t.top-n.top}:E),_e=Object(r.useRef)({active:F,droppableRects:oe,overId:null,scrollAdjustedTransalte:E,translatedRect:null}),we=function(e,t){var n,r;return e&&null!=(n=null==(r=t[e])?void 0:r.node.current)?n:null}(_e.current.overId,W),Oe=le(pe?pe.ownerDocument.defaultView:null),ke=le(pe?pe.parentElement:null),je=function(e){var t=Object(r.useRef)(e),n=Object(o.h)((function(n){return e?n&&e&&t.current&&e.parentNode===t.current.parentNode?n:M(e):ce}),[e]);return Object(r.useEffect)((function(){t.current=e}),[e]),n}(F?null!=we?we:pe:null),Ee=fe(je),Ce=Object(o.i)(),Ae=Ce[0],Se=Ce[1],De=le(F?Ae.current:null,he),Ne=Fe(y,{transform:{x:L.x-xe.x,y:L.y-xe.y,scaleX:1,scaleY:1},activeNodeRect:ge,draggingNodeRect:null!=De?De:ge,containerNodeRect:ke,overlayNodeRect:De,scrollableAncestors:je,scrollableAncestorRects:Ee,windowRect:Oe}),Ie=ve?Object(o.b)(ve,L):null,Pe=function(e){var t=Object(r.useState)(null),n=t[0],a=t[1],i=Object(r.useRef)(e),u=Object(r.useCallback)((function(e){var t=I(e.target);t&&a((function(e){return e?(e.set(t,R(t)),new Map(e)):null}))}),[]);return Object(r.useEffect)((function(){var t=i.current;if(e!==t){r(t);var n=e.map((function(e){var t=I(e);return t?(t.addEventListener("scroll",u,{passive:!0}),[t,R(t)]):null})).filter((function(e){return null!=e}));a(n.length?new Map(n):null),i.current=e}return function(){r(e),r(t)};function r(e){e.forEach((function(e){var t=I(e);null==t||t.removeEventListener("scroll",u)}))}}),[u,e]),Object(r.useMemo)((function(){return e.length?n?Array.from(n.values()).reduce((function(e,t){return Object(o.b)(e,t)}),E):U(e):E}),[e,n])}(je),Be=Object(o.b)(Ne,Pe),ze=me?T(me,Ne):null,Le=ze?T(ze,Pe):null,Ue=F&&Le?v(Array.from(oe.entries()),Le):null,We=Re(Ue,oe),Ve=Object(r.useMemo)((function(){return Ue&&We?{id:Ue,rect:We}:null}),[Ue,We]),qe=function(e,t,n){return b({},e,{scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1})}(Ne,We,me),He=Object(r.useRef)({activeNode:pe,collisionRect:Le,droppableRects:oe,droppableContainers:W,over:Ve,scrollableAncestors:je,translatedRect:ze}),Ge=Object(r.useCallback)((function(e,t){var n=t.sensor,r=t.options;if(V.current){var a=B[V.current];if(a){var i=new n({active:V.current,activeNode:a,event:e.nativeEvent,options:r,context:He,onStart:function(e){var t=V.current;if(t){var n=ee.current.onDragStart;D({type:f.DragStart,initialCoordinates:e,active:t}),null==n||n({active:{id:t}})}},onMove:function(e){D({type:f.DragMove,coordinates:e})},onEnd:o(f.DragEnd),onCancel:o(f.DragCancel)});G(i),Y(e.nativeEvent)}}function o(e){return function(){var t,n=(t=ie.mark((function t(){var n,r,a,i,o,u,s,c,l,d;return ie.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=V.current){t.next=3;break}return t.abrupt("return");case 3:if(r=_e.current,a=r.overId,i=r.scrollAdjustedTransalte,o=ee.current.cancelDrop,u={active:{id:n},delta:i,over:a?{id:a}:null},V.current=null,e!==f.DragEnd||"function"!==typeof o){t.next=12;break}return t.next=10,Promise.resolve(o(u));case 10:t.sent&&(e=f.DragCancel);case 12:D({type:e}),G(null),Y(null),s=ee.current,c=s.onDragCancel,l=s.onDragEnd,d=e===f.DragEnd?l:c,n&&(null==d||d(u));case 18:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(e){g(i,r,a,o,u,"next",e)}function u(e){g(i,r,a,o,u,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}()}}),[D,B]),Ke=function(e,t){return Object(r.useMemo)((function(){return e.reduce((function(e,n){var r=n.sensor.activators.map((function(e){return{eventName:e.eventName,handler:t(e.handler,n)}}));return[].concat(e,r)}),[])}),[e,t])}(h,Object(r.useCallback)((function(e,t){return function(n,r){var a=n.nativeEvent;null!==V.current||a.dndKit||a.defaultPrevented||!0===e(n,t.options)&&(a.dndKit={capturedBy:t.sensor},V.current=r,Ge(n,t))}}),[Ge]));Object(o.g)((function(){ee.current=k}),Object.values(k)),Object(r.useEffect)((function(){F||(be.current=null),F&&me&&!be.current&&(be.current=me)}),[me,F]),Object(r.useEffect)((function(){var e=V.current;if(e){var t=ee.current.onDragMove,n=_e.current,r=n.overId,a=n.droppableRects,i=n.translatedRect;if(t&&i){var o=Re(r,a);t({active:{id:e},draggingRect:i,droppableRects:a,delta:{x:Be.x,y:Be.y},over:r&&o?{id:r,rect:o}:null})}}}),[Be.x,Be.y]),Object(r.useEffect)((function(){if(V.current){var e=_e.current,t=e.active,n=e.droppableRects,r=e.translatedRect;if(t&&r){var a=ee.current.onDragOver,i=Re(Ue,n);null==a||a({active:{id:t},droppableRects:_e.current.droppableRects,draggingRect:r,over:Ue&&i?{id:Ue,rect:i}:null})}}}),[Ue]),Object(r.useEffect)((function(){_e.current={active:F,droppableRects:oe,overId:Ue,translatedRect:ze,scrollAdjustedTransalte:Be}}),[F,oe,Ue,ze,Be]),Object(o.g)((function(){He.current={activeNode:pe,collisionRect:Le,droppableRects:oe,droppableContainers:W,over:Ve,scrollableAncestors:je,translatedRect:ze}}),[pe,Le,oe,W,Ve,je,ze]),function(e){var t=e.acceleration,n=e.activator,a=void 0===n?te.Pointer:n,i=e.canScroll,u=e.draggingRect,s=e.enabled,c=e.interval,l=void 0===c?5:c,f=e.order,d=void 0===f?ne.TreeOrder:f,h=e.pointerCoordinates,p=e.scrollableAncestors,v=e.scrollableAncestorRects,m=e.threshold,g=Object(o.f)(),b=g[0],y=g[1],x=Object(r.useRef)({x:1,y:1}),_=Object(r.useMemo)((function(){switch(a){case te.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case te.DraggableRect:return u}return null}),[a,u,h]),O=Object(r.useRef)(E),k=Object(r.useRef)(null),j=Object(r.useCallback)((function(){var e=k.current;if(e){var t=x.current.x*O.current.x,n=x.current.y*O.current.y;e.scrollBy(t,n)}}),[]),C=Object(r.useMemo)((function(){return d===ne.TreeOrder?[].concat(p).reverse():p}),[d,p]);Object(r.useEffect)((function(){if(s&&p.length&&_){for(var e,n=w(C);!(e=n()).done;){var r=e.value;if(!1!==(null==i?void 0:i(r))){var a=p.indexOf(r),o=v[a];if(o){var u=z(r,o,_,t,m),c=u.direction,f=u.speed;if(f.x>0||f.y>0)return y(),k.current=r,b(j,l),x.current=f,void(O.current=c)}}}x.current={x:0,y:0},O.current={x:0,y:0},y()}else y()}),[t,j,i,y,s,l,JSON.stringify(_),b,p,C,v,JSON.stringify(m)])}(b({},function(){var e=!1===(null==H?void 0:H.autoScrollEnabled),t="object"===typeof u?!1===u.enabled:!1===u,n=!e&&!t;if("object"===typeof u)return b({},u,{enabled:n});return{enabled:n}}(),{draggingRect:ze,pointerCoordinates:Ie,scrollableAncestors:je,scrollableAncestorRects:Ee}));var $e=Object(r.useMemo)((function(){return{active:F,activeNode:pe,activeNodeRect:me,activeNodeClientRect:ge,activatorEvent:$,activators:Ke,ariaDescribedById:{draggable:re},overlayNode:{nodeRef:Ae,rect:De,setRef:Se},containerNodeRect:ke,dispatch:D,draggableNodes:B,droppableContainers:W,droppableRects:oe,over:Ve,recomputeLayouts:se,scrollableAncestors:je,scrollableAncestorRects:Ee,willRecomputeLayouts:he,windowRect:Oe}}),[F,pe,ge,me,$,Ke,ke,De,Ae,D,B,re,W,oe,Ve,se,je,Ee,Se,he,Oe]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(j.Provider,{value:$e},a.a.createElement(Me.Provider,{value:qe},c)),a.a.createElement(Z,{announcements:s,activeId:F,overId:Ue,lastEvent:P,hiddenTextDescribedById:re,screenReaderInstructions:O}))}));function Re(e,t){var n;return e&&null!=(n=t.get(e))?n:null}var Pe=Object(r.createContext)(null),Be="button";function ze(e){var t=e.id,n=e.disabled,a=void 0!==n&&n,i=e.attributes,u=Object(r.useContext)(j),s=u.active,c=u.activeNodeRect,l=u.activatorEvent,f=u.ariaDescribedById,d=u.draggableNodes,h=u.droppableRects,p=u.activators,v=u.over,m=null!=i?i:{},g=m.role,b=void 0===g?Be:g,y=m.roleDescription,x=void 0===y?"draggable":y,_=m.tabIndex,w=void 0===_?0:_,O=Boolean(s===t),k=Object(r.useContext)(O?Me:Pe),E=Object(o.i)(),C=E[0],A=E[1],S=function(e,t){return Object(r.useMemo)((function(){return e.reduce((function(e,n){var r=n.eventName,a=n.handler;return e[r]=function(e){a(e,t)},e}),{})}),[e,t])}(p,t);return Object(r.useEffect)((function(){return d[t]=C,function(){delete d[t]}}),[d,t]),{active:s,activeNodeRect:c,activatorEvent:l,attributes:Object(r.useMemo)((function(){return{role:b,tabIndex:w,"aria-pressed":!(!O||b!==Be)||void 0,"aria-roledescription":x,"aria-describedby":f.draggable}}),[b,w,O,x,f.draggable]),droppableRects:h,isDragging:O,listeners:a?void 0:S,node:C,over:v,setNodeRef:A,transform:k}}function Le(){return Object(r.useContext)(j)}var Ue={};function We(e){var t=e.data,n=void 0===t?Ue:t,a=e.disabled,i=void 0!==a&&a,u=e.id,s=Object(r.useContext)(j),c=s.dispatch,l=s.over,d=Object(r.useRef)(null),h=Object(o.i)(),p=h[0],v=h[1],m=Object(r.useRef)(n);return Object(o.g)((function(){m.current!==n&&(m.current=n)}),[n]),Object(o.g)((function(){return c({type:f.RegisterDroppable,element:{id:u,disabled:i,node:p,rect:d,data:m}}),function(){return c({type:f.UnregisterDroppable,id:u})}}),[u]),Object(r.useEffect)((function(){c({type:f.SetDroppableDisabled,id:u,disabled:i})}),[i]),{rect:d,isOver:(null==l?void 0:l.id)===u,node:p,over:l,setNodeRef:v}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n(14),a=n(12),i=n(18),o=n(8),u=n(20);function s(e){return u.b(u.u(e),(function(){return"The f passed in grad(f) must be a function"})),function(t,n){var r=Object(o.a)(t,"x","tf.grad","string_or_numeric"),i=null!=n?Object(o.a)(n,"dy","tf.grad"):null;return a.a.tidy((function(){var t=a.a.gradients((function(){return e(r)}),[r],i),n=t.value,o=t.grads;return null!=i&&u.e(n.shape,i.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),p(o),o[0]}))}}function c(e){return u.b(u.u(e),(function(){return"The f passed in grads(f) must be a function"})),function(t,n){u.b(Array.isArray(t),(function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"}));var i=Object(o.b)(t,"args","tf.grads","string_or_numeric"),s=null!=n?Object(o.a)(n,"dy","tf.grads"):null;return a.a.tidy((function(){var t=a.a.gradients((function(){return e.apply(void 0,Object(r.a)(i))}),i,s),n=t.value,o=t.grads;return null!=s&&u.e(n.shape,s.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),p(o),o}))}}function l(e){return u.b(u.u(e),(function(){return"The f passed in valueAndGrad(f) must be a function"})),function(t,n){u.b(t instanceof i.a,(function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"})),u.b(null==n||n instanceof i.a,(function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"}));var r=a.a.gradients((function(){return e(t)}),[t],n),o=r.grads,s=r.value;return p(o),{grad:o[0],value:s}}}function f(e){return u.b(u.u(e),(function(){return"The f passed in valueAndGrads(f) must be a function"})),function(t,n){u.b(Array.isArray(t)&&t.every((function(e){return e instanceof i.a})),(function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"})),u.b(null==n||n instanceof i.a,(function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"}));var o=a.a.gradients((function(){return e.apply(void 0,Object(r.a)(t))}),t,n);return null!=n&&u.e(o.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),p(o.grads),o}}function d(e,t){u.b(u.u(e),(function(){return"The f passed in variableGrads(f) must be a function"})),u.b(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof i.c})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],a.a.registeredVariables)t.push(a.a.registeredVariables[r]);var o=n?t.filter((function(e){return!e.trainable})):null,s=t.length;t=t.filter((function(e){return e.trainable})),u.b(t.length>0,(function(){return"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(s," variables is ")+"trainable."}));var c=a.a.gradients(e,t,null,!0),l=c.value,f=c.grads;u.b(f.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),u.b(0===l.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(l.rank," tensor")}));var d={};return t.forEach((function(e,t){null!=f[t]&&(d[e.name]=f[t])})),null!=o&&o.forEach((function(e){return d[e.name]=null})),{value:l,grads:d}}function h(e){return a.a.customGrad(e)}function p(e){if(e.filter((function(e){return null==e})).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(r||(r={}))},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return b}));var r=n(78);function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}var o=n(4),u=n.n(o),s=n(128);n(26);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var f=n(117),d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return i(t,e),t.prototype.render=function(){return u.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(u.a.Component);u.a.Component;var h=function(e,t){return"function"===typeof e?e(t):e},p=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},v=function(e){return e},m=u.a.forwardRef;"undefined"===typeof m&&(m=v);var g=m((function(e,t){var n=e.innerRef,r=e.navigate,a=e.onClick,i=l(e,["innerRef","navigate","onClick"]),o=i.target,s=c({},i,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||o&&"_self"!==o||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return s.ref=v!==m&&t||n,u.a.createElement("a",s)}));var b=m((function(e,t){var n=e.component,a=void 0===n?g:n,i=e.replace,o=e.to,s=e.innerRef,d=l(e,["component","replace","to","innerRef"]);return u.a.createElement(r.d.Consumer,null,(function(e){e||Object(f.a)(!1);var n=e.history,r=p(h(o,e.location),e.location),l=r?n.createHref(r):"",g=c({},d,{href:l,navigate:function(){var t=h(o,e.location);(i?n.replace:n.push)(t)}});return v!==m?g.ref=t||s:g.innerRef=s,u.a.createElement(a,g)}))})),y=function(e){return e},x=u.a.forwardRef;"undefined"===typeof x&&(x=y);x((function(e,t){var n=e["aria-current"],a=void 0===n?"page":n,i=e.activeClassName,o=void 0===i?"active":i,s=e.activeStyle,d=e.className,v=e.exact,m=e.isActive,g=e.location,_=e.sensitive,w=e.strict,O=e.style,k=e.to,j=e.innerRef,E=l(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return u.a.createElement(r.d.Consumer,null,(function(e){e||Object(f.a)(!1);var n=g||e.location,i=p(h(k,n),n),l=i.pathname,C=l&&l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),A=C?Object(r.e)(n.pathname,{path:C,exact:v,sensitive:_,strict:w}):null,S=!!(m?m(A,n):A),D=S?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(d,o):d,N=S?c({},O,{},s):O,F=c({"aria-current":S&&a||null,className:D,style:N,to:i},E);return y!==x?F.ref=t||j:F.innerRef=j,u.a.createElement(b,F)}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(190),s=n(37),c=n(11);var l=Object(c.b)({where_:function(e,t,n){var c=Object(i.a)(t,"a","where"),l=Object(i.a)(n,"b","where"),f=Object(i.a)(e,"condition","where","bool"),d=Object(s.a)(c.shape,l.shape),h=Object(u.a)(c,d),p=Object(u.a)(l,d);1===f.rank&&Object(o.b)(f.shape[0]===c.shape[0],(function(){return"The first dimension of `a` must match the size of `condition`."})),1!==f.rank&&Object(o.e)(f.shape,p.shape,"Error in where: ");var v={condition:f,t:h,e:p};return r.a.runKernel(a.yc,v)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({sqrt_:function(e){var t={x:Object(i.a)(e,"x","sqrt")};return r.a.runKernel(a.Kc,t)}})},,function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return y}));var i=n(4),o=n.n(i),u=(n(26),n(128)),s=n(445),c=n(117);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=n(446),d=n.n(f);n(350);function h(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n(250);var p=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router-History"),v=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router"),m=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}a(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(v.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(p.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;o.a.Component;var g={},b=0;function y(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,a=n.exact,i=void 0!==a&&a,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=g[n]||(g[n]={});if(r[e])return r[e];var a=[],i={regexp:d()(e,a,t),keys:a};return b<1e4&&(r[e]=i,b++),i}(n,{end:i,strict:u,sensitive:c}),a=r.regexp,o=r.keys,s=a.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return i&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var x=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(v.Consumer,null,(function(t){t||Object(c.a)(!1);var n=e.props.location||t.location,r=l({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?y(n.pathname,e.props):t.match}),a=e.props,i=a.children,u=a.component,s=a.render;return Array.isArray(i)&&0===i.length&&(i=null),o.a.createElement(v.Provider,{value:r},r.match?i?"function"===typeof i?i(r):i:u?o.a.createElement(u,r):s?s(r):null:"function"===typeof i?i(r):null)}))},t}(o.a.Component);function _(e){return"/"===e.charAt(0)?e:"/"+e}function w(e,t){if(!e)return t;var n=_(e);return 0!==t.pathname.indexOf(n)?t:l({},t,{pathname:t.pathname.substr(n.length)})}function O(e){return"string"===typeof e?e:Object(u.e)(e)}function k(e){return function(){Object(c.a)(!1)}}function j(){}o.a.Component;var E=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(v.Consumer,null,(function(t){t||Object(c.a)(!1);var n,r,a=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var i=e.props.path||e.props.from;r=i?y(a.pathname,l({},e.props,{path:i})):t.match}})),r?o.a.cloneElement(n,{location:a,computedMatch:r}):null}))},t}(o.a.Component);o.a.useContext},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return f}));var r=n(20);function a(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function i(e,t,n){for(var r=e.length+t.length,a=[],i=0,o=0,u=0;u<r;u++)-1===n.indexOf(u)?a.push(e[i++]):a.push(t[o++]);return a}function o(e,t){for(var n=[],r=e.length,a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);return[n,t.map((function(t){return e[t]}))]}function u(e,t){return i(e,t.map((function(e){return 1})),t)}function s(e,t,n){r.b(a(t,n),(function(){return"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input.")}))}function c(e,t){if(a(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function l(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function f(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}},function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return x})),n.d(t,"g",(function(){return _}));var r=n(2),a=n.n(r),i=n(10),o=n(13),u=n(110),s=n(179),c=n(20),l=n(280);function f(e,t){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(a.a.mark((function e(t,n){var r,i,u,s,c,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],i=[],u=Array.isArray(t)?t.map((function(e){return e.name})):Object.keys(t),s=function(e){var s=u[e],c=Array.isArray(t)?t[e].tensor:t[s];if("float32"!==c.dtype&&"int32"!==c.dtype&&"bool"!==c.dtype&&"string"!==c.dtype&&"complex64"!==c.dtype)throw new Error("Unsupported dtype in weight '".concat(s,"': ").concat(c.dtype));var l={name:s,shape:c.shape,dtype:c.dtype};if("string"===c.dtype){var f=new Promise(function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,i,o,u,s,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.bytes();case 2:for(n=e.sent,r=n.reduce((function(e,t){return e+t.length}),0)+4*n.length,i=new Uint8Array(r),o=0,u=0;u<n.length;u++)s=n[u],l=new Uint8Array(new Uint32Array([s.length]).buffer),i.set(l,o),o+=4,i.set(s,o),o+=s.length;t(i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());i.push(f)}else i.push(c.data());null!=n&&(l.group=n),r.push(l)},c=0;c<u.length;++c)s(c);return e.next=7,Promise.all(i);case 7:return l=e.sent,e.abrupt("return",{data:p(l),specs:r});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){var n,r,a={},o=0,f=Object(i.a)(t);try{for(f.s();!(r=f.n()).done;){var d=r.value,h=d.name,p=d.dtype,v=d.shape,m=Object(c.O)(v),g=void 0;if("quantization"in d){var b=d.quantization;if("uint8"===b.dtype||"uint16"===b.dtype){if(!("min"in b)||!("scale"in b))throw new Error("Weight ".concat(d.name," with quantization ").concat(b.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==b.dtype)throw new Error("Weight ".concat(d.name," has unknown ")+"quantization dtype ".concat(b.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==p)throw new Error("Weight ".concat(d.name," is quantized with ").concat(b.dtype," ")+"which only supports weights of type float32 not ".concat(p,"."))}var y=l.a[b.dtype],x=e.slice(o,o+m*y),_="uint8"===b.dtype?new Uint8Array(x):new Uint16Array(x);if("float32"===p)if("uint8"===b.dtype||"uint16"===b.dtype){g=new Float32Array(_.length);for(var O=0;O<_.length;O++){var k=_[O];g[O]=k*b.scale+b.min}}else{if("float16"!==b.dtype)throw new Error("Unsupported quantization type ".concat(b.dtype," ")+"for weight type float32.");void 0===n&&(n=w()),g=n(_)}else{if("int32"!==p)throw new Error("Unsupported dtype in weight '".concat(h,"': ").concat(p));if("uint8"!==b.dtype&&"uint16"!==b.dtype)throw new Error("Unsupported quantization type ".concat(b.dtype," ")+"for weight type int32.");g=new Int32Array(_.length);for(var j=0;j<_.length;j++){var E=_[j];g[j]=Math.round(E*b.scale+b.min)}}o+=m*y}else if("string"===p){var C=Object(c.O)(d.shape);g=[];for(var A=0;A<C;A++){var S=new Uint32Array(e.slice(o,o+4))[0];o+=4;var D=new Uint8Array(e.slice(o,o+S));g.push(D),o+=S}}else{var N=l.a[p],F=e.slice(o,o+m*N);if("float32"===p)g=new Float32Array(F);else if("int32"===p)g=new Int32Array(F);else if("bool"===p)g=new Uint8Array(F);else{if("complex64"!==p)throw new Error("Unsupported dtype in weight '".concat(h,"': ").concat(p));g=new Float32Array(F);for(var T=new Float32Array(g.length/2),M=new Float32Array(g.length/2),I=0;I<T.length;I++)T[I]=g[2*I],M[I]=g[2*I+1];var R=Object(s.a)(T,v,"float32"),P=Object(s.a)(M,v,"float32");a[h]=Object(u.a)(R,P),R.dispose(),P.dispose()}o+=m*N}"complex64"!==p&&(a[h]=Object(s.a)(g,v,p))}}catch(B){f.e(B)}finally{f.f()}return a}function p(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));var r=new Uint8Array(t),a=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),a),a+=e.byteLength})),r.buffer}var v="undefined"!==typeof e&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function m(t){return v?e.byteLength(t):new Blob([t]).size}function g(t){if(v)return e.from(t).toString("base64");for(var n=new Uint8Array(t),r="",a=0,i=n.length;a<i;a++)r+=String.fromCharCode(n[a]);return btoa(r)}function b(t){if(v){var n=e.from(t,"base64");return n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}for(var r=atob(t),a=new Uint8Array(r.length),i=0;i<r.length;++i)a.set([r.charCodeAt(i)],i);return a.buffer}function y(e){if(1===e.length)return e[0];var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function x(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function _(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:m(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:m(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function w(){var e=function(){var e=function(e){for(var t=e<<13,n=0;0===(8388608&t);)n-=8388608,t<<=1;return(t&=-8388609)|n+947912704},t=new Uint32Array(2048);t[0]=0;for(var n=1;n<1024;n++)t[n]=e(n);for(var r=1024;r<2048;r++)t[r]=939524096+(r-1024<<13);return t}(),t=function(){var e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(var t=1;t<31;t++)e[t]=t<<23;for(var n=33;n<63;n++)e[n]=2147483648+(n-32<<23);return e}(),n=function(){for(var e=new Uint32Array(64),t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return function(r){for(var a=new ArrayBuffer(4*r.length),i=new Uint32Array(a),o=0;o<r.length;o++){var u=r[o],s=e[n[u>>10]+(1023&u)]+t[u>>10];i[o]=s}return new Float32Array(a)}}}).call(this,n(165).Buffer)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({exp_:function(e){var t={x:Object(i.a)(e,"x","exp")};return r.a.runKernel(a.Z,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({abs_:function(e){var t=Object(i.a)(e,"x","abs");if("complex64"===t.dtype){var n={x:t};return r.a.runKernel(a.A,n)}var o={x:t};return r.a.runKernel(a.a,o)}})},function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return m}));var r=n(37),a=n(222),i=n(225),o=n(22),u=n(232),s=n(150),c=n(233),l=n(19),f=n(151),d=n(38);function h(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return Object(o.a)(e,Object(f.a)(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function p(e,t){var n=t,a=r.c(e.shape,t.shape);return a.length>0&&(n=Object(d.a)(n,a)),Object(l.a)(n,e.shape)}function v(e,t,n,r){if("linear"===t)return e;if("relu"===t)return Object(s.a)(e);if("elu"===t)return Object(a.a)(e);if("relu6"===t)return Object(c.a)(e);if("prelu"===t)return Object(u.a)(e,n);if("leakyrelu"===t)return Object(i.a)(e,r);throw new Error("Unknown fused activation ".concat(t,"."))}var m=function(e,t){return!(e>0)||"linear"===t}},function(e,t,n){"use strict";n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return x})),n.d(t,"d",(function(){return _})),n.d(t,"g",(function(){return w})),n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return O}));var r=n(10),a=n(15),i=n(16),o=n(2),u=n.n(o),s=n(13),c=n(3),l=n(9),f=n(0),d=n(156),h=n(126);function p(e){return e instanceof f.Tensor?{value:e.clone(),recurse:!1}:Object(h.e)(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}var v=n(32),m=n(30),g=function(){function e(t){if(Object(c.a)(this,e),this.capacity=t,this.begin=0,this.end=0,null==t)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(t<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(t),this.doubledCapacity=2*t}return Object(l.a)(e,[{key:"wrap",value:function(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}},{key:"get",value:function(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}},{key:"set",value:function(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}},{key:"length",value:function(){var e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}},{key:"isFull",value:function(){return this.length()===this.capacity}},{key:"isEmpty",value:function(){return 0===this.length()}},{key:"push",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}},{key:"pushAll",value:function(e){var t,n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;this.push(a)}}catch(i){n.e(i)}finally{n.f()}}},{key:"pop",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);var e=this.get(this.end);return this.set(this.end,void 0),e}},{key:"unshift",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}},{key:"shift",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}},{key:"shuffleExcise",value:function(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}]),e}(),b=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.call(this,n.INITIAL_CAPACITY)}return Object(l.a)(n,[{key:"isFull",value:function(){return!1}},{key:"push",value:function(e){Object(v.a)(Object(m.a)(n.prototype),"isFull",this).call(this)&&this.expand(),Object(v.a)(Object(m.a)(n.prototype),"push",this).call(this,e)}},{key:"unshift",value:function(e){Object(v.a)(Object(m.a)(n.prototype),"isFull",this).call(this)&&this.expand(),Object(v.a)(Object(m.a)(n.prototype),"unshift",this).call(this,e)}},{key:"expand",value:function(){for(var e=2*this.capacity,t=new Array(e),n=this.length(),r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}]),n}(g);function y(e){return new j(e)}function x(e){return new E(e)}function _(e,t){return new P(e,t)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.FAIL;return new B(e,t)}b.INITIAL_CAPACITY=32;var O,k=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"toArray",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.next();case 3:n=e.sent;case 4:if(n.done){e.next=11;break}return t.push(n.value),e.next=8,this.next();case 8:n=e.sent,e.next=4;break;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.prefetch(100),n=[],e.next=4,t.next();case 4:r=e.sent;case 5:if(r.done){e.next=12;break}return n.push(r.value),e.next=9,t.next();case 9:r=e.sent,e.next=5;break;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveFully",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:t=e.sent;case 3:if(t.done){e.next=9;break}return e.next=6,this.next();case 6:t=e.sent,e.next=3;break;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveWhile",value:function(){var e=Object(s.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:n=e.sent,r=t(n.value);case 4:if(n.done||!r){e.next=11;break}return e.next=7,this.next();case 7:n=e.sent,r=t(n.value),e.next=4;break;case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleErrors",value:function(e){return new T(this,e)}},{key:"filter",value:function(e){return new N(this,e)}},{key:"map",value:function(e){return new F(this,e)}},{key:"mapAsync",value:function(e){return new M(this,e)}},{key:"serialMapAsync",value:function(e){return new M(this,e).serial()}},{key:"flatmap",value:function(e){return new R(this,e)}},{key:"forEachAsync",value:function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.map(t).resolveFully());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"serialForEach",value:function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.serialMapAsync(t).resolveWhile((function(e){return!0===e})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rowMajorBatch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new D(this,e,t)}},{key:"columnMajorBatch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.f,r=this.rowMajorBatch(e,t);return r.map((function(e){return Object(h.d)(e,n)}))}},{key:"concatenate",value:function(e,t){return new P(y([this,e]),t)}},{key:"take",value:function(e){return e<0||null==e?this:new S(this,e)}},{key:"skip",value:function(e){return e<0||null==e?this:new A(this,e)}},{key:"prefetch",value:function(e){return new z(this,e)}},{key:"shuffle",value:function(e,t){return new L(this,e,t)}},{key:"serial",value:function(){return new C(this)}}]),e}(),j=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this)).items=e,r.trav=0,r}return Object(l.a)(n,[{key:"summary",value:function(){return"Array of ".concat(this.items.length," items")}},{key:"next",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.trav>=this.items.length)){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return t=this.items[this.trav],this.trav++,e.abrupt("return",{value:(n=t,Object(h.b)(n,p)),done:!1});case 5:case"end":return e.stop()}var n}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(k),E=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this)).nextFn=e,r}return Object(l.a)(n,[{key:"summary",value:function(){return"Function call"}},{key:"next",value:function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this.nextFn());case 4:throw e.prev=4,e.t0=e.catch(0),e.t0.message="Error thrown while iterating through a dataset: ".concat(e.t0.message),e.t0;case 8:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(){return e.apply(this,arguments)}}()}]),n}(k),C=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this)).upstream=e,r.lastRead=Promise.resolve({value:null,done:!1}),r}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Serial")}},{key:"next",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.upstream.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(k),A=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(c.a)(this,n),(a=t.call(this)).upstream=e,a.maxCount=r,a.count=0,a.lastRead=Promise.resolve({value:null,done:!1}),a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Skip")}},{key:"next",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.count++<this.maxCount)){e.next=9;break}return e.next=3,this.upstream.next();case 3:if(!(t=e.sent).done){e.next=6;break}return e.abrupt("return",t);case 6:f.dispose(t.value),e.next=0;break;case 9:return e.abrupt("return",this.upstream.next());case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(k),S=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(c.a)(this,n),(a=t.call(this)).upstream=e,a.maxCount=r,a.count=0,a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Take")}},{key:"next",value:function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.count++>=this.maxCount)){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return e.abrupt("return",this.upstream.next());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(k),D=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(c.a)(this,n),(a=t.call(this)).upstream=e,a.batchSize=r,a.enableSmallLastBatch=i,a.lastRead=Promise.resolve({value:null,done:!1}),a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> RowMajorBatch")}},{key:"next",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[];case 1:if(!(t.length<this.batchSize)){e.next=12;break}return e.next=4,this.upstream.next();case 4:if(!(n=e.sent).done){e.next=9;break}if(!(this.enableSmallLastBatch&&t.length>0)){e.next=8;break}return e.abrupt("return",{value:t,done:!1});case 8:return e.abrupt("return",{value:null,done:!0});case 9:t.push(n.value),e.next=1;break;case 12:return e.abrupt("return",{value:t,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(k),N=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(c.a)(this,n),(a=t.call(this)).upstream=e,a.predicate=r,a.lastRead=Promise.resolve({value:null,done:!1}),a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Filter")}},{key:"next",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.upstream.next();case 3:if(!(t=e.sent).done&&!this.predicate(t.value)){e.next=6;break}return e.abrupt("return",t);case 6:f.dispose(t.value),e.next=0;break;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(k),F=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(c.a)(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Map")}},{key:"next",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t,n,a,i,o,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:n=f.tensor_util.getTensorsInContainer(t.value),a=this.transform(t.value),i=f.tensor_util.getTensorsInContainer(a),o=Object(r.a)(n);try{for(o.s();!(s=o.n()).done;)c=s.value,f.tensor_util.isTensorInList(c,i)||c.dispose()}catch(u){o.e(u)}finally{o.f()}return e.abrupt("return",{value:a,done:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(k),T=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(c.a)(this,n),(a=t.call(this)).upstream=e,a.handler=r,a.count=0,a.lastRead=Promise.resolve({value:null,done:!1}),a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> handleErrors")}},{key:"next",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,this.upstream.next();case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),this.handler(e.t0)){e.next=11;break}return e.abrupt("return",{value:null,done:!0});case 11:e.next=0;break;case 13:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()}]),n}(k),M=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(c.a)(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> AsyncMap")}},{key:"next",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t,n,a,i,o,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:return n=f.tensor_util.getTensorsInContainer(t.value),e.next=8,this.transform(t.value);case 8:a=e.sent,i=f.tensor_util.getTensorsInContainer(a),o=Object(r.a)(n);try{for(o.s();!(s=o.n()).done;)c=s.value,f.tensor_util.isTensorInList(c,i)||c.dispose()}catch(u){o.e(u)}finally{o.f()}return e.abrupt("return",{value:a,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(k),I=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).outputQueue=new b,e.lastRead=Promise.resolve({value:null,done:!1}),e}return Object(l.a)(n,[{key:"next",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.outputQueue.length()){e.next=7;break}return e.next=3,this.pump();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:e.next=0;break;case 7:return e.abrupt("return",{value:this.outputQueue.shift(),done:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(k),R=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(c.a)(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Flatmap")}},{key:"pump",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t,n,a,i,o,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",!1);case 5:n=f.tensor_util.getTensorsInContainer(t.value),a=this.transform(t.value),i=f.tensor_util.getTensorsInContainer(a),this.outputQueue.pushAll(a),o=Object(r.a)(n);try{for(o.s();!(s=o.n()).done;)c=s.value,f.tensor_util.isTensorInList(c,i)||c.dispose()}catch(u){o.e(u)}finally{o.f()}return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(I),P=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(c.a)(this,n),(a=t.call(this)).baseErrorHandler=r,a.lastRead=null,a.iterator=null,a.moreIterators=e,a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat("TODO: fill in upstream of chained summaries"," -> Chained")}},{key:"next",value:function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.readFromChain(this.lastRead),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readFromChain",value:function(){var e=Object(s.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(null!=this.iterator){e.next=10;break}return e.next=5,this.moreIterators.next();case 5:if(!(n=e.sent).done){e.next=8;break}return e.abrupt("return",{value:null,done:!0});case 8:this.iterator=n.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler));case 10:return e.next=12,this.iterator.next();case 12:if(!(r=e.sent).done){e.next=16;break}return this.iterator=null,e.abrupt("return",this.readFromChain(t));case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(k);!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(O||(O={}));var B=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.FAIL;return Object(c.a)(this,n),(r=t.call(this)).iterators=e,r.mismatchMode=a,r.count=0,r.currentPromise=null,r}return Object(l.a)(n,[{key:"summary",value:function(){return"{".concat("TODO: fill in upstream of zip summaries","} -> Zip")}},{key:"nextState",value:function(){var e=Object(s.a)(u.a.mark((function e(t){var n,r,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return e instanceof k?{value:e.next().then((function(e){return n++,e.done&&r++,e.value})),recurse:!1}:{value:null,recurse:!0}},e.next=3,t;case 3:return n=0,r=0,e.next=7,Object(h.c)(this.iterators,a);case 7:if(i=e.sent,n!==r){e.next=10;break}return e.abrupt("return",{value:null,done:!0});case 10:if(!(r>0)){e.next=16;break}e.t0=this.mismatchMode,e.next=e.t0===O.FAIL?14:e.t0===O.SHORTEST?15:(e.t0,O.LONGEST,16);break;case 14:throw new Error("Zipped streams should have the same length. "+"Mismatched at element ".concat(this.count,"."));case 15:return e.abrupt("return",{value:null,done:!0});case 16:return this.count++,e.abrupt("return",{value:i,done:!1});case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currentPromise=this.nextState(this.currentPromise),e.abrupt("return",this.currentPromise);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(k),z=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(c.a)(this,n),(a=t.call(this)).upstream=e,a.bufferSize=r,a.buffer=new g(r),a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Prefetch")}},{key:"refill",value:function(){for(;!this.buffer.isFull();){var e=this.upstream.next();this.buffer.push(e)}}},{key:"next",value:function(){return this.refill(),this.buffer.shift()}}]),n}(k),L=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r,a){var i;return Object(c.a)(this,n),(i=t.call(this,e,r)).upstream=e,i.windowSize=r,i.upstreamExhausted=!1,i.random=d.alea(a||f.util.now().toString()),i.lastRead=Promise.resolve({value:null,done:!1}),i}return Object(l.a)(n,[{key:"next",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"randomInt",value:function(e){return Math.floor(this.random()*e)}},{key:"chooseIndex",value:function(){return this.randomInt(this.buffer.length())}},{key:"serialNext",value:function(){var e=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.upstreamExhausted||this.refill();case 1:if(this.buffer.isEmpty()){e.next=14;break}return t=this.chooseIndex(),e.next=5,this.buffer.shuffleExcise(t);case 5:if(!(n=e.sent).done){e.next=10;break}this.upstreamExhausted=!0,e.next=12;break;case 10:return this.refill(),e.abrupt("return",n);case 12:e.next=1;break;case 14:return e.abrupt("return",{value:null,done:!0});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(z)},function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return S})),n.d(t,"e",(function(){return j}));var r,a,i=n(449),o=n(287),u=n(945),s=n(946),c=n(947),l=n(617),f=n(447),d=n(39),h=n(1),p=n(387),v=n(436);function m(e){var t={};return function(n){return t[n]||(t[n]=e(n))}}function g(e){var t=m(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat:function(e){var n,r,a=Object(o.a)(e||",");if(null==a.precision){switch(a.precision=12,a.type){case"%":a.precision-=2;break;case"e":a.precision-=1}return n=t(a),r=t(".1f")(1)[1],function(e){var t=n(e),a=t.indexOf(r);if(a<0)return t;for(var i=function(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if((n=e.charCodeAt(r))>=48&&n<=57)return r+1}(t,a),o=i<t.length?t.slice(i):"";--i>a;)if("0"!==t[i]){++i;break}return t.slice(0,i)+o}}return t(a)},formatSpan:function(e,r,a,l){l=Object(o.a)(null==l?",f":l);var f,d=Object(i.c)(e,r,a),h=Math.max(Math.abs(e),Math.abs(r));if(null==l.precision)switch(l.type){case"s":return isNaN(f=Object(u.a)(d,h))||(l.precision=f),n(l,h);case"":case"e":case"g":case"p":case"r":isNaN(f=Object(s.a)(d,h))||(l.precision=f-("e"===l.type));break;case"f":case"%":isNaN(f=Object(c.a)(d))||(l.precision=f-2*("%"===l.type))}return t(l)}}}function b(){return r=g({format:l.a,formatPrefix:l.b})}function y(e){return g(Object(f.a)(e))}function x(e){return arguments.length?r=y(e):r}function _(e,t,n){n=n||{},Object(h.D)(n)||Object(h.k)("Invalid time multi-format specifier: ".concat(n));var r=t(d.i),a=t(d.f),i=t(d.d),o=t(d.a),u=t(d.k),s=t(d.g),c=t(d.h),l=t(d.l),f=e(n[d.e]||".%L"),p=e(n[d.i]||":%S"),v=e(n[d.f]||"%I:%M"),m=e(n[d.d]||"%I %p"),g=e(n[d.a]||n[d.b]||"%a %d"),b=e(n[d.k]||"%b %d"),y=e(n[d.g]||"%B"),x=e(n[d.h]||"%B"),_=e(n[d.l]||"%Y");return function(e){return(r(e)<e?f:a(e)<e?p:i(e)<e?v:o(e)<e?m:s(e)<e?u(e)<e?g:b:l(e)<e?c(e)<e?y:x:_)(e)}}function w(e){var t=m(e.format),n=m(e.utcFormat);return{timeFormat:function(e){return Object(h.F)(e)?t(e):_(t,d.p,e)},utcFormat:function(e){return Object(h.F)(e)?n(e):_(n,d.v,e)},timeParse:m(e.parse),utcParse:m(e.utcParse)}}function O(){return a=w({format:p.a,parse:p.b,utcFormat:p.c,utcParse:p.d})}function k(e){return w(Object(v.a)(e))}function j(e){return arguments.length?a=k(e):a}b(),O();var E=function(e,t){return Object(h.l)({},e,t)};function C(e,t){var n=e?y(e):x(),r=t?k(t):j();return E(n,r)}function A(e,t){var n=arguments.length;return n&&2!==n&&Object(h.k)("defaultLocale expects either zero or two arguments."),n?E(x(e),j(t)):E(x(),j())}function S(){return b(),O(),A()}},function(e,t,n){"use strict";var r=n(25),a=n(52),i=n(4),o=n.n(i),u=(n(26),n(250)),s=n.n(u),c=n(988);function l(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var a,i=t.props[n];for(a in i)void 0===r[a]&&(r[a]=i[a]);return r}var f=n(992),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var i=t.defaultTheme,u=t.withTheme,d=void 0!==u&&u,h=t.name,p=Object(a.a)(t,["defaultTheme","withTheme","name"]);var v=h,m=Object(c.a)(e,Object(r.a)({defaultTheme:i,Component:n,name:h||n.displayName,classNamePrefix:v},p)),g=o.a.forwardRef((function(e,t){e.classes;var u,s=e.innerRef,c=Object(a.a)(e,["classes","innerRef"]),p=m(Object(r.a)({},n.defaultProps,e)),v=c;return("string"===typeof h||d)&&(u=Object(f.a)()||i,h&&(v=l({theme:u,name:h,props:c})),d&&!v.theme&&(v.theme=u)),o.a.createElement(n,Object(r.a)({ref:s||t,classes:p},v))}));return s()(g,n),g}},h=n(379);t.a=function(e,t){return d(e,Object(r.a)({defaultTheme:h.a},t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(18),a=n(20);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",a.c(e),new r.b(e,t,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({reverse_:function(e,t){var n={x:Object(i.a)(e,"x","reverse")},o={dims:t};return r.a.runKernel(a.tc,n,o)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(25);var r=n(4),a=n.n(r),i=a.a.createContext({});i.Consumer,i.Provider;function o(e,t){var n=Object(r.useContext)(i);return e||n[t]||t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(6),a=n(12),i=n(7),o=n(44),u=n(8),s=n(37),c=n(11);var l=Object(c.b)({greater_:function(e,t){var n=Object(u.a)(e,"a","greater"),c=Object(u.a)(t,"b","greater"),l=Object(o.makeTypesMatch)(n,c),f=Object(r.a)(l,2);n=f[0],c=f[1],Object(s.a)(n.shape,c.shape);var d={a:n,b:c};return a.a.runKernel(i.nb,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12),a=n(20),i=n(24);function o(e,t,n,o){if(null==o&&(o=Object(a.r)(e)),"complex64"===o)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Object(a.A)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){Object(a.c)(t);var u=Object(a.O)(t),s=Object(a.O)(n);Object(a.b)(u===s,(function(){return"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(u," values but has ").concat(s)}));for(var c=0;c<n.length;++c){var l=n[c],f=c!==n.length-1||l!==Object(a.O)(t.slice(c));Object(a.b)(n[c]===t[c]||!f,(function(){return"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")}))}}return Object(a.A)(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==o?Object(i.toTypedArray)(e,o):Object(a.m)(e,[],!0),r.a.makeTensor(e,t,o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11);var s=Object(u.b)({transpose_:function(e,t){var n=Object(i.a)(e,"x","transpose");if(null==t&&(t=n.shape.map((function(e,t){return t})).reverse()),o.b(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of perm ".concat(t,".")})),t.forEach((function(e){o.b(e>=0&&e<n.rank,(function(){return"All entries in 'perm' must be between 0 and ".concat(n.rank-1)+" but got ".concat(t)}))})),n.rank<=1)return n.clone();var u={x:n},s={perm:t};return r.a.runKernel(a.Wc,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(6),a=n(3),i=n(9),o=n(29),u=new(n(244).a),s=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,[{key:"remove",value:function(e,t){return e.filter((function(e,n){return n!=t}))}},{key:"__remove_arr",value:function(e,t){return e.filter((function(e,n){return!t.includes(n)}))}},{key:"__is_string",value:function(e){return"string"===typeof e||e instanceof String}},{key:"__is_number",value:function(e){return"number"===typeof e&&isFinite(e)}},{key:"__is_object",value:function(e){return e&&"object"===typeof e&&e.constructor===Object}},{key:"__is_null",value:function(e){return null===e}},{key:"__is_undefined",value:function(e){return"undefined"===typeof e}},{key:"__sample_from_iter",value:function(e,t,n){var r=e.length;if(t<0||t>r)throw new RangeError("Sample larger than population or is negative");if(n||r<=(t<=5?21:21+Math.pow(4,Math.ceil(Math.log(3*t,4))))){n||(e=Array.prototype.slice.call(e));for(var a=0;a<t;a++){var i=a+Math.random()*(r-a)|0,o=e[a];e[a]=e[i],e[i]=o}return e.length=t,e}for(var u=new Set;u.add(Math.random()*r|0).size<t;);return Array.prototype.map.call(u,(function(e){return population[e]}))}},{key:"__range",value:function(e,t){return Object(o.e)(e,t,t-e+1).arraySync()}},{key:"__key_in_object",value:function(e,t){return!!Object.prototype.hasOwnProperty.call(e,t)}},{key:"__get_col_values",value:function(e){for(var t=e.length,n=e[0].length,r=[],a=0;a<=n-1;a++){for(var i=[],o=0;o<t;o++)i.push(e[o][a]);r.push(i)}return r}},{key:"_get_row_and_col_values",value:function(e){var t=Object.keys(e),n=Object.values(e),r=n[0].length;n.forEach((function(e){if(e.length!=r)throw Error("Length Error: Length of columns must be the same!")}));for(var a=n[0].length,i=t.length,o=[],u=0;u<=a-1;u++){for(var s=[],c=0;c<i;c++){var l=n[c];s.push(l[u])}o.push(s)}return[o,t]}},{key:"__convert_2D_to_1D",value:function(e){var t=this,n=[];return e.map((function(e){t.__is_object(e)?n.push(JSON.stringify(e)):n.push("".concat(e))})),n}},{key:"__replace_undefined_with_NaN",value:function(e,t){if(t){var n=[];return e.forEach((function(e){"undefined"===typeof e||e==1/0||null==e?n.push(NaN):n.push(e)})),n}var r=[];return e.forEach((function(e){var t=[];e.forEach((function(e){"undefined"===typeof e||e==1/0||null==e?t.push(NaN):t.push(e)})),r.push(t)})),r}},{key:"__checker",value:function(e){var t,n=[],r=[],a=[],i=[],o=[];return 0==e.length&&n.push("string"),t=e.length<u.get_dtype_test_lim?e.length-1:u.get_dtype_test_lim-1,e.forEach((function(e,u){var s=u;if("boolean"==typeof e?(a.push(!1),r.push(!1),i.push(!1),o.push(!0)):isNaN(e)&&"string"!=typeof e?(a.push(!0),r.push(!1),i.push(!1),o.push(!1)):isNaN(Number(e))?(a.push(!1),r.push(!1),i.push(!0),o.push(!1)):e.toString().includes(".")?(a.push(!0),r.push(!1),i.push(!1),o.push(!1)):(a.push(!1),r.push(!0),i.push(!1),o.push(!1)),s==t){var c=function(e){return 1==e};n=i.some(c)?"string":a.some(c)?"float32":r.some(c)?"int32":o.some(c)?"boolean":"undefined"}})),n}},{key:"__get_t",value:function(e){var t=this;return this.__is_1D_array(e)?[this.__checker(e)]:e.map((function(e){return t.__checker(e)}))}},{key:"__unique",value:function(e){var t=new Set;return e.map((function(e){t.add(e[0])})),Array.from(t)}},{key:"__in_object",value:function(e,t,n){if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error(n)}},{key:"__is_1D_array",value:function(e){return"number"==typeof e[0]||"string"==typeof e[0]||"boolean"==typeof e[0]}},{key:"__arr_to_obj",value:function(e){var t={};return e.forEach((function(e,n){t[e]=n})),t}},{key:"__count_nan",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;if(n){var r=0,a=0;return e.forEach((function(e){Number.isNaN(e)?r+=1:a+=1})),t?a:r}var i=[];return e.forEach((function(e){var n=0,r=0;e.forEach((function(e){Number.isNaN(e)?n+=1:r+=1})),t?i.push(r):i.push(n)})),i}},{key:"__median",value:function(e,t){if(t){var n=e.slice().sort((function(e,t){return e-t})),r=Math.floor(n.length/2);return n.length%2===0?(n[r-1]+n[r])/2:n[r]}var a=[];return e.map((function(e){var t=e.slice().sort((function(e,t){return e-t})),n=Math.floor(t.length/2);t.length%2===0?a.push((t[n-1]+t[n])/2):a.push(t[n])})),a}},{key:"__mode",value:function(e){var t,n=[],r=[],a=0;for(t in e.forEach((function(e){r[e]=(r[e]||0)+1,r[e]>a&&(a=r[e])})),r)this.__key_in_object(r,t)&&r[t]===a&&n.push(Number(t));return n}},{key:"__round",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2?arguments[2]:void 0;if(t<0&&(t=1),n){var r=[];return e.map((function(e){r.push(Number(e.toFixed(t)))})),r}var a=[];return e.map((function(e){var n=[];e.map((function(e){n.push(Number(e.toFixed(t)))})),a.push(n)})),a}},{key:"__is_function",value:function(e){return"function"==typeof e}},{key:"__randgen",value:function(e,t,n){var r=[];function a(e,t){return Math.floor(Math.random()*(t-e)+e)}function i(e,r){if(!r.includes(e))return e;i(e=a(t,n),r)}for(var o=0;o<e;o++){var u=i(a(t,n),r);r.push(u)}return r}},{key:"_throw_wrong_params_error",value:function(e,t){for(var n=Object.keys(e),r=[],a=0;a<n.length;a++)t.includes(n[a])?r.push(!0):r.push(!1);if(r.some((function(e){return 0==e})))throw Error("Params Error: A specified parameter is not supported. Your params must be any of the following [".concat(t,"]"))}},{key:"__map_int_to_bool",value:function(e,t){var n=[];return 2==t?(e.map((function(e){var t=[];e.map((function(e){1==e?t.push(!0):t.push(!1)})),n.push(t)})),n):(e.map((function(e){1==e?n.push(!0):n.push(!1)})),n)}},{key:"__std",value:function(e){var t=e,n=t.mean();return t.sub(n).pow(2).mean().sqrt()}},{key:"__zeros",value:function(e,t){for(var n=[],r=0;r<e;r++){for(var a=Array(t),i=0;i<t;i++)a[i]=0;n.push(a)}return n}},{key:"__shuffle",value:function(e,t){for(var n,r,a=0;a<e;a++)n=Math.floor(Math.random()*(t.length-a))+a,r=t[a],t[a]=t[n],t[n]=r;return t.slice(0,e)}},{key:"__sort",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.slice();return n.sort((function(e,n){return t?"string"===typeof e&&"string"===typeof n?e.charCodeAt()-n.charCodeAt():e-n:"string"===typeof e&&"string"===typeof n?n.charCodeAt()-e.charCodeAt():n-e}))}},{key:"__is_browser_env",value:function(){return new Function("try {return this===window;}catch(e){ return false;}")()}},{key:"__is_node_env",value:function(){return new Function("try {return this===global;}catch(e){return false;}")()}},{key:"_throw_str_dtype_error",value:function(e,t){if("string"==e.dtypes[0])throw Error("dtype error: String data type does not support ".concat(t," operation"))}},{key:"_remove_nans",value:function(e){return e.filter((function(e){return!isNaN(e)&&"string"!=typeof e}))}},{key:"__get_duplicate",value:function(e){var t={},n={};for(var r in e.forEach((function(e,n){e in t?(t[e].count+=1,t[e].index.push(n)):(t[e]={},t[e].count=1,t[e].index=[n])})),t)t[r].count>=2&&(n[r]={},n[r].count=t[r].count,n[r].index=t[r].index);return n}},{key:"_sort_arr_with_index",value:function(e,t,n){var a=e.map((function(e,n){return[t[n],e]}));return"string"==n?a.sort():a.sort((function(e,t){var n=Object(r.a)(e,1)[0];return Object(r.a)(t,1)[0]-n})),a.map((function(e){return Object(r.a)(e,2)[1]}))}}]),e}()},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var o=a.apply(null,r);o&&e.push(o)}else if("object"===i)for(var u in r)n.call(r,u)&&r[u]&&e.push(u)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(618);function a(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return f}));var r=n(618);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function i(e){if(e.type)return e;if("#"===e.charAt(0))return i(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(r.a)(3,e));var a=e.substring(t+1,e.length-1).split(",");return{type:n,values:a=a.map((function(e){return parseFloat(e)}))}}function o(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function u(e,t){var n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function s(e){var t="hsl"===(e=i(e)).type?i(function(e){var t=(e=i(e)).values,n=t[0],r=t[1]/100,a=t[2]/100,u=r*Math.min(a,1-a),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return a-u*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e,t){return e=i(e),t=a(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o(e)}function l(e,t){if(e=i(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=i(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o(e)}},,function(e,t,n){var r=n(166),a=n(167),i=n(307),o=n(306),u=o.MAX_LENGTH,s=o.MAX_SAFE_INTEGER,c=n(212),l=c.re,f=c.t,d=n(308),h=n(414).compareIdentifiers,p=function(){"use strict";function e(t,n){if(r(this,e),n=d(n),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if("string"!==typeof t)throw new TypeError("Invalid Version: ".concat(t));if(t.length>u)throw new TypeError("version is longer than ".concat(u," characters"));i("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;var a=t.trim().match(n.loose?l[f.LOOSE]:l[f.FULL]);if(!a)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}return a(e,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(t){if(i("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"===typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}},{key:"compareMain",value:function(t){return t instanceof e||(t=new e(t,this.options)),h(this.major,t.major)||h(this.minor,t.minor)||h(this.patch,t.patch)}},{key:"comparePre",value:function(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var n=0;do{var r=this.prerelease[n],a=t.prerelease[n];if(i("prerelease compare",n,r,a),void 0===r&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===r)return-1;if(r!==a)return h(r,a)}while(++n)}},{key:"compareBuild",value:function(t){t instanceof e||(t=new e(t,this.options));var n=0;do{var r=this.build[n],a=t.build[n];if(i("prerelease compare",n,r,a),void 0===r&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===r)return-1;if(r!==a)return h(r,a)}while(++n)}},{key:"inc",value:function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"===typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: ".concat(e))}return this.format(),this.raw=this.version,this}}]),e}();e.exports=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(12),i=n(7),o=n(44),u=n(8),s=n(11);var c=Object(s.b)({pow_:function(e,t){var n=Object(u.a)(e,"base","pow"),s=Object(u.a)(t,"exp","pow"),c=Object(o.makeTypesMatch)(n,s),l=Object(r.a)(c,2),f={a:n=l[0],b:s=l[1]};return a.a.runKernel(i.fc,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(584);var a=n(370),i=n(585);function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,i=s}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}}(e,t)||Object(a.a)(e,t)||Object(i.a)()}},function(e,t,n){var r;!function(n){"use strict";var a=function(e){return.5*(Math.exp(e)+Math.exp(-e))},i=function(e){return.5*(Math.exp(e)-Math.exp(-e))},o=function(){throw SyntaxError("Invalid Param")};function u(e,t){var n=Math.abs(e),r=Math.abs(t);return 0===e?Math.log(r):0===t?Math.log(n):n<3e3&&r<3e3?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)))}function s(e,t){if(!(this instanceof s))return new s(e,t);var n=function(e,t){var n={re:0,im:0};if(void 0===e||null===e)n.re=n.im=0;else if(void 0!==t)n.re=e,n.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)n.re=e.re,n.im=e.im;else if("abs"in e&&"arg"in e){if(!Number.isFinite(e.abs)&&Number.isFinite(e.arg))return s.INFINITY;n.re=e.abs*Math.cos(e.arg),n.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!Number.isFinite(e.r)&&Number.isFinite(e.phi))return s.INFINITY;n.re=e.r*Math.cos(e.phi),n.im=e.r*Math.sin(e.phi)}else 2===e.length?(n.re=e[0],n.im=e[1]):o();break;case"string":n.im=n.re=0;var r=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),a=1,i=0;null===r&&o();for(var u=0;u<r.length;u++){var c=r[u];" "===c||"\t"===c||"\n"===c||("+"===c?a++:"-"===c?i++:"i"===c||"I"===c?(a+i===0&&o()," "===r[u+1]||isNaN(r[u+1])?n.im+=parseFloat((i%2?"-":"")+"1"):(n.im+=parseFloat((i%2?"-":"")+r[u+1]),u++),a=i=0):((a+i===0||isNaN(c))&&o(),"i"===r[u+1]||"I"===r[u+1]?(n.im+=parseFloat((i%2?"-":"")+c),u++):n.re+=parseFloat((i%2?"-":"")+c),a=i=0))}a+i>0&&o();break;case"number":n.im=0,n.re=e;break;default:o()}return isNaN(n.re)||isNaN(n.im),n}(e,t);this.re=n.re,this.im=n.im}s.prototype={re:0,im:0,sign:function(){var e=this.abs();return new s(this.re/e,this.im/e)},add:function(e,t){var n=new s(e,t);return this.isInfinite()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:new s(this.re+n.re,this.im+n.im)},sub:function(e,t){var n=new s(e,t);return this.isInfinite()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:new s(this.re-n.re,this.im-n.im)},mul:function(e,t){var n=new s(e,t);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:0===n.im&&0===this.im?new s(this.re*n.re,0):new s(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(e,t){var n=new s(e,t);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return s.NAN;if(this.isInfinite()||n.isZero())return s.INFINITY;if(this.isZero()||n.isInfinite())return s.ZERO;e=this.re,t=this.im;var r,a,i=n.re,o=n.im;return 0===o?new s(e/i,t/i):Math.abs(i)<Math.abs(o)?new s((e*(a=i/o)+t)/(r=i*a+o),(t*a-e)/r):new s((e+t*(a=o/i))/(r=o*a+i),(t-e*a)/r)},pow:function(e,t){var n=new s(e,t);if(e=this.re,t=this.im,n.isZero())return s.ONE;if(0===n.im){if(0===t)return new s(Math.pow(e,n.re),0);if(0===e)switch((n.re%4+4)%4){case 0:return new s(Math.pow(t,n.re),0);case 1:return new s(0,Math.pow(t,n.re));case 2:return new s(-Math.pow(t,n.re),0);case 3:return new s(0,-Math.pow(t,n.re))}}if(0===e&&0===t&&n.re>0&&n.im>=0)return s.ZERO;var r=Math.atan2(t,e),a=u(e,t);return e=Math.exp(n.re*a-n.im*r),t=n.im*a+n.re*r,new s(e*Math.cos(t),e*Math.sin(t))},sqrt:function(){var e,t,n=this.re,r=this.im,a=this.abs();if(n>=0){if(0===r)return new s(Math.sqrt(n),0);e=.5*Math.sqrt(2*(a+n))}else e=Math.abs(r)/Math.sqrt(2*(a-n));return t=n<=0?.5*Math.sqrt(2*(a-n)):Math.abs(r)/Math.sqrt(2*(a+n)),new s(e,r<0?-t:t)},exp:function(){var e=Math.exp(this.re);return this.im,new s(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){var e=this.re,t=this.im;return new s(Math.expm1(e)*Math.cos(t)+function(e){var t=Math.PI/4;if(e<-t||e>t)return Math.cos(e)-1;var n=e*e;return n*(n*(1/24+n*(-1/720+n*(1/40320+n*(-1/3628800+n*(1/4790014600+n*(-1/87178291200+n*(1/20922789888e3)))))))-.5)}(t),Math.exp(e)*Math.sin(t))},log:function(){var e=this.re,t=this.im;return new s(u(e,t),Math.atan2(t,e))},abs:function(){return function(e,t){var n=Math.abs(e),r=Math.abs(t);return n<3e3&&r<3e3?Math.sqrt(n*n+r*r):(n<r?(n=r,r=e/t):r=t/e,n*Math.sqrt(1+r*r))}(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,t=this.im;return new s(Math.sin(e)*a(t),Math.cos(e)*i(t))},cos:function(){var e=this.re,t=this.im;return new s(Math.cos(e)*a(t),-Math.sin(e)*i(t))},tan:function(){var e=2*this.re,t=2*this.im,n=Math.cos(e)+a(t);return new s(Math.sin(e)/n,i(t)/n)},cot:function(){var e=2*this.re,t=2*this.im,n=Math.cos(e)-a(t);return new s(-Math.sin(e)/n,i(t)/n)},sec:function(){var e=this.re,t=this.im,n=.5*a(2*t)+.5*Math.cos(2*e);return new s(Math.cos(e)*a(t)/n,Math.sin(e)*i(t)/n)},csc:function(){var e=this.re,t=this.im,n=.5*a(2*t)-.5*Math.cos(2*e);return new s(Math.sin(e)*a(t)/n,-Math.cos(e)*i(t)/n)},asin:function(){var e=this.re,t=this.im,n=new s(t*t-e*e+1,-2*e*t).sqrt(),r=new s(n.re-t,n.im+e).log();return new s(r.im,-r.re)},acos:function(){var e=this.re,t=this.im,n=new s(t*t-e*e+1,-2*e*t).sqrt(),r=new s(n.re-t,n.im+e).log();return new s(Math.PI/2-r.im,r.re)},atan:function(){var e=this.re,t=this.im;if(0===e){if(1===t)return new s(0,1/0);if(-1===t)return new s(0,-1/0)}var n=e*e+(1-t)*(1-t),r=new s((1-t*t-e*e)/n,-2*e/n).log();return new s(-.5*r.im,.5*r.re)},acot:function(){var e=this.re,t=this.im;if(0===t)return new s(Math.atan2(1,e),0);var n=e*e+t*t;return 0!==n?new s(e/n,-t/n).atan():new s(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new s(0,1/0);var n=e*e+t*t;return 0!==n?new s(e/n,-t/n).acos():new s(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new s(Math.PI/2,1/0);var n=e*e+t*t;return 0!==n?new s(e/n,-t/n).asin():new s(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){var e=this.re,t=this.im;return new s(i(e)*Math.cos(t),a(e)*Math.sin(t))},cosh:function(){var e=this.re,t=this.im;return new s(a(e)*Math.cos(t),i(e)*Math.sin(t))},tanh:function(){var e=2*this.re,t=2*this.im,n=a(e)+Math.cos(t);return new s(i(e)/n,Math.sin(t)/n)},coth:function(){var e=2*this.re,t=2*this.im,n=a(e)-Math.cos(t);return new s(i(e)/n,-Math.sin(t)/n)},csch:function(){var e=this.re,t=this.im,n=Math.cos(2*t)-a(2*e);return new s(-2*i(e)*Math.cos(t)/n,2*a(e)*Math.sin(t)/n)},sech:function(){var e=this.re,t=this.im,n=Math.cos(2*t)+a(2*e);return new s(2*a(e)*Math.cos(t)/n,-2*i(e)*Math.sin(t)/n)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){var e=this.acos();if(e.im<=0){var t=e.re;e.re=-e.im,e.im=t}else{t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){var e=this.re,t=this.im,n=e>1&&0===t,r=1-e,a=1+e,i=r*r+t*t,o=0!==i?new s((a*r-t*t)/i,(t*r+a*t)/i):new s(-1!==e?e/0:0,0!==t?t/0:0),c=o.re;return o.re=u(o.re,o.im)/2,o.im=Math.atan2(o.im,c)/2,n&&(o.im=-o.im),o},acoth:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new s(0,Math.PI/2);var n=e*e+t*t;return 0!==n?new s(e/n,-t/n).atanh():new s(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){var e=this.re,t=this.im;if(0===t)return new s(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var n=e*e+t*t;return 0!==n?new s(e/n,-t/n).asinh():new s(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){var e=this.re,t=this.im;if(this.isZero())return s.INFINITY;var n=e*e+t*t;return 0!==n?new s(e/n,-t/n).acosh():new s(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var e=this.re,t=this.im,n=e*e+t*t;return new s(e/n,-t/n)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new s(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new s(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new s(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){var n=new s(e,t);return Math.abs(n.re-this.re)<=s.EPSILON&&Math.abs(n.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var e=this.re,t=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":0===t?n+e:(0!==e?(n+=e,n+=" ",t<0?(t=-t,n+="-"):n+="+",n+=" "):t<0&&(t=-t,n+="-"),1!==t&&(n+=t),n+"i")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return isNaN(this.re)||isNaN(this.im)})),isZero:function(){return 0===this.im&&0===this.re},isFinite:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return isFinite(this.re)&&isFinite(this.im)})),isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-16,void 0===(r=function(){return s}.apply(t,[]))||(e.exports=r)}()},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({pad_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=Object(i.a)(e,"x","pad");if(0===o.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var u={paddings:t,constantValue:n},s={x:o};return r.a.runKernel(a.dc,s,u)}})},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return A})),n.d(t,"i",(function(){return D})),n.d(t,"c",(function(){return N})),n.d(t,"f",(function(){return F})),n.d(t,"e",(function(){return I})),n.d(t,"d",(function(){return R})),n.d(t,"k",(function(){return B})),n.d(t,"g",(function(){return z})),n.d(t,"h",(function(){return L})),n.d(t,"j",(function(){return U})),n.d(t,"b",(function(){return W}));var r=n(6),a=n(14),i=n(3),o=n(9),u=n(0),s=n(159),c=n(189),l=n(5),f=n(559),d=n(560),h=n(561),p=n(562),v=n(563),m=n(564),g=n(565),b=n(566),y=n(567),x=n(568),_=n(569),w=n(570),O=n(571),k=n(572),j=n(573),E=n(574),C=n(575),A=function(){function e(){var t;Object(i.a)(this,e);var n=[f,d,h,p,v,m,g,_,x,b,w,O,k,j,E,C,y],r=(t=[]).concat.apply(t,Object(a.a)(n.map((function(e){return e.json}))));this.opMappers=r.reduce((function(e,t){return e[t.tfOpName]=t,e}),{})}return Object(o.a)(e,[{key:"transformGraph",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.node,i=[],o=[],u=[],s=a.reduce((function(e,n){return e[n.name]=t.mapNode(n),n.op.startsWith("Placeholder")?i.push(e[n.name]):"Const"===n.op?o.push(e[n.name]):null!=n.input&&0!==n.input.length||u.push(e[n.name]),e}),{}),c=[],f=[],d={},h={};null!=n&&(d=this.mapSignatureEntries(n.inputs),h=this.mapSignatureEntries(n.outputs));var p=Object.keys(s);p.forEach((function(e){var t=s[e];t.inputNames.forEach((function(e){var n=Object(l.b)(e),a=Object(r.a)(n,1)[0];t.inputs.push(s[a]),s[a].children.push(t)}))})),0===Object.keys(h).length?p.forEach((function(e){var t=s[e];0===t.children.length&&f.push(t)})):Object.keys(h).forEach((function(e){var t=Object(l.b)(e),n=Object(r.a)(t,1)[0],a=s[n];null!=a&&(a.signatureKey=h[e],f.push(a))})),Object.keys(d).length>0?Object.keys(d).forEach((function(e){var t=Object(l.b)(e),n=Object(r.a)(t,1)[0],a=s[n];a&&(a.signatureKey=d[e],c.push(a))})):c=i;var v={};null!=e.library&&null!=e.library.function&&(v=e.library.function.reduce((function(e,n){return e[n.signature.name]=t.mapFunction(n),e}),{}));var m={nodes:s,inputs:c,outputs:f,weights:o,placeholders:i,signature:n,functions:v};return u.length>0&&(m.initNodes=u),m}},{key:"mapSignatureEntries",value:function(e){return Object.keys(e||{}).reduce((function(t,n){return t[e[n].name]=n,t}),{})}},{key:"mapNode",value:function(e){var t=Object(c.a)(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((function(e){return e.startsWith("^")?e.substr(1):e})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e}),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((function(t,n){var r=n.type,a=void 0;switch(n.type){case"string":void 0===(a=D(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=D(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(a=L(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=L(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(a=F(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(a=F(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(a=z(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=z(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(a=N(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=N(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(a=W(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=W(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(a=B(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=B(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(a=U(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=U(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(a=I(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=I(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(a=R(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=R(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":void 0===(a=M(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=M(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:a,type:r},t}),{})),n}},{key:"mapFunction",value:function(e){var t=this,n=e.nodeDef,a=[],i={};null!=n&&(i=n.reduce((function(e,n){return e[n.name]=t.mapNode(n),"Const"===n.op&&a.push(e[n.name]),e}),{}));var o=[],u=[];e.signature.inputArg.forEach((function(e){var t=Object(l.b)(e.name),n=Object(r.a)(t,1)[0],a={name:n,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:T(e.type),type:"dtype"}},children:[]};a.signatureKey=e.name,o.push(a),i[n]=a})),Object.keys(i).forEach((function(e){var t=i[e];t.inputNames.forEach((function(e){var n=Object(l.b)(e),a=Object(r.a)(n,1)[0];t.inputs.push(i[a]),i[a].children.push(t)}))}));var s=e.ret;e.signature.outputArg.forEach((function(e){var t=Object(l.b)(s[e.name]),n=Object(r.a)(t,2),a=n[0],o=n[1],c=i[a];null!=c&&(c.defaultOutput=o,u.push(c))}));var c=this.mapArgsToSignature(e);return{nodes:i,inputs:o,outputs:u,weights:a,placeholders:[],signature:c}}},{key:"mapArgsToSignature",value:function(e){var t=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((function(e,n){return e[n.name]=t.mapArgToTensorInfo(n),e}),{}),outputs:e.signature.outputArg.reduce((function(n,r){return n[r.name]=t.mapArgToTensorInfo(r,e.ret),n}),{})}}},{key:"mapArgToTensorInfo",value:function(e,t){var n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),e}();function S(t,n){var r=Array.isArray(t)?String.fromCharCode.apply(null,t):function(t){var n=Object(u.env)().global;if("undefined"!==typeof n.atob)return n.atob(t);if("undefined"!==typeof e)return new e(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(t);return n?r:r.toLowerCase()}function D(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return null!=a?S(a.s,r):n}function N(e,t,n){var r=e[t];return r?r.b:n}function F(e,t,n){var r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function T(e){switch("string"===typeof e&&(e=s.a[e]),e){case s.a.DT_FLOAT:return"float32";case s.a.DT_INT32:case s.a.DT_INT64:case s.a.DT_INT8:case s.a.DT_UINT8:return"int32";case s.a.DT_BOOL:return"bool";case s.a.DT_DOUBLE:return"float32";case s.a.DT_STRING:return"string";default:return null}}function M(e,t,n){var r=e[t];return r&&r.func?r.func.name:n}function I(e,t,n){var r=e[t];return r&&r.type?T(r.type):n}function R(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map((function(e){return T(e)})):n}function P(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((function(e){return"number"===typeof e.size?e.size:parseInt(e.size,10)})):[]}function B(e,t,n){var r=e[t];return r&&r.shape?P(r.shape):n}function z(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(e){return"number"===typeof e?e:parseInt(e,10)})):n}function L(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return a&&a.list&&a.list.s?a.list.s.map((function(e){return S(e,r)})):n}function U(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((function(e){return P(e)})):n}function W(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}}).call(this,n(165).Buffer)},,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(638)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11);var s=Object(u.b)({complex_:function(e,t){var n=Object(i.a)(e,"real","complex"),u=Object(i.a)(t,"imag","complex");o.e(n.shape,u.shape,"real and imag shapes, ".concat(n.shape," and ").concat(u.shape,", ")+"must match in call to tf.complex().");var s={real:n,imag:u};return r.a.runKernel(a.z,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(37),u=n(11);var s=Object(u.b)({logicalAnd_:function(e,t){var n=Object(i.a)(e,"a","logicalAnd","bool"),u=Object(i.a)(t,"b","logicalAnd","bool");Object(o.a)(n.shape,u.shape);var s={a:n,b:u};return r.a.runKernel(a.Eb,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11);var s=Object(u.b)({stack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.b)(e,"tensors","stack","string_or_numeric");o.b(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),n.length>0&&o.b(t<=n[0].rank,(function(){return"Axis must be <= rank of the tensor"}));var u=n,s={axis:t};return r.a.runKernel(a.cc,u,s)}})},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return v}));var r=n(6),a=n(42),i=n(195),o=Object(i.a)("kernelRegistry",(function(){return new Map})),u=Object(i.a)("gradRegistry",(function(){return new Map}));function s(e,t){var n=m(e,t);return o.get(n)}function c(e){return u.get(e)}function l(e){for(var t=o.entries(),n=[];;){var a=t.next(),i=a.done,u=a.value;if(i)break;var s=Object(r.a)(u,2),c=s[0],l=s[1],f=c.split("_");Object(r.a)(f,1)[0]===e&&n.push(l)}return n}function f(e){var t=e.kernelName,n=e.backendName,r=m(t,n);o.has(r)&&console.warn("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),o.set(r,e)}function d(e){var t=e.kernelName;u.has(t)&&Object(a.c)().getBool("DEBUG")&&console.warn("Overriding the gradient for '".concat(t,"'")),u.set(t,e)}function h(e,t){var n=m(e,t);if(!o.has(n))throw new Error("The kernel '".concat(e,"' for backend ")+"'".concat(t,"' is not registered"));o.delete(n)}function p(e){if(!u.has(e))throw new Error("The gradient '".concat(e,"' for backend is not registered"));u.delete(e)}function v(e,t){l(e).forEach((function(e){f(Object.assign({},e,{backendName:t}))}))}function m(e,t){return"".concat(t,"_").concat(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11);var s=Object(u.b)({expandDims_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.a)(e,"x","expandDims","string_or_numeric");o.b(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var u={input:n},s={dim:t};return r.a.runKernel(a.ab,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(281);var a=n(583),i=n(370);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(a.a)(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4);var a=function(e){var t=Object(r.useRef)(e);return Object(r.useEffect)((function(){t.current=e}),[e]),t};function i(e){var t=a(e);return Object(r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}},function(e,t,n){"use strict";var r="Invariant failed";t.a=function(e,t){if(!e)throw new Error(r)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(62),s=n(11),c=n(19);var l=Object(s.b)({conv2d_:function(e,t,n,s){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],d=arguments.length>6?arguments[6]:void 0,h=Object(i.a)(e,"x","conv2d"),p=Object(i.a)(t,"filter","conv2d"),v=h,m=!1;3===h.rank&&(m=!0,v=Object(c.a)(h,[1,h.shape[0],h.shape[1],h.shape[2]])),o.b(4===v.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank ".concat(v.rank,".")})),o.b(4===p.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+"".concat(p.rank,".")})),null!=d&&o.b(o.v(s),(function(){return"Error in conv2d: pad must be an integer when using, "+"dimRoundingMode ".concat(d," but got pad ").concat(s,".")}));var g="NHWC"===l?v.shape[3]:v.shape[1];o.b(g===p.shape[2],(function(){return"Error in conv2d: depth of input (".concat(g,") must match ")+"input depth for filter ".concat(p.shape[2],".")})),o.b(u.h(n,f),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(f,"'")}));var b={x:v,filter:p},y={strides:n,pad:s,dataFormat:l,dilations:f,dimRoundingMode:d},x=r.a.runKernel(a.C,b,y);return m?Object(c.a)(x,[x.shape[1],x.shape[2],x.shape[3]]):x}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(6),a=n(12),i=n(7),o=n(44),u=n(8),s=n(37),c=n(11);var l=Object(c.b)({greaterEqual_:function(e,t){var n=Object(u.a)(e,"a","greaterEqual"),c=Object(u.a)(t,"b","greaterEqual"),l=Object(o.makeTypesMatch)(n,c),f=Object(r.a)(l,2);n=f[0],c=f[1],Object(s.a)(n.shape,c.shape);var d={a:n,b:c};return a.a.runKernel(i.ob,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(6),a=n(12),i=n(7),o=n(44),u=n(8),s=n(37),c=n(11);var l=Object(c.b)({lessEqual_:function(e,t){var n=Object(u.a)(e,"a","lessEqual"),c=Object(u.a)(t,"b","lessEqual"),l=Object(o.makeTypesMatch)(n,c),f=Object(r.a)(l,2);n=f[0],c=f[1],Object(s.a)(n.shape,c.shape);var d={a:n,b:c};return a.a.runKernel(i.zb,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({clone_:function(e){var t={x:Object(i.a)(e,"x","clone","string_or_numeric")};return r.a.runKernel(a.qb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({max_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object(i.a)(e,"x","max"),u={x:o},s={reductionIndices:t,keepDims:n};return r.a.runKernel(a.Hb,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=function(e){return e},a=function(e){if(null==e)return r;var t,n,a=e.scale[0],i=e.scale[1],o=e.translate[0],u=e.translate[1];return function(e,r){r||(t=n=0);var s=2,c=e.length,l=new Array(c);for(l[0]=(t+=e[0])*a+o,l[1]=(n+=e[1])*i+u;s<c;)l[s]=e[s],++s;return l}},i=function(e,t){return"string"===typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return o(e,t)}))}:o(e,t)};function o(e,t){var n=t.id,r=t.bbox,a=null==t.properties?{}:t.properties,i=u(e,t);return null==n&&null==r?{type:"Feature",properties:a,geometry:i}:null==r?{type:"Feature",id:n,properties:a,geometry:i}:{type:"Feature",id:n,bbox:r,properties:a,geometry:i}}function u(e,t){var n=a(e.transform),r=e.arcs;function i(e,t){t.length&&t.pop();for(var a=r[e<0?~e:e],i=0,o=a.length;i<o;++i)t.push(n(a[i],i));e<0&&function(e,t){for(var n,r=e.length,a=r-t;a<--r;)n=e[a],e[a++]=e[r],e[r]=n}(t,o)}function o(e){return n(e)}function u(e){for(var t=[],n=0,r=e.length;n<r;++n)i(e[n],t);return t.length<2&&t.push(t[0]),t}function s(e){for(var t=u(e);t.length<4;)t.push(t[0]);return t}function c(e){return e.map(s)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=o(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(o);break;case"LineString":n=u(t.arcs);break;case"MultiLineString":n=t.arcs.map(u);break;case"Polygon":n=c(t.arcs);break;case"MultiPolygon":n=t.arcs.map(c);break;default:return null}return{type:r,coordinates:n}}(t)}var s=function(e,t){var n={},r={},a={},i=[],o=-1;function u(e,t){for(var r in e){var a=e[r];delete t[a.start],delete a.start,delete a.end,a.forEach((function(e){n[e<0?~e:e]=1})),i.push(a)}}return t.forEach((function(n,r){var a,i=e.arcs[n<0?~n:n];i.length<3&&!i[1][0]&&!i[1][1]&&(a=t[++o],t[o]=n,t[r]=a)})),t.forEach((function(t){var n,i,o=function(t){var n,r=e.arcs[t<0?~t:t],a=r[0];e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1];return t<0?[n,a]:[a,n]}(t),u=o[0],s=o[1];if(n=a[u])if(delete a[n.end],n.push(t),n.end=s,i=r[s]){delete r[i.start];var c=i===n?n:n.concat(i);r[c.start=n.start]=a[c.end=i.end]=c}else r[n.start]=a[n.end]=n;else if(n=r[s])if(delete r[n.start],n.unshift(t),n.start=u,i=a[u]){delete a[i.end];var l=i===n?n:i.concat(n);r[l.start=i.start]=a[l.end=n.end]=l}else r[n.start]=a[n.end]=n;else r[(n=[t]).start=u]=a[n.end=s]=n})),u(a,r),u(r,a),t.forEach((function(e){n[e<0?~e:e]||i.push([e])})),i},c=function(e){return u(e,l.apply(this,arguments))};function l(e,t,n){var r,a,i;if(arguments.length>1)r=f(e,t,n);else for(a=0,r=new Array(i=e.arcs.length);a<i;++a)r[a]=a;return{type:"MultiLineString",arcs:s(e,r)}}function f(e,t,n){var r,a=[],i=[];function o(e){var t=e<0?~e:e;(i[t]||(i[t]=[])).push({i:e,g:r})}function u(e){e.forEach(o)}function s(e){e.forEach(u)}return function e(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":u(t.arcs);break;case"MultiLineString":case"Polygon":s(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(s)}(t.arcs)}}(t),i.forEach(null==n?function(e){a.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&a.push(e[0].i)}),a}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return v}));var r=n(2),a=n.n(r),i=n(13),o=n(0);function u(e,t){return s(e,t)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(null==e)return null;if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);var a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(a.recurse){if(p(e)){var i=Array.isArray(e)?[]:{};for(var o in r.add(e),e){var u=e[o],c=s(u,t,n,r);i[o]=c}return r.delete(e),i}throw new Error("Can't recurse into non-iterable type: ".concat(e))}return n.set(e,a.value),a.value}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;return l(e,t)}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");var a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(a.recurse){if(p(r)){var i=Array.isArray(r)?[]:{};n.add(r);var o=function(r){var a=l(e.map((function(e){return e[r]})),t,n);i[r]=a};for(var u in r)o(u);return n.delete(r),i}throw new Error("Can't recurse into non-iterable type: ".concat(r))}return a.value}function f(e){return null===e?null:p(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function d(e,t){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(a.a.mark((function e(t,n){var r,i,u,c,l,f,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Map,s(t,n,r),i=0,u=Array.from(r.keys());case 3:if(!(i<u.length)){e.next=14;break}if(c=u[i],l=r.get(c),!o.util.isPromise(l)){e.next=11;break}return e.next=9,l;case 9:f=e.sent,r.set(c,f);case 11:i++,e.next=3;break;case 14:return d=s(t,n,r),e.abrupt("return",d);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"===typeof e&&!(e instanceof o.Tensor))}function v(e){return null==e||(null===(t=e)||"object"!==typeof t&&"function"!==typeof t)||Array.isArray(e)||"object"===typeof e&&e instanceof o.Tensor||o.util.isTypedArray(e);var t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Y})),n.d(t,"b",(function(){return ue})),n.d(t,"c",(function(){return X})),n.d(t,"d",(function(){return V}));var r=n(138),a=n.n(r),i=n(139),o=n.n(i),u=n(140),s=n.n(u),c=n(141),l=n.n(c),f=n(73),d=n.n(f),h=n(142),p=n.n(h),v=n(56),m=n.n(v),g=n(4),b=n.n(g),y=n(440),x=n.n(y),_=n(143),w=n.n(_),O=n(441),k=n.n(O),j=n(603),E=n.n(j),C=n(184),A=n.n(C),S=n(253),D=n.n(S),N=n(254),F=n.n(N),T=n(442),M=n.n(T),I=n(604),R=n.n(I),P=n(443),B=n(288),z=n(432),L=n.n(z),U=n(605),W=n.n(U);!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".react-dat-gui{position:fixed;right:16px;top:0;width:280px;font-size:12px;font-family:Lucida Grande,sans-serif;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent}.react-dat-gui *,.react-dat-gui :after,.react-dat-gui :before{box-sizing:inherit}.react-dat-gui .dg{margin:0;padding:0;color:#eee;overflow:hidden}.react-dat-gui .dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.react-dat-gui .dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.react-dat-gui .dg.main::-webkit-scrollbar-corner{height:0;display:none}.react-dat-gui .dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.react-dat-gui .cr{display:block;background-color:#1a1a1a;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-dat-gui .cr:not(:last-child){border-bottom:1px solid #272727}.react-dat-gui .cr label{display:flex;align-items:center;justify-content:flex-start;width:100%;padding:1px 2px 1px 8px}.react-dat-gui .cr .label-text{width:40%;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-dat-gui .cr input[type=number],.react-dat-gui .cr input[type=text]{background:#303030;border:3px solid #1a1a1a;border-radius:0;margin:0;outline:none;font-size:inherit}.react-dat-gui .cr input[type=number]:hover,.react-dat-gui .cr input[type=text]:hover{background:#3c3c3c}.react-dat-gui .cr input[type=number]:focus,.react-dat-gui .cr input[type=text]:focus{background:#494949;color:#fff}.react-dat-gui .cr input[type=number]::-ms-clear,.react-dat-gui .cr input[type=text]::-ms-clear{display:none}.react-dat-gui .cr.boolean{position:relative;border-left:5px solid #806787}.react-dat-gui .cr.boolean label{cursor:pointer}.react-dat-gui .cr.boolean .label-text{display:block;padding:5px 0}.react-dat-gui .cr.boolean .checkbox-container{width:100%}.react-dat-gui .cr.boolean input[type=checkbox]{margin:0;vertical-align:middle}.react-dat-gui .cr.button{border-left:5px solid #e61d5f}.react-dat-gui .cr.button:hover{background:#111}.react-dat-gui .cr.button .label-text{display:block;width:100%;padding:6px 2px 6px 8px;cursor:pointer}.react-dat-gui li.folder{display:block;padding:0}.react-dat-gui li.folder .title{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:block;cursor:pointer;padding:5px 5px 5px 16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 48% no-repeat}.react-dat-gui li.folder ul{margin-left:4px;width:calc(100% - 4px)}.react-dat-gui li.folder.closed .title{background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==) 6px 48% no-repeat}.react-dat-gui .cr.number{border-left:5px solid #2fa1d6}.react-dat-gui .cr.number input[type=number],.react-dat-gui .cr.number input[type=text]{color:#2fa1d6;height:25px}.react-dat-gui .cr.number .slider{display:block;position:relative;border:3px solid #1a1a1a;border-right-width:1px;background-color:#303030;background-image:linear-gradient(90deg,#2fa1d6,#2fa1d6);background-size:0 100%;background-repeat:no-repeat;cursor:ew-resize;height:25px}.react-dat-gui .cr.string{border-left:5px solid #1ed36f}.react-dat-gui .cr.string input[type=text]{color:#1ed36f;padding:2px 5px;width:100%}.react-dat-gui .cr.select{border-left:5px solid #f4d450}.react-dat-gui .cr.select label{padding:6px 2px 6px 8px}.react-dat-gui .cr.color{border-left:5px solid #1a1a1a}.react-dat-gui .cr.color .swatch{text-align:center;font-weight:700;color:#fff;text-shadow:rgba(0,0,0,.7) 0 1px 1px;padding:2px 5px;border:3px solid #1a1a1a;cursor:pointer}.react-dat-gui .cr.color .popover{position:absolute;z-index:2;right:5px}.react-dat-gui .cr.color .cover{position:fixed;top:0;right:0;bottom:0;left:0}.react-dat-gui .cr.color .picker{background:#fff;box-shadow:0 0 2px rgba(0,0,0,.3),0 4px 8px rgba(0,0,0,.3);box-sizing:initial;width:auto;font-family:Menlo,sans-serif;margin-top:-3px}.react-dat-gui .cr.color .picker .body{padding:0}.react-dat-gui .cr.color .picker .body .controls{display:flex}.react-dat-gui .cr.color .picker .body .controls .toggles{flex:1}.react-dat-gui .cr.color .picker .body .controls .toggles .hue-wrap{height:10px;position:relative}.react-dat-gui .cr.color .picker .saturation-wrap{width:100%;padding-bottom:55%;position:relative;overflow:hidden}.react-dat-gui .cr.color .fields-wrap{display:flex}.react-dat-gui .cr.color .fields-wrap .fields{flex:1;display:flex;margin-left:-6px}.react-dat-gui .cr.color .fields-wrap .fields .field{padding-left:6px;width:100%}.react-dat-gui .cr.color .fields-wrap .fields .field input{font-size:11px;color:#333;border-radius:2px;border:none;box-shadow:inset 0 0 0 1px #dadada;height:21px;text-align:center}.react-dat-gui .cr.color .fields-wrap .fields .field input:focus{outline:none}.react-dat-gui .cr.color .fields-wrap .fields .field label{text-transform:uppercase;font-size:11px;line-height:11px;color:#969696;text-align:center;display:block;margin-top:12px}.react-dat-gui .cr.color .pointer{width:12px;height:12px;border-radius:6px;transform:translate(-6px,-1px);background-color:#f8f8f8;box-shadow:0 1px 4px 0 rgba(0,0,0,.37);position:absolute;z-index:3}.react-dat-gui .cr.color .pointer-circle{width:12px;height:12px;border-radius:6px;box-shadow:inset 0 0 0 1px #fff;transform:translate(-6px,-6px)}.react-dat-gui .cr.presets{border-left:5px solid #dad5cb}.react-dat-gui .cr.presets label{padding:6px 2px 6px 8px}.react-dat-gui .cr.presets label select{width:100%}");var V=function(e){function t(){var e;return a()(this,t),e=s()(this,l()(t).call(this)),m()(d()(e),"handleChange",(function(t){var n=t.target.value;e.props.liveUpdate&&e.update(n)})),m()(d()(e),"handleFocus",(function(){document.addEventListener("keydown",e.handleKeyDown)})),m()(d()(e),"handleBlur",(function(){document.removeEventListener("keydown",e.handleKeyDown),window.getSelection().removeAllRanges(),e.props.liveUpdate||e.update()})),m()(d()(e),"handleKeyDown",(function(t){var n=t.keyCode||t.which,r=e.props.liveUpdate;13!==n||r||e.update()})),e.state={value:null},e}return p()(t,e),o()(t,[{key:"update",value:function(e){var t=this.props,n=t._onUpdateValue,r=t.onUpdate;n(t.path,e),r(e)}},{key:"render",value:function(){var e=this.props,t=e.path,n=e.label,r=e.labelWidth,a=e.className,i=e.style,o=A()(n)?n:t;return b.a.createElement("li",{className:w()("cr","string",a),style:i},b.a.createElement("label",null,b.a.createElement("span",{className:"label-text",style:{width:r}},o),b.a.createElement("input",{style:{width:"calc(100% - ".concat(r,")")},type:"text",value:this.state.value,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=D()(e.data,e.path);return t.value===n?null:{value:n}}}]),t}(g.Component);function q(e){var t=parseFloat(e);return isNaN(t)?0:t}m()(V,"defaultProps",{className:null,style:null,path:null,label:null,onUpdate:function(){return null}});var H=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var K=function(e){function t(){var e;return a()(this,t),e=s()(this,l()(t).call(this)),m()(d()(e),"handleMouseDown",(function(t){e.update(t.pageX),window.addEventListener("mousemove",e.handleMouseMove),window.addEventListener("mouseup",e.handleMouseUp)})),m()(d()(e),"handleMouseMove",(function(t){e.update(t.pageX),t.preventDefault()})),m()(d()(e),"handleMouseUp",(function(t){e.update(t.pageX,!1),window.removeEventListener("mousemove",e.handleMouseMove),window.removeEventListener("mouseup",e.handleMouseUp)})),m()(d()(e),"handleClick",(function(e){e.preventDefault()})),e.state={value:null},e.sliderRef=b.a.createRef(),e}return p()(t,e),o()(t,[{key:"update",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.props,r=n.min,a=n.max,i=n.onUpdate,o=this.sliderRef.current.getBoundingClientRect(),u=e-o.left,s=o.right-o.left,c=r+M()(u/s,0,1)*(a-r);this.setState({value:c},(function(){i(c,t)}))}},{key:"render",value:function(){var e=this.props,t=e.min,n=e.max,r=e.width,a=e.className,i=e.style,o=this.state.value,u=M()(100*(o-t)/(n-t),0,100),s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(n,!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:"".concat(r,"%"),backgroundSize:"".concat(u,"% 100%")},i);return b.a.createElement("span",{ref:this.sliderRef,className:w()("slider",a),style:s,onClick:this.handleClick,onMouseDown:this.handleMouseDown,role:"slider",tabIndex:0,"aria-valuenow":o,"aria-valuemin":t,"aria-valuemax":n})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=q(e.value);return t.value===n?null:{value:n}}}]),t}(g.Component);m()(K,"defaultProps",{className:null,style:null,value:null,min:null,max:null,width:null});var $=function(e){var t=e.value,n=e.min,r=e.max,a=e.step,i=[F()(n),F()(r),F()(a)],o=i[0],u=i[1],s=i[2],c=s&&!H(a)?a.toString().split(".")[1].length:0,l=!1,f=!1;return t=q(t),o&&t<=n&&(t=n,l=!0),u&&t>=r&&(t=r,f=!0),l||f||s&&0!==a&&(t=Math.round(t/a)*a),t.toFixed(c)},X=function(e){function t(){var e;return a()(this,t),e=s()(this,l()(t).call(this)),m()(d()(e),"handleChange",(function(t){var n=t.target.value;e.update(n)})),m()(d()(e),"handleSliderUpdate",(function(t){var n=e.props,r=n.min,a=n.max,i=n.step;e.update($({value:t,min:r,max:a,step:i}))})),m()(d()(e),"update",(function(t){var n=e.props;(0,n._onUpdateValue)(n.path,q(t))})),e.state={value:null},e}return p()(t,e),o()(t,[{key:"renderSlider",value:function(e){var t=this.props,n=t.min,r=t.max,a=this.state.value;return b.a.createElement(K,{value:a,min:n,max:r,width:e,onUpdate:this.handleSliderUpdate})}},{key:"render",value:function(){var e=this.props,t=e.min,n=e.max,r=e.path,a=e.label,i=e.labelWidth,o=e.step,u=e.disableSlider,s=e.className,c=e.style,l=A()(a)?a:r,f=F()(t)&&F()(n),d=f&&!0!==u?Math.round(100/3):100,h=100-d;return b.a.createElement("li",{className:w()("cr","number",s),style:c},b.a.createElement("label",null,b.a.createElement("span",{className:"label-text",style:{width:i}},l),b.a.createElement("span",{style:{display:"inherit",width:"calc(100% - ".concat(i,")")}},f&&!0!==u?this.renderSlider(h):null,b.a.createElement("input",{type:"number",step:o,min:t,max:n,inputMode:"numeric",value:this.state.value,style:{width:"".concat(d,"%")},onChange:this.handleChange}))))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.min,n=e.max,r=e.step;return{value:$({value:D()(e.data,e.path),min:t,max:n,step:r})}}}]),t}(g.Component);m()(X,"defaultProps",{className:null,style:null,min:null,max:null,step:null,path:null,label:null,disableSlider:null});var Y=function(e){function t(e){var n;return a()(this,t),n=s()(this,l()(t).call(this,e)),m()(d()(n),"handleChange",(function(e){var t=e.target.checked,r=n.props;(0,r._onUpdateValue)(r.path,t)})),n.state={value:null},n}return p()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.path,n=e.label,r=e.labelWidth,a=e.className,i=e.style,o=A()(n)?n:t;return b.a.createElement("li",{className:w()("cr","boolean",a),style:i},b.a.createElement("label",null,b.a.createElement("span",{className:"label-text",style:{width:r}},o),b.a.createElement("span",{className:"checkbox-container",style:{width:"calc(100% - ".concat(r,")")}},b.a.createElement("input",{type:"checkbox",checked:this.state.value,onChange:this.handleChange}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=D()(e.data,e.path);return t.value===n?null:{value:n}}}]),t}(g.Component);m()(Y,"defaultProps",{className:null,style:null,path:null,label:null});function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Q=function(e){function t(e){var n;return a()(this,t),n=s()(this,l()(t).call(this,e)),m()(d()(n),"componentDidMount",(function(){return n.setState({initialRender:!1})})),m()(d()(n),"handleClick",(function(){return n.setState((function(e){return{closed:!e.closed}}))})),m()(d()(n),"renderChildren",(function(){var e=n.props,t=e.children,r=(e.title,R()(e,["children","title"]));return b.a.Children.map(t,(function(e){return Object(g.cloneElement)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(n,!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r))}))})),n.state={initialRender:!0,closed:e.closed},n}return p()(t,e),o()(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.closed,r=t.initialRender,a=this.props,i=a.title,o=a.className,u=a.style;return b.a.createElement("li",{className:w()("folder",{closed:n},o),style:u},b.a.createElement("div",{className:"dg"},b.a.createElement("div",{className:"title",onClick:this.handleClick,onKeyPress:this.handleClick,role:"button",tabIndex:0},i),b.a.createElement(P.Spring,{native:!0,immediate:r,to:{height:n?0:"auto"},from:{height:n?"auto":0}},(function(t){return b.a.createElement(P.animated.ul,{style:t},e.renderChildren())}))))}}]),t}(g.Component);m()(Q,"defaultProps",{className:null,style:null,title:"Folder",closed:!0});var Z=function(e){function t(){var e;return a()(this,t),e=s()(this,l()(t).call(this)),m()(d()(e),"handleChange",(function(t){var n=t.target.value,r=e.props,a=r.liveUpdate,i=r._onUpdateValue,o=r.onUpdate;i(r.path,n),a&&o(n)})),e.state={value:null,options:null},e}return p()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.path,n=e.label,r=e.labelWidth,a=e.optionLabels,i=e.className,o=e.style,u=this.state,s=u.value,c=u.options,l=A()(n)?n:t;return b.a.createElement("li",{className:w()("cr","select",i),style:o},b.a.createElement("label",null,b.a.createElement("span",{className:"label-text",style:{width:r}},l),b.a.createElement("select",{value:s,onChange:this.handleChange,style:{width:"calc(100% - ".concat(r,")")}},c.map((function(e,t){return b.a.createElement("option",{key:t,value:e},a?a[t]:e)})))))}}],[{key:"getDerivedStateFromProps",value:function(e){return{value:D()(e.data,e.path),options:e.options}}}]),t}(g.Component);m()(Z,"defaultProps",{className:null,style:null,path:null,label:null,optionLabels:null,onUpdate:function(){return null}});var ee=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=s()(this,(e=l()(t)).call.apply(e,[this].concat(i))),m()(d()(n),"handleChange",(function(e,t){var r=n.props.onChange;L.a.isValidHex(e)&&r({hex:e,source:"hex"},t)})),n}return p()(t,e),o()(t,[{key:"render",value:function(){var e=this.props.hex;return b.a.createElement("div",{className:"flexbox-fix fields-wrap"},b.a.createElement("div",{className:"flexbox-fix fields"},b.a.createElement("div",{className:"field"},b.a.createElement(B.EditableInput,{value:e,onChange:this.handleChange}))))}}]),t}(g.Component),te=function(){return b.a.createElement("div",{className:"pointer"})},ne=function(){return b.a.createElement("div",{className:"pointer-circle"})},re=function(e){var t=e.onChange,n=e.hsl,r=e.hsv,a=e.hex,i=e.className,o=void 0===i?"":i;return b.a.createElement("div",{className:"picker ".concat(o)},b.a.createElement("div",{className:"saturation-wrap"},b.a.createElement(B.Saturation,{className:"saturation",hsl:n,hsv:r,pointer:ne,onChange:t})),b.a.createElement("div",{className:"body"},b.a.createElement("div",{className:"controls"},b.a.createElement("div",{className:"toggles"},b.a.createElement("div",{className:"hue-wrap"},b.a.createElement(B.Hue,{className:"hue",hsl:n,pointer:te,onChange:t})))),b.a.createElement(ee,{hex:a,onChange:t})))};re.defaultProps={hsl:null,hsv:null,hex:null,className:null,disableAlpha:!1};var ae=Object(B.ColorWrap)(re);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(n,!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(e){function t(){var e;return a()(this,t),e=s()(this,l()(t).call(this)),m()(d()(e),"handleClickColorPicker",(function(){return e.setState((function(e){return oe({},e,{displayColorPicker:!e.displayColorPicker})}))})),m()(d()(e),"handleCloseColorPicker",(function(){return e.setState({displayColorPicker:!1})})),m()(d()(e),"handleChangeColor",(function(t){var n=A()(t)?t:t.hex,r=e.props;(0,r._onUpdateValue)(r.path,n)})),e.state={value:null,displayColorPicker:!1},e}return p()(t,e),o()(t,[{key:"renderPicker",value:function(){var e=this.state,t=e.value;return e.displayColorPicker?b.a.createElement("div",{className:"popover"},b.a.createElement("div",{className:"cover",onClick:this.handleCloseColorPicker,onKeyPress:this.handleCloseColorPicker,role:"button",tabIndex:0}),b.a.createElement(ae,{color:t,onChange:this.handleChangeColor})):null}},{key:"render",value:function(){var e=this.props,t=e.path,n=e.label,r=e.labelWidth,a=e.className,i=e.style,o=this.state.value,u=A()(n)?n:t;return b.a.createElement("li",{className:w()("cr","color",a),style:oe({borderLeftColor:"".concat(o)},i)},b.a.createElement("label",null,b.a.createElement("span",{className:"label-text",style:{width:r}},u),b.a.createElement("div",{style:{backgroundColor:o,width:"calc(100% - ".concat(r,")")}},b.a.createElement("div",{className:"swatch",onClick:this.handleClickColorPicker,onKeyPress:this.handleClickColorPicker,role:"button",tabIndex:0},o),this.renderPicker())))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return oe({},t,{value:D()(e.data,e.path)})}}]),t}(g.Component);m()(ue,"defaultProps",{className:null,style:null,path:null,label:null});var se="Default",ce=function(e){function t(){var e;return a()(this,t),e=s()(this,l()(t).call(this)),m()(d()(e),"handleChange",(function(t){var n=JSON.parse(t.target.value),r=e.props,a=r.liveUpdate,i=r.onUpdate;a&&i(n)})),e.state={defaultPreset:null,options:null},e}return p()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.path,n=e.label,r=e.labelWidth,a=e.className,i=e.style,o=this.state.options,u=A()(n)?n:t;return b.a.createElement("li",{className:w()("cr","presets",a),style:i},b.a.createElement("label",null,b.a.createElement("span",{className:"label-text",style:{width:r}},u),b.a.createElement("select",{onChange:this.handleChange,style:{width:"calc(100% - ".concat(r,")")}},o.map((function(e){return Object.keys(e).map((function(t){return b.a.createElement("option",{key:t,value:JSON.stringify(e[t])},t)}))})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=x()(e.data),r=t.defaultPreset?t.defaultPreset:n;return{defaultPreset:r,options:[m()({},se,r)].concat(W()(e.options.filter((function(e){return Object.keys(e)[0]!==se}))))}}}]),t}(g.Component);m()(ce,"defaultProps",{className:null,style:null,path:null});var le=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=s()(this,(e=l()(t)).call.apply(e,[this].concat(i))),m()(d()(n),"handleUpdateValue",(function(e,t){var r=n.props,a=r.data;(0,r.onUpdate)(E()(x()(a),e,t))})),n}return p()(t,e),o()(t,[{key:"renderChildren",value:function(){var e=this,t=this.props,n=t.children,r=t.data;return b.a.Children.toArray(n).map((function(t,n){var a=k()(t.props.liveUpdate)?e.props.liveUpdate:t.props.liveUpdate,i=k()(t.props.labelWidth)?e.props.labelWidth:t.props.labelWidth;return Object(g.cloneElement)(t,{key:n,data:r,liveUpdate:a,labelWidth:i,_onUpdateValue:e.handleUpdateValue})}))}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.className,r=w()("react-dat-gui",n);return b.a.createElement("div",{className:r,style:t},b.a.createElement("ul",{className:"dg main"},this.renderChildren()))}}]),t}(g.Component);m()(le,"defaultProps",{liveUpdate:!0,className:null,style:null,labelWidth:"40%"}),t.e=le},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return p}));var o=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],u=e&&a(e),s=t&&a(t),c=u||s;if(e&&a(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var l=o[o.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,d=o.length;d>=0;d--){var h=o[d];"."===h?i(o,d):".."===h?(i(o,d),f++):f&&(i(o,d),f--)}if(!c)for(;f--;f)o.unshift("..");!c||""===o[0]||o[0]&&a(o[0])||o.unshift("");var p=o.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function u(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var s=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=u(t),a=u(n);return r!==t||a!==n?e(r,a):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(117);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function d(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r),a}function v(e,t,n,a){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",a=t.indexOf("#");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=r({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(u){throw u instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):u}return n&&(i.key=n),a?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=o(i.pathname,a.pathname)):i.pathname=a.pathname:i.pathname||(i.pathname="/"),i}function m(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&s(e.state,t.state)}function g(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,a){if(null!=e){var i="function"===typeof e?e(t,n):e;"string"===typeof i?"function"===typeof r?r(i,a):a(!0):a(!1!==i)}else a(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var b=!("undefined"===typeof window||!window.document||!window.document.createElement);function y(e,t){t(window.confirm(e))}var x="popstate",_="hashchange";function w(){try{return window.history.state||{}}catch(e){return{}}}function O(e){void 0===e&&(e={}),b||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),a=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,u=void 0!==o&&o,s=i.getUserConfirmation,f=void 0===s?y:s,m=i.keyLength,O=void 0===m?6:m,k=e.basename?h(l(e.basename)):"";function j(e){var t=e||{},n=t.key,r=t.state,a=window.location,i=a.pathname+a.search+a.hash;return k&&(i=d(i,k)),v(i,r,n)}function E(){return Math.random().toString(36).substr(2,O)}var C=g();function A(e){r(L,e),L.length=t.length,C.notifyListeners(L.location,L.action)}function S(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||F(j(e.state))}function D(){F(j(w()))}var N=!1;function F(e){if(N)N=!1,A();else{C.confirmTransitionTo(e,"POP",f,(function(t){t?A({action:"POP",location:e}):function(e){var t=L.location,n=M.indexOf(t.key);-1===n&&(n=0);var r=M.indexOf(e.key);-1===r&&(r=0);var a=n-r;a&&(N=!0,R(a))}(e)}))}}var T=j(w()),M=[T.key];function I(e){return k+p(e)}function R(e){t.go(e)}var P=0;function B(e){1===(P+=e)&&1===e?(window.addEventListener(x,S),a&&window.addEventListener(_,D)):0===P&&(window.removeEventListener(x,S),a&&window.removeEventListener(_,D))}var z=!1;var L={length:t.length,action:"POP",location:T,createHref:I,push:function(e,r){var a="PUSH",i=v(e,r,E(),L.location);C.confirmTransitionTo(i,a,f,(function(e){if(e){var r=I(i),o=i.key,s=i.state;if(n)if(t.pushState({key:o,state:s},null,r),u)window.location.href=r;else{var c=M.indexOf(L.location.key),l=M.slice(0,c+1);l.push(i.key),M=l,A({action:a,location:i})}else window.location.href=r}}))},replace:function(e,r){var a="REPLACE",i=v(e,r,E(),L.location);C.confirmTransitionTo(i,a,f,(function(e){if(e){var r=I(i),o=i.key,s=i.state;if(n)if(t.replaceState({key:o,state:s},null,r),u)window.location.replace(r);else{var c=M.indexOf(L.location.key);-1!==c&&(M[c]=i.key),A({action:a,location:i})}else window.location.replace(r)}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=C.setPrompt(e);return z||(B(1),z=!0),function(){return z&&(z=!1,B(-1)),t()}},listen:function(e){var t=C.appendListener(e);return B(1),function(){B(-1),t()}}};return L}var k="hashchange",j={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function E(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function C(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function A(e){window.location.replace(E(window.location.href)+"#"+e)}function S(e){void 0===e&&(e={}),b||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),a=n.getUserConfirmation,i=void 0===a?y:a,o=n.hashType,u=void 0===o?"slash":o,s=e.basename?h(l(e.basename)):"",f=j[u],m=f.encodePath,x=f.decodePath;function _(){var e=x(C());return s&&(e=d(e,s)),v(e)}var w=g();function O(e){r(L,e),L.length=t.length,w.notifyListeners(L.location,L.action)}var S=!1,D=null;function N(){var e,t,n=C(),r=m(n);if(n!==r)A(r);else{var a=_(),o=L.location;if(!S&&(t=a,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(D===p(a))return;D=null,function(e){if(S)S=!1,O();else{var t="POP";w.confirmTransitionTo(e,t,i,(function(n){n?O({action:t,location:e}):function(e){var t=L.location,n=I.lastIndexOf(p(t));-1===n&&(n=0);var r=I.lastIndexOf(p(e));-1===r&&(r=0);var a=n-r;a&&(S=!0,R(a))}(e)}))}}(a)}}var F=C(),T=m(F);F!==T&&A(T);var M=_(),I=[p(M)];function R(e){t.go(e)}var P=0;function B(e){1===(P+=e)&&1===e?window.addEventListener(k,N):0===P&&window.removeEventListener(k,N)}var z=!1;var L={length:t.length,action:"POP",location:M,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=E(window.location.href)),n+"#"+m(s+p(e))},push:function(e,t){var n="PUSH",r=v(e,void 0,void 0,L.location);w.confirmTransitionTo(r,n,i,(function(e){if(e){var t=p(r),a=m(s+t);if(C()!==a){D=t,function(e){window.location.hash=e}(a);var i=I.lastIndexOf(p(L.location)),o=I.slice(0,i+1);o.push(t),I=o,O({action:n,location:r})}else O()}}))},replace:function(e,t){var n="REPLACE",r=v(e,void 0,void 0,L.location);w.confirmTransitionTo(r,n,i,(function(e){if(e){var t=p(r),a=m(s+t);C()!==a&&(D=t,A(a));var i=I.indexOf(p(L.location));-1!==i&&(I[i]=t),O({action:n,location:r})}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=w.setPrompt(e);return z||(B(1),z=!0),function(){return z&&(z=!1,B(-1)),t()}},listen:function(e){var t=w.appendListener(e);return B(1),function(){B(-1),t()}}};return L}function D(e,t,n){return Math.min(Math.max(e,t),n)}function N(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,a=t.initialEntries,i=void 0===a?["/"]:a,o=t.initialIndex,u=void 0===o?0:o,s=t.keyLength,c=void 0===s?6:s,l=g();function f(e){r(x,e),x.length=x.entries.length,l.notifyListeners(x.location,x.action)}function d(){return Math.random().toString(36).substr(2,c)}var h=D(u,0,i.length-1),m=i.map((function(e){return v(e,void 0,"string"===typeof e?d():e.key||d())})),b=p;function y(e){var t=D(x.index+e,0,x.entries.length-1),r=x.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var x={length:m.length,action:"POP",location:m[h],index:h,entries:m,createHref:b,push:function(e,t){var r="PUSH",a=v(e,t,d(),x.location);l.confirmTransitionTo(a,r,n,(function(e){if(e){var t=x.index+1,n=x.entries.slice(0);n.length>t?n.splice(t,n.length-t,a):n.push(a),f({action:r,location:a,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",a=v(e,t,d(),x.location);l.confirmTransitionTo(a,r,n,(function(e){e&&(x.entries[x.index]=a,f({action:r,location:a}))}))},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=x.index+e;return t>=0&&t<x.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return x}},function(e,t,n){var r=n(495),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},function(e,t,n){var r=n(98);e.exports=function(e,t,n){return new r(e,n).compare(new r(t,n))}},function(e,t,n){var r=n(208),a=n(187),i=n(166),o=n(167),u=function(){"use strict";function e(t,n){var r=this;if(i(this,e),n=c(n),t instanceof e)return t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease?t:new e(t.raw,n);if(t instanceof l)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((function(e){return r.parseRange(e.trim())})).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(t));if(this.set.length>1){var o=this.set[0];if(this.set=this.set.filter((function(e){return!y(e[0])})),0===this.set.length)this.set=[o];else if(this.set.length>1){var u,s=a(this.set);try{for(s.s();!(u=s.n()).done;){var f=u.value;if(1===f.length&&x(f[0])){this.set=[f];break}}}catch(d){s.e(d)}finally{s.f()}}}this.format()}return o(e,[{key:"format",value:function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(e){var t=this;e=e.trim();var n=Object.keys(this.options).join(","),i="parseRange:".concat(n,":").concat(e),o=s.get(i);if(o)return o;var u=this.options.loose,c=u?p[v.HYPHENRANGELOOSE]:p[v.HYPHENRANGE];e=e.replace(c,F(this.options.includePrerelease)),f("hyphen replace",e),e=e.replace(p[v.COMPARATORTRIM],m),f("comparator trim",e,p[v.COMPARATORTRIM]),e=(e=(e=e.replace(p[v.TILDETRIM],g)).replace(p[v.CARETTRIM],b)).split(/\s+/).join(" ");var d,h=u?p[v.COMPARATORLOOSE]:p[v.COMPARATOR],x=e.split(" ").map((function(e){return w(e,t.options)})).join(" ").split(/\s+/).map((function(e){return N(e,t.options)})).filter(this.options.loose?function(e){return!!e.match(h)}:function(){return!0}).map((function(e){return new l(e,t.options)})),_=(x.length,new Map),O=a(x);try{for(O.s();!(d=O.n()).done;){var k=d.value;if(y(k))return[k];_.set(k.value,k)}}catch(E){O.e(E)}finally{O.f()}_.size>1&&_.has("")&&_.delete("");var j=r(_.values());return s.set(i,j),j}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some((function(e){return _(e,n)&&t.set.some((function(t){return _(t,n)&&e.every((function(e){return t.every((function(t){return e.intersects(t,n)}))}))}))}))}},{key:"test",value:function(e){if(!e)return!1;if("string"===typeof e)try{e=new d(e,this.options)}catch(n){return!1}for(var t=0;t<this.set.length;t++)if(T(this.set[t],e,this.options))return!0;return!1}}]),e}();e.exports=u;var s=new(n(811))({max:1e3}),c=n(308),l=n(310),f=n(307),d=n(98),h=n(212),p=h.re,v=h.t,m=h.comparatorTrimReplace,g=h.tildeTrimReplace,b=h.caretTrimReplace,y=function(e){return"<0.0.0-0"===e.value},x=function(e){return""===e.value},_=function(e,t){for(var n=!0,r=e.slice(),a=r.pop();n&&r.length;)n=r.every((function(e){return a.intersects(e,t)})),a=r.pop();return n},w=function(e,t){return f("comp",e,t),e=E(e,t),f("caret",e),e=k(e,t),f("tildes",e),e=A(e,t),f("xrange",e),e=D(e,t),f("stars",e),e},O=function(e){return!e||"x"===e.toLowerCase()||"*"===e},k=function(e,t){return e.trim().split(/\s+/).map((function(e){return j(e,t)})).join(" ")},j=function(e,t){var n=t.loose?p[v.TILDELOOSE]:p[v.TILDE];return e.replace(n,(function(t,n,r,a,i){var o;return f("tilde",e,t,n,r,a,i),O(n)?o="":O(r)?o=">=".concat(n,".0.0 <").concat(+n+1,".0.0-0"):O(a)?o=">=".concat(n,".").concat(r,".0 <").concat(n,".").concat(+r+1,".0-0"):i?(f("replaceTilde pr",i),o=">=".concat(n,".").concat(r,".").concat(a,"-").concat(i," <").concat(n,".").concat(+r+1,".0-0")):o=">=".concat(n,".").concat(r,".").concat(a," <").concat(n,".").concat(+r+1,".0-0"),f("tilde return",o),o}))},E=function(e,t){return e.trim().split(/\s+/).map((function(e){return C(e,t)})).join(" ")},C=function(e,t){f("caret",e,t);var n=t.loose?p[v.CARETLOOSE]:p[v.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(function(t,n,a,i,o){var u;return f("caret",e,t,n,a,i,o),O(n)?u="":O(a)?u=">=".concat(n,".0.0").concat(r," <").concat(+n+1,".0.0-0"):O(i)?u="0"===n?">=".concat(n,".").concat(a,".0").concat(r," <").concat(n,".").concat(+a+1,".0-0"):">=".concat(n,".").concat(a,".0").concat(r," <").concat(+n+1,".0.0-0"):o?(f("replaceCaret pr",o),u="0"===n?"0"===a?">=".concat(n,".").concat(a,".").concat(i,"-").concat(o," <").concat(n,".").concat(a,".").concat(+i+1,"-0"):">=".concat(n,".").concat(a,".").concat(i,"-").concat(o," <").concat(n,".").concat(+a+1,".0-0"):">=".concat(n,".").concat(a,".").concat(i,"-").concat(o," <").concat(+n+1,".0.0-0")):(f("no pr"),u="0"===n?"0"===a?">=".concat(n,".").concat(a,".").concat(i).concat(r," <").concat(n,".").concat(a,".").concat(+i+1,"-0"):">=".concat(n,".").concat(a,".").concat(i).concat(r," <").concat(n,".").concat(+a+1,".0-0"):">=".concat(n,".").concat(a,".").concat(i," <").concat(+n+1,".0.0-0")),f("caret return",u),u}))},A=function(e,t){return f("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return S(e,t)})).join(" ")},S=function(e,t){e=e.trim();var n=t.loose?p[v.XRANGELOOSE]:p[v.XRANGE];return e.replace(n,(function(n,r,a,i,o,u){f("xRange",e,n,r,a,i,o,u);var s=O(a),c=s||O(i),l=c||O(o),d=l;return"="===r&&d&&(r=""),u=t.includePrerelease?"-0":"",s?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&d?(c&&(i=0),o=0,">"===r?(r=">=",c?(a=+a+1,i=0,o=0):(i=+i+1,o=0)):"<="===r&&(r="<",c?a=+a+1:i=+i+1),"<"===r&&(u="-0"),n="".concat(r+a,".").concat(i,".").concat(o).concat(u)):c?n=">=".concat(a,".0.0").concat(u," <").concat(+a+1,".0.0-0"):l&&(n=">=".concat(a,".").concat(i,".0").concat(u," <").concat(a,".").concat(+i+1,".0-0")),f("xRange return",n),n}))},D=function(e,t){return f("replaceStars",e,t),e.trim().replace(p[v.STAR],"")},N=function(e,t){return f("replaceGTE0",e,t),e.trim().replace(p[t.includePrerelease?v.GTE0PRE:v.GTE0],"")},F=function(e){return function(t,n,r,a,i,o,u,s,c,l,f,d,h){return n=O(r)?"":O(a)?">=".concat(r,".0.0").concat(e?"-0":""):O(i)?">=".concat(r,".").concat(a,".0").concat(e?"-0":""):o?">=".concat(n):">=".concat(n).concat(e?"-0":""),s=O(c)?"":O(l)?"<".concat(+c+1,".0.0-0"):O(f)?"<".concat(c,".").concat(+l+1,".0-0"):d?"<=".concat(c,".").concat(l,".").concat(f,"-").concat(d):e?"<".concat(c,".").concat(l,".").concat(+f+1,"-0"):"<=".concat(s),"".concat(n," ").concat(s).trim()}},T=function(e,t,n){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(var a=0;a<e.length;a++)if(f(e[a].semver),e[a].semver!==l.ANY&&e[a].semver.prerelease.length>0){var i=e[a].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}},function(e,t,n){"use strict";var r=n(2),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(545),o=n(546);t.getDrawArea=function(e){if(e instanceof HTMLElement)return e;if(i.isSurface(e))return e.drawArea;if(i.isSurfaceInfo(e))return o.visor().surface({name:e.name,tab:e.tab,styles:e.styles}).drawArea;throw new Error("Not a drawable")},t.shallowEquals=function(e,t){var n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++){var i=n[a];if(e[i]!==t[i])return!1}return!0},t.nextFrame=function(){return a(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return requestAnimationFrame(e)}));case 2:case"end":return e.stop()}}),e)})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({log_:function(e){var t={x:Object(i.a)(e,"x","log")};return r.a.runKernel(a.Bb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({split_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=Object(i.a)(e,"x","split"),u={x:o},s={numOrSizeSplits:t,axis:n};return r.a.runKernel(a.Jc,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(8),a=n(20),i=n(91);function o(e,t){Object(a.d)(e);var n=Object(r.c)(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Object(i.a)(e,null,n,t)}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c}));var r,a=n(26),i=n.n(a);function o(e,t){return void 0===e&&(e=""),void 0===t&&(t=r),t?e.split(" ").map((function(e){return t[e]||e})).join(" "):e}var u="object"===typeof window&&window.Element||function(){};i.a.oneOfType([i.a.string,i.a.func,function(e,t,n){if(!(e[t]instanceof u))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")},i.a.shape({current:i.a.any})]);var s=i.a.oneOfType([i.a.func,i.a.string,i.a.shape({$$typeof:i.a.symbol,render:i.a.func}),i.a.arrayOf(i.a.oneOfType([i.a.func,i.a.string,i.a.shape({$$typeof:i.a.symbol,render:i.a.func})]))]);"undefined"===typeof window||!window.document||window.document.createElement;function c(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(878),a=n(73);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?a(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(879);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var o=a.apply(null,r);o&&e.push(o)}else if("object"===i)for(var u in r)n.call(r,u)&&r[u]&&e.push(u)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n(59),a=n(65);function i(e){return Object(r.a)((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*a.c)/a.e}))}var o=i(0),u=i(1),s=i(2),c=i(3),l=i(4),f=i(5),d=i(6);o.range,u.range,s.range,c.range,l.range,f.range,d.range},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n(59),a=n(65);function i(e){return Object(r.a)((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/a.e}))}var o=i(0),u=i(1),s=i(2),c=i(3),l=i(4),f=i(5),d=i(6);o.range,u.range,s.range,c.range,l.range,f.range,d.range},function(e,t,n){var r=n(209),a=n(684),i=n(685),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s}));var r=n(14);function a(e,t,n){var r=function(e,t,n){return function(e,t,n){var r=0,a=e.length,i=0,o=!1;for(;r<a;){var u=n(t,e[i=r+(a-r>>>1)]);u>0?r=i+1:(a=i,o=!u)}return o?r:-r-1}(e,t,n||i)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function i(e,t){return e>t?1:e<t?-1:0}function o(e,t,n,r,a){return c(e,t,n,r,a,0)}function u(e,t,n,r,a,i){return c(e,t,n,r,a,0,!1,i,!0)}function s(e,t,n,r,a,i){return c(e,t,n,r,a,i,!0)}function c(e,t,n,i,o,u){for(var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],h=arguments.length>8&&void 0!==arguments[8]&&arguments[8],p=[],v=0;v<t.length;v++)t[v]>o&&p.push({score:t[v],boxIndex:v,suppressBeginIndex:0});p.sort(d);for(var m=u>0?-.5/u:0,g=[],b=[];g.length<n&&p.length>0;){var y=p.pop(),x=y.score,_=y.boxIndex,w=y.suppressBeginIndex;if(x<o)break;for(var O=!1,k=g.length-1;k>=w;--k){var j=l(e,_,g[k]);if(j>=i){O=!0;break}if(y.score=y.score*f(i,m,j),y.score<=o)break}y.suppressBeginIndex=g.length,O||(y.score===x?(g.push(_),b.push(y.score)):y.score>o&&a(p,y,d))}var E=g.length,C=n-E;c&&C>0&&(g.push.apply(g,Object(r.a)(new Array(C).fill(0))),b.push.apply(b,Object(r.a)(new Array(C).fill(0))));var A={selectedIndices:g};return s&&(A.selectedScores=b),h&&(A.validOutputs=E),A}function l(e,t,n){var r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),u=Math.max(r[0],r[2]),s=Math.max(r[1],r[3]),c=Math.min(a[0],a[2]),l=Math.min(a[1],a[3]),f=Math.max(a[0],a[2]),d=Math.max(a[1],a[3]),h=(u-i)*(s-o),p=(f-c)*(d-l);if(h<=0||p<=0)return 0;var v=Math.max(i,c),m=Math.max(o,l),g=Math.min(u,f),b=Math.min(s,d),y=Math.max(g-v,0)*Math.max(b-m,0);return y/(h+p-y)}function f(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function d(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(20),i=n(110),o=n(149);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=u(e,"float32"),s=Object(o.a)(e,"float32");return Object(i.a)(n,s)}var c=Object(a.D)(Object(a.O)(e),t);return r.a.makeTensor(c,e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12),a=n(20),i=n(110);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=o(e,"float32"),u=o(e,"float32");return Object(i.a)(n,u)}var s=Object(a.F)(Object(a.O)(e),t);return r.a.makeTensor(s,e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({relu_:function(e){var t={x:Object(i.a)(e,"x","relu")};return r.a.runKernel(a.mc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({step_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.a)(e,"x","step"),o={x:n},u={alpha:t};return r.a.runKernel(a.Nc,o,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11);var s=Object(u.b)({unstack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.a)(e,"x","unstack","string_or_numeric");o.b(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")}));var u={value:n},s={axis:t};return r.a.runKernel(a.Yc,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(19);var s=n(11);var c=Object(s.b)({batchNorm_:function(e,t,n,s,c,l){null==l&&(l=.001);var f,d,h=Object(i.a)(e,"x","batchNorm"),p=Object(i.a)(t,"mean","batchNorm"),v=Object(i.a)(n,"variance","batchNorm");null!=c&&(f=Object(i.a)(c,"scale","batchNorm")),null!=s&&(d=Object(i.a)(s,"offset","batchNorm")),o.b(p.rank===v.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),o.b(null==d||p.rank===d.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),o.b(null==f||p.rank===f.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var m={x:function(e){return 0===e.rank||1===e.rank?Object(u.a)(e,[1,1,1,e.size]):2===e.rank?Object(u.a)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?Object(u.a)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e}(h),scale:f,offset:d,mean:p,variance:v},g={varianceEpsilon:l},b=r.a.runKernel(a.ib,m,g);return Object(u.a)(b,h.shape)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({sigmoid_:function(e){var t={x:Object(i.a)(e,"x","sigmoid")};return r.a.runKernel(a.Ac,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11);var s=Object(u.b)({tile_:function(e,t){var n=Object(i.a)(e,"x","tile","string_or_numeric");o.b(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")}));var u={x:n},s={reps:t};return r.a.runKernel(a.Tc,u,s)}})},function(e,t,n){var r=n(651),a=n(652),i=n(653),o=n(654),u=n(655),s=n(656),c=n(657);c.alea=r,c.xor128=a,c.xorwow=i,c.xorshift7=o,c.xor4096=u,c.tychei=s,e.exports=c},function(e,t,n){"use strict";var r=n(163);t.a=function(e){return(e=Object(r.b)(Math.abs(e)))?e[1]:NaN}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DataFrame}));var _home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14),_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__),_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13),_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3),_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9),_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_get__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(32),_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(30),_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(15),_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(16),_tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(29),_generic__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(365),_series__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(57),_utils__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(93),_groupby__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(578),_plotting_plot__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(364),_indexing__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(183),_concat_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(579),mathjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(619),utils=new _utils__WEBPACK_IMPORTED_MODULE_13__.a,DataFrame=function(_Ndframe){Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_8__.a)(DataFrame,_Ndframe);var _super=Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_9__.a)(DataFrame);function DataFrame(e,t){var n;return Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__.a)(this,DataFrame),(n=_super.call(this,e,t))._set_column_property(),n}return Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__.a)(DataFrame,[{key:"_set_column_property",value:function(){var e=this,t=this.col_data,n=this.column_names;t.forEach((function(t,r){e[n[r]]=null,Object.defineProperty(e,n[r],{get:function(){return new _series__WEBPACK_IMPORTED_MODULE_12__.a(this.col_data[r],{columns:n[r],index:this.index})},set:function(e){this.addColumn({column:n[r],value:e})}})}))}},{key:"to_csv",value:function(){var e=Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.a)(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t,n,r,a=arguments;return _home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_get__WEBPACK_IMPORTED_MODULE_6__.a)(Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__.a)(DataFrame.prototype),"to_csv",this).call(this);case 3:return n=e.sent,"undefined"===typeof window?__webpack_require__(796).writeFileSync(t,n,(function(e){return e&&console.error(e)})):(r="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(r))),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"drop",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=["columns","index","inplace","axis"];utils._throw_wrong_params_error(t,n),t.inplace=t.inplace||!1,"axis"in t||(t.axis=1);var r=null;if(r="index"in t&&0==t.axis?t.index:t.columns,1==t.axis){if(!("columns"in t))throw Error("No column found. Axis of 1 must be accompanied by an array of column(s) names");var a=this,i={},o=[],u=r.map((function(e){var t=a.columns.indexOf(e);if(-1==t)throw new Error('column "'.concat(e,'" does not exist'));return t}));if(this.col_data.forEach((function(e,t){u.includes(t)||(i[a.column_names[t]]=e,o.push(a.dtypes[t]))})),!t.inplace){var s=a.columns,c=Object.keys(i),l=new DataFrame(i,{index:a.index,dtypes:o});return l.__set_col_property(l,l.col_data,c,s),l}var f=a.columns,d=Object.keys(i);this.__update_frame_in_place(null,null,i,null,o),this.__set_col_property(a,a.col_data,d,f)}else{if(!utils.__key_in_object(t,"index"))throw Error("No index label found. Axis of 0 must be accompanied by an array of index labels");r.forEach((function(t){if(!e.index.includes(t))throw new Error("".concat(t," does not exist in index"))}));var h,p,v=this.values,m=[];if("string"==typeof r[0]?(this.index.forEach((function(e,t){r.includes(e)&&m.push(t)})),h=utils.__remove_arr(v,m),p=utils.__remove_arr(this.index,m)):(h=utils.__remove_arr(v,r),p=utils.__remove_arr(this.index,r)),!t.inplace)return new DataFrame(h,{columns:this.columns,index:p});this.row_data_tensor=_tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_10__.l(h),this.data=h,this.__set_index(p)}}},{key:"loc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=["columns","rows"];utils._throw_wrong_params_error(e,t),e.type="loc";var n=Object(_indexing__WEBPACK_IMPORTED_MODULE_16__.a)(this,e),r=Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(n,3),a=r[0],i=r[1],o=r[2],u={columns:i},s=new DataFrame(a,u);return s.__set_index(o),s}},{key:"iloc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=["columns","rows"];utils._throw_wrong_params_error(e,t),e.type="iloc";var n=Object(_indexing__WEBPACK_IMPORTED_MODULE_16__.a)(this,e),r=Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(n,3),a=r[0],i=r[1],o=r[2],u={columns:i},s=new DataFrame(a,u);return s.__set_index(o),s}},{key:"head",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;if(e>this.values.length||e<1)return this;var t=this.values.slice(0,e),n=this.index.slice(0,e),r={columns:this.column_names,index:n},a=new DataFrame(t,r);return a}},{key:"tail",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=this.values.length;if(e>t||e<1)return this;var n=this.values.slice(t-e),r=this.index.slice(t-e),a={columns:this.column_names,index:r},i=new DataFrame(n,a);return i}},{key:"sample",value:function(){var e=Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.a)(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t,n,r,a,i=arguments;return _home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:-1,n=i.length>1&&void 0!==i[1]?i[1]:1,!(t>this.shape[0])){e.next=4;break}throw new Error("Sample size n cannot be bigger than size of dataset");case 4:if(!(t<-1||0==t)){e.next=6;break}throw new Error("Sample size cannot be less than -1 or 0");case 6:return t=-1===t?this.shape[0]:t,e.next=9,_tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_10__.c.array(this.index).shuffle(t,n).take(t).toArray();case 9:return r=e.sent,a=this.iloc({rows:r}),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(e,t){if(this.__frame_is_compactible_for_operation){var n=this.__get_ops_tensors([this,e],t),r=n[0].add(n[1]),a=this.columns;return this.__get_df_from_tensor(r,a)}throw Error("TypeError: Dtypes of columns must be Float of Int")}},{key:"sub",value:function(e,t){if(this.__frame_is_compactible_for_operation){var n=this.__get_ops_tensors([this,e],t),r=n[0].sub(n[1]),a=this.columns;return this.__get_df_from_tensor(r,a)}throw Error("TypeError: Dtypes of columns must be Float of Int")}},{key:"mul",value:function(e,t){if(this.__frame_is_compactible_for_operation){var n=this.__get_ops_tensors([this,e],t),r=n[0].mul(n[1]),a=this.columns;return this.__get_df_from_tensor(r,a)}throw Error("TypeError: Dtypes of columns must be Float of Int")}},{key:"div",value:function(e,t){if(this.__frame_is_compactible_for_operation){var n=this.__get_ops_tensors([this,e],t),r=n[0].div(n[1]),a=this.columns;return this.__get_df_from_tensor(r,a)}throw Error("TypeError: Dtypes of columns must be Float of Int")}},{key:"pow",value:function(e,t){if(this.__frame_is_compactible_for_operation){var n=this.__get_ops_tensors([this,e],t),r=n[0].pow(n[1]),a=this.columns;return this.__get_df_from_tensor(r,a)}throw Error("TypeError: Dtypes of columns must be Float of Int")}},{key:"mod",value:function(e,t){if(this.__frame_is_compactible_for_operation){var n=this.__get_ops_tensors([this,e],t),r=n[0].mod(n[1]),a=this.columns;return this.__get_df_from_tensor(r,a)}throw Error("TypeError: Dtypes of columns must be Float of Int")}},{key:"mean",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.__frame_is_compactible_for_operation){var t=this.__get_tensor_and_idx(this,e),n=t[0],r=t[1],a=n.mean(t[2]),i=new _series__WEBPACK_IMPORTED_MODULE_12__.a(a.arraySync(),{index:r});return i}throw Error("TypeError: Dtypes of columns must be Float of Int")}},{key:"median",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.__frame_is_compactible_for_operation){var t,n;1==e?(t=this.col_data_tensor.arraySync(),n=this.column_names):(t=this.row_data_tensor.arraySync(),n=this.index);var r=utils.__median(t,!1),a=new _series__WEBPACK_IMPORTED_MODULE_12__.a(r,{index:n});return a}throw Error("TypeError: Dtypes of columns must be Float of Int")}},{key:"min",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.__frame_is_compactible_for_operation){var t=this.__get_tensor_and_idx(this,e),n=t[0],r=t[1],a=n.min(t[2]),i=new _series__WEBPACK_IMPORTED_MODULE_12__.a(a.arraySync(),{index:r});return i}throw Error("TypeError: Dtypes of columns must be Float of Int")}},{key:"max",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.__frame_is_compactible_for_operation){var t=this.__get_tensor_and_idx(this,e),n=t[0],r=t[1],a=n.max(t[2]),i=new _series__WEBPACK_IMPORTED_MODULE_12__.a(a.arraySync(),{index:r});return i}throw Error("TypeError: Dtypes of columns must be Float of Int")}},{key:"std",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.__frame_is_compactible_for_operation){var t,n=this.col_data_tensor.arraySync();t=1==e?this.column_names:this.index;var r=Object(mathjs__WEBPACK_IMPORTED_MODULE_18__.c)(n,e),a=new _series__WEBPACK_IMPORTED_MODULE_12__.a(r,{index:t});return a}throw Error("TypeError: Dtypes of columns must be Float of Int")}},{key:"var",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.__frame_is_compactible_for_operation){var t,n=this.col_data_tensor.arraySync();t=1==e?this.column_names:this.index;var r=Object(mathjs__WEBPACK_IMPORTED_MODULE_18__.d)(n,e),a=new _series__WEBPACK_IMPORTED_MODULE_12__.a(r,{index:t});return a}throw Error("TypeError: Dtypes of columns must be Float of Int")}},{key:"count",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.__frame_is_compactible_for_operation){var t,n;1==e?(t=this.col_data_tensor.arraySync(),n=this.column_names):(t=this.row_data_tensor.arraySync(),n=this.index);var r=utils.__count_nan(t,!0,!1),a=new _series__WEBPACK_IMPORTED_MODULE_12__.a(r,{index:n});return a}throw Error("TypeError: Dtypes of columns must be Float of Int")}},{key:"round",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.__frame_is_compactible_for_operation){var t=this.values,n=this.index,r=utils.__round(t,e,!1),a={columns:this.column_names,index:n},i=new DataFrame(r,a);return i}throw Error("TypeError: Dtypes of columns must be Float of Int")}},{key:"__cum_ops",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;if(0!=e&&1!=e)throw new Error("axis must be between 0 or 1");if(this.__frame_is_compactible_for_operation){var n=[],r=null;r=0==e?this.col_data:this.values;for(var a=0;a<r.length;a++){for(var i=r[a],o=i[0],u=[o],s=1;s<i.length;s++){var c=i[s];switch(t){case"max":c>o?(o=c,u.push(c)):u.push(o);break;case"min":c<o?(o=c,u.push(c)):u.push(o);break;case"sum":o+=c,u.push(o);break;case"prod":o*=c,u.push(o)}}n.push(u)}return 0==e&&(n=utils.__get_col_values(n)),new DataFrame(n,{columns:this.columns})}throw Error("TypeError: Dtypes of columns must be Float of Int")}},{key:"cumsum",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=utils.__key_in_object(t,"axis")?t.axis:0;var n=this.__cum_ops(e,"sum");return n}},{key:"cummin",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=utils.__key_in_object(t,"axis")?t.axis:0;var n=this.__cum_ops(e,"min");return n}},{key:"cummax",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=utils.__key_in_object(t,"axis")?t.axis:0;var n=this.__cum_ops(e,"max");return n}},{key:"cumprod",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=utils.__key_in_object(t,"axis")?t.axis:0;var n=this.__cum_ops(e,"prod");return n}},{key:"copy",value:function(){return new DataFrame(Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(this.values),{columns:Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(this.column_names),index:this.index,dtypes:this.dtypes})}},{key:"reset_index",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e){var t=this.copy();return t.__reset_index(),t}this.__reset_index()}},{key:"set_index",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=["key","drop","inplace"];if(utils._throw_wrong_params_error(e,t),!utils.__key_in_object(e,"key"))throw Error("Index ValueError: You must specify an array of index");if(utils.__key_in_object(e,"inplace")||(e.inplace=!1),utils.__key_in_object(e,"drop")||(e.drop=!0),Array.isArray(e.key)&&e.key.length!=this.index.length)throw Error("Index LengthError: Lenght of new Index array ".concat(e.key.length," must match lenght of existing index ").concat(this.index.length));if("string"==typeof e.key&&this.column_names.includes(e.key)&&(e.key_name=e.key,e.key=this[e.key].values),!e.inplace){var n=this.copy();return n.__set_index(e.key),e.drop&&"string"==typeof e.key_name&&n.drop({columns:[e.key_name],axis:1,inplace:!0}),n}this.__set_index(e.key),e.drop&&"string"==typeof e.key_name&&this.drop({columns:[e.key_name],inplace:!0,axis:1})}},{key:"describe",value:function(){var e=this.select_dtypes(["float32","int32"]),t=e.column_names,n={};return t.forEach((function(t){var r=e[t],a=[r.count(),r.mean(),r.std(),r.min(),r.median(),r.max(),r.var()];n[t]=a})),new DataFrame(n,{index:["count","mean","std","min","median","max","variance"]}).round(6)}},{key:"select_dtypes",value:function(e){var t=this.dtypes,n=this.column_names,r={},a=this.col_data,i=["float32","int32","string","boolean"];return void 0==e?this.copy():(e.forEach((function(e){if(!i.includes(e))throw Error("Dtype Error: dtype ".concat(e," not supported."))})),t.forEach((function(t,i){e.includes(t)&&(r[n[i]]=a[i])})),new DataFrame(r))}},{key:"sum",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{axis:1};if(this.__frame_is_compactible_for_operation()){var t,n=[];(1==e.axis?this.col_data:this.values).map((function(e){var t=_tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_10__.l(e).sum().arraySync();n.push(Number(t.toFixed(5)))})),t=1==e.axis?this.column_names:this.index;var r=new _series__WEBPACK_IMPORTED_MODULE_12__.a(n,{columns:"sum",index:t});return r}throw Error("Dtype Error: Operation can not be performed on string type")}},{key:"abs",value:function(){var e=this.values,t=_tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_10__.l(e).abs().arraySync();return new DataFrame(utils.__round(t,2,!1),{columns:this.column_names,index:this.index})}},{key:"__get_tensor_and_idx",value:function(e,t){var n,r,a;return 1==t?(n=e.row_data_tensor,r=e.column_names,a=0):(n=e.row_data_tensor,r=e.index,a=1),[n,r,a]}},{key:"query",value:function query(kwargs){var operators=[">","<","<=",">=","==","!="],column_index,operator,value;if(utils.__key_in_object(kwargs,"inplace")||(kwargs.inplace=!1),!utils.__key_in_object(kwargs,"column"))throw new Error("specify the column");if(!this.columns.includes(kwargs.column))throw new Error("column ".concat(kwargs.column," does not exist"));if(column_index=this.columns.indexOf(kwargs.column),!utils.__key_in_object(kwargs,"is"))throw new Error("specify an operator in param [is]");if(!operators.includes(kwargs.is))throw new Error(" ".concat(kwargs.is," is not a supported logical operator"));if(operator=kwargs.is,!utils.__key_in_object(kwargs,"to"))throw new Error("specify a value in param [to]");value=kwargs.to;for(var data=this.values,index=this.index,new_data=[],new_index=[],i=0;i<data.length;i++){var data_value=data[i],elem=data_value[column_index];eval("elem".concat(operator,"value"))&&(new_data.push(data_value),new_index.push(index[i]))}if(0==new_data.length)throw new Error("query returned empty data; is either ".concat(value," does not exist in column ").concat(kwargs.column));if(!kwargs.inplace){var new_df=new DataFrame(new_data,{columns:this.columns,index:new_index});return new_df}this.__update_frame_in_place(new_data,this.columns,null,new_index,null)}},{key:"addColumn",value:function(e){utils.__in_object(e,"column","column name not specified"),utils.__in_object(e,"value","column value not specified");var t,n=e.column,r=this.shape[0];if((t=e.value instanceof _series__WEBPACK_IMPORTED_MODULE_12__.a?e.value.values:e.value).length!=r)throw new Error("Array length ".concat(t.length," not equal to ").concat(r));if(this.columns.includes(n)){var a=this.columns.indexOf(n),i=[];this.values.map((function(e,n){var r=e.slice();r[a]=t[n],i.push(r)})),this.__update_frame_in_place(i,null,null,null,null)}else{var o=this.values,u=[];o.map((function(e,n){var r=e.slice();r.push(t[n]),u.push(r)}));var s=Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(this.dtypes);s.push(utils.__get_t(t)[0]);var c=Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(this.columns);c.push(n),this.__update_frame_in_place(u,c,null,null,s),Object.defineProperty(this,n,{get:function(){return new _series__WEBPACK_IMPORTED_MODULE_12__.a(t,{columns:n,index:this.index})},set:function(e){this.addColumn({column:n,value:e})}})}}},{key:"groupby",value:function(e){var t=this.shape[0],n=this.column_names,r={},a=null;if(2==e.length){if(!n.includes(e[0]))throw new Error("column ".concat(e[0]," does not exist"));var i=Object(_indexing__WEBPACK_IMPORTED_MODULE_16__.a)(this,{rows:["0:".concat(t)],columns:["".concat(e[0])],type:"loc"}),o=Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(i,2),u=o[0];o[1];if(!n.includes(e[1]))throw new Error("column ".concat(e[1]," does not exist"));var s=Object(_indexing__WEBPACK_IMPORTED_MODULE_16__.a)(this,{rows:["0:".concat(t)],columns:["".concat(e[1])],type:"loc"}),c=Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(s,2),l=c[0];c[1];a=[e[0],e[1]];for(var f=utils.__unique(u),d=utils.__unique(l),h=0;h<f.length;h++){var p=f[h];r[p]={};for(var v=0;v<d.length;v++){var m=d[v];r[p][m]=[]}}}else{if(!n.includes(e[0]))throw new Error("column ".concat(e[0]," does not exist"));var g=Object(_indexing__WEBPACK_IMPORTED_MODULE_16__.a)(this,{rows:["0:".concat(t)],columns:["".concat(e[0])],type:"loc"}),b=Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(g,2);u=b[0],b[1];a=[e[0]];for(var y=utils.__unique(u),x=0;x<y.length;x++){r[y[x]]=[]}}return new _groupby__WEBPACK_IMPORTED_MODULE_14__.a(r,a,this.values,n).group()}},{key:"column",value:function(e){if(!this.columns.includes(e))throw new Error("column ".concat(e," does not exist"));var t=utils.__arr_to_obj(this.columns)[e],n=this.col_data[t];return new _series__WEBPACK_IMPORTED_MODULE_12__.a(n,{columns:[e]})}},{key:"fillna",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=["columns","values","inplace"];if(utils._throw_wrong_params_error(t,n),utils.__key_in_object(t,"inplace")||(t.inplace=!1),utils.__key_in_object(t,"columns")){if(t.columns.map((function(t){if(!e.column_names.includes(t))throw Error("Value Error: Specified columns must be one of ".concat(e.column_names,", got ").concat(t))})),t.columns.length!=t.values.length)throw Error("Lenght Error: The lenght of the columns names must be equal to the lenght of the values,\n                 got column of length ".concat(t.columns.length," but values of length ").concat(t.values.length));var r=this.col_data;t.columns.map((function(n,a){var i=e.column_names.indexOf(n),o=e.col_data[i],u=[];o.map((function(e){isNaN(e)&&"string"!=typeof e?u.push(t.values[a]):u.push(e)})),r[i]=u}));var a={};if(r.map((function(t,n){a[e.column_names[n]]=t})),!t.inplace)return new DataFrame(a,{index:this.index});this.__update_frame_in_place(null,null,a,null,null)}else{if(!utils.__key_in_object(t,"values"))throw Error("Value Error: Please specify a fill value");var i;i=Array.isArray(t.values)?t.values[0]:t.values;for(var o=[],u=this.values,s=this.columns,c=0;c<u.length;c++){for(var l=[],f=u[c],d=0;d<f.length;d++)isNaN(f[d])&&"string"!=typeof f[d]?l.push(i):l.push(f[d]);o.push(l)}if(!t.inplace)return new DataFrame(o,{columns:s,index:this.index});this.__update_frame_in_place(o,null,null,null,null)}}},{key:"isna",value:function(){return new DataFrame(this.__isna(),{columns:this.column_names,index:this.index})}},{key:"nanIndex",value:function(){for(var e=this.values,t=[],n=0;n<e.length;n++){e[n].includes(NaN)&&t.push(n)}return t}},{key:"dropna",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.axis||0,n=e.inplace||!1;if(0!=t&&1!=t)throw new Error("axis must either be 1 or 0");var r=null,a=null;0==t?(r=this.values,a=this.columns):(r=this.col_data,a=[]);for(var i=[],o=0;o<r.length;o++){var u=r[o];if(!u.includes(NaN))if(0==t)i.push(u);else if(a.push(this.columns[o]),0==i.length)for(var s=0;s<u.length;s++)i.push([u[s]]);else for(var c=0;c<i.length;c++)i[c].push(u[c])}if(1!=n)return new DataFrame(i,{columns:a});this.data=i,this.__reset_index(),this.columns=a}},{key:"apply",value:function(e){if(!utils.__is_function(e.callable))throw new Error("the argument must be a function");var t=e.callable,n=[];if(utils.__key_in_object(e,"axis")){var r;r=0==e.axis?this.values:this.col_data;for(var a=0;a<r.length;a++){var i=_tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_10__.l(r[a]),o=void 0;try{o=t(i).arraySync()}catch(c){throw Error("Callable Error: You can only apply JavaScript functions on DataFrames when axis is not specified. This operation is applied on all element, and returns a DataFrame of the same shape.")}n.push(o)}}else{var u=this.values,s=[];u.forEach((function(e){var n=[];e.forEach((function(e){n.push(t(e))})),s.push(n)})),n=s}return utils.__is_1D_array(n)?0==e.axis?new _series__WEBPACK_IMPORTED_MODULE_12__.a(n,{index:this.index}):new _series__WEBPACK_IMPORTED_MODULE_12__.a(n,{index:this.column_names}):new DataFrame(n,{columns:this.column_names,index:this.index})}},{key:"lt",value:function(e,t){if(this.__frame_is_compactible_for_operation())return void 0==t&&(t=0),this.__logical_ops(e,"lt",t);throw Error("Dtype Error: Operation can not be performed on string type")}},{key:"gt",value:function(e,t){if(this.__frame_is_compactible_for_operation())return void 0==t&&(t=0),this.__logical_ops(e,"gt",t);throw Error("Dtype Error: Operation can not be performed on string type")}},{key:"le",value:function(e,t){if(this.__frame_is_compactible_for_operation())return void 0==t&&(t=0),this.__logical_ops(e,"le",t);throw Error("Dtype Error: Operation can not be performed on string type")}},{key:"ge",value:function(e,t){if(this.__frame_is_compactible_for_operation())return void 0==t&&(t=0),this.__logical_ops(e,"ge",t);throw Error("Dtype Error: Operation can not be performed on string type")}},{key:"ne",value:function(e,t){if(this.__frame_is_compactible_for_operation())return void 0==t&&(t=0),this.__logical_ops(e,"ne",t);throw Error("Dtype Error: Operation can not be performed on string type")}},{key:"eq",value:function(e,t){if(this.__frame_is_compactible_for_operation())return void 0==t&&(t=0),this.__logical_ops(e,"eq",t);throw Error("Dtype Error: Operation can not be performed on string type")}},{key:"replace",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=["replace","with","in"];if(utils._throw_wrong_params_error(t,n),utils.__key_in_object(t,"in")){if(t.in.map((function(t){if(!e.column_names.includes(t))throw Error("Value Error: Specified columns must be one of ".concat(e.column_names,", got ").concat(t))})),utils.__key_in_object(t,"replace")&&utils.__key_in_object(t,"with")){var r={};return this.column_names.map((function(n,a){if(t.in.includes(n)){var i=e.col_data[a],o=[];i.map((function(e){e==t.replace?o.push(t.with):o.push(e)})),r[n]=o}else r[n]=e.col_data[a]})),new DataFrame(r,{columns:this.column_names,index:this.index})}throw Error("Params Error: Must specify both 'replace' and 'with' parameters.")}if(utils.__key_in_object(t,"replace")&&utils.__key_in_object(t,"with")){var a=[],i=this.values;i.map((function(e){var n=[];e.map((function(e){e==t.replace?n.push(t.with):n.push(e)})),a.push(n)}));var o=new DataFrame(a,{index:this.index,columns:this.column_names});return o}throw Error("Params Error: Must specify both 'replace' and 'with' parameters.")}},{key:"__logical_ops",value:function(e,t,n){var r,a;if(utils.__is_number(e))a=e;else if(e.series)if(0==n){if(e.values.length!=this.shape[0])throw Error("Shape Error: Operands could not be broadcast together with shapes ".concat(this.shape," and ").concat(e.values.length,"."));a=_tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_10__.l(e.values)}else{if(e.values.length!=this.shape[1])throw Error("Shape Error: Operands could not be broadcast together with shapes ".concat(this.shape," and ").concat(e.values.length,"."));a=_tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_10__.l(e.values)}else a=Array.isArray(e)?_tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_10__.l(e):e.row_data_tensor;switch(t){case"lt":r=_tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_10__.l(this.values).less(a).arraySync();break;case"gt":r=_tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_10__.l(this.values).greater(a).arraySync();break;case"le":r=_tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_10__.l(this.values).lessEqual(a).arraySync();break;case"ge":r=_tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_10__.l(this.values).greaterEqual(a).arraySync();break;case"ne":r=_tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_10__.l(this.values).notEqual(a).arraySync();break;case"eq":r=_tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_10__.l(this.values).equal(a).arraySync()}return new DataFrame(utils.__map_int_to_bool(r,2),{columns:this.column_names,index:this.index})}},{key:"__get_df_from_tensor",value:function(e,t){for(var n=e.shape[0],r=[],a=0;a<n;a++){var i=e.slice([a],[1]).arraySync()[0];r.push(i)}return new DataFrame(r,{columns:t})}},{key:"__frame_is_compactible_for_operation",value:function(){return!this.dtypes.some((function(e){return"string"==e}))}},{key:"__get_ops_tensors",value:function(e,t){if(utils.__is_undefined(e[1].series)){var n=[];return utils.__is_undefined(t)||1==t?(n.push(e[0].row_data_tensor),n.push(e[1]),n):(n.push(e[0].col_data_tensor),n.push(e[1]),n)}var r,a,i,o,u=[];return utils.__is_undefined(t)||1==t?(r=e[0].row_data_tensor,a=e[1].series?_tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_10__.l(e[1].values,[1,e[1].values.length]):e[1].row_data_tensor,u.push(r),u.push(a),u):(i=e[0].row_data_tensor,o=e[1].series?_tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_10__.l(e[1].values,[e[1].values.length,1]):e[1].row_data_tensor,u.push(i),u.push(o),u)}},{key:"transpose",value:function(){var e=this.col_data,t=this.column_names;return new DataFrame(e,{columns:this.index,index:t})}},{key:"T",get:function(){return this.transpose()}},{key:"ctypes",get:function(){var e=this.column_names,t=this.col_types;return new _series__WEBPACK_IMPORTED_MODULE_12__.a(t,{index:e})}},{key:"plot",value:function(e){return new _plotting_plot__WEBPACK_IMPORTED_MODULE_15__.a(this,e)}},{key:"tensor",get:function(){return this.row_data_tensor}},{key:"astype",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!utils.__key_in_object(e,"column"))throw Error("Value Error: Please specify a column to cast");if(!utils.__key_in_object(e,"dtype"))throw Error("Value Error: Please specify dtype to cast to");if(!this.column_names.includes(e.column))throw Error("'".concat(e.column,"' not found in columns"));var t=this.column_names.indexOf(e.column),n=this.col_types,r=this.col_data;n[t]=e.dtype;var a=[],i=r[t];switch(e.dtype){case"float32":i.map((function(e){a.push(Number(e))})),r[t]=a;break;case"int32":i.map((function(e){a.push(Number(Number(e).toFixed()))})),r[t]=a;break;case"string":i.map((function(e){a.push(String(e))})),r[t]=a}var o={};this.column_names.forEach((function(e,t){o[e]=r[t]}));var u=new DataFrame(o,{dtypes:n,index:this.index});return u}},{key:"unique",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(void 0==t||t>1||t<0)throw Error("Axis Error: Please specify a correct axis. Axis must either be '0' or '1', got ".concat(t));var n={};if(1==t){var r=this.column_names;r.forEach((function(t){n[t]=e[t].unique().values}))}else{var a=this.values,i=this.index;a.forEach((function(e,t){var r=new Set(e);n[i[t]]=Array.from(r)}))}return n}},{key:"nunique",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(void 0==t||t>1||t<0)throw Error("Axis Error: Please specify a correct axis. Axis must either be '0' or '1', got ".concat(t));var n=[];if(1==t){var r=this.column_names;r.forEach((function(t){n.push(e[t].unique().values.length)}));var a=new _series__WEBPACK_IMPORTED_MODULE_12__.a(n,{index:this.column_names});return a}var i=this.values;i.forEach((function(e){var t=new Set(e);n.push(Array.from(t).length)}));var o=new _series__WEBPACK_IMPORTED_MODULE_12__.a(n,{index:this.index});return o}},{key:"rename",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=["mapper","inplace","axis"];if(utils._throw_wrong_params_error(e,t),utils.__key_in_object(e,"inplace")||(e.inplace=!1),utils.__key_in_object(e,"axis")||(e.axis=1),!utils.__key_in_object(e,"mapper"))throw Error("Please specify a mapper object");if(1==e.axis){var n=Object.keys(e.mapper),r=Object.values(e.mapper),a=Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(this.column_names);if(n.forEach((function(e,t){if(!a.includes(e))throw Error("Label Error: Specified column '".concat(e,"' not found in column axis"));var n=a.indexOf(e);a[n]=r[t]})),!e.inplace){var i=this.copy();return i.columns=a,i.__set_col_property(i,i.col_data,a,n),i}this.columns=a,this.__set_col_property(this,this.col_data,a,n)}else{var o=Object.keys(e.mapper),u=this.index,s=[];if(u.forEach((function(t){o.includes(t)?s.push(e.mapper[t]):s.push(t)})),!e.inplace){var c=this.copy();return c.__set_index(s),c}this.__set_index(s)}}},{key:"sort_index",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="undefined"!=typeof e.inplace&&e.inplace,n="undefined"==typeof e.ascending||e.ascending,r=this.index,a=this.__sort_by(r,r,n),i=Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(a,2),o=i[0],u=i[1];if(!t){var s=this.copy();return s.__update_frame_in_place(o,null,null,u,null),s}this.__update_frame_in_place(o,null,null,u,null)}},{key:"sort_values",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!utils.__key_in_object(e,"by"))throw Error("use col_name to specify column name");var t="undefined"!=typeof e.inplace&&e.inplace,n="undefined"==typeof e.ascending||e.ascending,r=this.index,a=this.column(e.by).values,i=this.__sort_by(a,r,n),o=Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(i,2),u=o[0],s=o[1];if(!t){var c=this.copy();return c.__update_frame_in_place(u,null,null,s,null),c}this.__update_frame_in_place(u,null,null,s,null)}},{key:"__set_col_property",value:function(e,t,n,r){r.forEach((function(t){delete e[t]})),t.forEach((function(t,r){Object.defineProperty(e,n[r],{get:function(){return new _series__WEBPACK_IMPORTED_MODULE_12__.a(t,{columns:n[r],index:e.index})},set:function(e){this.addColumn({column:n[r],value:e})}})}))}},{key:"__update_frame_in_place",value:function(e,t,n,r,a){if(void 0!=e)this.data=e;else if(void 0!=n){var i=utils._get_row_and_col_values(n);this.data=i[0],this.columns=i[1],t=i[1]}void 0!=n?(this.col_data=Object.values(n),this.columns=Object.keys(n),t=Object.keys(n)):void 0!=e&&(this.col_data=utils.__get_col_values(e)),void 0!=t&&(this.columns=t),void 0!=r&&(this.index_arr=r),void 0!=a&&(this.col_types=a)}},{key:"__sort_by",value:function(e,t,n){for(var r=this.values,a=utils.__sort(e,n),i=utils.__get_duplicate(e),o=[],u=[],s=0;s<a.length;s++){var c=a[s],l=null;c in i?(l=i[c].index[0],i[c].index.splice(0,1)):l=e.indexOf(c),o.push(r[l]),u.push(t[l])}return[o,u]}},{key:"append",value:function(e){var t=null;if(Array.isArray(e)){if(Array.isArray(e[0])){if(e[0].length!=this.shape[1])throw Error("length Mixmatch: The lenght of provided value (".concat(e.length,") does not match the original DataFrame (").concat(this.shape[1],")"));t=new DataFrame(e)}}else utils.__is_object(e)?t=new DataFrame(e):e instanceof DataFrame&&(t=e.copy());return Object(_concat_js__WEBPACK_IMPORTED_MODULE_17__.a)({df_list:[this,t],axis:0})}}]),DataFrame}(_generic__WEBPACK_IMPORTED_MODULE_11__.a)},function(e,t,n){"use strict";var r,a;n.d(t,"a",(function(){return r})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF"}(r||(r={})),function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(a||(a={}))},,function(e,t,n){"use strict";t.a=function(e,t){}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({mean_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object(i.a)(e,"x","mean"),u={x:o},s={axis:t,keepDims:n};return r.a.runKernel(a.Ob,u,s)}})},function(e,t,n){"use strict";function r(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}n.d(t,"b",(function(){return r})),t.a=function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),a="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function i(e){var t=r.useRef(e);return a((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},function(e,t,n){"use strict";(function(e){var r=n(645),a=n(646),i=n(647);function o(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=s.prototype:(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,n){if(!s.TYPED_ARRAY_SUPPORT&&!(this instanceof s))return new s(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);s.TYPED_ARRAY_SUPPORT?(e=t).__proto__=s.prototype:e=d(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),a=(e=u(e,r)).write(t,n);a!==r&&(e=e.slice(0,a));return e}(e,t,n):function(e,t){if(s.isBuffer(t)){var n=0|h(t.length);return 0===(e=u(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?u(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=u(e,t<0?0:0|h(t)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=u(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(s.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return S(this,t,n);case"base64":return j(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,a){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"===typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,a);if("number"===typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,a){var i,o=1,u=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,u/=2,s/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){var l=-1;for(i=n;i<u;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===s)return l*o}else-1!==l&&(i-=i-l),l=-1}else for(n+s>u&&(n=u-s),i=n;i>=0;i--){for(var f=!0,d=0;d<s;d++)if(c(e,i+d)!==c(t,d)){f=!1;break}if(f)return i}return-1}function y(e,t,n,r){n=Number(n)||0;var a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var o=0;o<r;++o){var u=parseInt(t.substr(2*o,2),16);if(isNaN(u))return o;e[n+o]=u}return o}function x(e,t,n,r){return V(U(t,e.length-n),e,n,r)}function _(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return _(e,t,n,r)}function O(e,t,n,r){return V(W(t),e,n,r)}function k(e,t,n,r){return V(function(e,t){for(var n,r,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,a=n%256,i.push(a),i.push(r);return i}(t,e.length-n),e,n,r)}function j(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var i,o,u,s,c=e[a],l=null,f=c>239?4:c>223?3:c>191?2:1;if(a+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128===(192&(i=e[a+1]))&&(s=(31&c)<<6|63&i)>127&&(l=s);break;case 3:i=e[a+1],o=e[a+2],128===(192&i)&&128===(192&o)&&(s=(15&c)<<12|(63&i)<<6|63&o)>2047&&(s<55296||s>57343)&&(l=s);break;case 4:i=e[a+1],o=e[a+2],u=e[a+3],128===(192&i)&&128===(192&o)&&128===(192&u)&&(s=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&u)>65535&&s<1114112&&(l=s)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),a+=f}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}t.Buffer=s,t.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},t.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,n){return c(null,e,t,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?u(e,t):void 0!==n?"string"===typeof r?u(e,t).fill(n,r):u(e,t).fill(n):u(e,t)}(null,e,t,n)},s.allocUnsafe=function(e){return f(null,e)},s.allocUnsafeSlow=function(e){return f(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,a=0,i=Math.min(n,r);a<i;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var o=e[n];if(!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,a),a+=o.length}return r},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):v.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,r,a){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(a>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),u=Math.min(i,o),c=this.slice(r,a),l=e.slice(t,n),f=0;f<u;++f)if(c[f]!==l[f]){i=c[f],o=l[f];break}return i<o?-1:o<i?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function A(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function S(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function D(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var a="",i=t;i<n;++i)a+=L(e[i]);return a}function N(e,t,n){for(var r=e.slice(t,n),a="",i=0;i<r.length;i+=2)a+=String.fromCharCode(r[i]+256*r[i+1]);return a}function F(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,n,r,a,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var a=0,i=Math.min(e.length-n,2);a<i;++a)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function I(e,t,n,r){t<0&&(t=4294967295+t+1);for(var a=0,i=Math.min(e.length-n,4);a<i;++a)e[n+a]=t>>>8*(r?a:3-a)&255}function R(e,t,n,r,a,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,r,i){return i||R(e,0,n,4),a.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return i||R(e,0,n,8),a.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=s.prototype;else{var a=t-e;n=new s(a,void 0);for(var i=0;i<a;++i)n[i]=this[i+e]}return n},s.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r},s.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var r=this[e+--t],a=1;t>0&&(a*=256);)r+=this[e+--t]*a;return r},s.prototype.readUInt8=function(e,t){return t||F(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||F(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||F(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||F(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var r=t,a=1,i=this[e+--r];r>0&&(a*=256);)i+=this[e+--r]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return t||F(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){t||F(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){t||F(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return t||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||F(e,4,this.length),a.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||F(e,4,this.length),a.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||F(e,8,this.length),a.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||F(e,8,this.length),a.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var a=1,i=0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=e/a&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var a=n-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);T(this,e,t,n,a-1,-a)}var i=0,o=1,u=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);T(this,e,t,n,a-1,-a)}var i=n-1,o=1,u=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a,i=r-n;if(this===e&&n<t&&t<r)for(a=i-1;a>=0;--a)e[a+t]=this[a+n];else if(i<1e3||!s.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},s.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=s.isBuffer(e)?e:U(new s(e,r).toString()),u=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%u]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,a=null,i=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&i.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function W(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}}).call(this,n(106))},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(269),a=n(132),i={prepend:!1};t.subSurface=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.getDrawArea(e),u=r.css({"& canvas":{display:"block"},marginTop:".5rem",marginBottom:".5rem"}),s=r.css({backgroundColor:"white",display:"inline-block",boxSizing:"border-box",borderBottom:"1px solid #357EDD",lineHeight:"2em",padding:"0 10px 0 10px",marginBottom:"20px",fontWeight:"600",textAlign:"left"}),c=Object.assign({},i,n),l=o.querySelector("div[data-name=".concat(t,"]"));if(!l){if((l=document.createElement("div")).setAttribute("class","".concat(u)),l.dataset.name=t,c.title){var f=document.createElement("div");f.setAttribute("class","subsurface-title ".concat(s)),f.innerText=c.title,l.appendChild(f)}c.prepend?o.insertBefore(l,o.firstChild):o.appendChild(l)}return l},t.getDefaultWidth=function(e){for(var t=0,n=e;n&&0===n.clientWidth;)n=n.parentElement,t=50;return n.clientWidth-t},t.getDefaultHeight=function(e){return 0===e.clientHeight?200:e.clientHeight}},function(e,t,n){"use strict";var r,a,i,o,u;n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(r||(r={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(a||(a={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(i||(i={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(o||(o={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(u||(u={}));var s={float32:o,int32:a,bool:i,complex64:u};function c(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return s[e][t]}function l(e){return c(e,"int32")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(6),a=n(12),i=n(7),o=n(44),u=n(8),s=n(37),c=n(31),l=n(11);var f=Object(l.b)({maximum_:function(e,t){var n=Object(u.a)(e,"a","maximum"),l=Object(u.a)(t,"b","maximum"),f=Object(o.makeTypesMatch)(n,l),d=Object(r.a)(f,2);n=d[0],l=d[1],"bool"===n.dtype&&(n=Object(c.a)(n,"int32"),l=Object(c.a)(l,"int32")),Object(s.a)(n.shape,l.shape);var h={a:n,b:l};return a.a.runKernel(i.Nb,h)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11);var s=Object(u.b)({batchToSpaceND_:function(e,t,n){var u=Object(i.a)(e,"x","batchToSpaceND"),s=t.reduce((function(e,t){return e*t}));o.b(u.rank>=1+t.length,(function(){return"input rank is ".concat(u.rank," but should be > than blockShape.length ").concat(t.length)})),o.b(n.length===t.length,(function(){return"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length)})),o.b(u.shape[0]%s===0,(function(){return"input tensor batch is ".concat(u.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(s)}));var c={x:u},l={blockShape:t,crops:n};return r.a.runKernel(a.t,c,l)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11),s=n(19);var c=Object(u.b)({depthwiseConv2d_:function(e,t,n,u){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],f=arguments.length>6?arguments[6]:void 0,d=Object(i.a)(e,"x","depthwiseConv2d"),h=Object(i.a)(t,"filter","depthwiseConv2d"),p=d,v=!1;3===d.rank&&(v=!0,p=Object(s.a)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),o.b(4===p.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(p.rank,".")})),o.b(4===h.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(h.rank,".")})),o.b(p.shape[3]===h.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels "+"(".concat(p.shape[3],") must match the inChannels dimension in ")+"filter ".concat(h.shape[2],".")})),null!=f&&o.b(o.v(u),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, "+"dimRoundingMode ".concat(f," but got pad ").concat(u,".")}));var m={x:p,filter:h},g={strides:n,pad:u,dataFormat:c,dilations:l,dimRoundingMode:f},b=r.a.runKernel(a.O,m,g);return v?Object(s.a)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(6),a=n(12),i=n(7),o=n(44),u=n(8),s=n(37),c=n(11);var l=Object(c.b)({equal_:function(e,t){var n=Object(u.a)(e,"a","equal"),c=Object(u.a)(t,"b","equal"),l=Object(o.makeTypesMatch)(n,c),f=Object(r.a)(l,2);n=f[0],c=f[1],Object(s.a)(n.shape,c.shape);var d={a:n,b:c};return a.a.runKernel(i.X,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({gather_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=Object(i.a)(e,"x","gather"),s=Object(i.a)(t,"indices","gather","int32"),c={x:u,indices:s},l={axis:n,batchDims:o};return r.a.runKernel(a.mb,c,l)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({logicalNot_:function(e){var t={x:Object(i.a)(e,"x","logicalNot","bool")};return r.a.runKernel(a.Fb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11);var s=Object(u.b)({spaceToBatchND_:function(e,t,n){var u=Object(i.a)(e,"x","spaceToBatchND");o.b(u.rank>=1+t.length,(function(){return"input rank ".concat(u.rank," should be > than [blockShape] ").concat(t.length)})),o.b(n.length===t.length,(function(){return"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length)})),o.b(u.shape.reduce((function(e,r,a){return a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e}),!0),(function(){return"input spatial dimensions ".concat(u.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())}));var s={x:u},c={blockShape:t,paddings:n};return r.a.runKernel(a.Hc,s,c)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(8),a=n(20),i=n(11),o=n(19);var u=Object(i.b)({squeeze_:function(e,t){var n=Object(r.a)(e,"x","squeeze");return Object(o.a)(n,Object(a.Q)(n.shape,t).newShape)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(279);function a(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(8),a=n(91);function i(e,t,n){var i=Object(r.c)(e,n);return Object(a.a)(e,t,i,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s}));var r=n(3),a=n(9),i=n(156),o=(n(241),function(){function e(t,n,a,o,u){Object(r.a)(this,e),this.mean=t,this.stdDev=n,this.dtype=a,this.nextVal=NaN,this.truncated=o,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var s=u||Math.random();this.random=i.alea(s.toString())}return Object(a.a)(e,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var a=void 0,i=void 0,o=void 0;do{o=(a=2*this.random()-1)*a+(i=2*this.random()-1)*i}while(o>=1||0===o);var u=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*a*u,n=this.mean+this.stdDev*i*u,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)}},{key:"convertValue",value:function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}},{key:"isValidTruncated",value:function(e){return e<=this.upper&&e>=this.lower}}]),e}()),u=function(){function e(t,n,a,u){Object(r.a)(this,e),this.alpha=t,this.beta=1/n,this.dtype=a;var s=u||Math.random();this.randu=i.alea(s.toString()),this.randn=new o(0,1,a,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return Object(a.a)(e,[{key:"nextValue",value:function(){for(var e,t,n,r,a,i;;){do{r=this.randn.nextValue(),i=1+this.c*r}while(i<=0);if(i*=i*i,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-i+Math.log(i)),(a=this.randu())<t||Math.log(a)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}},{key:"convertValue",value:function(e){return"float32"===this.dtype?e:Math.round(e)}}]),e}(),s=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0;if(Object(r.a)(this,e),this.canReturnFloat=function(){return null==t.dtype||"float32"===t.dtype},this.min=n,this.range=a-n,this.dtype=o,null==u&&(u=Math.random()),"number"===typeof u&&(u=u.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(n," - ").concat(a," <= 1 and dtype is not float"));this.random=i.alea(u)}return Object(a.a)(e,[{key:"convertValue",value:function(e){return this.canReturnFloat()?e:Math.round(e)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),e}()},function(e,t,n){"use strict";var r=n(948);t.a=function(e,t){return t?Object(r.a)(e,t,{clone:!1}):e}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=new(n(93).a),a=function(e,t){var n=null,a=null,i=!1;if(Object.prototype.hasOwnProperty.call(t,"rows")){if(!Array.isArray(t.rows))throw new Error("rows parameter must be a Array");if(1==t.rows.length&&"string"==typeof t.rows[0])if(t.rows[0].includes(":")){var o=t.rows[0].split(":");if("loc"==t.type){var u,s;u=isNaN(Number(o[0]))?e.index.indexOf(o[0]):Number(o[0]),s=isNaN(Number(o[1]))?e.index.lastIndexOf(o[1])-1||e.values.length-1:Number(o[1])-1||e.values.length-1,n=r.__range(u,s)}else{var c=parseInt(o[0])||0,l=parseInt(o[1])-1||e.values.length-1;"number"==typeof c&&"number"==typeof l&&(n=r.__range(c,l))}}else{if("loc"!=t.type)throw new Error("Slice index must be separated by ':'");var f=[];e.index.map((function(e,n){t.rows[0]==e&&f.push(n)})),n=f}else if("loc"==t.type){var d=[];e.index.map((function(e,n){t.rows.includes(e)&&d.push(n)})),n=d}else n=t.rows}else n=(t.type,r.__range(0,Number(e.shape[0])-1));if(Object.prototype.hasOwnProperty.call(t,"columns")){if(!Array.isArray(t.columns))throw new Error("columns must be a list");if(1==t.columns.length&&t.columns[0].includes(":")){var h,p,v=t.columns[0].split(":");"iloc"==t.type||""==v[0]?(h=parseInt(v[0])||0,p=parseInt(v[1])-1||e.values[0].length-1):(h=parseInt(e.columns.indexOf(v[0])),p=parseInt(e.columns.indexOf(v[1]))-1),"number"==typeof h&&"number"==typeof p&&(a=r.__range(h,p),i=!0)}else a=t.columns}else a="loc"==t.type?e.column_names:r.__range(0,Number(e.shape[1])-1);for(var m=e.values,g=[],b=0;b<n.length;b++){var y=n[b],x=m.length-1;if(y>x)throw new Error("Specified row index ".concat(y," is bigger than maximum row index of ").concat(x));if(Array.isArray(m[0])){var _=m[y],w=[];for(var O in a){var k;if("loc"!=t.type||i){k=a[O];var j=e.columns.length-1;if(k>j)throw new Error("column index ".concat(k," is bigger than ").concat(j))}else if(-1==(k=e.columns.indexOf(a[O])))throw new Error("Column ".concat(a[O]," does not exist"));var E=_[k];w.push(E)}g.push(w)}else g.push(m[y])}var C=[];"iloc"==t.type||i?a.map((function(t){C.push(e.columns[t])})):C=a;var A=[];return n.forEach((function(t){A.push(e.index[t])})),[g,C,A]}},function(e,t){var n=Object.prototype.toString,r=Array.isArray;e.exports=function(e){return"string"==typeof e||!r(e)&&function(e){return!!e&&"object"==typeof e}(e)&&"[object String]"==n.call(e)}},function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=u(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){var r=n(683),a=n(688);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(391);e.exports=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=c(n(882)),a=c(n(886)),i=c(n(887)),o=c(n(888)),u=c(n(889)),s=c(n(890));function c(e){return e&&e.__esModule?e:{default:e}}t.hover=o.default,t.handleHover=o.default,t.handleActive=u.default,t.loop=s.default;var l=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var u=(0,r.default)(n),s=(0,a.default)(e,u);return(0,i.default)(s)};t.default=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r={};function a(e){return r[e]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),a=n(7),i=n(8),o=n(123),u=n(11),s=n(19);var c=Object(u.b)({broadcastTo_:function(e,t){var n=Object(i.a)(e,"broadcastTo","x"),u=n.shape;if(t.some((function(e){return!(e>0)||e%1!==0})))throw new Error("broadcastTo(): Invalid broadcast shape [".concat(t,"]."));if(t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){for(var c=n.shape.slice();c.length<t.length;)c.unshift(1);n=Object(s.a)(n,c)}for(var l=n.shape,f=Array.from(t),d=t.length-1;d>=0;d--)if(l[d]===t[d])f[d]=1;else if(1!==n.shape[d])throw new Error("broadcastTo(): [".concat(u,"] cannot be broadcast to [").concat(t,"]."));if(0===f.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0})).length)return Object(o.a)(n);var h={x:n},p={reps:f};return r.a.runKernel(a.Tc,h,p)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({min_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object(i.a)(e,"x","min"),u={x:o},s={axis:t,keepDims:n};return r.a.runKernel(a.Pb,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({oneHot_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));var u=Object(i.a)(e,"indices","oneHot","int32"),s={indices:u},c={depth:t,onValue:n,offValue:o};return r.a.runKernel(a.ac,s,c)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({real_:function(e){var t={input:Object(i.a)(e,"input","real")};return r.a.runKernel(a.jc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(20),o=n(11);var u=Object(o.b)({ifft_:function(e){Object(i.b)("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return r.a.runKernel(a.pb,t)}})},function(e,t,n){"use strict";(function(e,r){var a;function i(){if(null==a){var t;if("undefined"!==typeof window)t=window;else if("undefined"!==typeof e)t=e;else if("undefined"!==typeof r)t=r;else{if("undefined"===typeof self)throw new Error("Could not find a global object");t=self}a=t}return a}function o(e,t){var n=function(){var e=i();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);var r=t();return n.set(e,r),n.get(e)}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}))}).call(this,n(106),n(185))},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var o=a.apply(null,r);o&&e.push(o)}else if("object"===i)for(var u in r)n.call(r,u)&&r[u]&&e.push(u)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";var r=n(4),a=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};t.a=function(e,t){return Object(r.useMemo)((function(){return function(e,t){var n=a(e),r=a(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])}},function(e,t,n){"use strict";function r(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n,r="boolean"===typeof t.cycles&&t.cycles,a=t.cmp&&(n=t.cmp,function(e){return function(t,r){var a={key:t,value:e[t]},i={key:r,value:e[r]};return n(a,i)}}),i=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var n,o;if(Array.isArray(t)){for(o="[",n=0;n<t.length;n++)n&&(o+=","),o+=e(t[n])||"null";return o+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=i.push(t)-1,s=Object.keys(t).sort(a&&a(t));for(o="",n=0;n<s.length;n++){var c=s[n],l=e(t[c]);l&&(o&&(o+=","),o+=JSON.stringify(c)+":"+l)}return i.splice(u,1),"{"+o+"}"}}(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(e){return+setTimeout(e,16)},a=function(e){return clearTimeout(e)};function i(e){return r(e)}"undefined"!==typeof window&&"requestAnimationFrame"in window&&(r=function(e){return window.requestAnimationFrame(e)},a=function(e){return window.cancelAnimationFrame(e)}),i.cancel=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return d}));var r=n(27),a=n.n(r),i=n(70),o=n(54);function u(e,t,n){var r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function s(e){return null!==e&&e>=0}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e){var t=e.layoutRects,n=e.activeIndex,r=e.overIndex,a=e.index,i=u(t,r,n),o=t[a],s=i[a];return s&&o?{x:s.offsetLeft-o.offsetLeft,y:s.offsetTop-o.offsetTop,scaleX:s.width/o.width,scaleY:s.height/o.height}:null},f={scaleX:1,scaleY:1},d=function(e){var t,n=e.activeIndex,r=e.activeNodeRect,a=e.index,i=e.layoutRects,o=e.overIndex,u=null!=(t=i[n])?t:r;if(!u)return null;if(a===n){var s=i[o];return s?c({x:0,y:n<o?s.offsetTop+s.height-(u.offsetTop+u.height):s.offsetTop-u.offsetTop},f):null}var l=function(e,t,n){var r=e[t],a=e[t-1],i=e[t+1];if(!r)return 0;if(n<t)return a?r.offsetTop-(a.offsetTop+a.height):i?i.offsetTop-(r.offsetTop+r.height):0;return i?i.offsetTop-(r.offsetTop+r.height):a?r.offsetTop-(a.offsetTop+a.height):0}(i,a,n);return c(a>n&&a<=o?{x:0,y:-u.height-l}:a<n&&a>=o?{x:0,y:u.height+l}:{x:0,y:0},f)};var h="Sortable",p=a.a.createContext({activeIndex:-1,containerId:h,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:l,wasSorting:{current:!1}});function v(e){var t,n,u=e.children,s=e.id,c=e.items,f=e.strategy,d=void 0===f?l:f,v=Object(i.j)(),m=v.active,g=v.overlayNode,b=v.droppableRects,y=v.over,x=v.recomputeLayouts,_=v.willRecomputeLayouts,w=Object(o.j)(h,s),O=Boolean(null!==g.rect),k=m?c.indexOf(m):-1,j=-1!==k,E=Object(r.useRef)(j),C=y?c.indexOf(y.id):-1,A=Object(r.useRef)(c),S=function(e,t){return e.reduce((function(e,n,r){var a=t.get(n);return a&&(e[r]=a),e}),Array(e.length))}(c,b),D=(t=c,n=A.current,!(t.join()===n.join())),N=-1!==C&&-1===k||D;Object(o.g)((function(){D&&j&&!_&&x()}),[D,j,x,_]),Object(r.useEffect)((function(){A.current=c}),[c]),Object(r.useEffect)((function(){requestAnimationFrame((function(){E.current=j}))}),[j]);var F=Object(r.useMemo)((function(){return{activeIndex:k,containerId:w,disableTransforms:N,items:c,overIndex:C,useDragOverlay:O,sortedRects:S,strategy:d,wasSorting:E}}),[k,w,N,c,C,S,O,d,E]);return a.a.createElement(p.Provider,{value:F},u)}var m=function(e){var t=e.isSorting,n=e.index,r=e.newIndex;return!!e.transition&&(!!t||r!==n)},g={duration:200,easing:"ease"},b="transform",y=o.a.Transition.toString({property:b,duration:0,easing:"linear"}),x={roleDescription:"sortable"};function _(e){var t=e.animateLayoutChanges,n=void 0===t?m:t,a=e.attributes,l=e.disabled,f=e.id,d=e.strategy,h=e.transition,v=void 0===h?g:h,_=Object(r.useContext)(p),w=_.items,O=_.containerId,k=_.activeIndex,j=_.disableTransforms,E=_.sortedRects,C=_.overIndex,A=_.useDragOverlay,S=_.strategy,D=_.wasSorting,N=Object(i.k)({id:f,attributes:c({},x,a),disabled:l}),F=N.active,T=N.activeNodeRect,M=N.activatorEvent,I=N.attributes,R=N.setNodeRef,P=N.listeners,B=N.isDragging,z=N.over,L=N.transform,U=w.indexOf(f),W=Object(r.useMemo)((function(){return{containerId:O,index:U,items:w}}),[O,U,w]),V=Object(i.l)({id:f,data:W}),q=V.rect,H=V.node,G=V.setNodeRef,K=Object(o.e)(G,R),$=Boolean(F),X=$&&D.current&&!j&&s(k)&&s(C),Y=!A&&B,J=Y&&X?L:null,Q=X?null!=J?J:(null!=d?d:S)({layoutRects:E,activeNodeRect:T,activeIndex:k,overIndex:C,index:U}):null,Z=s(k)&&s(C)?u(w,k,C).indexOf(f):U,ee=Object(r.useRef)(Z),te=n({active:F,isDragging:B,isSorting:$,id:f,index:U,items:w,newIndex:ee.current,transition:v,wasSorting:D.current}),ne=function(e){var t=e.rect,n=e.disabled,a=e.index,o=e.node,u=Object(r.useState)(null),s=u[0],c=u[1],l=Object(r.useRef)(a);return Object(r.useEffect)((function(){if(!n&&a!==l.current&&o.current){var e=t.current;if(e){var r=Object(i.g)(o.current),u={x:e.offsetLeft-r.offsetLeft,y:e.offsetTop-r.offsetTop,scaleX:e.width/r.width,scaleY:e.height/r.height};(u.x||u.y)&&c(u)}}a!==l.current&&(l.current=a)}),[n,a,o,t]),Object(r.useEffect)((function(){s&&requestAnimationFrame((function(){c(null)}))}),[s]),s}({disabled:!te,index:U,node:H,rect:q});return Object(r.useEffect)((function(){$&&(ee.current=Z)}),[$,Z]),{active:F,attributes:I,activatorEvent:M,rect:q,index:U,isSorting:$,isDragging:B,listeners:P,node:H,overIndex:C,over:z,setNodeRef:K,setDroppableNodeRef:G,setDraggableNodeRef:R,transform:null!=ne?ne:Q,transition:function(){if(ne)return y;if(Y||!v)return null;if($||te)return o.a.Transition.toString(c({},v,{property:b}));return null}()}}var w=[i.b.Down,i.b.Right,i.b.Up,i.b.Left],O=function(e,t){var n=t.context,r=n.droppableContainers,a=n.translatedRect,o=n.scrollableAncestors;if(w.includes(e.code)){if(e.preventDefault(),!a)return;var u=[];Object.entries(r).forEach((function(t){var n=t[0],r=t[1];if(!(null==r?void 0:r.disabled)){var o=null==r?void 0:r.node.current;if(o){var s=Object(i.i)(o);switch(e.code){case i.b.Down:a.top+a.height<=s.top&&u.push([n,s]);break;case i.b.Up:a.top>=s.top+s.height&&u.push([n,s]);break;case i.b.Left:a.left>=s.left+s.width&&u.push([n,s]);break;case i.b.Right:a.left+a.width<=s.left&&u.push([n,s])}}}}));var s=Object(i.f)(u,a);if(s){var c,l=null==(c=r[s])?void 0:c.node.current;if(l){var f=Object(i.h)(l).some((function(e,t){return o[t]!==e})),d=Object(i.i)(l),h=f?{x:0,y:0}:{x:a.width-d.width,y:a.height-d.height};return{x:d.left-h.x,y:d.top-h.y}}}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var r=n(63);function a(e,t,n){var r=t.boxesPerRow,a=t.rowHeight,i="number"==typeof n&&e>=n?e+1:e;return{xy:[i%r*t.columnWidth,Math.floor(i/r)*a]}}function i(e,t,n,r){var a=n.rowHeight,i=n.boxesPerRow,o=n.columnWidth,u=Math.floor(t/a)*i+Math.floor(e/o);return u>=r?r:u}function o(e,t,n,o,u){var s=r.b(function(e,t,n,i,o){var u=r.b(a(e,t).xy,2),s=u[0],c=u[1];return{xy:[s+n+(o?t.columnWidth/2:0),c+i+(o?t.rowHeight/2:0)]}}(e,t,o,u,!0).xy,2);return i(s[0],s[1],t,n)}},function(e,t,n){var r;!function(n){"use strict";var a={s:1,n:0,d:1};function i(e){function t(){var t=Error.apply(this,arguments);t.name=this.name=e,this.stack=t.stack,this.message=t.message}function n(){}return n.prototype=Error.prototype,t.prototype=new n,t}var o=d.DivisionByZero=i("DivisionByZero"),u=d.InvalidParameter=i("InvalidParameter");function s(e,t){return isNaN(e=parseInt(e,10))&&c(),e*t}function c(){throw new u}var l=function(e,t){var n,r=0,i=1,u=1,l=0,f=0,d=0,h=1,p=1,v=0,m=1,g=1,b=1,y=1e7;if(void 0===e||null===e);else if(void 0!==t)u=(r=e)*(i=t);else switch(typeof e){case"object":"d"in e&&"n"in e?(r=e.n,i=e.d,"s"in e&&(r*=e.s)):0 in e?(r=e[0],1 in e&&(i=e[1])):c(),u=r*i;break;case"number":if(e<0&&(u=e,e=-e),e%1===0)r=e;else if(e>0){for(e>=1&&(e/=p=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));m<=y&&b<=y;){if(e===(n=(v+g)/(m+b))){m+b<=y?(r=v+g,i=m+b):b>m?(r=g,i=b):(r=v,i=m);break}e>n?(v+=g,m+=b):(g+=v,b+=m),m>y?(r=g,i=b):(r=v,i=m)}r*=p}else(isNaN(e)||isNaN(t))&&(i=r=NaN);break;case"string":if(null===(m=e.match(/\d+|./g))&&c(),"-"===m[v]?(u=-1,v++):"+"===m[v]&&v++,m.length===v+1?f=s(m[v++],u):"."===m[v+1]||"."===m[v]?("."!==m[v]&&(l=s(m[v++],u)),(++v+1===m.length||"("===m[v+1]&&")"===m[v+3]||"'"===m[v+1]&&"'"===m[v+3])&&(f=s(m[v],u),h=Math.pow(10,m[v].length),v++),("("===m[v]&&")"===m[v+2]||"'"===m[v]&&"'"===m[v+2])&&(d=s(m[v+1],u),p=Math.pow(10,m[v+1].length)-1,v+=3)):"/"===m[v+1]||":"===m[v+1]?(f=s(m[v],u),h=s(m[v+2],1),v+=3):"/"===m[v+3]&&" "===m[v+1]&&(l=s(m[v],u),f=s(m[v+2],u),h=s(m[v+4],1),v+=5),m.length<=v){u=r=d+(i=h*p)*l+p*f;break}default:c()}if(0===i)throw new o;a.s=u<0?-1:1,a.n=Math.abs(r),a.d=Math.abs(i)};function f(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function d(e,t){if(!(this instanceof d))return new d(e,t);l(e,t),e=d.REDUCE?f(a.d,a.n):1,this.s=a.s,this.n=a.n/e,this.d=a.d/e}d.REDUCE=1,d.prototype={s:1,n:0,d:1,abs:function(){return new d(this.n,this.d)},neg:function(){return new d(-this.s*this.n,this.d)},add:function(e,t){return l(e,t),new d(this.s*this.n*a.d+a.s*this.d*a.n,this.d*a.d)},sub:function(e,t){return l(e,t),new d(this.s*this.n*a.d-a.s*this.d*a.n,this.d*a.d)},mul:function(e,t){return l(e,t),new d(this.s*a.s*this.n*a.n,this.d*a.d)},div:function(e,t){return l(e,t),new d(this.s*a.s*this.n*a.d,this.d*a.n)},clone:function(){return new d(this)},mod:function(e,t){return isNaN(this.n)||isNaN(this.d)?new d(NaN):void 0===e?new d(this.s*this.n%this.d,1):(l(e,t),0===a.n&&0===this.d&&d(0,0),new d(this.s*(a.d*this.n)%(a.n*this.d),a.d*this.d))},gcd:function(e,t){return l(e,t),new d(f(a.n,this.n)*f(a.d,this.d),a.d*this.d)},lcm:function(e,t){return l(e,t),0===a.n&&0===this.n?new d:new d(a.n*this.n,f(a.n,this.n)*f(a.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):new d(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):new d(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):new d(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return new d(this.s*this.d,this.n)},pow:function(e){return e<0?new d(Math.pow(this.s*this.d,-e),Math.pow(this.n,-e)):new d(Math.pow(this.s*this.n,e),Math.pow(this.d,e))},equals:function(e,t){return l(e,t),this.s*this.n*a.d===a.s*a.n*this.d},compare:function(e,t){l(e,t);var n=this.s*this.n*a.d-a.s*a.n*this.d;return(0<n)-(n<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;var t=this.abs().toContinued();function n(e){return 1===e.length?new d(e[0]):n(e.slice(1)).inverse().add(e[0])}e=e||.001;for(var r=0;r<t.length;r++){var a=n(t.slice(0,r+1));if(a.sub(this.abs()).abs().valueOf()<e)return a.mul(this.s)}return this},divisible:function(e,t){return l(e,t),!(!(a.n*this.d)||this.n*a.d%(a.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,n="",r=this.n,a=this.d;return this.s<0&&(n+="-"),1===a?n+=r:(e&&(t=Math.floor(r/a))>0&&(n+=t,n+=" ",r%=a),n+=r,n+="/",n+=a),n},toLatex:function(e){var t,n="",r=this.n,a=this.d;return this.s<0&&(n+="-"),1===a?n+=r:(e&&(t=Math.floor(r/a))>0&&(n+=t,r%=a),n+="\\frac{",n+=r,n+="}{",n+=a,n+="}"),n},toContinued:function(){var e,t=this.n,n=this.d,r=[];if(isNaN(t)||isNaN(n))return r;do{r.push(Math.floor(t/n)),e=t%n,t=n,n=e}while(1!==t);return r},toString:function(e){var t,n=this.n,r=this.d;if(isNaN(n)||isNaN(r))return"NaN";d.REDUCE||(n/=t=f(n,r),r/=t),e=e||15;var a=function(e,t){for(;t%2===0;t/=2);for(;t%5===0;t/=5);if(1===t)return 0;for(var n=10%t,r=1;1!==n;r++)if(n=10*n%t,r>2e3)return 0;return r}(0,r),i=function(e,t,n){for(var r=1,a=function(e,t,n){for(var r=1;t>0;e=e*e%n,t>>=1)1&t&&(r=r*e%n);return r}(10,n,t),i=0;i<300;i++){if(r===a)return i;r=10*r%t,a=10*a%t}return 0}(0,r,a),o=-1===this.s?"-":"";if(o+=n/r|0,n%=r,(n*=10)&&(o+="."),a){for(var u=i;u--;)o+=n/r|0,n%=r,n*=10;o+="(";for(u=a;u--;)o+=n/r|0,n%=r,n*=10;o+=")"}else for(u=e;n&&u--;)o+=n/r|0,n%=r,n*=10;return o}},void 0===(r=function(){return d}.apply(t,[]))||(e.exports=r)}()},function(e,t){e.exports=function e(t,n){"use strict";var r,a,i=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,s=/^0x[0-9a-f]+$/i,c=/^0/,l=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},f=l(t).replace(o,"")||"",d=l(n).replace(o,"")||"",h=f.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=d.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),v=parseInt(f.match(s),16)||1!==h.length&&f.match(u)&&Date.parse(f),m=parseInt(d.match(s),16)||v&&d.match(u)&&Date.parse(d)||null;if(m){if(v<m)return-1;if(v>m)return 1}for(var g=0,b=Math.max(h.length,p.length);g<b;g++){if(r=!(h[g]||"").match(c)&&parseFloat(h[g])||h[g]||0,a=!(p[g]||"").match(c)&&parseFloat(p[g])||p[g]||0,isNaN(r)!==isNaN(a))return isNaN(r)?1:-1;if(typeof r!==typeof a&&(r+="",a+=""),r<a)return-1;if(r>a)return 1}return 0}},,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,t){for(var n,u,s=o(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))a.call(n,l)&&(s[l]=n[l]);if(r){u=r(n);for(var f=0;f<u.length;f++)i.call(n,u[f])&&(s[u[f]]=n[u[f]])}}return s}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){var r=n(665),a=n(666),i=n(391),o=n(667);e.exports=function(e){return r(e)||a(e)||i(e)||o()}},function(e,t,n){var r=n(129).Symbol;e.exports=r},function(e,t,n){var r=n(500),a=n(705),i=n(211);e.exports=function(e){return i(e)?r(e):a(e)}},function(e,t,n){var r=n(394),a=n(398);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},function(e,t,n){var r=n(306).MAX_SAFE_COMPONENT_LENGTH,a=n(307),i=(t=e.exports={}).re=[],o=t.src=[],u=t.t={},s=0,c=function(e,t,n){var r=s++;a(r,t),u[e]=r,o[r]=t,i[r]=new RegExp(t,n?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION","(".concat(o[u.NUMERICIDENTIFIER],")\\.")+"(".concat(o[u.NUMERICIDENTIFIER],")\\.")+"(".concat(o[u.NUMERICIDENTIFIER],")")),c("MAINVERSIONLOOSE","(".concat(o[u.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(o[u.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(o[u.NUMERICIDENTIFIERLOOSE],")")),c("PRERELEASEIDENTIFIER","(?:".concat(o[u.NUMERICIDENTIFIER],"|").concat(o[u.NONNUMERICIDENTIFIER],")")),c("PRERELEASEIDENTIFIERLOOSE","(?:".concat(o[u.NUMERICIDENTIFIERLOOSE],"|").concat(o[u.NONNUMERICIDENTIFIER],")")),c("PRERELEASE","(?:-(".concat(o[u.PRERELEASEIDENTIFIER],"(?:\\.").concat(o[u.PRERELEASEIDENTIFIER],")*))")),c("PRERELEASELOOSE","(?:-?(".concat(o[u.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(o[u.PRERELEASEIDENTIFIERLOOSE],")*))")),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD","(?:\\+(".concat(o[u.BUILDIDENTIFIER],"(?:\\.").concat(o[u.BUILDIDENTIFIER],")*))")),c("FULLPLAIN","v?".concat(o[u.MAINVERSION]).concat(o[u.PRERELEASE],"?").concat(o[u.BUILD],"?")),c("FULL","^".concat(o[u.FULLPLAIN],"$")),c("LOOSEPLAIN","[v=\\s]*".concat(o[u.MAINVERSIONLOOSE]).concat(o[u.PRERELEASELOOSE],"?").concat(o[u.BUILD],"?")),c("LOOSE","^".concat(o[u.LOOSEPLAIN],"$")),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE","".concat(o[u.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),c("XRANGEIDENTIFIER","".concat(o[u.NUMERICIDENTIFIER],"|x|X|\\*")),c("XRANGEPLAIN","[v=\\s]*(".concat(o[u.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(o[u.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(o[u.XRANGEIDENTIFIER],")")+"(?:".concat(o[u.PRERELEASE],")?").concat(o[u.BUILD],"?")+")?)?"),c("XRANGEPLAINLOOSE","[v=\\s]*(".concat(o[u.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(o[u.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(o[u.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(o[u.PRERELEASELOOSE],")?").concat(o[u.BUILD],"?")+")?)?"),c("XRANGE","^".concat(o[u.GTLT],"\\s*").concat(o[u.XRANGEPLAIN],"$")),c("XRANGELOOSE","^".concat(o[u.GTLT],"\\s*").concat(o[u.XRANGEPLAINLOOSE],"$")),c("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(r,"})")+"(?:\\.(\\d{1,".concat(r,"}))?")+"(?:\\.(\\d{1,".concat(r,"}))?")+"(?:$|[^\\d])"),c("COERCERTL",o[u.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM","(\\s*)".concat(o[u.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",c("TILDE","^".concat(o[u.LONETILDE]).concat(o[u.XRANGEPLAIN],"$")),c("TILDELOOSE","^".concat(o[u.LONETILDE]).concat(o[u.XRANGEPLAINLOOSE],"$")),c("LONECARET","(?:\\^)"),c("CARETTRIM","(\\s*)".concat(o[u.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",c("CARET","^".concat(o[u.LONECARET]).concat(o[u.XRANGEPLAIN],"$")),c("CARETLOOSE","^".concat(o[u.LONECARET]).concat(o[u.XRANGEPLAINLOOSE],"$")),c("COMPARATORLOOSE","^".concat(o[u.GTLT],"\\s*(").concat(o[u.LOOSEPLAIN],")$|^$")),c("COMPARATOR","^".concat(o[u.GTLT],"\\s*(").concat(o[u.FULLPLAIN],")$|^$")),c("COMPARATORTRIM","(\\s*)".concat(o[u.GTLT],"\\s*(").concat(o[u.LOOSEPLAIN],"|").concat(o[u.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE","^\\s*(".concat(o[u.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(o[u.XRANGEPLAIN],")")+"\\s*$"),c("HYPHENRANGELOOSE","^\\s*(".concat(o[u.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(o[u.XRANGEPLAINLOOSE],")")+"\\s*$"),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0.0.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},function(e,t,n){var r=n(306).MAX_LENGTH,a=n(212),i=a.re,o=a.t,u=n(98),s=n(308);e.exports=function(e,t){if(t=s(t),e instanceof u)return e;if("string"!==typeof e)return null;if(e.length>r)return null;if(!(t.loose?i[o.LOOSE]:i[o.FULL]).test(e))return null;try{return new u(e,t)}catch(n){return null}}},function(e,t,n){"use strict";n.r(t),n.d(t,"vega",(function(){return hse})),n.d(t,"vegaLite",(function(){return pse})),n.d(t,"DEFAULT_ACTIONS",(function(){return mse})),n.d(t,"guessMode",(function(){return kse})),n.d(t,"default",(function(){return Ese}));var r={};n.r(r),n.d(r,"JsonPatchError",(function(){return P})),n.d(r,"deepClone",(function(){return B})),n.d(r,"getValueByPointer",(function(){return U})),n.d(r,"applyOperation",(function(){return W})),n.d(r,"applyPatch",(function(){return V})),n.d(r,"applyReducer",(function(){return q})),n.d(r,"validator",(function(){return H})),n.d(r,"validate",(function(){return G})),n.d(r,"_areEquals",(function(){return K}));var a={};n.r(a),n.d(a,"unobserve",(function(){return J})),n.d(a,"observe",(function(){return Q})),n.d(a,"generate",(function(){return Z})),n.d(a,"compare",(function(){return te}));var i={};n.r(i),n.d(i,"aggregate",(function(){return Ua})),n.d(i,"bin",(function(){return Wa})),n.d(i,"collect",(function(){return qa})),n.d(i,"compare",(function(){return Ha})),n.d(i,"countpattern",(function(){return Ka})),n.d(i,"cross",(function(){return $a})),n.d(i,"density",(function(){return Qa})),n.d(i,"dotbin",(function(){return ri})),n.d(i,"expression",(function(){return ai})),n.d(i,"extent",(function(){return oi})),n.d(i,"facet",(function(){return si})),n.d(i,"field",(function(){return ci})),n.d(i,"filter",(function(){return fi})),n.d(i,"flatten",(function(){return di})),n.d(i,"fold",(function(){return hi})),n.d(i,"formula",(function(){return pi})),n.d(i,"generate",(function(){return vi})),n.d(i,"impute",(function(){return bi})),n.d(i,"joinaggregate",(function(){return yi})),n.d(i,"kde",(function(){return xi})),n.d(i,"key",(function(){return _i})),n.d(i,"load",(function(){return Oi})),n.d(i,"lookup",(function(){return ji})),n.d(i,"multiextent",(function(){return Ei})),n.d(i,"multivalues",(function(){return Ai})),n.d(i,"params",(function(){return Di})),n.d(i,"pivot",(function(){return Ni})),n.d(i,"prefacet",(function(){return Fi})),n.d(i,"project",(function(){return Ti})),n.d(i,"proxy",(function(){return Mi})),n.d(i,"quantile",(function(){return Ii})),n.d(i,"relay",(function(){return Ri})),n.d(i,"sample",(function(){return Pi})),n.d(i,"sequence",(function(){return Bi})),n.d(i,"sieve",(function(){return zi})),n.d(i,"subflow",(function(){return ui})),n.d(i,"timeunit",(function(){return Li})),n.d(i,"tupleindex",(function(){return Wi})),n.d(i,"values",(function(){return Vi})),n.d(i,"window",(function(){return $i}));var o={};n.r(o),n.d(o,"interpolate",(function(){return Ls})),n.d(o,"interpolateArray",(function(){return Fs})),n.d(o,"interpolateBasis",(function(){return ys})),n.d(o,"interpolateBasisClosed",(function(){return xs})),n.d(o,"interpolateDate",(function(){return Ms})),n.d(o,"interpolateDiscrete",(function(){return cl})),n.d(o,"interpolateHue",(function(){return ll})),n.d(o,"interpolateNumber",(function(){return Is})),n.d(o,"interpolateNumberArray",(function(){return Ds})),n.d(o,"interpolateObject",(function(){return Rs})),n.d(o,"interpolateRound",(function(){return Us})),n.d(o,"interpolateString",(function(){return zs})),n.d(o,"interpolateTransformCss",(function(){return vl})),n.d(o,"interpolateTransformSvg",(function(){return ml})),n.d(o,"interpolateZoom",(function(){return bl})),n.d(o,"interpolateRgb",(function(){return Es})),n.d(o,"interpolateRgbBasis",(function(){return As})),n.d(o,"interpolateRgbBasisClosed",(function(){return Ss})),n.d(o,"interpolateHsl",(function(){return xl})),n.d(o,"interpolateHslLong",(function(){return _l})),n.d(o,"interpolateLab",(function(){return Ll})),n.d(o,"interpolateHcl",(function(){return Wl})),n.d(o,"interpolateHclLong",(function(){return Vl})),n.d(o,"interpolateCubehelix",(function(){return af})),n.d(o,"interpolateCubehelixLong",(function(){return of})),n.d(o,"piecewise",(function(){return Qc})),n.d(o,"quantize",(function(){return uf}));var u={};n.r(u),n.d(u,"bound",(function(){return gg})),n.d(u,"identifier",(function(){return xg})),n.d(u,"mark",(function(){return _g})),n.d(u,"overlap",(function(){return wg})),n.d(u,"render",(function(){return Sg})),n.d(u,"viewlayout",(function(){return Jg}));var s={};n.r(s),n.d(s,"axisticks",(function(){return Zg})),n.d(s,"datajoin",(function(){return eb})),n.d(s,"encode",(function(){return nb})),n.d(s,"legendentries",(function(){return rb})),n.d(s,"linkpath",(function(){return sb})),n.d(s,"pie",(function(){return hb})),n.d(s,"scale",(function(){return mb})),n.d(s,"sortitems",(function(){return xb})),n.d(s,"stack",(function(){return jb}));var c={};n.r(c),n.d(c,"contour",(function(){return cw})),n.d(c,"geojson",(function(){return dw})),n.d(c,"geopath",(function(){return hw})),n.d(c,"geopoint",(function(){return pw})),n.d(c,"geoshape",(function(){return vw})),n.d(c,"graticule",(function(){return mw})),n.d(c,"heatmap",(function(){return gw})),n.d(c,"isocontour",(function(){return Z_})),n.d(c,"kde2d",(function(){return ow})),n.d(c,"projection",(function(){return yw}));var l={};n.r(l),n.d(l,"force",(function(){return vO}));var f={};n.r(f),n.d(f,"nest",(function(){return bk})),n.d(f,"pack",(function(){return kk})),n.d(f,"partition",(function(){return Ek})),n.d(f,"stratify",(function(){return Ck})),n.d(f,"tree",(function(){return Dk})),n.d(f,"treelinks",(function(){return Nk})),n.d(f,"treemap",(function(){return Mk}));var d={};n.r(d),n.d(d,"loess",(function(){return Rk})),n.d(d,"regression",(function(){return Bk}));var h={};n.r(h),n.d(h,"voronoi",(function(){return lj}));var p={};n.r(p),n.d(p,"wordcloud",(function(){return kj}));var v={};n.r(v),n.d(v,"crossfilter",(function(){return Nj})),n.d(v,"resolvefilter",(function(){return Fj}));var m={};n.r(m),n.d(m,"interpolate",(function(){return xN})),n.d(m,"interpolateArray",(function(){return fN})),n.d(m,"interpolateBasis",(function(){return QD})),n.d(m,"interpolateBasisClosed",(function(){return ZD})),n.d(m,"interpolateDate",(function(){return hN})),n.d(m,"interpolateDiscrete",(function(){return _N})),n.d(m,"interpolateHue",(function(){return wN})),n.d(m,"interpolateNumber",(function(){return pN})),n.d(m,"interpolateNumberArray",(function(){return cN})),n.d(m,"interpolateObject",(function(){return vN})),n.d(m,"interpolateRound",(function(){return ON})),n.d(m,"interpolateString",(function(){return yN})),n.d(m,"interpolateTransformCss",(function(){return AN})),n.d(m,"interpolateTransformSvg",(function(){return SN})),n.d(m,"interpolateZoom",(function(){return NN})),n.d(m,"interpolateRgb",(function(){return iN})),n.d(m,"interpolateRgbBasis",(function(){return uN})),n.d(m,"interpolateRgbBasisClosed",(function(){return sN})),n.d(m,"interpolateHsl",(function(){return TN})),n.d(m,"interpolateHslLong",(function(){return MN})),n.d(m,"interpolateLab",(function(){return IN})),n.d(m,"interpolateHcl",(function(){return PN})),n.d(m,"interpolateHclLong",(function(){return BN})),n.d(m,"interpolateCubehelix",(function(){return LN})),n.d(m,"interpolateCubehelixLong",(function(){return UN})),n.d(m,"piecewise",(function(){return WN})),n.d(m,"quantize",(function(){return HN}));var g={};n.r(g),n.d(g,"interpolate",(function(){return DI})),n.d(g,"interpolateArray",(function(){return bI})),n.d(g,"interpolateBasis",(function(){return iI})),n.d(g,"interpolateBasisClosed",(function(){return oI})),n.d(g,"interpolateDate",(function(){return xI})),n.d(g,"interpolateDiscrete",(function(){return NI})),n.d(g,"interpolateHue",(function(){return FI})),n.d(g,"interpolateNumber",(function(){return _I})),n.d(g,"interpolateNumberArray",(function(){return mI})),n.d(g,"interpolateObject",(function(){return wI})),n.d(g,"interpolateRound",(function(){return TI})),n.d(g,"interpolateString",(function(){return SI})),n.d(g,"interpolateTransformCss",(function(){return BI})),n.d(g,"interpolateTransformSvg",(function(){return zI})),n.d(g,"interpolateZoom",(function(){return WI})),n.d(g,"interpolateRgb",(function(){return dI})),n.d(g,"interpolateRgbBasis",(function(){return pI})),n.d(g,"interpolateRgbBasisClosed",(function(){return vI})),n.d(g,"interpolateHsl",(function(){return qI})),n.d(g,"interpolateHslLong",(function(){return HI})),n.d(g,"interpolateLab",(function(){return lR})),n.d(g,"interpolateHcl",(function(){return dR})),n.d(g,"interpolateHclLong",(function(){return hR})),n.d(g,"interpolateCubehelix",(function(){return ER})),n.d(g,"interpolateCubehelixLong",(function(){return CR})),n.d(g,"piecewise",(function(){return jM})),n.d(g,"quantize",(function(){return AR}));var b={};n.r(b),n.d(b,"interpolate",(function(){return HW})),n.d(b,"interpolateArray",(function(){return RW})),n.d(b,"interpolateBasis",(function(){return OW})),n.d(b,"interpolateBasisClosed",(function(){return kW})),n.d(b,"interpolateDate",(function(){return BW})),n.d(b,"interpolateDiscrete",(function(){return GW})),n.d(b,"interpolateHue",(function(){return KW})),n.d(b,"interpolateNumber",(function(){return zW})),n.d(b,"interpolateNumberArray",(function(){return MW})),n.d(b,"interpolateObject",(function(){return LW})),n.d(b,"interpolateRound",(function(){return $W})),n.d(b,"interpolateString",(function(){return qW})),n.d(b,"interpolateTransformCss",(function(){return ZW})),n.d(b,"interpolateTransformSvg",(function(){return eV})),n.d(b,"interpolateZoom",(function(){return nV})),n.d(b,"interpolateRgb",(function(){return DW})),n.d(b,"interpolateRgbBasis",(function(){return FW})),n.d(b,"interpolateRgbBasisClosed",(function(){return TW})),n.d(b,"interpolateHsl",(function(){return aV})),n.d(b,"interpolateHslLong",(function(){return iV})),n.d(b,"interpolateLab",(function(){return oV})),n.d(b,"interpolateHcl",(function(){return sV})),n.d(b,"interpolateHclLong",(function(){return cV})),n.d(b,"interpolateCubehelix",(function(){return fV})),n.d(b,"interpolateCubehelixLong",(function(){return dV})),n.d(b,"piecewise",(function(){return hV})),n.d(b,"quantize",(function(){return mV}));var y={};n.r(y),n.d(y,"version",(function(){return Tj.a})),n.d(y,"bandwidthNRD",(function(){return Fr})),n.d(y,"bin",(function(){return Tr})),n.d(y,"bootstrapCI",(function(){return Rr})),n.d(y,"cumulativeLogNormal",(function(){return Jr})),n.d(y,"cumulativeNormal",(function(){return Hr})),n.d(y,"cumulativeUniform",(function(){return ra})),n.d(y,"densityLogNormal",(function(){return Yr})),n.d(y,"densityNormal",(function(){return qr})),n.d(y,"densityUniform",(function(){return na})),n.d(y,"dotbin",(function(){return Pr})),n.d(y,"quantileLogNormal",(function(){return Qr})),n.d(y,"quantileNormal",(function(){return Gr})),n.d(y,"quantileUniform",(function(){return aa})),n.d(y,"quantiles",(function(){return Dr})),n.d(y,"quartiles",(function(){return Nr})),n.d(y,"random",(function(){return Mr})),n.d(y,"randomInteger",(function(){return zr})),n.d(y,"randomKDE",(function(){return $r})),n.d(y,"randomLCG",(function(){return Br})),n.d(y,"randomLogNormal",(function(){return Zr})),n.d(y,"randomMixture",(function(){return ea})),n.d(y,"randomNormal",(function(){return Kr})),n.d(y,"randomUniform",(function(){return ia})),n.d(y,"regressionExp",(function(){return da})),n.d(y,"regressionLinear",(function(){return la})),n.d(y,"regressionLoess",(function(){return ga})),n.d(y,"regressionLog",(function(){return fa})),n.d(y,"regressionPoly",(function(){return va})),n.d(y,"regressionPow",(function(){return ha})),n.d(y,"regressionQuad",(function(){return pa})),n.d(y,"sampleCurve",(function(){return _a})),n.d(y,"sampleLogNormal",(function(){return Xr})),n.d(y,"sampleNormal",(function(){return Vr})),n.d(y,"sampleUniform",(function(){return ta})),n.d(y,"setRandom",(function(){return Ir})),n.d(y,"DATE",(function(){return ja.a})),n.d(y,"DAY",(function(){return ja.b})),n.d(y,"DAYOFYEAR",(function(){return ja.c})),n.d(y,"HOURS",(function(){return ja.d})),n.d(y,"MILLISECONDS",(function(){return ja.e})),n.d(y,"MINUTES",(function(){return ja.f})),n.d(y,"MONTH",(function(){return ja.g})),n.d(y,"QUARTER",(function(){return ja.h})),n.d(y,"SECONDS",(function(){return ja.i})),n.d(y,"TIME_UNITS",(function(){return ja.j})),n.d(y,"WEEK",(function(){return ja.k})),n.d(y,"YEAR",(function(){return ja.l})),n.d(y,"dayofyear",(function(){return ja.m})),n.d(y,"timeBin",(function(){return ja.n})),n.d(y,"timeFloor",(function(){return ja.o})),n.d(y,"timeInterval",(function(){return ja.p})),n.d(y,"timeOffset",(function(){return ja.q})),n.d(y,"timeSequence",(function(){return ja.r})),n.d(y,"timeUnitSpecifier",(function(){return ja.s})),n.d(y,"timeUnits",(function(){return ja.t})),n.d(y,"utcFloor",(function(){return ja.u})),n.d(y,"utcInterval",(function(){return ja.v})),n.d(y,"utcOffset",(function(){return ja.w})),n.d(y,"utcSequence",(function(){return ja.x})),n.d(y,"utcdayofyear",(function(){return ja.y})),n.d(y,"utcweek",(function(){return ja.z})),n.d(y,"week",(function(){return ja.A})),n.d(y,"accessor",(function(){return ie})),n.d(y,"accessorName",(function(){return oe})),n.d(y,"accessorFields",(function(){return ue})),n.d(y,"id",(function(){return ve})),n.d(y,"identity",(function(){return me})),n.d(y,"zero",(function(){return ge})),n.d(y,"one",(function(){return be})),n.d(y,"truthy",(function(){return ye})),n.d(y,"falsy",(function(){return xe})),n.d(y,"logger",(function(){return Ce})),n.d(y,"None",(function(){return we})),n.d(y,"Error",(function(){return Oe})),n.d(y,"Warn",(function(){return ke})),n.d(y,"Info",(function(){return je})),n.d(y,"Debug",(function(){return Ee})),n.d(y,"mergeConfig",(function(){return Ne})),n.d(y,"writeConfig",(function(){return Fe})),n.d(y,"panLinear",(function(){return We})),n.d(y,"panLog",(function(){return Ve})),n.d(y,"panPow",(function(){return qe})),n.d(y,"panSymlog",(function(){return He})),n.d(y,"zoomLinear",(function(){return Ke})),n.d(y,"zoomLog",(function(){return $e})),n.d(y,"zoomPow",(function(){return Xe})),n.d(y,"zoomSymlog",(function(){return Ye})),n.d(y,"quarter",(function(){return Je})),n.d(y,"utcquarter",(function(){return Qe})),n.d(y,"array",(function(){return Ze})),n.d(y,"clampRange",(function(){return et})),n.d(y,"compare",(function(){return nt})),n.d(y,"constant",(function(){return ut})),n.d(y,"debounce",(function(){return st})),n.d(y,"error",(function(){return fe})),n.d(y,"extend",(function(){return ct})),n.d(y,"extent",(function(){return lt})),n.d(y,"extentIndex",(function(){return ft})),n.d(y,"fastmap",(function(){return vt})),n.d(y,"field",(function(){return he})),n.d(y,"flush",(function(){return mt})),n.d(y,"hasOwnProperty",(function(){return ht})),n.d(y,"inherits",(function(){return gt})),n.d(y,"inrange",(function(){return bt})),n.d(y,"isArray",(function(){return Ae})),n.d(y,"isBoolean",(function(){return yt})),n.d(y,"isDate",(function(){return xt})),n.d(y,"isFunction",(function(){return tt})),n.d(y,"isNumber",(function(){return _t})),n.d(y,"isObject",(function(){return Se})),n.d(y,"isRegExp",(function(){return wt})),n.d(y,"isString",(function(){return Ot})),n.d(y,"key",(function(){return kt})),n.d(y,"lerp",(function(){return jt})),n.d(y,"lruCache",(function(){return Et})),n.d(y,"merge",(function(){return Ct})),n.d(y,"pad",(function(){return St})),n.d(y,"peek",(function(){return Me})),n.d(y,"repeat",(function(){return At})),n.d(y,"span",(function(){return Dt})),n.d(y,"splitAccessPath",(function(){return de})),n.d(y,"stringValue",(function(){return Nt})),n.d(y,"toBoolean",(function(){return Ft})),n.d(y,"toDate",(function(){return Mt})),n.d(y,"toNumber",(function(){return Ie})),n.d(y,"toString",(function(){return It})),n.d(y,"toSet",(function(){return Rt})),n.d(y,"truncate",(function(){return Pt})),n.d(y,"visitArray",(function(){return Bt})),n.d(y,"format",(function(){return Mj.a})),n.d(y,"formats",(function(){return Mj.b})),n.d(y,"inferType",(function(){return Mj.c})),n.d(y,"inferTypes",(function(){return Mj.d})),n.d(y,"loader",(function(){return Mj.e})),n.d(y,"read",(function(){return Mj.f})),n.d(y,"responseType",(function(){return Mj.g})),n.d(y,"typeParsers",(function(){return Mj.h})),n.d(y,"Bounds",(function(){return $C})),n.d(y,"Gradient",(function(){return Lj})),n.d(y,"GroupItem",(function(){return JC})),n.d(y,"ResourceLoader",(function(){return bA})),n.d(y,"Item",(function(){return YC})),n.d(y,"Scenegraph",(function(){return cD})),n.d(y,"Handler",(function(){return bD})),n.d(y,"Renderer",(function(){return _D})),n.d(y,"CanvasHandler",(function(){return zD})),n.d(y,"CanvasRenderer",(function(){return HD})),n.d(y,"SVGHandler",(function(){return $D})),n.d(y,"SVGRenderer",(function(){return sT})),n.d(y,"SVGStringRenderer",(function(){return wT})),n.d(y,"RenderType",(function(){return AT})),n.d(y,"renderModule",(function(){return DT})),n.d(y,"intersect",(function(){return NT})),n.d(y,"Marks",(function(){return tD})),n.d(y,"boundClip",(function(){return RT})),n.d(y,"boundContext",(function(){return CA})),n.d(y,"boundStroke",(function(){return wA})),n.d(y,"boundItem",(function(){return nD})),n.d(y,"boundMark",(function(){return aD})),n.d(y,"pathCurves",(function(){return RE})),n.d(y,"pathSymbols",(function(){return eC})),n.d(y,"pathRectangle",(function(){return mC})),n.d(y,"pathTrail",(function(){return gC})),n.d(y,"pathParse",(function(){return zE})),n.d(y,"pathRender",(function(){return YE})),n.d(y,"point",(function(){return gD})),n.d(y,"domCreate",(function(){return dD})),n.d(y,"domFind",(function(){return hD})),n.d(y,"domChild",(function(){return pD})),n.d(y,"domClear",(function(){return vD})),n.d(y,"openTag",(function(){return rT})),n.d(y,"closeTag",(function(){return aT})),n.d(y,"font",(function(){return XS})),n.d(y,"fontFamily",(function(){return $S})),n.d(y,"fontSize",(function(){return VS})),n.d(y,"lineHeight",(function(){return qS})),n.d(y,"multiLineOffset",(function(){return GS})),n.d(y,"textMetrics",(function(){return PS})),n.d(y,"sceneEqual",(function(){return PT})),n.d(y,"pathEqual",(function(){return BT})),n.d(y,"sceneToJSON",(function(){return oD})),n.d(y,"sceneFromJSON",(function(){return uD})),n.d(y,"intersectPath",(function(){return BA})),n.d(y,"intersectPoint",(function(){return zA})),n.d(y,"intersectRule",(function(){return UA})),n.d(y,"intersectBoxLine",(function(){return WA})),n.d(y,"sceneZOrder",(function(){return JA})),n.d(y,"sceneVisit",(function(){return QA})),n.d(y,"scenePickVisit",(function(){return ZA})),n.d(y,"resetSVGClipId",(function(){return GC})),n.d(y,"resetSVGDefIds",(function(){return zT})),n.d(y,"Dataflow",(function(){return sr})),n.d(y,"EventStream",(function(){return Wn})),n.d(y,"Parameters",(function(){return Rn})),n.d(y,"Pulse",(function(){return Jn})),n.d(y,"MultiPulse",(function(){return tr})),n.d(y,"Operator",(function(){return zn})),n.d(y,"Transform",(function(){return lr})),n.d(y,"changeset",(function(){return Mn})),n.d(y,"ingest",(function(){return An})),n.d(y,"isTuple",(function(){return jn})),n.d(y,"definition",(function(){return dr})),n.d(y,"transform",(function(){return hr})),n.d(y,"transforms",(function(){return fr})),n.d(y,"tupleid",(function(){return En})),n.d(y,"scale",(function(){return OM})),n.d(y,"scheme",(function(){return RR})),n.d(y,"interpolate",(function(){return FR})),n.d(y,"interpolateColors",(function(){return DR})),n.d(y,"interpolateRange",(function(){return SR})),n.d(y,"quantizeInterpolator",(function(){return NR})),n.d(y,"projection",(function(){return z_})),n.d(y,"View",(function(){return DU})),n.d(y,"formatLocale",(function(){return gn.c})),n.d(y,"timeFormatLocale",(function(){return gn.e})),n.d(y,"locale",(function(){return gn.b})),n.d(y,"defaultLocale",(function(){return gn.a})),n.d(y,"resetDefaultLocale",(function(){return gn.d})),n.d(y,"expressionFunction",(function(){return hY})),n.d(y,"parse",(function(){return v0})),n.d(y,"runtimeContext",(function(){return mU}));var x={};n.r(x),n.d(x,"invalidSpec",(function(){return $3})),n.d(x,"FIT_NON_SINGLE",(function(){return X3})),n.d(x,"containerSizeNonSingle",(function(){return Y3})),n.d(x,"containerSizeNotCompatibleWithAutosize",(function(){return J3})),n.d(x,"droppingFit",(function(){return Q3})),n.d(x,"cannotProjectOnChannelWithoutField",(function(){return Z3})),n.d(x,"cannotProjectAggregate",(function(){return e4})),n.d(x,"nearestNotSupportForContinuous",(function(){return t4})),n.d(x,"selectionNotSupported",(function(){return n4})),n.d(x,"selectionNotFound",(function(){return r4})),n.d(x,"SCALE_BINDINGS_CONTINUOUS",(function(){return a4})),n.d(x,"LEGEND_BINDINGS_PROJECT_LENGTH",(function(){return i4})),n.d(x,"noSameUnitLookup",(function(){return o4})),n.d(x,"noSuchRepeatedValue",(function(){return u4})),n.d(x,"columnsNotSupportByRowCol",(function(){return s4})),n.d(x,"CONCAT_CANNOT_SHARE_AXIS",(function(){return c4})),n.d(x,"unrecognizedParse",(function(){return l4})),n.d(x,"differentParse",(function(){return f4})),n.d(x,"invalidTransformIgnored",(function(){return d4})),n.d(x,"NO_FIELDS_NEEDS_AS",(function(){return h4})),n.d(x,"customFormatTypeNotAllowed",(function(){return p4})),n.d(x,"encodingOverridden",(function(){return v4})),n.d(x,"projectionOverridden",(function(){return m4})),n.d(x,"REPLACE_ANGLE_WITH_THETA",(function(){return g4})),n.d(x,"primitiveChannelDef",(function(){return b4})),n.d(x,"invalidFieldType",(function(){return y4})),n.d(x,"invalidFieldTypeForCountAggregate",(function(){return x4})),n.d(x,"invalidAggregate",(function(){return _4})),n.d(x,"missingFieldType",(function(){return w4})),n.d(x,"droppingColor",(function(){return O4})),n.d(x,"emptyFieldDef",(function(){return k4})),n.d(x,"latLongDeprecated",(function(){return j4})),n.d(x,"LINE_WITH_VARYING_SIZE",(function(){return E4})),n.d(x,"incompatibleChannel",(function(){return C4})),n.d(x,"invalidEncodingChannel",(function(){return A4})),n.d(x,"facetChannelShouldBeDiscrete",(function(){return S4})),n.d(x,"facetChannelDropped",(function(){return D4})),n.d(x,"discreteChannelCannotEncode",(function(){return N4})),n.d(x,"lineWithRange",(function(){return F4})),n.d(x,"orientOverridden",(function(){return T4})),n.d(x,"CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN",(function(){return M4})),n.d(x,"RANGE_STEP_DEPRECATED",(function(){return I4})),n.d(x,"cannotUseScalePropertyWithNonColor",(function(){return R4})),n.d(x,"unaggregateDomainHasNoEffectForRawField",(function(){return P4})),n.d(x,"unaggregateDomainWithNonSharedDomainOp",(function(){return B4})),n.d(x,"unaggregatedDomainWithLogScale",(function(){return z4})),n.d(x,"cannotApplySizeToNonOrientedMark",(function(){return L4})),n.d(x,"scaleTypeNotWorkWithChannel",(function(){return U4})),n.d(x,"scaleTypeNotWorkWithFieldDef",(function(){return W4})),n.d(x,"scalePropertyNotWorkWithScaleType",(function(){return V4})),n.d(x,"scaleTypeNotWorkWithMark",(function(){return q4})),n.d(x,"stepDropped",(function(){return H4})),n.d(x,"mergeConflictingProperty",(function(){return G4})),n.d(x,"mergeConflictingDomainProperty",(function(){return K4})),n.d(x,"independentScaleMeansIndependentGuide",(function(){return $4})),n.d(x,"domainSortDropped",(function(){return X4})),n.d(x,"MORE_THAN_ONE_SORT",(function(){return Y4})),n.d(x,"FACETED_INDEPENDENT_DIFFERENT_SOURCES",(function(){return J4})),n.d(x,"FACETED_INDEPENDENT_SAME_FIELDS_DIFFERENT_SOURCES",(function(){return Q4})),n.d(x,"FACETED_INDEPENDENT_SAME_SOURCE",(function(){return Z4})),n.d(x,"INVALID_CHANNEL_FOR_AXIS",(function(){return e5})),n.d(x,"cannotStackRangedMark",(function(){return t5})),n.d(x,"cannotStackNonLinearScale",(function(){return n5})),n.d(x,"stackNonSummativeAggregate",(function(){return r5})),n.d(x,"invalidTimeUnit",(function(){return a5})),n.d(x,"droppedDay",(function(){return i5})),n.d(x,"errorBarCenterAndExtentAreNotNeeded",(function(){return o5})),n.d(x,"errorBarCenterIsUsedWithWrongExtent",(function(){return u5})),n.d(x,"errorBarContinuousAxisHasCustomizedAggregate",(function(){return s5})),n.d(x,"errorBarCenterIsNotNeeded",(function(){return c5})),n.d(x,"errorBand1DNotSupport",(function(){return l5})),n.d(x,"channelRequiredForBinned",(function(){return f5})),n.d(x,"domainRequiredForThresholdScale",(function(){return d5}));var _={};n.r(_),n.d(_,"compile",(function(){return vue})),n.d(_,"extractTransforms",(function(){return yue})),n.d(_,"normalize",(function(){return oee})),n.d(_,"version",(function(){return xue}));var w={};n.r(w),n.d(w,"dark",(function(){return kue})),n.d(w,"excel",(function(){return Eue})),n.d(w,"fivethirtyeight",(function(){return Nue})),n.d(w,"ggplot2",(function(){return Tue})),n.d(w,"googlecharts",(function(){return ese})),n.d(w,"latimes",(function(){return zue})),n.d(w,"quartz",(function(){return Wue})),n.d(w,"urbaninstitute",(function(){return Yue})),n.d(w,"version",(function(){return tse})),n.d(w,"vox",(function(){return que}));var O=n(2),k=n.n(O);function j(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}Object.create;Object.create;var E=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=Object.prototype.hasOwnProperty;function A(e,t){return C.call(e,t)}function S(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);t=[];for(var r in e)A(e,r)&&t.push(r);return t}function D(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function N(e){for(var t,n=0,r=e.length;n<r;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function F(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function T(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function M(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(M(e[t]))return!0}else if("object"===typeof e){var r=S(e),a=r.length;for(t=0;t<a;t++)if(M(e[r[t]]))return!0}return!1}function I(e,t){var n=[e];for(var r in t){var a="object"===typeof t[r]?JSON.stringify(t[r],null,2):t[r];"undefined"!==typeof a&&n.push(r+": "+a)}return n.join("\n")}var R=function(e){function t(t,n,r,a,i){var o=this.constructor,u=e.call(this,I(t,{name:n,index:r,operation:a,tree:i}))||this;return u.name=n,u.index=r,u.operation=a,u.tree=i,Object.setPrototypeOf(u,o.prototype),u.message=I(t,{name:n,index:r,operation:a,tree:i}),u}return E(t,e),t}(Error),P=R,B=D,z={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=U(n,this.path);r&&(r=D(r));var a=W(n,{op:"remove",path:this.from}).removed;return W(n,{op:"add",path:this.path,value:a}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=U(n,this.from);return W(n,{op:"add",path:this.path,value:D(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:K(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},L={add:function(e,t,n){return N(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:z.move,copy:z.copy,test:z.test,_get:z._get};function U(e,t){if(""==t)return e;var n={op:"_get",path:t};return W(e,n),n.value}function W(e,t,n,r,a,i){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===a&&(a=!0),void 0===i&&(i=0),n&&("function"==typeof n?n(t,0,e,t.path):H(t,0)),""===t.path){var o={newDocument:e};if("add"===t.op)return o.newDocument=t.value,o;if("replace"===t.op)return o.newDocument=t.value,o.removed=e,o;if("move"===t.op||"copy"===t.op)return o.newDocument=U(e,t.from),"move"===t.op&&(o.removed=e),o;if("test"===t.op){if(o.test=K(e,t.value),!1===o.test)throw new P("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return o.newDocument=e,o}if("remove"===t.op)return o.removed=e,o.newDocument=null,o;if("_get"===t.op)return t.value=e,o;if(n)throw new P("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,t,e);return o}r||(e=D(e));var u=(t.path||"").split("/"),s=e,c=1,l=u.length,f=void 0,d=void 0,h=void 0;for(h="function"==typeof n?n:H;;){if(d=u[c],a&&"__proto__"==d)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===f&&(void 0===s[d]?f=u.slice(0,c).join("/"):c==l-1&&(f=t.path),void 0!==f&&h(t,0,e,f)),c++,Array.isArray(s)){if("-"===d)d=s.length;else{if(n&&!N(d))throw new P("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",i,t,e);N(d)&&(d=~~d)}if(c>=l){if(n&&"add"===t.op&&d>s.length)throw new P("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",i,t,e);if(!1===(o=L[t.op].call(t,s,d,e)).test)throw new P("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return o}}else if(d&&-1!=d.indexOf("~")&&(d=T(d)),c>=l){if(!1===(o=z[t.op].call(t,s,d,e)).test)throw new P("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return o}s=s[d]}}function V(e,t,n,r,a){if(void 0===r&&(r=!0),void 0===a&&(a=!0),n&&!Array.isArray(t))throw new P("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=D(e));for(var i=new Array(t.length),o=0,u=t.length;o<u;o++)i[o]=W(e,t[o],n,!0,a,o),e=i[o].newDocument;return i.newDocument=e,i}function q(e,t,n){var r=W(e,t);if(!1===r.test)throw new P("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function H(e,t,n,r){if("object"!==typeof e||null===e||Array.isArray(e))throw new P("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!z[e.op])throw new P("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!==typeof e.path)throw new P("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new P('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!==typeof e.from)throw new P("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new P("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&M(e.value))throw new P("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var a=e.path.split("/").length,i=r.split("/").length;if(a!==i+1&&a!==i)throw new P("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new P("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var o=G([{op:"_get",path:e.from,value:void 0}],n);if(o&&"OPERATION_PATH_UNRESOLVABLE"===o.name)throw new P("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function G(e,t,n){try{if(!Array.isArray(e))throw new P("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)V(D(t),D(e),n||!0);else{n=n||H;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(a){if(a instanceof P)return a;throw a}}function K(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,a,i=Array.isArray(e),o=Array.isArray(t);if(i&&o){if((r=e.length)!=t.length)return!1;for(n=r;0!==n--;)if(!K(e[n],t[n]))return!1;return!0}if(i!=o)return!1;var u=Object.keys(e);if((r=u.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!t.hasOwnProperty(u[n]))return!1;for(n=r;0!==n--;)if(!K(e[a=u[n]],t[a]))return!1;return!0}return e!==e&&t!==t}var $=new WeakMap,X=function(e){this.observers=new Map,this.obj=e},Y=function(e,t){this.callback=e,this.observer=t};function J(e,t){t.unobserve()}function Q(e,t){var n,r=function(e){return $.get(e)}(e);if(r){var a=function(e,t){return e.observers.get(t)}(r,t);n=a&&a.observer}else r=new X(e),$.set(e,r);if(n)return n;if(n={},r.value=D(e),t){n.callback=t,n.next=null;var i=function(){Z(n)},o=function(){clearTimeout(n.next),n.next=setTimeout(i)};"undefined"!==typeof window&&(window.addEventListener("mouseup",o),window.addEventListener("keyup",o),window.addEventListener("mousedown",o),window.addEventListener("keydown",o),window.addEventListener("change",o))}return n.patches=[],n.object=e,n.unobserve=function(){Z(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(r,n),"undefined"!==typeof window&&(window.removeEventListener("mouseup",o),window.removeEventListener("keyup",o),window.removeEventListener("mousedown",o),window.removeEventListener("keydown",o),window.removeEventListener("change",o))},r.observers.set(t,new Y(t,n)),n}function Z(e,t){void 0===t&&(t=!1);var n=$.get(e.object);ee(n.value,e.object,e.patches,"",t),e.patches.length&&V(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function ee(e,t,n,r,a){if(t!==e){"function"===typeof t.toJSON&&(t=t.toJSON());for(var i=S(t),o=S(e),u=!1,s=o.length-1;s>=0;s--){var c=e[f=o[s]];if(!A(t,f)||void 0===t[f]&&void 0!==c&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(a&&n.push({op:"test",path:r+"/"+F(f),value:D(c)}),n.push({op:"remove",path:r+"/"+F(f)}),u=!0):(a&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}),!0);else{var l=t[f];"object"==typeof c&&null!=c&&"object"==typeof l&&null!=l?ee(c,l,n,r+"/"+F(f),a):c!==l&&(!0,a&&n.push({op:"test",path:r+"/"+F(f),value:D(c)}),n.push({op:"replace",path:r+"/"+F(f),value:D(l)}))}}if(u||i.length!=o.length)for(s=0;s<i.length;s++){var f;A(e,f=i[s])||void 0===t[f]||n.push({op:"add",path:r+"/"+F(f),value:D(t[f])})}}}function te(e,t,n){void 0===n&&(n=!1);var r=[];return ee(e,t,r,"",n),r}Object.assign({},r,a,{JsonPatchError:R,deepClone:D,escapePathComponent:F,unescapePathComponent:T});var ne=n(384),re=n.n(ne),ae=n(435),ie=function(e,t,n){return e.fields=t||[],e.fname=n,e};function oe(e){return null==e?null:e.fname}function ue(e){return null==e?null:e.fields}var se=function(e){return 1===e.length?ce(e[0]):le(e)},ce=function(e){return function(t){return t[e]}},le=function(e){var t=e.length;return function(n){for(var r=0;r<t;++r)n=n[e[r]];return n}},fe=function(e){throw Error(e)},de=function(e){var t,n,r,a=[],i=null,o=0,u=e.length,s="";function c(){a.push(s+e.substring(t,n)),s="",t=n+1}for(e+="",t=n=0;n<u;++n)if("\\"===(r=e[n]))s+=e.substring(t,n),s+=e.substring(++n,++n),t=n;else if(r===i)c(),i=null,o=-1;else{if(i)continue;t===o&&'"'===r||t===o&&"'"===r?(t=n+1,i=r):"."!==r||o?"["===r?(n>t&&c(),o=t=n+1):"]"===r&&(o||fe("Access path missing open bracket: "+e),o>0&&c(),o=0,t=n+1):n>t?c():t=n+1}return o&&fe("Access path missing closing bracket: "+e),i&&fe("Access path missing closing quote: "+e),n>t&&(n++,c()),a},he=function(e,t,n){var r=de(e);return e=1===r.length?r[0]:e,ie((n&&n.get||se)(r),[e],t||e)},pe=[],ve=he("id"),me=ie((function(e){return e}),pe,"identity"),ge=ie((function(){return 0}),pe,"zero"),be=ie((function(){return 1}),pe,"one"),ye=ie((function(){return!0}),pe,"true"),xe=ie((function(){return!1}),pe,"false");function _e(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}var we=0,Oe=1,ke=2,je=3,Ee=4,Ce=function(e,t){var n=e||we;return{level:function(e){return arguments.length?(n=+e,this):n},error:function(){return n>=Oe&&_e(t||"error","ERROR",arguments),this},warn:function(){return n>=ke&&_e(t||"warn","WARN",arguments),this},info:function(){return n>=je&&_e(t||"log","INFO",arguments),this},debug:function(){return n>=Ee&&_e(t||"log","DEBUG",arguments),this}}},Ae=Array.isArray,Se=function(e){return e===Object(e)},De=function(e){return"__proto__"!==e};function Ne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)if("signals"===n)e.signals=Te(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;Fe(e,n,t[n],r)}return e}),{})}function Fe(e,t,n,r){var a,i;if(De(t))if(Se(n)&&!Ae(n))for(a in i=Se(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[a])?Fe(i,a,n[a]):De(a)&&(i[a]=n[a]);else e[t]=n}function Te(e,t){if(null==e)return t;var n={},r=[];function a(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(a),e.forEach(a),r}var Me=function(e){return e[e.length-1]},Ie=function(e){return null==e||""===e?null:+e};function Re(e){return function(t){return e*Math.exp(t)}}function Pe(e){return function(t){return Math.log(e*t)}}function Be(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ze(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Le(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ue(e,t,n,r){var a=n(e[0]),i=n(Me(e)),o=(i-a)*t;return[r(a-o),r(i-o)]}function We(e,t){return Ue(e,t,Ie,me)}function Ve(e,t){var n=Math.sign(e[0]);return Ue(e,t,Pe(n),Re(n))}function qe(e,t,n){return Ue(e,t,Le(n),Le(1/n))}function He(e,t,n){return Ue(e,t,Be(n),ze(n))}function Ge(e,t,n,r,a){var i=r(e[0]),o=r(Me(e)),u=null!=t?r(t):(i+o)/2;return[a(u+(i-u)*n),a(u+(o-u)*n)]}function Ke(e,t,n){return Ge(e,t,n,Ie,me)}function $e(e,t,n){var r=Math.sign(e[0]);return Ge(e,t,n,Pe(r),Re(r))}function Xe(e,t,n,r){return Ge(e,t,n,Le(r),Le(1/r))}function Ye(e,t,n,r){return Ge(e,t,n,Be(r),ze(r))}function Je(e){return 1+~~(new Date(e).getMonth()/3)}function Qe(e){return 1+~~(new Date(e).getUTCMonth()/3)}var Ze=function(e){return null!=e?Ae(e)?e:[e]:[]},et=function(e,t,n){var r,a=e[0],i=e[1];return i<a&&(r=i,i=a,a=r),(r=i-a)>=n-t?[t,n]:[a=Math.min(Math.max(a,t),n-r),a+r]},tt=function(e){return"function"===typeof e},nt=function(e,t,n){n=n||{},t=Ze(t)||[];var r=[],a=[],i={},o=n.comparator||at;return Ze(e).forEach((function(e,o){null!=e&&(r.push("descending"===t[o]?-1:1),a.push(e=tt(e)?e:he(e,null,n)),(ue(e)||[]).forEach((function(e){return i[e]=1})))})),0===a.length?null:ie(o(a,r),Object.keys(i))},rt=function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0)},at=function(e,t){return 1===e.length?it(e[0],t[0]):ot(e,t,e.length)},it=function(e,t){return function(n,r){return rt(e(n),e(r))*t}},ot=function(e,t,n){return t.push(0),function(r,a){for(var i,o=0,u=-1;0===o&&++u<n;)i=e[u],o=rt(i(r),i(a));return o*t[u]}},ut=function(e){return tt(e)?e:function(){return e}},st=function(e,t){var n,r;function a(){t(r),n=r=null}return function(t){r=t,n&&clearTimeout(n),n=setTimeout(a,e)}},ct=function(e){for(var t,n,r=1,a=arguments.length;r<a;++r)for(n in t=arguments[r])e[n]=t[n];return e},lt=function(e,t){var n,r,a,i,o=0;if(e&&(n=e.length))if(null==t){for(r=e[o];o<n&&(null==r||r!==r);r=e[++o]);for(a=i=r;o<n;++o)null!=(r=e[o])&&(r<a&&(a=r),r>i&&(i=r))}else{for(r=t(e[o]);o<n&&(null==r||r!==r);r=t(e[++o]));for(a=i=r;o<n;++o)null!=(r=t(e[o]))&&(r<a&&(a=r),r>i&&(i=r))}return[a,i]},ft=function(e,t){var n,r,a,i,o,u=-1,s=e.length;if(null==t){for(;++u<s;)if(null!=(r=e[u])&&r>=r){n=a=r;break}if(u===s)return[-1,-1];for(i=o=u;++u<s;)null!=(r=e[u])&&(n>r&&(n=r,i=u),a<r&&(a=r,o=u))}else{for(;++u<s;)if(null!=(r=t(e[u],u,e))&&r>=r){n=a=r;break}if(u===s)return[-1,-1];for(i=o=u;++u<s;)null!=(r=t(e[u],u,e))&&(n>r&&(n=r,i=u),a<r&&(a=r,o=u))}return[i,o]},dt=Object.prototype.hasOwnProperty,ht=function(e,t){return dt.call(e,t)},pt={},vt=function(e){var t,n,r={};function a(e){return ht(r,e)&&r[e]!==pt}return t={size:0,empty:0,object:r,has:a,get:function(e){return a(e)?r[e]:void 0},set:function(e,n){return a(e)||(++t.size,r[e]===pt&&--t.empty),r[e]=n,this},delete:function(e){return a(e)&&(--t.size,++t.empty,r[e]=pt),this},clear:function(){t.size=t.empty=0,t.object=r={}},test:function(e){return arguments.length?(n=e,t):n},clean:function(){var e,a,i={},o=0;for(e in r)(a=r[e])===pt||n&&n(a)||(i[e]=a,++o);t.size=o,t.empty=0,t.object=r=i}},e&&Object.keys(e).forEach((function(n){t.set(n,e[n])})),t},mt=function(e,t,n,r,a,i){if(!n&&0!==n)return i;var o,u,s=e[0],c=Me(e),l=+n;return c<s&&(o=s,s=c,c=o),(o=Math.abs(t-s))<(u=Math.abs(c-t))&&o<=l?r:u<=l?a:i},gt=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n},bt=function(e,t,n,r){var a,i=t[0],o=t[t.length-1];return i>o&&(a=i,i=o,o=a),r=void 0===r||r,((n=void 0===n||n)?i<=e:i<e)&&(r?e<=o:e<o)},yt=function(e){return"boolean"===typeof e},xt=function(e){return"[object Date]"===Object.prototype.toString.call(e)},_t=function(e){return"number"===typeof e},wt=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},Ot=function(e){return"string"===typeof e},kt=function(e,t,n){e&&(e=t?Ze(e).map((function(e){return e.replace(/\\(.)/g,"$1")})):Ze(e));var r,a=e&&e.length,i=n&&n.get||se,o=function(e){return i(t?[e]:de(e))};if(a)if(1===a){var u=o(e[0]);r=function(e){return""+u(e)}}else{var s=e.map(o);r=function(e){for(var t=""+s[0](e),n=0;++n<a;)t+="|"+s[n](e);return t}}else r=function(){return""};return ie(r,e,"key")},jt=function(e,t){var n=e[0],r=Me(e),a=+t;return a?1===a?r:n+a*(r-n):n},Et=function(e){var t,n,r;e=+e||1e4;var a=function(){t={},n={},r=0},i=function(a,i){return++r>e&&(n=t,t={},r=1),t[a]=i};return a(),{clear:a,has:function(e){return ht(t,e)||ht(n,e)},get:function(e){return ht(t,e)?t[e]:ht(n,e)?i(e,n[e]):void 0},set:function(e,n){return ht(t,e)?t[e]=n:i(e,n)}}},Ct=function(e,t,n,r){var a=t.length,i=n.length;if(!i)return t;if(!a)return n;for(var o=r||new t.constructor(a+i),u=0,s=0,c=0;u<a&&s<i;++c)o[c]=e(t[u],n[s])>0?n[s++]:t[u++];for(;u<a;++u,++c)o[c]=t[u];for(;s<i;++s,++c)o[c]=n[s];return o},At=function(e,t){for(var n="";--t>=0;)n+=e;return n},St=function(e,t,n,r){var a=n||" ",i=e+"",o=t-i.length;return o<=0?i:"left"===r?At(a,o)+i:"center"===r?At(a,~~(o/2))+i+At(a,Math.ceil(o/2)):i+At(a,o)},Dt=function(e){return e&&Me(e)-e[0]||0};function Nt(e){return Ae(e)?"["+e.map(Nt)+"]":Se(e)||Ot(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var Ft=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e};function Tt(e){return _t(e)||xt(e)?e:Date.parse(e)}var Mt=function(e,t){return t=t||Tt,null==e||""===e?null:t(e)},It=function(e){return null==e||""===e?null:e+""},Rt=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t},Pt=function(e,t,n,r){var a=null!=r?r:"\u2026",i=e+"",o=i.length,u=Math.max(0,t-a.length);return o<=t?i:"left"===n?a+i.slice(o-u):"center"===n?i.slice(0,Math.ceil(u/2))+a+i.slice(o-~~(u/2)):i.slice(0,u)+a},Bt=function(e,t,n){if(e)if(t)for(var r,a=0,i=e.length;a<i;++a)(r=t(e[a]))&&n(r,a,e);else e.forEach(n)},zt=n(13),Lt=n(1),Ut=/^([A-Za-z]+:)?\/\//,Wt=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Vt=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,qt="file://";function Ht(e,t){return Gt.apply(this,arguments)}function Gt(){return(Gt=Object(zt.a)(k.a.mark((function e(t,n){var r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sanitize(t,n);case 2:return r=e.sent,a=r.href,e.abrupt("return",r.localFile?this.file(a):this.http(a,n));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Kt(e,t){return $t.apply(this,arguments)}function $t(){return($t=Object(zt.a)(k.a.mark((function e(t,n){var r,a,i,o,u,s,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Lt.l)({},this.options,n),r=this.fileAccess,a={href:null},s=Wt.test(t.replace(Vt,"")),null!=t&&"string"===typeof t&&s||Object(Lt.k)("Sanitize failure, invalid URI: "+Object(Lt.W)(t)),c=Ut.test(t),(u=n.baseURL)&&!c&&(t.startsWith("/")||"/"===u[u.length-1]||(t="/"+t),t=u+t),o=(i=t.startsWith(qt))||"file"===n.mode||"http"!==n.mode&&!c&&r,i?t=t.slice(qt.length):t.startsWith("//")&&("file"===n.defaultProtocol?(t=t.slice(2),o=!0):t=(n.defaultProtocol||"http")+":"+t),Object.defineProperty(a,"localFile",{value:!!o}),a.href=t,n.target&&(a.target=n.target+""),n.rel&&(a.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(a.crossOrigin=n.crossOrigin+""),e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Xt(e){return e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){e?r(e):n(t)}))}))}:Yt}function Yt(){return Jt.apply(this,arguments)}function Jt(){return(Jt=Object(zt.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(Lt.k)("No file system access.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(e){return e?function(){var t=Object(zt.a)(k.a.mark((function t(n,r){var a,i,o;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(Lt.l)({},this.options.http,r),i=r&&r.response,t.next=4,e(n,a);case 4:return o=t.sent,t.abrupt("return",o.ok?Object(Lt.A)(o[i])?o[i]():o.text():Object(Lt.k)(o.status+""+o.statusText));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}():Zt}function Zt(){return en.apply(this,arguments)}function en(){return(en=Object(zt.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(Lt.k)("No HTTP fetch method available.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tn=function(e){return!Number.isNaN(+e)&&!(e instanceof Date)},nn={boolean:Lt.X,integer:Lt.Z,number:Lt.Z,date:Lt.Y,string:Lt.bb,unknown:Lt.u},rn=[function(e){return"true"===e||"false"===e||!0===e||!1===e},function(e){return tn(e)&&Number.isInteger(+e)},tn,function(e){return!Number.isNaN(Date.parse(e))}],an=["boolean","integer","number","date"];function on(e,t){return t.reduce((function(t,n){return t[n]=function(e,t){if(!e||!e.length)return"unknown";for(var n,r,a,i=e.length,o=rn.length,u=rn.map((function(e,t){return t+1})),s=0,c=0;s<i;++s)for(r=t?e[s][t]:e[s],n=0;n<o;++n)if(u[n]&&null!=(a=r)&&a===a&&!rn[n](r)&&(u[n]=0,++c===rn.length))return"string";return an[u.reduce((function(e,t){return 0===e?t:e}),0)-1]}(e,n),t}),{})}var un=n(940);function sn(e){var t=function(t,n){var r={delimiter:e};return cn(t,n?Object(Lt.l)(n,r):r)};return t.responseType="text",t}function cn(e,t){return t.header&&(e=t.header.map(Lt.W).join(t.delimiter)+"\n"+e),Object(un.a)(t.delimiter).parse(e+"")}cn.responseType="text";var ln=n(366),fn=n(125),dn={interior:function(e,t){return e!==t},exterior:function(e,t){return e===t}};function hn(e,t){var n,r,a,i;return e=Object(ln.a)(e,t),t&&t.feature?(n=fn.a,a=t.feature):t&&t.mesh?(n=fn.b,a=t.mesh,i=dn[t.filter]):Object(Lt.k)("Missing TopoJSON feature or mesh parameter."),(r=(r=e.objects[a])?n(e,r,i):Object(Lt.k)("Invalid TopoJSON object: "+a))&&r.features||[r]}hn.responseType="json";var pn={dsv:cn,csv:sn(","),tsv:sn("\t"),json:ln.a,topojson:hn};function vn(e,t){return arguments.length>1?(pn[e]=t,this):Object(Lt.s)(pn,e)?pn[e]:null}function mn(e){var t=vn(e);return t&&t.responseType||"text"}var gn=n(85),bn=function(e,t,n,r){var a=vn((t=t||{}).type||"json");return a||Object(Lt.k)("Unknown data format type: "+t.type),e=a(e,t),t.parse&&function(e,t,n,r){if(!e.length)return;var a=Object(gn.e)();n=n||a.timeParse,r=r||a.utcParse;var i,o,u,s,c,l,f=e.columns||Object.keys(e[0]);"auto"===t&&(t=on(e,f));var d=(f=Object.keys(t)).map((function(e){var a,i,o=t[e];if(o&&(o.startsWith("date:")||o.startsWith("utc:")))return("'"===(i=(a=o.split(/:(.+)?/,2))[1])[0]&&"'"===i[i.length-1]||'"'===i[0]&&'"'===i[i.length-1])&&(i=i.slice(1,-1)),("utc"===a[0]?r:n)(i);if(!nn[o])throw Error("Illegal format pattern: "+e+":"+o);return nn[o]}));for(u=0,c=e.length,l=f.length;u<c;++u)for(i=e[u],s=0;s<l;++s)i[o=f[s]]=d[s](i[o])}(e,t.parse,n,r),Object(Lt.s)(e,"columns")&&delete e.columns,e};var yn=function(e,t){return function(n){return{options:n||{},sanitize:Kt,load:Ht,fileAccess:!!t,file:Xt(t),http:Qt(e)}}}("undefined"!==typeof fetch&&fetch,null);function xn(e){var t=e||Lt.u,n=[],r={};return n.add=function(e){var a=t(e);return r[a]||(r[a]=1,n.push(e)),n},n.remove=function(e){var a=t(e);if(r[a]){r[a]=0;var i=n.indexOf(e);i>=0&&n.splice(i,1)}return n},n}function _n(e,t){return wn.apply(this,arguments)}function wn(){return(wn=Object(zt.a)(k.a.mark((function e(t,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),t.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var On=Symbol("vega_id"),kn=1;function jn(e){return!(!e||!En(e))}function En(e){return e[On]}function Cn(e,t){return e[On]=t,e}function An(e){var t=e===Object(e)?e:{data:e};return En(t)?t:Cn(t,kn++)}function Sn(e){return Dn(e,An({}))}function Dn(e,t){for(var n in e)t[n]=e[n];return t}function Nn(e,t){return Cn(t,En(e))}function Fn(e,t){return e?t?function(n,r){return e(n,r)||En(t(n))-En(t(r))}:function(t,n){return e(t,n)||En(t)-En(n)}:null}function Tn(e){return e&&e.constructor===Mn}function Mn(){var e=[],t=[],n=[],r=[],a=[],i=null,o=!1;return{constructor:Mn,insert:function(t){for(var n=Object(Lt.e)(t),r=n.length,a=0;a<r;++a)e.push(n[a]);return this},remove:function(e){for(var n=Object(Lt.A)(e)?r:t,a=Object(Lt.e)(e),i=a.length,o=0;o<i;++o)n.push(a[o]);return this},modify:function(e,t,r){var i={field:t,value:Object(Lt.i)(r)};return Object(Lt.A)(e)?(i.filter=e,a.push(i)):(i.tuple=e,n.push(i)),this},encode:function(e,t){return Object(Lt.A)(e)?a.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},clean:function(e){return i=e,this},reflow:function(){return o=!0,this},pulse:function(u,s){var c,l,f,d,h,p,v={},m={};for(c=0,l=s.length;c<l;++c)v[En(s[c])]=1;for(c=0,l=t.length;c<l;++c)v[En(h=t[c])]=-1;for(c=0,l=r.length;c<l;++c)d=r[c],s.forEach((function(e){d(e)&&(v[En(e)]=-1)}));for(c=0,l=e.length;c<l;++c)p=En(h=e[c]),v[p]?v[p]=1:u.add.push(An(e[c]));for(c=0,l=s.length;c<l;++c)h=s[c],v[En(h)]<0&&u.rem.push(h);function g(e,t,n){n?e[t]=n(e):u.encode=t,o||(m[En(e)]=e)}for(c=0,l=n.length;c<l;++c)h=(f=n[c]).tuple,d=f.field,(p=v[En(h)])>0&&(g(h,d,f.value),u.modifies(d));for(c=0,l=a.length;c<l;++c)f=a[c],d=f.filter,s.forEach((function(e){d(e)&&v[En(e)]>0&&g(e,f.field,f.value)})),u.modifies(f.field);if(o)u.mod=t.length||r.length?s.filter((function(e){return v[En(e)]>0})):s.slice();else for(p in m)u.mod.push(m[p]);return(i||null==i&&(t.length||r.length))&&u.clean(!0),u}}}var In="_:mod:_";function Rn(){Object.defineProperty(this,In,{writable:!0,value:{}})}Rn.prototype={set:function(e,t,n,r){var a=this,i=a[e],o=a[In];return null!=t&&t>=0?(i[t]!==n||r)&&(i[t]=n,o[t+":"+e]=-1,o[e]=-1):(i!==n||r)&&(a[e]=n,o[e]=Object(Lt.x)(n)?1+n.length:-1),a},modified:function(e,t){var n=this[In];if(!arguments.length){for(var r in n)if(n[r])return!0;return!1}if(Object(Lt.x)(e)){for(var a=0;a<e.length;++a)if(n[e[a]])return!0;return!1}return null!=t&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear:function(){return this[In]={},this}};var Pn=0,Bn=new Rn;function zn(e,t,n,r){this.id=++Pn,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function Ln(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}zn.prototype={targets:function(){return this._targets||(this._targets=xn(Lt.t))},set:function(e){return this.value!==e?(this.value=e,1):0},skip:Ln(1),modified:Ln(2),parameters:function(e,t,n){var r=this;t=!1!==t;var a,i,o,u,s=this._argval=this._argval||new Rn,c=this._argops=this._argops||[],l=[],f=function(e,n,a){a instanceof zn?(a!==r&&(t&&a.targets().add(r),l.push(a)),c.push({op:a,name:e,index:n})):s.set(e,n,a)};for(a in e)if(i=e[a],"pulse"===a)Object(Lt.e)(i).forEach((function(e){e instanceof zn?e!==r&&(e.targets().add(r),l.push(e)):Object(Lt.k)("Pulse parameters must be operator instances.")})),this.source=i;else if(Object(Lt.x)(i))for(s.set(a,-1,Array(o=i.length)),u=0;u<o;++u)f(a,u,i[u]);else f(a,-1,i);return this.marshall().clear(),n&&(c.initonly=!0),l},marshall:function(e){var t,n,r,a,i=this._argval||Bn,o=this._argops;if(o){var u=o.length;for(n=0;n<u;++n)a=(r=(t=o[n]).op).modified()&&r.stamp===e,i.set(t.name,t.index,r.value,a);if(o.initonly){for(n=0;n<u;++n)(t=o[n]).op.targets().remove(this);this._argops=null,this._update=null}}return i},detach:function(){var e,t,n,r=this._argops;if(r)for(e=0,t=r.length;e<t;++e)(n=r[e].op)._targets&&n._targets.remove(this)},evaluate:function(e){var t=this._update;if(t){var n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run:function(e){return e.stamp<this.stamp?e.StopPropagation:(this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e);var t}};var Un=0;function Wn(e,t,n){this.id=++Un,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Vn(e,t,n){return new Wn(e,t,n)}function qn(){return(qn=Object(zt.a)(k.a.mark((function e(t,n){var r,a,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,a=0,e.prev=2,e.next=5,r.loader().load(t,{context:"dataflow",response:mn(n&&n.type)});case 5:i=e.sent;try{i=r.parse(i,n)}catch(o){a=-2,r.warn("Data ingestion failed",t,o)}e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),a=-1,r.warn("Loading failed",t,e.t0);case 13:return e.abrupt("return",{data:i,status:a});case 14:case"end":return e.stop()}}),e,this,[[2,9]])})))).apply(this,arguments)}function Hn(){return(Hn=Object(zt.a)(k.a.mark((function e(t,n,r){var a,i,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=(a=this)._pending||Gn(a)).requests+=1,e.next=4,a.request(n,r);case 4:return o=e.sent,a.pulse(t,a.changeset().remove(Lt.db).insert(o.data||[])),i.done(),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Gn(e){var t,n=new Promise((function(e){return t=e}));return n.requests=0,n.done=function(){0===--n.requests&&(e._pending=null,t(e))},e._pending=n}Wn.prototype={_filter:Lt.db,_apply:Lt.u,targets:function(){return this._targets||(this._targets=xn(Lt.t))},consume:function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive:function(e){if(this._filter(e)){for(var t=this.value=this._apply(e),n=this._targets,r=n?n.length:0,a=0;a<r;++a)n[a].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter:function(e){var t=Vn(e);return this.targets().add(t),t},apply:function(e){var t=Vn(null,e);return this.targets().add(t),t},merge:function(){var e=Vn();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle:function(e){var t=-1;return this.filter((function(){var n=Date.now();return n-t>e?(t=n,1):0}))},debounce:function(e){var t=Vn();return this.targets().add(Vn(null,null,Object(Lt.j)(e,(function(e){var n=e.dataflow;t.receive(e),n&&n.run&&n.run()})))),t},between:function(e,t){var n=!1;return e.targets().add(Vn(null,null,(function(){return n=!0}))),t.targets().add(Vn(null,null,(function(){return n=!1}))),this.filter((function(){return n}))},detach:function(){}};var Kn={skip:!0};function $n(e,t,n,r,a,i){var o,u,s=Object(Lt.l)({},i,Kn);Object(Lt.A)(n)||(n=Object(Lt.i)(n)),void 0===r?o=function(t){return e.touch(n(t))}:Object(Lt.A)(r)?(u=new zn(null,r,a,!1),o=function(t){u.evaluate(t);var r=n(t),a=u.value;Tn(a)?e.pulse(r,a,i):e.update(r,a,s)}):o=function(t){return e.update(n(t),r,s)},t.apply(o)}function Xn(e,t,n,r,a,i){if(void 0===r)t.targets().add(n);else{var o=i||{},u=new zn(null,function(e,t){return t=Object(Lt.A)(t)?t:Object(Lt.i)(t),e?function(n,r){var a=t(n,r);return e.skip()||(e.skip(a!==this.value).value=a),a}:t}(n,r),a,!1);u.modified(o.force),u.rank=t.rank,t.targets().add(u),n&&(u.skip(!0),u.value=n.value,u.targets().add(n),e.connect(n,[u]))}}var Yn={};function Jn(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function Qn(e,t){var n=[];return Object(Lt.fb)(e,t,(function(e){return n.push(e)})),n}function Zn(e,t){var n={};return e.visit(t,(function(e){n[En(e)]=1})),function(e){return n[En(e)]?null:e}}function er(e,t){return e?function(n,r){return e(n,r)&&t(n,r)}:t}function tr(e,t,n,r){var a=this,i=n.length,o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(var u=0;u<i;++u){var s=n[u];if(s.stamp===t){if(s.fields){var c=a.fields||(a.fields={});for(var l in s.fields)c[l]=1}s.changed(a.ADD)&&(o|=a.ADD),s.changed(a.REM)&&(o|=a.REM),s.changed(a.MOD)&&(o|=a.MOD)}}this.changes=o}function nr(){return(nr=Object(zt.a)(k.a.mark((function e(t,n,r){var a,i,o,u,s,c,l,f,d;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=[],!(a=this)._pulse){e.next=3;break}return e.abrupt("return",ar(a));case 3:if(!a._pending){e.next=6;break}return e.next=6,a._pending;case 6:if(!n){e.next=9;break}return e.next=9,_n(a,n);case 9:if(a._touched.length){e.next=12;break}return a.debug("Dataflow invoked, but nothing to do."),e.abrupt("return",a);case 12:o=++a._clock,a._pulse=new Jn(a,o,t),a._touched.forEach((function(e){return a._enqueue(e,!0)})),a._touched=xn(Lt.t),u=0,e.prev=17;case 18:if(!(a._heap.size()>0)){e.next=35;break}if((s=a._heap.pop()).rank===s.qrank){e.next=23;break}return a._enqueue(s,!0),e.abrupt("continue",18);case 23:if(!(c=s.run(a._getPulse(s,t))).then){e.next=30;break}return e.next=27,c;case 27:c=e.sent,e.next=31;break;case 30:c.async&&(i.push(c.async),c=Yn);case 31:c!==Yn&&s._targets&&s._targets.forEach((function(e){return a._enqueue(e)})),++u,e.next=18;break;case 35:e.next=41;break;case 37:e.prev=37,e.t0=e.catch(17),a._heap.clear(),l=e.t0;case 41:if(a._input={},a._pulse=null,a.debug("Pulse ".concat(o,": ").concat(u," operators")),l&&(a._postrun=[],a.error(l)),!a._postrun.length){e.next=55;break}f=a._postrun.sort((function(e,t){return t.priority-e.priority})),a._postrun=[],d=0;case 49:if(!(d<f.length)){e.next=55;break}return e.next=52,_n(a,f[d].callback);case 52:++d,e.next=49;break;case 55:if(!r){e.next=58;break}return e.next=58,_n(a,r);case 58:return i.length&&Promise.all(i).then((function(e){return a.runAsync(null,(function(){e.forEach((function(e){try{e(a)}catch(t){a.error(t)}}))}))})),e.abrupt("return",a);case 60:case"end":return e.stop()}}),e,this,[[17,37]])})))).apply(this,arguments)}function rr(){return(rr=Object(zt.a)(k.a.mark((function e(t,n,r){var a,i=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._running){e.next=5;break}return e.next=3,this._running;case 3:e.next=0;break;case 5:return a=function(){return i._running=null},(this._running=this.evaluate(t,n,r)).then(a,a),e.abrupt("return",this._running);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ar(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}Jn.prototype={StopPropagation:Yn,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork:function(e){return new Jn(this.dataflow).init(this,e)},clone:function(){var e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll:function(){var e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||((e=new Jn(this.dataflow).init(this)).add=e.source,e.rem=[]),e},init:function(e,t){var n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter:function(e){this.dataflow.runAfter(e)},changed:function(e){var t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow:function(e){if(e)return this.fork(7).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,Zn(this,1))),this},clean:function(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies:function(e){var t=this.fields||(this.fields={});return Object(Lt.x)(e)?e.forEach((function(e){return t[e]=!0})):t[e]=!0,this},modified:function(e,t){var n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?Object(Lt.x)(e)?e.some((function(e){return n[e]})):n[e]:!!n)},filter:function(e,t){var n=this;return 1&e&&(n.addF=er(n.addF,t)),2&e&&(n.remF=er(n.remF,t)),4&e&&(n.modF=er(n.modF,t)),16&e&&(n.srcF=er(n.srcF,t)),n},materialize:function(e){var t=this;return 1&(e=e||7)&&t.addF&&(t.add=Qn(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=Qn(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=Qn(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit:function(e,t){var n=this,r=t;if(16&e)return Object(Lt.fb)(n.source,n.srcF,r),n;1&e&&Object(Lt.fb)(n.add,n.addF,r),2&e&&Object(Lt.fb)(n.rem,n.remF,r),4&e&&Object(Lt.fb)(n.mod,n.modF,r);var a=n.source;if(8&e&&a){var i=n.add.length+n.mod.length;i===a.length||(i?Object(Lt.fb)(a,Zn(n,5),r):Object(Lt.fb)(a,n.srcF,r))}return n}},Object(Lt.v)(tr,Jn,{fork:function(e){var t=new Jn(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(function(e){return t.add.push(e)})),e&t.REM&&this.visit(t.REM,(function(e){return t.rem.push(e)})),e&t.MOD&&this.visit(t.MOD,(function(e){return t.mod.push(e)}))),t},changed:function(e){return this.changes&e},modified:function(e){var t=this,n=t.fields;return n&&t.changes&t.MOD?Object(Lt.x)(e)?e.some((function(e){return n[e]})):n[e]:0},filter:function(){Object(Lt.k)("MultiPulse does not support filtering.")},materialize:function(){Object(Lt.k)("MultiPulse does not support materialization.")},visit:function(e,t){var n=this,r=n.pulses,a=r.length,i=0;if(e&n.SOURCE)for(;i<a;++i)r[i].visit(e,t);else for(;i<a;++i)r[i].stamp===n.stamp&&r[i].visit(e,t);return n}});var ir={skip:!1,force:!1};function or(e){var t=[];return{clear:function(){return t=[]},size:function(){return t.length},peek:function(){return t[0]},push:function(n){return t.push(n),ur(t,0,t.length-1,e)},pop:function(){var n,r=t.pop();return t.length?(n=t[0],t[0]=r,function(e,t,n){var r,a=t,i=e.length,o=e[t],u=1+(t<<1);for(;u<i;)(r=u+1)<i&&n(e[u],e[r])>=0&&(u=r),e[t]=e[u],u=1+((t=u)<<1);e[t]=o,ur(e,a,t,n)}(t,0,e)):n=r,n}}}function ur(e,t,n,r){for(var a,i,o=e[n];n>t&&r(o,a=e[i=n-1>>1])<0;)e[n]=a,n=i;return e[n]=o}function sr(){this.logger(Object(Lt.I)()),this.logLevel(Lt.a),this._clock=0,this._rank=0,this._locale=Object(gn.a)();try{this._loader=yn()}catch(e){}this._touched=xn(Lt.t),this._input={},this._pulse=null,this._heap=or((function(e,t){return e.qrank-t.qrank})),this._postrun=[]}function cr(e){return function(){return this._log[e].apply(this,arguments)}}function lr(e,t){zn.call(this,e,null,t)}sr.prototype={stamp:function(){return this._clock},loader:function(e){return arguments.length?(this._loader=e,this):this._loader},locale:function(e){return arguments.length?(this._locale=e,this):this._locale},logger:function(e){return arguments.length?(this._log=e,this):this._log},error:cr("error"),warn:cr("warn"),info:cr("info"),debug:cr("debug"),logLevel:cr("level"),cleanThreshold:1e4,add:function(e,t,n,r){var a,i=1;return e instanceof zn?a=e:e&&e.prototype instanceof zn?a=new e:Object(Lt.A)(e)?a=new zn(null,e):(i=0,a=new zn(e,t)),this.rank(a),i&&(r=n,n=t),n&&this.connect(a,a.parameters(n,r)),this.touch(a),a},connect:function(e,t){for(var n=e.rank,r=t.length,a=0;a<r;++a)if(n<t[a].rank)return void this.rerank(e)},rank:function(e){e.rank=++this._rank},rerank:function(e){for(var t,n,r,a=[e];a.length;)if(this.rank(t=a.pop()),n=t._targets)for(r=n.length;--r>=0;)a.push(t=n[r]),t===e&&Object(Lt.k)("Cycle detected in dataflow graph.")},pulse:function(e,t,n){this.touch(e,n||ir);var r=new Jn(this,this._clock+(this._pulse?0:1)),a=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,a),this},touch:function(e,t){var n=t||ir;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},update:function(e,t,n){var r=n||ir;return(e.set(t)||r.force)&&this.touch(e,r),this},changeset:Mn,ingest:function(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))},parse:function(e,t){var n=this.locale();return bn(e,t,n.timeParse,n.utcParse)},preload:function(e,t,n){return Hn.apply(this,arguments)},request:function(e,t){return qn.apply(this,arguments)},events:function(e,t,n,r){for(var a,i=this,o=Vn(n,r),u=function(e){e.dataflow=i;try{o.receive(e)}catch(t){i.error(t)}finally{i.run()}},s=(a="string"===typeof e&&"undefined"!==typeof document?document.querySelectorAll(e):Object(Lt.e)(e)).length,c=0;c<s;++c)a[c].addEventListener(t,u);return o},on:function(e,t,n,r,a){return(e instanceof zn?Xn:$n)(this,e,t,n,r,a),this},evaluate:function(e,t,n){return nr.apply(this,arguments)},run:function(e,t,n){return this._pulse?ar(this):(this.evaluate(e,t,n),this)},runAsync:function(e,t,n){return rr.apply(this,arguments)},runAfter:function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}},_enqueue:function(e,t){var n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function(e,t){var n=e.source,r=this._clock;return n&&Object(Lt.x)(n)?new tr(this,r,n.map((function(e){return e.pulse})),t):this._input[e.id]||function(e,t){if(t&&t.stamp===e.stamp)return t;e=e.fork(),t&&t!==Yn&&(e.source=t.source);return e}(this._pulse,n&&n.pulse)}},Object(Lt.v)(lr,zn,{run:function(e){var t,n=this;return e.stamp<this.stamp?e.StopPropagation:(this.skip()?this.skip(!1):t=this.evaluate(e),(t=t||e).then?t=t.then((function(e){return n.pulse=e})):t!==e.StopPropagation&&(this.pulse=t),t)},evaluate:function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform:function(){}});var fr={};function dr(e){var t=hr(e);return t&&t.Definition||null}function hr(e){return e=e&&e.toLowerCase(),Object(Lt.s)(fr,e)?fr[e]:null}var pr=n(10),vr=n(6),mr=n(246);function gr(e,t){var n;if(void 0===t){var r,a=Object(pr.a)(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;null!=i&&(n<i||void 0===n&&i>=i)&&(n=i)}}catch(l){a.e(l)}finally{a.f()}}else{var o,u=-1,s=Object(pr.a)(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;null!=(c=t(c,++u,e))&&(n<c||void 0===n&&c>=c)&&(n=c)}}catch(l){s.e(l)}finally{s.f()}}return n}function br(e,t){var n;if(void 0===t){var r,a=Object(pr.a)(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;null!=i&&(n>i||void 0===n&&i>=i)&&(n=i)}}catch(l){a.e(l)}finally{a.f()}}else{var o,u=-1,s=Object(pr.a)(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;null!=(c=t(c,++u,e))&&(n>c||void 0===n&&c>=c)&&(n=c)}}catch(l){s.e(l)}finally{s.f()}}return n}function yr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mr.a;r>n;){if(r-n>600){var i=r-n+1,o=t-n+1,u=Math.log(i),s=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*s*(i-s)/i)*(o-i/2<0?-1:1),l=Math.max(n,Math.floor(t-o*s/i+c)),f=Math.min(r,Math.floor(t+(i-o)*s/i+c));yr(e,t,l,f,a)}var d=e[t],h=n,p=r;for(xr(e,n,t),a(e[r],d)>0&&xr(e,n,r);h<p;){for(xr(e,h,p),++h,--p;a(e[h],d)<0;)++h;for(;a(e[p],d)>0;)--p}0===a(e[n],d)?xr(e,n,p):xr(e,++p,r),p<=t&&(n=p+1),t<=p&&(r=p-1)}return e}function xr(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}var _r=k.a.mark(Or),wr=function(e){return null===e?NaN:+e};function Or(e,t){var n,r,a,i,o,u,s;return k.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(void 0!==t){c.next=21;break}n=Object(pr.a)(e),c.prev=2,n.s();case 4:if((r=n.n()).done){c.next=11;break}if(!(null!=(a=r.value)&&(a=+a)>=a)){c.next=9;break}return c.next=9,a;case 9:c.next=4;break;case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),n.e(c.t0);case 16:return c.prev=16,n.f(),c.finish(16);case 19:c.next=40;break;case 21:i=-1,o=Object(pr.a)(e),c.prev=23,o.s();case 25:if((u=o.n()).done){c.next=32;break}if(s=u.value,!(null!=(s=t(s,++i,e))&&(s=+s)>=s)){c.next=30;break}return c.next=30,s;case 30:c.next=25;break;case 32:c.next=37;break;case 34:c.prev=34,c.t1=c.catch(23),o.e(c.t1);case 37:return c.prev=37,o.f(),c.finish(37);case 40:case"end":return c.stop()}}),_r,null,[[2,13,16,19],[23,34,37,40]])}function kr(e,t,n){if(r=(e=Float64Array.from(Or(e,n))).length){if((t=+t)<=0||r<2)return br(e);if(t>=1)return gr(e);var r,a=(r-1)*t,i=Math.floor(a),o=gr(yr(e,i).subarray(0,i+1));return o+(br(e.subarray(i+1))-o)*(a-i)}}function jr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wr;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),u=+n(e[i+1],i+1,e);return o+(u-o)*(a-i)}}function Er(e,t){var n=function(e,t){var n,r=0,a=0,i=0;if(void 0===t){var o,u=Object(pr.a)(e);try{for(u.s();!(o=u.n()).done;){var s=o.value;null!=s&&(s=+s)>=s&&(i+=(n=s-a)*(s-(a+=n/++r)))}}catch(h){u.e(h)}finally{u.f()}}else{var c,l=-1,f=Object(pr.a)(e);try{for(f.s();!(c=f.n()).done;){var d=c.value;null!=(d=t(d,++l,e))&&(d=+d)>=d&&(i+=(n=d-a)*(d-(a+=n/++r)))}}catch(h){f.e(h)}finally{f.f()}}if(r>1)return i/(r-1)}(e,t);return n?Math.sqrt(n):n}var Cr=function(e,t){return kr(e,.5,t)},Ar=k.a.mark(Sr);function Sr(e,t){var n,r,a,i,o,u,s;return k.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(null!=t){c.next=21;break}n=Object(pr.a)(e),c.prev=2,n.s();case 4:if((r=n.n()).done){c.next=11;break}if(!(null!=(a=r.value)&&""!==a&&(a=+a)>=a)){c.next=9;break}return c.next=9,a;case 9:c.next=4;break;case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),n.e(c.t0);case 16:return c.prev=16,n.f(),c.finish(16);case 19:c.next=41;break;case 21:i=-1,o=Object(pr.a)(e),c.prev=23,o.s();case 25:if((u=o.n()).done){c.next=33;break}if(s=u.value,!(null!=(s=t(s,++i,e))&&""!==s&&(s=+s)>=s)){c.next=31;break}return c.next=31,s;case 31:c.next=25;break;case 33:c.next=38;break;case 35:c.prev=35,c.t1=c.catch(23),o.e(c.t1);case 38:return c.prev=38,o.f(),c.finish(38);case 41:case"end":return c.stop()}}),Ar,null,[[2,13,16,19],[23,35,38,41]])}function Dr(e,t,n){var r=Float64Array.from(Sr(e,n));return r.sort(mr.a),t.map((function(e){return jr(r,e)}))}function Nr(e,t){return Dr(e,[.25,.5,.75],t)}function Fr(e,t){var n=e.length,r=Er(e,t),a=Nr(e,t),i=(a[2]-a[0])/1.34;return 1.06*(Math.min(r,i)||r||Math.abs(a[0])||1)*Math.pow(n,-.2)}function Tr(e){var t,n,r,a,i,o,u=e.maxbins||20,s=e.base||10,c=Math.log(s),l=e.divide||[5,2],f=e.extent[0],d=e.extent[1],h=e.span||d-f||Math.abs(f)||1;if(e.step)t=e.step;else if(e.steps){for(a=h/u,i=0,o=e.steps.length;i<o&&e.steps[i]<a;++i);t=e.steps[Math.max(0,i-1)]}else{for(n=Math.ceil(Math.log(u)/c),r=e.minstep||0,t=Math.max(r,Math.pow(s,Math.round(Math.log(h)/c)-n));Math.ceil(h/t)>u;)t*=s;for(i=0,o=l.length;i<o;++i)(a=t/l[i])>=r&&h/a<=u&&(t=a)}var p=(a=Math.log(t))>=0?0:1+~~(-a/c),v=Math.pow(s,-p-1);return(e.nice||void 0===e.nice)&&(f=f<(a=Math.floor(f/t+v)*t)?a-t:a,d=Math.ceil(d/t)*t),{start:f,stop:d===f?f+t:d,step:t}}var Mr=Math.random;function Ir(e){Mr=e}function Rr(e,t,n,r){if(!e.length)return[void 0,void 0];var a,i,o,u,s=Float64Array.from(Sr(e,r)),c=s.length,l=t;for(o=0,u=Array(l);o<l;++o){for(a=0,i=0;i<c;++i)a+=s[~~(Mr()*c)];u[o]=a/c}return u.sort(mr.a),[kr(u,n/2),kr(u,1-n/2)]}function Pr(e,t,n,r){r=r||function(e){return e};for(var a,i=e.length,o=new Float64Array(i),u=0,s=1,c=r(e[0]),l=c,f=c+t;s<i;++s){if((a=r(e[s]))>=f){for(l=(c+l)/2;u<s;++u)o[u]=l;f=a+t,c=a}l=a}for(l=(c+l)/2;u<s;++u)o[u]=l;return n?function(e,t){var n,r,a=e.length,i=0,o=1;for(;e[i]===e[o];)++o;for(;o<a;){for(n=o+1;e[o]===e[n];)++n;if(e[o]-e[o-1]<t){for(r=o+(i+n-o-o>>1);r<o;)e[r++]=e[o];for(;r>o;)e[r--]=e[i]}i=o,o=n}return e}(o,t+t/4):o}function Br(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}}function zr(e,t){var n,r,a;null==t&&(t=e,e=0);var i={min:function(e){return arguments.length?(a=r-(n=e||0),i):n},max:function(e){return arguments.length?(a=(r=e||0)-n,i):r},sample:function(){return n+Math.floor(a*Mr())},pdf:function(e){return e===Math.floor(e)&&e>=n&&e<r?1/a:0},cdf:function(e){var t=Math.floor(e);return t<n?0:t>=r?1:(t-n+1)/a},icdf:function(e){return e>=0&&e<=1?n-1+Math.floor(e*a):NaN}};return i.min(e).max(t)}var Lr=Math.sqrt(2*Math.PI),Ur=Math.SQRT2,Wr=NaN;function Vr(e,t){e=e||0,t=null==t?1:t;var n,r,a=0,i=0;if(Wr===Wr)a=Wr,Wr=NaN;else{do{n=(a=2*Mr()-1)*a+(i=2*Mr()-1)*i}while(0===n||n>1);a*=r=Math.sqrt(-2*Math.log(n)/n),Wr=i*r}return e+a*t}function qr(e,t,n){var r=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*r*r)/(n*Lr)}function Hr(e,t,n){var r,a=(e-(t=t||0))/(n=null==n?1:n),i=Math.abs(a);if(i>37)r=0;else{var o=Math.exp(-i*i/2);i<7.07106781186547?(r=o*((((((.0352624965998911*i+.700383064443688)*i+6.37396220353165)*i+33.912866078383)*i+112.079291497871)*i+221.213596169931)*i+220.206867912376),r/=((((((.0883883476483184*i+1.75566716318264)*i+16.064177579207)*i+86.7807322029461)*i+296.564248779674)*i+637.333633378831)*i+793.826512519948)*i+440.413735824752):r=o/(i+1/(i+2/(i+3/(i+4/(i+.65)))))/2.506628274631}return a>0?1-r:r}function Gr(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*Ur*function(e){var t,n=-Math.log((1-e)*(1+e));t=n<6.25?1.6536545626831027+(t=.24015818242558962+(t=(t=(t=.00018673420803405714+(t=(t=(t=4.2347877827932404e-7+(t=(t=(t=1.0512122733215323e-9+(t=(t=(t=26335093153082323e-28+(t=(t=(t=6637638134358324e-30+(t=20972767875968562e-33+(t=(t=11157877678025181e-33+(t=128584807152564e-32+(t=(t=-364441206401782e-35)*(n-=3.125)-16850591381820166e-35)*n)*n)*n-1333171662854621e-31)*n)*n)*n-4054566272975207e-29)*n-8151934197605472e-29)*n)*n-12975133253453532e-27)*n-5415412054294628e-26)*n)*n-4.112633980346984e-9)*n-2.9070369957882005e-8)*n)*n-13654692000834679e-22)*n-13882523362786469e-21)*n)*n-.000740702534166267)*n-.006033670871430149)*n)*n:n<16?3.0838856104922208+(t=1.0052589676941592+(t=.005370914553590064+(t=(t=.002491442096107851+(t=(t=.0009532893797373805+(t=(t=24031110387097894e-21+(t=6828485145957318e-20+(t=(t=12475304481671779e-21+(t=29234449089955446e-22+(t=(t=15027403968909828e-22+(t=1.8239629214389228e-8+(t=(t=9.075656193888539e-8+(t=2.2137376921775787e-9)*(n=Math.sqrt(n)-3.25))*n-2.7517406297064545e-7)*n)*n)*n-4013867526981546e-21)*n)*n)*n-47318229009055734e-21)*n)*n)*n-.0003550375203628475)*n)*n-.0016882755560235047)*n)*n-.003751208507569241)*n)*n)*n:Number.isFinite(n)?4.849906401408584+(t=1.0103004648645344+(t=(t=(t=7599527703001776e-20+(t=(t=4526062597223154e-21+(t=(t=2.2900482228026655e-7+(t=(t=2.914795345090108e-8+(t=(t=7.61570120807834e-9+(t=(t=1.5076572693500548e-9+(t=(t=-27109920616438573e-27)*(n=Math.sqrt(n)-5)-2.555641816996525e-10)*n)*n-3.789465440126737e-9)*n)*n-1.496002662714924e-8)*n)*n-6.771199775845234e-8)*n)*n-9.9298272942317e-7)*n)*n-1968177810553167e-20)*n)*n-.00021503011930044477)*n-.00013871931833623122)*n)*n:1/0;return t*e}(2*e-1)}function Kr(e,t){var n,r,a={mean:function(e){return arguments.length?(n=e||0,a):n},stdev:function(e){return arguments.length?(r=null==e?1:e,a):r},sample:function(){return Vr(n,r)},pdf:function(e){return qr(e,n,r)},cdf:function(e){return Hr(e,n,r)},icdf:function(e){return Gr(e,n,r)}};return a.mean(e).stdev(t)}function $r(e,t){var n=Kr(),r=0,a={data:function(n){return arguments.length?(e=n,r=n?n.length:0,a.bandwidth(t)):e},bandwidth:function(n){return arguments.length?(!(t=n)&&e&&(t=Fr(e)),a):t},sample:function(){return e[~~(Mr()*r)]+t*n.sample()},pdf:function(a){for(var i=0,o=0;o<r;++o)i+=n.pdf((a-e[o])/t);return i/t/r},cdf:function(a){for(var i=0,o=0;o<r;++o)i+=n.cdf((a-e[o])/t);return i/r},icdf:function(){throw Error("KDE icdf not supported.")}};return a.data(e)}function Xr(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+Vr()*t)}function Yr(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;var r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*Lr*e)}function Jr(e,t,n){return Hr(Math.log(e),t,n)}function Qr(e,t,n){return Math.exp(Gr(e,t,n))}function Zr(e,t){var n,r,a={mean:function(e){return arguments.length?(n=e||0,a):n},stdev:function(e){return arguments.length?(r=null==e?1:e,a):r},sample:function(){return Xr(n,r)},pdf:function(e){return Yr(e,n,r)},cdf:function(e){return Jr(e,n,r)},icdf:function(e){return Qr(e,n,r)}};return a.mean(e).stdev(t)}function ea(e,t){var n,r=0;function a(e){var t,n=[],a=0;for(t=0;t<r;++t)a+=n[t]=null==e[t]?1:+e[t];for(t=0;t<r;++t)n[t]/=a;return n}var i={weights:function(e){return arguments.length?(n=a(t=e||[]),i):t},distributions:function(n){return arguments.length?(n?(r=n.length,e=n):(r=0,e=[]),i.weights(t)):e},sample:function(){for(var t=Mr(),a=e[r-1],i=n[0],o=0;o<r-1;i+=n[++o])if(t<i){a=e[o];break}return a.sample()},pdf:function(t){for(var a=0,i=0;i<r;++i)a+=n[i]*e[i].pdf(t);return a},cdf:function(t){for(var a=0,i=0;i<r;++i)a+=n[i]*e[i].cdf(t);return a},icdf:function(){throw Error("Mixture icdf not supported.")}};return i.distributions(e).weights(t)}function ta(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*Mr()}function na(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function ra(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function aa(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function ia(e,t){var n,r,a={min:function(e){return arguments.length?(n=e||0,a):n},max:function(e){return arguments.length?(r=null==e?1:e,a):r},sample:function(){return ta(n,r)},pdf:function(e){return na(e,n,r)},cdf:function(e){return ra(e,n,r)},icdf:function(e){return aa(e,n,r)}};return null==t&&(t=null==e?1:e,e=0),a.min(e).max(t)}function oa(e,t,n,r){var a=r-e*e,i=Math.abs(a)<1e-24?0:(n-e*t)/a;return[t-i*e,i]}function ua(e,t,n,r){e=e.filter((function(e){var r=t(e),a=n(e);return null!=r&&(r=+r)>=r&&null!=a&&(a=+a)>=a})),r&&e.sort((function(e,n){return t(e)-t(n)}));var a,i,o,u,s=e.length,c=new Float64Array(s),l=new Float64Array(s),f=0,d=0,h=0,p=Object(pr.a)(e);try{for(p.s();!(u=p.n()).done;)o=u.value,c[f]=a=+t(o),l[f]=i=+n(o),d+=(a-d)/++f,h+=(i-h)/f}catch(v){p.e(v)}finally{p.f()}for(f=0;f<s;++f)c[f]-=d,l[f]-=h;return[c,l,d,h]}function sa(e,t,n,r){var a,i,o,u=-1,s=Object(pr.a)(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;a=t(c),i=n(c),null!=a&&(a=+a)>=a&&null!=i&&(i=+i)>=i&&r(a,i,++u)}}catch(l){s.e(l)}finally{s.f()}}function ca(e,t,n,r,a){var i=0,o=0;return sa(e,t,n,(function(e,t){var n=t-a(e),u=t-r;i+=n*n,o+=u*u})),1-i/o}function la(e,t,n){var r=0,a=0,i=0,o=0,u=0;sa(e,t,n,(function(e,t){++u,r+=(e-r)/u,a+=(t-a)/u,i+=(e*t-i)/u,o+=(e*e-o)/u}));var s=oa(r,a,i,o),c=function(e){return s[0]+s[1]*e};return{coef:s,predict:c,rSquared:ca(e,t,n,a,c)}}function fa(e,t,n){var r=0,a=0,i=0,o=0,u=0;sa(e,t,n,(function(e,t){++u,e=Math.log(e),r+=(e-r)/u,a+=(t-a)/u,i+=(e*t-i)/u,o+=(e*e-o)/u}));var s=oa(r,a,i,o),c=function(e){return s[0]+s[1]*Math.log(e)};return{coef:s,predict:c,rSquared:ca(e,t,n,a,c)}}function da(e,t,n){var r,a,i,o=ua(e,t,n),u=Object(vr.a)(o,4),s=u[0],c=(u[1],u[2]),l=u[3],f=0,d=0,h=0,p=0,v=0;sa(e,t,n,(function(e,t){r=s[v++],a=Math.log(t),f+=(t*a-f)/v,d+=((i=r*t)-d)/v,h+=(i*a-h)/v,p+=(r*i-p)/v}));var m=oa(d/l,f/l,h/l,p/l),g=Object(vr.a)(m,2),b=g[0],y=g[1],x=function(e){return Math.exp(b+y*(e-c))};return{coef:[Math.exp(b-y*c),y],predict:x,rSquared:ca(e,t,n,l,x)}}function ha(e,t,n){var r=0,a=0,i=0,o=0,u=0,s=0;sa(e,t,n,(function(e,t){var n=Math.log(e),c=Math.log(t);++s,r+=(n-r)/s,a+=(c-a)/s,i+=(n*c-i)/s,o+=(n*n-o)/s,u+=(t-u)/s}));var c=oa(r,a,i,o),l=function(e){return c[0]*Math.pow(e,c[1])};return c[0]=Math.exp(c[0]),{coef:c,predict:l,rSquared:ca(e,t,n,u,l)}}function pa(e,t,n){var r,a,i,o,u=ua(e,t,n),s=Object(vr.a)(u,4),c=s[0],l=s[1],f=s[2],d=s[3],h=c.length,p=0,v=0,m=0,g=0,b=0;for(r=0;r<h;)a=c[r],i=l[r++],p+=((o=a*a)-p)/r,v+=(o*a-v)/r,m+=(o*o-m)/r,g+=(a*i-g)/r,b+=(o*i-b)/r;var y=m-p*p,x=p*y-v*v,_=(b*p-g*v)/x,w=(g*y-b*v)/x,O=-_*p,k=function(e){return _*(e-=f)*e+w*e+O+d};return{coef:[O-w*f+_*f*f+d,w-2*_*f,_],predict:k,rSquared:ca(e,t,n,d,k)}}function va(e,t,n,r){if(1===r)return la(e,t,n);if(2===r)return pa(e,t,n);var a,i,o,u,s,c=ua(e,t,n),l=Object(vr.a)(c,4),f=l[0],d=l[1],h=l[2],p=l[3],v=f.length,m=[],g=[],b=r+1;for(a=0;a<b;++a){for(o=0,u=0;o<v;++o)u+=Math.pow(f[o],a)*d[o];for(m.push(u),s=new Float64Array(b),i=0;i<b;++i){for(o=0,u=0;o<v;++o)u+=Math.pow(f[o],a+i);s[i]=u}g.push(s)}g.push(m);var y=function(e){var t,n,r,a,i,o=e.length-1,u=[];for(t=0;t<o;++t){for(a=t,n=t+1;n<o;++n)Math.abs(e[t][n])>Math.abs(e[t][a])&&(a=n);for(r=t;r<o+1;++r)i=e[r][t],e[r][t]=e[r][a],e[r][a]=i;for(n=t+1;n<o;++n)for(r=o;r>=t;r--)e[r][n]-=e[r][t]*e[t][n]/e[t][t]}for(n=o-1;n>=0;--n){for(i=0,r=n+1;r<o;++r)i+=e[r][n]*u[r];u[n]=(e[o][n]-i)/e[n][n]}return u}(g),x=function(e){e-=h;var t=p+y[0]+y[1]*e+y[2]*e*e;for(a=3;a<b;++a)t+=y[a]*Math.pow(e,a);return t};return{coef:ma(b,y,-h,p),predict:x,rSquared:ca(e,t,n,p,x)}}function ma(e,t,n,r){var a,i,o,u,s=Array(e);for(a=0;a<e;++a)s[a]=0;for(a=e-1;a>=0;--a)for(o=t[a],u=1,s[a]+=o,i=1;i<=a;++i)u*=(a+1-i)/i,s[a-i]+=o*Math.pow(n,i)*u;return s[0]+=r,s}function ga(e,t,n,r){for(var a=ua(e,t,n,!0),i=Object(vr.a)(a,4),o=i[0],u=i[1],s=i[2],c=i[3],l=o.length,f=Math.max(2,~~(r*l)),d=new Float64Array(l),h=new Float64Array(l),p=new Float64Array(l).fill(1),v=-1;++v<=2;){for(var m=[0,f-1],g=0;g<l;++g){for(var b=o[g],y=m[0],x=m[1],_=b-o[y]>o[x]-b?y:x,w=0,O=0,k=0,j=0,E=0,C=1/Math.abs(o[_]-b||1),A=y;A<=x;++A){var S=o[A],D=u[A],N=ba(Math.abs(b-S)*C)*p[A],F=S*N;w+=N,O+=F,k+=D*N,j+=D*F,E+=S*F}var T=oa(O/w,k/w,j/w,E/w),M=Object(vr.a)(T,2),I=M[0],R=M[1];d[g]=I+R*b,h[g]=Math.abs(u[g]-d[g]),ya(o,g+1,m)}if(2===v)break;var P=Cr(h);if(Math.abs(P)<1e-12)break;for(var B,z,L=0;L<l;++L)B=h[L]/(6*P),p[L]=B>=1?1e-12:(z=1-B*B)*z}return function(e,t,n,r){for(var a,i=e.length,o=[],u=0,s=0,c=[];u<i;++u)a=e[u]+n,c[0]===a?c[1]+=(t[u]-c[1])/++s:(s=0,c[1]+=r,c=[a,t[u]],o.push(c));return c[1]+=r,o}(o,d,s,c)}function ba(e){return(e=1-e*e*e)*e*e}function ya(e,t,n){var r=e[t],a=n[0],i=n[1]+1;if(!(i>=e.length))for(;t>a&&e[i]-r<=r-e[a];)n[0]=++a,n[1]=i,++i}var xa=.1*Math.PI/180;function _a(e,t,n,r){n=n||25,r=Math.max(n,r||200);var a=function(t){return[t,e(t)]},i=t[0],o=t[1],u=o-i,s=u/r,c=[a(i)],l=[];if(n===r){for(var f=1;f<r;++f)c.push(a(i+f/n*u));return c.push(a(o)),c}l.push(a(o));for(var d=n;--d>0;)l.push(a(i+d/n*u));for(var h=c[0],p=l[l.length-1];p;){var v=a((h[0]+p[0])/2);v[0]-h[0]>=s&&wa(h,v,p)>xa?l.push(v):(h=p,c.push(p),l.pop()),p=l[l.length-1]}return c}function wa(e,t,n){var r=Math.atan2(n[1]-e[1],n[0]-e[0]),a=Math.atan2(t[1]-e[1],t[0]-e[0]);return Math.abs(r-a)}var Oa=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i},ka=n(385),ja=n(39);function Ea(e){return e&&e.length?1===e.length?e[0]:(t=e,function(e){for(var n=t.length,r=1,a=String(t[0](e));r<n;++r)a+="|"+t[r](e);return a}):function(){return""};var t}function Ca(e,t,n){return n||e+(t?"_"+t:"")}var Aa=function(){},Sa={init:Aa,add:Aa,rem:Aa,idx:0},Da={values:{init:function(e){return e.cell.store=!0},value:function(e){return e.cell.data.values()},idx:-1},count:{value:function(e){return e.cell.num}},__count__:{value:function(e){return e.missing+e.valid}},missing:{value:function(e){return e.missing}},valid:{value:function(e){return e.valid}},sum:{init:function(e){return e.sum=0},value:function(e){return e.sum},add:function(e,t){return e.sum+=+t},rem:function(e,t){return e.sum-=t}},product:{init:function(e){return e.product=1},value:function(e){return e.valid?e.product:void 0},add:function(e,t){return e.product*=t},rem:function(e,t){return e.product/=t}},mean:{init:function(e){return e.mean=0},value:function(e){return e.valid?e.mean:void 0},add:function(e,t){return e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:function(e,t){return e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}},average:{value:function(e){return e.valid?e.mean:void 0},req:["mean"],idx:1},variance:{init:function(e){return e.dev=0},value:function(e){return e.valid>1?e.dev/(e.valid-1):void 0},add:function(e,t){return e.dev+=e.mean_d*(t-e.mean)},rem:function(e,t){return e.dev-=e.mean_d*(t-e.mean)},req:["mean"],idx:1},variancep:{value:function(e){return e.valid>1?e.dev/e.valid:void 0},req:["variance"],idx:2},stdev:{value:function(e){return e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0},req:["variance"],idx:2},stdevp:{value:function(e){return e.valid>1?Math.sqrt(e.dev/e.valid):void 0},req:["variance"],idx:2},stderr:{value:function(e){return e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0},req:["variance"],idx:2},distinct:{value:function(e){return e.cell.data.distinct(e.get)},req:["values"],idx:3},ci0:{value:function(e){return e.cell.data.ci0(e.get)},req:["values"],idx:3},ci1:{value:function(e){return e.cell.data.ci1(e.get)},req:["values"],idx:3},median:{value:function(e){return e.cell.data.q2(e.get)},req:["values"],idx:3},q1:{value:function(e){return e.cell.data.q1(e.get)},req:["values"],idx:3},q3:{value:function(e){return e.cell.data.q3(e.get)},req:["values"],idx:3},min:{init:function(e){return e.min=void 0},value:function(e){return e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min},add:function(e,t){(t<e.min||void 0===e.min)&&(e.min=t)},rem:function(e,t){t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:function(e){return e.max=void 0},value:function(e){return e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max},add:function(e,t){(t>e.max||void 0===e.max)&&(e.max=t)},rem:function(e,t){t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:function(e){return e.argmin=void 0},value:function(e){return e.argmin||e.cell.data.argmin(e.get)},add:function(e,t,n){t<e.min&&(e.argmin=n)},rem:function(e,t){t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:function(e){return e.argmax=void 0},value:function(e){return e.argmax||e.cell.data.argmax(e.get)},add:function(e,t,n){t>e.max&&(e.argmax=n)},rem:function(e,t){t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},Na=Object.keys(Da);function Fa(e,t){return Da[e](t)}function Ta(e,t){return e.idx-t.idx}function Ma(){var e=this;this.valid=0,this.missing=0,this._ops.forEach((function(t){return t.init(e)}))}function Ia(e,t){var n=this;null!=e&&""!==e?e===e&&(++this.valid,this._ops.forEach((function(r){return r.add(n,e,t)}))):++this.missing}function Ra(e,t){var n=this;null!=e&&""!==e?e===e&&(--this.valid,this._ops.forEach((function(r){return r.rem(n,e,t)}))):--this.missing}function Pa(e){var t=this;return this._out.forEach((function(n){return e[n.out]=n.value(t)})),e}function Ba(e,t){var n=t||Lt.u,r=function(e){var t={};return e.forEach((function(e){return t[e.name]=e})),e.forEach((function e(n){n.req&&n.req.forEach((function(n){t[n]||e(t[n]=Da[n]())}))})),Object.values(t).sort(Ta)}(e),a=e.slice().sort(Ta);function i(e){this._ops=r,this._out=a,this.cell=e,this.init()}return i.prototype.init=Ma,i.prototype.add=Ia,i.prototype.rem=Ra,i.prototype.set=Pa,i.prototype.get=n,i.fields=e.map((function(e){return e.out})),i}function za(e){this._key=e?Object(Lt.q)(e):En,this.reset()}Na.forEach((function(e){Da[e]=function(e,t){return function(n){return Object(Lt.l)({name:e,out:n||e},Sa,t)}}(e,Da[e])}));var La=za.prototype;function Ua(e){lr.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}La.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},La.add=function(e){this._add.push(e)},La.rem=function(e){this._rem.push(e)},La.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r=this._add,a=this._rem,i=this._key,o=r.length,u=a.length,s=Array(o-u),c={};for(e=0;e<u;++e)c[i(a[e])]=1;for(e=0,t=0;e<o;++e)c[i(n=r[e])]?c[i(n)]=0:s[t++]=n;return this._rem=[],this._add=s},La.distinct=function(e){for(var t,n=this.values(),r={},a=n.length,i=0;--a>=0;)t=e(n[a])+"",Object(Lt.s)(r,t)||(r[t]=1,++i);return i},La.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=Object(Lt.n)(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},La.argmin=function(e){return this.extent(e)[0]||{}},La.argmax=function(e){return this.extent(e)[1]||{}},La.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):void 0},La.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):void 0},La.quartile=function(e){return this._get===e&&this._q||(this._q=Nr(this.values(),e),this._get=e),this._q},La.q1=function(e){return this.quartile(e)[0]},La.q2=function(e){return this.quartile(e)[1]},La.q3=function(e){return this.quartile(e)[2]},La.ci=function(e){return this._get===e&&this._ci||(this._ci=Rr(this.values(),1e3,.05,e),this._get=e),this._ci},La.ci0=function(e){return this.ci(e)[0]},La.ci1=function(e){return this.ci(e)[1]},Ua.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Na},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},Object(Lt.v)(Ua,lr,{transform:function(e,t){var n=this,r=this,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return r.stamp=a.stamp,r.value&&(i||t.modified(r._inputs,!0))?(r._prev=r.value,r.value=i?r.init(e):{},t.visit(t.SOURCE,(function(e){return r.add(e)}))):(r.value=r.value||r.init(e),t.visit(t.REM,(function(e){return r.rem(e)})),t.visit(t.ADD,(function(e){return r.add(e)}))),a.modifies(r._outputs),r._drop=!1!==e.drop,e.cross&&r._dims.length>1&&(r._drop=!1,r.cross()),t.clean()&&r._drop&&a.clean(!0).runAfter((function(){return n.clean()})),r.changes(a)},cross:function(){var e=this,t=e.value,n=e._dnames,r=n.map((function(){return{}})),a=n.length;function i(e){var t,i,o,u;for(t in e)for(o=e[t].tuple,i=0;i<a;++i)r[i][u=o[n[i]]]=u}i(e._prev),i(t),function i(o,u,s){var c=n[s],l=r[s++];for(var f in l){var d=o?o+"|"+f:f;u[c]=l[f],s<a?i(d,u,s):t[d]||e.cell(d,u)}}("",{},0)},init:function(e){var t=this._inputs=[],n=this._outputs=[],r={};function a(e){for(var n,a=Object(Lt.e)(Object(Lt.c)(e)),i=a.length,o=0;o<i;++o)r[n=a[o]]||(r[n]=1,t.push(n))}this._dims=Object(Lt.e)(e.groupby),this._dnames=this._dims.map((function(e){var t=Object(Lt.d)(e);return a(e),n.push(t),t})),this.cellkey=e.key?e.key:Ea(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var i,o,u,s,c,l,f=e.fields||[null],d=e.ops||["count"],h=e.as||[],p=f.length,v={};for(p!==d.length&&Object(Lt.k)("Unmatched number of fields and aggregate ops."),l=0;l<p;++l)i=f[l],o=d[l],null==i&&"count"!==o&&Object(Lt.k)("Null aggregate field specified."),c=Ca(o,s=Object(Lt.d)(i),h[l]),n.push(c),"count"!==o?((u=v[s])||(a(i),(u=v[s]=[]).field=i,this._measures.push(u)),"count"!==o&&(this._countOnly=!1),u.push(Fa(o,c))):this._counts.push(c);return this._measures=this._measures.map((function(e){return Ba(e,e.field)})),{}},cellkey:Ea(),cell:function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell:function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var r=this._measures,a=r.length;n.agg=Array(a);for(var i=0;i<a;++i)n.agg[i]=new r[i](n)}return n.store&&(n.data=new za),n},newtuple:function(e,t){for(var n=this._dnames,r=this._dims,a=r.length,i={},o=0;o<a;++o)i[n[o]]=r[o](e);return t?Nn(t.tuple,i):An(i)},clean:function(){var e=this.value;for(var t in e)0===e[t].num&&delete e[t]},add:function(e){var t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,!this._countOnly){n.store&&n.data.add(e);for(var r=n.agg,a=0,i=r.length;a<i;++a)r[a].add(r[a].get(e),e)}},rem:function(e){var t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,!this._countOnly){n.store&&n.data.rem(e);for(var r=n.agg,a=0,i=r.length;a<i;++a)r[a].rem(r[a].get(e),e)}},celltuple:function(e){var t=e.tuple,n=this._counts;e.store&&e.data.values();for(var r=0,a=n.length;r<a;++r)t[n[r]]=e.num;if(!this._countOnly)for(var i=e.agg,o=0,u=i.length;o<u;++o)i[o].set(t);return t},changes:function(e){var t,n,r,a,i=this._adds,o=this._mods,u=this._prev,s=this._drop,c=e.add,l=e.rem,f=e.mod;if(u)for(n in u)t=u[n],s&&!t.num||l.push(t.tuple);for(r=0,a=this._alen;r<a;++r)c.push(this.celltuple(i[r])),i[r]=null;for(r=0,a=this._mlen;r<a;++r)(0===(t=o[r]).num&&s?l:f).push(this.celltuple(t)),o[r]=null;return this._alen=this._mlen=0,this._prev=null,e}});function Wa(e){lr.call(this,null,e)}function Va(e,t,n){var r=e,a=t||[],i=n||[],o={},u=0;return{add:function(e){return i.push(e)},remove:function(e){return o[r(e)]=++u},size:function(){return a.length},data:function(e,t){return u&&(a=a.filter((function(e){return!o[r(e)]})),o={},u=0),t&&e&&a.sort(e),i.length&&(a=e?Object(Lt.K)(e,a,i.sort(e)):a.concat(i),i=[]),a}}}function qa(e){lr.call(this,[],e)}function Ha(e){zn.call(this,null,Ga,e)}function Ga(e){return this.value&&!e.modified()?this.value:Object(Lt.h)(e.fields,e.orders)}function Ka(e){lr.call(this,null,e)}function $a(e){lr.call(this,null,e)}Wa.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},Object(Lt.v)(Wa,lr,{transform:function(e,t){var n,r=!1!==e.interval,a=this._bins(e),i=a.start,o=a.step,u=e.as||["bin0","bin1"],s=u[0],c=u[1];return n=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Object(Lt.c)(e.field))?t.ADD_MOD:t.ADD,t.visit(n,r?function(e){var t=a(e);e[s]=t,e[c]=null==t?null:i+o*(1+(t-i)/o)}:function(e){return e[s]=a(e)}),t.modifies(r?u:s)},_bins:function(e){if(this.value&&!e.modified())return this.value;var t,n,r=e.field,a=Tr(e),i=a.step,o=a.start,u=o+Math.ceil((a.stop-o)/i)*i;null!=(t=e.anchor)&&(n=t-(o+i*Math.floor((t-o)/i)),o+=n,u+=n);var s=function(e){var t=Object(Lt.Z)(r(e));return null==t?null:t<o?-1/0:t>u?1/0:(t=Math.max(o,Math.min(t,u-i)),o+i*Math.floor(1e-14+(t-o)/i))};return s.start=o,s.stop=a.stop,s.step=i,this.value=Object(Lt.b)(s,Object(Lt.c)(r),e.name||"bin_"+Object(Lt.d)(r))}}),qa.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Object(Lt.v)(qa,lr,{transform:function(e,t){var n=t.fork(t.ALL),r=Va(En,this.value,n.materialize(n.ADD).add),a=e.sort,i=t.changed()||a&&(e.modified("sort")||t.modified(a.fields));return n.visit(n.REM,r.remove),this.modified(i),this.value=n.source=r.data(Fn(a),i),t.source&&t.source.root&&(this.value.root=t.source.root),n}}),Object(Lt.v)(Ha,zn),Ka.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},Object(Lt.v)(Ka,lr,{transform:function(e,t){var n=function(t){return function(n){for(var r,a=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(u(n),e.case,i)||[],s=0,c=a.length;s<c;++s)o.test(r=a[s])||t(r)}},r=this._parameterCheck(e,t),a=this._counts,i=this._match,o=this._stop,u=e.field,s=e.as||["text","count"],c=n((function(e){return a[e]=1+(a[e]||0)})),l=n((function(e){return a[e]-=1}));return r?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,l)),this._finish(t,s)},_parameterCheck:function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish:function(e,t){var n,r,a,i=this._counts,o=this._tuples||(this._tuples={}),u=t[0],s=t[1],c=e.fork(e.NO_SOURCE|e.NO_FIELDS);for(n in i)r=o[n],a=i[n]||0,!r&&a?(o[n]=r=An({}),r[u]=n,r[s]=a,c.add.push(r)):0===a?(r&&c.rem.push(r),i[n]=null,o[n]=null):r[s]!==a&&(r[s]=a,c.mod.push(r));return c.modifies(t)}}),$a.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Object(Lt.v)($a,lr,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],a=r[0],i=r[1],o=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter"),u=this.value;return o?(u&&(n.rem=u),u=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,r){for(var a,i,o=[],u={},s=e.length,c=0;c<s;++c)for(u[t]=i=e[c],a=0;a<s;++a)u[n]=e[a],r(u)&&(o.push(An(u)),(u={})[t]=i);return o}(u,a,i,e.filter||Lt.db)):n.mod=u,n.source=this.value,n.modifies(r)}});var Xa={kde:$r,mixture:ea,normal:Kr,lognormal:Zr,uniform:ia},Ya="function";function Ja(e,t){var n=e.function;Object(Lt.s)(Xa,n)||Object(Lt.k)("Unknown distribution function: "+n);var r=Xa[n]();for(var a in e)"field"===a?r.data((e.from||t()).map(e[a])):"distributions"===a?r[a](e[a].map((function(e){return Ja(e,t)}))):typeof r[a]===Ya&&r[a](e[a]);return r}function Qa(e){lr.call(this,null,e)}var Za=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],ei={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Za},{name:"weights",type:"number",array:!0}]};function ti(e,t){return e?e.map((function(e,n){return t[n]||Object(Lt.d)(e)})):null}function ni(e,t,n){var r,a,i,o,u,s,c=[],l=function(e){return e(o)};if(null==t)c.push(e.map(n));else for(r={},a=0,i=e.length;a<i;++a)o=e[a],(s=r[u=t.map(l)])||(r[u]=s=[],s.dims=u,c.push(s)),s.push(n(o));return c}Qa.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Za.concat(ei)},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(Lt.v)(Qa,lr,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=Ja(e.distribution,function(e){return function(){return e.materialize(e.SOURCE).source}}(t)),a=e.steps||e.minsteps||25,i=e.steps||e.maxsteps||200,o=e.method||"pdf";"pdf"!==o&&"cdf"!==o&&Object(Lt.k)("Invalid density method: "+o),e.extent||r.data||Object(Lt.k)("Missing density extent parameter."),o=r[o];var u=e.as||["value","density"],s=_a(o,e.extent||Object(Lt.m)(r.data()),a,i).map((function(e){var t={};return t[u[0]]=e[0],t[u[1]]=e[1],An(t)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=s}return n}});function ri(e){lr.call(this,null,e)}ri.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]};function ai(e){zn.call(this,null,ii,e),this.modified(!0)}function ii(e){var t=e.expr;return this.value&&!e.modified("expr")?this.value:Object(Lt.b)((function(n){return t(n,e)}),Object(Lt.c)(t),Object(Lt.d)(t))}function oi(e){lr.call(this,[void 0,void 0],e)}function ui(e,t){zn.call(this,e),this.parent=t,this.count=0}function si(e){lr.call(this,{},e),this._keys=Object(Lt.p)();var t=this._targets=[];t.active=0,t.forEach=function(e){for(var n=0,r=t.active;n<r;++n)e(t[n],n,t)}}function ci(e){zn.call(this,null,li,e)}function li(e){return this.value&&!e.modified()?this.value:Object(Lt.x)(e.name)?Object(Lt.e)(e.name).map((function(e){return Object(Lt.q)(e)})):Object(Lt.q)(e.name,e.as)}function fi(e){lr.call(this,Object(Lt.p)(),e)}function di(e){lr.call(this,[],e)}function hi(e){lr.call(this,[],e)}function pi(e){lr.call(this,null,e)}function vi(e){lr.call(this,[],e)}Object(Lt.v)(ri,lr,{transform:function(e,t){if(this.value&&!e.modified()&&!t.changed())return t;for(var n,r=t.materialize(t.SOURCE).source,a=ni(t.source,e.groupby,Lt.u),i=e.smooth||!1,o=e.field,u=e.step||function(e,t){return Object(Lt.U)(Object(Lt.m)(e,t))/30}(r,o),s=Fn((function(e,t){return o(e)-o(t)})),c=e.as||"bin",l=a.length,f=1/0,d=-1/0,h=0;h<l;++h){var p=a[h].sort(s);n=-1;var v,m=Object(pr.a)(Pr(p,u,i,o));try{for(m.s();!(v=m.n()).done;){var g=v.value;g<f&&(f=g),g>d&&(d=g),p[++n][c]=g}}catch(b){m.e(b)}finally{m.f()}}return this.value={start:f,stop:d,step:u},t.reflow(!0).modifies(c)}}),Object(Lt.v)(ai,zn),oi.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Object(Lt.v)(oi,lr,{transform:function(e,t){var n=this.value,r=e.field,a=t.changed()||t.modified(r.fields)||e.modified("field"),i=n[0],o=n[1];if((a||null==i)&&(i=1/0,o=-1/0),t.visit(a?t.SOURCE:t.ADD,(function(e){var t=Object(Lt.Z)(r(e));null!=t&&(t<i&&(i=t),t>o&&(o=t))})),!Number.isFinite(i)||!Number.isFinite(o)){var u=Object(Lt.d)(r);u&&(u=' for field "'.concat(u,'"')),t.dataflow.warn("Infinite extent".concat(u,": [").concat(i,", ").concat(o,"]")),i=o=void 0}this.value=[i,o]}}),Object(Lt.v)(ui,zn,{connect:function(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add:function(e){this.count+=1,this.value.add.push(e)},rem:function(e){this.count-=1,this.value.rem.push(e)},mod:function(e){this.value.mod.push(e)},init:function(e){this.value.init(e,e.NO_SOURCE)},evaluate:function(){return this.value}}),Object(Lt.v)(si,lr,{activate:function(e){this._targets[this._targets.active++]=e},subflow:function(e,t,n,r){var a,i,o=this.value,u=Object(Lt.s)(o,e)&&o[e];return u?u.value.stamp<n.stamp&&(u.init(n),this.activate(u)):(i=r||(i=this._group[e])&&i.tuple,a=n.dataflow,u=new ui(n.fork(n.NO_SOURCE),this),a.add(u).connect(t(a,e,i)),o[e]=u,this.activate(u)),u},clean:function(){var e=this.value;for(var t in e)if(0===e[t].count){var n=e[t].detachSubflow;n&&n(),delete e[t]}},initTargets:function(){for(var e=this._targets,t=e.length,n=0;n<t&&null!=e[n];++n)e[n]=null;e.active=0},transform:function(e,t){var n=this,r=t.dataflow,a=e.key,i=e.subflow,o=this._keys,u=e.modified("key"),s=function(e){return n.subflow(e,i,t)};return this._group=e.group||{},this.initTargets(),t.visit(t.REM,(function(e){var t=En(e),n=o.get(t);void 0!==n&&(o.delete(t),s(n).rem(e))})),t.visit(t.ADD,(function(e){var t=a(e);o.set(En(e),t),s(t).add(e)})),u||t.modified(a.fields)?t.visit(t.MOD,(function(e){var t=En(e),n=o.get(t),r=a(e);n===r?s(r).mod(e):(o.set(t,r),s(n).rem(e),s(r).add(e))})):t.changed(t.MOD)&&t.visit(t.MOD,(function(e){s(o.get(En(e))).mod(e)})),u&&t.visit(t.REFLOW,(function(e){var t=En(e),n=o.get(t),r=a(e);n!==r&&(o.set(t,r),s(n).rem(e),s(r).add(e))})),t.clean()?r.runAfter((function(){n.clean(),o.clean()})):o.empty>r.cleanThreshold&&r.runAfter(o.clean),t}}),Object(Lt.v)(ci,zn),fi.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Object(Lt.v)(fi,lr,{transform:function(e,t){var n=t.dataflow,r=this.value,a=t.fork(),i=a.add,o=a.rem,u=a.mod,s=e.expr,c=!0;function l(t){var n=En(t),a=s(t,e),l=r.get(n);a&&l?(r.delete(n),i.push(t)):a||l?c&&a&&!l&&u.push(t):(r.set(n,1),o.push(t))}return t.visit(t.REM,(function(e){var t=En(e);r.has(t)?r.delete(t):o.push(e)})),t.visit(t.ADD,(function(t){s(t,e)?i.push(t):r.set(En(t),1)})),t.visit(t.MOD,l),e.modified()&&(c=!1,t.visit(t.REFLOW,l)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),a}}),di.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},Object(Lt.v)(di,lr,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,a=ti(r,e.as||[]),i=e.index||null,o=a.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,u,s,c=r.map((function(t){return t(e)})),l=c.reduce((function(e,t){return Math.max(e,t.length)}),0),f=0;f<l;++f){for(u=Sn(e),t=0;t<o;++t)u[a[t]]=null==(s=c[t][f])?null:s;i&&(u[i]=f),n.add.push(u)}})),this.value=n.source=n.add,i&&n.modifies(i),n.modifies(a)}}),hi.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Object(Lt.v)(hi,lr,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,a=r.map(Lt.d),i=e.as||["key","value"],o=i[0],u=i[1],s=r.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,i=0;i<s;++i)(t=Sn(e))[o]=a[i],t[u]=r[i](e),n.add.push(t)})),this.value=n.source=n.add,n.modifies(i)}}),pi.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Object(Lt.v)(pi,lr,{transform:function(e,t){var n=e.expr,r=e.as,a=e.modified(),i=e.initonly?t.ADD:a?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return a&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(i,(function(t){return t[r]=n(t,e)}))}}),Object(Lt.v)(vi,lr,{transform:function(e,t){var n,r,a,i=t.fork(t.ALL),o=e.generator,u=this.value,s=e.size-u.length;if(s>0){for(n=[];--s>=0;)n.push(a=An(o(e))),u.push(a);i.add=i.add.length?i.materialize(i.ADD).add.concat(n):n}else r=u.slice(0,-s),i.rem=i.rem.length?i.materialize(i.REM).rem.concat(r):r,u=u.slice(-s);return i.source=this.value=u,i}});var mi={value:"value",median:Cr,mean:function(e,t){var n=0,r=0;if(void 0===t){var a,i=Object(pr.a)(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;null!=o&&(o=+o)>=o&&(++n,r+=o)}}catch(f){i.e(f)}finally{i.f()}}else{var u,s=-1,c=Object(pr.a)(e);try{for(c.s();!(u=c.n()).done;){var l=u.value;null!=(l=t(l,++s,e))&&(l=+l)>=l&&(++n,r+=l)}}catch(f){c.e(f)}finally{c.f()}}if(n)return r/n},min:br,max:gr},gi=[];function bi(e){lr.call(this,[],e)}function yi(e){Ua.call(this,e)}function xi(e){lr.call(this,null,e)}function _i(e){zn.call(this,null,wi,e)}function wi(e){return this.value&&!e.modified()?this.value:Object(Lt.G)(e.fields,e.flat)}function Oi(e){lr.call(this,[],e),this._pending=null}function ki(e,t,n){n.forEach(An);var r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function ji(e){lr.call(this,{},e)}function Ei(e){zn.call(this,null,Ci,e)}function Ci(e){if(this.value&&!e.modified())return this.value;var t,n,r=e.extents,a=r.length,i=1/0,o=-1/0;for(t=0;t<a;++t)(n=r[t])[0]<i&&(i=n[0]),n[1]>o&&(o=n[1]);return[i,o]}function Ai(e){zn.call(this,null,Si,e)}function Si(e){return this.value&&!e.modified()?this.value:e.values.reduce((function(e,t){return e.concat(t)}),[])}function Di(e){lr.call(this,null,e)}function Ni(e){Ua.call(this,e)}function Fi(e){si.call(this,e)}function Ti(e){lr.call(this,null,e)}function Mi(e){lr.call(this,null,e)}function Ii(e){lr.call(this,null,e)}bi.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Object(Lt.v)(bi,lr,{transform:function(e,t){var n,r,a,i,o,u,s,c,l,f,d=t.fork(t.ALL),h=function(e){var t,n=e.method||mi.value;if(null!=mi[n])return n===mi.value?(t=void 0!==e.value?e.value:0,function(){return t}):mi[n];Object(Lt.k)("Unrecognized imputation method: "+n)}(e),p=function(e){var t=e.field;return function(e){return e?t(e):NaN}}(e),v=Object(Lt.d)(e.field),m=Object(Lt.d)(e.key),g=(e.groupby||[]).map(Lt.d),b=function(e,t,n,r){var a,i,o,u,s,c,l,f,d=function(e){return e(f)},h=[],p=r?r.slice():[],v={},m={};for(p.forEach((function(e,t){return v[e]=t+1})),u=0,l=e.length;u<l;++u)c=n(f=e[u]),s=v[c]||(v[c]=p.push(c)),(o=m[i=(a=t?t.map(d):gi)+""])||(o=m[i]=[],h.push(o),o.values=a),o[s-1]=f;return h.domain=p,h}(t.source,e.groupby,e.key,e.keyvals),y=[],x=this.value,_=b.domain.length;for(o=0,c=b.length;o<c;++o)for(a=(n=b[o]).values,r=NaN,s=0;s<_;++s)if(null==n[s]){for(i=b.domain[s],f={_impute:!0},u=0,l=a.length;u<l;++u)f[g[u]]=a[u];f[m]=i,f[v]=Number.isNaN(r)?r=h(n,p):r,y.push(An(f))}return y.length&&(d.add=d.materialize(d.ADD).add.concat(y)),x.length&&(d.rem=d.materialize(d.REM).rem.concat(x)),this.value=y,d}}),yi.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:Na},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},Object(Lt.v)(yi,Ua,{transform:function(e,t){var n,r=this,a=e.modified();return r.value&&(a||t.modified(r._inputs,!0))?(n=r.value=a?r.init(e):{},t.visit(t.SOURCE,(function(e){return r.add(e)}))):(n=r.value=r.value||this.init(e),t.visit(t.REM,(function(e){return r.rem(e)})),t.visit(t.ADD,(function(e){return r.add(e)}))),r.changes(),t.visit(t.SOURCE,(function(e){Object(Lt.l)(e,n[r.cellkey(e)].tuple)})),t.reflow(a).modifies(this._outputs)},changes:function(){var e,t,n=this._adds,r=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(r[e]),r[e]=null;this._alen=this._mlen=0}}),xi.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(Lt.v)(xi,lr,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=t.materialize(t.SOURCE).source,a=ni(r,e.groupby,e.field),i=(e.groupby||[]).map(Lt.d),o=e.bandwidth,u=e.cumulative?"cdf":"pdf",s=e.as||["value","density"],c=[],l=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;"pdf"!==u&&"cdf"!==u&&Object(Lt.k)("Invalid density method: "+u),"shared"===e.resolve&&(l||(l=Object(Lt.m)(r,e.field)),f=d=e.steps||d),a.forEach((function(t){var n=$r(t,o)[u],r=e.counts?t.length:1;_a(n,l||Object(Lt.m)(t),f,d).forEach((function(e){for(var n={},a=0;a<i.length;++a)n[i[a]]=t.dims[a];n[s[0]]=e[0],n[s[1]]=e[1]*r,c.push(An(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}}),Object(Lt.v)(_i,zn),Object(Lt.v)(Oi,lr,{transform:function(e,t){var n=this,r=t.dataflow;return this._pending?ki(this,t,this._pending):function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e)?t.StopPropagation:e.values?ki(this,t,r.parse(e.values,e.format)):e.async?{async:r.request(e.url,e.format).then((function(e){return n._pending=Object(Lt.e)(e.data),function(e){return e.touch(n)}}))}:r.request(e.url,e.format).then((function(e){return ki(n,t,Object(Lt.e)(e.data))}))}}),ji.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Object(Lt.v)(ji,lr,{transform:function(e,t){var n,r,a=e.fields,i=e.index,o=e.values,u=null==e.default?null:e.default,s=e.modified(),c=a.length,l=s?t.SOURCE:t.ADD,f=t,d=e.as;return o?(r=o.length,c>1&&!d&&Object(Lt.k)('Multi-field lookup requires explicit "as" parameter.'),d&&d.length!==c*r&&Object(Lt.k)('The "as" parameter has too few output field names.'),d=d||o.map(Lt.d),n=function(e){for(var t,n,s=0,l=0;s<c;++s)if(null==(n=i.get(a[s](e))))for(t=0;t<r;++t,++l)e[d[l]]=u;else for(t=0;t<r;++t,++l)e[d[l]]=o[t](n)}):(d||Object(Lt.k)("Missing output field names."),n=function(e){for(var t,n=0;n<c;++n)t=i.get(a[n](e)),e[d[n]]=null==t?u:t}),s?f=t.reflow(!0):l|=a.some((function(e){return t.modified(e.fields)}))?t.MOD:0,t.visit(l,n),f.modifies(d)}}),Object(Lt.v)(Ei,zn),Object(Lt.v)(Ai,zn),Object(Lt.v)(Di,lr,{transform:function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),Ni.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Na,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},Object(Lt.v)(Ni,Ua,{_transform:Ua.prototype.transform,transform:function(e,t){return this._transform(function(e,t){var n=e.field,r=e.value,a=("count"===e.op?"__count__":e.op)||"sum",i=Object(Lt.c)(n).concat(Object(Lt.c)(r)),o=function(e,t,n){var r={},a=[];return n.visit(n.SOURCE,(function(t){var n=e(t);r[n]||(r[n]=1,a.push(n))})),a.sort(Lt.f),t?a.slice(0,t):a}(n,e.limit||0,t);t.changed()&&e.set("__pivot__",null,null,!0);return{key:e.key,groupby:e.groupby,ops:o.map((function(){return a})),fields:o.map((function(e){return function(e,t,n,r){return Object(Lt.b)((function(r){return t(r)===e?n(r):NaN}),r,e+"")}(e,n,r,i)})),as:o.map((function(e){return e+""})),modified:e.modified.bind(e)}}(e,t),t)}}),Object(Lt.v)(Fi,si,{transform:function(e,t){var n=this,r=e.subflow,a=e.field,i=function(e){return n.subflow(En(e),r,t,e)};return(e.modified("field")||a&&t.modified(Object(Lt.c)(a)))&&Object(Lt.k)("PreFacet does not support field modification."),this.initTargets(),a?(t.visit(t.MOD,(function(e){var t=i(e);a(e).forEach((function(e){return t.mod(e)}))})),t.visit(t.ADD,(function(e){var t=i(e);a(e).forEach((function(e){return t.add(An(e))}))})),t.visit(t.REM,(function(e){var t=i(e);a(e).forEach((function(e){return t.rem(e)}))}))):(t.visit(t.MOD,(function(e){return i(e).mod(e)})),t.visit(t.ADD,(function(e){return i(e).add(e)})),t.visit(t.REM,(function(e){return i(e).rem(e)}))),t.clean()&&t.runAfter((function(){return n.clean()})),t}}),Ti.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Object(Lt.v)(Ti,lr,{transform:function(e,t){var n,r=t.fork(t.NO_SOURCE),a=e.fields,i=ti(e.fields,e.as||[]),o=a?function(e,t){return function(e,t,n,r){for(var a=0,i=n.length;a<i;++a)t[r[a]]=n[a](e);return t}(e,t,a,i)}:Dn;return this.value?n=this.value:(t=t.addAll(),n=this.value={}),t.visit(t.REM,(function(e){var t=En(e);r.rem.push(n[t]),n[t]=null})),t.visit(t.ADD,(function(e){var t=o(e,An({}));n[En(e)]=t,r.add.push(t)})),t.visit(t.MOD,(function(e){r.mod.push(o(e,n[En(e)]))})),r}}),Object(Lt.v)(Mi,lr,{transform:function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}}),Ii.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};function Ri(e){lr.call(this,null,e)}function Pi(e){lr.call(this,[],e),this.count=0}function Bi(e){lr.call(this,null,e)}function zi(e){lr.call(this,null,e),this.modified(!0)}function Li(e){lr.call(this,null,e)}Object(Lt.v)(Ii,lr,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;var a=ni(t.materialize(t.SOURCE).source,e.groupby,e.field),i=(e.groupby||[]).map(Lt.d),o=[],u=e.step||.01,s=e.probs||Oa(u/2,1-1e-14,u),c=s.length;return a.forEach((function(e){for(var t=Dr(e,s),n=0;n<c;++n){for(var a={},u=0;u<i.length;++u)a[i[u]]=e.dims[u];a[r[0]]=s[n],a[r[1]]=t[n],o.push(An(a))}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=o,n}}),Object(Lt.v)(Ri,lr,{transform:function(e,t){var n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=En(e);n.rem.push(r[t]),r[t]=null})),t.visit(t.ADD,(function(e){var t=Sn(e);r[En(e)]=t,n.add.push(t)})),t.visit(t.MOD,(function(e){var t=r[En(e)];for(var a in e)t[a]=e[a],n.modifies(a);n.mod.push(t)}))),n}}),Pi.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Object(Lt.v)(Pi,lr,{transform:function(e,t){var n=t.fork(t.NO_SOURCE),r=e.modified("size"),a=e.size,i=this.value.reduce((function(e,t){return e[En(t)]=1,e}),{}),o=this.value,u=this.count,s=0;function c(e){var t,r;o.length<a?o.push(e):(r=~~((u+1)*Mr()))<o.length&&r>=s&&(t=o[r],i[En(t)]&&n.rem.push(t),o[r]=e),++u}if(t.rem.length&&(t.visit(t.REM,(function(e){var t=En(e);i[t]&&(i[t]=-1,n.rem.push(e)),--u})),o=o.filter((function(e){return-1!==i[En(e)]}))),(t.rem.length||r)&&o.length<a&&t.source&&(s=u=o.length,t.visit(t.SOURCE,(function(e){i[En(e)]||c(e)})),s=-1),r&&o.length>a){for(var l=o.length-a,f=0;f<l;++f)i[En(o[f])]=-1,n.rem.push(o[f]);o=o.slice(l)}return t.mod.length&&t.visit(t.MOD,(function(e){i[En(e)]&&n.mod.push(e)})),t.add.length&&t.visit(t.ADD,c),(t.add.length||s<0)&&(n.add=o.filter((function(e){return!i[En(e)]}))),this.count=u,this.value=n.source=o,n}}),Bi.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Object(Lt.v)(Bi,lr,{transform:function(e,t){if(!this.value||e.modified()){var n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Oa(e.start,e.stop,e.step||1).map((function(e){var t={};return t[r]=e,An(t)})),n.add=t.add.concat(this.value),n}}}),Object(Lt.v)(zi,lr,{transform:function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});var Ui=["unit0","unit1"];function Wi(e){lr.call(this,Object(Lt.p)(),e)}function Vi(e){lr.call(this,null,e)}Li.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:ja.j,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Ui}]},Object(Lt.v)(Li,lr,{transform:function(e,t){var n=e.field,r=!1!==e.interval,a="utc"===e.timezone,i=this._floor(e,t),o=(a?ja.v:ja.p)(i.unit).offset,u=e.as||Ui,s=u[0],c=u[1],l=i.step,f=i.start||1/0,d=i.stop||-1/0,h=t.ADD;return(e.modified()||t.modified(Object(Lt.c)(n)))&&(h=(t=t.reflow(!0)).SOURCE,f=1/0,d=-1/0),t.visit(h,(function(e){var t,a,u=n(e);null==u?(e[s]=null,r&&(e[c]=null)):(e[s]=t=a=i(u),r&&(e[c]=a=o(t,l)),t<f&&(f=t),a>d&&(d=a))})),i.start=f,i.stop=d,t.modifies(r?u:s)},_floor:function(e,t){var n="utc"===e.timezone,r=e.units?{units:e.units,step:e.step||1}:Object(ja.n)({extent:e.extent||Object(Lt.m)(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),a=r.units,i=r.step,o=Object(ja.t)(a),u=this.value||{},s=(n?ja.u:ja.o)(o,i);return s.unit=Object(Lt.S)(o),s.units=o,s.step=i,s.start=u.start,s.stop=u.stop,this.value=s}}),Object(Lt.v)(Wi,lr,{transform:function(e,t){var n=t.dataflow,r=e.field,a=this.value,i=function(e){return a.set(r(e),e)},o=!0;return e.modified("field")||t.modified(r.fields)?(a.clear(),t.visit(t.SOURCE,i)):t.changed()?(t.visit(t.REM,(function(e){return a.delete(r(e))})),t.visit(t.ADD,i)):o=!1,this.modified(o),a.empty>n.cleanThreshold&&n.runAfter(a.clean),t.fork()}}),Object(Lt.v)(Vi,lr,{transform:function(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Fn(e.sort)):t.source).map(e.field))}});var qi={row_number:function(){return{next:function(e){return e.index+1}}},rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){var e=qi.rank(),t=e.next;return{init:e.init,next:function(e){return(t(e)-1)/(e.data.length-1)}}},cume_dist:function(){var e;return{init:function(){return e=0},next:function(t){var n=t.data,r=t.compare,a=t.index;if(e<a){for(;a+1<n.length&&!r(n[a],n[a+1]);)++a;e=a}return(1+e)/n.length}}},ntile:function(e,t){(t=+t)>0||Object(Lt.k)("ntile num must be greater than zero.");var n=qi.cume_dist(),r=n.next;return{init:n.init,next:function(e){return Math.ceil(t*r(e))}}},lag:function(e,t){return t=+t||1,{next:function(n){var r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:function(n){var r=n.index+t,a=n.data;return r<a.length?e(a[r]):null}}},first_value:function(e){return{next:function(t){return e(t.data[t.i0])}}},last_value:function(e){return{next:function(t){return e(t.data[t.i1-1])}}},nth_value:function(e,t){return(t=+t)>0||Object(Lt.k)("nth_value nth must be greater than zero."),{next:function(n){var r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){var t;return{init:function(){return t=null},next:function(n){var r=e(n.data[n.index]);return null!=r?t=r:t}}},next_value:function(e){var t,n;return{init:function(){return t=null,n=-1},next:function(r){var a=r.data;return r.index<=n?t:(n=function(e,t,n){for(var r=t.length;n<r;++n){if(null!=e(t[n]))return n}return-1}(e,a,r.index))<0?(n=a.length,t=null):t=e(a[n])}}}};var Hi=Object.keys(qi);function Gi(e){var t=Object(Lt.e)(e.ops),n=Object(Lt.e)(e.fields),r=Object(Lt.e)(e.params),a=Object(Lt.e)(e.as),i=this.outputs=[],o=this.windows=[],u={},s={},c=[],l=[],f=!0;function d(e){Object(Lt.e)(Object(Lt.c)(e)).forEach((function(e){return u[e]=1}))}d(e.sort),t.forEach((function(e,t){var u=n[t],h=Object(Lt.d)(u),p=Ca(e,h,a[t]);if(d(u),i.push(p),Object(Lt.s)(qi,e))o.push(function(e,t,n,r){var a=qi[e](t,n);return{init:a.init||Lt.gb,update:function(e,t){t[r]=a.next(e)}}}(e,n[t],r[t],p));else{if(null==u&&"count"!==e&&Object(Lt.k)("Null aggregate field specified."),"count"===e)return void c.push(p);f=!1;var v=s[h];v||((v=s[h]=[]).field=u,l.push(v)),v.push(Fa(e,p))}})),(c.length||l.length)&&(this.cell=function(e,t,n){e=e.map((function(e){return Ba(e,e.field)}));var r={num:0,agg:null,store:!1,count:t};if(!n)for(var a=e.length,i=r.agg=Array(a),o=0;o<a;++o)i[o]=new e[o](r);if(r.store)var u=r.data=new za;return r.add=function(e){if(r.num+=1,!n){u&&u.add(e);for(var t=0;t<a;++t)i[t].add(i[t].get(e),e)}},r.rem=function(e){if(r.num-=1,!n){u&&u.rem(e);for(var t=0;t<a;++t)i[t].rem(i[t].get(e),e)}},r.set=function(e){var a,o;for(u&&u.values(),a=0,o=t.length;a<o;++a)e[t[a]]=r.num;if(!n)for(a=0,o=i.length;a<o;++a)i[a].set(e)},r.init=function(){r.num=0,u&&u.reset();for(var e=0;e<a;++e)i[e].init()},r}(l,c,f)),this.inputs=Object.keys(u)}var Ki=Gi.prototype;function $i(e){lr.call(this,{},e),this._mlen=0,this._mods=[]}function Xi(e,t,n,r){var a=r.sort,i=a&&!r.ignorePeers,o=r.frame||[null,0],u=e.data(n),s=u.length,c=i?Object(ka.a)(a):null,l={i0:0,i1:0,p0:0,p1:0,index:0,data:u,compare:a||Object(Lt.i)(-1)};t.init();for(var f=0;f<s;++f)Yi(l,o,f,s),i&&Ji(l,c),t.update(l,u[f])}function Yi(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function Ji(e,t){var n=e.i0,r=e.i1-1,a=e.compare,i=e.data,o=i.length-1;n>0&&!a(i[n],i[n-1])&&(e.i0=t.left(i,i[n])),r<o&&!a(i[r],i[r+1])&&(e.i1=t.right(i,i[r]))}Ki.init=function(){this.windows.forEach((function(e){return e.init()})),this.cell&&this.cell.init()},Ki.update=function(e,t){var n,r=this.cell,a=this.windows,i=e.data,o=a&&a.length;if(r){for(n=e.p0;n<e.i0;++n)r.rem(i[n]);for(n=e.p1;n<e.i1;++n)r.add(i[n]);r.set(t)}for(n=0;n<o;++n)a[n].update(e,t)},$i.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Hi.concat(Na)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},Object(Lt.v)($i,lr,{transform:function(e,t){var n=this;this.stamp=t.stamp;var r=e.modified(),a=Fn(e.sort),i=Ea(e.groupby),o=function(e){return n.group(i(e))},u=this.state;u&&!r||(u=this.state=new Gi(e)),r||t.modified(u.inputs)?(this.value={},t.visit(t.SOURCE,(function(e){return o(e).add(e)}))):(t.visit(t.REM,(function(e){return o(e).remove(e)})),t.visit(t.ADD,(function(e){return o(e).add(e)})));for(var s=0,c=this._mlen;s<c;++s)Xi(this._mods[s],u,a,e);return this._mlen=0,this._mods=[],t.reflow(r).modifies(u.outputs)},group:function(e){var t=this.value[e];return t||(t=this.value[e]=Va(En),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});var Qi=n(14),Zi=n(21);function eo(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function to(e){this._context=e}to.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eo(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var no=function(){};function ro(e){this._context=e}ro.prototype={areaStart:no,areaEnd:no,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:eo(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ao(e){this._context=e}ao.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:eo(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function io(e,t){this._basis=new to(e),this._beta=t}io.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,a=e[0],i=t[0],o=e[n]-a,u=t[n]-i,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(a+r*o),this._beta*t[s]+(1-this._beta)*(i+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var oo=function e(t){function n(e){return 1===t?new to(e):new io(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function uo(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function so(e,t){this._context=e,this._k=(1-t)/6}so.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:uo(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:uo(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var co=function e(t){function n(e){return new so(e,t)}return n.tension=function(t){return e(+t)},n}(0);function lo(e,t){this._context=e,this._k=(1-t)/6}lo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:uo(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var fo=function e(t){function n(e){return new lo(e,t)}return n.tension=function(t){return e(+t)},n}(0);function ho(e,t){this._context=e,this._k=(1-t)/6}ho.prototype={areaStart:no,areaEnd:no,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:uo(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var po=function e(t){function n(e){return new ho(e,t)}return n.tension=function(t){return e(+t)},n}(0),vo=Math.abs,mo=Math.atan2,go=Math.cos,bo=Math.max,yo=Math.min,xo=Math.sin,_o=Math.sqrt,wo=1e-12,Oo=Math.PI,ko=Oo/2,jo=2*Oo;function Eo(e){return e>1?0:e<-1?Oo:Math.acos(e)}function Co(e){return e>=1?ko:e<=-1?-ko:Math.asin(e)}function Ao(e,t,n){var r=e._x1,a=e._y1,i=e._x2,o=e._y2;if(e._l01_a>wo){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,s=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/s,a=(a*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/s}if(e._l23_a>wo){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*c+e._x1*e._l23_2a-t*e._l12_2a)/l,o=(o*c+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,a,i,o,e._x2,e._y2)}function So(e,t){this._context=e,this._alpha=t}So.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Ao(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Do=function e(t){function n(e){return t?new So(e,t):new so(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function No(e,t){this._context=e,this._alpha=t}No.prototype={areaStart:no,areaEnd:no,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ao(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Fo=function e(t){function n(e){return t?new No(e,t):new ho(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function To(e,t){this._context=e,this._alpha=t}To.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ao(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Mo=function e(t){function n(e){return t?new To(e,t):new lo(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Io(e){this._context=e}Io.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Ro=function(e){return new Io(e)};function Po(e){this._context=e}Po.prototype={areaStart:no,areaEnd:no,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Bo(e){return e<0?-1:1}function zo(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),u=(i*a+o*r)/(r+a);return(Bo(i)+Bo(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(u))||0}function Lo(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Uo(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,u=(i-r)/3;e._context.bezierCurveTo(r+u,a+u*t,i-u,o-u*n,i,o)}function Wo(e){this._context=e}function Vo(e){this._context=new qo(e)}function qo(e){this._context=e}function Ho(e){this._context=e}function Go(e){var t,n,r=e.length-1,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}Wo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Uo(this,this._t0,Lo(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Uo(this,Lo(this,n=zo(this,e,t)),n);break;default:Uo(this,this._t0,n=zo(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Vo.prototype=Object.create(Wo.prototype)).point=function(e,t){Wo.prototype.point.call(this,t,e)},qo.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}},Ho.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Go(e),a=Go(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ko(e,t){this._context=e,this._t=t}Ko.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var $o=Math.PI,Xo=2*$o,Yo=1e-6,Jo=Xo-Yo;function Qo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Zo(){return new Qo}Qo.prototype=Zo.prototype={constructor:Qo,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,a,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+i)},arcTo:function(e,t,n,r,a){e=+e,t=+t,n=+n,r=+r,a=+a;var i=this._x1,o=this._y1,u=n-e,s=r-t,c=i-e,l=o-t,f=c*c+l*l;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>Yo)if(Math.abs(l*u-s*c)>Yo&&a){var d=n-i,h=r-o,p=u*u+s*s,v=d*d+h*h,m=Math.sqrt(p),g=Math.sqrt(f),b=a*Math.tan(($o-Math.acos((p+f-v)/(2*m*g)))/2),y=b/g,x=b/m;Math.abs(y-1)>Yo&&(this._+="L"+(e+y*c)+","+(t+y*l)),this._+="A"+a+","+a+",0,0,"+ +(l*d>c*h)+","+(this._x1=e+x*u)+","+(this._y1=t+x*s)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,a,i){e=+e,t=+t,i=!!i;var o=(n=+n)*Math.cos(r),u=n*Math.sin(r),s=e+o,c=t+u,l=1^i,f=i?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>Yo||Math.abs(this._y1-c)>Yo)&&(this._+="L"+s+","+c),n&&(f<0&&(f=f%Xo+Xo),f>Jo?this._+="A"+n+","+n+",0,1,"+l+","+(e-o)+","+(t-u)+"A"+n+","+n+",0,1,"+l+","+(this._x1=s)+","+(this._y1=c):f>Yo&&(this._+="A"+n+","+n+",0,"+ +(f>=$o)+","+l+","+(this._x1=e+n*Math.cos(a))+","+(this._y1=t+n*Math.sin(a))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var eu=Zo,tu=function(e){return function(){return e}};function nu(e){return e.innerRadius}function ru(e){return e.outerRadius}function au(e){return e.startAngle}function iu(e){return e.endAngle}function ou(e){return e&&e.padAngle}function uu(e,t,n,r,a,i,o,u){var s=n-e,c=r-t,l=o-a,f=u-i,d=f*s-l*c;if(!(d*d<wo))return[e+(d=(l*(t-i)-f*(e-a))/d)*s,t+d*c]}function su(e,t,n,r,a,i,o){var u=e-n,s=t-r,c=(o?i:-i)/_o(u*u+s*s),l=c*s,f=-c*u,d=e+l,h=t+f,p=n+l,v=r+f,m=(d+p)/2,g=(h+v)/2,b=p-d,y=v-h,x=b*b+y*y,_=a-i,w=d*v-p*h,O=(y<0?-1:1)*_o(bo(0,_*_*x-w*w)),k=(w*y-b*O)/x,j=(-w*b-y*O)/x,E=(w*y+b*O)/x,C=(-w*b+y*O)/x,A=k-m,S=j-g,D=E-m,N=C-g;return A*A+S*S>D*D+N*N&&(k=E,j=C),{cx:k,cy:j,x01:-l,y01:-f,x11:k*(a/_-1),y11:j*(a/_-1)}}Array.prototype.slice;var cu=function(e){return"object"===typeof e&&"length"in e?e:Array.from(e)};function lu(e){return e[0]}function fu(e){return e[1]}var du=function(e,t){var n=tu(!0),r=null,a=Ro,i=null;function o(o){var u,s,c,l=(o=cu(o)).length,f=!1;for(null==r&&(i=a(c=eu())),u=0;u<=l;++u)!(u<l&&n(s=o[u],u,o))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(s,u,o),+t(s,u,o));if(c)return i=null,c+""||null}return e="function"===typeof e?e:void 0===e?lu:tu(e),t="function"===typeof t?t:void 0===t?fu:tu(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:tu(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:tu(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:tu(!!e),o):n},o.curve=function(e){return arguments.length?(a=e,null!=r&&(i=a(r)),o):a},o.context=function(e){return arguments.length?(null==e?r=i=null:i=a(r=e),o):r},o},hu=function(e,t,n){var r=null,a=tu(!0),i=null,o=Ro,u=null;function s(s){var c,l,f,d,h,p=(s=cu(s)).length,v=!1,m=new Array(p),g=new Array(p);for(null==i&&(u=o(h=eu())),c=0;c<=p;++c){if(!(c<p&&a(d=s[c],c,s))===v)if(v=!v)l=c,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),f=c-1;f>=l;--f)u.point(m[f],g[f]);u.lineEnd(),u.areaEnd()}v&&(m[c]=+e(d,c,s),g[c]=+t(d,c,s),u.point(r?+r(d,c,s):m[c],n?+n(d,c,s):g[c]))}if(h)return u=null,h+""||null}function c(){return du().defined(a).curve(o).context(i)}return e="function"===typeof e?e:void 0===e?lu:tu(+e),t="function"===typeof t?t:tu(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?fu:tu(+n),s.x=function(t){return arguments.length?(e="function"===typeof t?t:tu(+t),r=null,s):e},s.x0=function(t){return arguments.length?(e="function"===typeof t?t:tu(+t),s):e},s.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:tu(+e),s):r},s.y=function(e){return arguments.length?(t="function"===typeof e?e:tu(+e),n=null,s):t},s.y0=function(e){return arguments.length?(t="function"===typeof e?e:tu(+e),s):t},s.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:tu(+e),s):n},s.lineX0=s.lineY0=function(){return c().x(e).y(t)},s.lineY1=function(){return c().x(e).y(n)},s.lineX1=function(){return c().x(r).y(t)},s.defined=function(e){return arguments.length?(a="function"===typeof e?e:tu(!!e),s):a},s.curve=function(e){return arguments.length?(o=e,null!=i&&(u=o(i)),s):o},s.context=function(e){return arguments.length?(null==e?i=u=null:u=o(i=e),s):i},s},pu={draw:function(e,t){var n=Math.sqrt(t/Oo);e.moveTo(n,0),e.arc(0,0,n,0,jo)}},vu=(Math.sqrt(1/3),Math.sin(Oo/10)/Math.sin(7*Oo/10)),mu=(Math.sin(jo/10),Math.cos(jo/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),Math.PI),gu=2*mu,bu=1e-6,yu=gu-bu;function xu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function _u(){return new xu}xu.prototype=_u.prototype={constructor:xu,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,a,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+i)},arcTo:function(e,t,n,r,a){e=+e,t=+t,n=+n,r=+r,a=+a;var i=this._x1,o=this._y1,u=n-e,s=r-t,c=i-e,l=o-t,f=c*c+l*l;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>bu)if(Math.abs(l*u-s*c)>bu&&a){var d=n-i,h=r-o,p=u*u+s*s,v=d*d+h*h,m=Math.sqrt(p),g=Math.sqrt(f),b=a*Math.tan((mu-Math.acos((p+f-v)/(2*m*g)))/2),y=b/g,x=b/m;Math.abs(y-1)>bu&&(this._+="L"+(e+y*c)+","+(t+y*l)),this._+="A"+a+","+a+",0,0,"+ +(l*d>c*h)+","+(this._x1=e+x*u)+","+(this._y1=t+x*s)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,a,i){e=+e,t=+t,i=!!i;var o=(n=+n)*Math.cos(r),u=n*Math.sin(r),s=e+o,c=t+u,l=1^i,f=i?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>bu||Math.abs(this._y1-c)>bu)&&(this._+="L"+s+","+c),n&&(f<0&&(f=f%gu+gu),f>yu?this._+="A"+n+","+n+",0,1,"+l+","+(e-o)+","+(t-u)+"A"+n+","+n+",0,1,"+l+","+(this._x1=s)+","+(this._y1=c):f>bu&&(this._+="A"+n+","+n+",0,"+ +(f>=mu)+","+l+","+(this._x1=e+n*Math.cos(a))+","+(this._y1=t+n*Math.sin(a))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var wu=_u;function Ou(e,t){if("undefined"!==typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}var ku=function(){return"undefined"!==typeof Image?Image:null},ju=Object(ka.a)(mr.a),Eu=ju.right,Cu=ju.left,Au=(Object(ka.a)(wr).center,Eu);function Su(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Du(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}var Nu=Symbol("implicit");function Fu(){var e=new Map,t=[],n=[],r=Nu;function a(a){var i=a+"",o=e.get(i);if(!o){if(r!==Nu)return r;e.set(i,o=t.push(a))}return n[(o-1)%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r,i=Object(pr.a)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value,u=o+"";e.has(u)||e.set(u,t.push(o))}}catch(s){i.e(s)}finally{i.f()}return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return Fu(t,n).unknown(r)},Su.apply(a,arguments),a}var Tu=n(449),Mu=n(287),Iu=n(945),Ru=n(617),Pu=n(946),Bu=n(947);function zu(e,t,n,r){var a,i=Object(Tu.c)(e,t,n);switch((r=Object(Mu.a)(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=Object(Iu.a)(i,o))||(r.precision=a),Object(Ru.b)(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=Object(Pu.a)(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=Object(Bu.a)(i))||(r.precision=a-2*("%"===r.type))}return Object(Ru.a)(r)}var Lu=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Uu(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Wu(){}var Vu=.7,qu=1/Vu,Hu="\\s*([+-]?\\d+)\\s*",Gu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ku="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$u=/^#([0-9a-f]{3,8})$/,Xu=new RegExp("^rgb\\("+[Hu,Hu,Hu]+"\\)$"),Yu=new RegExp("^rgb\\("+[Ku,Ku,Ku]+"\\)$"),Ju=new RegExp("^rgba\\("+[Hu,Hu,Hu,Gu]+"\\)$"),Qu=new RegExp("^rgba\\("+[Ku,Ku,Ku,Gu]+"\\)$"),Zu=new RegExp("^hsl\\("+[Gu,Ku,Ku]+"\\)$"),es=new RegExp("^hsla\\("+[Gu,Ku,Ku,Gu]+"\\)$"),ts={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ns(){return this.rgb().formatHex()}function rs(){return this.rgb().formatRgb()}function as(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$u.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?is(t):3===n?new cs(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?os(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?os(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Xu.exec(e))?new cs(t[1],t[2],t[3],1):(t=Yu.exec(e))?new cs(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Ju.exec(e))?os(t[1],t[2],t[3],t[4]):(t=Qu.exec(e))?os(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Zu.exec(e))?hs(t[1],t[2]/100,t[3]/100,1):(t=es.exec(e))?hs(t[1],t[2]/100,t[3]/100,t[4]):ts.hasOwnProperty(e)?is(ts[e]):"transparent"===e?new cs(NaN,NaN,NaN,0):null}function is(e){return new cs(e>>16&255,e>>8&255,255&e,1)}function os(e,t,n,r){return r<=0&&(e=t=n=NaN),new cs(e,t,n,r)}function us(e){return e instanceof Wu||(e=as(e)),e?new cs((e=e.rgb()).r,e.g,e.b,e.opacity):new cs}function ss(e,t,n,r){return 1===arguments.length?us(e):new cs(e,t,n,null==r?1:r)}function cs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ls(){return"#"+ds(this.r)+ds(this.g)+ds(this.b)}function fs(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function ds(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function hs(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ms(e,t,n,r)}function ps(e){if(e instanceof ms)return new ms(e.h,e.s,e.l,e.opacity);if(e instanceof Wu||(e=as(e)),!e)return new ms;if(e instanceof ms)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,u=i-a,s=(i+a)/2;return u?(o=t===i?(n-r)/u+6*(n<r):n===i?(r-t)/u+2:(t-n)/u+4,u/=s<.5?i+a:2-i-a,o*=60):u=s>0&&s<1?0:o,new ms(o,u,s,e.opacity)}function vs(e,t,n,r){return 1===arguments.length?ps(e):new ms(e,t,n,null==r?1:r)}function ms(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function gs(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function bs(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}Lu(Wu,as,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ns,formatHex:ns,formatHsl:function(){return ps(this).formatHsl()},formatRgb:rs,toString:rs}),Lu(cs,ss,Uu(Wu,{brighter:function(e){return e=null==e?qu:Math.pow(qu,e),new cs(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Vu:Math.pow(Vu,e),new cs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ls,formatHex:ls,formatRgb:fs,toString:fs})),Lu(ms,vs,Uu(Wu,{brighter:function(e){return e=null==e?qu:Math.pow(qu,e),new ms(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Vu:Math.pow(Vu,e),new ms(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new cs(gs(e>=240?e-240:e+120,a,r),gs(e,a,r),gs(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var ys=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,u=r<t-1?e[r+2]:2*i-a;return bs((n-r/t)*t,o,a,i,u)}},xs=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],u=e[(r+2)%t];return bs((n-r/t)*t,a,i,o,u)}},_s=function(e){return function(){return e}};function ws(e,t){return function(n){return e+n*t}}function Os(e,t){var n=t-e;return n?ws(e,n>180||n<-180?n-360*Math.round(n/360):n):_s(isNaN(e)?t:e)}function ks(e){return 1===(e=+e)?js:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):_s(isNaN(t)?n:t)}}function js(e,t){var n=t-e;return n?ws(e,n):_s(isNaN(e)?t:e)}var Es=function e(t){var n=ks(t);function r(e,t){var r=n((e=ss(e)).r,(t=ss(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),o=js(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function Cs(e){return function(t){var n,r,a=t.length,i=new Array(a),o=new Array(a),u=new Array(a);for(n=0;n<a;++n)r=ss(t[n]),i[n]=r.r||0,o[n]=r.g||0,u[n]=r.b||0;return i=e(i),o=e(o),u=e(u),r.opacity=1,function(e){return r.r=i(e),r.g=o(e),r.b=u(e),r+""}}}var As=Cs(ys),Ss=Cs(xs),Ds=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}};function Ns(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var Fs=function(e,t){return(Ns(t)?Ds:Ts)(e,t)};function Ts(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=Ls(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=i[n](e);return o}}var Ms=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}},Is=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},Rs=function(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Ls(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}},Ps=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bs=new RegExp(Ps.source,"g");var zs=function(e,t){var n,r,a,i=Ps.lastIndex=Bs.lastIndex=0,o=-1,u=[],s=[];for(e+="",t+="";(n=Ps.exec(e))&&(r=Bs.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),u[o]?u[o]+=a:u[++o]=a),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:Is(n,r)})),i=Bs.lastIndex;return i<t.length&&(a=t.slice(i),u[o]?u[o]+=a:u[++o]=a),u.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)u[(n=s[r]).i]=n.x(e);return u.join("")})},Ls=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?_s(t):("number"===r?Is:"string"===r?(n=as(t))?(t=n,Es):zs:t instanceof as?Es:t instanceof Date?Ms:Ns(t)?Ds:Array.isArray(t)?Ts:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Rs:Is)(e,t)},Us=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}};function Ws(e){return+e}var Vs=[0,1];function qs(e){return e}function Hs(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Gs(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Hs(a,r),i=n(o,i)):(r=Hs(r,a),i=n(i,o)),function(e){return i(r(e))}}function Ks(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Hs(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(t){var n=Au(e,t,1,r)-1;return i[n](a[n](t))}}function $s(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Xs(){var e,t,n,r,a,i,o=Vs,u=Vs,s=Ls,c=qs;function l(){var e=Math.min(o.length,u.length);return c!==qs&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?Ks:Gs,a=i=null,f}function f(t){return isNaN(t=+t)?n:(a||(a=r(o.map(e),u,s)))(e(c(t)))}return f.invert=function(n){return c(t((i||(i=r(u,o.map(e),Is)))(n)))},f.domain=function(e){return arguments.length?(o=Array.from(e,Ws),l()):o.slice()},f.range=function(e){return arguments.length?(u=Array.from(e),l()):u.slice()},f.rangeRound=function(e){return u=Array.from(e),s=Us,l()},f.clamp=function(e){return arguments.length?(c=!!e||qs,l()):c!==qs},f.interpolate=function(e){return arguments.length?(s=e,l()):s},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,l()}}function Ys(){return Xs()(qs,qs)}function Js(e){var t=e.domain;return e.ticks=function(e){var n=t();return Object(Tu.a)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return zu(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,i=t(),o=0,u=i.length-1,s=i[o],c=i[u],l=10;for(c<s&&(a=s,s=c,c=a,a=o,o=u,u=a);l-- >0;){if((a=Object(Tu.b)(s,c,n))===r)return i[o]=s,i[u]=c,t(i);if(a>0)s=Math.floor(s/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;s=Math.ceil(s*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function Qs(){var e=Ys();return e.copy=function(){return $s(e,Qs())},Su.apply(e,arguments),Js(e)}function Zs(e){var t;function n(e){return isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Ws),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Zs(e).unknown(t)},e=arguments.length?Array.from(e,Ws):[0,1],Js(n)}function ec(e,t){var n,r=0,a=(e=e.slice()).length-1,i=e[r],o=e[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),e[r]=t.floor(i),e[a]=t.ceil(o),e}function tc(e){return Math.log(e)}function nc(e){return Math.exp(e)}function rc(e){return-Math.log(-e)}function ac(e){return-Math.exp(-e)}function ic(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oc(e){return function(t){return-e(-t)}}function uc(e){var t,n,r=e(tc,nc),a=r.domain,i=10;function o(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(i),n=function(e){return 10===e?ic:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(i),a()[0]<0?(t=oc(t),n=oc(n),e(rc,ac)):e(tc,nc),r}return r.base=function(e){return arguments.length?(i=+e,o()):i},r.domain=function(e){return arguments.length?(a(e),o()):a()},r.ticks=function(e){var r,o=a(),u=o[0],s=o[o.length-1];(r=s<u)&&(d=u,u=s,s=d);var c,l,f,d=t(u),h=t(s),p=null==e?10:+e,v=[];if(!(i%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(l=1,c=n(d);l<i;++l)if(!((f=c*l)<u)){if(f>s)break;v.push(f)}}else for(;d<=h;++d)for(l=i-1,c=n(d);l>=1;--l)if(!((f=c*l)<u)){if(f>s)break;v.push(f)}2*v.length<p&&(v=Object(Tu.a)(u,s,p))}else v=Object(Tu.a)(d,h,Math.min(h-d,p)).map(n);return r?v.reverse():v},r.tickFormat=function(e,a){if(null==a&&(a=10===i?".0e":","),"function"!==typeof a&&(a=Object(Ru.a)(a)),e===1/0)return a;null==e&&(e=10);var o=Math.max(1,i*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*i<i-.5&&(r*=i),r<=o?a(e):""}},r.nice=function(){return a(ec(a(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function sc(){var e=uc(Xs()).domain([1,10]);return e.copy=function(){return $s(e,sc()).base(e.base())},Su.apply(e,arguments),e}function cc(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lc(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function fc(e){return e<0?-e*e:e*e}function dc(e){var t=e(qs,qs),n=1;function r(){return 1===n?e(qs,qs):.5===n?e(lc,fc):e(cc(n),cc(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},Js(t)}function hc(){var e=dc(Xs());return e.copy=function(){return $s(e,hc()).exponent(e.exponent())},Su.apply(e,arguments),e}function pc(){return hc.apply(null,arguments).exponent(.5)}function vc(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mc(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gc(e){var t=1,n=e(vc(t),mc(t));return n.constant=function(n){return arguments.length?e(vc(t=+n),mc(t)):t},Js(n)}function bc(){var e=gc(Xs());return e.copy=function(){return $s(e,bc()).constant(e.constant())},Su.apply(e,arguments)}var yc=n(257),xc=n(613),_c=n(144),wc=n(255),Oc=n(941),kc=n(942),jc=n(614),Ec=n(615),Cc=n(387),Ac=1e3,Sc=6e4,Dc=36e5,Nc=864e5,Fc=2592e6,Tc=31536e6;function Mc(e){return new Date(e)}function Ic(e){return e instanceof Date?+e:+new Date(+e)}function Rc(e,t,n,r,a,i,o,u,s){var c=Ys(),l=c.invert,f=c.domain,d=s(".%L"),h=s(":%S"),p=s("%I:%M"),v=s("%I %p"),m=s("%a %d"),g=s("%b %d"),b=s("%B"),y=s("%Y"),x=[[o,1,Ac],[o,5,5e3],[o,15,15e3],[o,30,3e4],[i,1,Sc],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,Dc],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,Nc],[r,2,1728e5],[n,1,6048e5],[t,1,Fc],[t,3,7776e6],[e,1,Tc]];function _(u){return(o(u)<u?d:i(u)<u?h:a(u)<u?p:r(u)<u?v:t(u)<u?n(u)<u?m:g:e(u)<u?b:y)(u)}function w(t,n,r){if(null==t&&(t=10),"number"===typeof t){var a,i=Math.abs(r-n)/t,o=Object(ka.a)((function(e){return e[2]})).right(x,i);return o===x.length?(a=Object(Tu.c)(n/Tc,r/Tc,t),t=e):o?(a=(o=x[i/x[o-1][2]<x[o][2]/i?o-1:o])[1],t=o[0]):(a=Math.max(Object(Tu.c)(n,r,t),1),t=u),t.every(a)}return t}return c.invert=function(e){return new Date(l(e))},c.domain=function(e){return arguments.length?f(Array.from(e,Ic)):f().map(Mc)},c.ticks=function(e){var t,n=f(),r=n[0],a=n[n.length-1],i=a<r;return i&&(t=r,r=a,a=t),t=(t=w(e,r,a))?t.range(r,a+1):[],i?t.reverse():t},c.tickFormat=function(e,t){return null==t?_:s(t)},c.nice=function(e){var t=f();return(e=w(e,t[0],t[t.length-1]))?f(ec(t,e)):c},c.copy=function(){return $s(c,Rc(e,t,n,r,a,i,o,u,s))},c}function Pc(){return Su.apply(Rc(yc.a,xc.a,_c.b,wc.a,Oc.a,kc.a,jc.a,Ec.a,Cc.a).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var Bc=n(258),zc=n(616),Lc=n(145),Uc=n(256),Wc=n(943),Vc=n(944);function qc(){return Su.apply(Rc(Bc.a,zc.a,Lc.b,Uc.a,Wc.a,Vc.a,jc.a,Ec.a,Cc.c).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hc(){var e,t,n,r,a,i=0,o=1,u=qs,s=!1;function c(t){return isNaN(t=+t)?a:u(0===n?.5:(t=(r(t)-e)*n,s?Math.max(0,Math.min(1,t)):t))}function l(e){return function(t){var n,r,a,i;return arguments.length?(n=t,a=(r=Object(vr.a)(n,2))[0],i=r[1],u=e(a,i),c):[u(0),u(1)]}}return c.domain=function(a){var u,s;return arguments.length?(u=a,s=Object(vr.a)(u,2),i=s[0],o=s[1],e=r(i=+i),t=r(o=+o),n=e===t?0:1/(t-e),c):[i,o]},c.clamp=function(e){return arguments.length?(s=!!e,c):s},c.interpolator=function(e){return arguments.length?(u=e,c):u},c.range=l(Ls),c.rangeRound=l(Us),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(i),t=a(o),n=e===t?0:1/(t-e),c}}function Gc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Kc(){var e=Js(Hc()(qs));return e.copy=function(){return Gc(e,Kc())},Du.apply(e,arguments)}function $c(){var e=uc(Hc()).domain([1,10]);return e.copy=function(){return Gc(e,$c()).base(e.base())},Du.apply(e,arguments)}function Xc(){var e=gc(Hc());return e.copy=function(){return Gc(e,Xc()).constant(e.constant())},Du.apply(e,arguments)}function Yc(){var e=dc(Hc());return e.copy=function(){return Gc(e,Yc()).exponent(e.exponent())},Du.apply(e,arguments)}function Jc(){return Yc.apply(null,arguments).exponent(.5)}function Qc(e,t){void 0===t&&(t=e,e=Ls);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}function Zc(){var e,t,n,r,a,i,o,u=0,s=.5,c=1,l=1,f=qs,d=!1;function h(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-t)*(l*e<l*t?r:a),f(d?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,a,i,o;return arguments.length?(n=t,a=(r=Object(vr.a)(n,3))[0],i=r[1],o=r[2],f=Qc(e,[a,i,o]),h):[f(0),f(.5),f(1)]}}return h.domain=function(o){var f,d;return arguments.length?(f=o,d=Object(vr.a)(f,3),u=d[0],s=d[1],c=d[2],e=i(u=+u),t=i(s=+s),n=i(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),l=t<e?-1:1,h):[u,s,c]},h.clamp=function(e){return arguments.length?(d=!!e,h):d},h.interpolator=function(e){return arguments.length?(f=e,h):f},h.range=p(Ls),h.rangeRound=p(Us),h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return i=o,e=o(u),t=o(s),n=o(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),l=t<e?-1:1,h}}function el(){var e=Js(Zc()(qs));return e.copy=function(){return Gc(e,el())},Du.apply(e,arguments)}function tl(){var e=uc(Zc()).domain([.1,1,10]);return e.copy=function(){return Gc(e,tl()).base(e.base())},Du.apply(e,arguments)}function nl(){var e=gc(Zc());return e.copy=function(){return Gc(e,nl()).constant(e.constant())},Du.apply(e,arguments)}function rl(){var e=dc(Zc());return e.copy=function(){return Gc(e,rl()).exponent(e.exponent())},Du.apply(e,arguments)}function al(){return rl.apply(null,arguments).exponent(.5)}function il(){var e,t=[],n=[],r=[];function a(){var e=0,a=Math.max(1,n.length);for(r=new Array(a-1);++e<a;)r[e-1]=jr(t,e/a);return i}function i(t){return isNaN(t=+t)?e:n[Au(r,t)]}return i.invertExtent=function(e){var a=n.indexOf(e);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];var n,r=Object(pr.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;null==i||isNaN(i=+i)||t.push(i)}}catch(o){r.e(o)}finally{r.f()}return t.sort(mr.a),a()},i.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return r.slice()},i.copy=function(){return il().domain(t).range(n).unknown(e)},Su.apply(i,arguments)}function ol(){var e,t=0,n=1,r=1,a=[.5],i=[0,1];function o(t){return t<=t?i[Au(a,t,0,r)]:e}function u(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){var r,a;return arguments.length?(r=e,a=Object(vr.a)(r,2),t=a[0],n=a[1],t=+t,n=+n,u()):[t,n]},o.range=function(e){return arguments.length?(r=(i=Array.from(e)).length-1,u()):i.slice()},o.invertExtent=function(e){var o=i.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,a[0]]:o>=r?[a[r-1],n]:[a[o-1],a[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return ol().domain([t,n]).range(i).unknown(e)},Su.apply(Js(o),arguments)}function ul(){var e,t=[.5],n=[0,1],r=1;function a(a){return a<=a?n[Au(t,a,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return ul().domain(t).range(n).unknown(e)},Su.apply(a,arguments)}var sl,cl=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},ll=function(e,t){var n=Os(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},fl=180/Math.PI,dl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},hl=function(e,t,n,r,a,i){var o,u,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*fl,skewX:Math.atan(s)*fl,scaleX:o,scaleY:u}};function pl(e,t,n,r){function a(e){return e.length?e.pop()+" ":""}return function(i,o){var u=[],s=[];return i=e(i),o=e(o),function(e,r,a,i,o,u){if(e!==a||r!==i){var s=o.push("translate(",null,t,null,n);u.push({i:s-4,x:Is(e,a)},{i:s-2,x:Is(r,i)})}else(a||i)&&o.push("translate("+a+t+i+n)}(i.translateX,i.translateY,o.translateX,o.translateY,u,s),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(a(n)+"rotate(",null,r)-2,x:Is(e,t)})):t&&n.push(a(n)+"rotate("+t+r)}(i.rotate,o.rotate,u,s),function(e,t,n,i){e!==t?i.push({i:n.push(a(n)+"skewX(",null,r)-2,x:Is(e,t)}):t&&n.push(a(n)+"skewX("+t+r)}(i.skewX,o.skewX,u,s),function(e,t,n,r,i,o){if(e!==n||t!==r){var u=i.push(a(i)+"scale(",null,",",null,")");o.push({i:u-4,x:Is(e,n)},{i:u-2,x:Is(t,r)})}else 1===n&&1===r||i.push(a(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,u,s),i=o=null,function(e){for(var t,n=-1,r=s.length;++n<r;)u[(t=s[n]).i]=t.x(e);return u.join("")}}}var vl=pl((function(e){var t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?dl:hl(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),ml=pl((function(e){return null==e?dl:(sl||(sl=document.createElementNS("http://www.w3.org/2000/svg","g")),sl.setAttribute("transform",e),(e=sl.transform.baseVal.consolidate())?(e=e.matrix,hl(e.a,e.b,e.c,e.d,e.e,e.f)):dl)}),", ",")",")");function gl(e){return((e=Math.exp(e))+1/e)/2}var bl=function e(t,n,r){function a(e,a){var i,o,u=e[0],s=e[1],c=e[2],l=a[0],f=a[1],d=a[2],h=l-u,p=f-s,v=h*h+p*p;if(v<1e-12)o=Math.log(d/c)/t,i=function(e){return[u+e*h,s+e*p,c*Math.exp(t*e*o)]};else{var m=Math.sqrt(v),g=(d*d-c*c+r*v)/(2*c*n*m),b=(d*d-c*c-r*v)/(2*d*n*m),y=Math.log(Math.sqrt(g*g+1)-g),x=Math.log(Math.sqrt(b*b+1)-b);o=(x-y)/t,i=function(e){var r,a=e*o,i=gl(y),l=c/(n*m)*(i*(r=t*a+y,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(y));return[u+l*h,s+l*p,c*i/gl(t*a+y)]}}return i.duration=1e3*o*t/Math.SQRT2,i}return a.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},a}(Math.SQRT2,2,4);function yl(e){return function(t,n){var r=e((t=vs(t)).h,(n=vs(n)).h),a=js(t.s,n.s),i=js(t.l,n.l),o=js(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=a(e),t.l=i(e),t.opacity=o(e),t+""}}}var xl=yl(Os),_l=yl(js),wl=Math.PI/180,Ol=180/Math.PI,kl=.96422,jl=.82521,El=4/29,Cl=6/29,Al=3*Cl*Cl;function Sl(e){if(e instanceof Nl)return new Nl(e.l,e.a,e.b,e.opacity);if(e instanceof Bl)return zl(e);e instanceof cs||(e=us(e));var t,n,r=Il(e.r),a=Il(e.g),i=Il(e.b),o=Fl((.2225045*r+.7168786*a+.0606169*i)/1);return r===a&&a===i?t=n=o:(t=Fl((.4360747*r+.3850649*a+.1430804*i)/kl),n=Fl((.0139322*r+.0971045*a+.7141733*i)/jl)),new Nl(116*o-16,500*(t-o),200*(o-n),e.opacity)}function Dl(e,t,n,r){return 1===arguments.length?Sl(e):new Nl(e,t,n,null==r?1:r)}function Nl(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function Fl(e){return e>.008856451679035631?Math.pow(e,1/3):e/Al+El}function Tl(e){return e>Cl?e*e*e:Al*(e-El)}function Ml(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Il(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Rl(e){if(e instanceof Bl)return new Bl(e.h,e.c,e.l,e.opacity);if(e instanceof Nl||(e=Sl(e)),0===e.a&&0===e.b)return new Bl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Ol;return new Bl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Pl(e,t,n,r){return 1===arguments.length?Rl(e):new Bl(e,t,n,null==r?1:r)}function Bl(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function zl(e){if(isNaN(e.h))return new Nl(e.l,0,0,e.opacity);var t=e.h*wl;return new Nl(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function Ll(e,t){var n=js((e=Dl(e)).l,(t=Dl(t)).l),r=js(e.a,t.a),a=js(e.b,t.b),i=js(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=a(t),e.opacity=i(t),e+""}}function Ul(e){return function(t,n){var r=e((t=Pl(t)).h,(n=Pl(n)).h),a=js(t.c,n.c),i=js(t.l,n.l),o=js(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=a(e),t.l=i(e),t.opacity=o(e),t+""}}}Lu(Nl,Dl,Uu(Wu,{brighter:function(e){return new Nl(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Nl(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new cs(Ml(3.1338561*(t=kl*Tl(t))-1.6168667*(e=1*Tl(e))-.4906146*(n=jl*Tl(n))),Ml(-.9787684*t+1.9161415*e+.033454*n),Ml(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Lu(Bl,Pl,Uu(Wu,{brighter:function(e){return new Bl(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Bl(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return zl(this).rgb()}}));var Wl=Ul(Os),Vl=Ul(js),ql=-.14861,Hl=1.78277,Gl=-.29227,Kl=-.90649,$l=1.97294,Xl=-1.7884503806,Yl=3.5172982438,Jl=-.6557636667999999;function Ql(e){if(e instanceof ef)return new ef(e.h,e.s,e.l,e.opacity);e instanceof cs||(e=us(e));var t=e.r/255,n=e.g/255,r=e.b/255,a=(Jl*r+Xl*t-Yl*n)/(Jl+Xl-Yl),i=r-a,o=($l*(n-a)-Gl*i)/Kl,u=Math.sqrt(o*o+i*i)/($l*a*(1-a)),s=u?Math.atan2(o,i)*Ol-120:NaN;return new ef(s<0?s+360:s,u,a,e.opacity)}function Zl(e,t,n,r){return 1===arguments.length?Ql(e):new ef(e,t,n,null==r?1:r)}function ef(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function tf(e){return function t(n){function r(t,r){var a=e((t=Zl(t)).h,(r=Zl(r)).h),i=js(t.s,r.s),o=js(t.l,r.l),u=js(t.opacity,r.opacity);return function(e){return t.h=a(e),t.s=i(e),t.l=o(Math.pow(e,n)),t.opacity=u(e),t+""}}return n=+n,r.gamma=t,r}(1)}Lu(ef,Zl,Uu(Wu,{brighter:function(e){return e=null==e?qu:Math.pow(qu,e),new ef(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Vu:Math.pow(Vu,e),new ef(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*wl,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new cs(255*(t+n*(ql*r+Hl*a)),255*(t+n*(Gl*r+Kl*a)),255*(t+n*($l*r)),this.opacity)}}));var nf,rf,af=tf(Os),of=tf(js),uf=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n};function sf(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0}var cf="linear",lf="log",ff="pow",df="sqrt",hf="symlog",pf="time",vf="utc",mf="sequential",gf="diverging",bf="quantile",yf="quantize",xf="threshold",_f="ordinal",wf="point",Of="band",kf="bin-ordinal",jf="continuous",Ef="discrete",Cf="discretizing",Af="interpolating",Sf="temporal";function Df(){var e,t,n=Fu().unknown(void 0),r=n.domain,a=n.range,i=[0,1],o=!1,u=0,s=0,c=.5;function l(){var n=r().length,l=i[1]<i[0],f=i[1-l],d=sf(n,u,s),h=i[l-0];e=(f-h)/(d||1),o&&(e=Math.floor(e)),h+=(f-h-e*(n-u))*c,t=e*(1-u),o&&(h=Math.round(h),t=Math.round(t));var p=Oa(n).map((function(t){return h+e*t}));return a(l?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),l()):r()},n.range=function(e){return arguments.length?(i=[+e[0],+e[1]],l()):i.slice()},n.rangeRound=function(e){return i=[+e[0],+e[1]],o=!0,l()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,l()):o},n.padding=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),u=s,l()):u},n.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),l()):u},n.paddingOuter=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),l()):s},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),l()):c},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,o,u,s=i[1]<i[0],c=s?a().reverse():a(),l=c.length-1,f=+e[0],d=+e[1];if(f===f&&d===d&&(d<f&&(u=f,f=d,d=u),!(d<c[0]||f>i[1-s])))return n=Math.max(0,Eu(c,f)-1),o=f===d?n:Eu(c,d)-1,f-c[n]>t+1e-10&&++n,s&&(u=n,n=l-o,o=l-u),n>o?void 0:r().slice(n,o+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return Df().domain(r()).range(i).round(o).paddingInner(u).paddingOuter(s).align(c)},l()}function Nf(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return Nf(t())},e}var Ff=Array.prototype.map;function Tf(e){return Ff.call(e,Lt.Z)}var Mf=Array.prototype.slice;var If={};function Rf(e,t,n){var r=function(){var n=t();return n.invertRange||(n.invertRange=n.invert?function(e){return function(t){var n,r=t[0],a=t[1];return a<r&&(n=r,r=a,a=n),[e.invert(r),e.invert(a)]}}(n):n.invertExtent?function(e){return function(t){var n,r,a,i,o=e.range(),u=t[0],s=t[1],c=-1;for(s<u&&(r=u,u=s,s=r),a=0,i=o.length;a<i;++a)o[a]>=u&&o[a]<=s&&(c<0&&(c=a),n=a);if(!(c<0))return u=e.invertExtent(o[c]),s=e.invertExtent(o[n]),[void 0===u[0]?u[1]:u[0],void 0===s[1]?s[0]:s[1]]}}(n):void 0),n.type=e,n};return r.metadata=Object(Lt.ab)(Object(Lt.e)(n)),r}function Pf(e,t,n){return arguments.length>1?(If[e]=Rf(e,t,n),this):Bf(e)?If[e]:void 0}function Bf(e){return Object(Lt.s)(If,e)}function zf(e,t){var n=If[e];return n&&n.metadata[t]}function Lf(e){return zf(e,jf)}function Uf(e){return zf(e,Ef)}function Wf(e){return zf(e,Cf)}function Vf(e){return zf(e,lf)}function qf(e){return zf(e,Af)}function Hf(e){return zf(e,bf)}Pf("identity",Zs),Pf(cf,Qs,jf),Pf(lf,sc,[jf,lf]),Pf(ff,hc,jf),Pf(df,pc,jf),Pf(hf,bc,jf),Pf(pf,Pc,[jf,Sf]),Pf(vf,qc,[jf,Sf]),Pf(mf,Kc,[jf,Af]),Pf("".concat(mf,"-").concat(cf),Kc,[jf,Af]),Pf("".concat(mf,"-").concat(lf),$c,[jf,Af,lf]),Pf("".concat(mf,"-").concat(ff),Yc,[jf,Af]),Pf("".concat(mf,"-").concat(df),Jc,[jf,Af]),Pf("".concat(mf,"-").concat(hf),Xc,[jf,Af]),Pf("".concat(gf,"-").concat(cf),el,[jf,Af]),Pf("".concat(gf,"-").concat(lf),tl,[jf,Af,lf]),Pf("".concat(gf,"-").concat(ff),rl,[jf,Af]),Pf("".concat(gf,"-").concat(df),al,[jf,Af]),Pf("".concat(gf,"-").concat(hf),nl,[jf,Af]),Pf(bf,il,[Cf,bf]),Pf(yf,ol,Cf),Pf(xf,ul,Cf),Pf(kf,(function e(){var t=[],n=[];function r(e){return null==e||e!==e?void 0:n[(Au(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=Tf(e),r):t.slice()},r.range=function(e){return arguments.length?(n=Mf.call(e),r):n.slice()},r.tickFormat=function(e,n){return zu(t[0],Object(Lt.S)(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),[Ef,Cf]),Pf(_f,Fu,Ef),Pf(Of,Df,Ef),Pf(wf,(function(){return Nf(Df().paddingInner(1))}),Ef);var Gf=["clamp","base","constant","exponent"];function Kf(e,t,n){return Qc(Xf(t||"rgb",n),e)}function $f(e,t,n){var r,a,i,o=n-t;return o&&Number.isFinite(o)?(r=(a=e.type).indexOf("-"),a=r<0?a:a.slice(r+1),i=Pf(a)().domain([t,n]).range([0,1]),Gf.forEach((function(t){return e[t]?i[t](e[t]()):0})),i):Object(Lt.i)(.5)}function Xf(e,t){var n=o[function(e){return"interpolate"+e.toLowerCase().split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function Yf(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function Jf(e,t){for(var n in e)Zf(n,t(e[n]))}var Qf={};function Zf(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Qf[e]=t,this):Qf[e]}Jf({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Yf),Jf({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(function(e){return Kf(Yf(e))}));var ed="symbol",td=function(e){return Object(Lt.x)(e)?e.map((function(e){return String(e)})):String(e)},nd=function(e,t){return e[1]-t[1]},rd=function(e,t){return t[1]-e[1]};function ad(e,t,n){var r;return Object(Lt.C)(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,Math.floor(Object(Lt.U)(e.domain())/n||1)))),Object(Lt.D)(t)&&(r=t.step,t=t.interval),Object(Lt.F)(t)&&(t=e.type===pf?Object(ja.p)(t):e.type==vf?Object(ja.v)(t):Object(Lt.k)("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function id(e,t,n){var r=e.range(),a=r[0],i=Object(Lt.S)(r),o=nd;if(a>i&&(r=i,i=a,a=r,o=rd),a=Math.floor(a),i=Math.ceil(i),t=t.map((function(t){return[t,e(t)]})).filter((function(e){return a<=e[1]&&e[1]<=i})).sort(o).map((function(e){return e[0]})),n>0&&t.length>1){for(var u=[t[0],Object(Lt.S)(t)];t.length>n&&t.length>=3;)t=t.filter((function(e,t){return!(t%2)}));t.length<3&&(t=u)}return t}function od(e,t){return e.bins?id(e,e.bins):e.ticks?e.ticks(t):e.domain()}function ud(e,t,n,r,a,i){var o=t.type,u=td;if(o===pf||a===pf)u=e.timeFormat(r);else if(o===vf||a===vf)u=e.utcFormat(r);else if(Vf(o)){var s=e.formatFloat(r);if(i||t.bins)u=s;else{var c=sd(t,n,!1);u=function(e){return c(e)?s(e):""}}}else if(t.tickFormat){var l=t.domain();u=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(u=e.format(r));return u}function sd(e,t,n){var r=od(e,t),a=e.base(),i=Math.log(a),o=Math.max(1,a*t/r.length),u=function(e){var t=e/Math.pow(a,Math.round(Math.log(e)/i));return t*a<a-.5&&(t*=a),t<=o};return n?r.filter(u):u}var cd=(nf={},Object(Zi.a)(nf,bf,"quantiles"),Object(Zi.a)(nf,yf,"thresholds"),Object(Zi.a)(nf,xf,"domain"),nf),ld=(rf={},Object(Zi.a)(rf,bf,"quantiles"),Object(Zi.a)(rf,yf,"domain"),rf);function fd(e,t){return e.bins?function(e){var t=e.slice(0,-1);return t.max=Object(Lt.S)(e),t}(e.bins):e.type===lf?sd(e,t,!0):cd[e.type]?function(e){var t=[-1/0].concat(e);return t.max=1/0,t}(e[cd[e.type]]()):od(e,t)}function dd(e,t,n,r,a,i,o){var u=ld[t.type]&&i!==pf&&i!==vf?function(e,t,n){var r,a=t[ld[t.type]](),i=a.length,o=i>1?a[1]-a[0]:a[0];for(r=1;r<i;++r)o=Math.min(o,a[r]-a[r-1]);return e.formatSpan(0,o,30,n)}(e,t,a):ud(e,t,n,a,i,o);return r===ed&&function(e){return cd[e.type]||e.bins}(t)?hd(u):"discrete"===r?vd(u):md(u)}var hd=function(e){return function(t,n,r){var a=pd(r[n+1],pd(r.max,1/0)),i=gd(t,e),o=gd(a,e);return i&&o?i+" \u2013 "+o:o?"< "+o:"\u2265 "+i}},pd=function(e,t){return null!=e?e:t},vd=function(e){return function(t,n){return n?e(t):null}},md=function(e){return function(t){return e(t)}},gd=function(e,t){return Number.isFinite(e)?t(e):null};function bd(e,t,n,r){var a=r||t.type;return Object(Lt.F)(n)&&zf(a,Sf)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||a!==pf?n||a!==vf?dd(e,t,5,null,n,r,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}function yd(e,t,n){n=n||{};var r=Math.max(3,n.maxlen||7),a=bd(e,t,n.format,n.formatType);if(Wf(t.type)){var i=fd(t).slice(1).map(a),o=i.length;return"".concat(o," boundar").concat(1===o?"y":"ies",": ").concat(i.join(", "))}if(Uf(t.type)){var u=t.domain(),s=u.length,c=s>r?u.slice(0,r-2).map(a).join(", ")+", ending with "+u.slice(-1).map(a):u.map(a).join(", ");return"".concat(s," value").concat(1===s?"":"s",": ").concat(c)}var l=t.domain();return"values from ".concat(a(l[0])," to ").concat(a(Object(Lt.S)(l)))}var xd=0;var _d="p_";function wd(e){return e&&e.gradient}function Od(e,t,n){var r=e.gradient,a=e.id,i="radial"===r?_d:"";return a||(a=e.id="gradient_"+xd++,"radial"===r?(e.x1=kd(e.x1,.5),e.y1=kd(e.y1,.5),e.r1=kd(e.r1,0),e.x2=kd(e.x2,.5),e.y2=kd(e.y2,.5),e.r2=kd(e.r2,.5),i=_d):(e.x1=kd(e.x1,0),e.y1=kd(e.y1,0),e.x2=kd(e.x2,1),e.y2=kd(e.y2,0))),t[a]=e,"url("+(n||"")+"#"+i+a+")"}function kd(e,t){return null!=e?e:t}var jd={basis:{curve:function(e){return new to(e)}},"basis-closed":{curve:function(e){return new ro(e)}},"basis-open":{curve:function(e){return new ao(e)}},bundle:{curve:oo,tension:"beta",value:.85},cardinal:{curve:co,tension:"tension",value:0},"cardinal-open":{curve:fo,tension:"tension",value:0},"cardinal-closed":{curve:po,tension:"tension",value:0},"catmull-rom":{curve:Do,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Fo,tension:"alpha",value:.5},"catmull-rom-open":{curve:Mo,tension:"alpha",value:.5},linear:{curve:Ro},"linear-closed":{curve:function(e){return new Po(e)}},monotone:{horizontal:function(e){return new Vo(e)},vertical:function(e){return new Wo(e)}},natural:{curve:function(e){return new Ho(e)}},step:{curve:function(e){return new Ko(e,.5)}},"step-after":{curve:function(e){return new Ko(e,1)}},"step-before":{curve:function(e){return new Ko(e,0)}}};function Ed(e,t,n){var r=Object(Lt.s)(jd,e)&&jd[e],a=null;return r&&(a=r.curve||r[t||"vertical"],r.tension&&null!=n&&(a=a[r.tension](n))),a}var Cd={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Ad=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function Sd(e){var t,n,r,a,i,o,u,s,c,l,f=[],d=e.slice().replace(Ad[0],"###$1").split(Ad[1]).slice(1);for(u=0,c=d.length;u<c;++u){for(n=(t=d[u]).slice(1).trim().replace(Ad[2],"$1###$2").replace(Ad[3],"$1###$2").split(Ad[4]),r=[i=t.charAt(0)],s=0,l=n.length;s<l;++s)(a=+n[s])===a&&r.push(a);if(o=Cd[i.toLowerCase()],r.length-1>o){var h=r.length;for(s=1,f.push([i].concat(r.slice(s,s+=o))),i="M"===i?"L":"m"===i?"l":i;s<h;s+=o)f.push([i].concat(r.slice(s,s+o)))}else f.push(r)}return f}var Dd=Math.PI/180,Nd=Math.PI/2,Fd=2*Math.PI,Td=Math.sqrt(3)/2,Md={},Id={},Rd=[].join;function Pd(e){var t=Rd.call(e);if(Id[t])return Id[t];var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],u=e[5],s=e[6],c=e[7],l=c*o,f=-s*u,d=s*o,h=c*u,p=Math.cos(a),v=Math.sin(a),m=Math.cos(i),g=Math.sin(i),b=.5*(i-a),y=Math.sin(.5*b),x=8/3*y*y/Math.sin(b),_=n+p-x*v,w=r+v+x*p,O=n+m,k=r+g,j=O+x*g,E=k-x*m;return Id[t]=[l*_+f*w,d*_+h*w,l*j+f*E,d*j+h*E,l*O+f*k,d*O+h*k]}var Bd=["l",0,0,0,0,0,0,0];function zd(e,t,n){var r=Bd[0]=e[0];if("a"===r||"A"===r)Bd[1]=t*e[1],Bd[2]=n*e[2],Bd[3]=e[3],Bd[4]=e[4],Bd[5]=e[5],Bd[6]=t*e[6],Bd[7]=n*e[7];else if("h"===r||"H"===r)Bd[1]=t*e[1];else if("v"===r||"V"===r)Bd[1]=n*e[1];else for(var a=1,i=e.length;a<i;++a)Bd[a]=(a%2==1?t:n)*e[a];return Bd}function Ld(e,t,n,r,a,i){var o,u,s,c,l,f=null,d=0,h=0,p=0,v=0;null==n&&(n=0),null==r&&(r=0),null==a&&(a=1),null==i&&(i=a),e.beginPath&&e.beginPath();for(var m=0,g=t.length;m<g;++m){switch(o=t[m],1===a&&1===i||(o=zd(o,a,i)),o[0]){case"l":d+=o[1],h+=o[2],e.lineTo(d+n,h+r);break;case"L":d=o[1],h=o[2],e.lineTo(d+n,h+r);break;case"h":d+=o[1],e.lineTo(d+n,h+r);break;case"H":d=o[1],e.lineTo(d+n,h+r);break;case"v":h+=o[1],e.lineTo(d+n,h+r);break;case"V":h=o[1],e.lineTo(d+n,h+r);break;case"m":d+=o[1],h+=o[2],e.moveTo(d+n,h+r);break;case"M":d=o[1],h=o[2],e.moveTo(d+n,h+r);break;case"c":u=d+o[5],s=h+o[6],p=d+o[3],v=h+o[4],e.bezierCurveTo(d+o[1]+n,h+o[2]+r,p+n,v+r,u+n,s+r),d=u,h=s;break;case"C":d=o[5],h=o[6],p=o[3],v=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,p+n,v+r,d+n,h+r);break;case"s":u=d+o[3],s=h+o[4],p=2*d-p,v=2*h-v,e.bezierCurveTo(p+n,v+r,d+o[1]+n,h+o[2]+r,u+n,s+r),p=d+o[1],v=h+o[2],d=u,h=s;break;case"S":u=o[3],s=o[4],p=2*d-p,v=2*h-v,e.bezierCurveTo(p+n,v+r,o[1]+n,o[2]+r,u+n,s+r),d=u,h=s,p=o[1],v=o[2];break;case"q":u=d+o[3],s=h+o[4],p=d+o[1],v=h+o[2],e.quadraticCurveTo(p+n,v+r,u+n,s+r),d=u,h=s;break;case"Q":u=o[3],s=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,u+n,s+r),d=u,h=s,p=o[1],v=o[2];break;case"t":u=d+o[1],s=h+o[2],null===f[0].match(/[QqTt]/)?(p=d,v=h):"t"===f[0]?(p=2*d-c,v=2*h-l):"q"===f[0]&&(p=2*d-p,v=2*h-v),c=p,l=v,e.quadraticCurveTo(p+n,v+r,u+n,s+r),h=s,p=(d=u)+o[1],v=h+o[2];break;case"T":u=o[1],s=o[2],p=2*d-p,v=2*h-v,e.quadraticCurveTo(p+n,v+r,u+n,s+r),d=u,h=s;break;case"a":Ud(e,d+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+d+n,o[7]+h+r]),d+=o[6],h+=o[7];break;case"A":Ud(e,d+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),d=o[6],h=o[7];break;case"z":case"Z":e.closePath()}f=o}}function Ud(e,t,n,r){for(var a=function(e,t,n,r,a,i,o,u,s){var c=Rd.call(arguments);if(Md[c])return Md[c];var l=o*Dd,f=Math.sin(l),d=Math.cos(l),h=d*(u-e)*.5+f*(s-t)*.5,p=d*(s-t)*.5-f*(u-e)*.5,v=h*h/((n=Math.abs(n))*n)+p*p/((r=Math.abs(r))*r);v>1&&(n*=v=Math.sqrt(v),r*=v);var m=d/n,g=f/n,b=-f/r,y=d/r,x=m*u+g*s,_=b*u+y*s,w=m*e+g*t,O=b*e+y*t,k=1/((w-x)*(w-x)+(O-_)*(O-_))-.25;k<0&&(k=0);var j=Math.sqrt(k);i==a&&(j=-j);var E=.5*(x+w)-j*(O-_),C=.5*(_+O)+j*(w-x),A=Math.atan2(_-C,x-E),S=Math.atan2(O-C,w-E)-A;S<0&&1===i?S+=Fd:S>0&&0===i&&(S-=Fd);for(var D=Math.ceil(Math.abs(S/(Nd+.001))),N=[],F=0;F<D;++F){var T=A+F*S/D,M=A+(F+1)*S/D;N[F]=[E,C,T,M,n,r,f,d]}return Md[c]=N}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n),i=0;i<a.length;++i){var o=Pd(a[i]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}var Wd=.5773502691896257,Vd={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Fd)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,a=n/2.5,i=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-i),e.lineTo(a,-i),e.lineTo(0,-n),e.lineTo(-a,-i),e.lineTo(-r,-i),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Td*n,a=r-n*Wd,i=n/4;e.moveTo(0,-r-a),e.lineTo(-i,r-a),e.lineTo(i,r-a),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Td*n,a=r-n*Wd;e.moveTo(0,-r-a),e.lineTo(-n,r-a),e.lineTo(n,r-a),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Td*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Td*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Td*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Td*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function qd(e){return Object(Lt.s)(Vd,e)?Vd[e]:function(e){if(!Object(Lt.s)(Hd,e)){var t=Sd(e);Hd[e]={draw:function(e,n){Ld(e,t,0,0,Math.sqrt(n)/2)}}}return Hd[e]}(e)}var Hd={};var Gd=.448084975506;function Kd(e){return e.x}function $d(e){return e.y}function Xd(e){return e.width}function Yd(e){return e.height}function Jd(e){return"function"===typeof e?e:function(){return+e}}function Qd(e,t,n){return Math.max(t,Math.min(e,n))}function Zd(e,t){return null!=e?e:t}var eh=function(e){return e.x||0},th=function(e){return e.y||0},nh=function(e){return!(!1===e.defined)},rh=function(){var e=nu,t=ru,n=tu(0),r=null,a=au,i=iu,o=ou,u=null;function s(){var s,c,l=+e.apply(this,arguments),f=+t.apply(this,arguments),d=a.apply(this,arguments)-ko,h=i.apply(this,arguments)-ko,p=vo(h-d),v=h>d;if(u||(u=s=eu()),f<l&&(c=f,f=l,l=c),f>wo)if(p>jo-wo)u.moveTo(f*go(d),f*xo(d)),u.arc(0,0,f,d,h,!v),l>wo&&(u.moveTo(l*go(h),l*xo(h)),u.arc(0,0,l,h,d,v));else{var m,g,b=d,y=h,x=d,_=h,w=p,O=p,k=o.apply(this,arguments)/2,j=k>wo&&(r?+r.apply(this,arguments):_o(l*l+f*f)),E=yo(vo(f-l)/2,+n.apply(this,arguments)),C=E,A=E;if(j>wo){var S=Co(j/l*xo(k)),D=Co(j/f*xo(k));(w-=2*S)>wo?(x+=S*=v?1:-1,_-=S):(w=0,x=_=(d+h)/2),(O-=2*D)>wo?(b+=D*=v?1:-1,y-=D):(O=0,b=y=(d+h)/2)}var N=f*go(b),F=f*xo(b),T=l*go(_),M=l*xo(_);if(E>wo){var I,R=f*go(y),P=f*xo(y),B=l*go(x),z=l*xo(x);if(p<Oo&&(I=uu(N,F,B,z,R,P,T,M))){var L=N-I[0],U=F-I[1],W=R-I[0],V=P-I[1],q=1/xo(Eo((L*W+U*V)/(_o(L*L+U*U)*_o(W*W+V*V)))/2),H=_o(I[0]*I[0]+I[1]*I[1]);C=yo(E,(l-H)/(q-1)),A=yo(E,(f-H)/(q+1))}}O>wo?A>wo?(m=su(B,z,N,F,f,A,v),g=su(R,P,T,M,f,A,v),u.moveTo(m.cx+m.x01,m.cy+m.y01),A<E?u.arc(m.cx,m.cy,A,mo(m.y01,m.x01),mo(g.y01,g.x01),!v):(u.arc(m.cx,m.cy,A,mo(m.y01,m.x01),mo(m.y11,m.x11),!v),u.arc(0,0,f,mo(m.cy+m.y11,m.cx+m.x11),mo(g.cy+g.y11,g.cx+g.x11),!v),u.arc(g.cx,g.cy,A,mo(g.y11,g.x11),mo(g.y01,g.x01),!v))):(u.moveTo(N,F),u.arc(0,0,f,b,y,!v)):u.moveTo(N,F),l>wo&&w>wo?C>wo?(m=su(T,M,R,P,l,-C,v),g=su(N,F,B,z,l,-C,v),u.lineTo(m.cx+m.x01,m.cy+m.y01),C<E?u.arc(m.cx,m.cy,C,mo(m.y01,m.x01),mo(g.y01,g.x01),!v):(u.arc(m.cx,m.cy,C,mo(m.y01,m.x01),mo(m.y11,m.x11),!v),u.arc(0,0,l,mo(m.cy+m.y11,m.cx+m.x11),mo(g.cy+g.y11,g.cx+g.x11),v),u.arc(g.cx,g.cy,C,mo(g.y11,g.x11),mo(g.y01,g.x01),!v))):u.arc(0,0,l,_,x,v):u.lineTo(T,M)}else u.moveTo(0,0);if(u.closePath(),s)return u=null,s+""||null}return s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-Oo/2;return[go(r)*n,xo(r)*n]},s.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:tu(+t),s):e},s.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:tu(+e),s):t},s.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:tu(+e),s):n},s.padRadius=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:tu(+e),s):r},s.startAngle=function(e){return arguments.length?(a="function"===typeof e?e:tu(+e),s):a},s.endAngle=function(e){return arguments.length?(i="function"===typeof e?e:tu(+e),s):i},s.padAngle=function(e){return arguments.length?(o="function"===typeof e?e:tu(+e),s):o},s.context=function(e){return arguments.length?(u=null==e?null:e,s):u},s}().startAngle((function(e){return e.startAngle||0})).endAngle((function(e){return e.endAngle||0})).padAngle((function(e){return e.padAngle||0})).innerRadius((function(e){return e.innerRadius||0})).outerRadius((function(e){return e.outerRadius||0})).cornerRadius((function(e){return e.cornerRadius||0})),ah=hu().x(eh).y1(th).y0((function(e){return(e.y||0)+(e.height||0)})).defined(nh),ih=hu().y(th).x1(eh).x0((function(e){return(e.x||0)+(e.width||0)})).defined(nh),oh=du().x(eh).y(th).defined(nh),uh=function(){var e=Kd,t=$d,n=Xd,r=Yd,a=Jd(0),i=a,o=a,u=a,s=null;function c(c,l,f){var d,h=null!=l?l:+e.call(this,c),p=null!=f?f:+t.call(this,c),v=+n.call(this,c),m=+r.call(this,c),g=Math.min(v,m)/2,b=Qd(+a.call(this,c),0,g),y=Qd(+i.call(this,c),0,g),x=Qd(+o.call(this,c),0,g),_=Qd(+u.call(this,c),0,g);if(s||(s=d=wu()),b<=0&&y<=0&&x<=0&&_<=0)s.rect(h,p,v,m);else{var w=h+v,O=p+m;s.moveTo(h+b,p),s.lineTo(w-y,p),s.bezierCurveTo(w-Gd*y,p,w,p+Gd*y,w,p+y),s.lineTo(w,O-_),s.bezierCurveTo(w,O-Gd*_,w-Gd*_,O,w-_,O),s.lineTo(h+x,O),s.bezierCurveTo(h+Gd*x,O,h,O-Gd*x,h,O-x),s.lineTo(h,p+b),s.bezierCurveTo(h,p+Gd*b,h+Gd*b,p,h+b,p),s.closePath()}if(d)return s=null,d+""||null}return c.x=function(t){return arguments.length?(e=Jd(t),c):e},c.y=function(e){return arguments.length?(t=Jd(e),c):t},c.width=function(e){return arguments.length?(n=Jd(e),c):n},c.height=function(e){return arguments.length?(r=Jd(e),c):r},c.cornerRadius=function(e,t,n,r){return arguments.length?(a=Jd(e),i=null!=t?Jd(t):a,u=null!=n?Jd(n):a,o=null!=r?Jd(r):i,c):a},c.context=function(e){return arguments.length?(s=null==e?null:e,c):s},c}().x(eh).y(th).width((function(e){return e.width||0})).height((function(e){return e.height||0})).cornerRadius((function(e){return Zd(e.cornerRadiusTopLeft,e.cornerRadius)||0}),(function(e){return Zd(e.cornerRadiusTopRight,e.cornerRadius)||0}),(function(e){return Zd(e.cornerRadiusBottomRight,e.cornerRadius)||0}),(function(e){return Zd(e.cornerRadiusBottomLeft,e.cornerRadius)||0})),sh=function(e,t){var n=null;function r(){var r;if(n||(n=r=eu()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"===typeof e?e:tu(e||pu),t="function"===typeof t?t:tu(void 0===t?64:+t),r.type=function(t){return arguments.length?(e="function"===typeof t?t:tu(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:tu(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type((function(e){return qd(e.shape||"circle")})).size((function(e){return Zd(e.size,64)})),ch=function(){var e,t,n,r,a,i,o,u,s=null;function c(e,t,n){var r=n/2;if(a){var c=o-t,l=e-i;if(c||l){var f=Math.sqrt(c*c+l*l),d=(c/=f)*u,h=(l/=f)*u,p=Math.atan2(l,c);s.moveTo(i-d,o-h),s.lineTo(e-c*r,t-l*r),s.arc(e,t,r,p-Math.PI,p),s.lineTo(i+d,o+h),s.arc(i,o,u,p,p+Math.PI)}else s.arc(e,t,r,0,Fd);s.closePath()}else a=1;i=e,o=t,u=r}function l(i){var o,u,l,f=i.length,d=!1;for(null==s&&(s=l=wu()),o=0;o<=f;++o)!(o<f&&r(u=i[o],o,i))===d&&(d=!d)&&(a=0),d&&c(+e(u,o,i),+t(u,o,i),+n(u,o,i));if(l)return s=null,l+""||null}return l.x=function(t){return arguments.length?(e=t,l):e},l.y=function(e){return arguments.length?(t=e,l):t},l.size=function(e){return arguments.length?(n=e,l):n},l.defined=function(e){return arguments.length?(r=e,l):r},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l}().x(eh).y(th).defined(nh).size((function(e){return e.size||1}));function lh(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function fh(e,t,n,r){return uh.context(e)(t,n,r)}var dh=1;function hh(e,t,n){var r=t.clip,a=e._defs,i=t.clip_id||(t.clip_id="clip"+dh++),o=a.clipping[i]||(a.clipping[i]={id:i});return Object(Lt.A)(r)?o.path=r(null):lh(n)?o.path=fh(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+i+")"}function ph(e){this.clear(),e&&this.union(e)}function vh(e){this.mark=e,this.bounds=this.bounds||new ph}function mh(e){vh.call(this,e),this.items=this.items||[]}function gh(e){this._pending=0,this._loader=e||yn()}function bh(e){e._pending+=1}function yh(e){e._pending-=1}function xh(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){var r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e}ph.prototype={clone:function(){return new ph(this)},clear:function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty:function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals:function(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set:function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add:function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand:function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round:function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale:function(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate:function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate:function(e,t,n){var r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints:function(e,t,n){var r=this.x1,a=this.y1,i=this.x2,o=this.y2,u=Math.cos(e),s=Math.sin(e),c=t-t*u+n*s,l=n-t*s-n*u;return[u*r-s*a+c,s*r+u*a+l,u*r-s*o+c,s*r+u*o+l,u*i-s*a+c,s*i+u*a+l,u*i-s*o+c,s*i+u*o+l]},union:function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect:function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses:function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith:function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects:function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains:function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1}},Object(Lt.v)(mh,vh),gh.prototype={pending:function(){return this._pending},sanitizeURL:function(e){var t=this;return bh(t),t._loader.sanitize(e,{context:"href"}).then((function(e){return yh(t),e})).catch((function(){return yh(t),null}))},loadImage:function(e){var t=this,n=ku();return bh(t),t._loader.sanitize(e,{context:"image"}).then((function(e){var r=e.href;if(!r||!n)throw{url:r};var a=new n,i=Object(Lt.s)(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=i&&(a.crossOrigin=i),a.onload=function(){return yh(t)},a.onerror=function(){return yh(t)},a.src=r,a})).catch((function(e){return yh(t),{complete:!1,width:0,height:0,src:e&&e.url||""}}))},ready:function(){var e=this;return new Promise((function(t){!function n(r){e.pending()?setTimeout((function(){n(!0)}),10):t(r)}(!1)}))}};var _h,wh,Oh,kh,jh,Eh,Ch,Ah,Sh=Fd-1e-8,Dh=function(e,t){return _h.add(e,t)},Nh=function(e,t){return Dh(wh=e,Oh=t)},Fh=function(e){return Dh(e,_h.y1)},Th=function(e){return Dh(_h.x1,e)},Mh=function(e,t){return jh*e+Ch*t},Ih=function(e,t){return Eh*e+Ah*t},Rh=function(e,t){return Dh(Mh(e,t),Ih(e,t))},Ph=function(e,t){return Nh(Mh(e,t),Ih(e,t))};function Bh(e,t){return _h=e,t?(kh=t*Dd,jh=Ah=Math.cos(kh),Eh=Math.sin(kh),Ch=-Eh):(jh=Ah=1,kh=Eh=Ch=0),zh}var zh={beginPath:function(){},closePath:function(){},moveTo:Ph,lineTo:Ph,rect:function(e,t,n,r){kh?(Rh(e+n,t),Rh(e+n,t+r),Rh(e,t+r),Ph(e,t)):(Dh(e+n,t+r),Nh(e,t))},quadraticCurveTo:function(e,t,n,r){var a=Mh(e,t),i=Ih(e,t),o=Mh(n,r),u=Ih(n,r);Lh(wh,a,o,Fh),Lh(Oh,i,u,Th),Nh(o,u)},bezierCurveTo:function(e,t,n,r,a,i){var o=Mh(e,t),u=Ih(e,t),s=Mh(n,r),c=Ih(n,r),l=Mh(a,i),f=Ih(a,i);Uh(wh,o,s,l,Fh),Uh(Oh,u,c,f,Th),Nh(l,f)},arc:function(e,t,n,r,a,i){if(r+=kh,a+=kh,wh=n*Math.cos(a)+e,Oh=n*Math.sin(a)+t,Math.abs(a-r)>Sh)Dh(e-n,t-n),Dh(e+n,t+n);else{var o,u,s=function(r){return Dh(n*Math.cos(r)+e,n*Math.sin(r)+t)};if(s(r),s(a),a!==r)if((r%=Fd)<0&&(r+=Fd),(a%=Fd)<0&&(a+=Fd),a<r&&(i=!i,o=r,r=a,a=o),i)for(a-=Fd,o=r-r%Nd,u=0;u<4&&o>a;++u,o-=Nd)s(o);else for(o=r-r%Nd+Nd,u=0;u<4&&o<a;++u,o+=Nd)s(o)}}};function Lh(e,t,n,r){var a=(e-t)/(e+n-2*t);0<a&&a<1&&r(e+(t-e)*a)}function Uh(e,t,n,r,a){var i,o=r-e+3*t-3*n,u=e+n-2*t,s=e-t,c=0,l=0;Math.abs(o)>1e-14?(i=u*u+s*o)>=0&&(c=(-u+(i=Math.sqrt(i)))/o,l=(-u-i)/o):c=.5*s/u,0<c&&c<1&&a(Wh(c,e,t,n,r)),0<l&&l<1&&a(Wh(l,e,t,n,r))}function Wh(e,t,n,r,a){var i=1-e,o=i*i,u=e*e;return o*i*t+3*o*e*n+3*i*u*r+u*e*a}var Vh=(Vh=Ou(1,1))?Vh.getContext("2d"):null,qh=new ph;function Hh(e){return function(t,n){if(!Vh)return!0;e(Vh,t),qh.clear().union(t.bounds).intersect(n).round();for(var r=qh.x1,a=qh.y1,i=qh.x2,o=qh.y2,u=a;u<=o;++u)for(var s=r;s<=i;++s)if(Vh.isPointInPath(s,u))return!0;return!1}}function Gh(e,t){return t.contains(e.x||0,e.y||0)}function Kh(e,t){var n=e.x||0,r=e.y||0,a=e.width||0,i=e.height||0;return t.intersects(qh.set(n,r,n+a,r+i))}function $h(e,t,n,r,a){var i,o,u,s,c=e.x1,l=e.y1,f=e.x2,d=e.y2,h=r-t,p=a-n,v=0,m=1;for(s=0;s<4;++s){if(0===s&&(i=-h,o=-(c-t)),1===s&&(i=h,o=f-t),2===s&&(i=-p,o=-(l-n)),3===s&&(i=p,o=d-n),Math.abs(i)<1e-10&&o<0)return!1;if(u=o/i,i<0){if(u>m)return!1;u>v&&(v=u)}else if(i>0){if(u<v)return!1;u<m&&(m=u)}}return!0}function Xh(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Yh(e,t){return null==e?t:e}function Jh(e,t){for(var n=t.length,r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function Qh(e,t,n){return wd(n)?function(e,t,n){var r,a=n.width(),i=n.height();if("radial"===t.gradient)r=e.createRadialGradient(n.x1+Yh(t.x1,.5)*a,n.y1+Yh(t.y1,.5)*i,Math.max(a,i)*Yh(t.r1,0),n.x1+Yh(t.x2,.5)*a,n.y1+Yh(t.y2,.5)*i,Math.max(a,i)*Yh(t.r2,.5));else{var o=Yh(t.x1,0),u=Yh(t.y1,0),s=Yh(t.x2,1),c=Yh(t.y2,0);if(o!==s&&u!==c&&a!==i){var l=Ou(Math.ceil(a),Math.ceil(i)),f=l.getContext("2d");return f.scale(a,i),f.fillStyle=Jh(f.createLinearGradient(o,u,s,c),t.stops),f.fillRect(0,0,a,i),e.createPattern(l,"no-repeat")}r=e.createLinearGradient(n.x1+o*a,n.y1+u*i,n.x1+s*a,n.y1+c*i)}return Jh(r,t.stops)}(e,n,t.bounds):n}function Zh(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=Qh(e,t,t.fill),!0)}var ep=[];function tp(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&((n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=Qh(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||ep),e.lineDashOffset=t.strokeDashOffset||0),!0))}function np(e,t){return e.zindex-t.zindex||e.index-t.index}function rp(e){if(!e.zdirty)return e.zitems;var t,n,r,a=e.items,i=[];for(n=0,r=a.length;n<r;++n)(t=a[n]).index=n,t.zindex&&i.push(t);return e.zdirty=!1,e.zitems=i.sort(np)}function ap(e,t){var n,r,a=e.items;if(a&&a.length){var i=rp(e);if(i&&i.length){for(n=0,r=a.length;n<r;++n)a[n].zindex||t(a[n]);a=i}for(n=0,r=a.length;n<r;++n)t(a[n])}}function ip(e,t){var n,r,a=e.items;if(!a||!a.length)return null;var i=rp(e);for(i&&i.length&&(a=i),r=a.length;--r>=0;)if(n=t(a[r]))return n;if(a===i)for(r=(a=e.items).length;--r>=0;)if(!a[r].zindex&&(n=t(a[r])))return n;return null}function op(e){return function(t,n,r){ap(n,(function(n){r&&!r.intersects(n.bounds)||up(e,t,n,n)}))}}function up(e,t,n,r){var a=null==n.opacity?1:n.opacity;0!==a&&(e(t,r)||(Xh(t,n),n.fill&&Zh(t,n,a)&&t.fill(),n.stroke&&tp(t,n,a)&&t.stroke()))}function sp(e){return e=e||Lt.db,function(t,n,r,a,i,o){return r*=t.pixelRatio,a*=t.pixelRatio,ip(n,(function(n){var u=n.bounds;if((!u||u.contains(i,o))&&u)return e(t,n,r,a,i,o)?n:void 0}))}}function cp(e,t){return function(n,r,a,i){var o,u,s=Array.isArray(r)?r[0]:r,c=null==t?s.fill:t,l=s.stroke&&n.isPointInStroke;return l&&(o=s.strokeWidth,u=s.strokeCap,n.lineWidth=null!=o?o:1,n.lineCap=null!=u?u:"butt"),!e(n,r)&&(c&&n.isPointInPath(a,i)||l&&n.isPointInStroke(a,i))}}function lp(e){return sp(cp(e))}function fp(e,t){return"translate("+e+","+t+")"}function dp(e){return"rotate("+e+")"}function hp(e){return fp(e.x||0,e.y||0)}function pp(e,t,n){function r(e,n){var r=n.x||0,a=n.y||0,i=n.angle||0;e.translate(r,a),i&&e.rotate(i*=Dd),e.beginPath(),t(e,n),i&&e.rotate(-i),e.translate(-r,-a)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",function(e){return fp(e.x||0,e.y||0)+(e.angle?" "+dp(e.angle):"")}(n)),e("d",t(null,n))},bound:function(e,n){return t(Bh(e,n.angle),n),xh(e,n).translate(n.x||0,n.y||0)},draw:op(r),pick:lp(r),isect:n||Hh(r)}}var vp=pp("arc",(function(e,t){return rh.context(e)(t)}));function mp(e,t,n){function r(e,n){e.beginPath(),t(e,n)}var a,i=cp(r);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,n){var r=n.items;return 0===r.length?e:(t(Bh(e),r),xh(e,r[0]))},draw:(a=r,function(e,t,n){!t.items.length||n&&!n.intersects(t.bounds)||up(a,e,t.items[0],t.items)}),pick:function(e,t,n,r,a,o){var u=t.items,s=t.bounds;return!u||!u.length||s&&!s.contains(a,o)?null:(n*=e.pixelRatio,r*=e.pixelRatio,i(e,u,n,r)?u[0]:null)},isect:Gh,tip:n}}var gp=mp("area",(function(e,t){var n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?ih:ah).curve(Ed(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,a="horizontal"===e[0].orient?t[1]:t[0],i="horizontal"===e[0].orient?"y":"x",o=e.length,u=1/0;--o>=0;)!1!==e[o].defined&&(r=Math.abs(e[o][i]-a))<u&&(u=r,n=e[o]);return n}));function bp(e,t){e.beginPath(),lh(t)?fh(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function yp(e){var t=Yh(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function xp(e,t){var n=yp(t);e("d",fh(null,t,n,n))}function _p(e,t,n,r){var a=yp(t);e.beginPath(),fh(e,t,(n||0)+a,(r||0)+a)}var wp=cp(_p),Op=cp(_p,!1),kp=cp(_p,!0);var jp={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",hp(t))},bound:function(e,t){if(!t.clip&&t.items)for(var n=t.items,r=n.length,a=0;a<r;++a)e.union(n[a].bounds);return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),xh(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){var r=this;ap(t,(function(t){var a=t.x||0,i=t.y||0,o=t.strokeForeground,u=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&u&&(_p(e,t,a,i),Xh(e,t),t.fill&&Zh(e,t,u)&&e.fill(),t.stroke&&!o&&tp(e,t,u)&&e.stroke()),e.save(),e.translate(a,i),t.clip&&bp(e,t),n&&n.translate(-a,-i),ap(t,(function(t){r.draw(e,t,n)})),n&&n.translate(a,i),e.restore(),o&&t.stroke&&u&&(_p(e,t,a,i),Xh(e,t),tp(e,t,u)&&e.stroke())}))},pick:function(e,t,n,r,a,i){var o=this;if(t.bounds&&!t.bounds.contains(a,i)||!t.items)return null;var u=n*e.pixelRatio,s=r*e.pixelRatio;return ip(t,(function(c){var l,f,d,h=c.bounds;if(!h||h.contains(a,i)){f=c.x||0,d=c.y||0;var p=f+(c.width||0),v=d+(c.height||0),m=c.clip;if(!m||!(a<f||a>p||i<d||i>v)){if(e.save(),e.translate(f,d),f=a-f,d=i-d,m&&lh(c)&&!kp(e,c,u,s))return e.restore(),null;var g=c.strokeForeground,b=!1!==t.interactive;return b&&g&&c.stroke&&Op(e,c,u,s)?(e.restore(),c):(!(l=ip(c,(function(e){return function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,f,d)?o.pick(e,n,r,f,d):null})))&&b&&(c.fill||!g&&c.stroke)&&wp(e,c,u,s)&&(l=c),e.restore(),l||null)}}}))},isect:Kh,content:function(e,t,n){e("clip-path",t.clip?hh(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),xp(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?xp(e,t):e("d","")}},Ep={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Cp(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then((function(t){e.image=t,e.image.url=e.url}))),n}function Ap(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function Sp(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function Dp(e,t){return"center"===e?t/2:"right"===e?t:0}function Np(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var Fp={type:"image",tag:"image",nested:!1,attr:function(e,t,n){var r=Cp(t,n),a=Ap(t,r),i=Sp(t,r),o=(t.x||0)-Dp(t.align,a),u=(t.y||0)-Np(t.baseline,i);e("href",!r.src&&r.toDataURL?r.toDataURL():r.src||"",Ep["xmlns:xlink"],"xlink:href"),e("transform",fp(o,u)),e("width",a),e("height",i),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(e,t){var n=t.image,r=Ap(t,n),a=Sp(t,n),i=(t.x||0)-Dp(t.align,r),o=(t.y||0)-Np(t.baseline,a);return e.set(i,o,i+r,o+a)},draw:function(e,t,n){var r=this;ap(t,(function(t){if(!n||n.intersects(t.bounds)){var a=Cp(t,r),i=Ap(t,a),o=Sp(t,a);if(0!==i&&0!==o){var u,s,c,l,f=(t.x||0)-Dp(t.align,i),d=(t.y||0)-Np(t.baseline,o);!1!==t.aspect&&(s=a.width/a.height,c=t.width/t.height,s===s&&c===c&&s!==c&&(c<s?(d+=(o-(l=i/s))/2,o=l):(f+=(i-(l=o*s))/2,i=l))),(a.complete||a.toDataURL)&&(Xh(e,t),e.globalAlpha=null!=(u=t.opacity)?u:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(a,f,d,i,o))}}}))},pick:sp(),isect:Lt.db,get:Cp,xOffset:Dp,yOffset:Np},Tp=mp("line",(function(e,t){var n=t[0],r=n.interpolate||"linear";return oh.curve(Ed(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,a=Math.pow(e[0].strokeWidth||1,2),i=e.length;--i>=0;)if(!1!==e[i].defined&&(n=e[i].x-t[0])*n+(r=e[i].y-t[1])*r<a)return e[i];return null}));function Mp(e,t){var n=t.path;if(null==n)return!0;var r=t.x||0,a=t.y||0,i=t.scaleX||1,o=t.scaleY||1,u=(t.angle||0)*Dd,s=t.pathCache;s&&s.path===n||((t.pathCache=s=Sd(n)).path=n),u&&e.rotate&&e.translate?(e.translate(r,a),e.rotate(u),Ld(e,s,0,0,i,o),e.rotate(-u),e.translate(-r,-a)):Ld(e,s,r,a,i,o)}var Ip={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,r=t.scaleY||1;1===n&&1===r||e("vector-effect","non-scaling-stroke"),e("transform",function(e){return fp(e.x||0,e.y||0)+(e.angle?" "+dp(e.angle):"")+(e.scaleX||e.scaleY?" "+(t=e.scaleX||1,n=e.scaleY||1,"scale("+t+","+n+")"):"");var t,n}(t)),e("d",t.path)},bound:function(e,t){return Mp(Bh(e,t.angle),t)?e.set(0,0,0,0):xh(e,t,!0)},draw:op(Mp),pick:lp(Mp),isect:Hh(Mp)};function Rp(e,t){e.beginPath(),fh(e,t)}var Pp={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",fh(null,t))},bound:function(e,t){var n,r;return xh(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)},draw:op(Rp),pick:lp(Rp),isect:Kh};function Bp(e,t,n){var r,a,i,o;return!(!t.stroke||!tp(e,t,n))&&(r=t.x||0,a=t.y||0,i=null!=t.x2?t.x2:r,o=null!=t.y2?t.y2:a,e.beginPath(),e.moveTo(r,a),e.lineTo(i,o),!0)}var zp={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",hp(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,r;return xh(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)},draw:function(e,t,n){ap(t,(function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&Bp(e,t,r)&&(Xh(e,t),e.stroke())}}))},pick:sp((function(e,t,n,r){return!!e.isPointInStroke&&(Bp(e,t,1)&&e.isPointInStroke(n,r))})),isect:function(e,t){var n=e.x||0,r=e.y||0;return $h(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}},Lp=pp("shape",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),Up=pp("symbol",(function(e,t){return sh.context(e)(t)}),Gh),Wp=Object(Lt.J)(),Vp={height:Xp,measureWidth:Kp,estimateWidth:Hp,width:Hp,canvas:qp};function qp(e){Vp.width=e&&Vh?Kp:Hp}function Hp(e,t){return Gp(Zp(e,t),Xp(e))}function Gp(e,t){return~~(.8*e.length*t)}function Kp(e,t){return Xp(e)<=0||!(t=Zp(e,t))?0:$p(t,tv(e))}function $p(e,t){var n="(".concat(t,") ").concat(e),r=Wp.get(n);return void 0===r&&(Vh.font=t,r=Vh.measureText(e).width,Wp.set(n,r)),r}function Xp(e){return null!=e.fontSize?+e.fontSize||0:11}function Yp(e){return null!=e.lineHeight?e.lineHeight:Xp(e)+2}function Jp(e){return t=e.lineBreak&&e.text&&!Object(Lt.x)(e.text)?e.text.split(e.lineBreak):e.text,Object(Lt.x)(t)?t.length>1?t:t[0]:t;var t}function Qp(e){var t=Jp(e);return(Object(Lt.x)(t)?t.length-1:0)*Yp(e)}function Zp(e,t){var n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,r=function(e){if(Vp.width===Kp){var t=tv(e);return function(e){return $p(e,t)}}var n=Xp(e);return function(e){return Gp(e,n)}}(e);if(r(t)<n)return t;var a,i=e.ellipsis||"\u2026",o="rtl"===e.dir,u=0,s=t.length;if(n-=r(i),o){for(;u<s;)a=u+s>>>1,r(t.slice(a))>n?u=a+1:s=a;return i+t.slice(u)}for(;u<s;)a=1+(u+s>>>1),r(t.slice(0,a))<n?u=a:s=a-1;return t.slice(0,u)+i}(e,n):n}function ev(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function tv(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Xp(e)+"px "+ev(e,t)}function nv(e){var t=e.baseline,n=Xp(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*Yp(e):"line-bottom"===t?.29*n-.5*Yp(e):0)}qp(!0);var rv={left:"start",center:"middle",right:"end"},av=new ph;function iv(e){var t,n=e.x||0,r=e.y||0,a=e.radius||0;return a&&(t=(e.theta||0)-Nd,n+=a*Math.cos(t),r+=a*Math.sin(t)),av.x1=n,av.y1=r,av}function ov(e,t,n){var r,a=Vp.height(t),i=t.align,o=iv(t),u=o.x1,s=o.y1,c=t.dx||0,l=(t.dy||0)+nv(t)-Math.round(.8*a),f=Jp(t);if(Object(Lt.x)(f)?(a+=Yp(t)*(f.length-1),r=f.reduce((function(e,n){return Math.max(e,Vp.width(t,n))}),0)):r=Vp.width(t,f),"center"===i?c-=r/2:"right"===i&&(c-=r),e.set(c+=u,l+=s,c+r,l+a),t.angle&&!n)e.rotate(t.angle*Dd,u,s);else if(2===n)return e.rotatedPoints(t.angle*Dd,u,s);return e}var uv={arc:vp,area:gp,group:jp,image:Fp,line:Tp,path:Ip,rect:Pp,rule:zp,shape:Lp,symbol:Up,text:{type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,a=(t.dy||0)+nv(t),i=iv(t),o=i.x1,u=i.y1,s=t.angle||0;e("text-anchor",rv[t.align]||"start"),s?(n=fp(o,u)+" "+dp(s),(r||a)&&(n+=" "+fp(r,a))):n=fp(o+r,u+a),e("transform",n)},bound:ov,draw:function(e,t,n){ap(t,(function(t){var r,a,i,o,u,s,c,l=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===l||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=tv(t),e.textAlign=t.align||"left",a=(r=iv(t)).x1,i=r.y1,t.angle&&(e.save(),e.translate(a,i),e.rotate(t.angle*Dd),a=i=0),a+=t.dx||0,i+=(t.dy||0)+nv(t),s=Jp(t),Xh(e,t),Object(Lt.x)(s))for(u=Yp(t),o=0;o<s.length;++o)c=Zp(t,s[o]),t.fill&&Zh(e,t,l)&&e.fillText(c,a,i),t.stroke&&tp(e,t,l)&&e.strokeText(c,a,i),i+=u;else c=Zp(t,s),t.fill&&Zh(e,t,l)&&e.fillText(c,a,i),t.stroke&&tp(e,t,l)&&e.strokeText(c,a,i);t.angle&&e.restore()}}))},pick:sp((function(e,t,n,r,a,i){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=iv(t),u=o.x1,s=o.y1,c=ov(av,t,1),l=-t.angle*Dd,f=Math.cos(l),d=Math.sin(l),h=f*a-d*i+(u-f*u+d*s),p=d*a+f*i+(s-d*u-f*s);return c.contains(h,p)})),isect:function(e,t){var n=ov(av,e,2);return $h(t,n[0],n[1],n[2],n[3])||$h(t,n[0],n[1],n[4],n[5])||$h(t,n[4],n[5],n[6],n[7])||$h(t,n[2],n[3],n[6],n[7])}},trail:mp("trail",(function(e,t){return ch.context(e)(t)}),(function(e,t){for(var n,r,a=e.length;--a>=0;)if(!1!==e[a].defined&&(n=e[a].x-t[0])*n+(r=e[a].y-t[1])*r<(n=e[a].size||1)*n)return e[a];return null}))};function sv(e,t,n){var r=uv[e.mark.marktype],a=t||r.bound;return r.nested&&(e=e.mark),a(e.bounds||(e.bounds=new ph),e,n)}var cv={mark:null};var lv=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function fv(e){return dv("string"===typeof e?JSON.parse(e):e)}function dv(e){var t,n,r,a=e.marktype,i=e.items;if(i)for(n=0,r=i.length;n<r;++n)t=a?"mark":"group",i[n][t]=e,i[n].zindex&&(i[n][t].zdirty=!0),"group"===(a||t)&&dv(i[n]);return a&&function(e,t,n){var r,a,i,o,u=uv[e.marktype],s=u.bound,c=e.items,l=c&&c.length;if(u.nested)return l?i=c[0]:(cv.mark=e,i=cv),o=sv(i,s,n),t&&t.union(o)||o;if(t=t||e.bounds&&e.bounds.clear()||new ph,l)for(r=0,a=c.length;r<a;++r)t.union(sv(c[r],s,n));e.bounds=t}(e),e}function hv(e){arguments.length?this.root=fv(e):(this.root=pv({marktype:"group",name:"root",role:"frame"}),this.root.items=[new mh(this.root)])}function pv(e,t){var n={bounds:new ph,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function vv(e,t,n){return!e&&"undefined"!==typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function mv(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,a=n.length;r<a;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function gv(e,t,n,r){var a,i=e.childNodes[t];return i&&i.tagName.toLowerCase()===n.toLowerCase()||(a=i||null,i=vv(e.ownerDocument,n,r),e.insertBefore(i,a)),i}function bv(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function yv(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function xv(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function _v(e,t){this._active=null,this._handlers={},this._loader=e||yn(),this._tooltip=t||wv}function wv(e,t,n,r){e.element().setAttribute("title",r||"")}function Ov(e){this._el=null,this._bgcolor=null,this._loader=new gh(e)}hv.prototype={toJSON:function(e){return function(e,t){return JSON.stringify(e,lv,t)}(this.root,e||0)},mark:function(e,t,n){var r=pv(e,t=t||this.root.items[0]);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}},_v.prototype={initialize:function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},origin:function(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene:function(e){return arguments.length?(this._scene=e,this):this._scene},on:function(){},off:function(){},_handlerIndex:function(e,t,n){for(var r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},handlers:function(e){var t=this._handlers,n=[];if(e)n.push.apply(n,Object(Qi.a)(t[this.eventName(e)]));else for(var r in t)n.push.apply(n,Object(Qi.a)(t[r]));return n},eventName:function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref:function(e,t,n){this._loader.sanitize(n,{context:"href"}).then((function(t){var n=new MouseEvent(e.type,e),r=vv(null,"a");for(var a in t)r.setAttribute(a,t[a]);r.dispatchEvent(n)})).catch((function(){}))},handleTooltip:function(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,r){var a,i,o=e&&e.mark;if(o&&(a=uv[o.marktype]).tip){for((i=xv(t,n))[0]-=r[0],i[1]-=r[1];e=e.mark.group;)i[0]-=e.x||0,i[1]-=e.y||0;e=a.tip(o.items,i)}return e}(t,e,this.canvas(),this._origin);var r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},getItemBoundingClientRect:function(e){var t=this.canvas();if(t){for(var n=t.getBoundingClientRect(),r=this._origin,a=e.bounds,i=a.width(),o=a.height(),u=a.x1+r[0]+n.left,s=a.y1+r[1]+n.top;e.mark&&(e=e.mark.group);)u+=e.x||0,s+=e.y||0;return{x:u,y:s,width:i,height:o,left:u,top:s,right:u+i,bottom:s+o}}}},Ov.prototype={initialize:function(e,t,n,r,a){return this._el=e,this.resize(t,n,r,a)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},background:function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize:function(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},dirty:function(){},render:function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render:function(){},renderAsync:function(e){var t=this.render(e);return this._ready?this._ready.then((function(){return t})):Promise.resolve(t)},_load:function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var a=n._call;n._ready=n._loader.ready().then((function(e){e&&a(),n._ready=null}))}return r},sanitizeURL:function(e){return this._load("sanitizeURL",e)},loadImage:function(e){return this._load("loadImage",e)}};var kv="dragenter",jv="dragleave",Ev="dragover",Cv="mousedown",Av="mousemove",Sv="mouseout",Dv="mouseover",Nv="click",Fv="mousewheel",Tv="touchstart",Mv="touchmove",Iv="touchend",Rv=["keydown","keypress","keyup",kv,jv,Ev,Cv,"mouseup",Av,Sv,Dv,Nv,"dblclick","wheel",Fv,Tv,Mv,Iv],Pv=Av,Bv=Sv,zv=Nv;function Lv(e,t){_v.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}function Uv(e,t){(function(e){return e===Tv||e===Mv||e===Iv?[Tv,Mv,Iv]:[e]})(t).forEach((function(t){return function(e,t){var n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?function(n){return e[t](n)}:function(n){return e.fire(t,n)}))}(e,t)}))}function Wv(e,t,n){return function(r){var a=this._active,i=this.pickEvent(r);i===a||(a&&a.exit||this.fire(n,r),this._active=i,this.fire(t,r)),this.fire(e,r)}}function Vv(e){return function(t){this.fire(e,t),this._active=null}}Object(Lt.v)(Lv,_v,{initialize:function(e,t,n){var r=this;return this._canvas=e&&mv(e,"canvas"),[Nv,Cv,Av,Sv,jv].forEach((function(e){return Uv(r,e)})),_v.prototype.initialize.call(this,e,t,n)},canvas:function(){return this._canvas},context:function(){return this._canvas.getContext("2d")},events:Rv,DOMMouseScroll:function(e){this.fire(Fv,e)},mousemove:Wv(Av,Dv,Sv),dragover:Wv(Ev,kv,jv),mouseout:Vv(Sv),dragleave:Vv(jv),mousedown:function(e){this._down=this._active,this.fire(Cv,e)},click:function(e){this._down===this._active&&(this.fire(Nv,e),this._down=null)},touchstart:function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(Tv,e,!0)},touchmove:function(e){this.fire(Mv,e,!0)},touchend:function(e){this.fire(Iv,e,!0),this._touch=null},fire:function(e,t,n){var r=n?this._touch:this._active,a=this._handlers[e];if(t.vegaType=e,e===zv&&r&&r.href?this.handleHref(t,r,r.href):e!==Pv&&e!==Bv||this.handleTooltip(t,r,e!==Bv),a)for(var i=0,o=a.length;i<o;++i)a[i].handler.call(this._obj,t,r)},on:function(e,t){var n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(Uv(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},off:function(e,t){var n=this.eventName(e),r=this._handlers[n],a=this._handlerIndex(r,e,t);return a>=0&&r.splice(a,1),this},pickEvent:function(e){var t=xv(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick:function(e,t,n,r,a){var i=this.context();return uv[e.marktype].pick.call(this,i,e,t,n,r,a)}});var qv="undefined"!==typeof window&&window.devicePixelRatio||1;function Hv(e){Ov.call(this,e),this._options={},this._redraw=!1,this._dirty=new ph,this._tempb=new ph}var Gv=Ov.prototype;function Kv(e,t){_v.call(this,e,t);var n=this;n._hrefHandler=$v(n,(function(e,t){t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=$v(n,(function(e,t){n.handleTooltip(e,t,e.type!==Bv)}))}Object(Lt.v)(Hv,Ov,{initialize:function(e,t,n,r,a,i){return this._options=i||{},this._canvas=this._options.externalContext?null:Ou(1,1,this._options.type),e&&this._canvas&&(bv(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),Gv.initialize.call(this,e,t,n,r,a)},resize:function(e,t,n,r){if(Gv.resize.call(this,e,t,n,r),this._canvas)!function(e,t,n,r,a,i){var o="undefined"!==typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,u=e.getContext("2d"),s=o?qv:a;for(var c in e.width=t*s,e.height=n*s,i)u[c]=i[c];o&&1!==s&&(e.style.width=t+"px",e.style.height=n+"px"),u.pixelRatio=s,u.setTransform(s,0,0,s,s*r[0],s*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{var a=this._options.externalContext;a||Object(Lt.k)("CanvasRenderer is missing a valid canvas or context"),a.scale(this._scale,this._scale),a.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas:function(){return this._canvas},context:function(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty:function(e){for(var t=this._tempb.clear().union(e.bounds),n=e.mark.group;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render:function(e){var t,n,r,a=this.context(),i=this._origin,o=this._width,u=this._height,s=this._dirty,c=(t=i,n=o,r=u,(new ph).set(0,0,n,r).translate(-t[0],-t[1]));a.save();var l=this._redraw||s.empty()?(this._redraw=!1,c.expand(1)):function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(a,c.intersect(s),i);return this.clear(-i[0],-i[1],o,u),this.draw(a,e,l),a.restore(),s.clear(),this},draw:function(e,t,n){var r=uv[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),Object(Lt.A)(n)?(e.beginPath(),n(e),e.clip()):bp(e,t.group)}(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},clear:function(e,t,n,r){var a=this._options,i=this.context();"pdf"===a.type||a.externalContext||i.clearRect(e,t,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,r))}});var $v=function(e,t){return function(n){var r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)}};Object(Lt.v)(Kv,_v,{initialize:function(e,t,n){var r=this._svg;return r&&(r.removeEventListener(zv,this._hrefHandler),r.removeEventListener(Pv,this._tooltipHandler),r.removeEventListener(Bv,this._tooltipHandler)),this._svg=r=e&&mv(e,"svg"),r&&(r.addEventListener(zv,this._hrefHandler),r.addEventListener(Pv,this._tooltipHandler),r.addEventListener(Bv,this._tooltipHandler)),_v.prototype.initialize.call(this,e,t,n)},canvas:function(){return this._svg},on:function(e,t){var n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){var a={type:e,handler:t,listener:$v(this,t)};(r[n]||(r[n]=[])).push(a),this._svg&&this._svg.addEventListener(n,a.listener)}return this},off:function(e,t){var n=this.eventName(e),r=this._handlers[n],a=this._handlerIndex(r,e,t);return a>=0&&(this._svg&&this._svg.removeEventListener(n,r[a].listener),r.splice(a,1)),this}});var Xv="aria-hidden",Yv="aria-label",Jv="role",Qv="aria-roledescription",Zv="graphics-object",em="graphics-symbol",tm=function(e,t,n){var r;return r={},Object(Zi.a)(r,Jv,e),Object(Zi.a)(r,Qv,t),Object(Zi.a)(r,Yv,n||void 0),r},nm=Object(Lt.ab)(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),rm={axis:{desc:"axis",caption:function(e){var t=e.datum,n=e.orient,r=t.title?sm(e):null,a=e.context,i=a.scales[t.scale].value,o=a.dataflow.locale(),u=i.type;return"".concat("left"===n||"right"===n?"Y":"X","-axis")+(r?" titled '".concat(r,"'"):"")+" for a ".concat(Uf(u)?"discrete":u," scale")+" with ".concat(yd(o,i,e))}},legend:{desc:"legend",caption:function(e){var t=e.datum,n=t.title?sm(e):null,r="".concat(t.type||""," legend").trim(),a=t.scales,i=Object.keys(a),o=e.context,u=o.scales[a[i[0]]].value,s=o.dataflow.locale();return c=r,(c.length?c[0].toUpperCase()+c.slice(1):c)+(n?" titled '".concat(n,"'"):"")+" for ".concat(function(e){return(e=e.map((function(e){return e+("fill"===e||"stroke"===e?" color":"")}))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Object(Lt.S)(e)}(i))+" with ".concat(yd(s,u,e));var c}},"title-text":{desc:"title",caption:function(e){return"Title text '".concat(um(e),"'")}},"title-subtitle":{desc:"subtitle",caption:function(e){return"Subtitle text '".concat(um(e),"'")}}},am={ariaRole:Jv,ariaRoleDescription:Qv,description:Yv};function im(e,t){var n=!1===t.aria;if(e(Xv,n||void 0),n||null==t.description)for(var r in am)e(am[r],void 0);else{var a=t.mark.marktype;e(Yv,t.description),e(Jv,t.ariaRole||("group"===a?Zv:em)),e(Qv,t.ariaRoleDescription||"".concat(a," mark"))}}function om(e){return!1===e.aria?Object(Zi.a)({},Xv,!0):nm[e.role]?null:rm[e.role]?function(e,t){try{var n=e.items[0],r=t.caption||function(){return""};return tm(t.role||em,t.desc,n.description||r(n))}catch(a){return null}}(e,rm[e.role]):function(e){var t=e.marktype,n="group"===t||"text"===t||e.items.some((function(e){return null!=e.description&&!1!==e.aria}));return tm(n?Zv:em,"".concat(t," mark container"),e.description)}(e)}function um(e){return Object(Lt.e)(e.text).join(" ")}function sm(e){try{return Object(Lt.e)(Object(Lt.S)(e.items).items[0].text).join(" ")}catch(t){return null}}var cm=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};function lm(){var e="",t="",n="",r=[],a=function(){return t=n=""},i=function(i){t&&(e+="".concat(t,">").concat(n),a()),r.push(i)},o=function(e,n){return null!=n&&(t+=" ".concat(e,'="').concat(cm(n).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"),'"')),u},u={open:function(e){i(e),t="<"+e;for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(var s=0,c=r;s<c.length;s++){var l=c[s];for(var f in l)o(f,l[f])}return u},close:function(){var i=r.pop();return e+=t?t+(n?">".concat(n,"</").concat(i,">"):"/>"):"</".concat(i,">"),a(),u},attr:o,text:function(e){return n+=cm(e),u},toString:function(){return e}};return u}var fm=function(e){return dm(lm(),e)+""};function dm(e,t){if(e.open(t.tagName),t.hasAttributes())for(var n=t.attributes,r=n.length,a=0;a<r;++a)e.attr(n[a].name,n[a].value);if(t.hasChildNodes())for(var i=t.childNodes,o=i.length,u=0;u<o;u++){var s=i[u];3===s.nodeType?e.text(s.nodeValue):dm(e,s)}return e.close()}var hm={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},pm={fill:"none","stroke-miterlimit":10},vm="http://www.w3.org/2000/xmlns/",mm=Ep.xmlns;function gm(e){Ov.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var bm=Ov.prototype;function ym(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function xm(e,t,n){var r,a,i;if("radial"===t.gradient){var o=gv(e,n++,"pattern",mm);Am(o,{id:_d+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Am(o=gv(o,0,"rect",mm),{width:1,height:1,fill:"url(".concat(Dm(),"#").concat(t.id,")")}),Am(e=gv(e,n++,"radialGradient",mm),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else Am(e=gv(e,n++,"linearGradient",mm),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,a=t.stops.length;r<a;++r)(i=gv(e,r,"stop",mm)).setAttribute("offset",t.stops[r].offset),i.setAttribute("stop-color",t.stops[r].color);return bv(e,r),n}function _m(e,t,n){return(e=gv(e,n,"clipPath",mm)).setAttribute("id",t.id),t.path?gv(e,0,"path",mm).setAttribute("d",t.path):Am(gv(e,0,"rect",mm),{x:0,y:0,width:t.width,height:t.height}),bv(e,1),n+1}function wm(e,t,n,r,a){var i,o=e._svg;if(!o&&(o=vv(i=t.ownerDocument,r,mm),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},"g"===r))){var u=vv(i,"path",mm);o.appendChild(u),u.__data__=e;var s=vv(i,"g",mm);o.appendChild(s),s.__data__=e;var c=vv(i,"path",mm);o.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(o.ownerSVGElement!==a||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}Object(Lt.v)(gm,Ov,{initialize:function(e,t,n,r,a){return this._defs={},this._clearDefs(),e&&(this._svg=gv(e,0,"svg",mm),this._svg.setAttributeNS(vm,"xmlns",mm),this._svg.setAttributeNS(vm,"xmlns:xlink",Ep["xmlns:xlink"]),this._svg.setAttribute("version",Ep.version),this._svg.setAttribute("class","marks"),bv(e,1),this._root=gv(this._svg,0,"g",mm),Am(this._root,pm),bv(this._svg,1)),this.background(this._bgcolor),bm.initialize.call(this,e,t,n,r,a)},background:function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),bm.background.apply(this,arguments)},resize:function(e,t,n,r){return bm.resize.call(this,e,t,n,r),this._svg&&(Am(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}),this._root.setAttribute("transform","translate(".concat(this._origin,")"))),this._dirty=[],this},canvas:function(){return this._svg},svg:function(){var e,t=this._svg,n=this._bgcolor;if(!t)return null;n&&(t.removeAttribute("style"),Am(e=gv(t,0,"rect",mm),{width:this._width,height:this._height,fill:n}));var r=fm(t);return n&&(t.removeChild(e),this._svg.style.setProperty("background-color",n)),r},_render:function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),bv(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty:function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty:function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},_dirtyCheck:function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length||!this._dirtyID)return!0;var t,n,r,a,i,o,u,s=++this._dirtyID;for(i=0,o=e.length;i<o;++i)(n=(t=e[i]).mark).marktype!==r&&(r=n.marktype,a=uv[r]),n.zdirty&&n.dirty!==s&&(this._dirtyAll=!1,ym(t,s),n.items.forEach((function(e){e.dirty=s}))),n.zdirty||(t.exit?(a.nested&&n.items.length?(u=n.items[0])._svg&&this._update(a,u._svg,u):t._svg&&(u=t._svg.parentNode)&&u.removeChild(t._svg),t._svg=null):(t=a.nested?n.items[0]:t)._update!==s&&(t._svg&&t._svg.ownerSVGElement?this._update(a,t._svg,t):(this._dirtyAll=!1,ym(t,s)),t._update=s));return!this._dirtyAll},mark:function(e,t,n){var r=this;if(!this.isDirty(t))return t._svg;var a=this._svg,i=uv[t.marktype],o=!1===t.interactive?"none":null,u="g"===i.tag,s=null,c=0,l=wm(t,e,n,"g",a);l.setAttribute("class",yv(t));var f=om(t);for(var d in f)Sm(l,d,f[d]);u||Sm(l,"pointer-events",o),Sm(l,"clip-path",t.clip?hh(this,t,t.group):null);var h=function(e){var t=r.isDirty(e),n=wm(e,l,s,i.tag,a);t&&(r._update(i,n,e),u&&function(e,t,n){t=t.lastChild.previousSibling;var r,a=0;ap(n,(function(n){r=e.mark(t,n,r),++a})),bv(t,1+a)}(r,n,e)),s=n,++c};return i.nested?t.items.length&&h(t.items[0]):ap(t,h),bv(l,c),l},_update:function(e,t,n){Om=t,km=t.__values__,im(Em,n),e.attr(Em,n,this);var r=jm[e.type];r&&r.call(this,e,t,n),Om&&this.style(Om,n)},style:function(e,t){if(null!=t)for(var n in hm){var r="font"===n?ev(t):t[n];if(r!==km[n]){var a=hm[n];null==r?e.removeAttribute(a):(wd(r)&&(r=Od(r,this._defs.gradient,Dm())),e.setAttribute(a,r+"")),km[n]=r}}},defs:function(){var e=this._svg,t=this._defs,n=t.el,r=0;for(var a in t.gradient)n||(t.el=n=gv(e,1,"defs",mm)),r=xm(n,t.gradient[a],r);for(var i in t.clipping)n||(t.el=n=gv(e,1,"defs",mm)),r=_m(n,t.clipping[i],r);n&&(0===r?(e.removeChild(n),t.el=null):bv(n,r))},_clearDefs:function(){var e=this._defs;e.gradient={},e.clipping={}}});var Om=null,km=null,jm={group:function(e,t,n){var r=Om=t.childNodes[2];km=r.__values__,e.foreground(Em,n,this),km=t.__values__,Om=t.childNodes[1],e.content(Em,n,this);var a=Om=t.childNodes[0];e.background(Em,n,this);var i=!1===n.mark.interactive?"none":null;if(i!==km.events&&(Sm(r,"pointer-events",i),Sm(a,"pointer-events",i),km.events=i),n.strokeForeground&&n.stroke){var o=n.fill;Sm(r,"display",null),this.style(a,n),Sm(a,"stroke",null),o&&(n.fill=null),km=r.__values__,this.style(r,n),o&&(n.fill=o),Om=null}else Sm(r,"display","none")},image:function(e,t,n){!1===n.smooth?(Cm(t,"image-rendering","optimizeSpeed"),Cm(t,"image-rendering","pixelated")):Cm(t,"image-rendering",null)},text:function(e,t,n){var r,a,i,o,u=Jp(n);Object(Lt.x)(u)?(r=(a=u.map((function(e){return Zp(n,e)}))).join("\n"))!==km.text&&(bv(t,0),i=t.ownerDocument,o=Yp(n),a.forEach((function(e,r){var a=vv(i,"tspan",mm);a.__data__=n,a.textContent=e,r&&(a.setAttribute("x",0),a.setAttribute("dy",o)),t.appendChild(a)})),km.text=r):(a=Zp(n,u))!==km.text&&(t.textContent=a,km.text=a),Sm(t,"font-family",ev(n)),Sm(t,"font-size",Xp(n)+"px"),Sm(t,"font-style",n.fontStyle),Sm(t,"font-variant",n.fontVariant),Sm(t,"font-weight",n.fontWeight)}};function Em(e,t,n){t!==km[e]&&(n?function(e,t,n,r){null!=n?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}(Om,e,t,n):Sm(Om,e,t),km[e]=t)}function Cm(e,t,n){n!==km[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),km[t]=n)}function Am(e,t){for(var n in t)Sm(e,n,t[n])}function Sm(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function Dm(){var e;return"undefined"===typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function Nm(e){Ov.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}Object(Lt.v)(Nm,Ov,{svg:function(){return this._text},_render:function(e){var t=lm();t.open("svg",Object(Lt.l)({},Ep,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}));var n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",pm,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark:function(e,t){var n=this,r=uv[t.marktype],a=r.tag,i=[im,r.attr];e.open("g",{class:yv(t),"clip-path":t.clip?hh(this,t,t.group):null},om(t),{"pointer-events":"g"!==a&&!1===t.interactive?"none":null});var o=function(o){var u=n.href(o);if(u&&e.open("a",u),e.open(a,n.attr(t,o,i,"g"!==a?a:null)),"text"===a){var s=Jp(o);if(Object(Lt.x)(s))for(var c={x:0,dy:Yp(o)},l=0;l<s.length;++l)e.open("tspan",l?c:null).text(Zp(o,s[l])).close();else e.text(Zp(o,s))}else if("g"===a){var f=o.strokeForeground,d=o.fill,h=o.stroke;f&&h&&(o.stroke=null),e.open("path",n.attr(t,o,r.background,"bgrect")).close(),e.open("g",n.attr(t,o,r.content)),ap(o,(function(t){return n.mark(e,t)})),e.close(),f&&h?(d&&(o.fill=null),o.stroke=h,e.open("path",n.attr(t,o,r.foreground,"bgrect")).close(),d&&(o.fill=d)):e.open("path",n.attr(t,o,r.foreground,"bgfore")).close()}e.close(),u&&e.close()};return r.nested?t.items&&t.items.length&&o(t.items[0]):ap(t,o),e.close()},href:function(e){var t,n=this,r=e.href;if(r){if(t=this._hrefs&&this._hrefs[r])return t;this.sanitizeURL(r).then((function(e){e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e}))}return null},attr:function(e,t,n,r){var a=this,i={},o=function(e,t,n,r){i[r||e]=t};return Array.isArray(n)?n.forEach((function(e){return e(o,t,a)})):n(o,t,this),r&&function(e,t,n,r,a){if(null==t)return e;"bgrect"===r&&!1===n.interactive&&(e["pointer-events"]="none");if("bgfore"===r&&(!1===n.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill))return e;"image"===r&&!1===t.smooth&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===r&&(e["font-family"]=ev(t),e["font-size"]=Xp(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(var i in hm){var o=t[i],u=hm[i];("transparent"!==o||"fill"!==u&&"stroke"!==u)&&null!=o&&(wd(o)&&(o=Od(o,a.gradient,"")),e[u]=o)}}(i,t,e,r,this._defs),i},defs:function(e){var t=this._defs.gradient,n=this._defs.clipping;if(0!==Object.keys(t).length+Object.keys(n).length){for(var r in e.open("defs"),t){var a=t[r],i=a.stops;"radial"===a.gradient?(e.open("pattern",{id:_d+r,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+r+")"}).close(),e.close(),e.open("radialGradient",{id:r,fx:a.x1,fy:a.y1,fr:a.r1,cx:a.x2,cy:a.y2,r:a.r2})):e.open("linearGradient",{id:r,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2});for(var o=0;o<i.length;++o)e.open("stop",{offset:i[o].offset,"stop-color":i[o].color}).close();e.close()}for(var u in n){var s=n[u];e.open("clipPath",{id:u}),s.path?e.open("path",{d:s.path}).close():e.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),e.close()}e.close()}}});var Fm="canvas",Tm=Fm,Mm="png",Im="svg",Rm={};function Pm(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Rm[e]=t,this):Rm[e]}function Bm(e,t,n,r){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){var a=e.items,i=e.marktype,o=a.length,u=0;if("group"===i)for(;u<o;++u)zm(a[u],t,n,r);else for(var s=uv[i].isect;u<o;++u){var c=a[u];Lm(c,t,s)&&r.push(c)}}return r}function zm(e,t,n,r){n&&n(e.mark)&&Lm(e,t,uv.group.isect)&&r.push(e);var a=e.items,i=a&&a.length;if(i){var o=e.x||0,u=e.y||0;t.translate(-o,-u);for(var s=0;s<i;++s)Bm(a[s],t,n,r);t.translate(o,u)}return r}function Lm(e,t,n){var r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}Rm.canvas=Rm.png={renderer:Hv,headless:Hv,handler:Lv},Rm.svg={renderer:gm,headless:Nm,handler:Kv},Rm.none={};var Um=new ph;var Wm="top",Vm="left",qm="right",Hm="bottom",Gm="start",Km="middle",$m="end",Xm="group",Ym="axis",Jm="title",Qm="frame",Zm="scope",eg="legend",tg="row-header",ng="row-footer",rg="row-title",ag="column-header",ig="column-footer",og="column-title",ug="padding",sg="fit",cg="fit-x",lg="fit-y",fg="none",dg="all",hg="each",pg="flush",vg="column",mg="row";function gg(e){lr.call(this,null,e)}function bg(e,t,n){return t(e.bounds.clear(),e,n)}Object(Lt.v)(gg,lr,{transform:function(e,t){var n,r=t.dataflow,a=e.mark,i=a.marktype,o=uv[i],u=o.bound,s=a.bounds;if(o.nested)a.items.length&&r.dirty(a.items[0]),s=bg(a,u),a.items.forEach((function(e){e.bounds.clear().union(s)}));else if(i===Xm||e.modified())switch(t.visit(t.MOD,(function(e){return r.dirty(e)})),s.clear(),a.items.forEach((function(e){return s.union(bg(e,u))})),a.role){case Ym:case eg:case Jm:t.reflow()}else n=t.changed(t.REM),t.visit(t.ADD,(function(e){s.union(bg(e,u))})),t.visit(t.MOD,(function(e){n=n||s.alignsWith(e.bounds),r.dirty(e),s.union(bg(e,u))})),n&&(s.clear(),a.items.forEach((function(e){return s.union(e.bounds)})));return function(e){var t=e.clip;if(Object(Lt.A)(t))t(Bh(Um.clear()));else{if(!t)return;Um.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(Um)}(a),t.modifies("bounds")}});var yg=":vega_identifier:";function xg(e){lr.call(this,0,e)}function _g(e){lr.call(this,null,e)}function wg(e){lr.call(this,null,e)}xg.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Object(Lt.v)(xg,lr,{transform:function(e,t){var n,r=(n=t.dataflow)._signals[yg]||(n._signals[yg]=n.add(0)),a=e.as,i=r.value;return t.visit(t.ADD,(function(e){return e[a]=e[a]||++i})),r.set(this.value=i),t}}),Object(Lt.v)(_g,lr,{transform:function(e,t){var n=this.value;n||((n=t.dataflow.scenegraph().mark(e.markdef,function(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index)).group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);var r=n.marktype===Xm?mh:vh;return t.visit(t.ADD,(function(e){return r.call(e,n)})),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});var Og={parity:function(e){return e.filter((function(e,t){return t%2?e.opacity=0:1}))},greedy:function(e,t){var n;return e.filter((function(e,r){return r&&kg(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1)}))}},kg=function(e,t,n){return n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2)},jg=function(e,t){for(var n,r=1,a=e.length,i=e[0].bounds;r<a;i=n,++r)if(kg(i,n=e[r].bounds,t))return!0},Eg=function(e){var t=e.bounds;return t.width()>1&&t.height()>1},Cg=function(e){return e.forEach((function(e){return e.opacity=1})),e},Ag=function(e,t){return e.reflow(t.modified()).modifies("opacity")};function Sg(e){lr.call(this,null,e)}Object(Lt.v)(wg,lr,{transform:function(e,t){var n,r,a=Og[e.method]||Og.parity,i=e.separation||0,o=t.materialize(t.SOURCE).source;if(o&&o.length){if(!e.method)return e.modified("method")&&(Cg(o),t=Ag(t,e)),t;if((o=o.filter(Eg)).length){if(e.sort&&(o=o.slice().sort(e.sort)),n=Cg(o),t=Ag(t,e),n.length>=3&&jg(n,i)){do{n=a(n,i)}while(n.length>=3&&jg(n,i));n.length<3&&!Object(Lt.S)(o).opacity&&(n.length>1&&(Object(Lt.S)(n).opacity=0),Object(Lt.S)(o).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(r=function(e,t,n){var r=e.range(),a=new ph;return t===Wm||t===Hm?a.set(r[0],-1/0,r[1],1/0):a.set(-1/0,r[0],1/0,r[1]),a.expand(n||1),function(e){return a.encloses(e.bounds)}}(e.boundScale,e.boundOrient,+e.boundTolerance),o.forEach((function(e){r(e)||(e.opacity=0)})));var u=n[0].mark.bounds.clear();return o.forEach((function(e){e.opacity&&u.union(e.bounds)})),t}}}}),Object(Lt.v)(Sg,lr,{transform:function(e,t){var n=t.dataflow;if(t.visit(t.ALL,(function(e){return n.dirty(e)})),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});var Dg=new ph;function Ng(e,t,n){return e[t]===n?0:(e[t]=n,1)}function Fg(e){var t=e.items[0].orient;return t===Vm||t===qm}function Tg(e,t,n,r){var a,i,o=t.items[0],u=o.datum,s=null!=o.translate?o.translate:.5,c=o.orient,l=function(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(u),f=o.range,d=o.offset,h=o.position,p=o.minExtent,v=o.maxExtent,m=u.title&&o.items[l[2]].items[0],g=o.titlePadding,b=o.bounds,y=m&&Qp(m),x=0,_=0;switch(Dg.clear().union(b),b.clear(),(a=l[0])>-1&&b.union(o.items[a].bounds),(a=l[1])>-1&&b.union(o.items[a].bounds),c){case Wm:x=h||0,_=-d,i=Math.max(p,Math.min(v,-b.y1)),b.add(0,-i).add(f,0),m&&Mg(e,m,i,g,y,0,-1,b);break;case Vm:x=-d,_=h||0,i=Math.max(p,Math.min(v,-b.x1)),b.add(-i,0).add(0,f),m&&Mg(e,m,i,g,y,1,-1,b);break;case qm:x=n+d,_=h||0,i=Math.max(p,Math.min(v,b.x2)),b.add(0,0).add(i,f),m&&Mg(e,m,i,g,y,1,1,b);break;case Hm:x=h||0,_=r+d,i=Math.max(p,Math.min(v,b.y2)),b.add(0,0).add(f,i),m&&Mg(e,m,i,g,0,0,1,b);break;default:x=o.x,_=o.y}return xh(b.translate(x,_),o),Ng(o,"x",x+s)|Ng(o,"y",_+s)&&(o.bounds=Dg,e.dirty(o),o.bounds=b,e.dirty(o)),o.mark.bounds.clear().union(b)}function Mg(e,t,n,r,a,i,o,u){var s=t.bounds;if(t.auto){var c=o*(n+a+r),l=0,f=0;e.dirty(t),i?l=(t.x||0)-(t.x=c):f=(t.y||0)-(t.y=c),t.mark.bounds.clear().union(s.translate(-l,-f)),e.dirty(t)}u.union(s)}var Ig=function(e,t){return Math.floor(Math.min(e,t))},Rg=function(e,t){return Math.ceil(Math.max(e,t))};function Pg(e){return(new ph).set(0,0,e.width||0,e.height||0)}function Bg(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function zg(e,t,n){var r=Object(Lt.D)(e)?e[t]:e;return null!=r?r:void 0!==n?n:0}function Lg(e){return e<0?Math.ceil(-e):0}function Ug(e,t,n){var r,a,i,o,u,s,c,l,f,d,h,p=!n.nodirty,v=n.bounds===pg?Pg:Bg,m=Dg.set(0,0,0,0),g=zg(n.align,vg),b=zg(n.align,mg),y=zg(n.padding,vg),x=zg(n.padding,mg),_=n.columns||t.length,w=_<=0?1:Math.ceil(t.length/_),O=t.length,k=Array(O),j=Array(_),E=0,C=Array(O),A=Array(w),S=0,D=Array(O),N=Array(O),F=Array(O);for(a=0;a<_;++a)j[a]=0;for(a=0;a<w;++a)A[a]=0;for(a=0;a<O;++a)s=t[a],u=F[a]=v(s),s.x=s.x||0,D[a]=0,s.y=s.y||0,N[a]=0,i=a%_,o=~~(a/_),E=Math.max(E,c=Math.ceil(u.x2)),S=Math.max(S,l=Math.ceil(u.y2)),j[i]=Math.max(j[i],c),A[o]=Math.max(A[o],l),k[a]=y+Lg(u.x1),C[a]=x+Lg(u.y1),p&&e.dirty(t[a]);for(a=0;a<O;++a)a%_===0&&(k[a]=0),a<_&&(C[a]=0);if(g===hg)for(i=1;i<_;++i){for(h=0,a=i;a<O;a+=_)h<k[a]&&(h=k[a]);for(a=i;a<O;a+=_)k[a]=h+j[i-1]}else if(g===dg){for(h=0,a=0;a<O;++a)a%_&&h<k[a]&&(h=k[a]);for(a=0;a<O;++a)a%_&&(k[a]=h+E)}else for(g=!1,i=1;i<_;++i)for(a=i;a<O;a+=_)k[a]+=j[i-1];if(b===hg)for(o=1;o<w;++o){for(h=0,r=(a=o*_)+_;a<r;++a)h<C[a]&&(h=C[a]);for(a=o*_;a<r;++a)C[a]=h+A[o-1]}else if(b===dg){for(h=0,a=_;a<O;++a)h<C[a]&&(h=C[a]);for(a=_;a<O;++a)C[a]=h+S}else for(b=!1,o=1;o<w;++o)for(r=(a=o*_)+_;a<r;++a)C[a]+=A[o-1];for(f=0,a=0;a<O;++a)f=k[a]+(a%_?f:0),D[a]+=f-t[a].x;for(i=0;i<_;++i)for(d=0,a=i;a<O;a+=_)d+=C[a],N[a]+=d-t[a].y;if(g&&zg(n.center,vg)&&w>1)for(a=0;a<O;++a)(f=(u=g===dg?E:j[a%_])-F[a].x2-t[a].x-D[a])>0&&(D[a]+=f/2);if(b&&zg(n.center,mg)&&1!==_)for(a=0;a<O;++a)(d=(u=b===dg?S:A[~~(a/_)])-F[a].y2-t[a].y-N[a])>0&&(N[a]+=d/2);for(a=0;a<O;++a)m.union(F[a].translate(D[a],N[a]));switch(f=zg(n.anchor,"x"),d=zg(n.anchor,"y"),zg(n.anchor,vg)){case $m:f-=m.width();break;case Km:f-=m.width()/2}switch(zg(n.anchor,mg)){case $m:d-=m.height();break;case Km:d-=m.height()/2}for(f=Math.round(f),d=Math.round(d),m.clear(),a=0;a<O;++a)t[a].mark.bounds.clear();for(a=0;a<O;++a)(s=t[a]).x+=D[a]+=f,s.y+=N[a]+=d,m.union(s.mark.bounds.union(s.bounds.translate(D[a],N[a]))),p&&e.dirty(s);return m}function Wg(e,t,n){var r,a,i,o,u,s,c,l=function(e){for(var t,n,r,a,i,o,u,s=e.items,c=s.length,l=0,f={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};l<c;++l)if(u=(o=s[l]).items,o.marktype===Xm)switch(o.role){case Ym:case eg:case Jm:break;case tg:(t=f.rowheaders).push.apply(t,Object(Qi.a)(u));break;case ng:(n=f.rowfooters).push.apply(n,Object(Qi.a)(u));break;case ag:(r=f.colheaders).push.apply(r,Object(Qi.a)(u));break;case ig:(a=f.colfooters).push.apply(a,Object(Qi.a)(u));break;case rg:f.rowtitle=u[0];break;case og:f.coltitle=u[0];break;default:(i=f.marks).push.apply(i,Object(Qi.a)(u))}return f}(t),f=l.marks,d=n.bounds===pg?Vg:qg,h=n.offset,p=n.columns||f.length,v=p<=0?1:Math.ceil(f.length/p),m=v*p,g=Ug(e,f,n);g.empty()&&g.set(0,0,0,0),l.rowheaders&&(s=zg(n.headerBand,mg,null),r=Hg(e,l.rowheaders,f,p,v,-zg(h,"rowHeader"),Ig,0,d,"x1",0,p,1,s)),l.colheaders&&(s=zg(n.headerBand,vg,null),a=Hg(e,l.colheaders,f,p,p,-zg(h,"columnHeader"),Ig,1,d,"y1",0,1,p,s)),l.rowfooters&&(s=zg(n.footerBand,mg,null),i=Hg(e,l.rowfooters,f,p,v,zg(h,"rowFooter"),Rg,0,d,"x2",p-1,p,1,s)),l.colfooters&&(s=zg(n.footerBand,vg,null),o=Hg(e,l.colfooters,f,p,p,zg(h,"columnFooter"),Rg,1,d,"y2",m-p,1,p,s)),l.rowtitle&&(u=zg(n.titleAnchor,mg),c=zg(h,"rowTitle"),c=u===$m?i+c:r-c,s=zg(n.titleBand,mg,.5),Gg(e,l.rowtitle,c,0,g,s)),l.coltitle&&(u=zg(n.titleAnchor,vg),c=zg(h,"columnTitle"),c=u===$m?o+c:a-c,s=zg(n.titleBand,vg,.5),Gg(e,l.coltitle,c,1,g,s))}function Vg(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function qg(e,t){return e.bounds[t]}function Hg(e,t,n,r,a,i,o,u,s,c,l,f,d,h){var p,v,m,g,b,y,x,_,w,O=n.length,k=0,j=0;if(!O)return k;for(p=l;p<O;p+=f)n[p]&&(k=o(k,s(n[p],c)));if(!t.length)return k;for(t.length>a&&(e.warn("Grid headers exceed limit: "+a),t=t.slice(0,a)),k+=i,v=0,g=t.length;v<g;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(p=l,v=0,g=t.length;v<g;++v,p+=f){for(b=(y=t[v]).mark.bounds,m=p;m>=0&&null==(x=n[m]);m-=d);u?(_=null==h?x.x:Math.round(x.bounds.x1+h*x.bounds.width()),w=k):(_=k,w=null==h?x.y:Math.round(x.bounds.y1+h*x.bounds.height())),b.union(y.bounds.translate(_-(y.x||0),w-(y.y||0))),y.x=_,y.y=w,e.dirty(y),j=o(j,b[c])}return j}function Gg(e,t,n,r,a,i){if(t){e.dirty(t);var o=n,u=n;r?o=Math.round(a.x1+i*a.width()):u=Math.round(a.y1+i*a.height()),t.bounds.translate(o-(t.x||0),u-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=u,e.dirty(t)}}function Kg(e,t,n,r,a,i,o){var u=function(e,t){var n=e[t]||{};return function(t,r){return null!=n[t]?n[t]:null!=e[t]?e[t]:r}}(n,t),s=function(e,t){var n=-1/0;return e.forEach((function(e){null!=e.offset&&(n=Math.max(n,e.offset))})),n>-1/0?n:t}(e,u("offset",0)),c=u("anchor",Gm),l=c===$m?1:c===Km?.5:0,f={align:hg,bounds:u("bounds",pg),columns:"vertical"===u("direction")?1:e.length,padding:u("margin",8),center:u("center"),nodirty:!0};switch(t){case Vm:f.anchor={x:Math.floor(r.x1)-s,column:$m,y:l*(o||r.height()+2*r.y1),row:c};break;case qm:f.anchor={x:Math.ceil(r.x2)+s,y:l*(o||r.height()+2*r.y1),row:c};break;case Wm:f.anchor={y:Math.floor(a.y1)-s,row:$m,x:l*(i||a.width()+2*a.x1),column:c};break;case Hm:f.anchor={y:Math.ceil(a.y2)+s,x:l*(i||a.width()+2*a.x1),column:c};break;case"top-left":f.anchor={x:s,y:s};break;case"top-right":f.anchor={x:i-s,y:s,column:$m};break;case"bottom-left":f.anchor={x:s,y:o-s,row:$m};break;case"bottom-right":f.anchor={x:i-s,y:o-s,column:$m,row:$m}}return f}function $g(e,t){var n,r,a=t.items[0],i=a.datum,o=a.orient,u=a.bounds,s=a.x,c=a.y;return a._bounds?a._bounds.clear().union(u):a._bounds=u.clone(),u.clear(),function(e,t,n){var r=t.padding,a=r-n.x,i=r-n.y;if(t.datum.title){var o=t.items[1].items[0],u=o.anchor,s=t.titlePadding||0,c=r-o.x,l=r-o.y;switch(o.orient){case Vm:a+=Math.ceil(o.bounds.width())+s;break;case qm:case Hm:break;default:i+=o.bounds.height()+s}switch((a||i)&&Yg(e,n,a,i),o.orient){case Vm:l+=Xg(t,n,o,u,1,1);break;case qm:c+=Xg(t,n,o,$m,0,0)+s,l+=Xg(t,n,o,u,1,1);break;case Hm:c+=Xg(t,n,o,u,0,0),l+=Xg(t,n,o,$m,-1,0,1)+s;break;default:c+=Xg(t,n,o,u,0,0)}(c||l)&&Yg(e,o,c,l),(c=Math.round(o.bounds.x1-r))<0&&(Yg(e,n,-c,0),Yg(e,o,-c,0))}else(a||i)&&Yg(e,n,a,i)}(e,a,a.items[0].items[0]),u=function(e,t){return e.items.forEach((function(e){return t.union(e.bounds)})),t.x1=e.padding,t.y1=e.padding,t}(a,u),n=2*a.padding,r=2*a.padding,u.empty()||(n=Math.ceil(u.width()+n),r=Math.ceil(u.height()+r)),"symbol"===i.type&&function(e){var t=e.reduce((function(e,t){return e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e}),{});e.forEach((function(e){e.width=t[e.column],e.height=e.bounds.y2-e.y}))}(a.items[0].items[0].items[0].items),o!==fg&&(a.x=s=0,a.y=c=0),a.width=n,a.height=r,xh(u.set(s,c,s+n,c+r),a),a.mark.bounds.clear().union(u),a}function Xg(e,t,n,r,a,i,o){var u="symbol"!==e.datum.type,s=n.datum.vgrad,c=(!u||!i&&s||o?t:t.items[0]).bounds[a?"y2":"x2"]-e.padding,l=s&&i?c:0,f=s&&i?0:c,d=a<=0?0:Qp(n);return Math.round(r===Gm?l:r===$m?f-d:.5*(c-d))}function Yg(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function Jg(e){lr.call(this,null,e)}function Qg(e,t){var n=0;if(void 0===t){var r,a=Object(pr.a)(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;(i=+i)&&(n+=i)}}catch(l){a.e(l)}finally{a.f()}}else{var o,u=-1,s=Object(pr.a)(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;(c=+t(c,++u,e))&&(n+=c)}}catch(l){s.e(l)}finally{s.f()}}return n}function Zg(e){lr.call(this,null,e)}function eb(e){lr.call(this,null,e)}function tb(){return An({})}function nb(e){lr.call(this,null,e)}function rb(e){lr.call(this,[],e)}Object(Lt.v)(Jg,lr,{transform:function(e,t){var n,r=t.dataflow;return e.mark.items.forEach((function(t){e.layout&&Wg(r,t,e.layout),function(e,t,n){var r,a,i,o,u,s=t.items,c=Math.max(0,t.width||0),l=Math.max(0,t.height||0),f=(new ph).set(0,0,c,l),d=f.clone(),h=f.clone(),p=[];for(o=0,u=s.length;o<u;++o)switch((a=s[o]).role){case Ym:(Fg(a)?d:h).union(Tg(e,a,c,l));break;case Jm:r=a;break;case eg:p.push($g(e,a));break;case Qm:case Zm:case tg:case ng:case rg:case ag:case ig:case og:d.union(a.bounds),h.union(a.bounds);break;default:f.union(a.bounds)}if(p.length){var v={};for(var m in p.forEach((function(e){(i=e.orient||qm)!==fg&&(v[i]||(v[i]=[])).push(e)})),v){var g=v[m];Ug(e,g,Kg(g,m,n.legends,d,h,c,l))}p.forEach((function(t){var r=t.bounds;if(r.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=r,e.dirty(t)),n.autosize&&n.autosize.type===sg)switch(t.orient){case Vm:case qm:f.add(r.x1,0).add(r.x2,0);break;case Wm:case Hm:f.add(0,r.y1).add(0,r.y2)}else f.union(r)}))}f.union(d).union(h),r&&f.union(function(e,t,n,r,a){var i,o=t.items[0],u=o.frame,s=o.orient,c=o.anchor,l=o.offset,f=o.padding,d=o.items[0].items[0],h=o.items[1]&&o.items[1].items[0],p=s===Vm||s===qm?r:n,v=0,m=0,g=0,b=0,y=0;if(u!==Xm?s===Vm?(v=a.y2,p=a.y1):s===qm?(v=a.y1,p=a.y2):(v=a.x1,p=a.x2):s===Vm&&(v=r,p=0),i=c===Gm?v:c===$m?p:(v+p)/2,h&&h.text){switch(s){case Wm:case Hm:y=d.bounds.height()+f;break;case Vm:b=d.bounds.width()+f;break;case qm:b=-d.bounds.width()-f}Dg.clear().union(h.bounds),Dg.translate(b-(h.x||0),y-(h.y||0)),Ng(h,"x",b)|Ng(h,"y",y)&&(e.dirty(h),h.bounds.clear().union(Dg),h.mark.bounds.clear().union(Dg),e.dirty(h)),Dg.clear().union(h.bounds)}else Dg.clear();switch(Dg.union(d.bounds),s){case Wm:m=i,g=a.y1-Dg.height()-l;break;case Vm:m=a.x1-Dg.width()-l,g=i;break;case qm:m=a.x2+Dg.width()+l,g=i;break;case Hm:m=i,g=a.y2+l;break;default:m=o.x,g=o.y}return Ng(o,"x",m)|Ng(o,"y",g)&&(Dg.translate(m,g),e.dirty(o),o.bounds.clear().union(Dg),t.bounds.clear().union(Dg),e.dirty(o)),o.bounds}(e,r,c,l,f));t.clip&&f.set(0,0,t.width||0,t.height||0);!function(e,t,n,r){var a=r.autosize||{},i=a.type;if(e._autosize<1||!i)return;var o=e._width,u=e._height,s=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),l=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1)),d=Math.max(0,Math.ceil(n.x2-s)),h=Math.max(0,Math.ceil(n.y2-l));if(a.contains===ug){var p=e.padding();o-=p.left+p.right,u-=p.top+p.bottom}i===fg?(c=0,f=0,s=o,l=u):i===sg?(s=Math.max(0,o-c-d),l=Math.max(0,u-f-h)):i===cg?(s=Math.max(0,o-c-d),u=l+f+h):i===lg?(o=s+c+d,l=Math.max(0,u-f-h)):"pad"===i&&(o=s+c+d,u=l+f+h);e._resizeView(o,u,s,l,[c,f],a.resize)}(e,t,f,n)}(r,t,e)})),(n=e.mark.group)&&"legend-entry"!==n.mark.role?t.reflow():t}}),Object(Lt.v)(Zg,lr,{transform:function(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=this.value,i=e.scale,o=ad(i,null==e.count?e.values?e.values.length:10:e.count,e.minstep),u=e.format||ud(n,i,o,e.formatSpecifier,e.formatType,!!e.values),s=e.values?id(i,e.values,o):od(i,o);return a&&(r.rem=a),a=s.map((function(e,t){return An({index:t/(s.length-1||1),value:e,label:u(e)})})),e.extra&&a.length&&a.push(An({index:-1,extra:{value:a[0].value},label:""})),r.source=a,r.add=a,this.value=a,r}}),Object(Lt.v)(eb,lr,{transform:function(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=e.item||tb,i=e.key||En,o=this.value;return Object(Lt.x)(r.encode)&&(r.encode=null),o&&(e.modified("key")||t.modified(i))&&Object(Lt.k)("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=function(e){var t=Object(Lt.p)().test((function(e){return e.exit}));return t.lookup=function(n){return t.get(e(n))},t}(i)),t.visit(t.ADD,(function(e){var t=i(e),n=o.get(t);n?n.exit?(o.empty--,r.add.push(n)):r.mod.push(n):(n=a(e),o.set(t,n),r.add.push(n)),n.datum=e,n.exit=!1})),t.visit(t.MOD,(function(e){var t=i(e),n=o.get(t);n&&(n.datum=e,r.mod.push(n))})),t.visit(t.REM,(function(e){var t=i(e),n=o.get(t);e!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++o.empty)})),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&o.empty>n.cleanThreshold)&&n.runAfter(o.clean),r}}),Object(Lt.v)(nb,lr,{transform:function(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,a=e.encoders,i=t.encode;if(Object(Lt.x)(i)){if(!n.changed()&&!i.every((function(e){return a[e]})))return t.StopPropagation;i=i[0],n.encode=null}var o="enter"===i,u=a.update||Lt.o,s=a.enter||Lt.o,c=a.exit||Lt.o,l=(i&&!o?a[i]:u)||Lt.o;if(t.changed(t.ADD)&&(t.visit(t.ADD,(function(t){s(t,e),u(t,e)})),n.modifies(s.output),n.modifies(u.output),l!==Lt.o&&l!==u&&(t.visit(t.ADD,(function(t){l(t,e)})),n.modifies(l.output))),t.changed(t.REM)&&c!==Lt.o&&(t.visit(t.REM,(function(t){c(t,e)})),n.modifies(c.output)),o||l!==Lt.o){var f=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(f,(function(t){var a=s(t,e)||r;(l(t,e)||a)&&n.mod.push(t)})),n.mod.length&&n.modifies(s.output)):t.visit(f,(function(t){(l(t,e)||r)&&n.mod.push(t)})),n.mod.length&&n.modifies(l.output)}return n.changed()?n:t.StopPropagation}}),Object(Lt.v)(rb,lr,{transform:function(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,r,a,i,o,u=t.dataflow.locale(),s=t.fork(t.NO_SOURCE|t.NO_FIELDS),c=this.value,l=e.type||ed,f=e.scale,d=+e.limit,h=ad(f,null==e.count?5:e.count,e.minstep),p=!!e.values||l===ed,v=e.format||dd(u,f,h,l,e.formatSpecifier,e.formatType,p),m=e.values||fd(f,h);return c&&(s.rem=c),l===ed?(d&&m.length>d?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),c=m.slice(0,d-1),o=!0):c=m,Object(Lt.A)(a=e.size)?(e.values||0!==f(c[0])||(c=c.slice(1)),i=c.reduce((function(t,n){return Math.max(t,a(n,e))}),0)):a=Object(Lt.i)(i=a||8),c=c.map((function(t,n){return An({index:n,label:v(t,n,c),value:t,offset:i,size:a(t,e)})})),o&&(o=m[c.length],c.push(An({index:c.length,label:"\u2026".concat(m.length-c.length," entries"),value:o,offset:i,size:a(o,e)})))):"gradient"===l?(n=f.domain(),r=$f(f,n[0],Object(Lt.S)(n)),m.length<3&&!e.values&&n[0]!==Object(Lt.S)(n)&&(m=[n[0],Object(Lt.S)(n)]),c=m.map((function(e,t){return An({index:t,label:v(e,t,m),value:e,perc:r(e)})}))):(a=m.length-1,r=function(e){var t=e.domain(),n=t.length-1,r=+t[0],a=+Object(Lt.S)(t),i=a-r;if(e.type===xf){var o=n?i/n:.1;i=(a+=o)-(r-=o)}return function(e){return(e-r)/i}}(f),c=m.map((function(e,t){return An({index:t,label:v(e,t,m),value:e,perc:t?r(e):0,perc2:t===a?1:r(m[t+1])})}))),s.source=c,s.add=c,this.value=c,s}});var ab=function(e){return e.source.x},ib=function(e){return e.source.y},ob=function(e){return e.target.x},ub=function(e){return e.target.y};function sb(e){lr.call(this,{},e)}sb.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Object(Lt.v)(sb,lr,{transform:function(e,t){var n=e.sourceX||ab,r=e.sourceY||ib,a=e.targetX||ob,i=e.targetY||ub,o=e.as||"path",u=e.orient||"vertical",s=e.shape||"line",c=db.get(s+"-"+u)||db.get(s);return c||Object(Lt.k)("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,(function(e){e[o]=c(n(e),r(e),a(e),i(e))})),t.reflow(e.modified()).modifies(o)}});var cb=function(e,t,n,r){return"M"+e+","+t+"L"+n+","+r},lb=function(e,t,n,r){var a=n-e,i=r-t,o=Math.sqrt(a*a+i*i)/2;return"M"+e+","+t+"A"+o+","+o+" "+180*Math.atan2(i,a)/Math.PI+" 0 1 "+n+","+r},fb=function(e,t,n,r){var a=n-e,i=r-t,o=.2*(a+i),u=.2*(i-a);return"M"+e+","+t+"C"+(e+o)+","+(t+u)+" "+(n+u)+","+(r-o)+" "+n+","+r},db=Object(Lt.p)({line:cb,"line-radial":function(e,t,n,r){return cb(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},arc:lb,"arc-radial":function(e,t,n,r){return lb(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},curve:fb,"curve-radial":function(e,t,n,r){return fb(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},"orthogonal-horizontal":function(e,t,n,r){return"M"+e+","+t+"V"+r+"H"+n},"orthogonal-vertical":function(e,t,n,r){return"M"+e+","+t+"H"+n+"V"+r},"orthogonal-radial":function(e,t,n,r){var a=Math.cos(e),i=Math.sin(e),o=Math.cos(n),u=Math.sin(n);return"M"+t*a+","+t*i+"A"+t+","+t+" 0 0,"+((Math.abs(n-e)>Math.PI?n<=e:n>e)?1:0)+" "+t*o+","+t*u+"L"+r*o+","+r*u},"diagonal-horizontal":function(e,t,n,r){var a=(e+n)/2;return"M"+e+","+t+"C"+a+","+t+" "+a+","+r+" "+n+","+r},"diagonal-vertical":function(e,t,n,r){var a=(t+r)/2;return"M"+e+","+t+"C"+e+","+a+" "+n+","+a+" "+n+","+r},"diagonal-radial":function(e,t,n,r){var a=Math.cos(e),i=Math.sin(e),o=Math.cos(n),u=Math.sin(n),s=(t+r)/2;return"M"+t*a+","+t*i+"C"+s*a+","+s*i+" "+s*o+","+s*u+" "+r*o+","+r*u}});function hb(e){lr.call(this,null,e)}hb.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Object(Lt.v)(hb,lr,{transform:function(e,t){var n,r,a,i=e.as||["startAngle","endAngle"],o=i[0],u=i[1],s=e.field||Lt.M,c=e.startAngle||0,l=null!=e.endAngle?e.endAngle:2*Math.PI,f=t.source,d=f.map(s),h=d.length,p=c,v=(l-c)/Qg(d),m=Oa(h);for(e.sort&&m.sort((function(e,t){return d[e]-d[t]})),n=0;n<h;++n)a=d[m[n]],(r=f[m[n]])[o]=p,r[u]=p+=a*v;return this.value=d,t.reflow(e.modified()).modifies(i)}});function pb(e){return Lf(e)&&e!==mf}var vb=Object(Lt.ab)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function mb(e){lr.call(this,null,e),this.modified(!0)}function gb(e,t,n){Vf(e)&&(Math.abs(t.reduce((function(e,t){return e+(t<0?-1:t>0?1:0)}),0))!==t.length&&n.warn("Log scale domain includes zero: "+Object(Lt.W)(t)));return t}function bb(e,t,n){return Object(Lt.A)(e)&&(t||n)?function(e,t){var n=t[0],r=Object(Lt.S)(t)-n;return function(t){return e(n+t*r)}}(e,yb(t||[0,1],n)):e}function yb(e,t){return t?e.slice().reverse():e}function xb(e){lr.call(this,null,e)}Object(Lt.v)(mb,lr,{transform:function(e,t){var n=t.dataflow,r=this.value,a=function(e){var t,n=e.type,r="";if(n===mf)return"sequential-linear";(function(e){var t=e.type;return Lf(t)&&t!==pf&&t!==vf&&(e.scheme||e.range&&e.range.length&&e.range.every(Lt.F))})(e)&&(r=2===(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0)?"sequential-":3===t?"diverging-":"");return(r+n||cf).toLowerCase()}(e);for(a in r&&a===r.type||(this.value=r=Pf(a)()),e)if(!vb[a]){if("padding"===a&&pb(r.type))continue;Object(Lt.A)(r[a])?r[a](e[a]):n.warn("Unsupported scale property: "+a)}return function(e,t,n){var r=e.type,a=t.round||!1,i=t.range;if(null!=t.rangeStep)i=function(e,t,n){e!==Of&&e!==wf&&Object(Lt.k)("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,a=e===wf?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*sf(n,a,r)]}(r,t,n);else if(t.scheme&&(i=function(e,t,n){var r,a=t.schemeExtent;Object(Lt.x)(t.scheme)?r=Kf(t.scheme,t.interpolate,t.interpolateGamma):(r=Zf(t.scheme.toLowerCase()))||Object(Lt.k)("Unrecognized scheme name: ".concat(t.scheme));return n=e===xf?n+1:e===kf?n-1:e===bf||e===yf?+t.schemeCount||5:n,qf(e)?bb(r,a,t.reverse):Object(Lt.A)(r)?function(e,t){for(var n=new Array(t),r=t+1,a=0;a<t;)n[a]=e(++a/r);return n}(bb(r,a),n):e===_f?r:r.slice(0,n)}(r,t,n),Object(Lt.A)(i))){if(e.interpolator)return e.interpolator(i);Object(Lt.k)("Scale type ".concat(r," does not support interpolating color schemes."))}if(i&&qf(r))return e.interpolator(Kf(yb(i,t.reverse),t.interpolate,t.interpolateGamma));i&&t.interpolate&&e.interpolate?e.interpolate(Xf(t.interpolate,t.interpolateGamma)):Object(Lt.A)(e.round)?e.round(a):Object(Lt.A)(e.rangeRound)&&e.interpolate(a?Us:Ls);i&&e.range(yb(i,t.reverse))}(r,e,function(e,t,n){var r=t.bins;if(r&&!Object(Lt.x)(r)){var a=e.domain(),i=a[0],o=Object(Lt.S)(a),u=r.step,s=null==r.start?i:r.start,c=null==r.stop?o:r.stop;u||Object(Lt.k)("Scale bins parameter missing step property."),s<i&&(s=u*Math.ceil(i/u)),c>o&&(c=u*Math.floor(o/u)),r=Oa(s,c+u/2,u)}r?e.bins=r:e.bins&&delete e.bins;e.type===kf&&(r?t.domain||t.domainRaw||(e.domain(r),n=r.length):e.bins=e.domain());return n}(r,e,function(e,t,n){var r=function(e,t,n){return t?(e.domain(gb(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(r>-1)return r;var a,i,o=t.domain,u=e.type,s=t.zero||void 0===t.zero&&function(e){var t=e.type;return!e.bins&&(t===cf||t===ff||t===df)}(e);if(!o)return 0;pb(u)&&t.padding&&o[0]!==Object(Lt.S)(o)&&(o=function(e,t,n,r,a,i){var o=Math.abs(Object(Lt.S)(n)-n[0]),u=o/(o-2*r),s=e===lf?Object(Lt.ib)(t,null,u):e===df?Object(Lt.jb)(t,null,u,.5):e===ff?Object(Lt.jb)(t,null,u,a||1):e===hf?Object(Lt.kb)(t,null,u,i||1):Object(Lt.hb)(t,null,u);return(t=t.slice())[0]=s[0],t[t.length-1]=s[1],t}(u,o,t.range,t.padding,t.exponent,t.constant));if((s||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(a=(o=o.slice()).length-1||1,s&&(o[0]>0&&(o[0]=0),o[a]<0&&(o[a]=0)),null!=t.domainMin&&(o[0]=t.domainMin),null!=t.domainMax&&(o[a]=t.domainMax),null!=t.domainMid)){var c=(i=t.domainMid)>o[a]?a+1:i<o[0]?0:a;c!==a&&n.warn("Scale domainMid exceeds domain min or max.",i),o.splice(c,0,i)}e.domain(gb(u,o,n)),u===_f&&e.unknown(t.domainImplicit?Nu:void 0);t.nice&&e.nice&&e.nice(!0!==t.nice&&ad(e,t.nice)||null);return o.length}(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),Object(Lt.v)(xb,lr,{transform:function(e,t){var n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Fn(e.sort)),this.modified(n),t}});var _b="zero",wb="center",Ob="normalize",kb=["y0","y1"];function jb(e){lr.call(this,null,e)}function Eb(e,t,n,r,a){for(var i,o=(t-e.sum)/2,u=e.length,s=0;s<u;++s)(i=e[s])[r]=o,i[a]=o+=Math.abs(n(i))}function Cb(e,t,n,r,a){for(var i,o=1/e.sum,u=0,s=e.length,c=0,l=0;c<s;++c)(i=e[c])[r]=u,i[a]=u=o*(l+=Math.abs(n(i)))}function Ab(e,t,n,r,a){for(var i,o,u=0,s=0,c=e.length,l=0;l<c;++l)(i=+n(o=e[l]))<0?(o[r]=s,o[a]=s+=i):(o[r]=u,o[a]=u+=i)}jb.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:_b,values:[_b,wb,Ob]},{name:"as",type:"string",array:!0,length:2,default:kb}]},Object(Lt.v)(jb,lr,{transform:function(e,t){var n,r,a,i,o=e.as||kb,u=o[0],s=o[1],c=Fn(e.sort),l=e.field||Lt.M,f=e.offset===wb?Eb:e.offset===Ob?Cb:Ab;for(n=function(e,t,n,r){var a,i,o,u,s,c,l,f,d,h=[],p=function(e){return e(s)};if(null==t)h.push(e.slice());else for(a={},i=0,o=e.length;i<o;++i)s=e[i],(l=a[c=t.map(p)])||(a[c]=l=[],h.push(l)),l.push(s);for(c=0,d=0,u=h.length;c<u;++c){for(i=0,f=0,o=(l=h[c]).length;i<o;++i)f+=Math.abs(r(l[i]));l.sum=f,f>d&&(d=f),n&&l.sort(n)}return h.max=d,h}(t.source,e.groupby,c,l),r=0,a=n.length,i=n.max;r<a;++r)f(n[r],i,l,u,s);return t.reflow(e.modified()).modifies(o)}});var Sb=function(e){return e};function Db(e,t){e&&Fb.hasOwnProperty(e.type)&&Fb[e.type](e,t)}var Nb={Feature:function(e,t){Db(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,a=n.length;++r<a;)Db(n[r].geometry,t)}},Fb={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Tb(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)Tb(n[r],t,0)},Polygon:function(e,t){Mb(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)Mb(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,a=n.length;++r<a;)Db(n[r],t)}};function Tb(e,t,n){var r,a=-1,i=e.length-n;for(t.lineStart();++a<i;)r=e[a],t.point(r[0],r[1],r[2]);t.lineEnd()}function Mb(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Tb(e[n],t,1);t.polygonEnd()}var Ib=function(e,t){e&&Nb.hasOwnProperty(e.type)?Nb[e.type](e,t):Db(e,t)},Rb=n(3),Pb=n(9),Bb=function(){function e(){Object(Rb.a)(this,e),this._partials=new Float64Array(32),this._n=0}return Object(Pb.a)(e,[{key:"add",value:function(e){for(var t=this._partials,n=0,r=0;r<this._n&&r<32;r++){var a=t[r],i=e+a,o=Math.abs(e)<Math.abs(a)?e-(i-a):a-(i-e);o&&(t[n++]=o),e=i}return t[n]=e,this._n=n+1,this}},{key:"valueOf",value:function(){var e,t,n,r=this._partials,a=this._n,i=0;if(a>0){for(i=r[--a];a>0&&(e=i,!(n=(t=r[--a])-((i=e+t)-e))););a>0&&(n<0&&r[a-1]<0||n>0&&r[a-1]>0)&&(t=2*n)==(e=i+t)-i&&(i=e)}return i}}]),e}();var zb=1e-6,Lb=1e-12,Ub=Math.PI,Wb=Ub/2,Vb=Ub/4,qb=2*Ub,Hb=180/Ub,Gb=Ub/180,Kb=Math.abs,$b=Math.atan,Xb=Math.atan2,Yb=Math.cos,Jb=Math.ceil,Qb=Math.exp,Zb=(Math.floor,Math.hypot),ey=Math.log,ty=Math.pow,ny=Math.sin,ry=Math.sign||function(e){return e>0?1:e<0?-1:0},ay=Math.sqrt,iy=Math.tan;function oy(e){return e>1?0:e<-1?Ub:Math.acos(e)}function uy(e){return e>1?Wb:e<-1?-Wb:Math.asin(e)}function sy(){}var cy,ly,fy,dy,hy=new Bb,py=new Bb,vy={point:sy,lineStart:sy,lineEnd:sy,polygonStart:function(){vy.lineStart=my,vy.lineEnd=yy},polygonEnd:function(){vy.lineStart=vy.lineEnd=vy.point=sy,hy.add(Kb(py)),py=new Bb},result:function(){var e=hy/2;return hy=new Bb,e}};function my(){vy.point=gy}function gy(e,t){vy.point=by,cy=fy=e,ly=dy=t}function by(e,t){py.add(dy*e-fy*t),fy=e,dy=t}function yy(){by(cy,ly)}var xy=vy,_y=1/0,wy=_y,Oy=-_y,ky=Oy;var jy,Ey,Cy,Ay,Sy={point:function(e,t){e<_y&&(_y=e);e>Oy&&(Oy=e);t<wy&&(wy=t);t>ky&&(ky=t)},lineStart:sy,lineEnd:sy,polygonStart:sy,polygonEnd:sy,result:function(){var e=[[_y,wy],[Oy,ky]];return Oy=ky=-(wy=_y=1/0),e}},Dy=0,Ny=0,Fy=0,Ty=0,My=0,Iy=0,Ry=0,Py=0,By=0,zy={point:Ly,lineStart:Uy,lineEnd:qy,polygonStart:function(){zy.lineStart=Hy,zy.lineEnd=Gy},polygonEnd:function(){zy.point=Ly,zy.lineStart=Uy,zy.lineEnd=qy},result:function(){var e=By?[Ry/By,Py/By]:Iy?[Ty/Iy,My/Iy]:Fy?[Dy/Fy,Ny/Fy]:[NaN,NaN];return Dy=Ny=Fy=Ty=My=Iy=Ry=Py=By=0,e}};function Ly(e,t){Dy+=e,Ny+=t,++Fy}function Uy(){zy.point=Wy}function Wy(e,t){zy.point=Vy,Ly(Cy=e,Ay=t)}function Vy(e,t){var n=e-Cy,r=t-Ay,a=ay(n*n+r*r);Ty+=a*(Cy+e)/2,My+=a*(Ay+t)/2,Iy+=a,Ly(Cy=e,Ay=t)}function qy(){zy.point=Ly}function Hy(){zy.point=Ky}function Gy(){$y(jy,Ey)}function Ky(e,t){zy.point=$y,Ly(jy=Cy=e,Ey=Ay=t)}function $y(e,t){var n=e-Cy,r=t-Ay,a=ay(n*n+r*r);Ty+=a*(Cy+e)/2,My+=a*(Ay+t)/2,Iy+=a,Ry+=(a=Ay*e-Cy*t)*(Cy+e),Py+=a*(Ay+t),By+=3*a,Ly(Cy=e,Ay=t)}var Xy=zy;function Yy(e){this._context=e}Yy.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,qb)}},result:sy};var Jy,Qy,Zy,ex,tx,nx=new Bb,rx={point:sy,lineStart:function(){rx.point=ax},lineEnd:function(){Jy&&ix(Qy,Zy),rx.point=sy},polygonStart:function(){Jy=!0},polygonEnd:function(){Jy=null},result:function(){var e=+nx;return nx=new Bb,e}};function ax(e,t){rx.point=ix,Qy=ex=e,Zy=tx=t}function ix(e,t){ex-=e,tx-=t,nx.add(ay(ex*ex+tx*tx)),ex=e,tx=t}var ox=rx;function ux(){this._string=[]}function sx(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}ux.prototype={_radius:4.5,_circle:sx(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=sx(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var cx=function(e,t){var n,r,a=4.5;function i(e){return e&&("function"===typeof a&&r.pointRadius(+a.apply(this,arguments)),Ib(e,n(r))),r.result()}return i.area=function(e){return Ib(e,n(xy)),xy.result()},i.measure=function(e){return Ib(e,n(ox)),ox.result()},i.bounds=function(e){return Ib(e,n(Sy)),Sy.result()},i.centroid=function(e){return Ib(e,n(Xy)),Xy.result()},i.projection=function(t){return arguments.length?(n=null==t?(e=null,Sb):(e=t).stream,i):e},i.context=function(e){return arguments.length?(r=null==e?(t=null,new ux):new Yy(t=e),"function"!==typeof a&&r.pointRadius(a),i):t},i.pointRadius=function(e){return arguments.length?(a="function"===typeof e?e:(r.pointRadius(+e),+e),i):a},i.projection(e).context(t)},lx=function(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:sy,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},fx=function(e,t){return Kb(e[0]-t[0])<zb&&Kb(e[1]-t[1])<zb};function dx(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var hx=function(e,t,n,r,a){var i,o,u=[],s=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],o=e[t];if(fx(r,o)){if(!r[2]&&!o[2]){for(a.lineStart(),i=0;i<t;++i)a.point((r=e[i])[0],r[1]);return void a.lineEnd()}o[0]+=2e-6}u.push(n=new dx(r,e,null,!0)),s.push(n.o=new dx(r,null,n,!1)),u.push(n=new dx(o,e,null,!1)),s.push(n.o=new dx(o,null,n,!0))}})),u.length){for(s.sort(t),px(u),px(s),i=0,o=s.length;i<o;++i)s[i].e=n=!n;for(var c,l,f=u[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;c=d.z,a.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(i=0,o=c.length;i<o;++i)a.point((l=c[i])[0],l[1]);else r(d.x,d.n.x,1,a);d=d.n}else{if(h)for(c=d.p.z,i=c.length-1;i>=0;--i)a.point((l=c[i])[0],l[1]);else r(d.x,d.p.x,-1,a);d=d.p}c=(d=d.o).z,h=!h}while(!d.v);a.lineEnd()}}};function px(e){if(t=e.length){for(var t,n,r=0,a=e[0];++r<t;)a.n=n=e[r],n.p=a,a=n;a.n=n=e[0],n.p=a}}function vx(e){return[Xb(e[1],e[0]),uy(e[2])]}function mx(e){var t=e[0],n=e[1],r=Yb(n);return[r*Yb(t),r*ny(t),ny(n)]}function gx(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function bx(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function yx(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function xx(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function _x(e){var t=ay(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function wx(e){return Kb(e[0])<=Ub?e[0]:ry(e[0])*((Kb(e[0])+Ub)%qb-Ub)}var Ox=k.a.mark(kx);function kx(e){var t,n,r;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=Object(pr.a)(e),a.prev=1,t.s();case 3:if((n=t.n()).done){a.next=8;break}return r=n.value,a.delegateYield(r,"t0",6);case 6:a.next=3;break;case 8:a.next=13;break;case 10:a.prev=10,a.t1=a.catch(1),t.e(a.t1);case 13:return a.prev=13,t.f(),a.finish(13);case 16:case"end":return a.stop()}}),Ox,null,[[1,10,13,16]])}function jx(e){return Array.from(kx(e))}var Ex=function(e,t,n,r){return function(a){var i,o,u,s=t(a),c=lx(),l=t(c),f=!1,d={point:h,lineStart:v,lineEnd:m,polygonStart:function(){d.point=g,d.lineStart=b,d.lineEnd=y,o=[],i=[]},polygonEnd:function(){d.point=h,d.lineStart=v,d.lineEnd=m,o=jx(o);var e=function(e,t){var n=wx(t),r=t[1],a=ny(r),i=[ny(n),-Yb(n),0],o=0,u=0,s=new Bb;1===a?r=Wb+zb:-1===a&&(r=-Wb-zb);for(var c=0,l=e.length;c<l;++c)if(d=(f=e[c]).length)for(var f,d,h=f[d-1],p=wx(h),v=h[1]/2+Vb,m=ny(v),g=Yb(v),b=0;b<d;++b,p=x,m=w,g=O,h=y){var y=f[b],x=wx(y),_=y[1]/2+Vb,w=ny(_),O=Yb(_),k=x-p,j=k>=0?1:-1,E=j*k,C=E>Ub,A=m*w;if(s.add(Xb(A*j*ny(E),g*O+A*Yb(E))),o+=C?k+j*qb:k,C^p>=n^x>=n){var S=bx(mx(h),mx(y));_x(S);var D=bx(i,S);_x(D);var N=(C^k>=0?-1:1)*uy(D[2]);(r>N||r===N&&(S[0]||S[1]))&&(u+=C^k>=0?1:-1)}}return(o<-1e-6||o<zb&&s<-1e-12)^1&u}(i,r);o.length?(f||(a.polygonStart(),f=!0),hx(o,Ax,e,n,a)):e&&(f||(a.polygonStart(),f=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),f&&(a.polygonEnd(),f=!1),o=i=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function h(t,n){e(t,n)&&a.point(t,n)}function p(e,t){s.point(e,t)}function v(){d.point=p,s.lineStart()}function m(){d.point=h,s.lineEnd()}function g(e,t){u.push([e,t]),l.point(e,t)}function b(){l.lineStart(),u=[]}function y(){g(u[0][0],u[0][1]),l.lineEnd();var e,t,n,r,s=l.clean(),d=c.result(),h=d.length;if(u.pop(),i.push(u),u=null,h)if(1&s){if((t=(n=d[0]).length-1)>0){for(f||(a.polygonStart(),f=!0),a.lineStart(),e=0;e<t;++e)a.point((r=n[e])[0],r[1]);a.lineEnd()}}else h>1&&2&s&&d.push(d.pop().concat(d.shift())),o.push(d.filter(Cx))}return d}};function Cx(e){return e.length>1}function Ax(e,t){return((e=e.x)[0]<0?e[1]-Wb-zb:Wb-e[1])-((t=t.x)[0]<0?t[1]-Wb-zb:Wb-t[1])}var Sx=Ex((function(){return!0}),(function(e){var t,n=NaN,r=NaN,a=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,o){var u=i>0?Ub:-Ub,s=Kb(i-n);Kb(s-Ub)<zb?(e.point(n,r=(r+o)/2>0?Wb:-Wb),e.point(a,r),e.lineEnd(),e.lineStart(),e.point(u,r),e.point(i,r),t=0):a!==u&&s>=Ub&&(Kb(n-a)<zb&&(n-=a*zb),Kb(i-u)<zb&&(i-=u*zb),r=function(e,t,n,r){var a,i,o=ny(e-n);return Kb(o)>zb?$b((ny(t)*(i=Yb(r))*ny(n)-ny(r)*(a=Yb(t))*ny(e))/(a*i*o)):(t+r)/2}(n,r,i,o),e.point(a,r),e.lineEnd(),e.lineStart(),e.point(u,r),t=0),e.point(n=i,r=o),a=u},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var a;if(null==e)a=n*Wb,r.point(-Ub,a),r.point(0,a),r.point(Ub,a),r.point(Ub,0),r.point(Ub,-a),r.point(0,-a),r.point(-Ub,-a),r.point(-Ub,0),r.point(-Ub,a);else if(Kb(e[0]-t[0])>zb){var i=e[0]<t[0]?Ub:-Ub;a=n*i/2,r.point(-i,a),r.point(0,a),r.point(i,a)}else r.point(t[0],t[1])}),[-Ub,-Wb]);var Dx=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n};function Nx(e,t){return[Kb(e)>Ub?e+Math.round(-e/qb)*qb:e,t]}function Fx(e,t,n){return(e%=qb)?t||n?Dx(Mx(e),Ix(t,n)):Mx(e):t||n?Ix(t,n):Nx}function Tx(e){return function(t,n){return[(t+=e)>Ub?t-qb:t<-Ub?t+qb:t,n]}}function Mx(e){var t=Tx(e);return t.invert=Tx(-e),t}function Ix(e,t){var n=Yb(e),r=ny(e),a=Yb(t),i=ny(t);function o(e,t){var o=Yb(t),u=Yb(e)*o,s=ny(e)*o,c=ny(t),l=c*n+u*r;return[Xb(s*a-l*i,u*n-c*r),uy(l*a+s*i)]}return o.invert=function(e,t){var o=Yb(t),u=Yb(e)*o,s=ny(e)*o,c=ny(t),l=c*a-s*i;return[Xb(s*a+c*i,u*n+l*r),uy(l*n-u*r)]},o}Nx.invert=Nx;function Rx(e,t,n,r,a,i){if(n){var o=Yb(t),u=ny(t),s=r*n;null==a?(a=t+r*qb,i=t-s/2):(a=Px(o,a),i=Px(o,i),(r>0?a<i:a>i)&&(a+=r*qb));for(var c,l=a;r>0?l>i:l<i;l-=s)c=vx([o,-u*Yb(l),-u*ny(l)]),e.point(c[0],c[1])}}function Px(e,t){(t=mx(t))[0]-=e,_x(t);var n=oy(-t[1]);return((-t[2]<0?-n:n)+qb-zb)%qb}var Bx=function(e){var t=Yb(e),n=6*Gb,r=t>0,a=Kb(t)>zb;function i(e,n){return Yb(e)*Yb(n)>t}function o(e,n,r){var a=[1,0,0],i=bx(mx(e),mx(n)),o=gx(i,i),u=i[0],s=o-u*u;if(!s)return!r&&e;var c=t*o/s,l=-t*u/s,f=bx(a,i),d=xx(a,c);yx(d,xx(i,l));var h=f,p=gx(d,h),v=gx(h,h),m=p*p-v*(gx(d,d)-1);if(!(m<0)){var g=ay(m),b=xx(h,(-p-g)/v);if(yx(b,d),b=vx(b),!r)return b;var y,x=e[0],_=n[0],w=e[1],O=n[1];_<x&&(y=x,x=_,_=y);var k=_-x,j=Kb(k-Ub)<zb;if(!j&&O<w&&(y=w,w=O,O=y),j||k<zb?j?w+O>0^b[1]<(Kb(b[0]-x)<zb?w:O):w<=b[1]&&b[1]<=O:k>Ub^(x<=b[0]&&b[0]<=_)){var E=xx(h,(-p+g)/v);return yx(E,d),[b,vx(E)]}}}function u(t,n){var a=r?e:Ub-e,i=0;return t<-a?i|=1:t>a&&(i|=2),n<-a?i|=4:n>a&&(i|=8),i}return Ex(i,(function(e){var t,n,s,c,l;return{lineStart:function(){c=s=!1,l=1},point:function(f,d){var h,p=[f,d],v=i(f,d),m=r?v?0:u(f,d):v?u(f+(f<0?Ub:-Ub),d):0;if(!t&&(c=s=v)&&e.lineStart(),v!==s&&(!(h=o(t,p))||fx(t,h)||fx(p,h))&&(p[2]=1),v!==s)l=0,v?(e.lineStart(),h=o(p,t),e.point(h[0],h[1])):(h=o(t,p),e.point(h[0],h[1],2),e.lineEnd()),t=h;else if(a&&t&&r^v){var g;m&n||!(g=o(p,t,!0))||(l=0,r?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1],3)))}!v||t&&fx(t,p)||e.point(p[0],p[1]),t=p,s=v,n=m},lineEnd:function(){s&&e.lineEnd(),t=null},clean:function(){return l|(c&&s)<<1}}}),(function(t,r,a,i){Rx(i,e,n,a,t,r)}),r?[0,-e]:[-Ub,e-Ub])},zx=1e9,Lx=-zx;function Ux(e,t,n,r){function a(a,i){return e<=a&&a<=n&&t<=i&&i<=r}function i(a,i,u,c){var l=0,f=0;if(null==a||(l=o(a,u))!==(f=o(i,u))||s(a,i)<0^u>0)do{c.point(0===l||3===l?e:n,l>1?r:t)}while((l=(l+u+4)%4)!==f);else c.point(i[0],i[1])}function o(r,a){return Kb(r[0]-e)<zb?a>0?0:3:Kb(r[0]-n)<zb?a>0?2:1:Kb(r[1]-t)<zb?a>0?1:0:a>0?3:2}function u(e,t){return s(e.x,t.x)}function s(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){var s,c,l,f,d,h,p,v,m,g,b,y=o,x=lx(),_={point:w,lineStart:function(){_.point=O,c&&c.push(l=[]);g=!0,m=!1,p=v=NaN},lineEnd:function(){s&&(O(f,d),h&&m&&x.rejoin(),s.push(x.result()));_.point=w,m&&y.lineEnd()},polygonStart:function(){y=x,s=[],c=[],b=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,a=c.length;n<a;++n)for(var i,o,u=c[n],s=1,l=u.length,f=u[0],d=f[0],h=f[1];s<l;++s)i=d,o=h,d=(f=u[s])[0],h=f[1],o<=r?h>r&&(d-i)*(r-o)>(h-o)*(e-i)&&++t:h<=r&&(d-i)*(r-o)<(h-o)*(e-i)&&--t;return t}(),n=b&&t,a=(s=jx(s)).length;(n||a)&&(o.polygonStart(),n&&(o.lineStart(),i(null,null,1,o),o.lineEnd()),a&&hx(s,u,t,i,o),o.polygonEnd());y=o,s=c=l=null}};function w(e,t){a(e,t)&&y.point(e,t)}function O(i,o){var u=a(i,o);if(c&&l.push([i,o]),g)f=i,d=o,h=u,g=!1,u&&(y.lineStart(),y.point(i,o));else if(u&&m)y.point(i,o);else{var s=[p=Math.max(Lx,Math.min(zx,p)),v=Math.max(Lx,Math.min(zx,v))],x=[i=Math.max(Lx,Math.min(zx,i)),o=Math.max(Lx,Math.min(zx,o))];!function(e,t,n,r,a,i){var o,u=e[0],s=e[1],c=0,l=1,f=t[0]-u,d=t[1]-s;if(o=n-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<l&&(l=o)}else if(f>0){if(o>l)return;o>c&&(c=o)}if(o=a-u,f||!(o<0)){if(o/=f,f<0){if(o>l)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<l&&(l=o)}if(o=r-s,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<l&&(l=o)}else if(d>0){if(o>l)return;o>c&&(c=o)}if(o=i-s,d||!(o<0)){if(o/=d,d<0){if(o>l)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<l&&(l=o)}return c>0&&(e[0]=u+c*f,e[1]=s+c*d),l<1&&(t[0]=u+l*f,t[1]=s+l*d),!0}}}}}(s,x,e,t,n,r)?u&&(y.lineStart(),y.point(i,o),b=!1):(m||(y.lineStart(),y.point(s[0],s[1])),y.point(x[0],x[1]),u||y.lineEnd(),b=!1)}p=i,v=o,m=u}return _}}function Wx(e){return function(t){var n=new Vx;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Vx(){}function qx(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),Ib(n,e.stream(Sy)),t(Sy.result()),null!=r&&e.clipExtent(r),e}function Hx(e,t,n){return qx(e,(function(n){var r=t[1][0]-t[0][0],a=t[1][1]-t[0][1],i=Math.min(r/(n[1][0]-n[0][0]),a/(n[1][1]-n[0][1])),o=+t[0][0]+(r-i*(n[1][0]+n[0][0]))/2,u=+t[0][1]+(a-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,u])}),n)}function Gx(e,t,n){return Hx(e,[[0,0],t],n)}function Kx(e,t,n){return qx(e,(function(n){var r=+t,a=r/(n[1][0]-n[0][0]),i=(r-a*(n[1][0]+n[0][0]))/2,o=-a*n[0][1];e.scale(150*a).translate([i,o])}),n)}function $x(e,t,n){return qx(e,(function(n){var r=+t,a=r/(n[1][1]-n[0][1]),i=-a*n[0][0],o=(r-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([i,o])}),n)}Vx.prototype={constructor:Vx,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Xx=Yb(30*Gb),Yx=function(e,t){return+t?function(e,t){function n(r,a,i,o,u,s,c,l,f,d,h,p,v,m){var g=c-r,b=l-a,y=g*g+b*b;if(y>4*t&&v--){var x=o+d,_=u+h,w=s+p,O=ay(x*x+_*_+w*w),k=uy(w/=O),j=Kb(Kb(w)-1)<zb||Kb(i-f)<zb?(i+f)/2:Xb(_,x),E=e(j,k),C=E[0],A=E[1],S=C-r,D=A-a,N=b*S-g*D;(N*N/y>t||Kb((g*S+b*D)/y-.5)>.3||o*d+u*h+s*p<Xx)&&(n(r,a,i,o,u,s,C,A,j,x/=O,_/=O,w,v,m),m.point(C,A),n(C,A,j,x,_,w,c,l,f,d,h,p,v,m))}}return function(t){var r,a,i,o,u,s,c,l,f,d,h,p,v={point:m,lineStart:g,lineEnd:y,polygonStart:function(){t.polygonStart(),v.lineStart=x},polygonEnd:function(){t.polygonEnd(),v.lineStart=g}};function m(n,r){n=e(n,r),t.point(n[0],n[1])}function g(){l=NaN,v.point=b,t.lineStart()}function b(r,a){var i=mx([r,a]),o=e(r,a);n(l,f,c,d,h,p,l=o[0],f=o[1],c=r,d=i[0],h=i[1],p=i[2],16,t),t.point(l,f)}function y(){v.point=m,t.lineEnd()}function x(){g(),v.point=_,v.lineEnd=w}function _(e,t){b(r=e,t),a=l,i=f,o=d,u=h,s=p,v.point=b}function w(){n(l,f,c,d,h,p,a,i,r,o,u,s,16,t),v.lineEnd=y,y()}return v}}(e,t):function(e){return Wx({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)};var Jx=Wx({point:function(e,t){this.stream.point(e*Gb,t*Gb)}});function Qx(e,t,n,r,a,i){if(!i)return function(e,t,n,r,a){function i(i,o){return[t+e*(i*=r),n-e*(o*=a)]}return i.invert=function(i,o){return[(i-t)/e*r,(n-o)/e*a]},i}(e,t,n,r,a);var o=Yb(i),u=ny(i),s=o*e,c=u*e,l=o/e,f=u/e,d=(u*n-o*t)/e,h=(u*t+o*n)/e;function p(e,i){return[s*(e*=r)-c*(i*=a)+t,n-c*e-s*i]}return p.invert=function(e,t){return[r*(l*e-f*t+d),a*(h-f*e-l*t)]},p}function Zx(e){return e_((function(){return e}))()}function e_(e){var t,n,r,a,i,o,u,s,c,l,f=150,d=480,h=250,p=0,v=0,m=0,g=0,b=0,y=0,x=1,_=1,w=null,O=Sx,k=null,j=Sb,E=.5;function C(e){return s(e[0]*Gb,e[1]*Gb)}function A(e){return(e=s.invert(e[0],e[1]))&&[e[0]*Hb,e[1]*Hb]}function S(){var e=Qx(f,0,0,x,_,y).apply(null,t(p,v)),r=Qx(f,d-e[0],h-e[1],x,_,y);return n=Fx(m,g,b),u=Dx(t,r),s=Dx(n,u),o=Yx(u,E),D()}function D(){return c=l=null,C}return C.stream=function(e){return c&&l===e?c:c=Jx(function(e){return Wx({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(O(o(j(l=e)))))},C.preclip=function(e){return arguments.length?(O=e,w=void 0,D()):O},C.postclip=function(e){return arguments.length?(j=e,k=r=a=i=null,D()):j},C.clipAngle=function(e){return arguments.length?(O=+e?Bx(w=e*Gb):(w=null,Sx),D()):w*Hb},C.clipExtent=function(e){return arguments.length?(j=null==e?(k=r=a=i=null,Sb):Ux(k=+e[0][0],r=+e[0][1],a=+e[1][0],i=+e[1][1]),D()):null==k?null:[[k,r],[a,i]]},C.scale=function(e){return arguments.length?(f=+e,S()):f},C.translate=function(e){return arguments.length?(d=+e[0],h=+e[1],S()):[d,h]},C.center=function(e){return arguments.length?(p=e[0]%360*Gb,v=e[1]%360*Gb,S()):[p*Hb,v*Hb]},C.rotate=function(e){return arguments.length?(m=e[0]%360*Gb,g=e[1]%360*Gb,b=e.length>2?e[2]%360*Gb:0,S()):[m*Hb,g*Hb,b*Hb]},C.angle=function(e){return arguments.length?(y=e%360*Gb,S()):y*Hb},C.reflectX=function(e){return arguments.length?(x=e?-1:1,S()):x<0},C.reflectY=function(e){return arguments.length?(_=e?-1:1,S()):_<0},C.precision=function(e){return arguments.length?(o=Yx(u,E=e*e),D()):ay(E)},C.fitExtent=function(e,t){return Hx(C,e,t)},C.fitSize=function(e,t){return Gx(C,e,t)},C.fitWidth=function(e,t){return Kx(C,e,t)},C.fitHeight=function(e,t){return $x(C,e,t)},function(){return t=e.apply(this,arguments),C.invert=t.invert&&A,S()}}function t_(e){var t=0,n=Ub/3,r=e_(e),a=r(t,n);return a.parallels=function(e){return arguments.length?r(t=e[0]*Gb,n=e[1]*Gb):[t*Hb,n*Hb]},a}function n_(e,t){var n=ny(e),r=(n+ny(t))/2;if(Kb(r)<zb)return function(e){var t=Yb(e);function n(e,n){return[e*t,ny(n)/t]}return n.invert=function(e,n){return[e/t,uy(n*t)]},n}(e);var a=1+n*(2*r-n),i=ay(a)/r;function o(e,t){var n=ay(a-2*r*ny(t))/r;return[n*ny(e*=r),i-n*Yb(e)]}return o.invert=function(e,t){var n=i-t,o=Xb(e,Kb(n))*ry(n);return n*r<0&&(o-=Ub*ry(e)*ry(n)),[o/r,uy((a-(e*e+n*n)*r*r)/(2*r))]},o}var r_=function(){return t_(n_).scale(155.424).center([0,33.6442])},a_=function(){return r_().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function i_(e){return function(t,n){var r=Yb(t),a=Yb(n),i=e(r*a);return i===1/0?[2,0]:[i*a*ny(t),i*ny(n)]}}function o_(e){return function(t,n){var r=ay(t*t+n*n),a=e(r),i=ny(a),o=Yb(a);return[Xb(t*i,r*o),uy(r&&n*i/r)]}}var u_=i_((function(e){return ay(2/(1+e))}));u_.invert=o_((function(e){return 2*uy(e/2)}));var s_=i_((function(e){return(e=oy(e))&&e/ny(e)}));s_.invert=o_((function(e){return e}));function c_(e,t){return[e,ey(iy((Wb+t)/2))]}c_.invert=function(e,t){return[e,2*$b(Qb(t))-Wb]};function l_(e){var t,n,r,a=Zx(e),i=a.center,o=a.scale,u=a.translate,s=a.clipExtent,c=null;function l(){var i=Ub*o(),u=a(function(e){function t(t){return(t=e(t[0]*Gb,t[1]*Gb))[0]*=Hb,t[1]*=Hb,t}return e=Fx(e[0]*Gb,e[1]*Gb,e.length>2?e[2]*Gb:0),t.invert=function(t){return(t=e.invert(t[0]*Gb,t[1]*Gb))[0]*=Hb,t[1]*=Hb,t},t}(a.rotate()).invert([0,0]));return s(null==c?[[u[0]-i,u[1]-i],[u[0]+i,u[1]+i]]:e===c_?[[Math.max(u[0]-i,c),t],[Math.min(u[0]+i,n),r]]:[[c,Math.max(u[1]-i,t)],[n,Math.min(u[1]+i,r)]])}return a.scale=function(e){return arguments.length?(o(e),l()):o()},a.translate=function(e){return arguments.length?(u(e),l()):u()},a.center=function(e){return arguments.length?(i(e),l()):i()},a.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),l()):null==c?null:[[c,t],[n,r]]},l()}function f_(e){return iy((Wb+e)/2)}function d_(e,t){var n=Yb(e),r=e===t?ny(e):ey(n/Yb(t))/ey(f_(t)/f_(e)),a=n*ty(f_(e),r)/r;if(!r)return c_;function i(e,t){a>0?t<-Wb+zb&&(t=-Wb+zb):t>Wb-zb&&(t=Wb-zb);var n=a/ty(f_(t),r);return[n*ny(r*e),a-n*Yb(r*e)]}return i.invert=function(e,t){var n=a-t,i=ry(r)*ay(e*e+n*n),o=Xb(e,Kb(n))*ry(n);return n*r<0&&(o-=Ub*ry(e)*ry(n)),[o/r,2*$b(ty(a/i,1/r))-Wb]},i}function h_(e,t){return[e,t]}h_.invert=h_;function p_(e,t){var n=Yb(e),r=e===t?ny(e):(n-Yb(t))/(t-e),a=n/r+e;if(Kb(r)<zb)return h_;function i(e,t){var n=a-t,i=r*e;return[n*ny(i),a-n*Yb(i)]}return i.invert=function(e,t){var n=a-t,i=Xb(e,Kb(n))*ry(n);return n*r<0&&(i-=Ub*ry(e)*ry(n)),[i/r,a-ry(r)*ay(e*e+n*n)]},i}var v_=1.340264,m_=-.081106,g_=893e-6,b_=.003796,y_=ay(3)/2;function x_(e,t){var n=uy(y_*ny(t)),r=n*n,a=r*r*r;return[e*Yb(n)/(y_*(v_+3*m_*r+a*(7*g_+9*b_*r))),n*(v_+m_*r+a*(g_+b_*r))]}x_.invert=function(e,t){for(var n,r=t,a=r*r,i=a*a*a,o=0;o<12&&(i=(a=(r-=n=(r*(v_+m_*a+i*(g_+b_*a))-t)/(v_+3*m_*a+i*(7*g_+9*b_*a)))*r)*a*a,!(Kb(n)<Lb));++o);return[y_*e*(v_+3*m_*a+i*(7*g_+9*b_*a))/Yb(r),uy(ny(r)/y_)]};function __(e,t){var n=Yb(t),r=Yb(e)*n;return[n*ny(e)/r,ny(t)/r]}__.invert=o_($b);function w_(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}w_.invert=function(e,t){var n,r=t,a=25;do{var i=r*r,o=i*i;r-=n=(r*(1.007226+i*(.015085+o*(.028874*i-.044475-.005916*o)))-t)/(1.007226+i*(.045255+o*(.259866*i-.311325-.005916*11*o)))}while(Kb(n)>zb&&--a>0);return[e/(.8707+(i=r*r)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),r]};function O_(e,t){return[Yb(t)*ny(e),ny(t)]}O_.invert=o_(uy);function k_(e,t){var n=Yb(t),r=1+Yb(e)*n;return[n*ny(e)/r,ny(t)/r]}k_.invert=o_((function(e){return 2*$b(e)}));function j_(e,t){return[ey(iy((Wb+t)/2)),-e]}j_.invert=function(e,t){return[-t,2*$b(Qb(e))-Wb]};var E_=Math.abs,C_=(Math.atan,Math.atan2,Math.ceil,Math.cos),A_=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),S_=(Math.tan,Math.PI),D_=S_/2,N_=(Math.SQRT1_2,T_(2));T_(S_);function F_(e){return e>1?D_:e<-1?-D_:Math.asin(e)}function T_(e){return e>0?Math.sqrt(e):0}function M_(e,t){var n,r=e*A_(t),a=30;do{t-=n=(t+A_(t)-r)/(1+C_(t))}while(E_(n)>1e-6&&--a>0);return t/2}var I_=function(e,t,n){function r(r,a){return[e*r*C_(a=M_(n,a)),t*A_(a)]}return r.invert=function(r,a){return a=F_(a/t),[r/(e*C_(a)),F_((2*a+A_(2*a))/n)]},r}(N_/D_,N_,S_),R_=cx(),P_=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function B_(e,t){return function n(){var r=t();return r.type=e,r.path=cx().projection(r),r.copy=r.copy||function(){var e=n();return P_.forEach((function(t){r[t]&&e[t](r[t]())})),e.path.pointRadius(r.path.pointRadius()),e},r}}function z_(e,t){if(!e||"string"!==typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(U_[e]=B_(e,t),this):U_[e]||null}function L_(e){return e&&e.path||R_}var U_={albers:a_,albersusa:function(){var e,t,n,r,a,i,o=a_(),u=r_().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=r_().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){i=[e,t]}};function l(e){var t=e[0],o=e[1];return i=null,n.point(t,o),i||(r.point(t,o),i)||(a.point(t,o),i)}function f(){return e=t=null,l}return l.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,a=(e[1]-n[1])/t;return(a>=.12&&a<.234&&r>=-.425&&r<-.214?u:a>=.166&&a<.234&&r>=-.214&&r<-.115?s:o).invert(e)},l.stream=function(n){return e&&t===n?e:e=function(e){var t=e.length;return{point:function(n,r){for(var a=-1;++a<t;)e[a].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([o.stream(t=n),u.stream(n),s.stream(n)])},l.precision=function(e){return arguments.length?(o.precision(e),u.precision(e),s.precision(e),f()):o.precision()},l.scale=function(e){return arguments.length?(o.scale(e),u.scale(.35*e),s.scale(e),l.translate(o.translate())):o.scale()},l.translate=function(e){if(!arguments.length)return o.translate();var t=o.scale(),i=+e[0],l=+e[1];return n=o.translate(e).clipExtent([[i-.455*t,l-.238*t],[i+.455*t,l+.238*t]]).stream(c),r=u.translate([i-.307*t,l+.201*t]).clipExtent([[i-.425*t+zb,l+.12*t+zb],[i-.214*t-zb,l+.234*t-zb]]).stream(c),a=s.translate([i-.205*t,l+.212*t]).clipExtent([[i-.214*t+zb,l+.166*t+zb],[i-.115*t-zb,l+.234*t-zb]]).stream(c),f()},l.fitExtent=function(e,t){return Hx(l,e,t)},l.fitSize=function(e,t){return Gx(l,e,t)},l.fitWidth=function(e,t){return Kx(l,e,t)},l.fitHeight=function(e,t){return $x(l,e,t)},l.scale(1070)},azimuthalequalarea:function(){return Zx(u_).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return Zx(s_).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return t_(d_).scale(109.5).parallels([30,30])},conicequalarea:r_,conicequidistant:function(){return t_(p_).scale(131.154).center([0,13.9389])},equalEarth:function(){return Zx(x_).scale(177.158)},equirectangular:function(){return Zx(h_).scale(152.63)},gnomonic:function(){return Zx(__).scale(144.049).clipAngle(60)},identity:function(){var e,t,n,r,a,i,o,u=1,s=0,c=0,l=1,f=1,d=0,h=null,p=1,v=1,m=Wx({point:function(e,t){var n=y([e,t]);this.stream.point(n[0],n[1])}}),g=Sb;function b(){return p=u*l,v=u*f,i=o=null,y}function y(n){var r=n[0]*p,a=n[1]*v;if(d){var i=a*e-r*t;r=r*e+a*t,a=i}return[r+s,a+c]}return y.invert=function(n){var r=n[0]-s,a=n[1]-c;if(d){var i=a*e+r*t;r=r*e-a*t,a=i}return[r/p,a/v]},y.stream=function(e){return i&&o===e?i:i=m(g(o=e))},y.postclip=function(e){return arguments.length?(g=e,h=n=r=a=null,b()):g},y.clipExtent=function(e){return arguments.length?(g=null==e?(h=n=r=a=null,Sb):Ux(h=+e[0][0],n=+e[0][1],r=+e[1][0],a=+e[1][1]),b()):null==h?null:[[h,n],[r,a]]},y.scale=function(e){return arguments.length?(u=+e,b()):u},y.translate=function(e){return arguments.length?(s=+e[0],c=+e[1],b()):[s,c]},y.angle=function(n){return arguments.length?(t=ny(d=n%360*Gb),e=Yb(d),b()):d*Hb},y.reflectX=function(e){return arguments.length?(l=e?-1:1,b()):l<0},y.reflectY=function(e){return arguments.length?(f=e?-1:1,b()):f<0},y.fitExtent=function(e,t){return Hx(y,e,t)},y.fitSize=function(e,t){return Gx(y,e,t)},y.fitWidth=function(e,t){return Kx(y,e,t)},y.fitHeight=function(e,t){return $x(y,e,t)},y},mercator:function(){return l_(c_).scale(961/qb)},mollweide:function(){return Zx(I_).scale(169.529)},naturalEarth1:function(){return Zx(w_).scale(175.295)},orthographic:function(){return Zx(O_).scale(249.5).clipAngle(90.000001)},stereographic:function(){return Zx(k_).scale(250).clipAngle(142)},transversemercator:function(){var e=l_(j_),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}};for(var W_ in U_)z_(W_,U_[W_]);function V_(e,t,n){var r=Oa(e,t-zb,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function q_(e,t,n){var r=Oa(e,t-zb,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function H_(){var e,t,n,r,a,i,o,u,s,c,l,f,d=10,h=d,p=90,v=360,m=2.5;function g(){return{type:"MultiLineString",coordinates:b()}}function b(){return Oa(Jb(r/p)*p,n,p).map(l).concat(Oa(Jb(u/v)*v,o,v).map(f)).concat(Oa(Jb(t/d)*d,e,d).filter((function(e){return Kb(e%p)>zb})).map(s)).concat(Oa(Jb(i/h)*h,a,h).filter((function(e){return Kb(e%v)>zb})).map(c))}return g.lines=function(){return b().map((function(e){return{type:"LineString",coordinates:e}}))},g.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(f(o).slice(1),l(n).reverse().slice(1),f(u).reverse().slice(1))]}},g.extent=function(e){return arguments.length?g.extentMajor(e).extentMinor(e):g.extentMinor()},g.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],u=+e[0][1],o=+e[1][1],r>n&&(e=r,r=n,n=e),u>o&&(e=u,u=o,o=e),g.precision(m)):[[r,u],[n,o]]},g.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],i=+n[0][1],a=+n[1][1],t>e&&(n=t,t=e,e=n),i>a&&(n=i,i=a,a=n),g.precision(m)):[[t,i],[e,a]]},g.step=function(e){return arguments.length?g.stepMajor(e).stepMinor(e):g.stepMinor()},g.stepMajor=function(e){return arguments.length?(p=+e[0],v=+e[1],g):[p,v]},g.stepMinor=function(e){return arguments.length?(d=+e[0],h=+e[1],g):[d,h]},g.precision=function(d){return arguments.length?(m=+d,s=V_(i,a,90),c=q_(t,e,m),l=V_(u,o,90),f=q_(r,n,m),g):m},g.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function G_(){}var K_=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function $_(){var e=1,t=1,n=o;function r(e,t){return t.map((function(t){return a(e,t)}))}function a(r,a){var o=[],u=[];return function(n,r,a){var o,u,s,c,l,f,d=new Array,h=new Array;o=u=-1,c=n[0]>=r,K_[c<<1].forEach(p);for(;++o<e-1;)s=c,c=n[o+1]>=r,K_[s|c<<1].forEach(p);K_[c<<0].forEach(p);for(;++u<t-1;){for(o=-1,c=n[u*e+e]>=r,l=n[u*e]>=r,K_[c<<1|l<<2].forEach(p);++o<e-1;)s=c,c=n[u*e+e+o+1]>=r,f=l,l=n[u*e+o+1]>=r,K_[s|c<<1|l<<2|f<<3].forEach(p);K_[c|l<<3].forEach(p)}o=-1,l=n[u*e]>=r,K_[l<<2].forEach(p);for(;++o<e-1;)f=l,l=n[u*e+o+1]>=r,K_[l<<2|f<<3].forEach(p);function p(e){var t,n,r=[e[0][0]+o,e[0][1]+u],s=[e[1][0]+o,e[1][1]+u],c=i(r),l=i(s);(t=h[c])?(n=d[l])?(delete h[t.end],delete d[n.start],t===n?(t.ring.push(s),a(t.ring)):d[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(s),h[t.end=l]=t):(t=d[l])?(n=h[c])?(delete d[t.start],delete h[n.end],t===n?(t.ring.push(s),a(t.ring)):d[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete d[t.start],t.ring.unshift(r),d[t.start=c]=t):d[c]=h[l]={start:c,end:l,ring:[r,s]}}K_[l<<3].forEach(p)}(r,a,(function(e){n(e,r,a),function(e){var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];for(;++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?o.push([e]):u.push(e)})),u.forEach((function(e){for(var t,n=0,r=o.length;n<r;++n)if(-1!==X_((t=o[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:a,coordinates:o}}function i(t){return 2*t[0]+t[1]*(e+1)*4}function o(n,r,a){n.forEach((function(n){var i,o=n[0],u=n[1],s=0|o,c=0|u,l=r[c*e+s];o>0&&o<e&&s===o&&(i=r[c*e+s-1],n[0]=o+(a-i)/(l-i)-.5),u>0&&u<t&&c===u&&(i=r[(c-1)*e+s],n[1]=u+(a-i)/(l-i)-.5)}))}return r.contour=a,r.size=function(n){if(!arguments.length)return[e,t];var a=Math.floor(n[0]),i=Math.floor(n[1]);return a>=0&&i>=0||Object(Lt.k)("invalid size"),e=a,t=i,r},r.smooth=function(e){return arguments.length?(n=e?o:G_,r):n===o},r}function X_(e,t){for(var n,r=-1,a=t.length;++r<a;)if(n=Y_(e,t[r]))return n;return 0}function Y_(e,t){for(var n=t[0],r=t[1],a=-1,i=0,o=e.length,u=o-1;i<o;u=i++){var s=e[i],c=s[0],l=s[1],f=e[u],d=f[0],h=f[1];if(J_(s,f,t))return 0;l>r!==h>r&&n<(d-c)*(r-l)/(h-l)+c&&(a=-a)}return a}function J_(e,t,n){var r,a,i,o;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(a=e[r=+(e[0]===t[0])],i=n[r],o=t[r],a<=i&&i<=o||o<=i&&i<=a)}function Q_(e,t,n){return function(r){var a=Object(Lt.m)(r),i=n?Math.min(a[0],0):a[0],o=a[1],u=o-i,s=t?Object(Tu.c)(i,o,e):u/(e+1);return Oa(i+s,o,s)}}function Z_(e){lr.call(this,null,e)}function ew(e,t,n,r,a){var i=e.x1||0,o=e.y1||0,u=t*n<0;function s(e){e.forEach(c)}function c(e){u&&e.reverse(),e.forEach(l)}function l(e){e[0]=(e[0]-i)*t+r,e[1]=(e[1]-o)*n+a}return function(e){return e.coordinates.forEach(s),e}}function tw(e,t,n){var r=e>=0?e:Fr(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function nw(e){return Object(Lt.A)(e)?e:Object(Lt.i)(+e)}function rw(){var e=function(e){return e[0]},t=function(e){return e[1]},n=Lt.M,r=[-1,-1],a=960,i=500,o=2;function u(u,s){var c=tw(r[0],u,e)>>o,l=tw(r[1],u,t)>>o,f=c?c+2:0,d=l?l+2:0,h=2*f+(a>>o),p=2*d+(i>>o),v=new Float32Array(h*p),m=new Float32Array(h*p),g=v;u.forEach((function(r){var a=f+(+e(r)>>o),i=d+(+t(r)>>o);a>=0&&a<h&&i>=0&&i<p&&(v[a+i*h]+=+n(r))})),c>0&&l>0?(aw(h,p,v,m,c),iw(h,p,m,v,l),aw(h,p,v,m,c),iw(h,p,m,v,l),aw(h,p,v,m,c),iw(h,p,m,v,l)):c>0?(aw(h,p,v,m,c),aw(h,p,m,v,c),aw(h,p,v,m,c),g=m):l>0&&(iw(h,p,v,m,l),iw(h,p,m,v,l),iw(h,p,v,m,l),g=m);for(var b=s?Math.pow(2,-2*o):1/Qg(g),y=0,x=h*p;y<x;++y)g[y]*=b;return{values:g,scale:1<<o,width:h,height:p,x1:f,y1:d,x2:f+(a>>o),y2:d+(i>>o)}}return u.x=function(t){return arguments.length?(e=nw(t),u):e},u.y=function(e){return arguments.length?(t=nw(e),u):t},u.weight=function(e){return arguments.length?(n=nw(e),u):n},u.size=function(e){if(!arguments.length)return[a,i];var t=+e[0],n=+e[1];return t>=0&&n>=0||Object(Lt.k)("invalid size"),a=t,i=n,u},u.cellSize=function(e){return arguments.length?((e=+e)>=1||Object(Lt.k)("invalid cell size"),o=Math.floor(Math.log(e)/Math.LN2),u):1<<o},u.bandwidth=function(e){return arguments.length?(1===(e=Object(Lt.e)(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&Object(Lt.k)("invalid bandwidth"),r=e,u):r},u}function aw(e,t,n,r,a){for(var i=1+(a<<1),o=0;o<t;++o)for(var u=0,s=0;u<e+a;++u)u<e&&(s+=n[u+o*e]),u>=a&&(u>=i&&(s-=n[u-i+o*e]),r[u-a+o*e]=s/Math.min(u+1,e-1+i-u,i))}function iw(e,t,n,r,a){for(var i=1+(a<<1),o=0;o<e;++o)for(var u=0,s=0;u<t+a;++u)u<t&&(s+=n[o+u*e]),u>=a&&(u>=i&&(s-=n[o+(u-i)*e]),r[o+(u-a)*e]=s/Math.min(u+1,t-1+i-u,i))}function ow(e){lr.call(this,null,e)}Z_.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},Object(Lt.v)(Z_,lr,{transform:function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,a=e.field||Lt.u,i=$_().smooth(!1!==e.smooth),o=e.thresholds||function(e,t,n){var r=Q_(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?r:r(e.map((function(e){return gr(t(e).values)})))}(r,a,e),u=null===e.as?null:e.as||"contour",s=[];return r.forEach((function(t){var n=a(t),r=i.size([n.width,n.height])(n.values,Object(Lt.x)(o)?o:o(n.values));!function(e,t,n,r){var a=r.scale||t.scale,i=r.translate||t.translate;Object(Lt.A)(a)&&(a=a(n,r));Object(Lt.A)(i)&&(i=i(n,r));if((1===a||null==a)&&!i)return;var o=(Object(Lt.C)(a)?a:a[0])||1,u=(Object(Lt.C)(a)?a:a[1])||1,s=i&&i[0]||0,c=i&&i[1]||0;e.forEach(ew(t,o,u,s,c))}(r,n,t,e),r.forEach((function(e){s.push(Dn(t,An(null!=u?Object(Zi.a)({},u,e):e)))}))})),this.value&&(n.rem=this.value),this.value=n.source=n.add=s,n}}),ow.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};var uw=["x","y","weight","size","cellSize","bandwidth"];function sw(e,t){return uw.forEach((function(n){return null!=t[n]?e[n](t[n]):0})),e}function cw(e){lr.call(this,null,e)}Object(Lt.v)(ow,lr,{transform:function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=function(e,t){var n,r,a,i,o,u,s=[],c=function(e){return e(i)};if(null==t)s.push(e);else for(n={},r=0,a=e.length;r<a;++r)i=e[r],(u=n[o=t.map(c)])||(n[o]=u=[],u.dims=o,s.push(u)),u.push(i);return s}(t.materialize(t.SOURCE).source,e.groupby),i=(e.groupby||[]).map(Lt.d),o=sw(rw(),e),u=e.as||"grid";return n=a.map((function(t){return An(function(e,t){for(var n=0;n<i.length;++n)e[i[n]]=t[n];return e}(Object(Zi.a)({},u,o(t,e.counts)),t.dims))})),this.value&&(r.rem=this.value),this.value=r.source=r.add=n,r}}),cw.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},Object(Lt.v)(cw,lr,{transform:function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=$_().smooth(!1!==e.smooth),o=e.values,u=e.thresholds||Q_(e.count||10,e.nice,!!o),s=e.size;return o||(o=t.materialize(t.SOURCE).source,r=ew(n=sw(rw(),e)(o,!0),n.scale||1,n.scale||1,0,0),s=[n.width,n.height],o=n.values),u=Object(Lt.x)(u)?u:u(o),o=i.size(s)(o,u),r&&o.forEach(r),this.value&&(a.rem=this.value),this.value=a.source=a.add=(o||[]).map(An),a}});var lw="Feature",fw="FeatureCollection";function dw(e){lr.call(this,null,e)}function hw(e){lr.call(this,null,e)}function pw(e){lr.call(this,null,e)}function vw(e){lr.call(this,null,e)}function mw(e){lr.call(this,[],e),this.generator=H_()}function gw(e){lr.call(this,null,e)}function bw(e){if(!Object(Lt.A)(e))return!1;var t=Object(Lt.ab)(Object(Lt.c)(e));return t.$x||t.$y||t.$value||t.$max}function yw(e){lr.call(this,null,e),this.modified(!0)}function xw(e,t,n){Object(Lt.A)(e[t])&&e[t](n)}dw.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Object(Lt.v)(dw,lr,{transform:function(e,t){var n,r=this._features,a=this._points,i=e.fields,o=i&&i[0],u=i&&i[1],s=e.geojson||!i&&Lt.u,c=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(Object(Lt.c)(s))||o&&t.modified(Object(Lt.c)(o))||u&&t.modified(Object(Lt.c)(u)),this.value&&!n||(c=t.SOURCE,this._features=r=[],this._points=a=[]),s&&t.visit(c,(function(e){return r.push(s(e))})),o&&u&&(t.visit(c,(function(e){var t=o(e),n=u(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&a.push([t,n])})),r=r.concat({type:lw,geometry:{type:"MultiPoint",coordinates:a}})),this.value={type:fw,features:r}}}),hw.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Object(Lt.v)(hw,lr,{transform:function(e,t){var n=t.fork(t.ALL),r=this.value,a=e.field||Lt.u,i=e.as||"path",o=n.SOURCE;!r||e.modified()?(this.value=r=L_(e.projection),n.materialize().reflow()):o=a===Lt.u||t.modified(a.fields)?n.ADD_MOD:n.ADD;var u=function(e,t){var n=e.pointRadius();e.context(null),null!=t&&e.pointRadius(t);return n}(r,e.pointRadius);return n.visit(o,(function(e){return e[i]=r(a(e))})),r.pointRadius(u),n.modifies(i)}}),pw.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Object(Lt.v)(pw,lr,{transform:function(e,t){var n,r=e.projection,a=e.fields[0],i=e.fields[1],o=e.as||["x","y"],u=o[0],s=o[1];function c(e){var t=r([a(e),i(e)]);t?(e[u]=t[0],e[s]=t[1]):(e[u]=void 0,e[s]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(n=t.modified(a.fields)||t.modified(i.fields),t.visit(n?t.ADD_MOD:t.ADD,c)),t.modifies(o)}}),vw.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Object(Lt.v)(vw,lr,{transform:function(e,t){var n=t.fork(t.ALL),r=this.value,a=e.as||"shape",i=n.ADD;return r&&!e.modified()||(this.value=r=function(e,t,n){var r=null==n?function(n){return e(t(n))}:function(r){var a=e.pointRadius(),i=e.pointRadius(n)(t(r));return e.pointRadius(a),i};return r.context=function(t){return e.context(t),r},r}(L_(e.projection),e.field||Object(Lt.q)("datum"),e.pointRadius),n.materialize().reflow(),i=n.SOURCE),n.visit(i,(function(e){return e[a]=r})),n.modifies(a)}}),mw.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Object(Lt.v)(mw,lr,{transform:function(e,t){var n,r=this.value,a=this.generator;if(!r.length||e.modified())for(var i in e)Object(Lt.A)(a[i])&&a[i](e[i]);return n=a(),r.length?t.mod.push(Nn(r[0],n)):t.add.push(An(n)),r[0]=n,t}}),gw.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},Object(Lt.v)(gw,lr,{transform:function(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r="shared"===e.resolve,a=e.field||Lt.u,i=function(e,t){var n;Object(Lt.A)(e)?(n=function(n){return e(n,t)}).dep=bw(e):e?n=Object(Lt.i)(e):(n=function(e){return e.$value/e.$max||0}).dep=!0;return n}(e.opacity,e),o=function(e,t){var n;Object(Lt.A)(e)?(n=function(n){return ss(e(n,t))}).dep=bw(e):n=Object(Lt.i)(ss(e||"#888"));return n}(e.color,e),u=e.as||"image",s={$x:0,$y:0,$value:0,$max:r?gr(n.map((function(e){return gr(a(e).values)}))):0};return n.forEach((function(e){var t=a(e),n=Object(Lt.l)({},e,s);r||(n.$max=gr(t.values||[])),e[u]=function(e,t,n,r){for(var a=e.width,i=e.height,o=e.x1||0,u=e.y1||0,s=e.x2||a,c=e.y2||i,l=e.values,f=l?function(e){return l[e]}:Lt.gb,d=Ou(s-o,c-u),h=d.getContext("2d"),p=h.getImageData(0,0,s-o,c-u),v=p.data,m=u,g=0;m<c;++m){t.$y=m-u;for(var b=o,y=m*a;b<s;++b,g+=4){t.$x=b-o,t.$value=f(b+y);var x=n(t);v[g+0]=x.r,v[g+1]=x.g,v[g+2]=x.b,v[g+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}(t,n,o.dep?o:Object(Lt.i)(o(n)),i.dep?i:Object(Lt.i)(i(n)))})),t.reflow(!0).modifies(u)}}),Object(Lt.v)(yw,lr,{transform:function(e,t){var n=this.value;return!n||e.modified("type")?(this.value=n=function(e){var t=z_((e||"mercator").toLowerCase());t||Object(Lt.k)("Unrecognized projection type: "+e);return t()}(e.type),P_.forEach((function(t){null!=e[t]&&xw(n,t,e[t])}))):P_.forEach((function(t){e.modified(t)&&xw(n,t,e[t])})),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){var n=function(e){return 1===(e=Object(Lt.e)(e)).length?e[0]:{type:fw,features:e.reduce((function(e,t){return e.concat(function(e){return e.type===fw?e.features:Object(Lt.e)(e).filter((function(e){return null!=e})).map((function(e){return e.type===lw?e:{type:lw,geometry:e}}))}(t))}),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function _w(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var a,i,o,u,s,c,l,f,d,h=e._root,p={data:r},v=e._x0,m=e._y0,g=e._x1,b=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((c=t>=(i=(v+g)/2))?v=i:g=i,(l=n>=(o=(m+b)/2))?m=o:b=o,a=h,!(h=h[f=l<<1|c]))return a[f]=p,e;if(u=+e._x.call(null,h.data),s=+e._y.call(null,h.data),t===u&&n===s)return p.next=h,a?a[f]=p:e._root=p,e;do{a=a?a[f]=new Array(4):e._root=new Array(4),(c=t>=(i=(v+g)/2))?v=i:g=i,(l=n>=(o=(m+b)/2))?m=o:b=o}while((f=l<<1|c)===(d=(s>=o)<<1|u>=i));return a[d]=h,a[f]=p,e}var ww=function(e,t,n,r,a){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=a};function Ow(e){return e[0]}function kw(e){return e[1]}function jw(e,t,n){var r=new Ew(null==t?Ow:t,null==n?kw:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Ew(e,t,n,r,a,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=a,this._y1=i,this._root=void 0}function Cw(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Aw=jw.prototype=Ew.prototype;Aw.copy=function(){var e,t,n=new Ew(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Cw(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var a=0;a<4;++a)(t=r.source[a])&&(t.length?e.push({source:t,target:r.target[a]=new Array(4)}):r.target[a]=Cw(t));return n},Aw.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return _w(this.cover(t,n),t,n,e)},Aw.addAll=function(e){var t,n,r,a,i=e.length,o=new Array(i),u=new Array(i),s=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(o[n]=r,u[n]=a,r<s&&(s=r),r>l&&(l=r),a<c&&(c=a),a>f&&(f=a));if(s>l||c>f)return this;for(this.cover(s,c).cover(l,f),n=0;n<i;++n)_w(this,o[n],u[n],e[n]);return this},Aw.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,a=this._x1,i=this._y1;if(isNaN(n))a=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var o,u,s=a-n||1,c=this._root;n>e||e>=a||r>t||t>=i;)switch(u=(t<r)<<1|e<n,(o=new Array(4))[u]=c,c=o,s*=2,u){case 0:a=n+s,i=r+s;break;case 1:n=a-s,i=r+s;break;case 2:a=n+s,r=i-s;break;case 3:n=a-s,r=i-s}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=a,this._y1=i,this},Aw.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},Aw.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Aw.find=function(e,t,n){var r,a,i,o,u,s,c,l=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],v=this._root;for(v&&p.push(new ww(v,l,f,d,h)),null==n?n=1/0:(l=e-n,f=t-n,d=e+n,h=t+n,n*=n);s=p.pop();)if(!(!(v=s.node)||(a=s.x0)>d||(i=s.y0)>h||(o=s.x1)<l||(u=s.y1)<f))if(v.length){var m=(a+o)/2,g=(i+u)/2;p.push(new ww(v[3],m,g,o,u),new ww(v[2],a,g,m,u),new ww(v[1],m,i,o,g),new ww(v[0],a,i,m,g)),(c=(t>=g)<<1|e>=m)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var b=e-+this._x.call(null,v.data),y=t-+this._y.call(null,v.data),x=b*b+y*y;if(x<n){var _=Math.sqrt(n=x);l=e-_,f=t-_,d=e+_,h=t+_,r=v.data}}return r},Aw.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,a,i,o,u,s,c,l,f,d,h=this._root,p=this._x0,v=this._y0,m=this._x1,g=this._y1;if(!h)return this;if(h.length)for(;;){if((c=i>=(u=(p+m)/2))?p=u:m=u,(l=o>=(s=(v+g)/2))?v=s:g=s,t=h,!(h=h[f=l<<1|c]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(a=h.next)&&delete h.next,r?(a?r.next=a:delete r.next,this):t?(a?t[f]=a:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=a,this)},Aw.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},Aw.root=function(){return this._root},Aw.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},Aw.visit=function(e){var t,n,r,a,i,o,u=[],s=this._root;for(s&&u.push(new ww(s,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(s=t.node,r=t.x0,a=t.y0,i=t.x1,o=t.y1)&&s.length){var c=(r+i)/2,l=(a+o)/2;(n=s[3])&&u.push(new ww(n,c,l,i,o)),(n=s[2])&&u.push(new ww(n,r,l,c,o)),(n=s[1])&&u.push(new ww(n,c,a,i,l)),(n=s[0])&&u.push(new ww(n,r,a,c,l))}return this},Aw.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new ww(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var a=t.node;if(a.length){var i,o=t.x0,u=t.y0,s=t.x1,c=t.y1,l=(o+s)/2,f=(u+c)/2;(i=a[0])&&n.push(new ww(i,o,u,l,f)),(i=a[1])&&n.push(new ww(i,l,u,s,f)),(i=a[2])&&n.push(new ww(i,o,f,l,c)),(i=a[3])&&n.push(new ww(i,l,f,s,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},Aw.x=function(e){return arguments.length?(this._x=e,this):this._x},Aw.y=function(e){return arguments.length?(this._y=e,this):this._y};var Sw=function(e){return function(){return e}},Dw=function(e){return 1e-6*(e()-.5)};function Nw(e){return e.x+e.vx}function Fw(e){return e.y+e.vy}var Tw={value:function(){}};function Mw(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Iw(r)}function Iw(e){this._=e}function Rw(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Pw(e,t){for(var n,r=0,a=e.length;r<a;++r)if((n=e[r]).name===t)return n.value}function Bw(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=Tw,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Iw.prototype=Mw.prototype={constructor:Iw,on:function(e,t){var n,r=this._,a=Rw(e+"",r),i=-1,o=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++i<o;)if(n=(e=a[i]).type)r[n]=Bw(r[n],e.name,t);else if(null==t)for(n in r)r[n]=Bw(r[n],e.name,null);return this}for(;++i<o;)if((n=(e=a[i]).type)&&(n=Pw(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Iw(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,a)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,i=r.length;a<i;++a)r[a].value.apply(t,n)}};var zw,Lw,Uw=Mw,Ww=0,Vw=0,qw=0,Hw=0,Gw=0,Kw=0,$w="object"===typeof performance&&performance.now?performance:Date,Xw="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Yw(){return Gw||(Xw(Jw),Gw=$w.now()+Kw)}function Jw(){Gw=0}function Qw(){this._call=this._time=this._next=null}function Zw(e,t,n){var r=new Qw;return r.restart(e,t,n),r}function eO(){Gw=(Hw=$w.now())+Kw,Ww=Vw=0;try{!function(){Yw(),++Ww;for(var e,t=zw;t;)(e=Gw-t._time)>=0&&t._call.call(null,e),t=t._next;--Ww}()}finally{Ww=0,function(){var e,t,n=zw,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:zw=t);Lw=e,nO(r)}(),Gw=0}}function tO(){var e=$w.now(),t=e-Hw;t>1e3&&(Kw-=t,Hw=e)}function nO(e){Ww||(Vw&&(Vw=clearTimeout(Vw)),e-Gw>24?(e<1/0&&(Vw=setTimeout(eO,e-$w.now()-Kw)),qw&&(qw=clearInterval(qw))):(qw||(Hw=$w.now(),qw=setInterval(tO,1e3)),Ww=1,Xw(eO)))}Qw.prototype=Zw.prototype={constructor:Qw,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?Yw():+n)+(null==t?0:+t),this._next||Lw===this||(Lw?Lw._next=this:zw=this,Lw=this),this._call=e,this._time=n,nO()},stop:function(){this._call&&(this._call=null,this._time=1/0,nO())}};var rO=4294967296;function aO(e){return e.x}function iO(e){return e.y}var oO=Math.PI*(3-Math.sqrt(5)),uO=function(e){var t,n=1,r=.001,a=1-Math.pow(r,1/300),i=0,o=.6,u=new Map,s=Zw(f),c=Uw("tick","end"),l=function(){var e=1;return function(){return(e=(1664525*e+1013904223)%rO)/rO}}();function f(){d(),c.call("tick",t),n<r&&(s.stop(),c.call("end",t))}function d(r){var s,c,l=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(i-n)*a,u.forEach((function(e){e(n)})),s=0;s<l;++s)null==(c=e[s]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var a=10*Math.sqrt(.5+n),i=n*oO;t.x=a*Math.cos(i),t.y=a*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,l),t}return null==e&&(e=[]),h(),t={tick:d,restart:function(){return s.restart(f),t},stop:function(){return s.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),u.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(a=+e,t):+a},alphaTarget:function(e){return arguments.length?(i=+e,t):i},velocityDecay:function(e){return arguments.length?(o=1-e,t):1-o},randomSource:function(e){return arguments.length?(l=e,u.forEach(p),t):l},force:function(e,n){return arguments.length>1?(null==n?u.delete(e):u.set(e,p(n)),t):u.get(e)},find:function(t,n,r){var a,i,o,u,s,c=0,l=e.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(o=(a=t-(u=e[c]).x)*a+(i=n-u.y)*i)<r&&(s=u,r=o);return s},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}};function sO(e){return e.index}function cO(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}var lO={center:function(e,t){var n,r=1;function a(){var a,i,o=n.length,u=0,s=0;for(a=0;a<o;++a)u+=(i=n[a]).x,s+=i.y;for(u=(u/o-e)*r,s=(s/o-t)*r,a=0;a<o;++a)(i=n[a]).x-=u,i.y-=s}return null==e&&(e=0),null==t&&(t=0),a.initialize=function(e){n=e},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(e){return arguments.length?(t=+e,a):t},a.strength=function(e){return arguments.length?(r=+e,a):r},a},collide:function(e){var t,n,r,a=1,i=1;function o(){for(var e,o,s,c,l,f,d,h=t.length,p=0;p<i;++p)for(o=jw(t,Nw,Fw).visitAfter(u),e=0;e<h;++e)s=t[e],f=n[s.index],d=f*f,c=s.x+s.vx,l=s.y+s.vy,o.visit(v);function v(e,t,n,i,o){var u=e.data,h=e.r,p=f+h;if(!u)return t>c+p||i<c-p||n>l+p||o<l-p;if(u.index>s.index){var v=c-u.x-u.vx,m=l-u.y-u.vy,g=v*v+m*m;g<p*p&&(0===v&&(g+=(v=Dw(r))*v),0===m&&(g+=(m=Dw(r))*m),g=(p-(g=Math.sqrt(g)))/g*a,s.vx+=(v*=g)*(p=(h*=h)/(d+h)),s.vy+=(m*=g)*p,u.vx-=v*(p=1-p),u.vy-=m*p)}}}function u(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function s(){if(t){var r,a,i=t.length;for(n=new Array(i),r=0;r<i;++r)a=t[r],n[a.index]=+e(a,r,t)}}return"function"!==typeof e&&(e=Sw(null==e?1:+e)),o.initialize=function(e,n){t=e,r=n,s()},o.iterations=function(e){return arguments.length?(i=+e,o):i},o.strength=function(e){return arguments.length?(a=+e,o):a},o.radius=function(t){return arguments.length?(e="function"===typeof t?t:Sw(+t),s(),o):e},o},nbody:function(){var e,t,n,r,a,i=Sw(-30),o=1,u=1/0,s=.81;function c(n){var a,i=e.length,o=jw(e,aO,iO).visitAfter(f);for(r=n,a=0;a<i;++a)t=e[a],o.visit(d)}function l(){if(e){var t,n,r=e.length;for(a=new Array(r),t=0;t<r;++t)n=e[t],a[n.index]=+i(n,t,e)}}function f(e){var t,n,r,i,o,u=0,s=0;if(e.length){for(r=i=o=0;o<4;++o)(t=e[o])&&(n=Math.abs(t.value))&&(u+=t.value,s+=n,r+=n*t.x,i+=n*t.y);e.x=r/s,e.y=i/s}else{(t=e).x=t.data.x,t.y=t.data.y;do{u+=a[t.data.index]}while(t=t.next)}e.value=u}function d(e,i,c,l){if(!e.value)return!0;var f=e.x-t.x,d=e.y-t.y,h=l-i,p=f*f+d*d;if(h*h/s<p)return p<u&&(0===f&&(p+=(f=Dw(n))*f),0===d&&(p+=(d=Dw(n))*d),p<o&&(p=Math.sqrt(o*p)),t.vx+=f*e.value*r/p,t.vy+=d*e.value*r/p),!0;if(!(e.length||p>=u)){(e.data!==t||e.next)&&(0===f&&(p+=(f=Dw(n))*f),0===d&&(p+=(d=Dw(n))*d),p<o&&(p=Math.sqrt(o*p)));do{e.data!==t&&(h=a[e.data.index]*r/p,t.vx+=f*h,t.vy+=d*h)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,l()},c.strength=function(e){return arguments.length?(i="function"===typeof e?e:Sw(+e),l(),c):i},c.distanceMin=function(e){return arguments.length?(o=e*e,c):Math.sqrt(o)},c.distanceMax=function(e){return arguments.length?(u=e*e,c):Math.sqrt(u)},c.theta=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c},link:function(e){var t,n,r,a,i,o,u=sO,s=function(e){return 1/Math.min(a[e.source.index],a[e.target.index])},c=Sw(30),l=1;function f(r){for(var a=0,u=e.length;a<l;++a)for(var s,c,f,d,h,p,v,m=0;m<u;++m)c=(s=e[m]).source,d=(f=s.target).x+f.vx-c.x-c.vx||Dw(o),h=f.y+f.vy-c.y-c.vy||Dw(o),d*=p=((p=Math.sqrt(d*d+h*h))-n[m])/p*r*t[m],h*=p,f.vx-=d*(v=i[m]),f.vy-=h*v,c.vx+=d*(v=1-v),c.vy+=h*v}function d(){if(r){var o,s,c=r.length,l=e.length,f=new Map(r.map((function(e,t){return[u(e,t,r),e]})));for(o=0,a=new Array(c);o<l;++o)(s=e[o]).index=o,"object"!==typeof s.source&&(s.source=cO(f,s.source)),"object"!==typeof s.target&&(s.target=cO(f,s.target)),a[s.source.index]=(a[s.source.index]||0)+1,a[s.target.index]=(a[s.target.index]||0)+1;for(o=0,i=new Array(l);o<l;++o)s=e[o],i[o]=a[s.source.index]/(a[s.source.index]+a[s.target.index]);t=new Array(l),h(),n=new Array(l),p()}}function h(){if(r)for(var n=0,a=e.length;n<a;++n)t[n]=+s(e[n],n,e)}function p(){if(r)for(var t=0,a=e.length;t<a;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,t){r=e,o=t,d()},f.links=function(t){return arguments.length?(e=t,d(),f):e},f.id=function(e){return arguments.length?(u=e,f):u},f.iterations=function(e){return arguments.length?(l=+e,f):l},f.strength=function(e){return arguments.length?(s="function"===typeof e?e:Sw(+e),h(),f):s},f.distance=function(e){return arguments.length?(c="function"===typeof e?e:Sw(+e),p(),f):c},f},x:function(e){var t,n,r,a=Sw(.1);function i(e){for(var a,i=0,o=t.length;i<o;++i)(a=t[i]).vx+=(r[i]-a.x)*n[i]*e}function o(){if(t){var i,o=t.length;for(n=new Array(o),r=new Array(o),i=0;i<o;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+a(t[i],i,t)}}return"function"!==typeof e&&(e=Sw(null==e?0:+e)),i.initialize=function(e){t=e,o()},i.strength=function(e){return arguments.length?(a="function"===typeof e?e:Sw(+e),o(),i):a},i.x=function(t){return arguments.length?(e="function"===typeof t?t:Sw(+t),o(),i):e},i},y:function(e){var t,n,r,a=Sw(.1);function i(e){for(var a,i=0,o=t.length;i<o;++i)(a=t[i]).vy+=(r[i]-a.y)*n[i]*e}function o(){if(t){var i,o=t.length;for(n=new Array(o),r=new Array(o),i=0;i<o;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+a(t[i],i,t)}}return"function"!==typeof e&&(e=Sw(null==e?0:+e)),i.initialize=function(e){t=e,o()},i.strength=function(e){return arguments.length?(a="function"===typeof e?e:Sw(+e),o(),i):a},i.y=function(t){return arguments.length?(e="function"===typeof t?t:Sw(+t),o(),i):e},i}},fO="forces",dO=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],hO=["static","iterations"],pO=["x","y","vx","vy"];function vO(e){lr.call(this,null,e)}function mO(e,t,n,r){var a,i,o,u,s=Object(Lt.e)(t.forces);for(a=0,i=dO.length;a<i;++a)(o=dO[a])!==fO&&t.modified(o)&&e[o](t[o]);for(a=0,i=s.length;a<i;++a)u=fO+a,(o=n||t.modified(fO,a)?bO(s[a]):r&&gO(s[a],r)?e.force(u):null)&&e.force(u,o);for(i=e.numForces||0;a<i;++a)e.force(fO+a,null);return e.numForces=s.length,e}function gO(e,t){var n,r;for(n in e)if(Object(Lt.A)(r=e[n])&&t.modified(Object(Lt.c)(r)))return 1;return 0}function bO(e){var t,n;for(n in Object(Lt.s)(lO,e.force)||Object(Lt.k)("Unrecognized force: "+e.force),t=lO[e.force](),e)Object(Lt.A)(t[n])&&yO(t[n],e[n],e);return t}function yO(e,t,n){e(Object(Lt.A)(t)?function(e){return t(e,n)}:t)}function xO(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}vO.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:pO}]},Object(Lt.v)(vO,lr,{transform:function(e,t){var n,r,a=this.value,i=t.changed(t.ADD_REM),o=e.modified(dO),u=e.iterations||300;if(a?(i&&(t.modifies("index"),a.nodes(t.source)),(o||t.changed(t.MOD))&&mO(a,e,0,t)):(this.value=a=function(e,t){var n=uO(e),r=n.stop,a=n.restart,i=!1;return n.stopped=function(){return i},n.restart=function(){return i=!1,a()},n.stop=function(){return i=!0,r()},mO(n,t,!0).on("end",(function(){return i=!0}))}(t.source,e),a.on("tick",(n=t.dataflow,r=this,function(){return n.touch(r).run()})),e.static||(i=!0,a.tick()),t.modifies("index")),o||i||e.modified(hO)||t.changed()&&e.restart)if(a.alpha(Math.max(a.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(a.alphaMin(),1/u)),e.static)for(a.stop();--u>=0;)a.tick();else if(a.stopped()&&a.restart(),!i)return t.StopPropagation;return this.finish(e,t)},finish:function(e,t){for(var n,r=t.dataflow,a=this._argops,i=0,o=a.length;i<o;++i)if((n=a[i]).name===fO&&"link"===n.op._argval.force)for(var u,s=n.op._argops,c=0,l=s.length;c<l;++c)if("links"===s[c].name&&(u=s[c].op.source)){r.pulse(u,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(pO)}});var _O=k.a.mark(wO);function wO(){var e,t,n,r,a,i;return k.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=[e=this];case 1:t=n.reverse(),n=[];case 2:if(!(e=t.pop())){o.next=8;break}return o.next=5,e;case 5:if(r=e.children)for(a=0,i=r.length;a<i;++a)n.push(r[a]);o.next=2;break;case 8:if(n.length){o.next=1;break}case 9:case"end":return o.stop()}}),_O,this)}function OO(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=jO)):void 0===t&&(t=kO);for(var n,r,a,i,o,u=new AO(e),s=[u];n=s.pop();)if((a=t(n.data))&&(o=(a=Array.from(a)).length))for(n.children=a,i=o-1;i>=0;--i)s.push(r=a[i]=new AO(a[i])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(CO)}function kO(e){return e.children}function jO(e){return Array.isArray(e)?e[1]:null}function EO(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function CO(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function AO(e){this.data=e,this.depth=this.height=0,this.parent=null}AO.prototype=OO.prototype=Object(Zi.a)({constructor:AO,count:function(){return this.eachAfter(xO)},each:function(e,t){var n,r=-1,a=Object(pr.a)(this);try{for(a.s();!(n=a.n()).done;){var i=n.value;e.call(t,i,++r,this)}}catch(o){a.e(o)}finally{a.f()}return this},eachAfter:function(e,t){for(var n,r,a,i=this,o=[i],u=[],s=-1;i=o.pop();)if(u.push(i),n=i.children)for(r=0,a=n.length;r<a;++r)o.push(n[r]);for(;i=u.pop();)e.call(t,i,++s,this);return this},eachBefore:function(e,t){for(var n,r,a=this,i=[a],o=-1;a=i.pop();)if(e.call(t,a,++o,this),n=a.children)for(r=n.length-1;r>=0;--r)i.push(n[r]);return this},find:function(e,t){var n,r=-1,a=Object(pr.a)(this);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(e.call(t,i,++r,this))return i}}catch(o){a.e(o)}finally{a.f()}},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,a=r&&r.length;--a>=0;)n+=r[a].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),a=null;e=n.pop(),t=r.pop();for(;e===t;)a=e,e=n.pop(),t=r.pop();return a}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var a=r.length;e!==n;)r.splice(a,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return OO(this).eachBefore(EO)}},Symbol.iterator,wO);var SO=function(e){for(var t,n,r=0,a=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(Array.from(e))).length,i=[];r<a;)t=e[r],n&&FO(n,t)?++r:(n=MO(i=DO(i,t)),r=0);return n};function DO(e,t){var n,r;if(TO(t,e))return[t];for(n=0;n<e.length;++n)if(NO(t,e[n])&&TO(IO(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(NO(IO(e[n],e[r]),t)&&NO(IO(e[n],t),e[r])&&NO(IO(e[r],t),e[n])&&TO(RO(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function NO(e,t){var n=e.r-t.r,r=t.x-e.x,a=t.y-e.y;return n<0||n*n<r*r+a*a}function FO(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),r=t.x-e.x,a=t.y-e.y;return n>0&&n*n>r*r+a*a}function TO(e,t){for(var n=0;n<t.length;++n)if(!FO(e,t[n]))return!1;return!0}function MO(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return IO(e[0],e[1]);case 3:return RO(e[0],e[1],e[2])}var t}function IO(e,t){var n=e.x,r=e.y,a=e.r,i=t.x,o=t.y,u=t.r,s=i-n,c=o-r,l=u-a,f=Math.sqrt(s*s+c*c);return{x:(n+i+s/f*l)/2,y:(r+o+c/f*l)/2,r:(f+a+u)/2}}function RO(e,t,n){var r=e.x,a=e.y,i=e.r,o=t.x,u=t.y,s=t.r,c=n.x,l=n.y,f=n.r,d=r-o,h=r-c,p=a-u,v=a-l,m=s-i,g=f-i,b=r*r+a*a-i*i,y=b-o*o-u*u+s*s,x=b-c*c-l*l+f*f,_=h*p-d*v,w=(p*x-v*y)/(2*_)-r,O=(v*m-p*g)/_,k=(h*y-d*x)/(2*_)-a,j=(d*g-h*m)/_,E=O*O+j*j-1,C=2*(i+w*O+k*j),A=w*w+k*k-i*i,S=-(E?(C+Math.sqrt(C*C-4*E*A))/(2*E):A/C);return{x:r+w+O*S,y:a+k+j*S,r:S}}function PO(e,t,n){var r,a,i,o,u=e.x-t.x,s=e.y-t.y,c=u*u+s*s;c?(a=t.r+n.r,a*=a,o=e.r+n.r,a>(o*=o)?(r=(c+o-a)/(2*c),i=Math.sqrt(Math.max(0,o/c-r*r)),n.x=e.x-r*u-i*s,n.y=e.y-r*s+i*u):(r=(c+a-o)/(2*c),i=Math.sqrt(Math.max(0,a/c-r*r)),n.x=t.x+r*u-i*s,n.y=t.y+r*s+i*u)):(n.x=t.x+n.r,n.y=t.y)}function BO(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,a=t.y-e.y;return n>0&&n*n>r*r+a*a}function zO(e){var t=e._,n=e.next._,r=t.r+n.r,a=(t.x*n.r+n.x*t.r)/r,i=(t.y*n.r+n.y*t.r)/r;return a*a+i*i}function LO(e){this._=e,this.next=null,this.previous=null}function UO(e){if(!(i=(t=e,e="object"===typeof t&&"length"in t?t:Array.from(t)).length))return 0;var t,n,r,a,i,o,u,s,c,l,f,d;if((n=e[0]).x=0,n.y=0,!(i>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(i>2))return n.r+r.r;PO(r,n,a=e[2]),n=new LO(n),r=new LO(r),a=new LO(a),n.next=a.previous=r,r.next=n.previous=a,a.next=r.previous=n;e:for(s=3;s<i;++s){PO(n._,r._,a=e[s]),a=new LO(a),c=r.next,l=n.previous,f=r._.r,d=n._.r;do{if(f<=d){if(BO(c._,a._)){r=c,n.next=r,r.previous=n,--s;continue e}f+=c._.r,c=c.next}else{if(BO(l._,a._)){(n=l).next=r,r.previous=n,--s;continue e}d+=l._.r,l=l.previous}}while(c!==l.next);for(a.previous=n,a.next=r,n.next=r.previous=r=a,o=zO(n);(a=a.next)!==r;)(u=zO(a))<o&&(n=a,o=u);r=n.next}for(n=[r._],a=r;(a=a.next)!==r;)n.push(a._);for(a=SO(n),s=0;s<i;++s)(n=e[s]).x-=a.x,n.y-=a.y;return a.r}function WO(e){return null==e?null:VO(e)}function VO(e){if("function"!==typeof e)throw new Error;return e}function qO(){return 0}var HO=function(e){return function(){return e}};function GO(e){return Math.sqrt(e.value)}function KO(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function $O(e,t){return function(n){if(r=n.children){var r,a,i,o=r.length,u=e(n)*t||0;if(u)for(a=0;a<o;++a)r[a].r+=u;if(i=UO(r),u)for(a=0;a<o;++a)r[a].r-=u;n.r=i+u}}}function XO(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var YO=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},JO=function(e,t,n,r,a){for(var i,o=e.children,u=-1,s=o.length,c=e.value&&(r-t)/e.value;++u<s;)(i=o[u]).y0=n,i.y1=a,i.x0=t,i.x1=t+=i.value*c},QO={depth:-1},ZO={};function ek(e){return e.id}function tk(e){return e.parentId}var nk=function(){var e=ek,t=tk;function n(n){var r,a,i,o,u,s,c,l=Array.from(n),f=l.length,d=new Map;for(a=0;a<f;++a)r=l[a],u=l[a]=new AO(r),null!=(s=e(r,a,n))&&(s+="")&&(c=u.id=s,d.set(c,d.has(c)?ZO:u)),null!=(s=t(r,a,n))&&(s+="")&&(u.parent=s);for(a=0;a<f;++a)if(s=(u=l[a]).parent){if(!(o=d.get(s)))throw new Error("missing: "+s);if(o===ZO)throw new Error("ambiguous: "+s);o.children?o.children.push(u):o.children=[u],u.parent=o}else{if(i)throw new Error("multiple roots");i=u}if(!i)throw new Error("no root");if(i.parent=QO,i.eachBefore((function(e){e.depth=e.parent.depth+1,--f})).eachBefore(CO),i.parent=null,f>0)throw new Error("cycle");return i}return n.id=function(t){return arguments.length?(e=VO(t),n):e},n.parentId=function(e){return arguments.length?(t=VO(e),n):t},n};function rk(e,t){return e.parent===t.parent?1:2}function ak(e){var t=e.children;return t?t[0]:e.t}function ik(e){var t=e.children;return t?t[t.length-1]:e.t}function ok(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function uk(e,t,n){return e.a.parent===t.parent?e.a:n}function sk(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}sk.prototype=Object.create(AO.prototype);function ck(e,t){return e.parent===t.parent?1:2}function lk(e,t){return e+t.x}function fk(e,t){return Math.max(e,t.y)}var dk=function(e,t,n,r,a){for(var i,o=e.children,u=-1,s=o.length,c=e.value&&(a-n)/e.value;++u<s;)(i=o[u]).x0=t,i.x1=r,i.y0=n,i.y1=n+=i.value*c},hk=(1+Math.sqrt(5))/2;function pk(e,t,n,r,a,i){for(var o,u,s,c,l,f,d,h,p,v,m,g=[],b=t.children,y=0,x=0,_=b.length,w=t.value;y<_;){s=a-n,c=i-r;do{l=b[x++].value}while(!l&&x<_);for(f=d=l,m=l*l*(v=Math.max(c/s,s/c)/(w*e)),p=Math.max(d/m,m/f);x<_;++x){if(l+=u=b[x].value,u<f&&(f=u),u>d&&(d=u),m=l*l*v,(h=Math.max(d/m,m/f))>p){l-=u;break}p=h}g.push(o={value:l,dice:s<c,children:b.slice(y,x)}),o.dice?JO(o,n,r,a,w?r+=c*l/w:i):dk(o,n,r,w?n+=s*l/w:a,i),w-=l,y=x}return g}var vk=function e(t){function n(e,n,r,a,i){pk(t,e,n,r,a,i)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(hk),mk=function e(t){function n(e,n,r,a,i){if((o=e._squarify)&&o.ratio===t)for(var o,u,s,c,l,f=-1,d=o.length,h=e.value;++f<d;){for(s=(u=o[f]).children,c=u.value=0,l=s.length;c<l;++c)u.value+=s[c].value;u.dice?JO(u,n,r,a,h?r+=(i-r)*u.value/h:i):dk(u,n,r,h?n+=(a-n)*u.value/h:a,i),h-=u.value}else e._squarify=o=pk(t,e,n,r,a,i),o.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(hk);function gk(e,t,n){var r={};return e.each((function(e){var a=e.data;n(a)&&(r[t(a)]=e)})),e.lookup=r,e}function bk(e){lr.call(this,null,e)}bk.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};var yk=function(e){return e.values};function xk(){var e=[],t={entries:function(e){return r(n(e,0),0)},key:function(n){return e.push(n),t}};function n(t,r){if(r>=e.length)return t;for(var a,i,o,u=t.length,s=e[r++],c={},l={},f=-1;++f<u;)(o=c[a=s(i=t[f])+""])?o.push(i):c[a]=[i];for(a in c)l[a]=n(c[a],r);return l}function r(t,n){if(++n>e.length)return t;var a=[];for(var i in t)a.push({key:i,values:r(t[i],n)});return a}return t}function _k(e){lr.call(this,null,e)}Object(Lt.v)(bk,lr,{transform:function(e,t){t.source||Object(Lt.k)("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),a=t.clone(),i=this.value;return(!i||r||t.changed())&&(i&&i.each((function(e){e.children&&jn(e.data)&&a.rem.push(e.data)})),this.value=i=OO({values:Object(Lt.e)(e.keys).reduce((function(e,t){return e.key(t),e}),xk()).entries(a.source)},yk),n&&i.each((function(e){e.children&&(e=An(e.data),a.add.push(e),a.source.push(e))})),gk(i,En,En)),a.source.root=i,a}});var wk=function(e,t){return e.parent===t.parent?1:2};Object(Lt.v)(_k,lr,{transform:function(e,t){t.source&&t.source.root||Object(Lt.k)(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(e.method),r=this.fields,a=t.source.root,i=e.as||r;e.field?a.sum(e.field):a.count(),e.sort&&a.sort(Fn(e.sort,(function(e){return e.data}))),function(e,t,n){for(var r,a=0,i=t.length;a<i;++a)(r=t[a])in n&&e[r](n[r])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?wk:Lt.M);try{this.value=n(a)}catch(o){Object(Lt.k)(o)}return a.each((function(e){return function(e,t,n){for(var r=e.data,a=t.length-1,i=0;i<a;++i)r[n[i]]=e[t[i]];r[n[a]]=e.children?e.children.length:0}(e,r,i)})),t.reflow(e.modified()).modifies(i).modifies("leaf")}});var Ok=["x","y","r","depth","children"];function kk(e){_k.call(this,e)}kk.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Ok.length,default:Ok}]},Object(Lt.v)(kk,_k,{layout:function(){var e=null,t=1,n=1,r=qO;function a(a){return a.x=t/2,a.y=n/2,e?a.eachBefore(KO(e)).eachAfter($O(r,.5)).eachBefore(XO(1)):a.eachBefore(KO(GO)).eachAfter($O(qO,1)).eachAfter($O(r,a.r/Math.min(t,n))).eachBefore(XO(Math.min(t,n)/(2*a.r))),a}return a.radius=function(t){return arguments.length?(e=WO(t),a):e},a.size=function(e){return arguments.length?(t=+e[0],n=+e[1],a):[t,n]},a.padding=function(e){return arguments.length?(r="function"===typeof e?e:HO(+e),a):r},a},params:["radius","size","padding"],fields:Ok});var jk=["x0","y0","x1","y1","depth","children"];function Ek(e){_k.call(this,e)}function Ck(e){lr.call(this,null,e)}Ek.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:jk.length,default:jk}]},Object(Lt.v)(Ek,_k,{layout:function(){var e=1,t=1,n=0,r=!1;function a(a){var i=a.height+1;return a.x0=a.y0=n,a.x1=e,a.y1=t/i,a.eachBefore(function(e,t){return function(r){r.children&&JO(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var a=r.x0,i=r.y0,o=r.x1-n,u=r.y1-n;o<a&&(a=o=(a+o)/2),u<i&&(i=u=(i+u)/2),r.x0=a,r.y0=i,r.x1=o,r.y1=u}}(t,i)),r&&a.eachBefore(YO),a}return a.round=function(e){return arguments.length?(r=!!e,a):r},a.size=function(n){return arguments.length?(e=+n[0],t=+n[1],a):[e,t]},a.padding=function(e){return arguments.length?(n=+e,a):n},a},params:["size","round","padding"],fields:jk}),Ck.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Object(Lt.v)(Ck,lr,{transform:function(e,t){t.source||Object(Lt.k)("Stratify transform requires an upstream data source.");var n=this.value,r=e.modified(),a=t.fork(t.ALL).materialize(t.SOURCE),i=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return a.source=a.source.slice(),i&&(n=a.source.length?gk(nk().id(e.key).parentId(e.parentKey)(a.source),e.key,Lt.db):gk(nk()([{}]),e.key,e.key)),a.source.root=this.value=n,a}});var Ak={tidy:function(){var e=rk,t=1,n=1,r=null;function a(a){var s=function(e){for(var t,n,r,a,i,o=new sk(e,0),u=[o];t=u.pop();)if(r=t._.children)for(t.children=new Array(i=r.length),a=i-1;a>=0;--a)u.push(n=t.children[a]=new sk(r[a],a)),n.parent=t;return(o.parent=new sk(null,0)).children=[o],o}(a);if(s.eachAfter(i),s.parent.m=-s.z,s.eachBefore(o),r)a.eachBefore(u);else{var c=a,l=a,f=a;a.eachBefore((function(e){e.x<c.x&&(c=e),e.x>l.x&&(l=e),e.depth>f.depth&&(f=e)}));var d=c===l?1:e(c,l)/2,h=d-c.x,p=t/(l.x+d+h),v=n/(f.depth||1);a.eachBefore((function(e){e.x=(e.x+h)*p,e.y=e.depth*v}))}return a}function i(t){var n=t.children,r=t.parent.children,a=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,a=e.children,i=a.length;--i>=0;)(t=a[i]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var i=(n[0].z+n[n.length-1].z)/2;a?(t.z=a.z+e(t._,a._),t.m=t.z-i):t.z=i}else a&&(t.z=a.z+e(t._,a._));t.parent.A=function(t,n,r){if(n){for(var a,i=t,o=t,u=n,s=i.parent.children[0],c=i.m,l=o.m,f=u.m,d=s.m;u=ik(u),i=ak(i),u&&i;)s=ak(s),(o=ik(o)).a=t,(a=u.z+f-i.z-c+e(u._,i._))>0&&(ok(uk(u,t,r),t,a),c+=a,l+=a),f+=u.m,c+=i.m,d+=s.m,l+=o.m;u&&!ik(o)&&(o.t=u,o.m+=f-l),i&&!ak(s)&&(s.t=i,s.m+=c-d,r=t)}return r}(t,a,t.parent.A||r[0])}function o(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function u(e){e.x*=t,e.y=e.depth*n}return a.separation=function(t){return arguments.length?(e=t,a):e},a.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],a):r?null:[t,n]},a.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],a):r?[t,n]:null},a},cluster:function(){var e=ck,t=1,n=1,r=!1;function a(a){var i,o=0;a.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(lk,0)/e.length}(n),t.y=function(e){return 1+e.reduce(fk,0)}(n)):(t.x=i?o+=e(t,i):0,t.y=0,i=t)}));var u=function(e){for(var t;t=e.children;)e=t[0];return e}(a),s=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(a),c=u.x-e(u,s)/2,l=s.x+e(s,u)/2;return a.eachAfter(r?function(e){e.x=(e.x-a.x)*t,e.y=(a.y-e.y)*n}:function(e){e.x=(e.x-c)/(l-c)*t,e.y=(1-(a.y?e.y/a.y:1))*n})}return a.separation=function(t){return arguments.length?(e=t,a):e},a.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],a):r?null:[t,n]},a.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],a):r?[t,n]:null},a}},Sk=["x","y","depth","children"];function Dk(e){_k.call(this,e)}function Nk(e){lr.call(this,[],e)}Dk.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Sk.length,default:Sk}]},Object(Lt.v)(Dk,_k,{layout:function(e){var t=e||"tidy";if(Object(Lt.s)(Ak,t))return Ak[t]();Object(Lt.k)("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:Sk}),Nk.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Object(Lt.v)(Nk,lr,{transform:function(e,t){var n=this.value,r=t.source&&t.source.root,a=t.fork(t.NO_SOURCE),i={};return r||Object(Lt.k)("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(a.rem=n,t.visit(t.SOURCE,(function(e){return i[En(e)]=1})),r.each((function(e){var t=e.data,n=e.parent&&e.parent.data;n&&i[En(t)]&&i[En(n)]&&a.add.push(An({source:n,target:t}))})),this.value=a.add):t.changed(t.MOD)&&(t.visit(t.MOD,(function(e){return i[En(e)]=1})),n.forEach((function(e){(i[En(e.source)]||i[En(e.target)])&&a.mod.push(e)}))),a}});var Fk={binary:function(e,t,n,r,a){var i,o,u=e.children,s=u.length,c=new Array(s+1);for(c[0]=o=i=0;i<s;++i)c[i+1]=o+=u[i].value;!function e(t,n,r,a,i,o,s){if(t>=n-1){var l=u[t];return l.x0=a,l.y0=i,l.x1=o,void(l.y1=s)}var f=c[t],d=r/2+f,h=t+1,p=n-1;for(;h<p;){var v=h+p>>>1;c[v]<d?h=v+1:p=v}d-c[h-1]<c[h]-d&&t+1<h&&--h;var m=c[h]-f,g=r-m;if(o-a>s-i){var b=r?(a*g+o*m)/r:o;e(t,h,m,a,i,b,s),e(h,n,g,b,i,o,s)}else{var y=r?(i*g+s*m)/r:s;e(t,h,m,a,i,o,y),e(h,n,g,a,y,o,s)}}(0,s,e.value,t,n,r,a)},dice:JO,slice:dk,slicedice:function(e,t,n,r,a){(1&e.depth?dk:JO)(e,t,n,r,a)},squarify:vk,resquarify:mk},Tk=["x0","y0","x1","y1","depth","children"];function Mk(e){_k.call(this,e)}function Ik(e,t){var n,r,a,i,o,u,s=[],c=function(e){return e(i)};if(null==t)s.push(e);else for(n={},r=0,a=e.length;r<a;++r)i=e[r],(u=n[o=t.map(c)])||(n[o]=u=[],u.dims=o,s.push(u)),u.push(i);return s}function Rk(e){lr.call(this,null,e)}Mk.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Tk.length,default:Tk}]},Object(Lt.v)(Mk,_k,{layout:function(){var e=function(){var e=vk,t=!1,n=1,r=1,a=[0],i=qO,o=qO,u=qO,s=qO,c=qO;function l(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(f),a=[0],t&&e.eachBefore(YO),e}function f(t){var n=a[t.depth],r=t.x0+n,l=t.y0+n,f=t.x1-n,d=t.y1-n;f<r&&(r=f=(r+f)/2),d<l&&(l=d=(l+d)/2),t.x0=r,t.y0=l,t.x1=f,t.y1=d,t.children&&(n=a[t.depth+1]=i(t)/2,r+=c(t)-n,l+=o(t)-n,(f-=u(t)-n)<r&&(r=f=(r+f)/2),(d-=s(t)-n)<l&&(l=d=(l+d)/2),e(t,r,l,f,d))}return l.round=function(e){return arguments.length?(t=!!e,l):t},l.size=function(e){return arguments.length?(n=+e[0],r=+e[1],l):[n,r]},l.tile=function(t){return arguments.length?(e=VO(t),l):e},l.padding=function(e){return arguments.length?l.paddingInner(e).paddingOuter(e):l.paddingInner()},l.paddingInner=function(e){return arguments.length?(i="function"===typeof e?e:HO(+e),l):i},l.paddingOuter=function(e){return arguments.length?l.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):l.paddingTop()},l.paddingTop=function(e){return arguments.length?(o="function"===typeof e?e:HO(+e),l):o},l.paddingRight=function(e){return arguments.length?(u="function"===typeof e?e:HO(+e),l):u},l.paddingBottom=function(e){return arguments.length?(s="function"===typeof e?e:HO(+e),l):s},l.paddingLeft=function(e){return arguments.length?(c="function"===typeof e?e:HO(+e),l):c},l}();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){Object(Lt.s)(Fk,t)?e.tile(Fk[t]):Object(Lt.k)("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:Tk}),Rk.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},Object(Lt.v)(Rk,lr,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=Ik(t.materialize(t.SOURCE).source,e.groupby),a=(e.groupby||[]).map(Lt.d),i=a.length,o=e.as||[Object(Lt.d)(e.x),Object(Lt.d)(e.y)],u=[];r.forEach((function(t){ga(t,e.x,e.y,e.bandwidth||.3).forEach((function(e){for(var n={},r=0;r<i;++r)n[a[r]]=t.dims[r];n[o[0]]=e[0],n[o[1]]=e[1],u.push(An(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});var Pk={linear:la,log:fa,exp:da,pow:ha,quad:pa,poly:va};function Bk(e){lr.call(this,null,e)}Bk.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(Pk)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},Object(Lt.v)(Bk,lr,{transform:function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=Ik(t.materialize(t.SOURCE).source,e.groupby),a=(e.groupby||[]).map(Lt.d),i=e.method||"linear",o=e.order||3,u=function(e,t){return"poly"===e?t:"quad"===e?2:1}(i,o),s=e.as||[Object(Lt.d)(e.x),Object(Lt.d)(e.y)],c=Pk[i],l=[],f=e.extent;Object(Lt.s)(Pk,i)||Object(Lt.k)("Invalid regression method: "+i),null!=f&&"log"===i&&f[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),r.forEach((function(n){if(n.length<=u)t.dataflow.warn("Skipping regression with more parameters than data points.");else{var r=c(n,e.x,e.y,o);if(e.params)l.push(An({keys:n.dims,coef:r.coef,rSquared:r.rSquared}));else{var d=f||Object(Lt.m)(n,e.x),h=function(e){for(var t={},r=0;r<a.length;++r)t[a[r]]=n.dims[r];t[s[0]]=e[0],t[s[1]]=e[1],l.push(An(t))};"linear"===i?d.forEach((function(e){return h([e,r.predict(e)])})):_a(r.predict,d,25,200).forEach(h)}}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});var zk=Math.pow(2,-52),Lk=new Uint32Array(512),Uk=function(){function e(t){Object(Rb.a)(this,e);var n=t.length>>1;if(n>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return Object(Pb.a)(e,[{key:"update",value:function(){for(var e=this.coords,t=this._hullPrev,n=this._hullNext,r=this._hullTri,a=this._hullHash,i=e.length>>1,o=1/0,u=1/0,s=-1/0,c=-1/0,l=0;l<i;l++){var f=e[2*l],d=e[2*l+1];f<o&&(o=f),d<u&&(u=d),f>s&&(s=f),d>c&&(c=d),this._ids[l]=l}for(var h,p,v,m=(o+s)/2,g=(u+c)/2,b=1/0,y=0;y<i;y++){var x=Wk(m,g,e[2*y],e[2*y+1]);x<b&&(h=y,b=x)}var _=e[2*h],w=e[2*h+1];b=1/0;for(var O=0;O<i;O++)if(O!==h){var k=Wk(_,w,e[2*O],e[2*O+1]);k<b&&k>0&&(p=O,b=k)}for(var j=e[2*p],E=e[2*p+1],C=1/0,A=0;A<i;A++)if(A!==h&&A!==p){var S=Gk(_,w,j,E,e[2*A],e[2*A+1]);S<C&&(v=A,C=S)}var D=e[2*v],N=e[2*v+1];if(C===1/0){for(var F=0;F<i;F++)this._dists[F]=e[2*F]-e[0]||e[2*F+1]-e[1];Kk(this._ids,this._dists,0,i-1);for(var T=new Uint32Array(i),M=0,I=0,R=-1/0;I<i;I++){var P=this._ids[I];this._dists[P]>R&&(T[M++]=P,R=this._dists[P])}return this.hull=T.subarray(0,M),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(qk(_,w,j,E,D,N)){var B=p,z=j,L=E;p=v,j=D,E=N,v=B,D=z,N=L}var U=function(e,t,n,r,a,i){var o=n-e,u=r-t,s=a-e,c=i-t,l=o*o+u*u,f=s*s+c*c,d=.5/(o*c-u*s);return{x:e+(c*l-u*f)*d,y:t+(o*f-s*l)*d}}(_,w,j,E,D,N);this._cx=U.x,this._cy=U.y;for(var W=0;W<i;W++)this._dists[W]=Wk(e[2*W],e[2*W+1],U.x,U.y);Kk(this._ids,this._dists,0,i-1),this._hullStart=h;var V=3;n[h]=t[v]=p,n[p]=t[h]=v,n[v]=t[p]=h,r[h]=0,r[p]=1,r[v]=2,a.fill(-1),a[this._hashKey(_,w)]=h,a[this._hashKey(j,E)]=p,a[this._hashKey(D,N)]=v,this.trianglesLen=0,this._addTriangle(h,p,v,-1,-1,-1);for(var q,H,G=0;G<this._ids.length;G++){var K=this._ids[G],$=e[2*K],X=e[2*K+1];if(!(G>0&&Math.abs($-q)<=zk&&Math.abs(X-H)<=zk)&&(q=$,H=X,K!==h&&K!==p&&K!==v)){for(var Y=0,J=0,Q=this._hashKey($,X);J<this._hashSize&&(-1===(Y=a[(Q+J)%this._hashSize])||Y===n[Y]);J++);for(var Z=Y=t[Y],ee=void 0;ee=n[Z],!qk($,X,e[2*Z],e[2*Z+1],e[2*ee],e[2*ee+1]);)if((Z=ee)===Y){Z=-1;break}if(-1!==Z){var te=this._addTriangle(Z,K,n[Z],-1,-1,r[Z]);r[K]=this._legalize(te+2),r[Z]=te,V++;for(var ne=n[Z];ee=n[ne],qk($,X,e[2*ne],e[2*ne+1],e[2*ee],e[2*ee+1]);)te=this._addTriangle(ne,K,ee,r[K],-1,r[ne]),r[K]=this._legalize(te+2),n[ne]=ne,V--,ne=ee;if(Z===Y)for(;qk($,X,e[2*(ee=t[Z])],e[2*ee+1],e[2*Z],e[2*Z+1]);)te=this._addTriangle(ee,K,Z,-1,r[Z],r[ee]),this._legalize(te+2),r[ee]=te,n[Z]=Z,V--,Z=ee;this._hullStart=t[K]=Z,n[Z]=t[ne]=K,n[K]=ne,a[this._hashKey($,X)]=K,a[this._hashKey(e[2*Z],e[2*Z+1])]=Z}}}this.hull=new Uint32Array(V);for(var re=0,ae=this._hullStart;re<V;re++)this.hull[re]=ae,ae=n[ae];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(e,t){return Math.floor(function(e,t){var n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(e){for(var t=this._triangles,n=this._halfedges,r=this.coords,a=0,i=0;;){var o=n[e],u=e-e%3;if(i=u+(e+2)%3,-1!==o){var s=o-o%3,c=u+(e+1)%3,l=s+(o+2)%3,f=t[i],d=t[e],h=t[c],p=t[l];if(Hk(r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*h],r[2*h+1],r[2*p],r[2*p+1])){t[e]=p,t[o]=f;var v=n[l];if(-1===v){var m=this._hullStart;do{if(this._hullTri[m]===l){this._hullTri[m]=e;break}m=this._hullPrev[m]}while(m!==this._hullStart)}this._link(e,v),this._link(o,n[i]),this._link(i,l);var g=s+(o+1)%3;a<Lk.length&&(Lk[a++]=g)}else{if(0===a)break;e=Lk[--a]}}else{if(0===a)break;e=Lk[--a]}}return i}},{key:"_link",value:function(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}},{key:"_addTriangle",value:function(e,t,n,r,a,i){var o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=n,this._link(o,r),this._link(o+1,a),this._link(o+2,i),this.trianglesLen+=3,o}}],[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xk,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yk,a=t.length,i=new Float64Array(2*a),o=0;o<a;o++){var u=t[o];i[2*o]=n(u),i[2*o+1]=r(u)}return new e(i)}}]),e}();function Wk(e,t,n,r){var a=e-n,i=t-r;return a*a+i*i}function Vk(e,t,n,r,a,i){var o=(r-t)*(a-e),u=(n-e)*(i-t);return Math.abs(o-u)>=33306690738754716e-32*Math.abs(o+u)?o-u:0}function qk(e,t,n,r,a,i){return(Vk(a,i,e,t,n,r)||Vk(e,t,n,r,a,i)||Vk(n,r,a,i,e,t))<0}function Hk(e,t,n,r,a,i,o,u){var s=e-o,c=t-u,l=n-o,f=r-u,d=a-o,h=i-u,p=l*l+f*f,v=d*d+h*h;return s*(f*v-p*h)-c*(l*v-p*d)+(s*s+c*c)*(l*h-f*d)<0}function Gk(e,t,n,r,a,i){var o=n-e,u=r-t,s=a-e,c=i-t,l=o*o+u*u,f=s*s+c*c,d=.5/(o*c-u*s),h=(c*l-u*f)*d,p=(o*f-s*l)*d;return h*h+p*p}function Kk(e,t,n,r){if(r-n<=20)for(var a=n+1;a<=r;a++){for(var i=e[a],o=t[i],u=a-1;u>=n&&t[e[u]]>o;)e[u+1]=e[u--];e[u+1]=i}else{var s=n+1,c=r;$k(e,n+r>>1,s),t[e[n]]>t[e[r]]&&$k(e,n,r),t[e[s]]>t[e[r]]&&$k(e,s,r),t[e[n]]>t[e[s]]&&$k(e,n,s);for(var l=e[s],f=t[l];;){do{s++}while(t[e[s]]<f);do{c--}while(t[e[c]]>f);if(c<s)break;$k(e,s,c)}e[n+1]=e[c],e[c]=l,r-s+1>=c-n?(Kk(e,t,s,r),Kk(e,t,n,c-1)):(Kk(e,t,n,c-1),Kk(e,t,s,r))}}function $k(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Xk(e){return e[0]}function Yk(e){return e[1]}var Jk=1e-6,Qk=function(){function e(){Object(Rb.a)(this,e),this._x0=this._y0=this._x1=this._y1=null,this._=""}return Object(Pb.a)(e,[{key:"moveTo",value:function(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}},{key:"arc",value:function(e,t,n){var r=(e=+e)+(n=+n),a=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(a):(Math.abs(this._x1-r)>Jk||Math.abs(this._y1-a)>Jk)&&(this._+="L"+r+","+a),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=a))}},{key:"rect",value:function(e,t,n,r){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),e}(),Zk=function(){function e(){Object(Rb.a)(this,e),this._=[]}return Object(Pb.a)(e,[{key:"moveTo",value:function(e,t){this._.push([e,t])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(e,t){this._.push([e,t])}},{key:"value",value:function(){return this._.length?this._:null}}]),e}(),ej=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=Object(vr.a)(n,4),a=r[0],i=r[1],o=r[2],u=r[3];if(Object(Rb.a)(this,e),!((o=+o)>=(a=+a))||!((u=+u)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=o,this.xmin=a,this.ymax=u,this.ymin=i,this._init()}return Object(Pb.a)(e,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var e,t,n=this.delaunay,r=n.points,a=n.hull,i=n.triangles,o=this.vectors,u=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2),s=0,c=0,l=i.length;s<l;s+=3,c+=2){var f=2*i[s],d=2*i[s+1],h=2*i[s+2],p=r[f],v=r[f+1],m=r[d],g=r[d+1],b=r[h],y=r[h+1],x=m-p,_=g-v,w=b-p,O=y-v,k=x*x+_*_,j=w*w+O*O,E=2*(x*O-_*w);if(E)if(Math.abs(E)<1e-8)e=(p+b)/2,t=(v+y)/2;else{var C=1/E;e=p+(O*k-_*j)*C,t=v+(x*j-w*k)*C}else e=(p+b)/2-1e8*O,t=(v+y)/2+1e8*w;u[c]=e,u[c+1]=t}var A,S,D,N=a[a.length-1],F=4*N,T=r[2*N],M=r[2*N+1];o.fill(0);for(var I=0;I<a.length;++I)A=F,S=T,D=M,F=4*(N=a[I]),T=r[2*N],M=r[2*N+1],o[A+2]=o[F]=D-M,o[A+3]=o[F+1]=T-S}},{key:"render",value:function(e){var t=null==e?e=new Qk:void 0,n=this.delaunay,r=n.halfedges,a=n.inedges,i=n.hull,o=this.circumcenters,u=this.vectors;if(i.length<=1)return null;for(var s=0,c=r.length;s<c;++s){var l=r[s];if(!(l<s)){var f=2*Math.floor(s/3),d=2*Math.floor(l/3),h=o[f],p=o[f+1],v=o[d],m=o[d+1];this._renderSegment(h,p,v,m,e)}}for(var g,b=i[i.length-1],y=0;y<i.length;++y){g=b,b=i[y];var x=2*Math.floor(a[b]/3),_=o[x],w=o[x+1],O=4*g,k=this._project(_,w,u[O+2],u[O+3]);k&&this._renderSegment(_,w,k[0],k[1],e)}return t&&t.value()}},{key:"renderBounds",value:function(e){var t=null==e?e=new Qk:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}},{key:"renderCell",value:function(e,t){var n=null==t?t=new Qk:void 0,r=this._clip(e);if(null!==r&&r.length){t.moveTo(r[0],r[1]);for(var a=r.length;r[0]===r[a-2]&&r[1]===r[a-1]&&a>1;)a-=2;for(var i=2;i<a;i+=2)r[i]===r[i-2]&&r[i+1]===r[i-1]||t.lineTo(r[i],r[i+1]);return t.closePath(),n&&n.value()}}},{key:"cellPolygons",value:k.a.mark((function e(){var t,n,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.delaunay.points,n=0,r=t.length/2;case 2:if(!(n<r)){e.next=11;break}if(!(a=this.cellPolygon(n))){e.next=8;break}return a.index=n,e.next=8,a;case 8:++n,e.next=2;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"cellPolygon",value:function(e){var t=new Zk;return this.renderCell(e,t),t.value()}},{key:"_renderSegment",value:function(e,t,n,r,a){var i,o=this._regioncode(e,t),u=this._regioncode(n,r);0===o&&0===u?(a.moveTo(e,t),a.lineTo(n,r)):(i=this._clipSegment(e,t,n,r,o,u))&&(a.moveTo(i[0],i[1]),a.lineTo(i[2],i[3]))}},{key:"contains",value:function(e,t,n){return(t=+t)===t&&(n=+n)===n&&this.delaunay._step(e,t,n)===e}},{key:"neighbors",value:k.a.mark((function e(t){var n,r,a,i,o,u,s,c,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._clip(t))){e.next=33;break}r=Object(pr.a)(this.delaunay.neighbors(t)),e.prev=3,r.s();case 5:if((a=r.n()).done){e.next=25;break}if(i=a.value,!(o=this._clip(i))){e.next=23;break}u=0,s=n.length;case 10:if(!(u<s)){e.next=23;break}c=0,l=o.length;case 12:if(!(c<l)){e.next=20;break}if(n[u]!=o[c]||n[u+1]!=o[c+1]||n[(u+2)%s]!=o[(c+l-2)%l]||n[(u+3)%s]!=o[(c+l-1)%l]){e.next=17;break}return e.next=16,i;case 16:return e.abrupt("break",23);case 17:c+=2,e.next=12;break;case 20:u+=2,e.next=10;break;case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),r.e(e.t0);case 30:return e.prev=30,r.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[3,27,30,33]])}))},{key:"_cell",value:function(e){var t=this.circumcenters,n=this.delaunay,r=n.inedges,a=n.halfedges,i=n.triangles,o=r[e];if(-1===o)return null;var u=[],s=o;do{var c=Math.floor(s/3);if(u.push(t[2*c],t[2*c+1]),i[s=s%3===2?s-2:s+1]!==e)break;s=a[s]}while(s!==o&&-1!==s);return u}},{key:"_clip",value:function(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var t=this._cell(e);if(null===t)return null;var n=this.vectors,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}},{key:"_clipFinite",value:function(e,t){for(var n,r,a,i,o,u=t.length,s=null,c=t[u-2],l=t[u-1],f=this._regioncode(c,l),d=0;d<u;d+=2)if(n=c,r=l,c=t[d],l=t[d+1],a=f,f=this._regioncode(c,l),0===a&&0===f)i=o,o=0,s?s.push(c,l):s=[c,l];else{var h=void 0,p=void 0,v=void 0,m=void 0,g=void 0;if(0===a){if(null===(h=this._clipSegment(n,r,c,l,a,f)))continue;var b=h,y=Object(vr.a)(b,4);p=y[0],v=y[1],m=y[2],g=y[3]}else{if(null===(h=this._clipSegment(c,l,n,r,f,a)))continue;var x=h,_=Object(vr.a)(x,4);m=_[0],g=_[1],p=_[2],v=_[3],i=o,o=this._edgecode(p,v),i&&o&&this._edge(e,i,o,s,s.length),s?s.push(p,v):s=[p,v]}i=o,o=this._edgecode(m,g),i&&o&&this._edge(e,i,o,s,s.length),s?s.push(m,g):s=[m,g]}if(s)i=o,o=this._edgecode(s[0],s[1]),i&&o&&this._edge(e,i,o,s,s.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}},{key:"_clipSegment",value:function(e,t,n,r,a,i){for(;;){if(0===a&&0===i)return[e,t,n,r];if(a&i)return null;var o=void 0,u=void 0,s=a||i;8&s?(o=e+(n-e)*(this.ymax-t)/(r-t),u=this.ymax):4&s?(o=e+(n-e)*(this.ymin-t)/(r-t),u=this.ymin):2&s?(u=t+(r-t)*(this.xmax-e)/(n-e),o=this.xmax):(u=t+(r-t)*(this.xmin-e)/(n-e),o=this.xmin),a?(e=o,t=u,a=this._regioncode(e,t)):(n=o,r=u,i=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(e,t,n,r,a,i){var o,u=Array.from(t);if((o=this._project(u[0],u[1],n,r))&&u.unshift(o[0],o[1]),(o=this._project(u[u.length-2],u[u.length-1],a,i))&&u.push(o[0],o[1]),u=this._clipFinite(e,u))for(var s,c=0,l=u.length,f=this._edgecode(u[l-2],u[l-1]);c<l;c+=2)s=f,f=this._edgecode(u[c],u[c+1]),s&&f&&(c=this._edge(e,s,f,u,c),l=u.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}},{key:"_edge",value:function(e,t,n,r,a){for(;t!==n;){var i=void 0,o=void 0;switch(t){case 5:t=4;continue;case 4:t=6,i=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,i=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,i=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,i=this.xmin,o=this.ymin}r[a]===i&&r[a+1]===o||!this.contains(e,i,o)||(r.splice(a,0,i,o),a+=2)}if(r.length>4)for(var u=0;u<r.length;u+=2){var s=(u+2)%r.length,c=(u+4)%r.length;(r[u]===r[s]&&r[s]===r[c]||r[u+1]===r[s+1]&&r[s+1]===r[c+1])&&(r.splice(s,2),u-=2)}return a}},{key:"_project",value:function(e,t,n,r){var a,i,o,u=1/0;if(r<0){if(t<=this.ymin)return null;(a=(this.ymin-t)/r)<u&&(o=this.ymin,i=e+(u=a)*n)}else if(r>0){if(t>=this.ymax)return null;(a=(this.ymax-t)/r)<u&&(o=this.ymax,i=e+(u=a)*n)}if(n>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/n)<u&&(i=this.xmax,o=t+(u=a)*r)}else if(n<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/n)<u&&(i=this.xmin,o=t+(u=a)*r)}return[i,o]}},{key:"_edgecode",value:function(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}},{key:"_regioncode",value:function(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}]),e}(),tj=k.a.mark(cj),nj=2*Math.PI,rj=Math.pow;function aj(e){return e[0]}function ij(e){return e[1]}function oj(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}var uj=function(){function e(t){Object(Rb.a)(this,e),this._delaunator=new Uk(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return Object(Pb.a)(e,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){for(var t=e.triangles,n=e.coords,r=0;r<t.length;r+=3){var a=2*t[r],i=2*t[r+1],o=2*t[r+2];if((n[o]-n[a])*(n[i+1]-n[a+1])-(n[i]-n[a])*(n[o+1]-n[a+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(function(e,t){return t})).sort((function(e,n){return t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],a=[t[2*n],t[2*n+1],t[2*r],t[2*r+1]],i=1e-8*Math.hypot(a[3]-a[1],a[2]-a[0]),o=0,u=t.length/2;o<u;++o){var s=oj(t[2*o],t[2*o+1],i);t[2*o]=s[0],t[2*o+1]=s[1]}this._delaunator=new Uk(t)}else delete this.collinear;for(var c=this.halfedges=this._delaunator.halfedges,l=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,d=this.inedges.fill(-1),h=this._hullIndex.fill(-1),p=0,v=c.length;p<v;++p){var m=f[p%3===2?p-2:p+1];-1!==c[p]&&-1!==d[m]||(d[m]=p)}for(var g=0,b=l.length;g<b;++g)h[l[g]]=g;l.length<=2&&l.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=l[0],this.triangles[1]=l[1],this.triangles[2]=l[1],d[l[0]]=1,2===l.length&&(d[l[1]]=0))}},{key:"voronoi",value:function(e){return new ej(this,e)}},{key:"neighbors",value:k.a.mark((function e(t){var n,r,a,i,o,u,s,c,l,f,d;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.inedges,r=this.hull,a=this._hullIndex,i=this.halfedges,o=this.triangles,!(u=this.collinear)){e.next=10;break}if(!((s=u.indexOf(t))>0)){e.next=6;break}return e.next=6,u[s-1];case 6:if(!(s<u.length-1)){e.next=9;break}return e.next=9,u[s+1];case 9:return e.abrupt("return");case 10:if(-1!==(c=n[t])){e.next=13;break}return e.abrupt("return");case 13:l=c,f=-1;case 14:return e.next=16,f=o[l];case 16:if(o[l=l%3===2?l-2:l+1]===t){e.next=19;break}return e.abrupt("return");case 19:if(-1!==(l=i[l])){e.next=26;break}if((d=r[(a[t]+1)%r.length])===f){e.next=25;break}return e.next=25,d;case 25:return e.abrupt("return");case 26:if(l!==c){e.next=14;break}case 27:case"end":return e.stop()}}),e,this)}))},{key:"find",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;for(var r,a=n;(r=this._step(n,e,t))>=0&&r!==n&&r!==a;)n=r;return r}},{key:"_step",value:function(e,t,n){var r=this.inedges,a=this.hull,i=this._hullIndex,o=this.halfedges,u=this.triangles,s=this.points;if(-1===r[e]||!s.length)return(e+1)%(s.length>>1);var c=e,l=rj(t-s[2*e],2)+rj(n-s[2*e+1],2),f=r[e],d=f;do{var h=u[d],p=rj(t-s[2*h],2)+rj(n-s[2*h+1],2);if(p<l&&(l=p,c=h),u[d=d%3===2?d-2:d+1]!==e)break;if(-1===(d=o[d])){if((d=a[(i[e]+1)%a.length])!==h&&rj(t-s[2*d],2)+rj(n-s[2*d+1],2)<l)return d;break}}while(d!==f);return c}},{key:"render",value:function(e){for(var t=null==e?e=new Qk:void 0,n=this.points,r=this.halfedges,a=this.triangles,i=0,o=r.length;i<o;++i){var u=r[i];if(!(u<i)){var s=2*a[i],c=2*a[u];e.moveTo(n[s],n[s+1]),e.lineTo(n[c],n[c+1])}}return this.renderHull(e),t&&t.value()}},{key:"renderPoints",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=null==e?e=new Qk:void 0,r=this.points,a=0,i=r.length;a<i;a+=2){var o=r[a],u=r[a+1];e.moveTo(o+t,u),e.arc(o,u,t,0,nj)}return n&&n.value()}},{key:"renderHull",value:function(e){var t=null==e?e=new Qk:void 0,n=this.hull,r=this.points,a=2*n[0],i=n.length;e.moveTo(r[a],r[a+1]);for(var o=1;o<i;++o){var u=2*n[o];e.lineTo(r[u],r[u+1])}return e.closePath(),t&&t.value()}},{key:"hullPolygon",value:function(){var e=new Zk;return this.renderHull(e),e.value()}},{key:"renderTriangle",value:function(e,t){var n=null==t?t=new Qk:void 0,r=this.points,a=this.triangles,i=2*a[e*=3],o=2*a[e+1],u=2*a[e+2];return t.moveTo(r[i],r[i+1]),t.lineTo(r[o],r[o+1]),t.lineTo(r[u],r[u+1]),t.closePath(),n&&n.value()}},{key:"trianglePolygons",value:k.a.mark((function e(){var t,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.triangles,n=0,r=t.length/3;case 2:if(!(n<r)){e.next=8;break}return e.next=5,this.trianglePolygon(n);case 5:++n,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"trianglePolygon",value:function(e){var t=new Zk;return this.renderTriangle(e,t),t.value()}}],[{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aj,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ij,a=arguments.length>3?arguments[3]:void 0;return new e("length"in t?sj(t,n,r,a):Float64Array.from(cj(t,n,r,a)))}}]),e}();function sj(e,t,n,r){for(var a=e.length,i=new Float64Array(2*a),o=0;o<a;++o){var u=e[o];i[2*o]=t.call(r,u,o,e),i[2*o+1]=n.call(r,u,o,e)}return i}function cj(e,t,n,r){var a,i,o,u;return k.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a=0,i=Object(pr.a)(e),s.prev=2,i.s();case 4:if((o=i.n()).done){s.next=13;break}return u=o.value,s.next=8,t.call(r,u,a,e);case 8:return s.next=10,n.call(r,u,a,e);case 10:++a;case 11:s.next=4;break;case 13:s.next=18;break;case 15:s.prev=15,s.t0=s.catch(2),i.e(s.t0);case 18:return s.prev=18,i.f(),s.finish(18);case 21:case"end":return s.stop()}}),tj,null,[[2,15,18,21]])}function lj(e){lr.call(this,null,e)}lj.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var fj=[-1e5,-1e5,1e5,1e5];function dj(e){for(var t=e[0][0],n=e[0][1],r=e.length-1;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}Object(Lt.v)(lj,lr,{transform:function(e,t){var n=e.as||"path",r=t.source;if(!r||!r.length)return t;var a=e.size;a=a?[0,0,a[0],a[1]]:(a=e.extent)?[a[0][0],a[0][1],a[1][0],a[1][1]]:fj;for(var i=this.value=uj.from(r,e.x,e.y).voronoi(a),o=0,u=r.length;o<u;++o){var s=i.cellPolygon(o);r[o][n]=s?dj(s):null}return t.reflow(e.modified()).modifies(n)}});var hj=Math.PI/180,pj=2048;function vj(){var e,t,n,r,a,i,o,u=[256,256],s=yj,c=[],l=Math.random,f={};function d(e,t,n){for(var r,a,i,o,c,f=t.x,d=t.y,h=Math.sqrt(u[0]*u[0]+u[1]*u[1]),p=s(u),v=l()<.5?1:-1,m=-v;(r=p(m+=v))&&(a=~~r[0],i=~~r[1],!(Math.min(Math.abs(a),Math.abs(i))>=h));)if(t.x=f+a,t.y=d+i,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>u[0]||t.y+t.y1>u[1])&&(!n||!gj(t,e,u[0]))&&(!n||(c=n,(o=t).x+o.x1>c[0].x&&o.x+o.x0<c[1].x&&o.y+o.y1>c[0].y&&o.y+o.y0<c[1].y))){for(var g,b=t.sprite,y=t.width>>5,x=u[0]>>5,_=t.x-(y<<4),w=127&_,O=32-w,k=t.y1-t.y0,j=(t.y+t.y0)*x+(_>>5),E=0;E<k;E++){g=0;for(var C=0;C<=y;C++)e[j+C]|=g<<O|(C<y?(g=b[E*y+C])>>>w:0);j+=x}return t.sprite=null,!0}return!1}return f.layout=function(){for(var s=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=pj/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(Ou()),f=function(e){var t=[],n=-1;for(;++n<e;)t[n]=0;return t}((u[0]>>5)*u[1]),h=null,p=c.length,v=-1,m=[],g=c.map((function(u){return{text:e(u),font:t(u),style:r(u),weight:a(u),rotate:i(u),size:~~(n(u)+1e-14),padding:o(u),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:u}})).sort((function(e,t){return t.size-e.size}));++v<p;){var b=g[v];b.x=u[0]*(l()+.5)>>1,b.y=u[1]*(l()+.5)>>1,mj(s,b,g,v),b.hasText&&d(f,b,h)&&(m.push(b),h?bj(h,b):h=[{x:b.x+b.x0,y:b.y+b.y0},{x:b.x+b.x1,y:b.y+b.y1}],b.x-=u[0]>>1,b.y-=u[1]>>1)}return m},f.words=function(e){return arguments.length?(c=e,f):c},f.size=function(e){return arguments.length?(u=[+e[0],+e[1]],f):u},f.font=function(e){return arguments.length?(t=xj(e),f):t},f.fontStyle=function(e){return arguments.length?(r=xj(e),f):r},f.fontWeight=function(e){return arguments.length?(a=xj(e),f):a},f.rotate=function(e){return arguments.length?(i=xj(e),f):i},f.text=function(t){return arguments.length?(e=xj(t),f):e},f.spiral=function(e){return arguments.length?(s=_j[e]||e,f):s},f.fontSize=function(e){return arguments.length?(n=xj(e),f):n},f.padding=function(e){return arguments.length?(o=xj(e),f):o},f.random=function(e){return arguments.length?(l=e,f):l},f}function mj(e,t,n,r){if(!t.sprite){var a=e.context,i=e.ratio;a.clearRect(0,0,2048/i,pj/i);var o,u,s,c,l,f=0,d=0,h=0,p=n.length;for(--r;++r<p;){if(t=n[r],a.save(),a.font=t.style+" "+t.weight+" "+~~((t.size+1)/i)+"px "+t.font,o=a.measureText(t.text+"m").width*i,s=t.size<<1,t.rotate){var v=Math.sin(t.rotate*hj),m=Math.cos(t.rotate*hj),g=o*m,b=o*v,y=s*m,x=s*v;o=Math.max(Math.abs(g+x),Math.abs(g-x))+31>>5<<5,s=~~Math.max(Math.abs(b+y),Math.abs(b-y))}else o=o+31>>5<<5;if(s>h&&(h=s),f+o>=2048&&(f=0,d+=h,h=0),d+s>=pj)break;a.translate((f+(o>>1))/i,(d+(s>>1))/i),t.rotate&&a.rotate(t.rotate*hj),a.fillText(t.text,0,0),t.padding&&(a.lineWidth=2*t.padding,a.strokeText(t.text,0,0)),a.restore(),t.width=o,t.height=s,t.xoff=f,t.yoff=d,t.x1=o>>1,t.y1=s>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,f+=o}for(var _=a.getImageData(0,0,2048/i,pj/i).data,w=[];--r>=0;)if((t=n[r]).hasText){for(u=(o=t.width)>>5,s=t.y1-t.y0,c=0;c<s*u;c++)w[c]=0;if(null==(f=t.xoff))return;d=t.yoff;var O=0,k=-1;for(l=0;l<s;l++){for(c=0;c<o;c++){var j=u*l+(c>>5),E=_[2048*(d+l)+(f+c)<<2]?1<<31-c%32:0;w[j]|=E,O|=E}O?k=l:(t.y0++,s--,l--,d++)}t.y1=t.y0+k,t.sprite=w.slice(0,(t.y1-t.y0)*u)}}}function gj(e,t,n){n>>=5;for(var r,a=e.sprite,i=e.width>>5,o=e.x-(i<<4),u=127&o,s=32-u,c=e.y1-e.y0,l=(e.y+e.y0)*n+(o>>5),f=0;f<c;f++){r=0;for(var d=0;d<=i;d++)if((r<<s|(d<i?(r=a[f*i+d])>>>u:0))&t[l+d])return!0;l+=n}return!1}function bj(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function yj(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function xj(e){return"function"===typeof e?e:function(){return e}}var _j={archimedean:yj,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var a=e<0?-1:1;switch(Math.sqrt(1+4*a*e)-a&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}},wj=["x","y","font","fontSize","fontStyle","fontWeight","angle"],Oj=["text","font","rotate","fontSize","fontStyle","fontWeight"];function kj(e){lr.call(this,vj(),e)}kj.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:wj}]},Object(Lt.v)(kj,lr,{transform:function(e,t){!e.size||e.size[0]&&e.size[1]||Object(Lt.k)("Wordcloud size dimensions must be non-zero.");var n=e.modified();if(n||t.changed(t.ADD_REM)||Oj.some((function(n){var r=e[n];return Object(Lt.A)(r)&&t.modified(r.fields)}))){var r,a=t.materialize(t.SOURCE).source,i=this.value,o=e.as||wj,u=e.fontSize||14;if(Object(Lt.A)(u)?r=e.fontSizeRange:u=Object(Lt.i)(u),r){var s=u,c=Pf("sqrt")().domain(Object(Lt.m)(a,s)).range(r);u=function(e){return c(s(e))}}a.forEach((function(e){e[o[0]]=NaN,e[o[1]]=NaN,e[o[3]]=0}));for(var l,f,d=i.words(a).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(u).random(Mr).layout(),h=i.size(),p=h[0]>>1,v=h[1]>>1,m=d.length,g=0;g<m;++g)(f=(l=d[g]).datum)[o[0]]=l.x+p,f[o[1]]=l.y+v,f[o[2]]=l.font,f[o[3]]=l.size,f[o[4]]=l.style,f[o[5]]=l.weight,f[o[6]]=l.rotate;return t.reflow(n).modifies(o)}}});var jj=function(e){return new Uint8Array(e)},Ej=function(e){return new Uint16Array(e)},Cj=function(e){return new Uint32Array(e)};function Aj(e,t,n){var r=(t<257?jj:t<65537?Ej:Cj)(e);return n&&r.set(n),r}function Sj(e,t,n){var r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,a=this,i=a.bisect(a.range,e.value),o=e.index,u=i[0],s=i[1],c=o.length;for(n=0;n<u;++n)t[o[n]]|=r;for(n=s;n<c;++n)t[o[n]]|=r;return a}}}function Dj(){var e=Cj(0),t=[],n=0;return{insert:function(r,a,i){if(!a.length)return[];var o,u,s,c,l,f,d,h=n,p=a.length,v=Cj(p),m=Array(p);for(s=0;s<p;++s)m[s]=r(a[s]),v[s]=s;if(d=v,(f=m).sort.call(d,(function(e,t){var n=f[e],r=f[t];return n<r?-1:n>r?1:0})),c=f,l=d,m=Array.from(l,(function(e){return c[e]})),h)o=t,u=e,t=Array(h+p),e=Cj(h+p),function(e,t,n,r,a,i,o,u,s){var c,l=0,f=0;for(c=0;l<r&&f<o;++c)t[l]<a[f]?(u[c]=t[l],s[c]=n[l++]):(u[c]=a[f],s[c]=i[f++]+e);for(;l<r;++l,++c)u[c]=t[l],s[c]=n[l];for(;f<o;++f,++c)u[c]=a[f],s[c]=i[f]+e}(i,o,u,h,m,v,p,t,e);else{if(i>0)for(s=0;s<p;++s)v[s]+=i;t=m,e=v}return n=h+p,{index:v,value:m}},remove:function(r,a){var i,o,u,s=n;for(o=0;!a[e[o]]&&o<s;++o);for(u=o;o<s;++o)a[i=e[o]]||(e[u]=i,t[u]=t[o],++u);n=s-r},bisect:function(e,r){var a;return r?a=r.length:(r=t,a=n),[Cu(r,e[0],0,a),Eu(r,e[1],0,a)]},reindex:function(t){for(var r=0,a=n;r<a;++r)e[r]=t[e[r]]},index:function(){return e},size:function(){return n}}}function Nj(e){lr.call(this,function(){var e=8,t=[],n=Cj(0),r=Aj(0,e),a=Aj(0,e);return{data:function(){return t},seen:function(){return e=n,r=t.length,n=e.length>=r?e:((a=a||new e.constructor(r)).set(e),a);var e,r,a},add:function(e){for(var n,r=0,a=t.length,i=e.length;r<i;++r)(n=e[r])._index=a++,t.push(n)},remove:function(e,n){var i,o,u,s=t.length,c=Array(s-e),l=t;for(o=0;!n[o]&&o<s;++o)c[o]=t[o],l[o]=o;for(u=o;o<s;++o)i=t[o],n[o]?l[o]=-1:(l[o]=u,r[u]=r[o],a[u]=a[o],c[u]=i,i._index=u++),r[o]=0;return t=c,l},size:function(){return t.length},curr:function(){return r},prev:function(){return a},reset:function(e){return a[e]=r[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){r[e]|=t},clear:function(e,t){r[e]&=~t},resize:function(t,n){(t>r.length||n>e)&&(e=Math.max(n,e),r=Aj(t,e,r),a=Aj(t,e))}}}(),e),this._indices=null,this._dims=null}function Fj(e){lr.call(this,null,e)}Nj.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},Object(Lt.v)(Nj,lr,{transform:function(e,t){return this._dims?e.modified("fields")||e.fields.some((function(e){return t.modified(e.fields)}))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},init:function(e,t){for(var n,r,a=e.fields,i=e.query,o=this._indices={},u=this._dims=[],s=i.length,c=0;c<s;++c)r=o[n=a[c].fname]||(o[n]=Dj()),u.push(Sj(r,c,i[c]));return this.eval(e,t)},reinit:function(e,t){var n,r,a,i,o,u,s,c,l,f=t.materialize().fork(),d=e.fields,h=e.query,p=this._indices,v=this._dims,m=this.value,g=m.curr(),b=m.prev(),y=m.all(),x=f.rem=f.add,_=f.mod,w=h.length,O={};if(b.set(g),t.rem.length&&(o=this.remove(e,t,f)),t.add.length&&m.add(t.add),t.mod.length)for(u={},s=0,c=(i=t.mod).length;s<c;++s)u[i[s]._index]=1;for(s=0;s<w;++s)l=d[s],(!v[s]||e.modified("fields",s)||t.modified(l.fields))&&((n=O[a=l.fname])||(p[a]=r=Dj(),O[a]=n=r.insert(l,t.source,0)),v[s]=Sj(r,s,h[s]).onAdd(n,g));for(s=0,c=m.data().length;s<c;++s)o[s]||(b[s]!==g[s]?x.push(s):u[s]&&g[s]!==y&&_.push(s));return m.mask=(1<<w)-1,f},eval:function(e,t){var n=t.materialize().fork(),r=this._dims.length,a=0;return t.rem.length&&(this.remove(e,t,n),a|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(a|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),a|=(1<<r)-1),t.mod.length&&(this.modify(t,n),a|=(1<<r)-1),this.value.mask=a,n},insert:function(e,t,n){var r,a,i,o=t.add,u=this.value,s=this._dims,c=this._indices,l=e.fields,f={},d=n.add,h=u.size()+o.length,p=s.length,v=u.size();u.resize(h,p),u.add(o);var m=u.curr(),g=u.prev(),b=u.all();for(r=0;r<p;++r)i=f[a=l[r].fname]||(f[a]=c[a].insert(l[r],o,v)),s[r].onAdd(i,m);for(;v<h;++v)g[v]=b,m[v]!==b&&d.push(v)},modify:function(e,t){var n,r,a,i=t.mod,o=this.value,u=o.curr(),s=o.all(),c=e.mod;for(n=0,r=c.length;n<r;++n)u[a=c[n]._index]!==s&&i.push(a)},remove:function(e,t,n){var r,a,i,o,u=this._indices,s=this.value,c=s.curr(),l=s.prev(),f=s.all(),d={},h=n.rem,p=t.rem;for(r=0,a=p.length;r<a;++r)d[i=p[r]._index]=1,l[i]=o=c[i],c[i]=f,o!==f&&h.push(i);for(i in u)u[i].remove(a,d);return this.reindex(t,a,d),d},reindex:function(e,t,n){var r=this._indices,a=this.value;e.runAfter((function(){var e=a.remove(t,n);for(var i in r)r[i].reindex(e)}))},update:function(e,t,n){var r,a,i=this._dims,o=e.query,u=t.stamp,s=i.length,c=0;for(n.filters=0,a=0;a<s;++a)e.modified("query",a)&&(r=a,++c);if(1===c)c=i[r].one,this.incrementOne(i[r],o[r],n.add,n.rem);else for(a=0,c=0;a<s;++a)e.modified("query",a)&&(c|=i[a].one,this.incrementAll(i[a],o[a],u,n.add),n.rem=n.add);return c},incrementAll:function(e,t,n,r){var a,i,o,u=this.value,s=u.seen(),c=u.curr(),l=u.prev(),f=e.index(),d=e.bisect(e.range),h=e.bisect(t),p=h[0],v=h[1],m=d[0],g=d[1],b=e.one;if(p<m)for(a=p,i=Math.min(m,v);a<i;++a)s[o=f[a]]!==n&&(l[o]=c[o],s[o]=n,r.push(o)),c[o]^=b;else if(p>m)for(a=m,i=Math.min(p,g);a<i;++a)s[o=f[a]]!==n&&(l[o]=c[o],s[o]=n,r.push(o)),c[o]^=b;if(v>g)for(a=Math.max(p,g),i=v;a<i;++a)s[o=f[a]]!==n&&(l[o]=c[o],s[o]=n,r.push(o)),c[o]^=b;else if(v<g)for(a=Math.max(m,v),i=g;a<i;++a)s[o=f[a]]!==n&&(l[o]=c[o],s[o]=n,r.push(o)),c[o]^=b;e.range=t.slice()},incrementOne:function(e,t,n,r){var a,i,o,u=this.value.curr(),s=e.index(),c=e.bisect(e.range),l=e.bisect(t),f=l[0],d=l[1],h=c[0],p=c[1],v=e.one;if(f<h)for(a=f,i=Math.min(h,d);a<i;++a)u[o=s[a]]^=v,n.push(o);else if(f>h)for(a=h,i=Math.min(f,p);a<i;++a)u[o=s[a]]^=v,r.push(o);if(d>p)for(a=Math.max(f,p),i=d;a<i;++a)u[o=s[a]]^=v,n.push(o);else if(d<p)for(a=Math.max(h,d),i=p;a<i;++a)u[o=s[a]]^=v,r.push(o);e.range=t.slice()}}),Fj.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Object(Lt.v)(Fj,lr,{transform:function(e,t){var n=~(e.ignore||0),r=e.filter,a=r.mask;if(0===(a&n))return t.StopPropagation;var i=t.fork(t.ALL),o=r.data(),u=r.curr(),s=r.prev(),c=function(e){return u[e]&n?null:o[e]};return i.filter(i.MOD,c),a&a-1?(i.filter(i.ADD,(function(e){var t=u[e]&n;return!t&&t^s[e]&n?o[e]:null})),i.filter(i.REM,(function(e){var t=u[e]&n;return t&&!(t^t^s[e]&n)?o[e]:null}))):(i.filter(i.ADD,c),i.filter(i.REM,(function(e){return(u[e]&n)===a?o[e]:null}))),i.filter(i.SOURCE,(function(e){return c(e._index)}))}});var Tj=n(540),Mj=n(541),Ij=0;var Rj="p_";function Pj(e){return e&&e.gradient}function Bj(e,t,n){var r=e.id,a=e.gradient,i="radial"===a?Rj:"";return r||(r=e.id="gradient_"+Ij++,"radial"===a?(e.x1=zj(e.x1,.5),e.y1=zj(e.y1,.5),e.r1=zj(e.r1,0),e.x2=zj(e.x2,.5),e.y2=zj(e.y2,.5),e.r2=zj(e.r2,.5),i=Rj):(e.x1=zj(e.x1,0),e.y1=zj(e.y1,0),e.x2=zj(e.x2,1),e.y2=zj(e.y2,0))),t[r]=e,"url("+(n||"")+"#"+i+r+")"}function zj(e,t){return null!=e?e:t}var Lj=function(e,t){var n,r=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}},Uj=n(28);function Wj(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Vj(e){this._context=e}Vj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wj(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wj(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var qj=function(){};function Hj(e){this._context=e}Hj.prototype={areaStart:qj,areaEnd:qj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Wj(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Gj(e){this._context=e}Gj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Wj(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Kj(e,t){this._basis=new Vj(e),this._beta=t}Kj.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,a=e[0],i=t[0],o=e[n]-a,u=t[n]-i,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(a+r*o),this._beta*t[s]+(1-this._beta)*(i+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var $j=function e(t){function n(e){return 1===t?new Vj(e):new Kj(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Xj(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Yj(e,t){this._context=e,this._k=(1-t)/6}Yj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Xj(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Xj(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Jj=function e(t){function n(e){return new Yj(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Qj(e,t){this._context=e,this._k=(1-t)/6}Qj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Xj(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Zj=function e(t){function n(e){return new Qj(e,t)}return n.tension=function(t){return e(+t)},n}(0);function eE(e,t){this._context=e,this._k=(1-t)/6}eE.prototype={areaStart:qj,areaEnd:qj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Xj(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var tE=function e(t){function n(e){return new eE(e,t)}return n.tension=function(t){return e(+t)},n}(0),nE=Math.abs,rE=Math.atan2,aE=Math.cos,iE=Math.max,oE=Math.min,uE=Math.sin,sE=Math.sqrt,cE=1e-12,lE=Math.PI,fE=lE/2,dE=2*lE;function hE(e){return e>1?0:e<-1?lE:Math.acos(e)}function pE(e){return e>=1?fE:e<=-1?-fE:Math.asin(e)}function vE(e,t,n){var r=e._x1,a=e._y1,i=e._x2,o=e._y2;if(e._l01_a>cE){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,s=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/s,a=(a*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/s}if(e._l23_a>cE){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*c+e._x1*e._l23_2a-t*e._l12_2a)/l,o=(o*c+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,a,i,o,e._x2,e._y2)}function mE(e,t){this._context=e,this._alpha=t}mE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:vE(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var gE=function e(t){function n(e){return t?new mE(e,t):new Yj(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function bE(e,t){this._context=e,this._alpha=t}bE.prototype={areaStart:qj,areaEnd:qj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:vE(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var yE=function e(t){function n(e){return t?new bE(e,t):new eE(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function xE(e,t){this._context=e,this._alpha=t}xE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:vE(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var _E=function e(t){function n(e){return t?new xE(e,t):new Qj(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function wE(e){this._context=e}wE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var OE=function(e){return new wE(e)};function kE(e){this._context=e}kE.prototype={areaStart:qj,areaEnd:qj,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function jE(e){return e<0?-1:1}function EE(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),u=(i*a+o*r)/(r+a);return(jE(i)+jE(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(u))||0}function CE(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function AE(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,u=(i-r)/3;e._context.bezierCurveTo(r+u,a+u*t,i-u,o-u*n,i,o)}function SE(e){this._context=e}function DE(e){this._context=new NE(e)}function NE(e){this._context=e}function FE(e){this._context=e}function TE(e){var t,n,r=e.length-1,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}SE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:AE(this,this._t0,CE(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,AE(this,CE(this,n=EE(this,e,t)),n);break;default:AE(this,this._t0,n=EE(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(DE.prototype=Object.create(SE.prototype)).point=function(e,t){SE.prototype.point.call(this,t,e)},NE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}},FE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=TE(e),a=TE(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ME(e,t){this._context=e,this._t=t}ME.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var IE={basis:{curve:function(e){return new Vj(e)}},"basis-closed":{curve:function(e){return new Hj(e)}},"basis-open":{curve:function(e){return new Gj(e)}},bundle:{curve:$j,tension:"beta",value:.85},cardinal:{curve:Jj,tension:"tension",value:0},"cardinal-open":{curve:Zj,tension:"tension",value:0},"cardinal-closed":{curve:tE,tension:"tension",value:0},"catmull-rom":{curve:gE,tension:"alpha",value:.5},"catmull-rom-closed":{curve:yE,tension:"alpha",value:.5},"catmull-rom-open":{curve:_E,tension:"alpha",value:.5},linear:{curve:OE},"linear-closed":{curve:function(e){return new kE(e)}},monotone:{horizontal:function(e){return new DE(e)},vertical:function(e){return new SE(e)}},natural:{curve:function(e){return new FE(e)}},step:{curve:function(e){return new ME(e,.5)}},"step-after":{curve:function(e){return new ME(e,1)}},"step-before":{curve:function(e){return new ME(e,0)}}};function RE(e,t,n){var r=Object(Uj.f)(IE,e)&&IE[e],a=null;return r&&(a=r.curve||r[t||"vertical"],r.tension&&null!=n&&(a=a[r.tension](n))),a}var PE={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},BE=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/],zE=function(e){var t,n,r,a,i,o,u,s,c,l,f,d=[];for(s=0,l=(t=e.slice().replace(BE[0],"###$1").split(BE[1]).slice(1)).length;s<l;++s){for(r=(n=t[s]).slice(1).trim().replace(BE[2],"$1###$2").split(BE[3]),a=[o=n.charAt(0)],c=0,f=r.length;c<f;++c)(i=+r[c])===i&&a.push(i);if(u=PE[o.toLowerCase()],a.length-1>u)for(c=1,f=a.length;c<f;c+=u)d.push([o].concat(a.slice(c,c+u)));else d.push(a)}return d},LE=Math.PI/180,UE=Math.PI/2,WE=2*Math.PI,VE=Math.sqrt(3)/2,qE={},HE={},GE=[].join;function KE(e){var t=GE.call(e);if(HE[t])return HE[t];var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],u=e[5],s=e[6],c=e[7],l=c*o,f=-s*u,d=s*o,h=c*u,p=Math.cos(a),v=Math.sin(a),m=Math.cos(i),g=Math.sin(i),b=.5*(i-a),y=Math.sin(.5*b),x=8/3*y*y/Math.sin(b),_=n+p-x*v,w=r+v+x*p,O=n+m,k=r+g,j=O+x*g,E=k-x*m;return HE[t]=[l*_+f*w,d*_+h*w,l*j+f*E,d*j+h*E,l*O+f*k,d*O+h*k]}var $E=["l",0,0,0,0,0,0,0];function XE(e,t,n){var r=$E[0]=e[0];if("a"===r||"A"===r)$E[1]=t*e[1],$E[2]=n*e[2],$E[3]=e[3],$E[4]=e[4],$E[5]=e[5],$E[6]=t*e[6],$E[7]=n*e[7];else if("h"===r||"H"===r)$E[1]=t*e[1];else if("v"===r||"V"===r)$E[1]=n*e[1];else for(var a=1,i=e.length;a<i;++a)$E[a]=(a%2==1?t:n)*e[a];return $E}var YE=function(e,t,n,r,a,i){var o,u,s,c,l,f=null,d=0,h=0,p=0,v=0;null==n&&(n=0),null==r&&(r=0),null==a&&(a=1),null==i&&(i=a),e.beginPath&&e.beginPath();for(var m=0,g=t.length;m<g;++m){switch(o=t[m],1===a&&1===i||(o=XE(o,a,i)),o[0]){case"l":d+=o[1],h+=o[2],e.lineTo(d+n,h+r);break;case"L":d=o[1],h=o[2],e.lineTo(d+n,h+r);break;case"h":d+=o[1],e.lineTo(d+n,h+r);break;case"H":d=o[1],e.lineTo(d+n,h+r);break;case"v":h+=o[1],e.lineTo(d+n,h+r);break;case"V":h=o[1],e.lineTo(d+n,h+r);break;case"m":d+=o[1],h+=o[2],e.moveTo(d+n,h+r);break;case"M":d=o[1],h=o[2],e.moveTo(d+n,h+r);break;case"c":u=d+o[5],s=h+o[6],p=d+o[3],v=h+o[4],e.bezierCurveTo(d+o[1]+n,h+o[2]+r,p+n,v+r,u+n,s+r),d=u,h=s;break;case"C":d=o[5],h=o[6],p=o[3],v=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,p+n,v+r,d+n,h+r);break;case"s":u=d+o[3],s=h+o[4],p=2*d-p,v=2*h-v,e.bezierCurveTo(p+n,v+r,d+o[1]+n,h+o[2]+r,u+n,s+r),p=d+o[1],v=h+o[2],d=u,h=s;break;case"S":u=o[3],s=o[4],p=2*d-p,v=2*h-v,e.bezierCurveTo(p+n,v+r,o[1]+n,o[2]+r,u+n,s+r),d=u,h=s,p=o[1],v=o[2];break;case"q":u=d+o[3],s=h+o[4],p=d+o[1],v=h+o[2],e.quadraticCurveTo(p+n,v+r,u+n,s+r),d=u,h=s;break;case"Q":u=o[3],s=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,u+n,s+r),d=u,h=s,p=o[1],v=o[2];break;case"t":u=d+o[1],s=h+o[2],null===f[0].match(/[QqTt]/)?(p=d,v=h):"t"===f[0]?(p=2*d-c,v=2*h-l):"q"===f[0]&&(p=2*d-p,v=2*h-v),c=p,l=v,e.quadraticCurveTo(p+n,v+r,u+n,s+r),h=s,p=(d=u)+o[1],v=h+o[2];break;case"T":u=o[1],s=o[2],p=2*d-p,v=2*h-v,e.quadraticCurveTo(p+n,v+r,u+n,s+r),d=u,h=s;break;case"a":JE(e,d+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+d+n,o[7]+h+r]),d+=o[6],h+=o[7];break;case"A":JE(e,d+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),d=o[6],h=o[7];break;case"z":case"Z":e.closePath()}f=o}};function JE(e,t,n,r){for(var a=function(e,t,n,r,a,i,o,u,s){var c=GE.call(arguments);if(qE[c])return qE[c];var l=o*LE,f=Math.sin(l),d=Math.cos(l),h=d*(u-e)*.5+f*(s-t)*.5,p=d*(s-t)*.5-f*(u-e)*.5,v=h*h/((n=Math.abs(n))*n)+p*p/((r=Math.abs(r))*r);v>1&&(n*=v=Math.sqrt(v),r*=v);var m=d/n,g=f/n,b=-f/r,y=d/r,x=m*u+g*s,_=b*u+y*s,w=m*e+g*t,O=b*e+y*t,k=1/((w-x)*(w-x)+(O-_)*(O-_))-.25;k<0&&(k=0);var j=Math.sqrt(k);i==a&&(j=-j);var E=.5*(x+w)-j*(O-_),C=.5*(_+O)+j*(w-x),A=Math.atan2(_-C,x-E),S=Math.atan2(O-C,w-E)-A;S<0&&1===i?S+=WE:S>0&&0===i&&(S-=WE);for(var D=Math.ceil(Math.abs(S/(UE+.001))),N=[],F=0;F<D;++F){var T=A+F*S/D,M=A+(F+1)*S/D;N[F]=[E,C,T,M,n,r,f,d]}return qE[c]=N}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n),i=0;i<a.length;++i){var o=KE(a[i]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}var QE=.5773502691896257,ZE={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,WE)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,a=n/2.5,i=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-i),e.lineTo(a,-i),e.lineTo(0,-n),e.lineTo(-a,-i),e.lineTo(-r,-i),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=VE*n,a=r-n*QE,i=n/4;e.moveTo(0,-r-a),e.lineTo(-i,r-a),e.lineTo(i,r-a),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=VE*n,a=r-n*QE;e.moveTo(0,-r-a),e.lineTo(-n,r-a),e.lineTo(n,r-a),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=VE*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=VE*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=VE*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=VE*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function eC(e){return Object(Uj.f)(ZE,e)?ZE[e]:function(e){if(!Object(Uj.f)(tC,e)){var t=zE(e);tC[e]={draw:function(e,n){YE(e,t,0,0,Math.sqrt(n)/2)}}}return tC[e]}(e)}var tC={};var nC=Math.PI,rC=2*nC,aC=1e-6,iC=rC-aC;function oC(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function uC(){return new oC}oC.prototype=uC.prototype={constructor:oC,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,a,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+i)},arcTo:function(e,t,n,r,a){e=+e,t=+t,n=+n,r=+r,a=+a;var i=this._x1,o=this._y1,u=n-e,s=r-t,c=i-e,l=o-t,f=c*c+l*l;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>aC)if(Math.abs(l*u-s*c)>aC&&a){var d=n-i,h=r-o,p=u*u+s*s,v=d*d+h*h,m=Math.sqrt(p),g=Math.sqrt(f),b=a*Math.tan((nC-Math.acos((p+f-v)/(2*m*g)))/2),y=b/g,x=b/m;Math.abs(y-1)>aC&&(this._+="L"+(e+y*c)+","+(t+y*l)),this._+="A"+a+","+a+",0,0,"+ +(l*d>c*h)+","+(this._x1=e+x*u)+","+(this._y1=t+x*s)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,a,i){e=+e,t=+t,i=!!i;var o=(n=+n)*Math.cos(r),u=n*Math.sin(r),s=e+o,c=t+u,l=1^i,f=i?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>aC||Math.abs(this._y1-c)>aC)&&(this._+="L"+s+","+c),n&&(f<0&&(f=f%rC+rC),f>iC?this._+="A"+n+","+n+",0,1,"+l+","+(e-o)+","+(t-u)+"A"+n+","+n+",0,1,"+l+","+(this._x1=s)+","+(this._y1=c):f>aC&&(this._+="A"+n+","+n+",0,"+ +(f>=nC)+","+l+","+(this._x1=e+n*Math.cos(a))+","+(this._y1=t+n*Math.sin(a))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var sC=uC,cC=.448084975506;function lC(e){return e.x}function fC(e){return e.y}function dC(e){return e.width}function hC(e){return e.height}function pC(e){return"function"===typeof e?e:function(){return+e}}function vC(e,t,n){return Math.max(t,Math.min(e,n))}var mC=function(){var e=lC,t=fC,n=dC,r=hC,a=pC(0),i=a,o=a,u=a,s=null;function c(c,l,f){var d,h=null!=l?l:+e.call(this,c),p=null!=f?f:+t.call(this,c),v=+n.call(this,c),m=+r.call(this,c),g=Math.min(v,m)/2,b=vC(+a.call(this,c),0,g),y=vC(+i.call(this,c),0,g),x=vC(+o.call(this,c),0,g),_=vC(+u.call(this,c),0,g);if(s||(s=d=sC()),b<=0&&y<=0&&x<=0&&_<=0)s.rect(h,p,v,m);else{var w=h+v,O=p+m;s.moveTo(h+b,p),s.lineTo(w-y,p),s.bezierCurveTo(w-cC*y,p,w,p+cC*y,w,p+y),s.lineTo(w,O-_),s.bezierCurveTo(w,O-cC*_,w-cC*_,O,w-_,O),s.lineTo(h+x,O),s.bezierCurveTo(h+cC*x,O,h,O-cC*x,h,O-x),s.lineTo(h,p+b),s.bezierCurveTo(h,p+cC*b,h+cC*b,p,h+b,p),s.closePath()}if(d)return s=null,d+""||null}return c.x=function(t){return arguments.length?(e=pC(t),c):e},c.y=function(e){return arguments.length?(t=pC(e),c):t},c.width=function(e){return arguments.length?(n=pC(e),c):n},c.height=function(e){return arguments.length?(r=pC(e),c):r},c.cornerRadius=function(e,t,n,r){return arguments.length?(a=pC(e),i=null!=t?pC(t):a,u=null!=n?pC(n):a,o=null!=r?pC(r):i,c):a},c.context=function(e){return arguments.length?(s=null==e?null:e,c):s},c},gC=function(){var e,t,n,r,a,i,o,u,s=null;function c(e,t,n){var r=n/2;if(a){var c=o-t,l=e-i;if(c||l){var f=Math.sqrt(c*c+l*l),d=(c/=f)*u,h=(l/=f)*u,p=Math.atan2(l,c);s.moveTo(i-d,o-h),s.lineTo(e-c*r,t-l*r),s.arc(e,t,r,p-Math.PI,p),s.lineTo(i+d,o+h),s.arc(i,o,u,p,p+Math.PI)}else s.arc(e,t,r,0,WE);s.closePath()}else a=1;i=e,o=t,u=r}function l(i){var o,u,l,f=i.length,d=!1;for(null==s&&(s=l=sC()),o=0;o<=f;++o)!(o<f&&r(u=i[o],o,i))===d&&(d=!d)&&(a=0),d&&c(+e(u,o,i),+t(u,o,i),+n(u,o,i));if(l)return s=null,l+""||null}return l.x=function(t){return arguments.length?(e=t,l):e},l.y=function(e){return arguments.length?(t=e,l):t},l.size=function(e){return arguments.length?(n=e,l):n},l.defined=function(e){return arguments.length?(r=e,l):r},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l},bC=function(e){return function(){return e}};function yC(e){return e.innerRadius}function xC(e){return e.outerRadius}function _C(e){return e.startAngle}function wC(e){return e.endAngle}function OC(e){return e&&e.padAngle}function kC(e,t,n,r,a,i,o,u){var s=n-e,c=r-t,l=o-a,f=u-i,d=f*s-l*c;if(!(d*d<cE))return[e+(d=(l*(t-i)-f*(e-a))/d)*s,t+d*c]}function jC(e,t,n,r,a,i,o){var u=e-n,s=t-r,c=(o?i:-i)/sE(u*u+s*s),l=c*s,f=-c*u,d=e+l,h=t+f,p=n+l,v=r+f,m=(d+p)/2,g=(h+v)/2,b=p-d,y=v-h,x=b*b+y*y,_=a-i,w=d*v-p*h,O=(y<0?-1:1)*sE(iE(0,_*_*x-w*w)),k=(w*y-b*O)/x,j=(-w*b-y*O)/x,E=(w*y+b*O)/x,C=(-w*b+y*O)/x,A=k-m,S=j-g,D=E-m,N=C-g;return A*A+S*S>D*D+N*N&&(k=E,j=C),{cx:k,cy:j,x01:-l,y01:-f,x11:k*(a/_-1),y11:j*(a/_-1)}}function EC(e){return e[0]}function CC(e){return e[1]}var AC=function(){var e=EC,t=CC,n=bC(!0),r=null,a=OE,i=null;function o(o){var u,s,c,l=o.length,f=!1;for(null==r&&(i=a(c=sC())),u=0;u<=l;++u)!(u<l&&n(s=o[u],u,o))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(s,u,o),+t(s,u,o));if(c)return i=null,c+""||null}return o.x=function(t){return arguments.length?(e="function"===typeof t?t:bC(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:bC(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:bC(!!e),o):n},o.curve=function(e){return arguments.length?(a=e,null!=r&&(i=a(r)),o):a},o.context=function(e){return arguments.length?(null==e?r=i=null:i=a(r=e),o):r},o},SC=function(){var e=EC,t=null,n=bC(0),r=CC,a=bC(!0),i=null,o=OE,u=null;function s(s){var c,l,f,d,h,p=s.length,v=!1,m=new Array(p),g=new Array(p);for(null==i&&(u=o(h=sC())),c=0;c<=p;++c){if(!(c<p&&a(d=s[c],c,s))===v)if(v=!v)l=c,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),f=c-1;f>=l;--f)u.point(m[f],g[f]);u.lineEnd(),u.areaEnd()}v&&(m[c]=+e(d,c,s),g[c]=+n(d,c,s),u.point(t?+t(d,c,s):m[c],r?+r(d,c,s):g[c]))}if(h)return u=null,h+""||null}function c(){return AC().defined(a).curve(o).context(i)}return s.x=function(n){return arguments.length?(e="function"===typeof n?n:bC(+n),t=null,s):e},s.x0=function(t){return arguments.length?(e="function"===typeof t?t:bC(+t),s):e},s.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:bC(+e),s):t},s.y=function(e){return arguments.length?(n="function"===typeof e?e:bC(+e),r=null,s):n},s.y0=function(e){return arguments.length?(n="function"===typeof e?e:bC(+e),s):n},s.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:bC(+e),s):r},s.lineX0=s.lineY0=function(){return c().x(e).y(n)},s.lineY1=function(){return c().x(e).y(r)},s.lineX1=function(){return c().x(t).y(n)},s.defined=function(e){return arguments.length?(a="function"===typeof e?e:bC(!!e),s):a},s.curve=function(e){return arguments.length?(o=e,null!=i&&(u=o(i)),s):o},s.context=function(e){return arguments.length?(null==e?i=u=null:u=o(i=e),s):i},s},DC={draw:function(e,t){var n=Math.sqrt(t/lE);e.moveTo(n,0),e.arc(0,0,n,0,dE)}},NC=(Math.sqrt(1/3),Math.sin(lE/10)/Math.sin(7*lE/10));Math.sin(dE/10),Math.cos(dE/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);function FC(e,t){return null!=e?e:t}var TC=function(e){return e.x||0},MC=function(e){return e.y||0},IC=function(e){return!(!1===e.defined)},RC=function(){var e=yC,t=xC,n=bC(0),r=null,a=_C,i=wC,o=OC,u=null;function s(){var s,c,l=+e.apply(this,arguments),f=+t.apply(this,arguments),d=a.apply(this,arguments)-fE,h=i.apply(this,arguments)-fE,p=nE(h-d),v=h>d;if(u||(u=s=sC()),f<l&&(c=f,f=l,l=c),f>cE)if(p>dE-cE)u.moveTo(f*aE(d),f*uE(d)),u.arc(0,0,f,d,h,!v),l>cE&&(u.moveTo(l*aE(h),l*uE(h)),u.arc(0,0,l,h,d,v));else{var m,g,b=d,y=h,x=d,_=h,w=p,O=p,k=o.apply(this,arguments)/2,j=k>cE&&(r?+r.apply(this,arguments):sE(l*l+f*f)),E=oE(nE(f-l)/2,+n.apply(this,arguments)),C=E,A=E;if(j>cE){var S=pE(j/l*uE(k)),D=pE(j/f*uE(k));(w-=2*S)>cE?(x+=S*=v?1:-1,_-=S):(w=0,x=_=(d+h)/2),(O-=2*D)>cE?(b+=D*=v?1:-1,y-=D):(O=0,b=y=(d+h)/2)}var N=f*aE(b),F=f*uE(b),T=l*aE(_),M=l*uE(_);if(E>cE){var I,R=f*aE(y),P=f*uE(y),B=l*aE(x),z=l*uE(x);if(p<lE&&(I=kC(N,F,B,z,R,P,T,M))){var L=N-I[0],U=F-I[1],W=R-I[0],V=P-I[1],q=1/uE(hE((L*W+U*V)/(sE(L*L+U*U)*sE(W*W+V*V)))/2),H=sE(I[0]*I[0]+I[1]*I[1]);C=oE(E,(l-H)/(q-1)),A=oE(E,(f-H)/(q+1))}}O>cE?A>cE?(m=jC(B,z,N,F,f,A,v),g=jC(R,P,T,M,f,A,v),u.moveTo(m.cx+m.x01,m.cy+m.y01),A<E?u.arc(m.cx,m.cy,A,rE(m.y01,m.x01),rE(g.y01,g.x01),!v):(u.arc(m.cx,m.cy,A,rE(m.y01,m.x01),rE(m.y11,m.x11),!v),u.arc(0,0,f,rE(m.cy+m.y11,m.cx+m.x11),rE(g.cy+g.y11,g.cx+g.x11),!v),u.arc(g.cx,g.cy,A,rE(g.y11,g.x11),rE(g.y01,g.x01),!v))):(u.moveTo(N,F),u.arc(0,0,f,b,y,!v)):u.moveTo(N,F),l>cE&&w>cE?C>cE?(m=jC(T,M,R,P,l,-C,v),g=jC(N,F,B,z,l,-C,v),u.lineTo(m.cx+m.x01,m.cy+m.y01),C<E?u.arc(m.cx,m.cy,C,rE(m.y01,m.x01),rE(g.y01,g.x01),!v):(u.arc(m.cx,m.cy,C,rE(m.y01,m.x01),rE(m.y11,m.x11),!v),u.arc(0,0,l,rE(m.cy+m.y11,m.cx+m.x11),rE(g.cy+g.y11,g.cx+g.x11),v),u.arc(g.cx,g.cy,C,rE(g.y11,g.x11),rE(g.y01,g.x01),!v))):u.arc(0,0,l,_,x,v):u.lineTo(T,M)}else u.moveTo(0,0);if(u.closePath(),s)return u=null,s+""||null}return s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-lE/2;return[aE(r)*n,uE(r)*n]},s.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:bC(+t),s):e},s.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:bC(+e),s):t},s.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:bC(+e),s):n},s.padRadius=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:bC(+e),s):r},s.startAngle=function(e){return arguments.length?(a="function"===typeof e?e:bC(+e),s):a},s.endAngle=function(e){return arguments.length?(i="function"===typeof e?e:bC(+e),s):i},s.padAngle=function(e){return arguments.length?(o="function"===typeof e?e:bC(+e),s):o},s.context=function(e){return arguments.length?(u=null==e?null:e,s):u},s}().startAngle((function(e){return e.startAngle||0})).endAngle((function(e){return e.endAngle||0})).padAngle((function(e){return e.padAngle||0})).innerRadius((function(e){return e.innerRadius||0})).outerRadius((function(e){return e.outerRadius||0})).cornerRadius((function(e){return e.cornerRadius||0})),PC=SC().x(TC).y1(MC).y0((function(e){return(e.y||0)+(e.height||0)})).defined(IC),BC=SC().y(MC).x1(TC).x0((function(e){return(e.x||0)+(e.width||0)})).defined(IC),zC=AC().x(TC).y(MC).defined(IC),LC=mC().x(TC).y(MC).width((function(e){return e.width||0})).height((function(e){return e.height||0})).cornerRadius((function(e){return FC(e.cornerRadiusTopLeft,e.cornerRadius)||0}),(function(e){return FC(e.cornerRadiusTopRight,e.cornerRadius)||0}),(function(e){return FC(e.cornerRadiusBottomRight,e.cornerRadius)||0}),(function(e){return FC(e.cornerRadiusBottomLeft,e.cornerRadius)||0})),UC=function(){var e=bC(DC),t=bC(64),n=null;function r(){var r;if(n||(n=r=sC()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(t){return arguments.length?(e="function"===typeof t?t:bC(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:bC(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type((function(e){return eC(e.shape||"circle")})).size((function(e){return FC(e.size,64)})),WC=gC().x(TC).y(MC).defined(IC).size((function(e){return e.size||1}));function VC(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function qC(e,t,n,r){return LC.context(e)(t,n,r)}var HC=1;function GC(){HC=1}var KC=function(e,t,n){var r=t.clip,a=e._defs,i=t.clip_id||(t.clip_id="clip"+HC++),o=a.clipping[i]||(a.clipping[i]={id:i});return Object(Uj.j)(r)?o.path=r(null):VC(n)?o.path=qC(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+i+")"};function $C(e){this.clear(),e&&this.union(e)}var XC=$C.prototype;function YC(e){this.mark=e,this.bounds=this.bounds||new $C}function JC(e){YC.call(this,e),this.items=this.items||[]}XC.clone=function(){return new $C(this)},XC.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},XC.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},XC.equals=function(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},XC.set=function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},XC.add=function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},XC.expand=function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},XC.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},XC.scale=function(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},XC.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},XC.rotate=function(e,t,n){var r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},XC.rotatedPoints=function(e,t,n){var r=this.x1,a=this.y1,i=this.x2,o=this.y2,u=Math.cos(e),s=Math.sin(e),c=t-t*u+n*s,l=n-t*s-n*u;return[u*r-s*a+c,s*r+u*a+l,u*r-s*o+c,s*r+u*o+l,u*i-s*a+c,s*i+u*a+l,u*i-s*o+c,s*i+u*o+l]},XC.union=function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},XC.intersect=function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},XC.encloses=function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},XC.alignsWith=function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},XC.intersects=function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},XC.contains=function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},XC.width=function(){return this.x2-this.x1},XC.height=function(){return this.y2-this.y1},Object(Uj.h)(JC,YC);var QC=/^([A-Za-z]+:)?\/\//,ZC=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,eA=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,tA="file://";function nA(e,t){return rA.apply(this,arguments)}function rA(){return(rA=Object(zt.a)(k.a.mark((function e(t,n){var r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sanitize(t,n);case 2:return r=e.sent,a=r.href,e.abrupt("return",r.localFile?this.file(a):this.http(a,n));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function aA(e,t){return iA.apply(this,arguments)}function iA(){return(iA=Object(zt.a)(k.a.mark((function e(t,n){var r,a,i,o,u,s,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Uj.d)({},this.options,n),r=this.fileAccess,a={href:null},s=ZC.test(t.replace(eA,"")),null!=t&&"string"===typeof t&&s||Object(Uj.c)("Sanitize failure, invalid URI: "+Object(Uj.r)(t)),c=QC.test(t),(u=n.baseURL)&&!c&&(t.startsWith("/")||"/"===u[u.length-1]||(t="/"+t),t=u+t),o=(i=t.startsWith(tA))||"file"===n.mode||"http"!==n.mode&&!c&&r,i?t=t.slice(tA.length):t.startsWith("//")&&("file"===n.defaultProtocol?(t=t.slice(2),o=!0):t=(n.defaultProtocol||"http")+":"+t),Object.defineProperty(a,"localFile",{value:!!o}),a.href=t,n.target&&(a.target=n.target+""),n.rel&&(a.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(a.crossOrigin=n.crossOrigin+""),e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function oA(e){return e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){e?r(e):n(t)}))}))}:uA}function uA(){return sA.apply(this,arguments)}function sA(){return(sA=Object(zt.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(Uj.c)("No file system access.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cA(e){return e?function(){var t=Object(zt.a)(k.a.mark((function t(n,r){var a,i,o;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(Uj.d)({},this.options.http,r),i=r&&r.response,t.next=4,e(n,a);case 4:return o=t.sent,t.abrupt("return",o.ok?Object(Uj.j)(o[i])?o[i]():o.text():Object(Uj.c)(o.status+""+o.statusText));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}():lA}function lA(){return fA.apply(this,arguments)}function fA(){return(fA=Object(zt.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(Uj.c)("No HTTP fetch method available.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Uj.s,Uj.u,Uj.u,Uj.t,Uj.w,Uj.g;function dA(e){var t=function(t,n){var r={delimiter:e};return hA(t,n?Object(Uj.d)(n,r):r)};return t.responseType="text",t}function hA(e,t){return t.header&&(e=t.header.map(Uj.r).join(t.delimiter)+"\n"+e),Object(un.a)(t.delimiter).parse(e+"")}hA.responseType="text";var pA=n(367),vA={interior:function(e,t){return e!==t},exterior:function(e,t){return e===t}};function mA(e,t){var n,r,a,i;return e=Object(pA.a)(e,t),t&&t.feature?(n=fn.a,a=t.feature):t&&t.mesh?(n=fn.b,a=t.mesh,i=vA[t.filter]):Object(Uj.c)("Missing TopoJSON feature or mesh parameter."),(r=(r=e.objects[a])?n(e,r,i):Object(Uj.c)("Invalid TopoJSON object: "+a))&&r.features||[r]}mA.responseType="json";dA(","),dA("\t"),pA.a;var gA=function(e,t){return function(n){return{options:n||{},sanitize:aA,load:nA,fileAccess:!!t,file:oA(t),http:cA(e)}}}("undefined"!==typeof fetch&&fetch,null);function bA(e){this._pending=0,this._loader=e||gA()}var yA=bA.prototype;function xA(e){e._pending+=1}function _A(e){e._pending-=1}yA.pending=function(){return this._pending},yA.sanitizeURL=function(e){var t=this;return xA(t),t._loader.sanitize(e,{context:"href"}).then((function(e){return _A(t),e})).catch((function(){return _A(t),null}))},yA.loadImage=function(e){var t=this,n=ku();return xA(t),t._loader.sanitize(e,{context:"image"}).then((function(e){var r=e.href;if(!r||!n)throw{url:r};var a=new n,i=Object(Uj.f)(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=i&&(a.crossOrigin=i),a.onload=function(){return _A(t)},a.onerror=function(){return _A(t)},a.src=r,a})).catch((function(e){return _A(t),{complete:!1,width:0,height:0,src:e&&e.url||""}}))},yA.ready=function(){var e=this;return new Promise((function(t){!function n(r){e.pending()?setTimeout((function(){n(!0)}),10):t(r)}(!1)}))};var wA=function(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){var r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e};var OA,kA,jA,EA=WE-1e-8;function CA(e){return OA=e,CA}function AA(){}function SA(e,t){OA.add(e,t)}function DA(e,t){SA(kA=e,jA=t)}function NA(e){SA(e,OA.y1)}function FA(e){SA(OA.x1,e)}function TA(e,t,n,r){var a=(e-t)/(e+n-2*t);0<a&&a<1&&r(e+(t-e)*a)}function MA(e,t,n,r,a){var i,o=r-e+3*t-3*n,u=e+n-2*t,s=e-t,c=0,l=0;Math.abs(o)>1e-14?(i=u*u+s*o)>=0&&(c=(-u+(i=Math.sqrt(i)))/o,l=(-u-i)/o):c=.5*s/u,0<c&&c<1&&a(IA(c,e,t,n,r)),0<l&&l<1&&a(IA(l,e,t,n,r))}function IA(e,t,n,r,a){var i=1-e,o=i*i,u=e*e;return o*i*t+3*o*e*n+3*i*u*r+u*e*a}CA.beginPath=AA,CA.closePath=AA,CA.moveTo=DA,CA.lineTo=DA,CA.rect=function(e,t,n,r){SA(e+n,t+r),DA(e,t)},CA.quadraticCurveTo=function(e,t,n,r){TA(kA,e,n,NA),TA(jA,t,r,FA),DA(n,r)},CA.bezierCurveTo=function(e,t,n,r,a,i){MA(kA,e,n,a,NA),MA(jA,t,r,i,FA),DA(a,i)},CA.arc=function(e,t,n,r,a,i){if(kA=n*Math.cos(a)+e,jA=n*Math.sin(a)+t,Math.abs(a-r)>EA)SA(e-n,t-n),SA(e+n,t+n);else{var o,u,s=function(r){return SA(n*Math.cos(r)+e,n*Math.sin(r)+t)};if(s(r),s(a),a!==r)if((r%=WE)<0&&(r+=WE),(a%=WE)<0&&(a+=WE),a<r&&(i=!i,o=r,r=a,a=o),i)for(a-=WE,o=r-r%UE,u=0;u<4&&o>a;++u,o-=UE)s(o);else for(o=r-r%UE+UE,u=0;u<4&&o<a;++u,o+=UE)s(o)}};var RA=(RA=Ou(1,1))?RA.getContext("2d"):null,PA=new $C;function BA(e){return function(t,n){if(!RA)return!0;e(RA,t),PA.clear().union(t.bounds).intersect(n).round();for(var r=PA.x1,a=PA.y1,i=PA.x2,o=PA.y2,u=a;u<=o;++u)for(var s=r;s<=i;++s)if(RA.isPointInPath(s,u))return!0;return!1}}function zA(e,t){return t.contains(e.x||0,e.y||0)}function LA(e,t){var n=e.x||0,r=e.y||0,a=e.width||0,i=e.height||0;return t.intersects(PA.set(n,r,n+a,r+i))}function UA(e,t){var n=e.x||0,r=e.y||0;return WA(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}function WA(e,t,n,r,a){var i,o,u,s,c=e.x1,l=e.y1,f=e.x2,d=e.y2,h=r-t,p=a-n,v=0,m=1;for(s=0;s<4;++s){if(0===s&&(i=-h,o=-(c-t)),1===s&&(i=h,o=f-t),2===s&&(i=-p,o=-(l-n)),3===s&&(i=p,o=d-n),Math.abs(i)<1e-10&&o<0)return!1;if(u=o/i,i<0){if(u>m)return!1;u>v&&(v=u)}else if(i>0){if(u<v)return!1;u<m&&(m=u)}}return!0}var VA=function(e,t){e.globalCompositeOperation=t.blend||"source-over"},qA=function(e,t){return null==e?t:e};function HA(e,t){for(var n=t.length,r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}var GA=function(e,t,n){return Pj(n)?function(e,t,n){var r,a=n.width(),i=n.height();if("radial"===t.gradient)r=e.createRadialGradient(n.x1+qA(t.x1,.5)*a,n.y1+qA(t.y1,.5)*i,Math.max(a,i)*qA(t.r1,0),n.x1+qA(t.x2,.5)*a,n.y1+qA(t.y2,.5)*i,Math.max(a,i)*qA(t.r2,.5));else{var o=qA(t.x1,0),u=qA(t.y1,0),s=qA(t.x2,1),c=qA(t.y2,0);if(o!==s&&u!==c&&a!==i){var l=Ou(Math.ceil(a),Math.ceil(i)),f=l.getContext("2d");return f.scale(a,i),f.fillStyle=HA(f.createLinearGradient(o,u,s,c),t.stops),f.fillRect(0,0,a,i),e.createPattern(l,"no-repeat")}r=e.createLinearGradient(n.x1+o*a,n.y1+u*i,n.x1+s*a,n.y1+c*i)}return HA(r,t.stops)}(e,n,t.bounds):n},KA=function(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=GA(e,t,t.fill),!0)},$A=[],XA=function(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&((n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=GA(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||$A),e.lineDashOffset=t.strokeDashOffset||0),!0))};function YA(e,t){return e.zindex-t.zindex||e.index-t.index}function JA(e){if(!e.zdirty)return e.zitems;var t,n,r,a=e.items,i=[];for(n=0,r=a.length;n<r;++n)(t=a[n]).index=n,t.zindex&&i.push(t);return e.zdirty=!1,e.zitems=i.sort(YA)}function QA(e,t){var n,r,a=e.items;if(a&&a.length){var i=JA(e);if(i&&i.length){for(n=0,r=a.length;n<r;++n)a[n].zindex||t(a[n]);a=i}for(n=0,r=a.length;n<r;++n)t(a[n])}}function ZA(e,t){var n,r,a=e.items;if(!a||!a.length)return null;var i=JA(e);for(i&&i.length&&(a=i),r=a.length;--r>=0;)if(n=t(a[r]))return n;if(a===i)for(r=(a=e.items).length;--r>=0;)if(!a[r].zindex&&(n=t(a[r])))return n;return null}function eS(e){return function(t,n,r){QA(n,(function(n){r&&!r.intersects(n.bounds)||tS(e,t,n,n)}))}}function tS(e,t,n,r){var a=null==n.opacity?1:n.opacity;0!==a&&(e(t,r)||(VA(t,n),n.fill&&KA(t,n,a)&&t.fill(),n.stroke&&XA(t,n,a)&&t.stroke()))}function nS(e){return e=e||Uj.x,function(t,n,r,a,i,o){return r*=t.pixelRatio,a*=t.pixelRatio,ZA(n,(function(n){var u=n.bounds;if((!u||u.contains(i,o))&&u)return e(t,n,r,a,i,o)?n:void 0}))}}function rS(e,t){return function(n,r,a,i){var o,u,s=Array.isArray(r)?r[0]:r,c=null==t?s.fill:t,l=s.stroke&&n.isPointInStroke;return l&&(o=s.strokeWidth,u=s.strokeCap,n.lineWidth=null!=o?o:1,n.lineCap=null!=u?u:"butt"),!e(n,r)&&(c&&n.isPointInPath(a,i)||l&&n.isPointInStroke(a,i))}}function aS(e){return nS(rS(e))}function iS(e,t){return"translate("+e+","+t+")"}function oS(e){return"rotate("+e+")"}function uS(e){return iS(e.x||0,e.y||0)}function sS(e){return iS(e.x||0,e.y||0)+(e.angle?" "+oS(e.angle):"")+(e.scaleX||e.scaleY?" "+(t=e.scaleX||1,n=e.scaleY||1,"scale("+t+","+n+")"):"");var t,n}var cS=function(e,t,n){function r(e,n){var r=n.x||0,a=n.y||0,i=n.angle||0;e.translate(r,a),i&&e.rotate(i*=LE),e.beginPath(),t(e,n),i&&e.rotate(-i),e.translate(-r,-a)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",sS(n)),e("d",t(null,n))},bound:function(e,n){var r=n.x||0,a=n.y||0;return t(CA(e),n),wA(e,n).translate(r,a),n.angle&&e.rotate(n.angle*LE,r,a),e},draw:eS(r),pick:aS(r),isect:n||BA(r)}},lS=cS("arc",(function(e,t){return RC.context(e)(t)}));var fS=function(e,t,n){function r(e,n){e.beginPath(),t(e,n)}var a,i=rS(r);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,n){var r=n.items;return 0===r.length?e:(t(CA(e),r),wA(e,r[0]))},draw:(a=r,function(e,t,n){!t.items.length||n&&!n.intersects(t.bounds)||tS(a,e,t.items[0],t.items)}),pick:function(e,t,n,r,a,o){var u=t.items,s=t.bounds;return!u||!u.length||s&&!s.contains(a,o)?null:(n*=e.pixelRatio,r*=e.pixelRatio,i(e,u,n,r)?u[0]:null)},isect:zA,tip:n}},dS=fS("area",(function(e,t){var n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?BC:PC).curve(RE(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,a="horizontal"===e[0].orient?t[1]:t[0],i="horizontal"===e[0].orient?"y":"x",o=e.length,u=1/0;--o>=0;)!1!==e[o].defined&&(r=Math.abs(e[o][i]-a))<u&&(u=r,n=e[o]);return n}));function hS(e,t){e.beginPath(),VC(t)?qC(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function pS(e){var t=qA(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function vS(e,t){var n=pS(t);e("d",qC(null,t,n,n))}function mS(e,t,n,r){var a=pS(t);e.beginPath(),qC(e,t,(n||0)+a,(r||0)+a)}var gS=rS(mS),bS=rS(mS,!1);var yS={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",uS(t))},bound:function(e,t){if(!t.clip&&t.items)for(var n=t.items,r=n.length,a=0;a<r;++a)e.union(n[a].bounds);return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),wA(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){var r=this;QA(t,(function(t){var a=t.x||0,i=t.y||0,o=t.strokeForeground,u=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&u&&(mS(e,t,a,i),VA(e,t),t.fill&&KA(e,t,u)&&e.fill(),t.stroke&&!o&&XA(e,t,u)&&e.stroke()),e.save(),e.translate(a,i),t.clip&&hS(e,t),n&&n.translate(-a,-i),QA(t,(function(t){r.draw(e,t,n)})),n&&n.translate(a,i),e.restore(),o&&t.stroke&&u&&(mS(e,t,a,i),VA(e,t),XA(e,t,u)&&e.stroke())}))},pick:function(e,t,n,r,a,i){var o=this;if(t.bounds&&!t.bounds.contains(a,i)||!t.items)return null;var u=n*e.pixelRatio,s=r*e.pixelRatio;return ZA(t,(function(c){var l,f,d,h,p,v,m,g,b;if((!(g=c.bounds)||g.contains(a,i))&&(h=c.x||0,p=c.y||0,v=h+(c.width||0),m=p+(c.height||0),!(b=c.clip)||!(a<h||a>v||i<p||i>m)))return e.save(),e.translate(h,p),h=a-h,p=i-p,b&&VC(c)&&!gS(e,c,u,s)?(e.restore(),null):(f=c.strokeForeground,(d=!1!==t.interactive)&&f&&c.stroke&&bS(e,c,u,s)?(e.restore(),c):(!(l=ZA(c,(function(e){return function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,h,p)?o.pick(e,n,r,h,p):null})))&&d&&(c.fill||!f&&c.stroke)&&gS(e,c,u,s)&&(l=c),e.restore(),l||null))}))},isect:LA,content:function(e,t,n){e("clip-path",t.clip?KC(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),vS(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?vS(e,t):e("d","")}},xS={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"};function _S(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then((function(t){e.image=t,e.image.url=e.url}))),n}function wS(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function OS(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function kS(e,t){return"center"===e?t/2:"right"===e?t:0}function jS(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var ES={type:"image",tag:"image",nested:!1,attr:function(e,t,n){var r=_S(t,n),a=wS(t,r),i=OS(t,r),o=(t.x||0)-kS(t.align,a),u=(t.y||0)-jS(t.baseline,i);e("href",!r.src&&r.toDataURL?r.toDataURL():r.src||"",xS["xmlns:xlink"],"xlink:href"),e("transform",iS(o,u)),e("width",a),e("height",i),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(e,t){var n=t.image,r=wS(t,n),a=OS(t,n),i=(t.x||0)-kS(t.align,r),o=(t.y||0)-jS(t.baseline,a);return e.set(i,o,i+r,o+a)},draw:function(e,t,n){var r=this;QA(t,(function(t){if(!n||n.intersects(t.bounds)){var a,i,o,u,s=_S(t,r),c=wS(t,s),l=OS(t,s),f=(t.x||0)-kS(t.align,c),d=(t.y||0)-jS(t.baseline,l);!1!==t.aspect&&(i=s.width/s.height,o=t.width/t.height,i===i&&o===o&&i!==o&&(o<i?(d+=(l-(u=c/i))/2,l=u):(f+=(c-(u=l*i))/2,c=u))),(s.complete||s.toDataURL)&&(VA(e,t),e.globalAlpha=null!=(a=t.opacity)?a:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(s,f,d,c,l))}}))},pick:nS(),isect:Uj.x,get:_S,xOffset:kS,yOffset:jS},CS=fS("line",(function(e,t){var n=t[0],r=n.interpolate||"linear";return zC.curve(RE(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,a=Math.pow(e[0].strokeWidth||1,2),i=e.length;--i>=0;)if(!1!==e[i].defined&&(n=e[i].x-t[0])*n+(r=e[i].y-t[1])*r<a)return e[i];return null}));function AS(e,t){var n=t.path;if(null==n)return!0;var r=t.x||0,a=t.y||0,i=t.scaleX||1,o=t.scaleY||1,u=(t.angle||0)*LE,s=t.pathCache;s&&s.path===n||((t.pathCache=s=zE(n)).path=n),u&&e.rotate&&e.translate?(e.translate(r,a),e.rotate(u),YE(e,s,0,0,i,o),e.rotate(-u),e.translate(-r,-a)):YE(e,s,r,a,i,o)}var SS={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,r=t.scaleY||1;1===n&&1===r||e("vector-effect","non-scaling-stroke"),e("transform",sS(t)),e("d",t.path)},bound:function(e,t){return AS(CA(e),t)?e.set(0,0,0,0):wA(e,t,!0),t.angle&&e.rotate(t.angle*LE,t.x||0,t.y||0),e},draw:eS(AS),pick:aS(AS),isect:BA(AS)};function DS(e,t){e.beginPath(),qC(e,t)}var NS={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",qC(null,t))},bound:function(e,t){var n,r;return wA(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)},draw:eS(DS),pick:aS(DS),isect:LA};function FS(e,t,n){var r,a,i,o;return!(!t.stroke||!XA(e,t,n))&&(r=t.x||0,a=t.y||0,i=null!=t.x2?t.x2:r,o=null!=t.y2?t.y2:a,e.beginPath(),e.moveTo(r,a),e.lineTo(i,o),!0)}var TS={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",uS(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,r;return wA(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)},draw:function(e,t,n){QA(t,(function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&FS(e,t,r)&&(VA(e,t),e.stroke())}}))},pick:nS((function(e,t,n,r){return!!e.isPointInStroke&&(FS(e,t,1)&&e.isPointInStroke(n,r))})),isect:UA},MS=cS("shape",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),IS=cS("symbol",(function(e,t){return UC.context(e)(t)}),zA),RS=Object(Uj.o)(),PS={height:VS,measureWidth:US,estimateWidth:zS,width:zS,canvas:BS};function BS(e){PS.width=e&&RA?US:zS}function zS(e,t){return LS(KS(e,t),VS(e))}function LS(e,t){return~~(.8*e.length*t)}function US(e,t){return VS(e)<=0||!(t=KS(e,t))?0:WS(t,XS(e))}function WS(e,t){var n="(".concat(t,") ").concat(e),r=RS.get(n);return void 0===r&&(RA.font=t,r=RA.measureText(e).width,RS.set(n,r)),r}function VS(e){return null!=e.fontSize?+e.fontSize||0:11}function qS(e){return null!=e.lineHeight?e.lineHeight:VS(e)+2}function HS(e){return t=e.lineBreak&&e.text&&!Object(Uj.i)(e.text)?e.text.split(e.lineBreak):e.text,Object(Uj.i)(t)?t.length>1?t:t[0]:t;var t}function GS(e){var t=HS(e);return(Object(Uj.i)(t)?t.length-1:0)*qS(e)}function KS(e,t){var n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,r=function(e){if(PS.width===US){var t=XS(e);return function(e){return WS(e,t)}}var n=VS(e);return function(e){return LS(e,n)}}(e);if(r(t)<n)return t;var a,i=e.ellipsis||"\u2026",o="rtl"===e.dir,u=0,s=t.length;if(n-=r(i),o){for(;u<s;)a=u+s>>>1,r(t.slice(a))>n?u=a+1:s=a;return i+t.slice(u)}for(;u<s;)a=1+(u+s>>>1),r(t.slice(0,a))<n?u=a:s=a-1;return t.slice(0,u)+i}(e,n):n}function $S(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function XS(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+VS(e)+"px "+$S(e,t)}function YS(e){var t=e.baseline,n=VS(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*qS(e):"line-bottom"===t?.29*n-.5*qS(e):0)}BS(!0);var JS={left:"start",center:"middle",right:"end"},QS=new $C;function ZS(e){var t,n=e.x||0,r=e.y||0,a=e.radius||0;return a&&(t=(e.theta||0)-UE,n+=a*Math.cos(t),r+=a*Math.sin(t)),QS.x1=n,QS.y1=r,QS}function eD(e,t,n){var r,a=PS.height(t),i=t.align,o=ZS(t),u=o.x1,s=o.y1,c=t.dx||0,l=(t.dy||0)+YS(t)-Math.round(.8*a),f=HS(t);if(Object(Uj.i)(f)?(a+=qS(t)*(f.length-1),r=f.reduce((function(e,n){return Math.max(e,PS.width(t,n))}),0)):r=PS.width(t,f),"center"===i?c-=r/2:"right"===i&&(c-=r),e.set(c+=u,l+=s,c+r,l+a),t.angle&&!n)e.rotate(t.angle*LE,u,s);else if(2===n)return e.rotatedPoints(t.angle*LE,u,s);return e}var tD={arc:lS,area:dS,group:yS,image:ES,line:CS,path:SS,rect:NS,rule:TS,shape:MS,symbol:IS,text:{type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,a=(t.dy||0)+YS(t),i=ZS(t),o=i.x1,u=i.y1,s=t.angle||0;e("text-anchor",JS[t.align]||"start"),s?(n=iS(o,u)+" "+oS(s),(r||a)&&(n+=" "+iS(r,a))):n=iS(o+r,u+a),e("transform",n)},bound:eD,draw:function(e,t,n){QA(t,(function(t){var r,a,i,o,u,s,c,l=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===l||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=XS(t),e.textAlign=t.align||"left",a=(r=ZS(t)).x1,i=r.y1,t.angle&&(e.save(),e.translate(a,i),e.rotate(t.angle*LE),a=i=0),a+=t.dx||0,i+=(t.dy||0)+YS(t),s=HS(t),VA(e,t),Object(Uj.i)(s))for(u=qS(t),o=0;o<s.length;++o)c=KS(t,s[o]),t.fill&&KA(e,t,l)&&e.fillText(c,a,i),t.stroke&&XA(e,t,l)&&e.strokeText(c,a,i),i+=u;else c=KS(t,s),t.fill&&KA(e,t,l)&&e.fillText(c,a,i),t.stroke&&XA(e,t,l)&&e.strokeText(c,a,i);t.angle&&e.restore()}}))},pick:nS((function(e,t,n,r,a,i){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=ZS(t),u=o.x1,s=o.y1,c=eD(QS,t,1),l=-t.angle*LE,f=Math.cos(l),d=Math.sin(l),h=f*a-d*i+(u-f*u+d*s),p=d*a+f*i+(s-d*u-f*s);return c.contains(h,p)})),isect:function(e,t){var n=eD(QS,e,2);return WA(t,n[0],n[1],n[2],n[3])||WA(t,n[0],n[1],n[4],n[5])||WA(t,n[4],n[5],n[6],n[7])||WA(t,n[2],n[3],n[6],n[7])}},trail:fS("trail",(function(e,t){return WC.context(e)(t)}),(function(e,t){for(var n,r,a=e.length;--a>=0;)if(!1!==e[a].defined&&(n=e[a].x-t[0])*n+(r=e[a].y-t[1])*r<(n=e[a].size||1)*n)return e[a];return null}))},nD=function(e,t,n){var r=tD[e.mark.marktype],a=t||r.bound;return r.nested&&(e=e.mark),a(e.bounds||(e.bounds=new $C),e,n)},rD={mark:null},aD=function(e,t,n){var r,a,i,o,u=tD[e.marktype],s=u.bound,c=e.items,l=c&&c.length;if(u.nested)return l?i=c[0]:(rD.mark=e,i=rD),o=nD(i,s,n),t=t&&t.union(o)||o;if(t=t||e.bounds&&e.bounds.clear()||new $C,l)for(r=0,a=c.length;r<a;++r)t.union(nD(c[r],s,n));return e.bounds=t},iD=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function oD(e,t){return JSON.stringify(e,iD,t)}function uD(e){return sD("string"===typeof e?JSON.parse(e):e)}function sD(e){var t,n,r,a=e.marktype,i=e.items;if(i)for(n=0,r=i.length;n<r;++n)t=a?"mark":"group",i[n][t]=e,i[n].zindex&&(i[n][t].zdirty=!0),"group"===(a||t)&&sD(i[n]);return a&&aD(e),e}function cD(e){arguments.length?this.root=uD(e):(this.root=fD({marktype:"group",name:"root",role:"frame"}),this.root.items=[new JC(this.root)])}var lD=cD.prototype;function fD(e,t){var n={bounds:new $C,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function dD(e,t,n){return!e&&"undefined"!==typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function hD(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,a=n.length;r<a;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function pD(e,t,n,r){var a,i=e.childNodes[t];return i&&i.tagName.toLowerCase()===n.toLowerCase()||(a=i||null,i=dD(e.ownerDocument,n,r),e.insertBefore(i,a)),i}function vD(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function mD(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}lD.toJSON=function(e){return oD(this.root,e||0)},lD.mark=function(e,t,n){var r=fD(e,t=t||this.root.items[0]);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r};var gD=function(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]};function bD(e,t){this._active=null,this._handlers={},this._loader=e||gA(),this._tooltip=t||yD}function yD(e,t,n,r){e.element().setAttribute("title",r||"")}var xD=bD.prototype;function _D(e){this._el=null,this._bgcolor=null,this._loader=new bA(e)}xD.initialize=function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},xD.element=function(){return this._el},xD.canvas=function(){return this._el&&this._el.firstChild},xD.origin=function(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},xD.scene=function(e){return arguments.length?(this._scene=e,this):this._scene},xD.on=function(){},xD.off=function(){},xD._handlerIndex=function(e,t,n){for(var r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},xD.handlers=function(e){var t=this._handlers,n=[];if(e)n.push.apply(n,t[this.eventName(e)]);else for(var r in t)n.push.apply(n,t[r]);return n},xD.eventName=function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},xD.handleHref=function(e,t,n){this._loader.sanitize(n,{context:"href"}).then((function(t){var n=new MouseEvent(e.type,e),r=dD(null,"a");for(var a in t)r.setAttribute(a,t[a]);r.dispatchEvent(n)})).catch((function(){}))},xD.handleTooltip=function(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,r){var a,i,o=e&&e.mark;if(o&&(a=tD[o.marktype]).tip){for((i=gD(t,n))[0]-=r[0],i[1]-=r[1];e=e.mark.group;)i[0]-=e.x||0,i[1]-=e.y||0;e=a.tip(o.items,i)}return e}(t,e,this.canvas(),this._origin);var r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},xD.getItemBoundingClientRect=function(e){var t=this.canvas();if(t){for(var n=t.getBoundingClientRect(),r=this._origin,a=e.bounds,i=a.width(),o=a.height(),u=a.x1+r[0]+n.left,s=a.y1+r[1]+n.top;e.mark&&(e=e.mark.group);)u+=e.x||0,s+=e.y||0;return{x:u,y:s,width:i,height:o,left:u,top:s,right:u+i,bottom:s+o}}};var wD=_D.prototype;wD.initialize=function(e,t,n,r,a){return this._el=e,this.resize(t,n,r,a)},wD.element=function(){return this._el},wD.canvas=function(){return this._el&&this._el.firstChild},wD.background=function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},wD.resize=function(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},wD.dirty=function(){},wD.render=function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},wD._render=function(){},wD.renderAsync=function(e){var t=this.render(e);return this._ready?this._ready.then((function(){return t})):Promise.resolve(t)},wD._load=function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var a=n._call;n._ready=n._loader.ready().then((function(e){e&&a(),n._ready=null}))}return r},wD.sanitizeURL=function(e){return this._load("sanitizeURL",e)},wD.loadImage=function(e){return this._load("loadImage",e)};var OD="dragenter",kD="dragleave",jD="dragover",ED="mousedown",CD="mousemove",AD="mouseout",SD="mouseover",DD="click",ND="mousewheel",FD="touchstart",TD="touchmove",MD="touchend",ID=["keydown","keypress","keyup",OD,kD,jD,ED,"mouseup",CD,AD,SD,DD,"dblclick","wheel",ND,FD,TD,MD],RD=CD,PD=AD,BD=DD;function zD(e,t){bD.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}var LD=Object(Uj.h)(zD,bD);LD.initialize=function(e,t,n){var r=this;return this._canvas=e&&hD(e,"canvas"),[DD,ED,CD,AD,kD].forEach((function(e){return UD(r,e)})),bD.prototype.initialize.call(this,e,t,n)};function UD(e,t){(function(e){return e===FD||e===TD||e===MD?[FD,TD,MD]:[e]})(t).forEach((function(t){return function(e,t){var n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?function(n){return e[t](n)}:function(n){return e.fire(t,n)}))}(e,t)}))}function WD(e,t,n){return function(r){var a=this._active,i=this.pickEvent(r);i===a||(a&&a.exit||this.fire(n,r),this._active=i,this.fire(t,r)),this.fire(e,r)}}function VD(e){return function(t){this.fire(e,t),this._active=null}}LD.canvas=function(){return this._canvas},LD.context=function(){return this._canvas.getContext("2d")},LD.events=ID,LD.DOMMouseScroll=function(e){this.fire(ND,e)},LD.mousemove=WD(CD,SD,AD),LD.dragover=WD(jD,OD,kD),LD.mouseout=VD(AD),LD.dragleave=VD(kD),LD.mousedown=function(e){this._down=this._active,this.fire(ED,e)},LD.click=function(e){this._down===this._active&&(this.fire(DD,e),this._down=null)},LD.touchstart=function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(FD,e,!0)},LD.touchmove=function(e){this.fire(TD,e,!0)},LD.touchend=function(e){this.fire(MD,e,!0),this._touch=null},LD.fire=function(e,t,n){var r=n?this._touch:this._active,a=this._handlers[e];if(t.vegaType=e,e===BD&&r&&r.href?this.handleHref(t,r,r.href):e!==RD&&e!==PD||this.handleTooltip(t,r,e!==PD),a)for(var i=0,o=a.length;i<o;++i)a[i].handler.call(this._obj,t,r)},LD.on=function(e,t){var n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(UD(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},LD.off=function(e,t){var n=this.eventName(e),r=this._handlers[n],a=this._handlerIndex(r,e,t);return a>=0&&r.splice(a,1),this},LD.pickEvent=function(e){var t=gD(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},LD.pick=function(e,t,n,r,a){var i=this.context();return tD[e.marktype].pick.call(this,i,e,t,n,r,a)};var qD="undefined"!==typeof window&&window.devicePixelRatio||1;function HD(e){_D.call(this,e),this._options={},this._redraw=!1,this._dirty=new $C,this._tempb=new $C}var GD=Object(Uj.h)(HD,_D),KD=_D.prototype;GD.initialize=function(e,t,n,r,a,i){return this._options=i||{},this._canvas=this._options.externalContext?null:Ou(1,1,this._options.type),e&&this._canvas&&(vD(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),KD.initialize.call(this,e,t,n,r,a)},GD.resize=function(e,t,n,r){if(KD.resize.call(this,e,t,n,r),this._canvas)!function(e,t,n,r,a,i){var o="undefined"!==typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,u=e.getContext("2d"),s=o?qD:a;for(var c in e.width=t*s,e.height=n*s,i)u[c]=i[c];o&&1!==s&&(e.style.width=t+"px",e.style.height=n+"px"),u.pixelRatio=s,u.setTransform(s,0,0,s,s*r[0],s*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{var a=this._options.externalContext;a||Object(Uj.c)("CanvasRenderer is missing a valid canvas or context"),a.scale(this._scale,this._scale),a.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},GD.canvas=function(){return this._canvas},GD.context=function(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},GD.dirty=function(e){for(var t=this._tempb.clear().union(e.bounds),n=e.mark.group;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)};function $D(e,t){bD.call(this,e,t);var n=this;n._hrefHandler=YD(n,(function(e,t){t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=YD(n,(function(e,t){n.handleTooltip(e,t,e.type!==PD)}))}GD._render=function(e){var t,n,r,a=this.context(),i=this._origin,o=this._width,u=this._height,s=this._dirty,c=(t=i,n=o,r=u,(new $C).set(0,0,n,r).translate(-t[0],-t[1]));a.save();var l=this._redraw||s.empty()?(this._redraw=!1,c.expand(1)):function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(a,c.intersect(s),i);return this.clear(-i[0],-i[1],o,u),this.draw(a,e,l),a.restore(),s.clear(),this},GD.draw=function(e,t,n){var r=tD[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),Object(Uj.j)(n)?(e.beginPath(),n(e),e.clip()):hS(e,t.group)}(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},GD.clear=function(e,t,n,r){var a=this._options,i=this.context();"pdf"===a.type||a.externalContext||i.clearRect(e,t,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,r))};var XD=Object(Uj.h)($D,bD);XD.initialize=function(e,t,n){var r=this._svg;return r&&(r.removeEventListener(BD,this._hrefHandler),r.removeEventListener(RD,this._tooltipHandler),r.removeEventListener(PD,this._tooltipHandler)),this._svg=r=e&&hD(e,"svg"),r&&(r.addEventListener(BD,this._hrefHandler),r.addEventListener(RD,this._tooltipHandler),r.addEventListener(PD,this._tooltipHandler)),bD.prototype.initialize.call(this,e,t,n)},XD.canvas=function(){return this._svg};var YD=function(e,t){return function(n){var r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)}};function JD(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}XD.on=function(e,t){var n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){var a={type:e,handler:t,listener:YD(this,t)};(r[n]||(r[n]=[])).push(a),this._svg&&this._svg.addEventListener(n,a.listener)}return this},XD.off=function(e,t){var n=this.eventName(e),r=this._handlers[n],a=this._handlerIndex(r,e,t);return a>=0&&(this._svg&&this._svg.removeEventListener(n,r[a].listener),r.splice(a,1)),this};var QD=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,u=r<t-1?e[r+2]:2*i-a;return JD((n-r/t)*t,o,a,i,u)}},ZD=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],u=e[(r+2)%t];return JD((n-r/t)*t,a,i,o,u)}},eN=function(e){return function(){return e}};function tN(e,t){return function(n){return e+n*t}}function nN(e,t){var n=t-e;return n?tN(e,n>180||n<-180?n-360*Math.round(n/360):n):eN(isNaN(e)?t:e)}function rN(e){return 1===(e=+e)?aN:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):eN(isNaN(t)?n:t)}}function aN(e,t){var n=t-e;return n?tN(e,n):eN(isNaN(e)?t:e)}var iN=function e(t){var n=rN(t);function r(e,t){var r=n((e=ss(e)).r,(t=ss(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),o=aN(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function oN(e){return function(t){var n,r,a=t.length,i=new Array(a),o=new Array(a),u=new Array(a);for(n=0;n<a;++n)r=ss(t[n]),i[n]=r.r||0,o[n]=r.g||0,u[n]=r.b||0;return i=e(i),o=e(o),u=e(u),r.opacity=1,function(e){return r.r=i(e),r.g=o(e),r.b=u(e),r+""}}}var uN=oN(QD),sN=oN(ZD),cN=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}};function lN(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var fN=function(e,t){return(lN(t)?cN:dN)(e,t)};function dN(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=xN(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=i[n](e);return o}}var hN=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}},pN=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},vN=function(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=xN(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}},mN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gN=new RegExp(mN.source,"g");var bN,yN=function(e,t){var n,r,a,i=mN.lastIndex=gN.lastIndex=0,o=-1,u=[],s=[];for(e+="",t+="";(n=mN.exec(e))&&(r=gN.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),u[o]?u[o]+=a:u[++o]=a),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:pN(n,r)})),i=gN.lastIndex;return i<t.length&&(a=t.slice(i),u[o]?u[o]+=a:u[++o]=a),u.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)u[(n=s[r]).i]=n.x(e);return u.join("")})},xN=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?eN(t):("number"===r?pN:"string"===r?(n=as(t))?(t=n,iN):yN:t instanceof as?iN:t instanceof Date?hN:lN(t)?cN:Array.isArray(t)?dN:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?vN:pN)(e,t)},_N=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},wN=function(e,t){var n=nN(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},ON=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}},kN=180/Math.PI,jN={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},EN=function(e,t,n,r,a,i){var o,u,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*kN,skewX:Math.atan(s)*kN,scaleX:o,scaleY:u}};function CN(e,t,n,r){function a(e){return e.length?e.pop()+" ":""}return function(i,o){var u=[],s=[];return i=e(i),o=e(o),function(e,r,a,i,o,u){if(e!==a||r!==i){var s=o.push("translate(",null,t,null,n);u.push({i:s-4,x:pN(e,a)},{i:s-2,x:pN(r,i)})}else(a||i)&&o.push("translate("+a+t+i+n)}(i.translateX,i.translateY,o.translateX,o.translateY,u,s),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(a(n)+"rotate(",null,r)-2,x:pN(e,t)})):t&&n.push(a(n)+"rotate("+t+r)}(i.rotate,o.rotate,u,s),function(e,t,n,i){e!==t?i.push({i:n.push(a(n)+"skewX(",null,r)-2,x:pN(e,t)}):t&&n.push(a(n)+"skewX("+t+r)}(i.skewX,o.skewX,u,s),function(e,t,n,r,i,o){if(e!==n||t!==r){var u=i.push(a(i)+"scale(",null,",",null,")");o.push({i:u-4,x:pN(e,n)},{i:u-2,x:pN(t,r)})}else 1===n&&1===r||i.push(a(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,u,s),i=o=null,function(e){for(var t,n=-1,r=s.length;++n<r;)u[(t=s[n]).i]=t.x(e);return u.join("")}}}var AN=CN((function(e){var t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?jN:EN(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),SN=CN((function(e){return null==e?jN:(bN||(bN=document.createElementNS("http://www.w3.org/2000/svg","g")),bN.setAttribute("transform",e),(e=bN.transform.baseVal.consolidate())?(e=e.matrix,EN(e.a,e.b,e.c,e.d,e.e,e.f)):jN)}),", ",")",")");function DN(e){return((e=Math.exp(e))+1/e)/2}var NN=function e(t,n,r){function a(e,a){var i,o,u=e[0],s=e[1],c=e[2],l=a[0],f=a[1],d=a[2],h=l-u,p=f-s,v=h*h+p*p;if(v<1e-12)o=Math.log(d/c)/t,i=function(e){return[u+e*h,s+e*p,c*Math.exp(t*e*o)]};else{var m=Math.sqrt(v),g=(d*d-c*c+r*v)/(2*c*n*m),b=(d*d-c*c-r*v)/(2*d*n*m),y=Math.log(Math.sqrt(g*g+1)-g),x=Math.log(Math.sqrt(b*b+1)-b);o=(x-y)/t,i=function(e){var r,a=e*o,i=DN(y),l=c/(n*m)*(i*(r=t*a+y,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(y));return[u+l*h,s+l*p,c*i/DN(t*a+y)]}}return i.duration=1e3*o*t/Math.SQRT2,i}return a.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},a}(Math.SQRT2,2,4);function FN(e){return function(t,n){var r=e((t=vs(t)).h,(n=vs(n)).h),a=aN(t.s,n.s),i=aN(t.l,n.l),o=aN(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=a(e),t.l=i(e),t.opacity=o(e),t+""}}}var TN=FN(nN),MN=FN(aN);function IN(e,t){var n=aN((e=Dl(e)).l,(t=Dl(t)).l),r=aN(e.a,t.a),a=aN(e.b,t.b),i=aN(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=a(t),e.opacity=i(t),e+""}}function RN(e){return function(t,n){var r=e((t=Pl(t)).h,(n=Pl(n)).h),a=aN(t.c,n.c),i=aN(t.l,n.l),o=aN(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=a(e),t.l=i(e),t.opacity=o(e),t+""}}}var PN=RN(nN),BN=RN(aN);function zN(e){return function t(n){function r(t,r){var a=e((t=Zl(t)).h,(r=Zl(r)).h),i=aN(t.s,r.s),o=aN(t.l,r.l),u=aN(t.opacity,r.opacity);return function(e){return t.h=a(e),t.s=i(e),t.l=o(Math.pow(e,n)),t.opacity=u(e),t+""}}return n=+n,r.gamma=t,r}(1)}var LN=zN(nN),UN=zN(aN);function WN(e,t){void 0===t&&(t=e,e=xN);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}var VN,qN,HN=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n};var GN="linear",KN="log",$N="pow",XN="sqrt",YN="symlog",JN="time",QN="utc",ZN="sequential",eF="diverging",tF="quantile",nF="quantize",rF="threshold",aF="continuous",iF="discrete",oF="discretizing",uF="interpolating",sF="temporal";function cF(){var e,t,n=Fu().unknown(void 0),r=n.domain,a=n.range,i=[0,1],o=!1,u=0,s=0,c=.5;function l(){var n=r().length,l=i[1]<i[0],f=i[1-l],d=function(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0}(n,u,s),h=i[l-0];e=(f-h)/(d||1),o&&(e=Math.floor(e)),h+=(f-h-e*(n-u))*c,t=e*(1-u),o&&(h=Math.round(h),t=Math.round(t));var p=Oa(n).map((function(t){return h+e*t}));return a(l?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),l()):r()},n.range=function(e){return arguments.length?(i=[+e[0],+e[1]],l()):i.slice()},n.rangeRound=function(e){return i=[+e[0],+e[1]],o=!0,l()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,l()):o},n.padding=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),u=s,l()):u},n.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),l()):u},n.paddingOuter=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),l()):s},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),l()):c},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,o,u,s=i[1]<i[0],c=s?a().reverse():a(),l=c.length-1,f=+e[0],d=+e[1];if(f===f&&d===d&&(d<f&&(u=f,f=d,d=u),!(d<c[0]||f>i[1-s])))return n=Math.max(0,Eu(c,f)-1),o=f===d?n:Eu(c,d)-1,f-c[n]>t+1e-10&&++n,s&&(u=n,n=l-o,o=l-u),n>o?void 0:r().slice(n,o+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return cF().domain(r()).range(i).round(o).paddingInner(u).paddingOuter(s).align(c)},l()}function lF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return lF(t())},e}var fF=Array.prototype.map;function dF(e){return fF.call(e,Uj.u)}var hF=Array.prototype.slice;var pF={};function vF(e,t,n){var r=function(){var n=t();return n.invertRange||(n.invertRange=n.invert?function(e){return function(t){var n,r=t[0],a=t[1];return a<r&&(n=r,r=a,a=n),[e.invert(r),e.invert(a)]}}(n):n.invertExtent?function(e){return function(t){var n,r,a,i,o=e.range(),u=t[0],s=t[1],c=-1;for(s<u&&(r=u,u=s,s=r),a=0,i=o.length;a<i;++a)o[a]>=u&&o[a]<=s&&(c<0&&(c=a),n=a);if(!(c<0))return u=e.invertExtent(o[c]),s=e.invertExtent(o[n]),[void 0===u[0]?u[1]:u[0],void 0===s[1]?s[0]:s[1]]}}(n):void 0),n.type=e,n};return r.metadata=Object(Uj.v)(Object(Uj.a)(n)),r}function mF(e,t,n){return arguments.length>1?(pF[e]=vF(e,t,n),this):gF(e)?pF[e]:void 0}function gF(e){return Object(Uj.f)(pF,e)}function bF(e,t){var n=pF[e];return n&&n.metadata[t]}function yF(e){return bF(e,iF)}mF("identity",Zs),mF(GN,Qs,aF),mF(KN,sc,[aF,KN]),mF($N,hc,aF),mF(XN,pc,aF),mF(YN,bc,aF),mF(JN,Pc,[aF,sF]),mF(QN,qc,[aF,sF]),mF(ZN,Kc,[aF,uF]),mF("".concat(ZN,"-").concat(GN),Kc,[aF,uF]),mF("".concat(ZN,"-").concat(KN),$c,[aF,uF,KN]),mF("".concat(ZN,"-").concat($N),Yc,[aF,uF]),mF("".concat(ZN,"-").concat(XN),Jc,[aF,uF]),mF("".concat(ZN,"-").concat(YN),Xc,[aF,uF]),mF("".concat(eF,"-").concat(GN),el,[aF,uF]),mF("".concat(eF,"-").concat(KN),tl,[aF,uF,KN]),mF("".concat(eF,"-").concat($N),rl,[aF,uF]),mF("".concat(eF,"-").concat(XN),al,[aF,uF]),mF("".concat(eF,"-").concat(YN),nl,[aF,uF]),mF(tF,il,[oF,tF]),mF(nF,ol,oF),mF(rF,ul,oF),mF("bin-ordinal",(function e(){var t=[],n=[];function r(e){return null==e||e!==e?void 0:n[(Au(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=dF(e),r):t.slice()},r.range=function(e){return arguments.length?(n=hF.call(e),r):n.slice()},r.tickFormat=function(e,n){return zu(t[0],Object(Uj.p)(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),[iF,oF]),mF("ordinal",Fu,iF),mF("band",cF,iF),mF("point",(function(){return lF(cF().paddingInner(1))}),iF);function xF(e,t,n){return WN(function(e,t){var n=m[function(e){return"interpolate"+e.toLowerCase().split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}(t||"rgb",n),e)}function _F(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function wF(e,t){for(var n in e)kF(n,t(e[n]))}var OF={};function kF(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(OF[e]=t,this):OF[e]}wF({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},_F),wF({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(function(e){return xF(_F(e))}));var jF=function(e){return Object(Uj.i)(e)?e.map((function(e){return String(e)})):String(e)},EF=function(e,t){return e[1]-t[1]},CF=function(e,t){return t[1]-e[1]};function AF(e,t){return e.bins?function(e,t,n){var r=e.range(),a=r[0],i=Object(Uj.p)(r),o=EF;if(a>i&&(r=i,i=a,a=r,o=CF),a=Math.floor(a),i=Math.ceil(i),t=t.map((function(t){return[t,e(t)]})).filter((function(e){return a<=e[1]&&e[1]<=i})).sort(o).map((function(e){return e[0]})),n>0&&t.length>1){for(var u=[t[0],Object(Uj.p)(t)];t.length>n&&t.length>=3;)t=t.filter((function(e,t){return!(t%2)}));t.length<3&&(t=u)}return t}(e,e.bins):e.ticks?e.ticks(t):e.domain()}function SF(e,t,n,r,a,i){var o=t.type,u=jF;if(o===JN||a===JN)u=e.timeFormat(r);else if(o===QN||a===QN)u=e.utcFormat(r);else if(bF(o,KN)){var s=e.formatFloat(r);if(i||t.bins)u=s;else{var c=DF(t,n,!1);u=function(e){return c(e)?s(e):""}}}else if(t.tickFormat){var l=t.domain();u=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(u=e.format(r));return u}function DF(e,t,n){var r=AF(e,t),a=e.base(),i=Math.log(a),o=Math.max(1,a*t/r.length),u=function(e){var t=e/Math.pow(a,Math.round(Math.log(e)/i));return t*a<a-.5&&(t*=a),t<=o};return n?r.filter(u):u}var NF=(VN={},Object(Zi.a)(VN,tF,"quantiles"),Object(Zi.a)(VN,nF,"thresholds"),Object(Zi.a)(VN,rF,"domain"),VN),FF=(qN={},Object(Zi.a)(qN,tF,"quantiles"),Object(Zi.a)(qN,nF,"domain"),qN);function TF(e,t){return e.bins?function(e){var t=e.slice(0,-1);return t.max=Object(Uj.p)(e),t}(e.bins):e.type===KN?DF(e,t,!0):NF[e.type]?function(e){var t=[-1/0].concat(e);return t.max=1/0,t}(e[NF[e.type]]()):AF(e,t)}function MF(e,t,n,r,a,i,o){var u=FF[t.type]&&i!==JN&&i!==QN?function(e,t,n){var r,a=t[FF[t.type]](),i=a.length,o=i>1?a[1]-a[0]:a[0];for(r=1;r<i;++r)o=Math.min(o,a[r]-a[r-1]);return e.formatSpan(0,o,30,n)}(e,t,a):SF(e,t,n,a,i,o);return"symbol"===r&&function(e){return NF[e.type]||e.bins}(t)?IF(u):"discrete"===r?PF(u):BF(u)}var IF=function(e){return function(t,n,r){var a=RF(r[n+1],RF(r.max,1/0)),i=zF(t,e),o=zF(a,e);return i&&o?i+" \u2013 "+o:o?"< "+o:"\u2265 "+i}},RF=function(e,t){return null!=e?e:t},PF=function(e){return function(t,n){return n?e(t):null}},BF=function(e){return function(t){return e(t)}},zF=function(e,t){return Number.isFinite(e)?t(e):null};function LF(e,t,n,r){var a=r||t.type;return Object(Uj.n)(n)&&bF(a,sF)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||a!==JN?n||a!==QN?MF(e,t,5,null,n,r,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}function UF(e,t,n){n=n||{};var r=Math.max(3,n.maxlen||7),a=LF(e,t,n.format,n.formatType);if(bF(t.type,oF)){var i=TF(t).slice(1).map(a),o=i.length;return"".concat(o," boundar").concat(1===o?"y":"ies",": ").concat(i.join(", "))}if(yF(t.type)){var u=t.domain(),s=u.length,c=s>r?u.slice(0,r-2).map(a).join(", ")+", ending with "+u.slice(-1).map(a):u.map(a).join(", ");return"".concat(s," value").concat(1===s?"":"s",": ").concat(c)}var l=t.domain();return"values from ".concat(a(l[0])," to ").concat(a(Object(Uj.p)(l)))}var WF="aria-hidden",VF="aria-label",qF="role",HF="aria-roledescription",GF="graphics-object",KF="graphics-symbol",$F=function(e,t,n){var r;return r={},Object(Zi.a)(r,qF,e),Object(Zi.a)(r,HF,t),Object(Zi.a)(r,VF,n||void 0),r},XF=Object(Uj.v)(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),YF={axis:{desc:"axis",caption:function(e){var t=e.datum,n=e.orient,r=t.title?tT(e):null,a=e.context,i=a.scales[t.scale].value,o=a.dataflow.locale(),u=i.type;return"".concat("left"===n||"right"===n?"Y":"X","-axis")+(r?" titled '".concat(r,"'"):"")+" for a ".concat(yF(u)?"discrete":u," scale")+" with ".concat(UF(o,i,e))}},legend:{desc:"legend",caption:function(e){var t=e.datum,n=t.title?tT(e):null,r="".concat(t.type||""," legend").trim(),a=t.scales,i=Object.keys(a),o=e.context,u=o.scales[a[i[0]]].value,s=o.dataflow.locale();return c=r,(c.length?c[0].toUpperCase()+c.slice(1):c)+(n?" titled '".concat(n,"'"):"")+" for ".concat(function(e){return(e=e.map((function(e){return e+("fill"===e||"stroke"===e?" color":"")}))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Object(Uj.p)(e)}(i))+" with ".concat(UF(s,u,e));var c}},"title-text":{desc:"title",caption:function(e){return"Title text '".concat(eT(e),"'")}},"title-subtitle":{desc:"subtitle",caption:function(e){return"Subtitle text '".concat(eT(e),"'")}}},JF={ariaRole:qF,ariaRoleDescription:HF,description:VF};function QF(e,t){var n=!1===t.aria;if(e(WF,n||void 0),n||null==t.description)for(var r in JF)e(JF[r],void 0);else{var a=t.mark.marktype;e(VF,t.description),e(qF,t.ariaRole||("group"===a?GF:KF)),e(HF,t.ariaRoleDescription||"".concat(a," mark"))}}function ZF(e){return!1===e.aria?Object(Zi.a)({},WF,!0):XF[e.role]?null:YF[e.role]?function(e,t){try{var n=e.items[0],r=t.caption||function(){return""};return $F(t.role||KF,t.desc,n.description||r(n))}catch(a){return null}}(e,YF[e.role]):function(e){var t=e.marktype,n="group"===t||"text"===t||e.items.some((function(e){return null!=e.description&&!1!==e.aria}));return $F(n?GF:KF,"".concat(t," mark container"),e.description)}(e)}function eT(e){return Object(Uj.a)(e.text).join(" ")}function tT(e){try{return Object(Uj.a)(Object(Uj.p)(e.items).items[0].text).join(" ")}catch(t){return null}}var nT=function(e){return(e+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")};function rT(e,t,n){var r,a,i="<"+e;if(t)for(r in t)null!=(a=t[r])&&(i+=" "+r+'="'+nT(a)+'"');return n&&(i+=" "+n),i+">"}function aT(e){return"</"+e+">"}var iT={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},oT={fill:"none","stroke-miterlimit":10},uT=xS.xmlns;function sT(e){_D.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var cT=Object(Uj.h)(sT,_D),lT=_D.prototype;function fT(e,t,n){var r,a,i;if("radial"===t.gradient){var o=pD(e,n++,"pattern",uT);o.setAttribute("id",Rj+t.id),o.setAttribute("viewBox","0,0,1,1"),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("preserveAspectRatio","xMidYMid slice"),(o=pD(o,0,"rect",uT)).setAttribute("width","1"),o.setAttribute("height","1"),o.setAttribute("fill","url("+_T()+"#"+t.id+")"),(e=pD(e,n++,"radialGradient",uT)).setAttribute("id",t.id),e.setAttribute("fx",t.x1),e.setAttribute("fy",t.y1),e.setAttribute("fr",t.r1),e.setAttribute("cx",t.x2),e.setAttribute("cy",t.y2),e.setAttribute("r",t.r2)}else(e=pD(e,n++,"linearGradient",uT)).setAttribute("id",t.id),e.setAttribute("x1",t.x1),e.setAttribute("x2",t.x2),e.setAttribute("y1",t.y1),e.setAttribute("y2",t.y2);for(r=0,a=t.stops.length;r<a;++r)(i=pD(e,r,"stop",uT)).setAttribute("offset",t.stops[r].offset),i.setAttribute("stop-color",t.stops[r].color);return vD(e,r),n}function dT(e,t,n){var r;return(e=pD(e,n,"clipPath",uT)).setAttribute("id",t.id),t.path?(r=pD(e,0,"path",uT)).setAttribute("d",t.path):((r=pD(e,0,"rect",uT)).setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height)),vD(e,1),n+1}function hT(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function pT(e,t,n,r,a){var i,o=e._svg;if(!o&&(o=dD(i=t.ownerDocument,r,uT),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},"g"===r))){var u=dD(i,"path",uT);o.appendChild(u),u.__data__=e;var s=dD(i,"g",uT);o.appendChild(s),s.__data__=e;var c=dD(i,"path",uT);o.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(o.ownerSVGElement!==a||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}cT.initialize=function(e,t,n,r){if(this._defs={gradient:{},clipping:{}},e){for(var a in this._svg=pD(e,0,"svg",uT),this._svg.setAttribute("class","marks"),vD(e,1),this._root=pD(this._svg,0,"g",uT),oT)this._root.setAttribute(a,oT[a]);vD(this._svg,1)}return this.background(this._bgcolor),lT.initialize.call(this,e,t,n,r)},cT.background=function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),lT.background.apply(this,arguments)},cT.resize=function(e,t,n,r){return lT.resize.call(this,e,t,n,r),this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},cT.canvas=function(){return this._svg},cT.svg=function(){if(!this._svg)return null;var e={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var t in xS)e[t]=xS[t];var n=this._bgcolor?rT("rect",{width:this._width,height:this._height,fill:this._bgcolor})+aT("rect"):"";return rT("svg",e)+(this._defs.el?this._defs.el.outerHTML:"")+n+this._root.outerHTML+aT("svg")},cT._render=function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,e),vD(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},cT.updateDefs=function(){var e=this._svg,t=this._defs,n=t.el,r=0;for(var a in t.gradient)n||(t.el=n=pD(e,0,"defs",uT)),r=fT(n,t.gradient[a],r);for(var i in t.clipping)n||(t.el=n=pD(e,0,"defs",uT)),r=dT(n,t.clipping[i],r);n&&(0===r?(e.removeChild(n),t.el=null):vD(n,r))},cT._resetDefs=function(){var e=this._defs;e.gradient={},e.clipping={}},cT.dirty=function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},cT.isDirty=function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},cT._dirtyCheck=function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length||!this._dirtyID)return!0;var t,n,r,a,i,o,u,s=++this._dirtyID;for(i=0,o=e.length;i<o;++i)(n=(t=e[i]).mark).marktype!==r&&(r=n.marktype,a=tD[r]),n.zdirty&&n.dirty!==s&&(this._dirtyAll=!1,hT(t,s),n.items.forEach((function(e){e.dirty=s}))),n.zdirty||(t.exit?(a.nested&&n.items.length?(u=n.items[0])._svg&&this._update(a,u._svg,u):t._svg&&(u=t._svg.parentNode)&&u.removeChild(t._svg),t._svg=null):(t=a.nested?n.items[0]:t)._update!==s&&(t._svg&&t._svg.ownerSVGElement?this._update(a,t._svg,t):(this._dirtyAll=!1,hT(t,s)),t._update=s));return!this._dirtyAll},cT.draw=function(e,t,n){var r=this;if(!this.isDirty(t))return t._svg;var a,i=this._svg,o=tD[t.marktype],u=!1===t.interactive?"none":null,s="g"===o.tag,c=null,l=0;(a=pT(t,e,n,"g",i)).setAttribute("class",mD(t));var f=ZF(t);for(var d in f)xT(a,d,f[d]);s||xT(a,"pointer-events",u),xT(a,"clip-path",t.clip?KC(this,t,t.group):null);var h=function(e){var t=r.isDirty(e),n=pT(e,a,c,o.tag,i);t&&(r._update(o,n,e),s&&function(e,t,n){t=t.lastChild.previousSibling;var r,a=0;QA(n,(function(n){r=e.draw(t,n,r),++a})),vD(t,1+a)}(r,n,e)),c=n,++l};return o.nested?t.items.length&&h(t.items[0]):QA(t,h),vD(a,l),a};var vT=null,mT=null,gT={group:function(e,t,n){var r=vT=t.childNodes[2];mT=r.__values__,e.foreground(yT,n,this),mT=t.__values__,vT=t.childNodes[1],e.content(yT,n,this);var a=vT=t.childNodes[0];e.background(yT,n,this);var i=!1===n.mark.interactive?"none":null;if(i!==mT.events&&(xT(r,"pointer-events",i),xT(a,"pointer-events",i),mT.events=i),n.strokeForeground&&n.stroke){var o=n.fill;xT(r,"display",null),this.style(a,n),xT(a,"stroke",null),o&&(n.fill=null),mT=r.__values__,this.style(r,n),o&&(n.fill=o),vT=null}else xT(r,"display","none")},image:function(e,t,n){!1===n.smooth?(bT(t,"image-rendering","optimizeSpeed"),bT(t,"image-rendering","pixelated")):bT(t,"image-rendering",null)},text:function(e,t,n){var r,a,i,o,u=HS(n);Object(Uj.i)(u)?(r=(a=u.map((function(e){return KS(n,e)}))).join("\n"))!==mT.text&&(vD(t,0),i=t.ownerDocument,o=qS(n),a.forEach((function(e,r){var a=dD(i,"tspan",uT);a.__data__=n,a.textContent=e,r&&(a.setAttribute("x",0),a.setAttribute("dy",o)),t.appendChild(a)})),mT.text=r):(a=KS(n,u))!==mT.text&&(t.textContent=a,mT.text=a),xT(t,"font-family",$S(n)),xT(t,"font-size",VS(n)+"px"),xT(t,"font-style",n.fontStyle),xT(t,"font-variant",n.fontVariant),xT(t,"font-weight",n.fontWeight)}};function bT(e,t,n){n!==mT[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),mT[t]=n)}function yT(e,t,n){t!==mT[e]&&(n?function(e,t,n,r){null!=n?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}(vT,e,t,n):xT(vT,e,t),mT[e]=t)}function xT(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function _T(){var e;return"undefined"===typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function wT(e){_D.call(this,e),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}cT._update=function(e,t,n){vT=t,mT=t.__values__,QF(yT,n),e.attr(yT,n,this);var r=gT[e.type];r&&r.call(this,e,t,n),vT&&this.style(vT,n)},cT.style=function(e,t){if(null!=t)for(var n in iT){var r="font"===n?$S(t):t[n];if(r!==mT[n]){var a=iT[n];null==r?e.removeAttribute(a):(Pj(r)&&(r=Bj(r,this._defs.gradient,_T())),e.setAttribute(a,r+"")),mT[n]=r}}};var OT=Object(Uj.h)(wT,_D),kT=_D.prototype;function jT(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}OT.resize=function(e,t,n,r){kT.resize.call(this,e,t,n,r);var a=this._origin,i=this._text,o={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var u in xS)o[u]=xS[u];i.head=rT("svg",o);var s=this._bgcolor;return"transparent"!==s&&"none"!==s||(s=null),i.bg=s?rT("rect",{width:this._width,height:this._height,fill:s})+aT("rect"):"",i.root=rT("g",Object(Uj.d)({},oT,{transform:"translate("+a+")"})),i.foot=aT("g")+aT("svg"),this},OT.background=function(){var e=kT.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale),e},OT.svg=function(){var e=this._text;return e.head+e.defs+e.bg+e.root+e.body+e.foot},OT._render=function(e){return this._text.body=this.mark(e),this._text.defs=this.buildDefs(),this},OT.buildDefs=function(){var e,t="";for(var n in this._defs.gradient){var r=this._defs.gradient[n],a=r.stops;"radial"===r.gradient?(t+=rT(e="pattern",{id:Rj+n,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t+=rT("rect",{width:"1",height:"1",fill:"url(#"+n+")"})+aT("rect"),t+=aT(e),t+=rT(e="radialGradient",{id:n,fx:r.x1,fy:r.y1,fr:r.r1,cx:r.x2,cy:r.y2,r:r.r2})):t+=rT(e="linearGradient",{id:n,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2});for(var i=0;i<a.length;++i)t+=rT("stop",{offset:a[i].offset,"stop-color":a[i].color})+aT("stop");t+=aT(e)}for(var o in this._defs.clipping){var u=this._defs.clipping[o];t+=rT("clipPath",{id:o}),u.path?t+=rT("path",{d:u.path})+aT("path"):t+=rT("rect",{x:0,y:0,width:u.width,height:u.height})+aT("rect"),t+=aT("clipPath")}return t?rT("defs")+t+aT("defs"):""},OT.attr=function(e,t,n,r){var a=this,i={},o=function(e,t,n,r){i[r||e]=t};return Array.isArray(n)?n.forEach((function(e){return e(o,t,a)})):n(o,t,this),r&&function(e,t,n,r,a){if(null==t)return e;"bgrect"===r&&!1===n.interactive&&(e["pointer-events"]="none");if("bgfore"===r&&(!1===n.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill))return e;"image"===r&&!1===t.smooth&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===r&&(e["font-family"]=$S(t),e["font-size"]=VS(t)+"px",t.fontStyle&&(e["font-style"]=t.fontStyle),t.fontVariant&&(e["font-variant"]=t.fontVariant),t.fontWeight&&(e["font-weight"]=t.fontWeight));for(var i in iT){var o=t[i],u=iT[i];("transparent"!==o||"fill"!==u&&"stroke"!==u)&&null!=o&&(Pj(o)&&(o=Bj(o,a.gradient,"")),e[u]=o)}}(i,t,e,r,this._defs),i},OT.href=function(e){var t,n=this,r=e.href;if(r){if(t=n._hrefs&&n._hrefs[r])return t;n.sanitizeURL(r).then((function(e){e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e}))}return null},OT.mark=function(e){var t=this,n=tD[e.marktype],r=n.tag,a=[QF,n.attr],i="";i+=rT("g",Object(Uj.d)({class:mD(e),"clip-path":e.clip?KC(this,e,e.group):null},ZF(e),{"pointer-events":"g"!==r&&!1===e.interactive?"none":null}));var o=function(o){var u=t.href(o);if(u&&(i+=rT("a",u)),i+=rT(r,t.attr(e,o,a,"g"!==r?r:null)),"text"===r){var s=HS(o);if(Object(Uj.i)(s))for(var c={x:0,dy:qS(o)},l=0;l<s.length;++l)i+=rT("tspan",l?c:null)+jT(KS(o,s[l]))+aT("tspan");else i+=jT(KS(o,s))}else if("g"===r){var f=o.strokeForeground,d=o.fill,h=o.stroke;f&&h&&(o.stroke=null),i+=rT("path",t.attr(e,o,n.background,"bgrect"))+aT("path"),i+=rT("g",t.attr(e,o,n.content))+t.markGroup(o)+aT("g"),f&&h?(d&&(o.fill=null),o.stroke=h,i+=rT("path",t.attr(e,o,n.foreground,"bgrect"))+aT("path"),d&&(o.fill=d)):i+=rT("path",t.attr(e,o,n.foreground,"bgfore"))+aT("path")}i+=aT(r),u&&(i+=aT("a"))};return n.nested?e.items&&e.items.length&&o(e.items[0]):QA(e,o),i+aT("g")},OT.markGroup=function(e){var t=this,n="";return QA(e,(function(e){n+=t.mark(e)})),n};var ET="canvas",CT="none",AT={Canvas:ET,PNG:"png",SVG:"svg",None:CT},ST={};function DT(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(ST[e]=t,this):ST[e]}function NT(e,t,n){var r=[],a=(new $C).union(t),i=e.marktype;return i?FT(e,a,n,r):"group"===i?TT(e,a,n,r):Object(Uj.c)("Intersect scene must be mark node or group item.")}function FT(e,t,n,r){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){var a=e.items,i=e.marktype,o=a.length,u=0;if("group"===i)for(;u<o;++u)TT(a[u],t,n,r);else for(var s=tD[i].isect;u<o;++u){var c=a[u];MT(c,t,s)&&r.push(c)}}return r}function TT(e,t,n,r){n&&n(e.mark)&&MT(e,t,tD.group.isect)&&r.push(e);var a=e.items,i=a&&a.length;if(i){var o=e.x||0,u=e.y||0;t.translate(-o,-u);for(var s=0;s<i;++s)FT(a[s],t,n,r);t.translate(o,u)}return r}function MT(e,t,n){var r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}ST.canvas=ST.png={renderer:HD,headless:HD,handler:zD},ST.svg={renderer:sT,headless:wT,handler:$D},ST.none={};var IT=new $C,RT=function(e){var t=e.clip;if(Object(Uj.j)(t))t(CA(IT.clear()));else{if(!t)return;IT.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(IT)};function PT(e,t,n){return e===t||("path"===n?BT(e,t):e instanceof Date&&t instanceof Date?+e===+t:Object(Uj.l)(e)&&Object(Uj.l)(t)?Math.abs(e-t)<=1e-9:e&&t&&(Object(Uj.m)(e)||Object(Uj.m)(t))?null!=e&&null!=t&&function(e,t){var n,r,a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(a.sort(),i.sort(),r=a.length-1;r>=0;r--)if(a[r]!=i[r])return!1;for(r=a.length-1;r>=0;r--)if(!PT(e[n=a[r]],t[n],n))return!1;return typeof e===typeof t}(e,t):e==t)}function BT(e,t){return PT(zE(e),zE(t))}function zT(){GC(),Ij=0}var LT="linear",UT="log",WT="pow",VT="sqrt",qT="symlog",HT="time",GT="utc",KT="sequential",$T="diverging",XT="quantile",YT="quantize",JT="threshold",QT="continuous",ZT="discrete",eM="discretizing",tM="interpolating",nM="temporal";function rM(e,t,n){return e.fields=t||[],e.fname=n,e}function aM(e){return 1===e.length?iM(e[0]):oM(e)}var iM=function(e){return function(t){return t[e]}},oM=function(e){var t=e.length;return function(n){for(var r=0;r<t;++r)n=n[e[r]];return n}};function uM(e){throw Error(e)}function sM(e){var t,n,r,a=[],i=e.length,o=null,u=0,s="";function c(){a.push(s+e.substring(t,n)),s="",t=n+1}for(e+="",t=n=0;n<i;++n)if("\\"===(r=e[n]))s+=e.substring(t,n),s+=e.substring(++n,++n),t=n;else if(r===o)c(),o=null,u=-1;else{if(o)continue;t===u&&'"'===r||t===u&&"'"===r?(t=n+1,o=r):"."!==r||u?"["===r?(n>t&&c(),u=t=n+1):"]"===r&&(u||uM("Access path missing open bracket: "+e),u>0&&c(),u=0,t=n+1):n>t?c():t=n+1}return u&&uM("Access path missing closing bracket: "+e),o&&uM("Access path missing closing quote: "+e),n>t&&(n++,c()),a}function cM(e,t,n){var r=sM(e);return e=1===r.length?r[0]:e,rM((n&&n.get||aM)(r),[e],t||e)}cM("id"),rM((function(e){return e}),[],"identity"),rM((function(){return 0}),[],"zero"),rM((function(){return 1}),[],"one"),rM((function(){return!0}),[],"true"),rM((function(){return!1}),[],"false");var lM=Array.isArray;function fM(e){return e[e.length-1]}function dM(e){return null==e||""===e?null:+e}function hM(e){return null!=e?lM(e)?e:[e]:[]}var pM=Object.prototype.hasOwnProperty;function vM(e,t){return pM.call(e,t)}function mM(){var e,t,n=Fu().unknown(void 0),r=n.domain,a=n.range,i=[0,1],o=!1,u=0,s=0,c=.5;function l(){var n=r().length,l=i[1]<i[0],f=i[l-0],d=i[1-l],h=function(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0}(n,u,s);e=(d-f)/(h||1),o&&(e=Math.floor(e)),f+=(d-f-e*(n-u))*c,t=e*(1-u),o&&(f=Math.round(f),t=Math.round(t));var p=Oa(n).map((function(t){return f+e*t}));return a(l?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),l()):r()},n.range=function(e){return arguments.length?(i=[+e[0],+e[1]],l()):i.slice()},n.rangeRound=function(e){return i=[+e[0],+e[1]],o=!0,l()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,l()):o},n.padding=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),u=s,l()):u},n.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),l()):u},n.paddingOuter=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),l()):s},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),l()):c},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,o,u,s=+e[0],c=+e[1],l=i[1]<i[0],f=l?a().reverse():a(),d=f.length-1;if(s===s&&c===c&&(c<s&&(u=s,s=c,c=u),!(c<f[0]||s>i[1-l])))return n=Math.max(0,Eu(f,s)-1),o=s===c?n:Eu(f,c)-1,s-f[n]>t+1e-10&&++n,l&&(u=n,n=d-o,o=d-u),n>o?void 0:r().slice(n,o+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return mM().domain(r()).range(i).round(o).paddingInner(u).paddingOuter(s).align(c)},l()}function gM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return gM(t())},e}var bM=Array.prototype.map;function yM(e){return bM.call(e,dM)}var xM=Array.prototype.slice;var _M={};function wM(e,t,n){var r=function(){var n=t();return n.invertRange||(n.invertRange=n.invert?function(e){return function(t){var n,r=t[0],a=t[1];return a<r&&(n=r,r=a,a=n),[e.invert(r),e.invert(a)]}}(n):n.invertExtent?function(e){return function(t){var n,r,a,i,o=e.range(),u=t[0],s=t[1],c=-1;for(s<u&&(r=u,u=s,s=r),a=0,i=o.length;a<i;++a)o[a]>=u&&o[a]<=s&&(c<0&&(c=a),n=a);if(!(c<0))return u=e.invertExtent(o[c]),s=e.invertExtent(o[n]),[void 0===u[0]?u[1]:u[0],void 0===s[1]?s[0]:s[1]]}}(n):void 0),n.type=e,n};return r.metadata=function(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return t}(hM(n)),r}function OM(e,t,n){return arguments.length>1?(_M[e]=wM(e,t,n),this):kM(e)?_M[e]:void 0}function kM(e){return vM(_M,e)}function jM(e,t){for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}OM("identity",Zs),OM(LT,Qs,QT),OM(UT,sc,[QT,UT]),OM(WT,hc,QT),OM(VT,pc,QT),OM(qT,bc,QT),OM(HT,Pc,[QT,nM]),OM(GT,qc,[QT,nM]),OM(KT,Kc,[QT,tM]),OM("".concat(KT,"-").concat(LT),Kc,[QT,tM]),OM("".concat(KT,"-").concat(UT),$c,[QT,tM,UT]),OM("".concat(KT,"-").concat(WT),Yc,[QT,tM]),OM("".concat(KT,"-").concat(VT),Jc,[QT,tM]),OM("".concat(KT,"-").concat(qT),Xc,[QT,tM]),OM("".concat($T,"-").concat(LT),el,[QT,tM]),OM("".concat($T,"-").concat(UT),tl,[QT,tM,UT]),OM("".concat($T,"-").concat(WT),rl,[QT,tM]),OM("".concat($T,"-").concat(VT),al,[QT,tM]),OM("".concat($T,"-").concat(qT),nl,[QT,tM]),OM(XT,il,[eM,XT]),OM(YT,ol,eM),OM(JT,ul,eM),OM("bin-ordinal",(function e(){var t=[],n=[];function r(e){return null==e||e!==e?void 0:n[(Au(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=yM(e),r):t.slice()},r.range=function(e){return arguments.length?(n=xM.call(e),r):n.slice()},r.tickFormat=function(e,n){return zu(t[0],fM(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),[ZT,eM]),OM("ordinal",Fu,ZT),OM("band",mM,ZT),OM("point",(function(){return gM(mM().paddingInner(1))}),ZT);var EM=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function CM(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function AM(){}var SM=.7,DM=1/SM,NM="\\s*([+-]?\\d+)\\s*",FM="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",TM="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MM=/^#([0-9a-f]{3,8})$/,IM=new RegExp("^rgb\\("+[NM,NM,NM]+"\\)$"),RM=new RegExp("^rgb\\("+[TM,TM,TM]+"\\)$"),PM=new RegExp("^rgba\\("+[NM,NM,NM,FM]+"\\)$"),BM=new RegExp("^rgba\\("+[TM,TM,TM,FM]+"\\)$"),zM=new RegExp("^hsl\\("+[FM,TM,TM]+"\\)$"),LM=new RegExp("^hsla\\("+[FM,TM,TM,FM]+"\\)$"),UM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function WM(){return this.rgb().formatHex()}function VM(){return this.rgb().formatRgb()}function qM(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=MM.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?HM(t):3===n?new XM(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?GM(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?GM(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=IM.exec(e))?new XM(t[1],t[2],t[3],1):(t=RM.exec(e))?new XM(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=PM.exec(e))?GM(t[1],t[2],t[3],t[4]):(t=BM.exec(e))?GM(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=zM.exec(e))?ZM(t[1],t[2]/100,t[3]/100,1):(t=LM.exec(e))?ZM(t[1],t[2]/100,t[3]/100,t[4]):UM.hasOwnProperty(e)?HM(UM[e]):"transparent"===e?new XM(NaN,NaN,NaN,0):null}function HM(e){return new XM(e>>16&255,e>>8&255,255&e,1)}function GM(e,t,n,r){return r<=0&&(e=t=n=NaN),new XM(e,t,n,r)}function KM(e){return e instanceof AM||(e=qM(e)),e?new XM((e=e.rgb()).r,e.g,e.b,e.opacity):new XM}function $M(e,t,n,r){return 1===arguments.length?KM(e):new XM(e,t,n,null==r?1:r)}function XM(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function YM(){return"#"+QM(this.r)+QM(this.g)+QM(this.b)}function JM(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function QM(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function ZM(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new nI(e,t,n,r)}function eI(e){if(e instanceof nI)return new nI(e.h,e.s,e.l,e.opacity);if(e instanceof AM||(e=qM(e)),!e)return new nI;if(e instanceof nI)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,u=i-a,s=(i+a)/2;return u?(o=t===i?(n-r)/u+6*(n<r):n===i?(r-t)/u+2:(t-n)/u+4,u/=s<.5?i+a:2-i-a,o*=60):u=s>0&&s<1?0:o,new nI(o,u,s,e.opacity)}function tI(e,t,n,r){return 1===arguments.length?eI(e):new nI(e,t,n,null==r?1:r)}function nI(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function rI(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function aI(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}EM(AM,qM,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:WM,formatHex:WM,formatHsl:function(){return eI(this).formatHsl()},formatRgb:VM,toString:VM}),EM(XM,$M,CM(AM,{brighter:function(e){return e=null==e?DM:Math.pow(DM,e),new XM(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?SM:Math.pow(SM,e),new XM(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YM,formatHex:YM,formatRgb:JM,toString:JM})),EM(nI,tI,CM(AM,{brighter:function(e){return e=null==e?DM:Math.pow(DM,e),new nI(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?SM:Math.pow(SM,e),new nI(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new XM(rI(e>=240?e-240:e+120,a,r),rI(e,a,r),rI(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var iI=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,u=r<t-1?e[r+2]:2*i-a;return aI((n-r/t)*t,o,a,i,u)}},oI=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],u=e[(r+2)%t];return aI((n-r/t)*t,a,i,o,u)}},uI=function(e){return function(){return e}};function sI(e,t){return function(n){return e+n*t}}function cI(e,t){var n=t-e;return n?sI(e,n>180||n<-180?n-360*Math.round(n/360):n):uI(isNaN(e)?t:e)}function lI(e){return 1===(e=+e)?fI:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):uI(isNaN(t)?n:t)}}function fI(e,t){var n=t-e;return n?sI(e,n):uI(isNaN(e)?t:e)}var dI=function e(t){var n=lI(t);function r(e,t){var r=n((e=$M(e)).r,(t=$M(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),o=fI(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function hI(e){return function(t){var n,r,a=t.length,i=new Array(a),o=new Array(a),u=new Array(a);for(n=0;n<a;++n)r=$M(t[n]),i[n]=r.r||0,o[n]=r.g||0,u[n]=r.b||0;return i=e(i),o=e(o),u=e(u),r.opacity=1,function(e){return r.r=i(e),r.g=o(e),r.b=u(e),r+""}}}var pI=hI(iI),vI=hI(oI),mI=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}};function gI(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var bI=function(e,t){return(gI(t)?mI:yI)(e,t)};function yI(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=DI(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=i[n](e);return o}}var xI=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}},_I=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},wI=function(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=DI(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}},OI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kI=new RegExp(OI.source,"g");var jI,EI,CI,AI,SI=function(e,t){var n,r,a,i=OI.lastIndex=kI.lastIndex=0,o=-1,u=[],s=[];for(e+="",t+="";(n=OI.exec(e))&&(r=kI.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),u[o]?u[o]+=a:u[++o]=a),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:_I(n,r)})),i=kI.lastIndex;return i<t.length&&(a=t.slice(i),u[o]?u[o]+=a:u[++o]=a),u.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)u[(n=s[r]).i]=n.x(e);return u.join("")})},DI=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?uI(t):("number"===r?_I:"string"===r?(n=qM(t))?(t=n,dI):SI:t instanceof qM?dI:t instanceof Date?xI:gI(t)?mI:Array.isArray(t)?yI:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?wI:_I)(e,t)},NI=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},FI=function(e,t){var n=cI(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},TI=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}},MI=180/Math.PI,II={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},RI=function(e,t,n,r,a,i){var o,u,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*MI,skewX:Math.atan(s)*MI,scaleX:o,scaleY:u}};function PI(e,t,n,r){function a(e){return e.length?e.pop()+" ":""}return function(i,o){var u=[],s=[];return i=e(i),o=e(o),function(e,r,a,i,o,u){if(e!==a||r!==i){var s=o.push("translate(",null,t,null,n);u.push({i:s-4,x:_I(e,a)},{i:s-2,x:_I(r,i)})}else(a||i)&&o.push("translate("+a+t+i+n)}(i.translateX,i.translateY,o.translateX,o.translateY,u,s),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(a(n)+"rotate(",null,r)-2,x:_I(e,t)})):t&&n.push(a(n)+"rotate("+t+r)}(i.rotate,o.rotate,u,s),function(e,t,n,i){e!==t?i.push({i:n.push(a(n)+"skewX(",null,r)-2,x:_I(e,t)}):t&&n.push(a(n)+"skewX("+t+r)}(i.skewX,o.skewX,u,s),function(e,t,n,r,i,o){if(e!==n||t!==r){var u=i.push(a(i)+"scale(",null,",",null,")");o.push({i:u-4,x:_I(e,n)},{i:u-2,x:_I(t,r)})}else 1===n&&1===r||i.push(a(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,u,s),i=o=null,function(e){for(var t,n=-1,r=s.length;++n<r;)u[(t=s[n]).i]=t.x(e);return u.join("")}}}var BI=PI((function(e){return"none"===e?II:(jI||(jI=document.createElement("DIV"),EI=document.documentElement,CI=document.defaultView),jI.style.transform=e,e=CI.getComputedStyle(EI.appendChild(jI),null).getPropertyValue("transform"),EI.removeChild(jI),e=e.slice(7,-1).split(","),RI(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),zI=PI((function(e){return null==e?II:(AI||(AI=document.createElementNS("http://www.w3.org/2000/svg","g")),AI.setAttribute("transform",e),(e=AI.transform.baseVal.consolidate())?(e=e.matrix,RI(e.a,e.b,e.c,e.d,e.e,e.f)):II)}),", ",")",")"),LI=Math.SQRT2;function UI(e){return((e=Math.exp(e))+1/e)/2}var WI=function(e,t){var n,r,a=e[0],i=e[1],o=e[2],u=t[0],s=t[1],c=t[2],l=u-a,f=s-i,d=l*l+f*f;if(d<1e-12)r=Math.log(c/o)/LI,n=function(e){return[a+e*l,i+e*f,o*Math.exp(LI*e*r)]};else{var h=Math.sqrt(d),p=(c*c-o*o+4*d)/(2*o*2*h),v=(c*c-o*o-4*d)/(2*c*2*h),m=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(v*v+1)-v);r=(g-m)/LI,n=function(e){var t,n=e*r,u=UI(m),s=o/(2*h)*(u*(t=LI*n+m,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(m));return[a+s*l,i+s*f,o*u/UI(LI*n+m)]}}return n.duration=1e3*r,n};function VI(e){return function(t,n){var r=e((t=tI(t)).h,(n=tI(n)).h),a=fI(t.s,n.s),i=fI(t.l,n.l),o=fI(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=a(e),t.l=i(e),t.opacity=o(e),t+""}}}var qI=VI(cI),HI=VI(fI),GI=Math.PI/180,KI=180/Math.PI,$I=.96422,XI=.82521,YI=4/29,JI=6/29,QI=.12841854934601665;function ZI(e){if(e instanceof tR)return new tR(e.l,e.a,e.b,e.opacity);if(e instanceof sR)return cR(e);e instanceof XM||(e=KM(e));var t,n,r=iR(e.r),a=iR(e.g),i=iR(e.b),o=nR((.2225045*r+.7168786*a+.0606169*i)/1);return r===a&&a===i?t=n=o:(t=nR((.4360747*r+.3850649*a+.1430804*i)/$I),n=nR((.0139322*r+.0971045*a+.7141733*i)/XI)),new tR(116*o-16,500*(t-o),200*(o-n),e.opacity)}function eR(e,t,n,r){return 1===arguments.length?ZI(e):new tR(e,t,n,null==r?1:r)}function tR(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function nR(e){return e>.008856451679035631?Math.pow(e,1/3):e/QI+YI}function rR(e){return e>JI?e*e*e:QI*(e-YI)}function aR(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function iR(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function oR(e){if(e instanceof sR)return new sR(e.h,e.c,e.l,e.opacity);if(e instanceof tR||(e=ZI(e)),0===e.a&&0===e.b)return new sR(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*KI;return new sR(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function uR(e,t,n,r){return 1===arguments.length?oR(e):new sR(e,t,n,null==r?1:r)}function sR(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function cR(e){if(isNaN(e.h))return new tR(e.l,0,0,e.opacity);var t=e.h*GI;return new tR(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function lR(e,t){var n=fI((e=eR(e)).l,(t=eR(t)).l),r=fI(e.a,t.a),a=fI(e.b,t.b),i=fI(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=a(t),e.opacity=i(t),e+""}}function fR(e){return function(t,n){var r=e((t=uR(t)).h,(n=uR(n)).h),a=fI(t.c,n.c),i=fI(t.l,n.l),o=fI(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=a(e),t.l=i(e),t.opacity=o(e),t+""}}}EM(tR,eR,CM(AM,{brighter:function(e){return new tR(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new tR(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new XM(aR(3.1338561*(t=$I*rR(t))-1.6168667*(e=1*rR(e))-.4906146*(n=XI*rR(n))),aR(-.9787684*t+1.9161415*e+.033454*n),aR(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),EM(sR,uR,CM(AM,{brighter:function(e){return new sR(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new sR(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return cR(this).rgb()}}));var dR=fR(cI),hR=fR(fI),pR=-.14861,vR=1.78277,mR=-.29227,gR=-.90649,bR=1.97294,yR=-1.7884503806,xR=3.5172982438,_R=-.6557636667999999;function wR(e){if(e instanceof kR)return new kR(e.h,e.s,e.l,e.opacity);e instanceof XM||(e=KM(e));var t=e.r/255,n=e.g/255,r=e.b/255,a=(_R*r+yR*t-xR*n)/-5.9615122912,i=r-a,o=(bR*(n-a)-mR*i)/gR,u=Math.sqrt(o*o+i*i)/(bR*a*(1-a)),s=u?Math.atan2(o,i)*KI-120:NaN;return new kR(s<0?s+360:s,u,a,e.opacity)}function OR(e,t,n,r){return 1===arguments.length?wR(e):new kR(e,t,n,null==r?1:r)}function kR(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function jR(e){return function t(n){function r(t,r){var a=e((t=OR(t)).h,(r=OR(r)).h),i=fI(t.s,r.s),o=fI(t.l,r.l),u=fI(t.opacity,r.opacity);return function(e){return t.h=a(e),t.s=i(e),t.l=o(Math.pow(e,n)),t.opacity=u(e),t+""}}return n=+n,r.gamma=t,r}(1)}EM(kR,OR,CM(AM,{brighter:function(e){return e=null==e?DM:Math.pow(DM,e),new kR(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?SM:Math.pow(SM,e),new kR(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*GI,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new XM(255*(t+n*(pR*r+vR*a)),255*(t+n*(mR*r+gR*a)),255*(t+n*(bR*r)),this.opacity)}}));var ER=jR(cI),CR=jR(fI),AR=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n};function SR(e,t){var n=t[0],r=fM(t)-n;return function(t){return e(n+t*r)}}function DR(e,t,n){return jM(FR(t||"rgb",n),e)}function NR(e,t){for(var n=new Array(t),r=t+1,a=0;a<t;)n[a]=e(++a/r);return n}function FR(e,t){var n=g[function(e){return"interpolate"+e.toLowerCase().split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function TR(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function MR(e,t){for(var n in e)RR(n,t(e[n]))}var IR={};function RR(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(IR[e]=t,this):IR[e]}MR({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},TR),MR({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(function(e){return DR(TR(e))}));var PR,BR;PR={},Object(Zi.a)(PR,XT,"quantiles"),Object(Zi.a)(PR,YT,"thresholds"),Object(Zi.a)(PR,JT,"domain"),BR={},Object(Zi.a)(BR,XT,"quantiles"),Object(Zi.a)(BR,YT,"domain");function zR(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}var LR="default";function UR(e,t){var n=e.globalCursor()?"undefined"!==typeof document&&document.body:e.container();if(n)return null==t?n.style.removeProperty("cursor"):n.style.cursor=t}function WR(e,t){var n=e._runtime.data;return Object(Lt.s)(n,t)||Object(Lt.k)("Unrecognized data set: "+t),n[t]}function VR(e,t){Tn(t)||Object(Lt.k)("Second argument to changes must be a changeset.");var n=WR(this,e);return n.modified=!0,this.pulse(n.input,t)}function qR(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function HR(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function GR(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function KR(e){var t=GR(e),n=qR(e),r=HR(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach((function(t){try{t(n,r)}catch(a){e.error(a)}}))}var $R=function(e,t,n){var r,a,i=e._renderer,o=i&&i.canvas();return o&&(a=GR(e),(r=xv(t.changedTouches?t.changedTouches[0]:t,o))[0]-=a[0],r[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){var r=t?"group"===t.mark.marktype?t:t.mark.group:null;function a(e){var n,a=r;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){a=n;break}return a&&a.mark&&a.mark.interactive?a:{}}function i(e){if(!e)return n;Object(Lt.F)(e)&&(e=a(e));for(var t=n.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:Object(Lt.i)(e),item:Object(Lt.i)(t||{}),group:a,xy:i,x:function(e){return i(e)[0]},y:function(e){return i(e)[1]}}}(e,n,r),t};var XR="view",YR={trap:!1};function JR(e,t,n){var r=e._eventConfig&&e._eventConfig[t];return!(!1===r||Object(Lt.D)(r)&&!r[n])||(e.warn("Blocked ".concat(t," ").concat(n," event listener.")),!1)}function QR(e){return e.item}function ZR(e){return e.item.mark.source}function eP(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}var tP=function(e,t,n){var r=document.createElement(e);for(var a in t)r.setAttribute(a,t[a]);return null!=n&&(r.textContent=n),r},nP="vega-bind",rP="vega-bind-name",aP=function(e,t,n){if(t){var r=n.param,a=n.state;return a||(a=n.state={elements:null,active:!1,set:null,update:function(t){t!==e.signal(r.signal)&&e.runAsync(null,(function(){a.source=!0,e.signal(r.signal,t)}))}},r.debounce&&(a.update=Object(Lt.j)(r.debounce,a.update))),function(e,t,n,r){var a=tP("div",{class:nP}),i="radio"===n.input?a:a.appendChild(tP("label"));i.appendChild(tP("span",{class:rP},n.name||n.signal)),t.appendChild(a);var o=iP;switch(n.input){case"checkbox":o=oP;break;case"select":o=uP;break;case"radio":o=sP;break;case"range":o=cP}o(e,i,n,r)}(a,t,r,e.signal(r.signal)),a.active||(e.on(e._signals[r.signal],null,(function(){a.source?a.source=!1:a.set(e.signal(r.signal))})),a.active=!0),a}};function iP(e,t,n,r){var a=tP("input");for(var i in n)"signal"!==i&&"element"!==i&&a.setAttribute("input"===i?"type":i,n[i]);a.setAttribute("name",n.signal),a.value=r,t.appendChild(a),a.addEventListener("input",(function(){return e.update(a.value)})),e.elements=[a],e.set=function(e){return a.value=e}}function oP(e,t,n,r){var a={type:"checkbox",name:n.signal};r&&(a.checked=!0);var i=tP("input",a);t.appendChild(i),i.addEventListener("change",(function(){return e.update(i.checked)})),e.elements=[i],e.set=function(e){return i.checked=!!e||null}}function uP(e,t,n,r){var a=tP("select",{name:n.signal}),i=n.labels||[];n.options.forEach((function(e,t){var n={value:e};lP(e,r)&&(n.selected=!0),a.appendChild(tP("option",n,(i[t]||e)+""))})),t.appendChild(a),a.addEventListener("change",(function(){e.update(n.options[a.selectedIndex])})),e.elements=[a],e.set=function(e){for(var t=0,r=n.options.length;t<r;++t)if(lP(n.options[t],e))return void(a.selectedIndex=t)}}function sP(e,t,n,r){var a=tP("span",{class:"vega-bind-radio"}),i=n.labels||[];t.appendChild(a),e.elements=n.options.map((function(t,o){var u={type:"radio",name:n.signal,value:t};lP(t,r)&&(u.checked=!0);var s=tP("input",u);s.addEventListener("change",(function(){return e.update(t)}));var c=tP("label",{},(i[o]||t)+"");return c.prepend(s),a.appendChild(c),s})),e.set=function(t){for(var n=e.elements,r=n.length,a=0;a<r;++a)lP(n[a].value,t)&&(n[a].checked=!0)}}function cP(e,t,n,r){r=void 0!==r?r:(+n.max+ +n.min)/2;var a=null!=n.max?n.max:Math.max(100,+r)||100,i=n.min||Math.min(0,a,+r)||0,o=n.step||Object(Tu.c)(i,a,100),u=tP("input",{type:"range",name:n.signal,min:i,max:a,step:o});u.value=r;var s=tP("span",{},+r);t.appendChild(u),t.appendChild(s);var c=function(){s.textContent=u.value,e.update(+u.value)};u.addEventListener("input",c),u.addEventListener("change",c),e.elements=[u],e.set=function(e){u.value=e,s.textContent=e}}function lP(e,t){return e===t||e+""===t+""}var fP=function(e,t,n,r,a,i){return(t=t||new r(e.loader())).initialize(n,qR(e),HR(e),GR(e),a,i).background(e.background())},dP=function(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null};function hP(e,t){if("string"===typeof t){if("undefined"===typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t)try{t.innerHTML=""}catch(n){t=null,e.error(n)}return t}var pP=function(e){return+e||0},vP=function(e){return Object(Lt.D)(e)?{top:pP(e.top),bottom:pP(e.bottom),left:pP(e.left),right:pP(e.right)}:function(e){return{top:e,bottom:e,left:e,right:e}}(pP(e))},mP=function(e,t,n,r){return gP.apply(this,arguments)};function gP(){return(gP=Object(zt.a)(k.a.mark((function e(t,n,r,a){var i,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pm(n),(o=i&&i.headless)||Object(Lt.k)("Unrecognized renderer type: "+n),e.next=4,t.runAsync();case 4:return e.abrupt("return",fP(t,null,null,o,r,a).renderAsync(t._scenegraph.root));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bP(){return(bP=Object(zt.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t!==Tm&&t!==Im&&t!==Mm&&Object(Lt.k)("Unrecognized image type: "+t),e.next=3,mP(this,t,n);case 3:return r=e.sent,e.abrupt("return",t===Im?yP(r.svg(),"image/svg+xml"):r.canvas().toDataURL("image/png"));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function yP(e,t){var n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}function xP(){return(xP=Object(zt.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mP(this,Tm,t,n);case 2:return r=e.sent,e.abrupt("return",r.canvas());case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function _P(){return(_P=Object(zt.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mP(this,Im,t);case 2:return n=e.sent,e.abrupt("return",n.svg());case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var wP,OP,kP,jP,EP,CP="RawCode",AP="Literal",SP="Property",DP="Identifier",NP="ArrayExpression",FP="BinaryExpression",TP="CallExpression",MP="ConditionalExpression",IP="LogicalExpression",RP="MemberExpression",PP="ObjectExpression",BP="UnaryExpression";function zP(e){this.type=e}zP.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case NP:return e.elements;case FP:case IP:return[e.left,e.right];case TP:return[e.callee].concat(e.arguments);case MP:return[e.test,e.consequent,e.alternate];case RP:return[e.object,e.property];case PP:return e.properties;case SP:return[e.key,e.value];case BP:return[e.argument];case DP:case AP:case CP:default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1};(wP={})[1]="Boolean",wP[2]="<end>",wP[3]="Identifier",wP[4]="Keyword",wP[5]="Null",wP[6]="Numeric",wP[7]="Punctuator",wP[8]="String",wP[9]="RegularExpression";var LP="Identifier",UP="Unexpected token %0",WP="Invalid regular expression",VP="Invalid regular expression: missing /",qP="Octal literals are not allowed in strict mode.",HP="ILLEGAL",GP="Disabled.",KP=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),$P=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function XP(e,t){if(!e)throw new Error("ASSERT: "+t)}function YP(e){return e>=48&&e<=57}function JP(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function QP(e){return"01234567".indexOf(e)>=0}function ZP(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function eB(e){return 10===e||13===e||8232===e||8233===e}function tB(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&KP.test(String.fromCharCode(e))}function nB(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&$P.test(String.fromCharCode(e))}var rB={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function aB(){for(;kP<jP;){var e=OP.charCodeAt(kP);if(!ZP(e)&&!eB(e))break;++kP}}function iB(e){var t,n,r,a=0;for(n="u"===e?4:2,t=0;t<n;++t)kP<jP&&JP(OP[kP])?(r=OP[kP++],a=16*a+"0123456789abcdef".indexOf(r.toLowerCase())):_B({},UP,HP);return String.fromCharCode(a)}function oB(){var e,t,n,r;for(t=0,"}"===(e=OP[kP])&&_B({},UP,HP);kP<jP&&JP(e=OP[kP++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&_B({},UP,HP),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function uB(){var e,t;for(e=OP.charCodeAt(kP++),t=String.fromCharCode(e),92===e&&(117!==OP.charCodeAt(kP)&&_B({},UP,HP),++kP,(e=iB("u"))&&"\\"!==e&&tB(e.charCodeAt(0))||_B({},UP,HP),t=e);kP<jP&&nB(e=OP.charCodeAt(kP));)++kP,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==OP.charCodeAt(kP)&&_B({},UP,HP),++kP,(e=iB("u"))&&"\\"!==e&&nB(e.charCodeAt(0))||_B({},UP,HP),t+=e);return t}function sB(){var e,t;return e=kP,{type:1===(t=92===OP.charCodeAt(kP)?uB():function(){var e,t;for(e=kP++;kP<jP;){if(92===(t=OP.charCodeAt(kP)))return kP=e,uB();if(!nB(t))break;++kP}return OP.slice(e,kP)}()).length?3:rB.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:kP}}function cB(){var e,t,n,r,a=kP,i=OP.charCodeAt(kP),o=OP[kP];switch(i){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++kP,{type:7,value:String.fromCharCode(i),start:a,end:kP};default:if(61===(e=OP.charCodeAt(kP+1)))switch(i){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return kP+=2,{type:7,value:String.fromCharCode(i)+String.fromCharCode(e),start:a,end:kP};case 33:case 61:return kP+=2,61===OP.charCodeAt(kP)&&++kP,{type:7,value:OP.slice(a,kP),start:a,end:kP}}}return">>>="===(r=OP.substr(kP,4))?{type:7,value:r,start:a,end:kP+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:a,end:kP+=3}:o===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(o)>=0||"=>"===t?{type:7,value:t,start:a,end:kP+=2}:("//"===t&&_B({},UP,HP),"<>=!+-*%&|^/".indexOf(o)>=0?{type:7,value:o,start:a,end:++kP}:void _B({},UP,HP))}function lB(){var e,t,n;if(XP(YP((n=OP[kP]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=kP,e="","."!==n){if(e=OP[kP++],n=OP[kP],"0"===e){if("x"===n||"X"===n)return++kP,function(e){for(var t="";kP<jP&&JP(OP[kP]);)t+=OP[kP++];return 0===t.length&&_B({},UP,HP),tB(OP.charCodeAt(kP))&&_B({},UP,HP),{type:6,value:parseInt("0x"+t,16),start:e,end:kP}}(t);if(QP(n))return function(e){for(var t="0"+OP[kP++];kP<jP&&QP(OP[kP]);)t+=OP[kP++];return(tB(OP.charCodeAt(kP))||YP(OP.charCodeAt(kP)))&&_B({},UP,HP),{type:6,value:parseInt(t,8),octal:!0,start:e,end:kP}}(t);n&&YP(n.charCodeAt(0))&&_B({},UP,HP)}for(;YP(OP.charCodeAt(kP));)e+=OP[kP++];n=OP[kP]}if("."===n){for(e+=OP[kP++];YP(OP.charCodeAt(kP));)e+=OP[kP++];n=OP[kP]}if("e"===n||"E"===n)if(e+=OP[kP++],"+"!==(n=OP[kP])&&"-"!==n||(e+=OP[kP++]),YP(OP.charCodeAt(kP)))for(;YP(OP.charCodeAt(kP));)e+=OP[kP++];else _B({},UP,HP);return tB(OP.charCodeAt(kP))&&_B({},UP,HP),{type:6,value:parseFloat(e),start:t,end:kP}}function fB(){var e,t,n,r;return EP=null,aB(),e=kP,t=function(){var e,t,n,r;for(XP("/"===(e=OP[kP]),"Regular expression literal must start with a slash"),t=OP[kP++],n=!1,r=!1;kP<jP;)if(t+=e=OP[kP++],"\\"===e)eB((e=OP[kP++]).charCodeAt(0))&&_B({},VP),t+=e;else if(eB(e.charCodeAt(0)))_B({},VP);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||_B({},VP),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";kP<jP&&nB((e=OP[kP]).charCodeAt(0));)++kP,"\\"===e&&kP<jP?_B({},UP,HP):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&_B({},WP,n),{value:n,literal:t}}(),r=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";_B({},WP)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(r){_B({},WP)}try{return new RegExp(e,t)}catch(a){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:kP}}function dB(){if(aB(),kP>=jP)return{type:2,start:kP,end:kP};var e=OP.charCodeAt(kP);return tB(e)?sB():40===e||41===e||59===e?cB():39===e||34===e?function(){var e,t,n,r,a="",i=!1;for(XP("'"===(e=OP[kP])||'"'===e,"String literal must starts with a quote"),t=kP,++kP;kP<jP;){if((n=OP[kP++])===e){e="";break}if("\\"===n)if((n=OP[kP++])&&eB(n.charCodeAt(0)))"\r"===n&&"\n"===OP[kP]&&++kP;else switch(n){case"u":case"x":"{"===OP[kP]?(++kP,a+=oB()):a+=iB(n);break;case"n":a+="\n";break;case"r":a+="\r";break;case"t":a+="\t";break;case"b":a+="\b";break;case"f":a+="\f";break;case"v":a+="\v";break;default:QP(n)?(0!==(r="01234567".indexOf(n))&&(i=!0),kP<jP&&QP(OP[kP])&&(i=!0,r=8*r+"01234567".indexOf(OP[kP++]),"0123".indexOf(n)>=0&&kP<jP&&QP(OP[kP])&&(r=8*r+"01234567".indexOf(OP[kP++]))),a+=String.fromCharCode(r)):a+=n}else{if(eB(n.charCodeAt(0)))break;a+=n}}return""!==e&&_B({},UP,HP),{type:8,value:a,octal:i,start:t,end:kP}}():46===e?YP(OP.charCodeAt(kP+1))?lB():cB():YP(e)?lB():cB()}function hB(){var e=EP;return kP=e.end,EP=dB(),kP=e.end,e}function pB(){var e=kP;EP=dB(),kP=e}function vB(e,t,n){var r=new zP("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function mB(e,t){var n=new zP("CallExpression");return n.callee=e,n.arguments=t,n}function gB(e){var t=new zP(LP);return t.name=e,t}function bB(e){var t=new zP("Literal");return t.value=e.value,t.raw=OP.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function yB(e,t,n){var r=new zP("MemberExpression");return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function xB(e,t,n){var r=new zP("Property");return r.key=t,r.value=n,r.kind=e,r}function _B(e,t){var n,r=Array.prototype.slice.call(arguments,2),a=t.replace(/%(\d)/g,(function(e,t){return XP(t<r.length,"Message reference must be in range"),r[t]}));throw(n=new Error(a)).index=kP,n.description=a,n}function wB(e){2===e.type&&_B(e,"Unexpected end of input"),6===e.type&&_B(e,"Unexpected number"),8===e.type&&_B(e,"Unexpected string"),3===e.type&&_B(e,"Unexpected identifier"),4===e.type&&_B(e,"Unexpected reserved word"),_B(e,UP,e.value)}function OB(e){var t=hB();7===t.type&&t.value===e||wB(t)}function kB(e){return 7===EP.type&&EP.value===e}function jB(e){return 4===EP.type&&EP.value===e}function EB(){var e=[];for(kP=EP.start,OB("[");!kB("]");)kB(",")?(hB(),e.push(null)):(e.push(BB()),kB("]")||OB(","));return hB(),function(e){var t=new zP("ArrayExpression");return t.elements=e,t}(e)}function CB(){kP=EP.start;var e=hB();return 8===e.type||6===e.type?(e.octal&&_B(e,qP),bB(e)):gB(e.value)}function AB(){var e,t,n;return kP=EP.start,3===(e=EP).type?(n=CB(),OB(":"),xB("init",n,BB())):2!==e.type&&7!==e.type?(t=CB(),OB(":"),xB("init",t,BB())):void wB(e)}function SB(){var e,t,n=[],r={},a=String;for(kP=EP.start,OB("{");!kB("}");)t="$"+((e=AB()).key.type===LP?e.key.name:a(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?_B({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,n.push(e),kB("}")||OB(",");return OB("}"),function(e){var t=new zP("ObjectExpression");return t.properties=e,t}(n)}var DB={if:1};function NB(){var e,t,n;if(kB("("))return function(){OB("(");var e=zB();return OB(")"),e}();if(kB("["))return EB();if(kB("{"))return SB();if(e=EP.type,kP=EP.start,3===e||DB[EP.value])n=gB(hB().value);else if(8===e||6===e)EP.octal&&_B(EP,qP),n=bB(hB());else{if(4===e)throw new Error(GP);1===e?((t=hB()).value="true"===t.value,n=bB(t)):5===e?((t=hB()).value=null,n=bB(t)):kB("/")||kB("/=")?(n=bB(fB()),pB()):wB(hB())}return n}function FB(){var e=[];if(OB("("),!kB(")"))for(;kP<jP&&(e.push(BB()),!kB(")"));)OB(",");return OB(")"),e}function TB(){return OB("."),function(){kP=EP.start;var e=hB();return function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||wB(e),gB(e.value)}()}function MB(){OB("[");var e=zB();return OB("]"),e}function IB(){var e=function(){var e;for(e=NB();;)if(kB("."))e=yB(".",e,TB());else if(kB("("))e=mB(e,FB());else{if(!kB("["))break;e=yB("[",e,MB())}return e}();if(7===EP.type&&(kB("++")||kB("--")))throw new Error(GP);return e}function RB(){var e,t;if(7!==EP.type&&4!==EP.type)t=IB();else{if(kB("++")||kB("--"))throw new Error(GP);if(kB("+")||kB("-")||kB("~")||kB("!"))e=hB(),t=RB(),t=function(e,t){var n=new zP("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(jB("delete")||jB("void")||jB("typeof"))throw new Error(GP);t=IB()}}return t}function PB(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function BB(){var e,t;return e=function(){var e,t,n,r,a,i,o,u,s,c;if(e=EP,s=RB(),0===(a=PB(r=EP)))return s;for(r.prec=a,hB(),t=[e,EP],i=[s,r,o=RB()];(a=PB(EP))>0;){for(;i.length>2&&a<=i[i.length-2].prec;)o=i.pop(),u=i.pop().value,s=i.pop(),t.pop(),n=vB(u,s,o),i.push(n);(r=hB()).prec=a,i.push(r),t.push(EP),n=RB(),i.push(n)}for(n=i[c=i.length-1],t.pop();c>1;)t.pop(),n=vB(i[c-1].value,i[c-2],n),c-=2;return n}(),kB("?")&&(hB(),t=BB(),OB(":"),e=function(e,t,n){var r=new zP("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,BB())),e}function zB(){var e=BB();if(kB(","))throw new Error(GP);return e}var LB={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function UB(e){function t(t,n,r){return function(a){return function(t,n,r,a){var i=e(n[0]);return r&&(i=r+"("+i+")",0===r.lastIndexOf("new ",0)&&(i="("+i+")")),i+"."+t+(a<0?"":0===a?"()":"("+n.slice(1).map(e).join(",")+")")}(t,a,n,r)}}var n="new Date",r="String",a="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&Object(Lt.k)("Missing arguments to clamp function."),t.length>3&&Object(Lt.k)("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase",r,0),lower:t("toLowerCase",r,0),substring:t("substring",r),split:t("split",r),trim:t("trim",r,0),regexp:a,test:t("test",a),if:function(t){t.length<3&&Object(Lt.k)("Missing arguments to if function."),t.length>3&&Object(Lt.k)("Too many arguments to if function.");var n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}var WB,VB,qB,HB,GB,KB=new Bb,$B=new Bb,XB={point:sy,lineStart:sy,lineEnd:sy,polygonStart:function(){KB=new Bb,XB.lineStart=YB,XB.lineEnd=JB},polygonEnd:function(){var e=+KB;$B.add(e<0?qb+e:e),this.lineStart=this.lineEnd=this.point=sy},sphere:function(){$B.add(qb)}};function YB(){XB.point=QB}function JB(){ZB(WB,VB)}function QB(e,t){XB.point=ZB,WB=e,VB=t,qB=e*=Gb,HB=Yb(t=(t*=Gb)/2+Vb),GB=ny(t)}function ZB(e,t){var n=(e*=Gb)-qB,r=n>=0?1:-1,a=r*n,i=Yb(t=(t*=Gb)/2+Vb),o=ny(t),u=GB*o,s=HB*i+u*Yb(a),c=u*r*ny(a);KB.add(Xb(c,s)),qB=e,HB=i,GB=o}var ez,tz,nz,rz,az,iz,oz,uz,sz,cz,lz,fz=function(e){return $B=new Bb,Ib(e,XB),2*$B},dz={point:hz,lineStart:vz,lineEnd:mz,polygonStart:function(){dz.point=gz,dz.lineStart=bz,dz.lineEnd=yz,sz=new Bb,XB.polygonStart()},polygonEnd:function(){XB.polygonEnd(),dz.point=hz,dz.lineStart=vz,dz.lineEnd=mz,KB<0?(ez=-(nz=180),tz=-(rz=90)):sz>zb?rz=90:sz<-1e-6&&(tz=-90),lz[0]=ez,lz[1]=nz},sphere:function(){ez=-(nz=180),tz=-(rz=90)}};function hz(e,t){cz.push(lz=[ez=e,nz=e]),t<tz&&(tz=t),t>rz&&(rz=t)}function pz(e,t){var n=mx([e*Gb,t*Gb]);if(uz){var r=bx(uz,n),a=bx([r[1],-r[0],0],r);_x(a),a=vx(a);var i,o=e-az,u=o>0?1:-1,s=a[0]*Hb*u,c=Kb(o)>180;c^(u*az<s&&s<u*e)?(i=a[1]*Hb)>rz&&(rz=i):c^(u*az<(s=(s+360)%360-180)&&s<u*e)?(i=-a[1]*Hb)<tz&&(tz=i):(t<tz&&(tz=t),t>rz&&(rz=t)),c?e<az?xz(ez,e)>xz(ez,nz)&&(nz=e):xz(e,nz)>xz(ez,nz)&&(ez=e):nz>=ez?(e<ez&&(ez=e),e>nz&&(nz=e)):e>az?xz(ez,e)>xz(ez,nz)&&(nz=e):xz(e,nz)>xz(ez,nz)&&(ez=e)}else cz.push(lz=[ez=e,nz=e]);t<tz&&(tz=t),t>rz&&(rz=t),uz=n,az=e}function vz(){dz.point=pz}function mz(){lz[0]=ez,lz[1]=nz,dz.point=hz,uz=null}function gz(e,t){if(uz){var n=e-az;sz.add(Kb(n)>180?n+(n>0?360:-360):n)}else iz=e,oz=t;XB.point(e,t),pz(e,t)}function bz(){XB.lineStart()}function yz(){gz(iz,oz),XB.lineEnd(),Kb(sz)>zb&&(ez=-(nz=180)),lz[0]=ez,lz[1]=nz,uz=null}function xz(e,t){return(t-=e)<0?t+360:t}function _z(e,t){return e[0]-t[0]}function wz(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var Oz,kz,jz,Ez,Cz,Az,Sz,Dz,Nz,Fz,Tz,Mz,Iz,Rz,Pz,Bz,zz=function(e){var t,n,r,a,i,o,u;if(rz=nz=-(ez=tz=1/0),cz=[],Ib(e,dz),n=cz.length){for(cz.sort(_z),t=1,i=[r=cz[0]];t<n;++t)wz(r,(a=cz[t])[0])||wz(r,a[1])?(xz(r[0],a[1])>xz(r[0],r[1])&&(r[1]=a[1]),xz(a[0],r[1])>xz(r[0],r[1])&&(r[0]=a[0])):i.push(r=a);for(o=-1/0,t=0,r=i[n=i.length-1];t<=n;r=a,++t)a=i[t],(u=xz(r[1],a[0]))>o&&(o=u,ez=a[0],nz=r[1])}return cz=lz=null,ez===1/0||tz===1/0?[[NaN,NaN],[NaN,NaN]]:[[ez,tz],[nz,rz]]},Lz={sphere:sy,point:Uz,lineStart:Vz,lineEnd:Gz,polygonStart:function(){Lz.lineStart=Kz,Lz.lineEnd=$z},polygonEnd:function(){Lz.lineStart=Vz,Lz.lineEnd=Gz}};function Uz(e,t){e*=Gb;var n=Yb(t*=Gb);Wz(n*Yb(e),n*ny(e),ny(t))}function Wz(e,t,n){++Oz,jz+=(e-jz)/Oz,Ez+=(t-Ez)/Oz,Cz+=(n-Cz)/Oz}function Vz(){Lz.point=qz}function qz(e,t){e*=Gb;var n=Yb(t*=Gb);Rz=n*Yb(e),Pz=n*ny(e),Bz=ny(t),Lz.point=Hz,Wz(Rz,Pz,Bz)}function Hz(e,t){e*=Gb;var n=Yb(t*=Gb),r=n*Yb(e),a=n*ny(e),i=ny(t),o=Xb(ay((o=Pz*i-Bz*a)*o+(o=Bz*r-Rz*i)*o+(o=Rz*a-Pz*r)*o),Rz*r+Pz*a+Bz*i);kz+=o,Az+=o*(Rz+(Rz=r)),Sz+=o*(Pz+(Pz=a)),Dz+=o*(Bz+(Bz=i)),Wz(Rz,Pz,Bz)}function Gz(){Lz.point=Uz}function Kz(){Lz.point=Xz}function $z(){Yz(Mz,Iz),Lz.point=Uz}function Xz(e,t){Mz=e,Iz=t,e*=Gb,t*=Gb,Lz.point=Yz;var n=Yb(t);Rz=n*Yb(e),Pz=n*ny(e),Bz=ny(t),Wz(Rz,Pz,Bz)}function Yz(e,t){e*=Gb;var n=Yb(t*=Gb),r=n*Yb(e),a=n*ny(e),i=ny(t),o=Pz*i-Bz*a,u=Bz*r-Rz*i,s=Rz*a-Pz*r,c=Zb(o,u,s),l=uy(c),f=c&&-l/c;Nz.add(f*o),Fz.add(f*u),Tz.add(f*s),kz+=l,Az+=l*(Rz+(Rz=r)),Sz+=l*(Pz+(Pz=a)),Dz+=l*(Bz+(Bz=i)),Wz(Rz,Pz,Bz)}var Jz,Qz=function(e){Oz=kz=jz=Ez=Cz=Az=Sz=Dz=0,Nz=new Bb,Fz=new Bb,Tz=new Bb,Ib(e,Lz);var t=+Nz,n=+Fz,r=+Tz,a=Zb(t,n,r);return a<Lb&&(t=Az,n=Sz,r=Dz,kz<zb&&(t=jz,n=Ez,r=Cz),(a=Zb(t,n,r))<Lb)?[NaN,NaN]:[Xb(n,t)*Hb,uy(r/a)*Hb]},Zz="RawCode",eL="Literal",tL="Property",nL="Identifier",rL="ArrayExpression",aL="BinaryExpression",iL="CallExpression",oL="ConditionalExpression",uL="LogicalExpression",sL="MemberExpression",cL="ObjectExpression",lL="UnaryExpression";function fL(e){this.type=e}fL.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case rL:return e.elements;case aL:case uL:return[e.left,e.right];case iL:return[e.callee].concat(e.arguments);case oL:return[e.test,e.consequent,e.alternate];case sL:return[e.object,e.property];case cL:return e.properties;case tL:return[e.key,e.value];case lL:return[e.argument];case nL:case eL:case Zz:default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1};(Jz={})[1]="Boolean",Jz[2]="<end>",Jz[3]="Identifier",Jz[4]="Keyword",Jz[5]="Null",Jz[6]="Numeric",Jz[7]="Punctuator",Jz[8]="String",Jz[9]="RegularExpression";new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");var dL="intersect",hL="union",pL="index:unit";function vL(e,t){for(var n,r,a=t.fields,i=t.values,o=a.length,u=0;u<o;++u)if((r=a[u]).getter=Lt.q.getter||Object(Lt.q)(r.field),n=r.getter(e),Object(Lt.z)(n)&&(n=Object(Lt.Z)(n)),Object(Lt.z)(i[u])&&(i[u]=Object(Lt.Z)(i[u])),Object(Lt.z)(i[u][0])&&(i[u]=i[u].map(Lt.Z)),"E"===r.type){if(Object(Lt.x)(i[u])?i[u].indexOf(n)<0:n!==i[u])return!1}else if("R"===r.type){if(!Object(Lt.w)(n,i[u]))return!1}else if("R-RE"===r.type){if(!Object(Lt.w)(n,i[u],!0,!1))return!1}else if("R-E"===r.type){if(!Object(Lt.w)(n,i[u],!1,!1))return!1}else if("R-LE"===r.type&&!Object(Lt.w)(n,i[u],!1,!0))return!1;return!0}function mL(e,t,n){for(var r,a,i,o,u,s=this.context.data[e],c=s?s.values.value:[],l=s?s[pL]&&s[pL].value:void 0,f=n===dL,d=c.length,h=0;h<d;++h)if(r=c[h],l&&f){if(-1===(i=(a=a||{})[o=r.unit]||0))continue;if(u=vL(t,r),a[o]=u?-1:++i,u&&1===l.size)return!0;if(!u&&i===l.get(o).count)return!1}else if(f^(u=vL(t,r)))return u;return d&&f}var gL=Object(Lt.q)("_vgsid_"),bL=function(e){var t=e,n=e;function r(e,t,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;n(e[i],t)<0?r=i+1:a=i}return r}return 1===e.length&&(t=function(t,n){return e(t)-n},n=function(e){return function(t,n){return(r=e(t))<(a=n)?-1:r>a?1:r>=a?0:NaN;var r,a}}(e)),{left:r,center:function(e,n,a,i){null==a&&(a=0),null==i&&(i=e.length);var o=r(e,n,a,i-1);return o>a&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;n(e[i],t)>0?a=i:r=i+1}return r}}}(gL),yL=bL.left,xL=bL.right;function _L(e,t,n,r){for(var a,i,o,u,s,c,l,f,d,h,p,v=this.context.data[e],m=v?v.values.value:[],g={},b={},y={},x=m.length,_=0;_<x;++_){for(u=(a=m[_]).unit,i=a.fields,o=a.values,h=0,p=i.length;h<p;++h)s=i[h],l=(c=g[s.field]||(g[s.field]={}))[u]||(c[u]=[]),y[s.field]=f=s.type.charAt(0),d=wL[f+"_union"],c[u]=d(l,Object(Lt.e)(o[h]));n&&(l=b[u]||(b[u]=[])).push(Object(Lt.e)(o).reduce((function(e,t,n){return e[i[n].field]=t,e}),{}))}(t=t||hL,Object.keys(g).forEach((function(e){g[e]=Object.keys(g[e]).map((function(t){return g[e][t]})).reduce((function(n,r){return void 0===n?r:wL[y[e]+"_"+t](n,r)}))})),m=Object.keys(b),n&&m.length)&&(g[r?"vlPoint":"vlMulti"]=t===hL?Object(Zi.a)({},"or",m.reduce((function(e,t){return e.push.apply(e,Object(Qi.a)(b[t])),e}),[])):Object(Zi.a)({},"and",m.map((function(e){return Object(Zi.a)({},"or",b[e])}))));return g}var wL={E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter((function(e){return t.indexOf(e)>=0})):t},R_union:function(e,t){var n=Object(Lt.Z)(t[0]),r=Object(Lt.Z)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Object(Lt.Z)(t[0]),r=Object(Lt.Z)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};function OL(e,t,n,r){t[0].type!==eL&&Object(Lt.k)("First argument to selection functions must be a string literal.");var a=t[0].value,i="unit",o="@unit",u=":"+a;(t.length>=2&&Object(Lt.S)(t).value)!==dL||Object(Lt.s)(r,o)||(r["@unit"]=n.getData(a).indataRef(n,i)),Object(Lt.s)(r,u)||(r[u]=n.getData(a).tuplesRef())}function kL(e){var t=this.context.data[e];return t?t.values.value:[]}var jL=function(e){return function(t,n){return this.context.dataflow.locale()[e](n)(t)}},EL=jL("format"),CL=jL("timeFormat"),AL=jL("utcFormat"),SL=jL("timeParse"),DL=jL("utcParse"),NL=new Date(2e3,0,1);function FL(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(NL.setYear(2e3),NL.setMonth(e),NL.setDate(t),CL.call(this,NL,n)):""}function TL(e,t,n,r){t[0].type!==AP&&Object(Lt.k)("First argument to data functions must be a string literal.");var a=t[0].value,i=":"+a;if(!Object(Lt.s)(i,r))try{r[i]=n.getData(a).tuplesRef()}catch(o){}}function ML(e,t,n,r){if(t[0].type===AP)IL(n,r,t[0].value);else for(e in n.scales)IL(n,r,e)}function IL(e,t,n){var r="%"+n;if(!Object(Lt.s)(t,r))try{t[r]=e.scaleRef(n)}catch(a){}}function RL(e,t){var n;return Object(Lt.A)(e)?e:Object(Lt.F)(e)?(n=t.scales[e])&&n.value:void 0}function PL(e,t,n){t.__bandwidth=function(e){return e&&e.bandwidth?e.bandwidth():0},n._bandwidth=ML,n._range=ML,n._scale=ML;var r=function(t){return"_["+(t.type===AP?Object(Lt.W)("%"+t.value):Object(Lt.W)("%")+"+"+e(t))+"]"};return{_bandwidth:function(e){return"this.__bandwidth(".concat(r(e[0]),")")},_range:function(e){return"".concat(r(e[0]),".range()")},_scale:function(t){return"".concat(r(t[0]),"(").concat(e(t[1]),")")}}}function BL(e,t){return function(n,r,a){if(n){var i=RL(n,(a||this).context);return i&&i.path[e](r)}return t(r)}}var zL=BL("area",fz),LL=BL("bounds",zz),UL=BL("centroid",Qz);function WL(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function VL(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function qL(e){var t=ss(e);return.2126*VL(t.r)+.7152*VL(t.g)+.0722*VL(t.b)}function HL(e,t){return e===t||e!==e&&t!==t||(Object(Lt.x)(e)?!(!Object(Lt.x)(t)||e.length!==t.length)&&function(e,t){for(var n=0,r=e.length;n<r;++n)if(!HL(e[n],t[n]))return!1;return!0}(e,t):!(!Object(Lt.D)(e)||!Object(Lt.D)(t))&&GL(e,t))}function GL(e,t){for(var n in e)if(!HL(e[n],t[n]))return!1;return!0}function KL(e){return function(t){return GL(e,t)}}var $L={};function XL(e){return Object(Lt.x)(e)||ArrayBuffer.isView(e)?e:null}function YL(e){return XL(e)||(Object(Lt.F)(e)?e:null)}var JL=function(e){return e.data};function QL(e,t){var n=kL.call(t,e);return n.root&&n.root.lookup||{}}var ZL=function(){return"undefined"!==typeof window&&window||null};var eU={random:function(){return Mr()},cumulativeNormal:Hr,cumulativeLogNormal:Jr,cumulativeUniform:ra,densityNormal:qr,densityLogNormal:Yr,densityUniform:na,quantileNormal:Gr,quantileLogNormal:Qr,quantileUniform:aa,sampleNormal:Vr,sampleLogNormal:Xr,sampleUniform:ta,isArray:Lt.x,isBoolean:Lt.y,isDate:Lt.z,isDefined:function(e){return void 0!==e},isNumber:Lt.C,isObject:Lt.D,isRegExp:Lt.E,isString:Lt.F,isTuple:jn,isValid:function(e){return null!=e&&e===e},toBoolean:Lt.X,toDate:Lt.Y,toNumber:Lt.Z,toString:Lt.bb,indexof:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(t=YL(e)).indexOf.apply(t,r)},join:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(t=XL(e)).join.apply(t,r)},lastindexof:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(t=YL(e)).lastIndexOf.apply(t,r)},replace:function(e,t,n){return Object(Lt.A)(n)&&Object(Lt.k)("Function argument passed to replace."),String(e).replace(t,n)},reverse:function(e){return XL(e).slice().reverse()},slice:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(t=YL(e)).slice.apply(t,r)},flush:Lt.r,lerp:Lt.H,merge:function(){var e=[].slice.call(arguments);return e.unshift({}),Lt.l.apply(void 0,Object(Qi.a)(e))},pad:Lt.N,peek:Lt.S,pluck:function(e,t){var n=$L[t]||($L[t]=Object(Lt.q)(t));return Object(Lt.x)(e)?e.map(n):n(e)},span:Lt.U,inrange:Lt.w,truncate:Lt.cb,rgb:ss,lab:Dl,hcl:Pl,hsl:vs,luminance:qL,contrast:function(e,t){var n=qL(e),r=qL(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},sequence:Oa,format:EL,utcFormat:AL,utcParse:DL,utcOffset:ja.w,utcSequence:ja.x,timeFormat:CL,timeParse:SL,timeOffset:ja.q,timeSequence:ja.r,timeUnitSpecifier:ja.s,monthFormat:function(e){return FL.call(this,e,1,"%B")},monthAbbrevFormat:function(e){return FL.call(this,e,1,"%b")},dayFormat:function(e){return FL.call(this,0,2+e,"%A")},dayAbbrevFormat:function(e){return FL.call(this,0,2+e,"%a")},quarter:Lt.T,utcquarter:Lt.eb,week:ja.A,utcweek:ja.z,dayofyear:ja.m,utcdayofyear:ja.y,warn:function(){return WL(this.context.dataflow,"warn",arguments)},info:function(){return WL(this.context.dataflow,"info",arguments)},debug:function(){return WL(this.context.dataflow,"debug",arguments)},extent:Lt.m,inScope:function(e){var t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:function(e,t,n){if(!e)return[];var r=Object(vr.a)(e,2),a=r[0],i=r[1],o=(new ph).set(a[0],a[1],i[0],i[1]);return function(e,t,n){var r=[],a=(new ph).union(t),i=e.marktype;return i?Bm(e,a,n,r):"group"===i?zm(e,a,n,r):Object(Lt.k)("Intersect scene must be mark node or group item.")}(n||this.context.dataflow.scenegraph().root,o,function(e){var t=null;if(e){var n=Object(Lt.e)(e.marktype),r=Object(Lt.e)(e.markname);t=function(e){return(!n.length||n.some((function(t){return e.marktype===t})))&&(!r.length||r.some((function(t){return e.name===t})))}}return t}(t))},clampRange:Lt.g,pinchDistance:function(e){var t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)},pinchAngle:function(e){var t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){var e=ZL();return e?e.screen:{}},containerSize:function(){var e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){var e=ZL();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return sf(e||0,t||0,n||0)},setdata:function(e,t){var n=this.context.dataflow,r=this.context.data[e].input;return n.pulse(r,n.changeset().remove(Lt.db).insert(t)),1},pathShape:function(e){var t=null;return function(n){return n?Ld(n,t=t||Sd(e)):e}},panLinear:Lt.O,panLog:Lt.P,panPow:Lt.Q,panSymlog:Lt.R,zoomLinear:Lt.hb,zoomLog:Lt.ib,zoomPow:Lt.jb,zoomSymlog:Lt.kb,encode:function(e,t,n){if(e){var r=this.context.dataflow,a=e.mark.source;r.pulse(a,r.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,r,a,i){var o,u,s=this.context.dataflow,c=this.context.data[e],l=c.input,f=s.stamp(),d=c.changes;if(!1===s._trigger||!(l.value.length||t||r))return 0;if((!d||d.stamp<f)&&(c.changes=d=s.changeset(),d.stamp=f,s.runAfter((function(){c.modified=!0,s.pulse(l,d).run()}),!0,1)),n&&(o=!0===n?Lt.db:Object(Lt.x)(n)||jn(n)?n:KL(n),d.remove(o)),t&&d.insert(t),r&&(o=KL(r),l.value.some(o)?d.remove(o):d.insert(r)),a)for(u in i)d.modify(a,u,i[u]);return 1}},tU=["view","item","group","xy","x","y"],nU="this.",rU={},aU={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_[".concat(Object(Lt.W)("$"+e),"]")},functions:function(e){var t=UB(e);for(var n in tU.forEach((function(e){return t[e]="event.vega."+e})),eU)t[n]=nU+n;return Object(Lt.l)(t,PL(e,eU,rU)),t},constants:LB,visitors:rU},iU=function(e){var t=(e=e||{}).allowed?Object(Lt.ab)(e.allowed):{},n=e.forbidden?Object(Lt.ab)(e.forbidden):{},r=e.constants||LB,a=(e.functions||UB)(f),i=e.globalvar,o=e.fieldvar,u=Object(Lt.A)(i)?i:function(e){return"".concat(i,'["').concat(e,'"]')},s={},c={},l=0;function f(e){if(Object(Lt.F)(e))return e;var t=d[e.type];return null==t&&Object(Lt.k)("Unsupported type: "+e.type),t(e)}var d={Literal:function(e){return e.raw},Identifier:function(e){var a=e.name;return l>0?a:Object(Lt.s)(n,a)?Object(Lt.k)("Illegal identifier: "+a):Object(Lt.s)(r,a)?r[a]:Object(Lt.s)(t,a)?a:(s[a]=1,u(a))},MemberExpression:function(e){var t=!e.computed,n=f(e.object);t&&(l+=1);var r=f(e.property);return n===o&&(c[function(e){var t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(r)]=1),t&&(l-=1),n+(t?"."+r:"["+r+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&Object(Lt.k)("Illegal callee type: "+e.callee.type);var t=e.callee.name,n=e.arguments,r=Object(Lt.s)(a,t)&&a[t];return r||Object(Lt.k)("Unrecognized function: "+t),Object(Lt.A)(r)?r(n):r+"("+n.map(f).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(f).join(",")+"]"},BinaryExpression:function(e){return"("+f(e.left)+" "+e.operator+" "+f(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+f(e.argument)+")"},ConditionalExpression:function(e){return"("+f(e.test)+"?"+f(e.consequent)+":"+f(e.alternate)+")"},LogicalExpression:function(e){return"("+f(e.left)+e.operator+f(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(f).join(",")+"}"},Property:function(e){l+=1;var t=f(e.key);return l-=1,t+":"+f(e.value)}};function h(e){var t={code:f(e),globals:Object.keys(s),fields:Object.keys(c)};return s={},c={},t}return h.functions=a,h.constants=r,h}(aU);function oU(e,t,n){return 1===arguments.length?eU[e]:(eU[e]=t,n&&(rU[e]=n),iU&&(iU.functions[e]=nU+e),this)}function uU(e,t){var n,r={};try{n=function(e){kP=0,jP=(OP=e).length,EP=null,pB();var t=zB();if(2!==EP.type)throw new Error("Unexpect token after expression.");return t}(e=Object(Lt.F)(e)?e:Object(Lt.W)(e)+"")}catch(i){Object(Lt.k)("Expression parse error: "+e)}n.visit((function(e){if(e.type===TP){var n=e.callee.name,a=aU.visitors[n];a&&a(n,e.arguments,t,r)}}));var a=iU(n);return a.globals.forEach((function(e){var n="$"+e;!Object(Lt.s)(r,n)&&t.getSignal(e)&&(r[n]=t.signalRef(e))})),{$expr:Object(Lt.l)({code:a.code},t.options.ast?{ast:n}:null),$fields:a.fields,$params:r}}oU("bandwidth",(function(e,t){var n=RL(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}),ML),oU("copy",(function(e,t){var n=RL(e,(t||this).context);return n?n.copy():void 0}),ML),oU("domain",(function(e,t){var n=RL(e,(t||this).context);return n?n.domain():[]}),ML),oU("range",(function(e,t){var n=RL(e,(t||this).context);return n&&n.range?n.range():[]}),ML),oU("invert",(function(e,t,n){var r=RL(e,(n||this).context);return r?Object(Lt.x)(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}),ML),oU("scale",(function(e,t,n){var r=RL(e,(n||this).context);return r?r(t):void 0}),ML),oU("gradient",(function(e,t,n,r,a){e=RL(e,(a||this).context);var i=function(e,t){var n,r=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}}(t,n),o=e.domain(),u=o[0],s=Object(Lt.S)(o),c=Lt.u;return s-u?c=$f(e,u,s):e=(e.interpolator?Pf("sequential")().interpolator(e.interpolator()):Pf("linear")().interpolate(e.interpolate()).range(e.range())).domain([u=0,s=1]),e.ticks&&(u!==(o=e.ticks(+r||15))[0]&&o.unshift(u),s!==Object(Lt.S)(o)&&o.push(s)),o.forEach((function(t){return i.stop(c(t),e(t))})),i}),ML),oU("geoArea",zL,ML),oU("geoBounds",LL,ML),oU("geoCentroid",UL,ML),oU("geoShape",(function(e,t,n){var r=RL(e,(n||this).context);return function(e){return r?r.path.context(e)(t):""}}),ML),oU("indata",(function(e,t,n){var r=this.context.data[e]["index:"+t],a=r?r.value.get(n):void 0;return a?a.count:a}),(function(e,t,n,r){t[0].type!==AP&&Object(Lt.k)("First argument to indata must be a string literal."),t[1].type!==AP&&Object(Lt.k)("Second argument to indata must be a string literal.");var a=t[0].value,i=t[1].value,o="@"+i;Object(Lt.s)(o,r)||(r[o]=n.getData(a).indataRef(n,i))})),oU("data",kL,TL),oU("treePath",(function(e,t,n){var r=QL(e,this),a=r[t],i=r[n];return a&&i?a.path(i).map(JL):void 0}),TL),oU("treeAncestors",(function(e,t){var n=QL(e,this)[t];return n?n.ancestors().map(JL):void 0}),TL),oU("vlSelectionTest",mL,OL),oU("vlSelectionIdTest",(function(e,t,n){var r=this.context.data[e],a=r?r.values.value:[],i=r?r[pL]&&r[pL].value:void 0,o=n===dL,u=gL(t),s=yL(a,u);if(s===a.length)return!1;if(gL(a[s])!==u)return!1;if(i&&o){if(1===i.size)return!0;if(xL(a,u)-s<i.size)return!1}return!0}),OL),oU("vlSelectionResolve",_L,OL),oU("vlSelectionTuples",(function(e,t){return e.map((function(e){return Object(Lt.l)({values:t.fields.map((function(t){return(t.getter||(t.getter=Object(Lt.q)(t.field)))(e.datum)}))},t)}))}));var sU=Object(Lt.ab)(["rule"]),cU=Object(Lt.ab)(["group","image","rect"]);function lU(e){return(e+"").toLowerCase()}function fU(e,t,n){";"!==n[n.length-1]&&(n="return("+n+");");var r=Function.apply(void 0,Object(Qi.a)(t.concat(n)));return e&&e.functions?r.bind(e.functions):r}var dU={operator:function(e,t){return fU(e,["_"],t.code)},parameter:function(e,t){return fU(e,["datum","_"],t.code)},event:function(e,t){return fU(e,["event"],t.code)},handler:function(e,t){return fU(e,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(t.code,";"))},encode:function(e,t){var n=t.marktype,r=t.channels,a="var o=item,datum=o.datum,m=0,$;";for(var i in r){var o="o["+Object(Lt.W)(i)+"]";a+="$=".concat(r[i].code,";if(").concat(o,"!==$)").concat(o,"=$,m=1;")}return a+=function(e,t){var n="";return sU[t]||(e.x2&&(e.x?(cU[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(cU[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}(r,n),fU(e,["item","_"],a+="return m;")},codegen:{get:function(e){var t="[".concat(e.map(Lt.W).join("]["),"]"),n=Function("_","return _".concat(t,";"));return n.path=t,n},comparator:function(e,t){var n,r=Function("a","b","var u, v; return "+e.map((function(e,r){var a,i,o=t[r];return e.path?(a="a".concat(e.path),i="b".concat(e.path)):((n=n||{})["f"+r]=e,a="this.f".concat(r,"(a)"),i="this.f".concat(r,"(b)")),function(e,t,n,r){return"((u = ".concat(e,") < (v = ").concat(t,") || u == null) && v != null ? ").concat(n,"\n  : (u > v || v == null) && u != null ? ").concat(r,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(n,"\n  : v !== v && u === u ? ").concat(r," : ")}(a,i,-o,o)})).join("")+"0;");return n?r.bind(n):r}}};function hU(e,t,n){if(!e||!Object(Lt.D)(e))return e;for(var r,a=0,i=pU.length;a<i;++a)if(r=pU[a],Object(Lt.s)(e,r.key))return r.parse(e,t,n);return e}var pU=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||Object(Lt.k)("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){var n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=Object(Lt.G)(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function(e,t,n){e.$params&&t.parseParameters(e.$params,n);var r="e:"+e.$expr.code+"_"+e.$name;return t.fn[r]||(t.fn[r]=Object(Lt.b)(t.parameterExpression(e.$expr),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;var n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Object(Lt.q)(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function(e,t){var n=e.$encode,r={};for(var a in n){var i=n[a];r[a]=Object(Lt.b)(t.encodeExpression(i.$expr),i.$fields),r[a].output=i.$output}return r}},{key:"$compare",parse:function(e,t){var n="c:"+e.$compare+"_"+e.$order,r=Object(Lt.e)(e.$compare).map((function(e){return e&&e.$tupleid?En:e}));return t.fn[n]||(t.fn[n]=Object(Lt.h)(r,e.$order,t.expr.codegen))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){var n=e.$subflow;return function(e,r,a){var i=t.fork().parse(n),o=i.get(n.operators[0].id),u=i.signals.parent;return u&&u.set(a),o.detachSubflow=function(){return t.detach(i)},o}}},{key:"$tupleid",parse:function(){return En}}];var vU={skip:!0};function mU(e,t,n,r){return new gU(e,t,n,r)}function gU(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||dU,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function bU(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}gU.prototype=bU.prototype={fork:function(){var e=new bU(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach:function(e){this.subcontext=this.subcontext.filter((function(t){return t!==e}));for(var t=Object.keys(e.nodes),n=0,r=t;n<r.length;n++){var a=r[n];e.nodes[a]._targets=null}for(var i=0,o=t;i<o.length;i++){var u=o[i];e.nodes[u].detach()}e.nodes=null},get:function(e){return this.nodes[e]},set:function(e,t){return this.nodes[e]=t},add:function(e,t){var n=this,r=n.dataflow,a=e.value;if(n.set(e.id,t),"collect"===lU(e.type)&&a&&(a.$ingest?r.ingest(t,a.$ingest,a.$format):a.$request?r.preload(t,a.$request,a.$format):r.pulse(t,r.changeset().insert(a))),e.root&&(n.root=t),e.parent){var i=n.get(e.parent.$ref);i?(r.connect(i,[t]),t.targets().add(i)):(n.unresolved=n.unresolved||[]).push((function(){i=n.get(e.parent.$ref),r.connect(i,[t]),t.targets().add(i)}))}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data){var o=function(r){var a=n.data[r]||(n.data[r]={});e.data[r].forEach((function(e){return a[e]=t}))};for(var u in e.data)o(u)}},resolve:function(){return(this.unresolved||[]).forEach((function(e){return e()})),delete this.unresolved,this},operator:function(e,t){this.add(e,this.dataflow.add(e.value,t))},transform:function(e,t){this.add(e,this.dataflow.add(this.transforms[lU(t)]))},stream:function(e,t){this.set(e.id,t)},update:function(e,t,n,r,a){this.dataflow.on(t,n,r,a,e.options)},operatorExpression:function(e){return this.expr.operator(this,e)},parameterExpression:function(e){return this.expr.parameter(this,e)},eventExpression:function(e){return this.expr.event(this,e)},handlerExpression:function(e){return this.expr.handler(this,e)},encodeExpression:function(e){return this.expr.encode(this,e)},parse:function(e){var t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach((function(e){return t.parseOperator(e)})),n.forEach((function(e){return t.parseOperatorParameters(e)})),(e.streams||[]).forEach((function(e){return t.parseStream(e)})),(e.updates||[]).forEach((function(e){return t.parseUpdate(e)})),t.resolve()},parseOperator:function(e){var t=this;"operator"!==lU(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?t.operatorExpression(e.update):null)},parseOperatorParameters:function(e){var t=this;if(e.params){var n=t.get(e.id);n||Object(Lt.k)("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function(e,t){t=t||{};var n=this;for(var r in e){var a=e[r];t[r]=Object(Lt.x)(a)?a.map((function(e){return hU(e,n,t)})):hU(a,n,t)}return t},parseStream:function(e){var t,n=this,r=null!=e.filter?n.eventExpression(e.filter):void 0,a=null!=e.stream?n.get(e.stream):void 0;e.source?a=n.events(e.source,e.type,r):e.merge&&(a=(t=e.merge.map((function(e){return n.get(e)})))[0].merge.apply(t[0],t.slice(1))),e.between&&(t=e.between.map((function(e){return n.get(e)})),a=a.between(t[0],t[1])),e.filter&&(a=a.filter(r)),null!=e.throttle&&(a=a.throttle(+e.throttle)),null!=e.debounce&&(a=a.debounce(+e.debounce)),null==a&&Object(Lt.k)("Invalid stream definition: "+JSON.stringify(e)),e.consume&&a.consume(!0),n.stream(e,a)},parseUpdate:function(e){var t,n=this,r=Object(Lt.D)(r=e.source)?r.$ref:r,a=n.get(r),i=e.update,o=void 0;a||Object(Lt.k)("Source not defined: "+e.source),t=e.target&&e.target.$expr?n.eventExpression(e.target.$expr):n.get(e.target),i&&i.$expr&&(i.$params&&(o=n.parseParameters(i.$params)),i=n.handlerExpression(i.$expr)),n.update(e,a,t,i,o)},getState:function(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach((function(n){var a=t.signals[n];e.signals(n,a)&&(r[n]=a.value)}))}if(e.data){var a=n.data={};Object.keys(t.data).forEach((function(n){var r=t.data[n];e.data(n,r)&&(a[n]=r.input.value)}))}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map((function(t){return t.getState(e)}))),n},setState:function(e){var t=this,n=t.dataflow,r=e.data,a=e.signals;Object.keys(a||{}).forEach((function(e){n.update(t.signals[e],a[e],vU)})),Object.keys(r||{}).forEach((function(e){n.pulse(t.data[e].input,n.changeset().remove(Lt.db).insert(r[e]))})),(e.subcontext||[]).forEach((function(e,n){var r=t.subcontext[n];r&&r.setState(e)}))}};var yU="width",xU="height",_U="padding",wU={skip:!0};function OU(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===_U?r.left+r.right:0)}function kU(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===_U?r.top+r.bottom:0)}function jU(e,t){return t.modified&&Object(Lt.x)(t.input.value)&&e.indexOf("_:vega:_")}function EU(e,t){return!("parent"===e||t instanceof fr.proxy)}var CU=function(e,t,n,r){var a=e.element();a&&a.setAttribute("title",function(e){return null==e?"":Object(Lt.x)(e)?AU(e):Object(Lt.D)(e)&&!Object(Lt.z)(e)?(t=e,Object.keys(t).map((function(e){var n=t[e];return e+": "+(Object(Lt.x)(n)?AU(n):SU(n))})).join("\n")):e+"";var t}(r))};function AU(e){return"["+e.map(SU).join(", ")+"]"}function SU(e){return Object(Lt.x)(e)?"[\u2026]":Object(Lt.D)(e)&&!Object(Lt.z)(e)?"{\u2026}":e}function DU(e,t){var n=this;if(t=t||{},sr.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),null!=t.logLevel&&n.logLevel(t.logLevel),t.locale||e.locale){var r=Object(Lt.l)({},e.locale,t.locale);n.locale(Object(gn.b)(r.number,r.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Tm,n._scenegraph=new hv;var a=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||CU,n._redraw=!0,n._handler=(new Lv).scene(a),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=function(e){var t=Object(Lt.l)({defaults:{}},e),n=function(e,t){t.forEach((function(t){Object(Lt.x)(e[t])&&(e[t]=Object(Lt.ab)(e[t]))}))};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);var i=function(e,t,n){return mU(e,fr,eU,n).parse(t)}(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map((function(e){return{state:null,param:Object(Lt.l)({},e)}})),i.root&&i.root.set(a),a.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(a.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=OU(n,n._width),n._viewHeight=kU(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,function(e){var t=e._signals,n=t.width,r=t.height,a=t.padding;function i(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,(function(t){e._width=t.size,e._viewWidth=OU(e,t.size),i()}),{size:n}),e._resizeHeight=e.add(null,(function(t){e._height=t.size,e._viewHeight=kU(e,t.size),i()}),{size:r});var o=e.add(null,i,{pad:a});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,o.rank=a.rank+1}(n),function(e){e.add(null,(function(t){return e._background=t.bg,e._resize=1,t.bg}),{bg:e._signals.background})}(n),function(e){var t=e._signals.cursor||(e._signals.cursor=e.add({user:LR,item:null}));e.on(e.events("view","mousemove"),t,(function(e,n){var r=t.value,a=r?Object(Lt.F)(r)?r:r.user:LR,i=n.item&&n.item.cursor||null;return r&&a===r.user&&i==r.item?r:{user:a,item:i}})),e.add(null,(function(t){var n=t.cursor,r=this.value;return Object(Lt.F)(n)||(r=n.item,n=n.user),UR(e,n&&n!==LR?n:r||n),r}),{cursor:t})}(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function NU(e,t){return Object(Lt.s)(e._signals,t)?e._signals[t]:Object(Lt.k)("Unrecognized signal name: "+Object(Lt.W)(t))}function FU(e,t){var n=(e._targets||[]).filter((function(e){return e._update&&e._update.handler===t}));return n.length?n[0]:null}function TU(e,t,n,r){var a=FU(n,r);return a||((a=dP(e,(function(){return r(t,n.value)}))).handler=r,e.on(n,null,a)),e}function MU(e,t,n){var r=FU(t,n);return r&&t._targets.remove(r),e}Object(Lt.v)(DU,sr,{evaluate:function(e,t,n){var r=this;return Object(zt.a)(k.a.mark((function a(){return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,sr.prototype.evaluate.call(r,e,t);case 2:if(!r._redraw&&!r._resize){a.next=14;break}if(a.prev=3,!r._renderer){a.next=8;break}return r._resize&&(r._resize=0,KR(r)),a.next=8,r._renderer.renderAsync(r._scenegraph.root);case 8:r._redraw=!1,a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),r.error(a.t0);case 14:return n&&_n(r,n),a.abrupt("return",r);case 16:case"end":return a.stop()}}),a,null,[[3,11]])})))()},dirty:function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description:function(e){if(arguments.length){var t=null!=e?e+"":null;return t!==this._desc&&zR(this._el,this._desc=t),this}return this._desc},container:function(){return this._el},scenegraph:function(){return this._scenegraph},origin:function(){return this._origin.slice()},signal:function(e,t,n){var r=NU(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},width:function(e){return arguments.length?this.signal("width",e):this.signal("width")},height:function(e){return arguments.length?this.signal("height",e):this.signal("height")},padding:function(e){return arguments.length?this.signal("padding",vP(e)):vP(this.signal("padding"))},autosize:function(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background:function(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer:function(e){return arguments.length?(Pm(e)||Object(Lt.k)("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip:function(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader:function(e){return arguments.length?(e!==this._loader&&(sr.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize:function(){return this._autosize=1,this.touch(NU(this,"autosize"))},_resetRenderer:function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(e,t,n,r,a,i){this.runAfter((function(o){var u=0;o._autosize=0,o.width()!==n&&(u=1,o.signal(yU,n,wU),o._resizeWidth.skip(!0)),o.height()!==r&&(u=1,o.signal(xU,r,wU),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),o._origin[0]===a[0]&&o._origin[1]===a[1]||(o._resize=1,o._origin=a),u&&o.run("enter"),i&&o.runAfter((function(e){return e.resize()}))}),!1,1)},addEventListener:function(e,t,n){var r=t;return n&&!1===n.trap||((r=dP(this,t)).raw=t),this._handler.on(e,r),this},removeEventListener:function(e,t){for(var n,r,a=this._handler.handlers(e),i=a.length;--i>=0;)if(r=a[i].type,n=a[i].handler,e===r&&(t===n||t===n.raw)){this._handler.off(r,n);break}return this},addResizeListener:function(e){var t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener:function(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener:function(e,t){return TU(this,e,NU(this,e),t)},removeSignalListener:function(e,t){return MU(this,NU(this,e),t)},addDataListener:function(e,t){return TU(this,e,WR(this,e).values,t)},removeDataListener:function(e,t){return MU(this,WR(this,e).values,t)},globalCursor:function(e){if(arguments.length){if(this._globalCursor!==!!e){var t=UR(this,null);this._globalCursor=!!e,t&&UR(this,t)}return this}return this._globalCursor},preventDefault:function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function(e,t){this._timers.push(function(e,t,n){var r=new Qw,a=t;return null==t?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(e,t,n){t=+t,n=null==n?Yw():+n,r._restart((function i(o){o+=a,r._restart(i,a+=t,n),e(o)}),t,n)},r.restart(e,t,n),r)}((function(t){e({timestamp:Date.now(),elapsed:t})}),t))},events:function(e,t,n){var r,a=this,i=new Wn(n),o=function(n,r){a.runAsync(null,(function(){e===XR&&function(e,t){var n=e._eventConfig.defaults,r=n.prevent,a=n.allow;return!1!==r&&!0!==a&&(!0===r||!1===a||(r?r[t]:a?!a[t]:e.preventDefault()))}(a,t)&&n.preventDefault(),i.receive($R(a,n,r))}))};if("timer"===e)JR(a,"timer",t)&&a.timer(o,t);else if(e===XR)JR(a,"view",t)&&a.addEventListener(t,o,YR);else if("window"===e?JR(a,"window",t)&&"undefined"!==typeof window&&(r=[window]):"undefined"!==typeof document&&JR(a,"selector",t)&&(r=document.querySelectorAll(e)),r){for(var u=0,s=r.length;u<s;++u)r[u].addEventListener(t,o);a._eventListeners.push({type:t,sources:r,handler:o})}else a.warn("Can not resolve event source: "+e);return i},finalize:function(){var e,t,n,r=this._tooltip,a=this._timers,i=this._eventListeners;for(e=a.length;--e>=0;)a[e].stop();for(e=i.length;--e>=0;)for(t=(n=i[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this},hover:function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",QR),ZR,eP(e)),this.on(this.events("view","mouseout",QR),ZR,eP(t)),this},data:function(e,t){return arguments.length<2?WR(this,e).values.value:VR.call(this,e,Mn().remove(Lt.db).insert(t))},change:VR,insert:function(e,t){return VR.call(this,e,Mn().insert(t))},remove:function(e,t){return VR.call(this,e,Mn().remove(t))},scale:function(e){var t=this._runtime.scales;return Object(Lt.s)(t,e)||Object(Lt.k)("Unrecognized scale or projection: "+e),t[e].value},initialize:function(e,t){var n=this,r=n._renderType,a=n._eventConfig.bind,i=Pm(r);e=n._el=e?hP(n,e):null,function(e){var t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),zR(t,e.description()))}(n),i||n.error("Unrecognized renderer type: "+r);var o=i.handler||Lv,u=e?i.renderer:i.headless;return n._renderer=u?fP(n,n._renderer,e,u):null,n._handler=function(e,t,n,r){var a=new r(e.loader(),dP(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,GR(e),e);return t&&t.handlers().forEach((function(e){a.on(e.type,e.handler)})),a}(n,n._handler,e,o),n._redraw=!0,e&&"none"!==a&&(t=t?n._elBind=hP(n,t):e.appendChild(tP("form",{class:"vega-bindings"})),n._bind.forEach((function(e){e.param.element&&"container"!==a&&(e.element=hP(n,e.param.element))})),n._bind.forEach((function(e){aP(n,e.element||t,e)}))),n},toImageURL:function(e,t){return bP.apply(this,arguments)},toCanvas:function(e,t){return xP.apply(this,arguments)},toSVG:function(e){return _P.apply(this,arguments)},getState:function(e){return this._runtime.getState(e||{data:jU,signals:EU,recurse:!0})},setState:function(e){return this.runAsync(null,(function(t){t._trigger=!1,t._runtime.setState(e)}),(function(e){e._trigger=!0})),this}});var IU=n(23);function RU(e){var t=this.context.data[e];return t?t.values.value:[]}var PU=function(e){return function(t,n){return this.context.dataflow.locale()[e](n)(t)}},BU=PU("format"),zU=PU("timeFormat"),LU=PU("utcFormat"),UU=PU("timeParse"),WU=PU("utcParse"),VU=new Date(2e3,0,1);function qU(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(VU.setYear(2e3),VU.setMonth(e),VU.setDate(t),zU.call(this,VU,n)):""}var HU,GU="RawCode",KU="Literal",$U="Property",XU="Identifier",YU="ArrayExpression",JU="BinaryExpression",QU="CallExpression",ZU="ConditionalExpression",eW="LogicalExpression",tW="MemberExpression",nW="ObjectExpression",rW="UnaryExpression";function aW(e){this.type=e}aW.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case YU:return e.elements;case JU:case eW:return[e.left,e.right];case QU:return[e.callee].concat(e.arguments);case ZU:return[e.test,e.consequent,e.alternate];case tW:return[e.object,e.property];case nW:return e.properties;case $U:return[e.key,e.value];case rW:return[e.argument];case XU:case KU:case GU:default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1};(HU={})[1]="Boolean",HU[2]="<end>",HU[3]="Identifier",HU[4]="Keyword",HU[5]="Null",HU[6]="Numeric",HU[7]="Punctuator",HU[8]="String",HU[9]="RegularExpression";new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");var iW={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"},oW=function(e){function t(t,n,r){return function(a){return function(t,n,r,a){var i=e(n[0]);return r&&(i=r+"("+i+")",0===r.lastIndexOf("new ",0)&&(i="("+i+")")),i+"."+t+(a<0?"":0===a?"()":"("+n.slice(1).map(e).join(",")+")")}(t,a,n,r)}}var n="new Date",r="String",a="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&Object(IU.d)("Missing arguments to clamp function."),t.length>3&&Object(IU.d)("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),join:t("join",null),indexof:t("indexOf",null),lastindexof:t("lastIndexOf",null),slice:t("slice",null),reverse:function(t){return"("+e(t[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase",r,0),lower:t("toLowerCase",r,0),substring:t("substring",r),split:t("split",r),replace:t("replace",r),trim:t("trim",r,0),regexp:a,test:t("test",a),if:function(t){t.length<3&&Object(IU.d)("Missing arguments to if function."),t.length>3&&Object(IU.d)("Too many arguments to if function.");var n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}};function uW(e,t,n,r){t[0].type!==KU&&Object(IU.d)("First argument to data functions must be a string literal.");var a=t[0].value,i=":"+a;if(!Object(IU.i)(i,r))try{r[i]=n.getData(a).tuplesRef()}catch(o){}}function sW(e,t,n,r){if(t[0].type===KU)cW(n,r,t[0].value);else for(e in n.scales)cW(n,r,e)}function cW(e,t,n){var r="%"+n;if(!Object(IU.i)(t,r))try{t[r]=e.scaleRef(n)}catch(a){}}function lW(e,t){var n;return Object(IU.p)(e)?e:Object(IU.u)(e)?(n=t.scales[e])&&n.value:void 0}function fW(e,t,n){t.__bandwidth=function(e){return e&&e.bandwidth?e.bandwidth():0},n._bandwidth=sW,n._range=sW,n._scale=sW;var r=function(t){return"_["+(t.type===KU?Object(IU.F)("%"+t.value):Object(IU.F)("%")+"+"+e(t))+"]"};return{_bandwidth:function(e){return"this.__bandwidth(".concat(r(e[0]),")")},_range:function(e){return"".concat(r(e[0]),".range()")},_scale:function(t){return"".concat(r(t[0]),"(").concat(e(t[1]),")")}}}function dW(e,t){return function(n,r,a){if(n){var i=lW(n,(a||this).context);return i&&i.path[e](r)}return t(r)}}var hW=dW("area",fz),pW=dW("bounds",zz),vW=dW("centroid",Qz);function mW(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function gW(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function bW(e){var t=ss(e);return.2126*gW(t.r)+.7152*gW(t.g)+.0722*gW(t.b)}function yW(e,t){return e===t||e!==e&&t!==t||(Object(IU.m)(e)?!(!Object(IU.m)(t)||e.length!==t.length)&&function(e,t){for(var n=0,r=e.length;n<r;++n)if(!yW(e[n],t[n]))return!1;return!0}(e,t):!(!Object(IU.s)(e)||!Object(IU.s)(t))&&xW(e,t))}function xW(e,t){for(var n in e)if(!yW(e[n],t[n]))return!1;return!0}function _W(e){return function(t){return xW(e,t)}}function wW(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}var OW=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,u=r<t-1?e[r+2]:2*i-a;return wW((n-r/t)*t,o,a,i,u)}},kW=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],u=e[(r+2)%t];return wW((n-r/t)*t,a,i,o,u)}},jW=function(e){return function(){return e}};function EW(e,t){return function(n){return e+n*t}}function CW(e,t){var n=t-e;return n?EW(e,n>180||n<-180?n-360*Math.round(n/360):n):jW(isNaN(e)?t:e)}function AW(e){return 1===(e=+e)?SW:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):jW(isNaN(t)?n:t)}}function SW(e,t){var n=t-e;return n?EW(e,n):jW(isNaN(e)?t:e)}var DW=function e(t){var n=AW(t);function r(e,t){var r=n((e=ss(e)).r,(t=ss(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),o=SW(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function NW(e){return function(t){var n,r,a=t.length,i=new Array(a),o=new Array(a),u=new Array(a);for(n=0;n<a;++n)r=ss(t[n]),i[n]=r.r||0,o[n]=r.g||0,u[n]=r.b||0;return i=e(i),o=e(o),u=e(u),r.opacity=1,function(e){return r.r=i(e),r.g=o(e),r.b=u(e),r+""}}}var FW=NW(OW),TW=NW(kW),MW=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}};function IW(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var RW=function(e,t){return(IW(t)?MW:PW)(e,t)};function PW(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=HW(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=i[n](e);return o}}var BW=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}},zW=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},LW=function(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=HW(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}},UW=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,WW=new RegExp(UW.source,"g");var VW,qW=function(e,t){var n,r,a,i=UW.lastIndex=WW.lastIndex=0,o=-1,u=[],s=[];for(e+="",t+="";(n=UW.exec(e))&&(r=WW.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),u[o]?u[o]+=a:u[++o]=a),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:zW(n,r)})),i=WW.lastIndex;return i<t.length&&(a=t.slice(i),u[o]?u[o]+=a:u[++o]=a),u.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)u[(n=s[r]).i]=n.x(e);return u.join("")})},HW=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?jW(t):("number"===r?zW:"string"===r?(n=as(t))?(t=n,DW):qW:t instanceof as?DW:t instanceof Date?BW:IW(t)?MW:Array.isArray(t)?PW:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?LW:zW)(e,t)},GW=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},KW=function(e,t){var n=CW(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},$W=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}},XW=180/Math.PI,YW={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},JW=function(e,t,n,r,a,i){var o,u,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*XW,skewX:Math.atan(s)*XW,scaleX:o,scaleY:u}};function QW(e,t,n,r){function a(e){return e.length?e.pop()+" ":""}return function(i,o){var u=[],s=[];return i=e(i),o=e(o),function(e,r,a,i,o,u){if(e!==a||r!==i){var s=o.push("translate(",null,t,null,n);u.push({i:s-4,x:zW(e,a)},{i:s-2,x:zW(r,i)})}else(a||i)&&o.push("translate("+a+t+i+n)}(i.translateX,i.translateY,o.translateX,o.translateY,u,s),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(a(n)+"rotate(",null,r)-2,x:zW(e,t)})):t&&n.push(a(n)+"rotate("+t+r)}(i.rotate,o.rotate,u,s),function(e,t,n,i){e!==t?i.push({i:n.push(a(n)+"skewX(",null,r)-2,x:zW(e,t)}):t&&n.push(a(n)+"skewX("+t+r)}(i.skewX,o.skewX,u,s),function(e,t,n,r,i,o){if(e!==n||t!==r){var u=i.push(a(i)+"scale(",null,",",null,")");o.push({i:u-4,x:zW(e,n)},{i:u-2,x:zW(t,r)})}else 1===n&&1===r||i.push(a(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,u,s),i=o=null,function(e){for(var t,n=-1,r=s.length;++n<r;)u[(t=s[n]).i]=t.x(e);return u.join("")}}}var ZW=QW((function(e){var t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?YW:JW(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),eV=QW((function(e){return null==e?YW:(VW||(VW=document.createElementNS("http://www.w3.org/2000/svg","g")),VW.setAttribute("transform",e),(e=VW.transform.baseVal.consolidate())?(e=e.matrix,JW(e.a,e.b,e.c,e.d,e.e,e.f)):YW)}),", ",")",")");function tV(e){return((e=Math.exp(e))+1/e)/2}var nV=function e(t,n,r){function a(e,a){var i,o,u=e[0],s=e[1],c=e[2],l=a[0],f=a[1],d=a[2],h=l-u,p=f-s,v=h*h+p*p;if(v<1e-12)o=Math.log(d/c)/t,i=function(e){return[u+e*h,s+e*p,c*Math.exp(t*e*o)]};else{var m=Math.sqrt(v),g=(d*d-c*c+r*v)/(2*c*n*m),b=(d*d-c*c-r*v)/(2*d*n*m),y=Math.log(Math.sqrt(g*g+1)-g),x=Math.log(Math.sqrt(b*b+1)-b);o=(x-y)/t,i=function(e){var r,a=e*o,i=tV(y),l=c/(n*m)*(i*(r=t*a+y,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(y));return[u+l*h,s+l*p,c*i/tV(t*a+y)]}}return i.duration=1e3*o*t/Math.SQRT2,i}return a.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},a}(Math.SQRT2,2,4);function rV(e){return function(t,n){var r=e((t=vs(t)).h,(n=vs(n)).h),a=SW(t.s,n.s),i=SW(t.l,n.l),o=SW(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=a(e),t.l=i(e),t.opacity=o(e),t+""}}}var aV=rV(CW),iV=rV(SW);function oV(e,t){var n=SW((e=Dl(e)).l,(t=Dl(t)).l),r=SW(e.a,t.a),a=SW(e.b,t.b),i=SW(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=a(t),e.opacity=i(t),e+""}}function uV(e){return function(t,n){var r=e((t=Pl(t)).h,(n=Pl(n)).h),a=SW(t.c,n.c),i=SW(t.l,n.l),o=SW(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=a(e),t.l=i(e),t.opacity=o(e),t+""}}}var sV=uV(CW),cV=uV(SW);function lV(e){return function t(n){function r(t,r){var a=e((t=Zl(t)).h,(r=Zl(r)).h),i=SW(t.s,r.s),o=SW(t.l,r.l),u=SW(t.opacity,r.opacity);return function(e){return t.h=a(e),t.s=i(e),t.l=o(Math.pow(e,n)),t.opacity=u(e),t+""}}return n=+n,r.gamma=t,r}(1)}var fV=lV(CW),dV=lV(SW);function hV(e,t){void 0===t&&(t=e,e=HW);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}var pV,vV,mV=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n};function gV(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0}var bV="linear",yV="log",xV="pow",_V="sqrt",wV="symlog",OV="time",kV="utc",jV="sequential",EV="diverging",CV="quantile",AV="quantize",SV="threshold",DV="continuous",NV="discrete",FV="discretizing",TV="interpolating",MV="temporal";function IV(){var e,t,n=Fu().unknown(void 0),r=n.domain,a=n.range,i=[0,1],o=!1,u=0,s=0,c=.5;function l(){var n=r().length,l=i[1]<i[0],f=i[1-l],d=gV(n,u,s),h=i[l-0];e=(f-h)/(d||1),o&&(e=Math.floor(e)),h+=(f-h-e*(n-u))*c,t=e*(1-u),o&&(h=Math.round(h),t=Math.round(t));var p=Oa(n).map((function(t){return h+e*t}));return a(l?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),l()):r()},n.range=function(e){return arguments.length?(i=[+e[0],+e[1]],l()):i.slice()},n.rangeRound=function(e){return i=[+e[0],+e[1]],o=!0,l()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,l()):o},n.padding=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),u=s,l()):u},n.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),l()):u},n.paddingOuter=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),l()):s},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),l()):c},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,o,u,s=i[1]<i[0],c=s?a().reverse():a(),l=c.length-1,f=+e[0],d=+e[1];if(f===f&&d===d&&(d<f&&(u=f,f=d,d=u),!(d<c[0]||f>i[1-s])))return n=Math.max(0,Eu(c,f)-1),o=f===d?n:Eu(c,d)-1,f-c[n]>t+1e-10&&++n,s&&(u=n,n=l-o,o=l-u),n>o?void 0:r().slice(n,o+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return IV().domain(r()).range(i).round(o).paddingInner(u).paddingOuter(s).align(c)},l()}function RV(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return RV(t())},e}var PV=Array.prototype.map;function BV(e){return PV.call(e,IU.I)}var zV=Array.prototype.slice;var LV={};function UV(e,t,n){var r=function(){var n=t();return n.invertRange||(n.invertRange=n.invert?function(e){return function(t){var n,r=t[0],a=t[1];return a<r&&(n=r,r=a,a=n),[e.invert(r),e.invert(a)]}}(n):n.invertExtent?function(e){return function(t){var n,r,a,i,o=e.range(),u=t[0],s=t[1],c=-1;for(s<u&&(r=u,u=s,s=r),a=0,i=o.length;a<i;++a)o[a]>=u&&o[a]<=s&&(c<0&&(c=a),n=a);if(!(c<0))return u=e.invertExtent(o[c]),s=e.invertExtent(o[n]),[void 0===u[0]?u[1]:u[0],void 0===s[1]?s[0]:s[1]]}}(n):void 0),n.type=e,n};return r.metadata=Object(IU.J)(Object(IU.a)(n)),r}function WV(e,t,n){return arguments.length>1?(LV[e]=UV(e,t,n),this):VV(e)?LV[e]:void 0}function VV(e){return Object(IU.i)(LV,e)}function qV(e,t){var n=LV[e];return n&&n.metadata[t]}function HV(e){return qV(e,NV)}WV("identity",Zs),WV(bV,Qs,DV),WV(yV,sc,[DV,yV]),WV(xV,hc,DV),WV(_V,pc,DV),WV(wV,bc,DV),WV(OV,Pc,[DV,MV]),WV(kV,qc,[DV,MV]),WV(jV,Kc,[DV,TV]),WV("".concat(jV,"-").concat(bV),Kc,[DV,TV]),WV("".concat(jV,"-").concat(yV),$c,[DV,TV,yV]),WV("".concat(jV,"-").concat(xV),Yc,[DV,TV]),WV("".concat(jV,"-").concat(_V),Jc,[DV,TV]),WV("".concat(jV,"-").concat(wV),Xc,[DV,TV]),WV("".concat(EV,"-").concat(bV),el,[DV,TV]),WV("".concat(EV,"-").concat(yV),tl,[DV,TV,yV]),WV("".concat(EV,"-").concat(xV),rl,[DV,TV]),WV("".concat(EV,"-").concat(_V),al,[DV,TV]),WV("".concat(EV,"-").concat(wV),nl,[DV,TV]),WV(CV,il,[FV,CV]),WV(AV,ol,FV),WV(SV,ul,FV),WV("bin-ordinal",(function e(){var t=[],n=[];function r(e){return null==e||e!==e?void 0:n[(Au(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=BV(e),r):t.slice()},r.range=function(e){return arguments.length?(n=zV.call(e),r):n.slice()},r.tickFormat=function(e,n){return zu(t[0],Object(IU.C)(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),[NV,FV]),WV("ordinal",Fu,NV),WV("band",IV,NV),WV("point",(function(){return RV(IV().paddingInner(1))}),NV);var GV=["clamp","base","constant","exponent"];function KV(e,t,n){return hV(function(e,t){var n=b[function(e){return"interpolate"+e.toLowerCase().split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}(t||"rgb",n),e)}function $V(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function XV(e,t){for(var n in e)JV(n,t(e[n]))}var YV={};function JV(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(YV[e]=t,this):YV[e]}XV({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},$V),XV({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(function(e){return KV($V(e))}));var QV=function(e){return Object(IU.m)(e)?e.map((function(e){return String(e)})):String(e)},ZV=function(e,t){return e[1]-t[1]},eq=function(e,t){return t[1]-e[1]};function tq(e,t){return e.bins?function(e,t,n){var r=e.range(),a=r[0],i=Object(IU.C)(r),o=ZV;if(a>i&&(r=i,i=a,a=r,o=eq),a=Math.floor(a),i=Math.ceil(i),t=t.map((function(t){return[t,e(t)]})).filter((function(e){return a<=e[1]&&e[1]<=i})).sort(o).map((function(e){return e[0]})),n>0&&t.length>1){for(var u=[t[0],Object(IU.C)(t)];t.length>n&&t.length>=3;)t=t.filter((function(e,t){return!(t%2)}));t.length<3&&(t=u)}return t}(e,e.bins):e.ticks?e.ticks(t):e.domain()}function nq(e,t,n,r,a,i){var o=t.type,u=QV;if(o===OV||a===OV)u=e.timeFormat(r);else if(o===kV||a===kV)u=e.utcFormat(r);else if(qV(o,yV)){var s=e.formatFloat(r);if(i||t.bins)u=s;else{var c=rq(t,n,!1);u=function(e){return c(e)?s(e):""}}}else if(t.tickFormat){var l=t.domain();u=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(u=e.format(r));return u}function rq(e,t,n){var r=tq(e,t),a=e.base(),i=Math.log(a),o=Math.max(1,a*t/r.length),u=function(e){var t=e/Math.pow(a,Math.round(Math.log(e)/i));return t*a<a-.5&&(t*=a),t<=o};return n?r.filter(u):u}var aq=(pV={},Object(Zi.a)(pV,CV,"quantiles"),Object(Zi.a)(pV,AV,"thresholds"),Object(Zi.a)(pV,SV,"domain"),pV),iq=(vV={},Object(Zi.a)(vV,CV,"quantiles"),Object(Zi.a)(vV,AV,"domain"),vV);function oq(e,t){return e.bins?function(e){var t=e.slice(0,-1);return t.max=Object(IU.C)(e),t}(e.bins):e.type===yV?rq(e,t,!0):aq[e.type]?function(e){var t=[-1/0].concat(e);return t.max=1/0,t}(e[aq[e.type]]()):tq(e,t)}function uq(e,t,n,r,a,i,o){var u=iq[t.type]&&i!==OV&&i!==kV?function(e,t,n){var r,a=t[iq[t.type]](),i=a.length,o=i>1?a[1]-a[0]:a[0];for(r=1;r<i;++r)o=Math.min(o,a[r]-a[r-1]);return e.formatSpan(0,o,30,n)}(e,t,a):nq(e,t,n,a,i,o);return"symbol"===r&&function(e){return aq[e.type]||e.bins}(t)?sq(u):"discrete"===r?lq(u):fq(u)}var sq=function(e){return function(t,n,r){var a=cq(r[n+1],cq(r.max,1/0)),i=dq(t,e),o=dq(a,e);return i&&o?i+" \u2013 "+o:o?"< "+o:"\u2265 "+i}},cq=function(e,t){return null!=e?e:t},lq=function(e){return function(t,n){return n?e(t):null}},fq=function(e){return function(t){return e(t)}},dq=function(e,t){return Number.isFinite(e)?t(e):null};function hq(e,t,n,r){var a=r||t.type;return Object(IU.u)(n)&&qV(a,MV)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||a!==OV?n||a!==kV?uq(e,t,5,null,n,r,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}function pq(e,t,n){n=n||{};var r=Math.max(3,n.maxlen||7),a=hq(e,t,n.format,n.formatType);if(qV(t.type,FV)){var i=oq(t).slice(1).map(a),o=i.length;return"".concat(o," boundar").concat(1===o?"y":"ies",": ").concat(i.join(", "))}if(HV(t.type)){var u=t.domain(),s=u.length,c=s>r?u.slice(0,r-2).map(a).join(", ")+", ending with "+u.slice(-1).map(a):u.map(a).join(", ");return"".concat(s," value").concat(1===s?"":"s",": ").concat(c)}var l=t.domain();return"values from ".concat(a(l[0])," to ").concat(a(Object(IU.C)(l)))}function vq(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function mq(e){this._context=e}mq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vq(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vq(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var gq=function(){};function bq(e){this._context=e}bq.prototype={areaStart:gq,areaEnd:gq,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:vq(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yq(e){this._context=e}yq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:vq(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xq(e,t){this._basis=new mq(e),this._beta=t}xq.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,a=e[0],i=t[0],o=e[n]-a,u=t[n]-i,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(a+r*o),this._beta*t[s]+(1-this._beta)*(i+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var _q=function e(t){function n(e){return 1===t?new mq(e):new xq(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function wq(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Oq(e,t){this._context=e,this._k=(1-t)/6}Oq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:wq(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:wq(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var kq=function e(t){function n(e){return new Oq(e,t)}return n.tension=function(t){return e(+t)},n}(0);function jq(e,t){this._context=e,this._k=(1-t)/6}jq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:wq(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Eq=function e(t){function n(e){return new jq(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Cq(e,t){this._context=e,this._k=(1-t)/6}Cq.prototype={areaStart:gq,areaEnd:gq,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:wq(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Aq=function e(t){function n(e){return new Cq(e,t)}return n.tension=function(t){return e(+t)},n}(0),Sq=Math.abs,Dq=Math.atan2,Nq=Math.cos,Fq=Math.max,Tq=Math.min,Mq=Math.sin,Iq=Math.sqrt,Rq=1e-12,Pq=Math.PI,Bq=Pq/2,zq=2*Pq;function Lq(e){return e>1?0:e<-1?Pq:Math.acos(e)}function Uq(e){return e>=1?Bq:e<=-1?-Bq:Math.asin(e)}function Wq(e,t,n){var r=e._x1,a=e._y1,i=e._x2,o=e._y2;if(e._l01_a>Rq){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,s=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/s,a=(a*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/s}if(e._l23_a>Rq){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*c+e._x1*e._l23_2a-t*e._l12_2a)/l,o=(o*c+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,a,i,o,e._x2,e._y2)}function Vq(e,t){this._context=e,this._alpha=t}Vq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Wq(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var qq=function e(t){function n(e){return t?new Vq(e,t):new Oq(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Hq(e,t){this._context=e,this._alpha=t}Hq.prototype={areaStart:gq,areaEnd:gq,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Wq(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Gq=function e(t){function n(e){return t?new Hq(e,t):new Cq(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Kq(e,t){this._context=e,this._alpha=t}Kq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Wq(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var $q=function e(t){function n(e){return t?new Kq(e,t):new jq(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Xq(e){this._context=e}Xq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Yq=function(e){return new Xq(e)};function Jq(e){this._context=e}Jq.prototype={areaStart:gq,areaEnd:gq,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Qq(e){return e<0?-1:1}function Zq(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),u=(i*a+o*r)/(r+a);return(Qq(i)+Qq(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(u))||0}function eH(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function tH(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,u=(i-r)/3;e._context.bezierCurveTo(r+u,a+u*t,i-u,o-u*n,i,o)}function nH(e){this._context=e}function rH(e){this._context=new aH(e)}function aH(e){this._context=e}function iH(e){this._context=e}function oH(e){var t,n,r=e.length-1,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}nH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tH(this,this._t0,eH(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tH(this,eH(this,n=Zq(this,e,t)),n);break;default:tH(this,this._t0,n=Zq(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(rH.prototype=Object.create(nH.prototype)).point=function(e,t){nH.prototype.point.call(this,t,e)},aH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}},iH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=oH(e),a=oH(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function uH(e,t){this._context=e,this._t=t}uH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var sH=Math.PI,cH=2*sH,lH=1e-6,fH=cH-lH;function dH(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function hH(){return new dH}dH.prototype=hH.prototype={constructor:dH,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,a,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+i)},arcTo:function(e,t,n,r,a){e=+e,t=+t,n=+n,r=+r,a=+a;var i=this._x1,o=this._y1,u=n-e,s=r-t,c=i-e,l=o-t,f=c*c+l*l;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>lH)if(Math.abs(l*u-s*c)>lH&&a){var d=n-i,h=r-o,p=u*u+s*s,v=d*d+h*h,m=Math.sqrt(p),g=Math.sqrt(f),b=a*Math.tan((sH-Math.acos((p+f-v)/(2*m*g)))/2),y=b/g,x=b/m;Math.abs(y-1)>lH&&(this._+="L"+(e+y*c)+","+(t+y*l)),this._+="A"+a+","+a+",0,0,"+ +(l*d>c*h)+","+(this._x1=e+x*u)+","+(this._y1=t+x*s)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,a,i){e=+e,t=+t,i=!!i;var o=(n=+n)*Math.cos(r),u=n*Math.sin(r),s=e+o,c=t+u,l=1^i,f=i?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>lH||Math.abs(this._y1-c)>lH)&&(this._+="L"+s+","+c),n&&(f<0&&(f=f%cH+cH),f>fH?this._+="A"+n+","+n+",0,1,"+l+","+(e-o)+","+(t-u)+"A"+n+","+n+",0,1,"+l+","+(this._x1=s)+","+(this._y1=c):f>lH&&(this._+="A"+n+","+n+",0,"+ +(f>=sH)+","+l+","+(this._x1=e+n*Math.cos(a))+","+(this._y1=t+n*Math.sin(a))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var pH=hH,vH=function(e){return function(){return e}};function mH(e){return e.innerRadius}function gH(e){return e.outerRadius}function bH(e){return e.startAngle}function yH(e){return e.endAngle}function xH(e){return e&&e.padAngle}function _H(e,t,n,r,a,i,o,u){var s=n-e,c=r-t,l=o-a,f=u-i,d=f*s-l*c;if(!(d*d<Rq))return[e+(d=(l*(t-i)-f*(e-a))/d)*s,t+d*c]}function wH(e,t,n,r,a,i,o){var u=e-n,s=t-r,c=(o?i:-i)/Iq(u*u+s*s),l=c*s,f=-c*u,d=e+l,h=t+f,p=n+l,v=r+f,m=(d+p)/2,g=(h+v)/2,b=p-d,y=v-h,x=b*b+y*y,_=a-i,w=d*v-p*h,O=(y<0?-1:1)*Iq(Fq(0,_*_*x-w*w)),k=(w*y-b*O)/x,j=(-w*b-y*O)/x,E=(w*y+b*O)/x,C=(-w*b+y*O)/x,A=k-m,S=j-g,D=E-m,N=C-g;return A*A+S*S>D*D+N*N&&(k=E,j=C),{cx:k,cy:j,x01:-l,y01:-f,x11:k*(a/_-1),y11:j*(a/_-1)}}Array.prototype.slice;var OH=function(e){return"object"===typeof e&&"length"in e?e:Array.from(e)};function kH(e){return e[0]}function jH(e){return e[1]}var EH=function(e,t){var n=vH(!0),r=null,a=Yq,i=null;function o(o){var u,s,c,l=(o=OH(o)).length,f=!1;for(null==r&&(i=a(c=pH())),u=0;u<=l;++u)!(u<l&&n(s=o[u],u,o))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(s,u,o),+t(s,u,o));if(c)return i=null,c+""||null}return e="function"===typeof e?e:void 0===e?kH:vH(e),t="function"===typeof t?t:void 0===t?jH:vH(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:vH(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:vH(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:vH(!!e),o):n},o.curve=function(e){return arguments.length?(a=e,null!=r&&(i=a(r)),o):a},o.context=function(e){return arguments.length?(null==e?r=i=null:i=a(r=e),o):r},o},CH=function(e,t,n){var r=null,a=vH(!0),i=null,o=Yq,u=null;function s(s){var c,l,f,d,h,p=(s=OH(s)).length,v=!1,m=new Array(p),g=new Array(p);for(null==i&&(u=o(h=pH())),c=0;c<=p;++c){if(!(c<p&&a(d=s[c],c,s))===v)if(v=!v)l=c,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),f=c-1;f>=l;--f)u.point(m[f],g[f]);u.lineEnd(),u.areaEnd()}v&&(m[c]=+e(d,c,s),g[c]=+t(d,c,s),u.point(r?+r(d,c,s):m[c],n?+n(d,c,s):g[c]))}if(h)return u=null,h+""||null}function c(){return EH().defined(a).curve(o).context(i)}return e="function"===typeof e?e:void 0===e?kH:vH(+e),t="function"===typeof t?t:vH(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?jH:vH(+n),s.x=function(t){return arguments.length?(e="function"===typeof t?t:vH(+t),r=null,s):e},s.x0=function(t){return arguments.length?(e="function"===typeof t?t:vH(+t),s):e},s.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:vH(+e),s):r},s.y=function(e){return arguments.length?(t="function"===typeof e?e:vH(+e),n=null,s):t},s.y0=function(e){return arguments.length?(t="function"===typeof e?e:vH(+e),s):t},s.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:vH(+e),s):n},s.lineX0=s.lineY0=function(){return c().x(e).y(t)},s.lineY1=function(){return c().x(e).y(n)},s.lineX1=function(){return c().x(r).y(t)},s.defined=function(e){return arguments.length?(a="function"===typeof e?e:vH(!!e),s):a},s.curve=function(e){return arguments.length?(o=e,null!=i&&(u=o(i)),s):o},s.context=function(e){return arguments.length?(null==e?i=u=null:u=o(i=e),s):i},s},AH={draw:function(e,t){var n=Math.sqrt(t/Pq);e.moveTo(n,0),e.arc(0,0,n,0,zq)}},SH=(Math.sqrt(1/3),Math.sin(Pq/10)/Math.sin(7*Pq/10)),DH=(Math.sin(zq/10),Math.cos(zq/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),/^([A-Za-z]+:)?\/\//),NH=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,FH=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,TH="file://";function MH(e,t){return IH.apply(this,arguments)}function IH(){return(IH=Object(zt.a)(k.a.mark((function e(t,n){var r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sanitize(t,n);case 2:return r=e.sent,a=r.href,e.abrupt("return",r.localFile?this.file(a):this.http(a,n));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function RH(e,t){return PH.apply(this,arguments)}function PH(){return(PH=Object(zt.a)(k.a.mark((function e(t,n){var r,a,i,o,u,s,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(IU.e)({},this.options,n),r=this.fileAccess,a={href:null},s=NH.test(t.replace(FH,"")),null!=t&&"string"===typeof t&&s||Object(IU.d)("Sanitize failure, invalid URI: "+Object(IU.F)(t)),c=DH.test(t),(u=n.baseURL)&&!c&&(t.startsWith("/")||"/"===u[u.length-1]||(t="/"+t),t=u+t),o=(i=t.startsWith(TH))||"file"===n.mode||"http"!==n.mode&&!c&&r,i?t=t.slice(TH.length):t.startsWith("//")&&("file"===n.defaultProtocol?(t=t.slice(2),o=!0):t=(n.defaultProtocol||"http")+":"+t),Object.defineProperty(a,"localFile",{value:!!o}),a.href=t,n.target&&(a.target=n.target+""),n.rel&&(a.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(a.crossOrigin=n.crossOrigin+""),e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function BH(e){return e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){e?r(e):n(t)}))}))}:zH}function zH(){return LH.apply(this,arguments)}function LH(){return(LH=Object(zt.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(IU.d)("No file system access.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UH(e){return e?function(){var t=Object(zt.a)(k.a.mark((function t(n,r){var a,i,o;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(IU.e)({},this.options.http,r),i=r&&r.response,t.next=4,e(n,a);case 4:return o=t.sent,t.abrupt("return",o.ok?Object(IU.p)(o[i])?o[i]():o.text():Object(IU.d)(o.status+""+o.statusText));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}():WH}function WH(){return VH.apply(this,arguments)}function VH(){return(VH=Object(zt.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(IU.d)("No HTTP fetch method available.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}IU.G,IU.I,IU.I,IU.H,IU.K,IU.j;function qH(e){var t=function(t,n){var r={delimiter:e};return HH(t,n?Object(IU.e)(n,r):r)};return t.responseType="text",t}function HH(e,t){return t.header&&(e=t.header.map(IU.F).join(t.delimiter)+"\n"+e),Object(un.a)(t.delimiter).parse(e+"")}HH.responseType="text";var GH=n(368),KH={interior:function(e,t){return e!==t},exterior:function(e,t){return e===t}};function $H(e,t){var n,r,a,i;return e=Object(GH.a)(e,t),t&&t.feature?(n=fn.a,a=t.feature):t&&t.mesh?(n=fn.b,a=t.mesh,i=KH[t.filter]):Object(IU.d)("Missing TopoJSON feature or mesh parameter."),(r=(r=e.objects[a])?n(e,r,i):Object(IU.d)("Invalid TopoJSON object: "+a))&&r.features||[r]}$H.responseType="json";qH(","),qH("\t"),GH.a;var XH=function(e,t){return function(n){return{options:n||{},sanitize:RH,load:MH,fileAccess:!!t,file:BH(t),http:UH(e)}}}("undefined"!==typeof fetch&&fetch,null),YH=0;var JH="p_";function QH(e){return e&&e.gradient}function ZH(e,t,n){var r=e.gradient,a=e.id,i="radial"===r?JH:"";return a||(a=e.id="gradient_"+YH++,"radial"===r?(e.x1=eG(e.x1,.5),e.y1=eG(e.y1,.5),e.r1=eG(e.r1,0),e.x2=eG(e.x2,.5),e.y2=eG(e.y2,.5),e.r2=eG(e.r2,.5),i=JH):(e.x1=eG(e.x1,0),e.y1=eG(e.y1,0),e.x2=eG(e.x2,1),e.y2=eG(e.y2,0))),t[a]=e,"url("+(n||"")+"#"+i+a+")"}function eG(e,t){return null!=e?e:t}var tG={basis:{curve:function(e){return new mq(e)}},"basis-closed":{curve:function(e){return new bq(e)}},"basis-open":{curve:function(e){return new yq(e)}},bundle:{curve:_q,tension:"beta",value:.85},cardinal:{curve:kq,tension:"tension",value:0},"cardinal-open":{curve:Eq,tension:"tension",value:0},"cardinal-closed":{curve:Aq,tension:"tension",value:0},"catmull-rom":{curve:qq,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Gq,tension:"alpha",value:.5},"catmull-rom-open":{curve:$q,tension:"alpha",value:.5},linear:{curve:Yq},"linear-closed":{curve:function(e){return new Jq(e)}},monotone:{horizontal:function(e){return new rH(e)},vertical:function(e){return new nH(e)}},natural:{curve:function(e){return new iH(e)}},step:{curve:function(e){return new uH(e,.5)}},"step-after":{curve:function(e){return new uH(e,1)}},"step-before":{curve:function(e){return new uH(e,0)}}};function nG(e,t,n){var r=Object(IU.i)(tG,e)&&tG[e],a=null;return r&&(a=r.curve||r[t||"vertical"],r.tension&&null!=n&&(a=a[r.tension](n))),a}var rG={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},aG=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function iG(e){var t,n,r,a,i,o,u,s,c,l,f=[],d=e.slice().replace(aG[0],"###$1").split(aG[1]).slice(1);for(u=0,c=d.length;u<c;++u){for(n=(t=d[u]).slice(1).trim().replace(aG[2],"$1###$2").replace(aG[3],"$1###$2").split(aG[4]),r=[i=t.charAt(0)],s=0,l=n.length;s<l;++s)(a=+n[s])===a&&r.push(a);if(o=rG[i.toLowerCase()],r.length-1>o){var h=r.length;for(s=1,f.push([i].concat(r.slice(s,s+=o))),i="M"===i?"L":"m"===i?"l":i;s<h;s+=o)f.push([i].concat(r.slice(s,s+o)))}else f.push(r)}return f}var oG=Math.PI/180,uG=Math.PI/2,sG=2*Math.PI,cG=Math.sqrt(3)/2,lG={},fG={},dG=[].join;function hG(e){var t=dG.call(e);if(fG[t])return fG[t];var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],u=e[5],s=e[6],c=e[7],l=c*o,f=-s*u,d=s*o,h=c*u,p=Math.cos(a),v=Math.sin(a),m=Math.cos(i),g=Math.sin(i),b=.5*(i-a),y=Math.sin(.5*b),x=8/3*y*y/Math.sin(b),_=n+p-x*v,w=r+v+x*p,O=n+m,k=r+g,j=O+x*g,E=k-x*m;return fG[t]=[l*_+f*w,d*_+h*w,l*j+f*E,d*j+h*E,l*O+f*k,d*O+h*k]}var pG=["l",0,0,0,0,0,0,0];function vG(e,t,n){var r=pG[0]=e[0];if("a"===r||"A"===r)pG[1]=t*e[1],pG[2]=n*e[2],pG[3]=e[3],pG[4]=e[4],pG[5]=e[5],pG[6]=t*e[6],pG[7]=n*e[7];else if("h"===r||"H"===r)pG[1]=t*e[1];else if("v"===r||"V"===r)pG[1]=n*e[1];else for(var a=1,i=e.length;a<i;++a)pG[a]=(a%2==1?t:n)*e[a];return pG}function mG(e,t,n,r,a,i){var o,u,s,c,l,f=null,d=0,h=0,p=0,v=0;null==n&&(n=0),null==r&&(r=0),null==a&&(a=1),null==i&&(i=a),e.beginPath&&e.beginPath();for(var m=0,g=t.length;m<g;++m){switch(o=t[m],1===a&&1===i||(o=vG(o,a,i)),o[0]){case"l":d+=o[1],h+=o[2],e.lineTo(d+n,h+r);break;case"L":d=o[1],h=o[2],e.lineTo(d+n,h+r);break;case"h":d+=o[1],e.lineTo(d+n,h+r);break;case"H":d=o[1],e.lineTo(d+n,h+r);break;case"v":h+=o[1],e.lineTo(d+n,h+r);break;case"V":h=o[1],e.lineTo(d+n,h+r);break;case"m":d+=o[1],h+=o[2],e.moveTo(d+n,h+r);break;case"M":d=o[1],h=o[2],e.moveTo(d+n,h+r);break;case"c":u=d+o[5],s=h+o[6],p=d+o[3],v=h+o[4],e.bezierCurveTo(d+o[1]+n,h+o[2]+r,p+n,v+r,u+n,s+r),d=u,h=s;break;case"C":d=o[5],h=o[6],p=o[3],v=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,p+n,v+r,d+n,h+r);break;case"s":u=d+o[3],s=h+o[4],p=2*d-p,v=2*h-v,e.bezierCurveTo(p+n,v+r,d+o[1]+n,h+o[2]+r,u+n,s+r),p=d+o[1],v=h+o[2],d=u,h=s;break;case"S":u=o[3],s=o[4],p=2*d-p,v=2*h-v,e.bezierCurveTo(p+n,v+r,o[1]+n,o[2]+r,u+n,s+r),d=u,h=s,p=o[1],v=o[2];break;case"q":u=d+o[3],s=h+o[4],p=d+o[1],v=h+o[2],e.quadraticCurveTo(p+n,v+r,u+n,s+r),d=u,h=s;break;case"Q":u=o[3],s=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,u+n,s+r),d=u,h=s,p=o[1],v=o[2];break;case"t":u=d+o[1],s=h+o[2],null===f[0].match(/[QqTt]/)?(p=d,v=h):"t"===f[0]?(p=2*d-c,v=2*h-l):"q"===f[0]&&(p=2*d-p,v=2*h-v),c=p,l=v,e.quadraticCurveTo(p+n,v+r,u+n,s+r),h=s,p=(d=u)+o[1],v=h+o[2];break;case"T":u=o[1],s=o[2],p=2*d-p,v=2*h-v,e.quadraticCurveTo(p+n,v+r,u+n,s+r),d=u,h=s;break;case"a":gG(e,d+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+d+n,o[7]+h+r]),d+=o[6],h+=o[7];break;case"A":gG(e,d+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),d=o[6],h=o[7];break;case"z":case"Z":e.closePath()}f=o}}function gG(e,t,n,r){for(var a=function(e,t,n,r,a,i,o,u,s){var c=dG.call(arguments);if(lG[c])return lG[c];var l=o*oG,f=Math.sin(l),d=Math.cos(l),h=d*(u-e)*.5+f*(s-t)*.5,p=d*(s-t)*.5-f*(u-e)*.5,v=h*h/((n=Math.abs(n))*n)+p*p/((r=Math.abs(r))*r);v>1&&(n*=v=Math.sqrt(v),r*=v);var m=d/n,g=f/n,b=-f/r,y=d/r,x=m*u+g*s,_=b*u+y*s,w=m*e+g*t,O=b*e+y*t,k=1/((w-x)*(w-x)+(O-_)*(O-_))-.25;k<0&&(k=0);var j=Math.sqrt(k);i==a&&(j=-j);var E=.5*(x+w)-j*(O-_),C=.5*(_+O)+j*(w-x),A=Math.atan2(_-C,x-E),S=Math.atan2(O-C,w-E)-A;S<0&&1===i?S+=sG:S>0&&0===i&&(S-=sG);for(var D=Math.ceil(Math.abs(S/(uG+.001))),N=[],F=0;F<D;++F){var T=A+F*S/D,M=A+(F+1)*S/D;N[F]=[E,C,T,M,n,r,f,d]}return lG[c]=N}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n),i=0;i<a.length;++i){var o=hG(a[i]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}var bG=.5773502691896257,yG={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,sG)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,a=n/2.5,i=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-i),e.lineTo(a,-i),e.lineTo(0,-n),e.lineTo(-a,-i),e.lineTo(-r,-i),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=cG*n,a=r-n*bG,i=n/4;e.moveTo(0,-r-a),e.lineTo(-i,r-a),e.lineTo(i,r-a),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=cG*n,a=r-n*bG;e.moveTo(0,-r-a),e.lineTo(-n,r-a),e.lineTo(n,r-a),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=cG*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=cG*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=cG*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=cG*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function xG(e){return Object(IU.i)(yG,e)?yG[e]:function(e){if(!Object(IU.i)(_G,e)){var t=iG(e);_G[e]={draw:function(e,n){mG(e,t,0,0,Math.sqrt(n)/2)}}}return _G[e]}(e)}var _G={};var wG=.448084975506;function OG(e){return e.x}function kG(e){return e.y}function jG(e){return e.width}function EG(e){return e.height}function CG(e){return"function"===typeof e?e:function(){return+e}}function AG(e,t,n){return Math.max(t,Math.min(e,n))}function SG(e,t){return null!=e?e:t}var DG=function(e){return e.x||0},NG=function(e){return e.y||0},FG=function(e){return!(!1===e.defined)},TG=function(){var e=mH,t=gH,n=vH(0),r=null,a=bH,i=yH,o=xH,u=null;function s(){var s,c,l=+e.apply(this,arguments),f=+t.apply(this,arguments),d=a.apply(this,arguments)-Bq,h=i.apply(this,arguments)-Bq,p=Sq(h-d),v=h>d;if(u||(u=s=pH()),f<l&&(c=f,f=l,l=c),f>Rq)if(p>zq-Rq)u.moveTo(f*Nq(d),f*Mq(d)),u.arc(0,0,f,d,h,!v),l>Rq&&(u.moveTo(l*Nq(h),l*Mq(h)),u.arc(0,0,l,h,d,v));else{var m,g,b=d,y=h,x=d,_=h,w=p,O=p,k=o.apply(this,arguments)/2,j=k>Rq&&(r?+r.apply(this,arguments):Iq(l*l+f*f)),E=Tq(Sq(f-l)/2,+n.apply(this,arguments)),C=E,A=E;if(j>Rq){var S=Uq(j/l*Mq(k)),D=Uq(j/f*Mq(k));(w-=2*S)>Rq?(x+=S*=v?1:-1,_-=S):(w=0,x=_=(d+h)/2),(O-=2*D)>Rq?(b+=D*=v?1:-1,y-=D):(O=0,b=y=(d+h)/2)}var N=f*Nq(b),F=f*Mq(b),T=l*Nq(_),M=l*Mq(_);if(E>Rq){var I,R=f*Nq(y),P=f*Mq(y),B=l*Nq(x),z=l*Mq(x);if(p<Pq&&(I=_H(N,F,B,z,R,P,T,M))){var L=N-I[0],U=F-I[1],W=R-I[0],V=P-I[1],q=1/Mq(Lq((L*W+U*V)/(Iq(L*L+U*U)*Iq(W*W+V*V)))/2),H=Iq(I[0]*I[0]+I[1]*I[1]);C=Tq(E,(l-H)/(q-1)),A=Tq(E,(f-H)/(q+1))}}O>Rq?A>Rq?(m=wH(B,z,N,F,f,A,v),g=wH(R,P,T,M,f,A,v),u.moveTo(m.cx+m.x01,m.cy+m.y01),A<E?u.arc(m.cx,m.cy,A,Dq(m.y01,m.x01),Dq(g.y01,g.x01),!v):(u.arc(m.cx,m.cy,A,Dq(m.y01,m.x01),Dq(m.y11,m.x11),!v),u.arc(0,0,f,Dq(m.cy+m.y11,m.cx+m.x11),Dq(g.cy+g.y11,g.cx+g.x11),!v),u.arc(g.cx,g.cy,A,Dq(g.y11,g.x11),Dq(g.y01,g.x01),!v))):(u.moveTo(N,F),u.arc(0,0,f,b,y,!v)):u.moveTo(N,F),l>Rq&&w>Rq?C>Rq?(m=wH(T,M,R,P,l,-C,v),g=wH(N,F,B,z,l,-C,v),u.lineTo(m.cx+m.x01,m.cy+m.y01),C<E?u.arc(m.cx,m.cy,C,Dq(m.y01,m.x01),Dq(g.y01,g.x01),!v):(u.arc(m.cx,m.cy,C,Dq(m.y01,m.x01),Dq(m.y11,m.x11),!v),u.arc(0,0,l,Dq(m.cy+m.y11,m.cx+m.x11),Dq(g.cy+g.y11,g.cx+g.x11),v),u.arc(g.cx,g.cy,C,Dq(g.y11,g.x11),Dq(g.y01,g.x01),!v))):u.arc(0,0,l,_,x,v):u.lineTo(T,M)}else u.moveTo(0,0);if(u.closePath(),s)return u=null,s+""||null}return s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-Pq/2;return[Nq(r)*n,Mq(r)*n]},s.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:vH(+t),s):e},s.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:vH(+e),s):t},s.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:vH(+e),s):n},s.padRadius=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:vH(+e),s):r},s.startAngle=function(e){return arguments.length?(a="function"===typeof e?e:vH(+e),s):a},s.endAngle=function(e){return arguments.length?(i="function"===typeof e?e:vH(+e),s):i},s.padAngle=function(e){return arguments.length?(o="function"===typeof e?e:vH(+e),s):o},s.context=function(e){return arguments.length?(u=null==e?null:e,s):u},s}().startAngle((function(e){return e.startAngle||0})).endAngle((function(e){return e.endAngle||0})).padAngle((function(e){return e.padAngle||0})).innerRadius((function(e){return e.innerRadius||0})).outerRadius((function(e){return e.outerRadius||0})).cornerRadius((function(e){return e.cornerRadius||0})),MG=CH().x(DG).y1(NG).y0((function(e){return(e.y||0)+(e.height||0)})).defined(FG),IG=CH().y(NG).x1(DG).x0((function(e){return(e.x||0)+(e.width||0)})).defined(FG),RG=EH().x(DG).y(NG).defined(FG),PG=function(){var e=OG,t=kG,n=jG,r=EG,a=CG(0),i=a,o=a,u=a,s=null;function c(c,l,f){var d,h=null!=l?l:+e.call(this,c),p=null!=f?f:+t.call(this,c),v=+n.call(this,c),m=+r.call(this,c),g=Math.min(v,m)/2,b=AG(+a.call(this,c),0,g),y=AG(+i.call(this,c),0,g),x=AG(+o.call(this,c),0,g),_=AG(+u.call(this,c),0,g);if(s||(s=d=pH()),b<=0&&y<=0&&x<=0&&_<=0)s.rect(h,p,v,m);else{var w=h+v,O=p+m;s.moveTo(h+b,p),s.lineTo(w-y,p),s.bezierCurveTo(w-wG*y,p,w,p+wG*y,w,p+y),s.lineTo(w,O-_),s.bezierCurveTo(w,O-wG*_,w-wG*_,O,w-_,O),s.lineTo(h+x,O),s.bezierCurveTo(h+wG*x,O,h,O-wG*x,h,O-x),s.lineTo(h,p+b),s.bezierCurveTo(h,p+wG*b,h+wG*b,p,h+b,p),s.closePath()}if(d)return s=null,d+""||null}return c.x=function(t){return arguments.length?(e=CG(t),c):e},c.y=function(e){return arguments.length?(t=CG(e),c):t},c.width=function(e){return arguments.length?(n=CG(e),c):n},c.height=function(e){return arguments.length?(r=CG(e),c):r},c.cornerRadius=function(e,t,n,r){return arguments.length?(a=CG(e),i=null!=t?CG(t):a,u=null!=n?CG(n):a,o=null!=r?CG(r):i,c):a},c.context=function(e){return arguments.length?(s=null==e?null:e,c):s},c}().x(DG).y(NG).width((function(e){return e.width||0})).height((function(e){return e.height||0})).cornerRadius((function(e){return SG(e.cornerRadiusTopLeft,e.cornerRadius)||0}),(function(e){return SG(e.cornerRadiusTopRight,e.cornerRadius)||0}),(function(e){return SG(e.cornerRadiusBottomRight,e.cornerRadius)||0}),(function(e){return SG(e.cornerRadiusBottomLeft,e.cornerRadius)||0})),BG=function(e,t){var n=null;function r(){var r;if(n||(n=r=pH()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"===typeof e?e:vH(e||AH),t="function"===typeof t?t:vH(void 0===t?64:+t),r.type=function(t){return arguments.length?(e="function"===typeof t?t:vH(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:vH(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type((function(e){return xG(e.shape||"circle")})).size((function(e){return SG(e.size,64)})),zG=function(){var e,t,n,r,a,i,o,u,s=null;function c(e,t,n){var r=n/2;if(a){var c=o-t,l=e-i;if(c||l){var f=Math.sqrt(c*c+l*l),d=(c/=f)*u,h=(l/=f)*u,p=Math.atan2(l,c);s.moveTo(i-d,o-h),s.lineTo(e-c*r,t-l*r),s.arc(e,t,r,p-Math.PI,p),s.lineTo(i+d,o+h),s.arc(i,o,u,p,p+Math.PI)}else s.arc(e,t,r,0,sG);s.closePath()}else a=1;i=e,o=t,u=r}function l(i){var o,u,l,f=i.length,d=!1;for(null==s&&(s=l=pH()),o=0;o<=f;++o)!(o<f&&r(u=i[o],o,i))===d&&(d=!d)&&(a=0),d&&c(+e(u,o,i),+t(u,o,i),+n(u,o,i));if(l)return s=null,l+""||null}return l.x=function(t){return arguments.length?(e=t,l):e},l.y=function(e){return arguments.length?(t=e,l):t},l.size=function(e){return arguments.length?(n=e,l):n},l.defined=function(e){return arguments.length?(r=e,l):r},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l}().x(DG).y(NG).defined(FG).size((function(e){return e.size||1}));function LG(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function UG(e,t,n,r){return PG.context(e)(t,n,r)}var WG=1;function VG(e,t,n){var r=t.clip,a=e._defs,i=t.clip_id||(t.clip_id="clip"+WG++),o=a.clipping[i]||(a.clipping[i]={id:i});return Object(IU.p)(r)?o.path=r(null):LG(n)?o.path=UG(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+i+")"}function qG(e){this.clear(),e&&this.union(e)}function HG(e){this.mark=e,this.bounds=this.bounds||new qG}function GG(e){HG.call(this,e),this.items=this.items||[]}function KG(e){this._pending=0,this._loader=e||XH()}function $G(e){e._pending+=1}function XG(e){e._pending-=1}function YG(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){var r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e}qG.prototype={clone:function(){return new qG(this)},clear:function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty:function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals:function(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set:function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add:function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand:function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round:function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale:function(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate:function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate:function(e,t,n){var r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints:function(e,t,n){var r=this.x1,a=this.y1,i=this.x2,o=this.y2,u=Math.cos(e),s=Math.sin(e),c=t-t*u+n*s,l=n-t*s-n*u;return[u*r-s*a+c,s*r+u*a+l,u*r-s*o+c,s*r+u*o+l,u*i-s*a+c,s*i+u*a+l,u*i-s*o+c,s*i+u*o+l]},union:function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect:function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses:function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith:function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects:function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains:function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1}},Object(IU.k)(GG,HG),KG.prototype={pending:function(){return this._pending},sanitizeURL:function(e){var t=this;return $G(t),t._loader.sanitize(e,{context:"href"}).then((function(e){return XG(t),e})).catch((function(){return XG(t),null}))},loadImage:function(e){var t=this,n=ku();return $G(t),t._loader.sanitize(e,{context:"image"}).then((function(e){var r=e.href;if(!r||!n)throw{url:r};var a=new n,i=Object(IU.i)(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=i&&(a.crossOrigin=i),a.onload=function(){return XG(t)},a.onerror=function(){return XG(t)},a.src=r,a})).catch((function(e){return XG(t),{complete:!1,width:0,height:0,src:e&&e.url||""}}))},ready:function(){var e=this;return new Promise((function(t){!function n(r){e.pending()?setTimeout((function(){n(!0)}),10):t(r)}(!1)}))}};var JG,QG,ZG,eK,tK,nK,rK,aK,iK=sG-1e-8,oK=function(e,t){return JG.add(e,t)},uK=function(e,t){return oK(QG=e,ZG=t)},sK=function(e){return oK(e,JG.y1)},cK=function(e){return oK(JG.x1,e)},lK=function(e,t){return tK*e+rK*t},fK=function(e,t){return nK*e+aK*t},dK=function(e,t){return oK(lK(e,t),fK(e,t))},hK=function(e,t){return uK(lK(e,t),fK(e,t))};function pK(e,t){return JG=e,t?(eK=t*oG,tK=aK=Math.cos(eK),nK=Math.sin(eK),rK=-nK):(tK=aK=1,eK=nK=rK=0),vK}var vK={beginPath:function(){},closePath:function(){},moveTo:hK,lineTo:hK,rect:function(e,t,n,r){eK?(dK(e+n,t),dK(e+n,t+r),dK(e,t+r),hK(e,t)):(oK(e+n,t+r),uK(e,t))},quadraticCurveTo:function(e,t,n,r){var a=lK(e,t),i=fK(e,t),o=lK(n,r),u=fK(n,r);mK(QG,a,o,sK),mK(ZG,i,u,cK),uK(o,u)},bezierCurveTo:function(e,t,n,r,a,i){var o=lK(e,t),u=fK(e,t),s=lK(n,r),c=fK(n,r),l=lK(a,i),f=fK(a,i);gK(QG,o,s,l,sK),gK(ZG,u,c,f,cK),uK(l,f)},arc:function(e,t,n,r,a,i){if(r+=eK,a+=eK,QG=n*Math.cos(a)+e,ZG=n*Math.sin(a)+t,Math.abs(a-r)>iK)oK(e-n,t-n),oK(e+n,t+n);else{var o,u,s=function(r){return oK(n*Math.cos(r)+e,n*Math.sin(r)+t)};if(s(r),s(a),a!==r)if((r%=sG)<0&&(r+=sG),(a%=sG)<0&&(a+=sG),a<r&&(i=!i,o=r,r=a,a=o),i)for(a-=sG,o=r-r%uG,u=0;u<4&&o>a;++u,o-=uG)s(o);else for(o=r-r%uG+uG,u=0;u<4&&o<a;++u,o+=uG)s(o)}}};function mK(e,t,n,r){var a=(e-t)/(e+n-2*t);0<a&&a<1&&r(e+(t-e)*a)}function gK(e,t,n,r,a){var i,o=r-e+3*t-3*n,u=e+n-2*t,s=e-t,c=0,l=0;Math.abs(o)>1e-14?(i=u*u+s*o)>=0&&(c=(-u+(i=Math.sqrt(i)))/o,l=(-u-i)/o):c=.5*s/u,0<c&&c<1&&a(bK(c,e,t,n,r)),0<l&&l<1&&a(bK(l,e,t,n,r))}function bK(e,t,n,r,a){var i=1-e,o=i*i,u=e*e;return o*i*t+3*o*e*n+3*i*u*r+u*e*a}var yK=(yK=Ou(1,1))?yK.getContext("2d"):null,xK=new qG;function _K(e){return function(t,n){if(!yK)return!0;e(yK,t),xK.clear().union(t.bounds).intersect(n).round();for(var r=xK.x1,a=xK.y1,i=xK.x2,o=xK.y2,u=a;u<=o;++u)for(var s=r;s<=i;++s)if(yK.isPointInPath(s,u))return!0;return!1}}function wK(e,t){return t.contains(e.x||0,e.y||0)}function OK(e,t){var n=e.x||0,r=e.y||0,a=e.width||0,i=e.height||0;return t.intersects(xK.set(n,r,n+a,r+i))}function kK(e,t,n,r,a){var i,o,u,s,c=e.x1,l=e.y1,f=e.x2,d=e.y2,h=r-t,p=a-n,v=0,m=1;for(s=0;s<4;++s){if(0===s&&(i=-h,o=-(c-t)),1===s&&(i=h,o=f-t),2===s&&(i=-p,o=-(l-n)),3===s&&(i=p,o=d-n),Math.abs(i)<1e-10&&o<0)return!1;if(u=o/i,i<0){if(u>m)return!1;u>v&&(v=u)}else if(i>0){if(u<v)return!1;u<m&&(m=u)}}return!0}function jK(e,t){e.globalCompositeOperation=t.blend||"source-over"}function EK(e,t){return null==e?t:e}function CK(e,t){for(var n=t.length,r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function AK(e,t,n){return QH(n)?function(e,t,n){var r,a=n.width(),i=n.height();if("radial"===t.gradient)r=e.createRadialGradient(n.x1+EK(t.x1,.5)*a,n.y1+EK(t.y1,.5)*i,Math.max(a,i)*EK(t.r1,0),n.x1+EK(t.x2,.5)*a,n.y1+EK(t.y2,.5)*i,Math.max(a,i)*EK(t.r2,.5));else{var o=EK(t.x1,0),u=EK(t.y1,0),s=EK(t.x2,1),c=EK(t.y2,0);if(o!==s&&u!==c&&a!==i){var l=Ou(Math.ceil(a),Math.ceil(i)),f=l.getContext("2d");return f.scale(a,i),f.fillStyle=CK(f.createLinearGradient(o,u,s,c),t.stops),f.fillRect(0,0,a,i),e.createPattern(l,"no-repeat")}r=e.createLinearGradient(n.x1+o*a,n.y1+u*i,n.x1+s*a,n.y1+c*i)}return CK(r,t.stops)}(e,n,t.bounds):n}function SK(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=AK(e,t,t.fill),!0)}var DK=[];function NK(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&((n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=AK(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||DK),e.lineDashOffset=t.strokeDashOffset||0),!0))}function FK(e,t){return e.zindex-t.zindex||e.index-t.index}function TK(e){if(!e.zdirty)return e.zitems;var t,n,r,a=e.items,i=[];for(n=0,r=a.length;n<r;++n)(t=a[n]).index=n,t.zindex&&i.push(t);return e.zdirty=!1,e.zitems=i.sort(FK)}function MK(e,t){var n,r,a=e.items;if(a&&a.length){var i=TK(e);if(i&&i.length){for(n=0,r=a.length;n<r;++n)a[n].zindex||t(a[n]);a=i}for(n=0,r=a.length;n<r;++n)t(a[n])}}function IK(e,t){var n,r,a=e.items;if(!a||!a.length)return null;var i=TK(e);for(i&&i.length&&(a=i),r=a.length;--r>=0;)if(n=t(a[r]))return n;if(a===i)for(r=(a=e.items).length;--r>=0;)if(!a[r].zindex&&(n=t(a[r])))return n;return null}function RK(e){return function(t,n,r){MK(n,(function(n){r&&!r.intersects(n.bounds)||PK(e,t,n,n)}))}}function PK(e,t,n,r){var a=null==n.opacity?1:n.opacity;0!==a&&(e(t,r)||(jK(t,n),n.fill&&SK(t,n,a)&&t.fill(),n.stroke&&NK(t,n,a)&&t.stroke()))}function BK(e){return e=e||IU.M,function(t,n,r,a,i,o){return r*=t.pixelRatio,a*=t.pixelRatio,IK(n,(function(n){var u=n.bounds;if((!u||u.contains(i,o))&&u)return e(t,n,r,a,i,o)?n:void 0}))}}function zK(e,t){return function(n,r,a,i){var o,u,s=Array.isArray(r)?r[0]:r,c=null==t?s.fill:t,l=s.stroke&&n.isPointInStroke;return l&&(o=s.strokeWidth,u=s.strokeCap,n.lineWidth=null!=o?o:1,n.lineCap=null!=u?u:"butt"),!e(n,r)&&(c&&n.isPointInPath(a,i)||l&&n.isPointInStroke(a,i))}}function LK(e){return BK(zK(e))}function UK(e,t){return"translate("+e+","+t+")"}function WK(e){return"rotate("+e+")"}function VK(e){return UK(e.x||0,e.y||0)}function qK(e,t,n){function r(e,n){var r=n.x||0,a=n.y||0,i=n.angle||0;e.translate(r,a),i&&e.rotate(i*=oG),e.beginPath(),t(e,n),i&&e.rotate(-i),e.translate(-r,-a)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",function(e){return UK(e.x||0,e.y||0)+(e.angle?" "+WK(e.angle):"")}(n)),e("d",t(null,n))},bound:function(e,n){return t(pK(e,n.angle),n),YG(e,n).translate(n.x||0,n.y||0)},draw:RK(r),pick:LK(r),isect:n||_K(r)}}var HK=qK("arc",(function(e,t){return TG.context(e)(t)}));function GK(e,t,n){function r(e,n){e.beginPath(),t(e,n)}var a,i=zK(r);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,n){var r=n.items;return 0===r.length?e:(t(pK(e),r),YG(e,r[0]))},draw:(a=r,function(e,t,n){!t.items.length||n&&!n.intersects(t.bounds)||PK(a,e,t.items[0],t.items)}),pick:function(e,t,n,r,a,o){var u=t.items,s=t.bounds;return!u||!u.length||s&&!s.contains(a,o)?null:(n*=e.pixelRatio,r*=e.pixelRatio,i(e,u,n,r)?u[0]:null)},isect:wK,tip:n}}var KK=GK("area",(function(e,t){var n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?IG:MG).curve(nG(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,a="horizontal"===e[0].orient?t[1]:t[0],i="horizontal"===e[0].orient?"y":"x",o=e.length,u=1/0;--o>=0;)!1!==e[o].defined&&(r=Math.abs(e[o][i]-a))<u&&(u=r,n=e[o]);return n}));function $K(e,t){e.beginPath(),LG(t)?UG(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function XK(e){var t=EK(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function YK(e,t){var n=XK(t);e("d",UG(null,t,n,n))}function JK(e,t,n,r){var a=XK(t);e.beginPath(),UG(e,t,(n||0)+a,(r||0)+a)}var QK=zK(JK),ZK=zK(JK,!1),e$=zK(JK,!0);var t$={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",VK(t))},bound:function(e,t){if(!t.clip&&t.items)for(var n=t.items,r=n.length,a=0;a<r;++a)e.union(n[a].bounds);return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),YG(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){var r=this;MK(t,(function(t){var a=t.x||0,i=t.y||0,o=t.strokeForeground,u=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&u&&(JK(e,t,a,i),jK(e,t),t.fill&&SK(e,t,u)&&e.fill(),t.stroke&&!o&&NK(e,t,u)&&e.stroke()),e.save(),e.translate(a,i),t.clip&&$K(e,t),n&&n.translate(-a,-i),MK(t,(function(t){r.draw(e,t,n)})),n&&n.translate(a,i),e.restore(),o&&t.stroke&&u&&(JK(e,t,a,i),jK(e,t),NK(e,t,u)&&e.stroke())}))},pick:function(e,t,n,r,a,i){var o=this;if(t.bounds&&!t.bounds.contains(a,i)||!t.items)return null;var u=n*e.pixelRatio,s=r*e.pixelRatio;return IK(t,(function(c){var l,f,d,h=c.bounds;if(!h||h.contains(a,i)){f=c.x||0,d=c.y||0;var p=f+(c.width||0),v=d+(c.height||0),m=c.clip;if(!m||!(a<f||a>p||i<d||i>v)){if(e.save(),e.translate(f,d),f=a-f,d=i-d,m&&LG(c)&&!e$(e,c,u,s))return e.restore(),null;var g=c.strokeForeground,b=!1!==t.interactive;return b&&g&&c.stroke&&ZK(e,c,u,s)?(e.restore(),c):(!(l=IK(c,(function(e){return function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,f,d)?o.pick(e,n,r,f,d):null})))&&b&&(c.fill||!g&&c.stroke)&&QK(e,c,u,s)&&(l=c),e.restore(),l||null)}}}))},isect:OK,content:function(e,t,n){e("clip-path",t.clip?VG(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),YK(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?YK(e,t):e("d","")}},n$={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function r$(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then((function(t){e.image=t,e.image.url=e.url}))),n}function a$(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function i$(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function o$(e,t){return"center"===e?t/2:"right"===e?t:0}function u$(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var s$={type:"image",tag:"image",nested:!1,attr:function(e,t,n){var r=r$(t,n),a=a$(t,r),i=i$(t,r),o=(t.x||0)-o$(t.align,a),u=(t.y||0)-u$(t.baseline,i);e("href",!r.src&&r.toDataURL?r.toDataURL():r.src||"",n$["xmlns:xlink"],"xlink:href"),e("transform",UK(o,u)),e("width",a),e("height",i),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(e,t){var n=t.image,r=a$(t,n),a=i$(t,n),i=(t.x||0)-o$(t.align,r),o=(t.y||0)-u$(t.baseline,a);return e.set(i,o,i+r,o+a)},draw:function(e,t,n){var r=this;MK(t,(function(t){if(!n||n.intersects(t.bounds)){var a=r$(t,r),i=a$(t,a),o=i$(t,a);if(0!==i&&0!==o){var u,s,c,l,f=(t.x||0)-o$(t.align,i),d=(t.y||0)-u$(t.baseline,o);!1!==t.aspect&&(s=a.width/a.height,c=t.width/t.height,s===s&&c===c&&s!==c&&(c<s?(d+=(o-(l=i/s))/2,o=l):(f+=(i-(l=o*s))/2,i=l))),(a.complete||a.toDataURL)&&(jK(e,t),e.globalAlpha=null!=(u=t.opacity)?u:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(a,f,d,i,o))}}}))},pick:BK(),isect:IU.M,get:r$,xOffset:o$,yOffset:u$},c$=GK("line",(function(e,t){var n=t[0],r=n.interpolate||"linear";return RG.curve(nG(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,a=Math.pow(e[0].strokeWidth||1,2),i=e.length;--i>=0;)if(!1!==e[i].defined&&(n=e[i].x-t[0])*n+(r=e[i].y-t[1])*r<a)return e[i];return null}));function l$(e,t){var n=t.path;if(null==n)return!0;var r=t.x||0,a=t.y||0,i=t.scaleX||1,o=t.scaleY||1,u=(t.angle||0)*oG,s=t.pathCache;s&&s.path===n||((t.pathCache=s=iG(n)).path=n),u&&e.rotate&&e.translate?(e.translate(r,a),e.rotate(u),mG(e,s,0,0,i,o),e.rotate(-u),e.translate(-r,-a)):mG(e,s,r,a,i,o)}var f$={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,r=t.scaleY||1;1===n&&1===r||e("vector-effect","non-scaling-stroke"),e("transform",function(e){return UK(e.x||0,e.y||0)+(e.angle?" "+WK(e.angle):"")+(e.scaleX||e.scaleY?" "+(t=e.scaleX||1,n=e.scaleY||1,"scale("+t+","+n+")"):"");var t,n}(t)),e("d",t.path)},bound:function(e,t){return l$(pK(e,t.angle),t)?e.set(0,0,0,0):YG(e,t,!0)},draw:RK(l$),pick:LK(l$),isect:_K(l$)};function d$(e,t){e.beginPath(),UG(e,t)}var h$={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",UG(null,t))},bound:function(e,t){var n,r;return YG(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)},draw:RK(d$),pick:LK(d$),isect:OK};function p$(e,t,n){var r,a,i,o;return!(!t.stroke||!NK(e,t,n))&&(r=t.x||0,a=t.y||0,i=null!=t.x2?t.x2:r,o=null!=t.y2?t.y2:a,e.beginPath(),e.moveTo(r,a),e.lineTo(i,o),!0)}var v$={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",VK(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,r;return YG(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)},draw:function(e,t,n){MK(t,(function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&p$(e,t,r)&&(jK(e,t),e.stroke())}}))},pick:BK((function(e,t,n,r){return!!e.isPointInStroke&&(p$(e,t,1)&&e.isPointInStroke(n,r))})),isect:function(e,t){var n=e.x||0,r=e.y||0;return kK(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}},m$=qK("shape",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),g$=qK("symbol",(function(e,t){return BG.context(e)(t)}),wK),b$=Object(IU.w)(),y$={height:j$,measureWidth:O$,estimateWidth:_$,width:_$,canvas:x$};function x$(e){y$.width=e&&yK?O$:_$}function _$(e,t){return w$(A$(e,t),j$(e))}function w$(e,t){return~~(.8*e.length*t)}function O$(e,t){return j$(e)<=0||!(t=A$(e,t))?0:k$(t,D$(e))}function k$(e,t){var n="(".concat(t,") ").concat(e),r=b$.get(n);return void 0===r&&(yK.font=t,r=yK.measureText(e).width,b$.set(n,r)),r}function j$(e){return null!=e.fontSize?+e.fontSize||0:11}function E$(e){return null!=e.lineHeight?e.lineHeight:j$(e)+2}function C$(e){return t=e.lineBreak&&e.text&&!Object(IU.m)(e.text)?e.text.split(e.lineBreak):e.text,Object(IU.m)(t)?t.length>1?t:t[0]:t;var t}function A$(e,t){var n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,r=function(e){if(y$.width===O$){var t=D$(e);return function(e){return k$(e,t)}}var n=j$(e);return function(e){return w$(e,n)}}(e);if(r(t)<n)return t;var a,i=e.ellipsis||"\u2026",o="rtl"===e.dir,u=0,s=t.length;if(n-=r(i),o){for(;u<s;)a=u+s>>>1,r(t.slice(a))>n?u=a+1:s=a;return i+t.slice(u)}for(;u<s;)a=1+(u+s>>>1),r(t.slice(0,a))<n?u=a:s=a-1;return t.slice(0,u)+i}(e,n):n}function S$(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function D$(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+j$(e)+"px "+S$(e,t)}function N$(e){var t=e.baseline,n=j$(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*E$(e):"line-bottom"===t?.29*n-.5*E$(e):0)}x$(!0);var F$={left:"start",center:"middle",right:"end"},T$=new qG;function M$(e){var t,n=e.x||0,r=e.y||0,a=e.radius||0;return a&&(t=(e.theta||0)-uG,n+=a*Math.cos(t),r+=a*Math.sin(t)),T$.x1=n,T$.y1=r,T$}function I$(e,t,n){var r,a=y$.height(t),i=t.align,o=M$(t),u=o.x1,s=o.y1,c=t.dx||0,l=(t.dy||0)+N$(t)-Math.round(.8*a),f=C$(t);if(Object(IU.m)(f)?(a+=E$(t)*(f.length-1),r=f.reduce((function(e,n){return Math.max(e,y$.width(t,n))}),0)):r=y$.width(t,f),"center"===i?c-=r/2:"right"===i&&(c-=r),e.set(c+=u,l+=s,c+r,l+a),t.angle&&!n)e.rotate(t.angle*oG,u,s);else if(2===n)return e.rotatedPoints(t.angle*oG,u,s);return e}var R$={arc:HK,area:KK,group:t$,image:s$,line:c$,path:f$,rect:h$,rule:v$,shape:m$,symbol:g$,text:{type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,a=(t.dy||0)+N$(t),i=M$(t),o=i.x1,u=i.y1,s=t.angle||0;e("text-anchor",F$[t.align]||"start"),s?(n=UK(o,u)+" "+WK(s),(r||a)&&(n+=" "+UK(r,a))):n=UK(o+r,u+a),e("transform",n)},bound:I$,draw:function(e,t,n){MK(t,(function(t){var r,a,i,o,u,s,c,l=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===l||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=D$(t),e.textAlign=t.align||"left",a=(r=M$(t)).x1,i=r.y1,t.angle&&(e.save(),e.translate(a,i),e.rotate(t.angle*oG),a=i=0),a+=t.dx||0,i+=(t.dy||0)+N$(t),s=C$(t),jK(e,t),Object(IU.m)(s))for(u=E$(t),o=0;o<s.length;++o)c=A$(t,s[o]),t.fill&&SK(e,t,l)&&e.fillText(c,a,i),t.stroke&&NK(e,t,l)&&e.strokeText(c,a,i),i+=u;else c=A$(t,s),t.fill&&SK(e,t,l)&&e.fillText(c,a,i),t.stroke&&NK(e,t,l)&&e.strokeText(c,a,i);t.angle&&e.restore()}}))},pick:BK((function(e,t,n,r,a,i){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=M$(t),u=o.x1,s=o.y1,c=I$(T$,t,1),l=-t.angle*oG,f=Math.cos(l),d=Math.sin(l),h=f*a-d*i+(u-f*u+d*s),p=d*a+f*i+(s-d*u-f*s);return c.contains(h,p)})),isect:function(e,t){var n=I$(T$,e,2);return kK(t,n[0],n[1],n[2],n[3])||kK(t,n[0],n[1],n[4],n[5])||kK(t,n[4],n[5],n[6],n[7])||kK(t,n[2],n[3],n[6],n[7])}},trail:GK("trail",(function(e,t){return zG.context(e)(t)}),(function(e,t){for(var n,r,a=e.length;--a>=0;)if(!1!==e[a].defined&&(n=e[a].x-t[0])*n+(r=e[a].y-t[1])*r<(n=e[a].size||1)*n)return e[a];return null}))};function P$(e,t,n){return!e&&"undefined"!==typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function B$(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,a=n.length;r<a;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function z$(e,t,n,r){var a,i=e.childNodes[t];return i&&i.tagName.toLowerCase()===n.toLowerCase()||(a=i||null,i=P$(e.ownerDocument,n,r),e.insertBefore(i,a)),i}function L$(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function U$(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function W$(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function V$(e,t){this._active=null,this._handlers={},this._loader=e||XH(),this._tooltip=t||q$}function q$(e,t,n,r){e.element().setAttribute("title",r||"")}function H$(e){this._el=null,this._bgcolor=null,this._loader=new KG(e)}V$.prototype={initialize:function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},origin:function(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene:function(e){return arguments.length?(this._scene=e,this):this._scene},on:function(){},off:function(){},_handlerIndex:function(e,t,n){for(var r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},handlers:function(e){var t=this._handlers,n=[];if(e)n.push.apply(n,Object(Qi.a)(t[this.eventName(e)]));else for(var r in t)n.push.apply(n,Object(Qi.a)(t[r]));return n},eventName:function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref:function(e,t,n){this._loader.sanitize(n,{context:"href"}).then((function(t){var n=new MouseEvent(e.type,e),r=P$(null,"a");for(var a in t)r.setAttribute(a,t[a]);r.dispatchEvent(n)})).catch((function(){}))},handleTooltip:function(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,r){var a,i,o=e&&e.mark;if(o&&(a=R$[o.marktype]).tip){for((i=W$(t,n))[0]-=r[0],i[1]-=r[1];e=e.mark.group;)i[0]-=e.x||0,i[1]-=e.y||0;e=a.tip(o.items,i)}return e}(t,e,this.canvas(),this._origin);var r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},getItemBoundingClientRect:function(e){var t=this.canvas();if(t){for(var n=t.getBoundingClientRect(),r=this._origin,a=e.bounds,i=a.width(),o=a.height(),u=a.x1+r[0]+n.left,s=a.y1+r[1]+n.top;e.mark&&(e=e.mark.group);)u+=e.x||0,s+=e.y||0;return{x:u,y:s,width:i,height:o,left:u,top:s,right:u+i,bottom:s+o}}}},H$.prototype={initialize:function(e,t,n,r,a){return this._el=e,this.resize(t,n,r,a)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},background:function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize:function(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},dirty:function(){},render:function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render:function(){},renderAsync:function(e){var t=this.render(e);return this._ready?this._ready.then((function(){return t})):Promise.resolve(t)},_load:function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var a=n._call;n._ready=n._loader.ready().then((function(e){e&&a(),n._ready=null}))}return r},sanitizeURL:function(e){return this._load("sanitizeURL",e)},loadImage:function(e){return this._load("loadImage",e)}};var G$="dragenter",K$="dragleave",$$="dragover",X$="mousedown",Y$="mousemove",J$="mouseout",Q$="mouseover",Z$="click",eX="mousewheel",tX="touchstart",nX="touchmove",rX="touchend",aX=["keydown","keypress","keyup",G$,K$,$$,X$,"mouseup",Y$,J$,Q$,Z$,"dblclick","wheel",eX,tX,nX,rX],iX=Y$,oX=J$,uX=Z$;function sX(e,t){V$.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}function cX(e,t){(function(e){return e===tX||e===nX||e===rX?[tX,nX,rX]:[e]})(t).forEach((function(t){return function(e,t){var n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?function(n){return e[t](n)}:function(n){return e.fire(t,n)}))}(e,t)}))}function lX(e,t,n){return function(r){var a=this._active,i=this.pickEvent(r);i===a||(a&&a.exit||this.fire(n,r),this._active=i,this.fire(t,r)),this.fire(e,r)}}function fX(e){return function(t){this.fire(e,t),this._active=null}}Object(IU.k)(sX,V$,{initialize:function(e,t,n){var r=this;return this._canvas=e&&B$(e,"canvas"),[Z$,X$,Y$,J$,K$].forEach((function(e){return cX(r,e)})),V$.prototype.initialize.call(this,e,t,n)},canvas:function(){return this._canvas},context:function(){return this._canvas.getContext("2d")},events:aX,DOMMouseScroll:function(e){this.fire(eX,e)},mousemove:lX(Y$,Q$,J$),dragover:lX($$,G$,K$),mouseout:fX(J$),dragleave:fX(K$),mousedown:function(e){this._down=this._active,this.fire(X$,e)},click:function(e){this._down===this._active&&(this.fire(Z$,e),this._down=null)},touchstart:function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(tX,e,!0)},touchmove:function(e){this.fire(nX,e,!0)},touchend:function(e){this.fire(rX,e,!0),this._touch=null},fire:function(e,t,n){var r=n?this._touch:this._active,a=this._handlers[e];if(t.vegaType=e,e===uX&&r&&r.href?this.handleHref(t,r,r.href):e!==iX&&e!==oX||this.handleTooltip(t,r,e!==oX),a)for(var i=0,o=a.length;i<o;++i)a[i].handler.call(this._obj,t,r)},on:function(e,t){var n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(cX(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},off:function(e,t){var n=this.eventName(e),r=this._handlers[n],a=this._handlerIndex(r,e,t);return a>=0&&r.splice(a,1),this},pickEvent:function(e){var t=W$(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick:function(e,t,n,r,a){var i=this.context();return R$[e.marktype].pick.call(this,i,e,t,n,r,a)}});var dX="undefined"!==typeof window&&window.devicePixelRatio||1;function hX(e){H$.call(this,e),this._options={},this._redraw=!1,this._dirty=new qG,this._tempb=new qG}var pX=H$.prototype;function vX(e,t){V$.call(this,e,t);var n=this;n._hrefHandler=mX(n,(function(e,t){t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=mX(n,(function(e,t){n.handleTooltip(e,t,e.type!==oX)}))}Object(IU.k)(hX,H$,{initialize:function(e,t,n,r,a,i){return this._options=i||{},this._canvas=this._options.externalContext?null:Ou(1,1,this._options.type),e&&this._canvas&&(L$(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),pX.initialize.call(this,e,t,n,r,a)},resize:function(e,t,n,r){if(pX.resize.call(this,e,t,n,r),this._canvas)!function(e,t,n,r,a,i){var o="undefined"!==typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,u=e.getContext("2d"),s=o?dX:a;for(var c in e.width=t*s,e.height=n*s,i)u[c]=i[c];o&&1!==s&&(e.style.width=t+"px",e.style.height=n+"px"),u.pixelRatio=s,u.setTransform(s,0,0,s,s*r[0],s*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{var a=this._options.externalContext;a||Object(IU.d)("CanvasRenderer is missing a valid canvas or context"),a.scale(this._scale,this._scale),a.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas:function(){return this._canvas},context:function(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty:function(e){for(var t=this._tempb.clear().union(e.bounds),n=e.mark.group;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render:function(e){var t,n,r,a=this.context(),i=this._origin,o=this._width,u=this._height,s=this._dirty,c=(t=i,n=o,r=u,(new qG).set(0,0,n,r).translate(-t[0],-t[1]));a.save();var l=this._redraw||s.empty()?(this._redraw=!1,c.expand(1)):function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(a,c.intersect(s),i);return this.clear(-i[0],-i[1],o,u),this.draw(a,e,l),a.restore(),s.clear(),this},draw:function(e,t,n){var r=R$[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),Object(IU.p)(n)?(e.beginPath(),n(e),e.clip()):$K(e,t.group)}(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},clear:function(e,t,n,r){var a=this._options,i=this.context();"pdf"===a.type||a.externalContext||i.clearRect(e,t,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,r))}});var mX=function(e,t){return function(n){var r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)}};Object(IU.k)(vX,V$,{initialize:function(e,t,n){var r=this._svg;return r&&(r.removeEventListener(uX,this._hrefHandler),r.removeEventListener(iX,this._tooltipHandler),r.removeEventListener(oX,this._tooltipHandler)),this._svg=r=e&&B$(e,"svg"),r&&(r.addEventListener(uX,this._hrefHandler),r.addEventListener(iX,this._tooltipHandler),r.addEventListener(oX,this._tooltipHandler)),V$.prototype.initialize.call(this,e,t,n)},canvas:function(){return this._svg},on:function(e,t){var n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){var a={type:e,handler:t,listener:mX(this,t)};(r[n]||(r[n]=[])).push(a),this._svg&&this._svg.addEventListener(n,a.listener)}return this},off:function(e,t){var n=this.eventName(e),r=this._handlers[n],a=this._handlerIndex(r,e,t);return a>=0&&(this._svg&&this._svg.removeEventListener(n,r[a].listener),r.splice(a,1)),this}});var gX="aria-hidden",bX="aria-label",yX="role",xX="aria-roledescription",_X="graphics-object",wX="graphics-symbol",OX=function(e,t,n){var r;return r={},Object(Zi.a)(r,yX,e),Object(Zi.a)(r,xX,t),Object(Zi.a)(r,bX,n||void 0),r},kX=Object(IU.J)(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),jX={axis:{desc:"axis",caption:function(e){var t=e.datum,n=e.orient,r=t.title?DX(e):null,a=e.context,i=a.scales[t.scale].value,o=a.dataflow.locale(),u=i.type;return"".concat("left"===n||"right"===n?"Y":"X","-axis")+(r?" titled '".concat(r,"'"):"")+" for a ".concat(HV(u)?"discrete":u," scale")+" with ".concat(pq(o,i,e))}},legend:{desc:"legend",caption:function(e){var t=e.datum,n=t.title?DX(e):null,r="".concat(t.type||""," legend").trim(),a=t.scales,i=Object.keys(a),o=e.context,u=o.scales[a[i[0]]].value,s=o.dataflow.locale();return c=r,(c.length?c[0].toUpperCase()+c.slice(1):c)+(n?" titled '".concat(n,"'"):"")+" for ".concat(function(e){return(e=e.map((function(e){return e+("fill"===e||"stroke"===e?" color":"")}))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Object(IU.C)(e)}(i))+" with ".concat(pq(s,u,e));var c}},"title-text":{desc:"title",caption:function(e){return"Title text '".concat(SX(e),"'")}},"title-subtitle":{desc:"subtitle",caption:function(e){return"Subtitle text '".concat(SX(e),"'")}}},EX={ariaRole:yX,ariaRoleDescription:xX,description:bX};function CX(e,t){var n=!1===t.aria;if(e(gX,n||void 0),n||null==t.description)for(var r in EX)e(EX[r],void 0);else{var a=t.mark.marktype;e(bX,t.description),e(yX,t.ariaRole||("group"===a?_X:wX)),e(xX,t.ariaRoleDescription||"".concat(a," mark"))}}function AX(e){return!1===e.aria?Object(Zi.a)({},gX,!0):kX[e.role]?null:jX[e.role]?function(e,t){try{var n=e.items[0],r=t.caption||function(){return""};return OX(t.role||wX,t.desc,n.description||r(n))}catch(a){return null}}(e,jX[e.role]):function(e){var t=e.marktype,n="group"===t||"text"===t||e.items.some((function(e){return null!=e.description&&!1!==e.aria}));return OX(n?_X:wX,"".concat(t," mark container"),e.description)}(e)}function SX(e){return Object(IU.a)(e.text).join(" ")}function DX(e){try{return Object(IU.a)(Object(IU.C)(e.items).items[0].text).join(" ")}catch(t){return null}}var NX=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};function FX(){var e="",t="",n="",r=[],a=function(){return t=n=""},i=function(i){t&&(e+="".concat(t,">").concat(n),a()),r.push(i)},o=function(e,n){return null!=n&&(t+=" ".concat(e,'="').concat(NX(n).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"),'"')),u},u={open:function(e){i(e),t="<"+e;for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(var s=0,c=r;s<c.length;s++){var l=c[s];for(var f in l)o(f,l[f])}return u},close:function(){var i=r.pop();return e+=t?t+(n?">".concat(n,"</").concat(i,">"):"/>"):"</".concat(i,">"),a(),u},attr:o,text:function(e){return n+=NX(e),u},toString:function(){return e}};return u}var TX=function(e){return MX(FX(),e)+""};function MX(e,t){if(e.open(t.tagName),t.hasAttributes())for(var n=t.attributes,r=n.length,a=0;a<r;++a)e.attr(n[a].name,n[a].value);if(t.hasChildNodes())for(var i=t.childNodes,o=i.length,u=0;u<o;u++){var s=i[u];3===s.nodeType?e.text(s.nodeValue):MX(e,s)}return e.close()}var IX={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},RX={fill:"none","stroke-miterlimit":10},PX="http://www.w3.org/2000/xmlns/",BX=n$.xmlns;function zX(e){H$.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var LX=H$.prototype;function UX(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function WX(e,t,n){var r,a,i;if("radial"===t.gradient){var o=z$(e,n++,"pattern",BX);YX(o,{id:JH+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),YX(o=z$(o,0,"rect",BX),{width:1,height:1,fill:"url(".concat(QX(),"#").concat(t.id,")")}),YX(e=z$(e,n++,"radialGradient",BX),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else YX(e=z$(e,n++,"linearGradient",BX),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,a=t.stops.length;r<a;++r)(i=z$(e,r,"stop",BX)).setAttribute("offset",t.stops[r].offset),i.setAttribute("stop-color",t.stops[r].color);return L$(e,r),n}function VX(e,t,n){return(e=z$(e,n,"clipPath",BX)).setAttribute("id",t.id),t.path?z$(e,0,"path",BX).setAttribute("d",t.path):YX(z$(e,0,"rect",BX),{x:0,y:0,width:t.width,height:t.height}),L$(e,1),n+1}function qX(e,t,n,r,a){var i,o=e._svg;if(!o&&(o=P$(i=t.ownerDocument,r,BX),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},"g"===r))){var u=P$(i,"path",BX);o.appendChild(u),u.__data__=e;var s=P$(i,"g",BX);o.appendChild(s),s.__data__=e;var c=P$(i,"path",BX);o.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(o.ownerSVGElement!==a||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}Object(IU.k)(zX,H$,{initialize:function(e,t,n,r,a){return this._defs={},this._clearDefs(),e&&(this._svg=z$(e,0,"svg",BX),this._svg.setAttributeNS(PX,"xmlns",BX),this._svg.setAttributeNS(PX,"xmlns:xlink",n$["xmlns:xlink"]),this._svg.setAttribute("version",n$.version),this._svg.setAttribute("class","marks"),L$(e,1),this._root=z$(this._svg,0,"g",BX),YX(this._root,RX),L$(this._svg,1)),this.background(this._bgcolor),LX.initialize.call(this,e,t,n,r,a)},background:function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),LX.background.apply(this,arguments)},resize:function(e,t,n,r){return LX.resize.call(this,e,t,n,r),this._svg&&(YX(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}),this._root.setAttribute("transform","translate(".concat(this._origin,")"))),this._dirty=[],this},canvas:function(){return this._svg},svg:function(){var e,t=this._svg,n=this._bgcolor;if(!t)return null;n&&(t.removeAttribute("style"),YX(e=z$(t,0,"rect",BX),{width:this._width,height:this._height,fill:n}));var r=TX(t);return n&&(t.removeChild(e),this._svg.style.setProperty("background-color",n)),r},_render:function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),L$(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty:function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty:function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},_dirtyCheck:function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length||!this._dirtyID)return!0;var t,n,r,a,i,o,u,s=++this._dirtyID;for(i=0,o=e.length;i<o;++i)(n=(t=e[i]).mark).marktype!==r&&(r=n.marktype,a=R$[r]),n.zdirty&&n.dirty!==s&&(this._dirtyAll=!1,UX(t,s),n.items.forEach((function(e){e.dirty=s}))),n.zdirty||(t.exit?(a.nested&&n.items.length?(u=n.items[0])._svg&&this._update(a,u._svg,u):t._svg&&(u=t._svg.parentNode)&&u.removeChild(t._svg),t._svg=null):(t=a.nested?n.items[0]:t)._update!==s&&(t._svg&&t._svg.ownerSVGElement?this._update(a,t._svg,t):(this._dirtyAll=!1,UX(t,s)),t._update=s));return!this._dirtyAll},mark:function(e,t,n){var r=this;if(!this.isDirty(t))return t._svg;var a=this._svg,i=R$[t.marktype],o=!1===t.interactive?"none":null,u="g"===i.tag,s=null,c=0,l=qX(t,e,n,"g",a);l.setAttribute("class",U$(t));var f=AX(t);for(var d in f)JX(l,d,f[d]);u||JX(l,"pointer-events",o),JX(l,"clip-path",t.clip?VG(this,t,t.group):null);var h=function(e){var t=r.isDirty(e),n=qX(e,l,s,i.tag,a);t&&(r._update(i,n,e),u&&function(e,t,n){t=t.lastChild.previousSibling;var r,a=0;MK(n,(function(n){r=e.mark(t,n,r),++a})),L$(t,1+a)}(r,n,e)),s=n,++c};return i.nested?t.items.length&&h(t.items[0]):MK(t,h),L$(l,c),l},_update:function(e,t,n){HX=t,GX=t.__values__,CX($X,n),e.attr($X,n,this);var r=KX[e.type];r&&r.call(this,e,t,n),HX&&this.style(HX,n)},style:function(e,t){if(null!=t)for(var n in IX){var r="font"===n?S$(t):t[n];if(r!==GX[n]){var a=IX[n];null==r?e.removeAttribute(a):(QH(r)&&(r=ZH(r,this._defs.gradient,QX())),e.setAttribute(a,r+"")),GX[n]=r}}},defs:function(){var e=this._svg,t=this._defs,n=t.el,r=0;for(var a in t.gradient)n||(t.el=n=z$(e,1,"defs",BX)),r=WX(n,t.gradient[a],r);for(var i in t.clipping)n||(t.el=n=z$(e,1,"defs",BX)),r=VX(n,t.clipping[i],r);n&&(0===r?(e.removeChild(n),t.el=null):L$(n,r))},_clearDefs:function(){var e=this._defs;e.gradient={},e.clipping={}}});var HX=null,GX=null,KX={group:function(e,t,n){var r=HX=t.childNodes[2];GX=r.__values__,e.foreground($X,n,this),GX=t.__values__,HX=t.childNodes[1],e.content($X,n,this);var a=HX=t.childNodes[0];e.background($X,n,this);var i=!1===n.mark.interactive?"none":null;if(i!==GX.events&&(JX(r,"pointer-events",i),JX(a,"pointer-events",i),GX.events=i),n.strokeForeground&&n.stroke){var o=n.fill;JX(r,"display",null),this.style(a,n),JX(a,"stroke",null),o&&(n.fill=null),GX=r.__values__,this.style(r,n),o&&(n.fill=o),HX=null}else JX(r,"display","none")},image:function(e,t,n){!1===n.smooth?(XX(t,"image-rendering","optimizeSpeed"),XX(t,"image-rendering","pixelated")):XX(t,"image-rendering",null)},text:function(e,t,n){var r,a,i,o,u=C$(n);Object(IU.m)(u)?(r=(a=u.map((function(e){return A$(n,e)}))).join("\n"))!==GX.text&&(L$(t,0),i=t.ownerDocument,o=E$(n),a.forEach((function(e,r){var a=P$(i,"tspan",BX);a.__data__=n,a.textContent=e,r&&(a.setAttribute("x",0),a.setAttribute("dy",o)),t.appendChild(a)})),GX.text=r):(a=A$(n,u))!==GX.text&&(t.textContent=a,GX.text=a),JX(t,"font-family",S$(n)),JX(t,"font-size",j$(n)+"px"),JX(t,"font-style",n.fontStyle),JX(t,"font-variant",n.fontVariant),JX(t,"font-weight",n.fontWeight)}};function $X(e,t,n){t!==GX[e]&&(n?function(e,t,n,r){null!=n?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}(HX,e,t,n):JX(HX,e,t),GX[e]=t)}function XX(e,t,n){n!==GX[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),GX[t]=n)}function YX(e,t){for(var n in t)JX(e,n,t[n])}function JX(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function QX(){var e;return"undefined"===typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function ZX(e){H$.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}Object(IU.k)(ZX,H$,{svg:function(){return this._text},_render:function(e){var t=FX();t.open("svg",Object(IU.e)({},n$,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}));var n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",RX,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark:function(e,t){var n=this,r=R$[t.marktype],a=r.tag,i=[CX,r.attr];e.open("g",{class:U$(t),"clip-path":t.clip?VG(this,t,t.group):null},AX(t),{"pointer-events":"g"!==a&&!1===t.interactive?"none":null});var o=function(o){var u=n.href(o);if(u&&e.open("a",u),e.open(a,n.attr(t,o,i,"g"!==a?a:null)),"text"===a){var s=C$(o);if(Object(IU.m)(s))for(var c={x:0,dy:E$(o)},l=0;l<s.length;++l)e.open("tspan",l?c:null).text(A$(o,s[l])).close();else e.text(A$(o,s))}else if("g"===a){var f=o.strokeForeground,d=o.fill,h=o.stroke;f&&h&&(o.stroke=null),e.open("path",n.attr(t,o,r.background,"bgrect")).close(),e.open("g",n.attr(t,o,r.content)),MK(o,(function(t){return n.mark(e,t)})),e.close(),f&&h?(d&&(o.fill=null),o.stroke=h,e.open("path",n.attr(t,o,r.foreground,"bgrect")).close(),d&&(o.fill=d)):e.open("path",n.attr(t,o,r.foreground,"bgfore")).close()}e.close(),u&&e.close()};return r.nested?t.items&&t.items.length&&o(t.items[0]):MK(t,o),e.close()},href:function(e){var t,n=this,r=e.href;if(r){if(t=this._hrefs&&this._hrefs[r])return t;this.sanitizeURL(r).then((function(e){e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e}))}return null},attr:function(e,t,n,r){var a=this,i={},o=function(e,t,n,r){i[r||e]=t};return Array.isArray(n)?n.forEach((function(e){return e(o,t,a)})):n(o,t,this),r&&function(e,t,n,r,a){if(null==t)return e;"bgrect"===r&&!1===n.interactive&&(e["pointer-events"]="none");if("bgfore"===r&&(!1===n.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill))return e;"image"===r&&!1===t.smooth&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===r&&(e["font-family"]=S$(t),e["font-size"]=j$(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(var i in IX){var o=t[i],u=IX[i];("transparent"!==o||"fill"!==u&&"stroke"!==u)&&null!=o&&(QH(o)&&(o=ZH(o,a.gradient,"")),e[u]=o)}}(i,t,e,r,this._defs),i},defs:function(e){var t=this._defs.gradient,n=this._defs.clipping;if(0!==Object.keys(t).length+Object.keys(n).length){for(var r in e.open("defs"),t){var a=t[r],i=a.stops;"radial"===a.gradient?(e.open("pattern",{id:JH+r,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+r+")"}).close(),e.close(),e.open("radialGradient",{id:r,fx:a.x1,fy:a.y1,fr:a.r1,cx:a.x2,cy:a.y2,r:a.r2})):e.open("linearGradient",{id:r,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2});for(var o=0;o<i.length;++o)e.open("stop",{offset:i[o].offset,"stop-color":i[o].color}).close();e.close()}for(var u in n){var s=n[u];e.open("clipPath",{id:u}),s.path?e.open("path",{d:s.path}).close():e.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),e.close()}e.close()}}});var eY={};function tY(e,t,n,r){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){var a=e.items,i=e.marktype,o=a.length,u=0;if("group"===i)for(;u<o;++u)nY(a[u],t,n,r);else for(var s=R$[i].isect;u<o;++u){var c=a[u];rY(c,t,s)&&r.push(c)}}return r}function nY(e,t,n,r){n&&n(e.mark)&&rY(e,t,R$.group.isect)&&r.push(e);var a=e.items,i=a&&a.length;if(i){var o=e.x||0,u=e.y||0;t.translate(-o,-u);for(var s=0;s<i;++s)tY(a[s],t,n,r);t.translate(o,u)}return r}function rY(e,t,n){var r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}eY.canvas=eY.png={renderer:hX,headless:hX,handler:sX},eY.svg={renderer:zX,headless:ZX,handler:vX},eY.none={};new qG;var aY=function(e){return e.data};function iY(e,t){var n=RU.call(t,e);return n.root&&n.root.lookup||{}}var oY=function(){return"undefined"!==typeof window&&window||null};var uY={random:function(){return Mr()},cumulativeNormal:Hr,cumulativeLogNormal:Jr,cumulativeUniform:ra,densityNormal:qr,densityLogNormal:Yr,densityUniform:na,quantileNormal:Gr,quantileLogNormal:Qr,quantileUniform:aa,sampleNormal:Vr,sampleLogNormal:Xr,sampleUniform:ta,isArray:IU.m,isBoolean:IU.n,isDate:IU.o,isDefined:function(e){return void 0!==e},isNumber:IU.r,isObject:IU.s,isRegExp:IU.t,isString:IU.u,isTuple:jn,isValid:function(e){return null!=e&&e===e},toBoolean:IU.G,toDate:IU.H,toNumber:IU.I,toString:IU.K,flush:IU.h,lerp:IU.v,merge:function(){var e=[].slice.call(arguments);return e.unshift({}),IU.e.apply(null,e)},pad:IU.x,peek:IU.C,span:IU.E,inrange:IU.l,truncate:IU.L,rgb:ss,lab:Dl,hcl:Pl,hsl:vs,luminance:bW,contrast:function(e,t){var n=bW(e),r=bW(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},sequence:Oa,format:BU,utcFormat:LU,utcParse:WU,utcOffset:ja.w,utcSequence:ja.x,timeFormat:zU,timeParse:UU,timeOffset:ja.q,timeSequence:ja.r,timeUnitSpecifier:ja.s,monthFormat:function(e){return qU.call(this,e,1,"%B")},monthAbbrevFormat:function(e){return qU.call(this,e,1,"%b")},dayFormat:function(e){return qU.call(this,0,2+e,"%A")},dayAbbrevFormat:function(e){return qU.call(this,0,2+e,"%a")},quarter:IU.D,utcquarter:IU.N,week:ja.A,utcweek:ja.z,dayofyear:ja.m,utcdayofyear:ja.y,warn:function(){return mW(this.context.dataflow,"warn",arguments)},info:function(){return mW(this.context.dataflow,"info",arguments)},debug:function(){return mW(this.context.dataflow,"debug",arguments)},extent:IU.f,inScope:function(e){var t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:function(e,t,n){if(!e)return[];var r=Object(vr.a)(e,2),a=r[0],i=r[1],o=(new qG).set(a[0],a[1],i[0],i[1]);return function(e,t,n){var r=[],a=(new qG).union(t),i=e.marktype;return i?tY(e,a,n,r):"group"===i?nY(e,a,n,r):Object(IU.d)("Intersect scene must be mark node or group item.")}(n||this.context.dataflow.scenegraph().root,o,function(e){var t=null;if(e){var n=Object(IU.a)(e.marktype),r=Object(IU.a)(e.markname);t=function(e){return(!n.length||n.some((function(t){return e.marktype===t})))&&(!r.length||r.some((function(t){return e.name===t})))}}return t}(t))},clampRange:IU.b,pinchDistance:function(e){var t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)},pinchAngle:function(e){var t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){var e=oY();return e?e.screen:{}},containerSize:function(){var e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){var e=oY();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return gV(e||0,t||0,n||0)},setdata:function(e,t){var n=this.context.dataflow,r=this.context.data[e].input;return n.pulse(r,n.changeset().remove(IU.M).insert(t)),1},pathShape:function(e){var t=null;return function(n){return n?mG(n,t=t||iG(e)):e}},panLinear:IU.y,panLog:IU.z,panPow:IU.A,panSymlog:IU.B,zoomLinear:IU.O,zoomLog:IU.P,zoomPow:IU.Q,zoomSymlog:IU.R,encode:function(e,t,n){if(e){var r=this.context.dataflow,a=e.mark.source;r.pulse(a,r.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,r,a,i){var o,u,s=this.context.dataflow,c=this.context.data[e],l=c.input,f=s.stamp(),d=c.changes;if(!1===s._trigger||!(l.value.length||t||r))return 0;if((!d||d.stamp<f)&&(c.changes=d=s.changeset(),d.stamp=f,s.runAfter((function(){c.modified=!0,s.pulse(l,d).run()}),!0,1)),n&&(o=!0===n?IU.M:Object(IU.m)(n)||jn(n)?n:_W(n),d.remove(o)),t&&d.insert(t),r&&(o=_W(r),l.value.some(o)?d.remove(o):d.insert(r)),a)for(u in i)d.modify(a,u,i[u]);return 1}},sY=["view","item","group","xy","x","y"],cY="this.",lY={},fY={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_[".concat(Object(IU.F)("$"+e),"]")},functions:function(e){var t=oW(e);for(var n in sY.forEach((function(e){return t[e]="event.vega."+e})),uY)t[n]=cY+n;return Object(IU.e)(t,fW(e,uY,lY)),t},constants:iW,visitors:lY},dY=function(e){var t=(e=e||{}).whitelist?Object(IU.J)(e.whitelist):{},n=e.blacklist?Object(IU.J)(e.blacklist):{},r=e.constants||iW,a=(e.functions||oW)(f),i=e.globalvar,o=e.fieldvar,u=Object(IU.p)(i)?i:function(e){return"".concat(i,'["').concat(e,'"]')},s={},c={},l=0;function f(e){if(Object(IU.u)(e))return e;var t=d[e.type];return null==t&&Object(IU.d)("Unsupported type: "+e.type),t(e)}var d={Literal:function(e){return e.raw},Identifier:function(e){var a=e.name;return l>0?a:Object(IU.i)(n,a)?Object(IU.d)("Illegal identifier: "+a):Object(IU.i)(r,a)?r[a]:Object(IU.i)(t,a)?a:(s[a]=1,u(a))},MemberExpression:function(e){var t=!e.computed,n=f(e.object);t&&(l+=1);var r=f(e.property);return n===o&&(c[function(e){var t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(r)]=1),t&&(l-=1),n+(t?"."+r:"["+r+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&Object(IU.d)("Illegal callee type: "+e.callee.type);var t=e.callee.name,n=e.arguments,r=Object(IU.i)(a,t)&&a[t];return r||Object(IU.d)("Unrecognized function: "+t),Object(IU.p)(r)?r(n):r+"("+n.map(f).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(f).join(",")+"]"},BinaryExpression:function(e){return"("+f(e.left)+e.operator+f(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+f(e.argument)+")"},ConditionalExpression:function(e){return"("+f(e.test)+"?"+f(e.consequent)+":"+f(e.alternate)+")"},LogicalExpression:function(e){return"("+f(e.left)+e.operator+f(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(f).join(",")+"}"},Property:function(e){l+=1;var t=f(e.key);return l-=1,t+":"+f(e.value)}};function h(e){var t={code:f(e),globals:Object.keys(s),fields:Object.keys(c)};return s={},c={},t}return h.functions=a,h.constants=r,h}(fY);function hY(e,t,n){return 1===arguments.length?uY[e]:(uY[e]=t,n&&(lY[e]=n),dY&&(dY.functions[e]=cY+e),this)}hY("bandwidth",(function(e,t){var n=lW(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}),sW),hY("copy",(function(e,t){var n=lW(e,(t||this).context);return n?n.copy():void 0}),sW),hY("domain",(function(e,t){var n=lW(e,(t||this).context);return n?n.domain():[]}),sW),hY("range",(function(e,t){var n=lW(e,(t||this).context);return n&&n.range?n.range():[]}),sW),hY("invert",(function(e,t,n){var r=lW(e,(n||this).context);return r?Object(IU.m)(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}),sW),hY("scale",(function(e,t,n){var r=lW(e,(n||this).context);return r?r(t):void 0}),sW),hY("gradient",(function(e,t,n,r,a){e=lW(e,(a||this).context);var i=function(e,t){var n,r=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}}(t,n),o=e.domain(),u=o[0],s=Object(IU.C)(o),c=IU.j;return s-u?c=function(e,t,n){var r,a,i,o=n-t;return o&&Number.isFinite(o)?(r=(a=e.type).indexOf("-"),a=r<0?a:a.slice(r+1),i=WV(a)().domain([t,n]).range([0,1]),GV.forEach((function(t){return e[t]?i[t](e[t]()):0})),i):Object(IU.c)(.5)}(e,u,s):e=(e.interpolator?WV("sequential")().interpolator(e.interpolator()):WV("linear")().interpolate(e.interpolate()).range(e.range())).domain([u=0,s=1]),e.ticks&&(u!==(o=e.ticks(+r||15))[0]&&o.unshift(u),s!==Object(IU.C)(o)&&o.push(s)),o.forEach((function(t){return i.stop(c(t),e(t))})),i}),sW),hY("geoArea",hW,sW),hY("geoBounds",pW,sW),hY("geoCentroid",vW,sW),hY("geoShape",(function(e,t,n){var r=lW(e,(n||this).context);return function(e){return r?r.path.context(e)(t):""}}),sW),hY("indata",(function(e,t,n){var r=this.context.data[e]["index:"+t],a=r?r.value.get(n):void 0;return a?a.count:a}),(function(e,t,n,r){t[0].type!==KU&&Object(IU.d)("First argument to indata must be a string literal."),t[1].type!==KU&&Object(IU.d)("Second argument to indata must be a string literal.");var a=t[0].value,i=t[1].value,o="@"+i;Object(IU.i)(o,r)||(r[o]=n.getData(a).indataRef(n,i))})),hY("data",RU,uW),hY("treePath",(function(e,t,n){var r=iY(e,this),a=r[t],i=r[n];return a&&i?a.path(i).map(aY):void 0}),uW),hY("treeAncestors",(function(e,t){var n=iY(e,this)[t];return n?n.ancestors().map(aY):void 0}),uW),hY("vlSelectionTest",mL,OL),hY("vlSelectionResolve",_L,OL);var pY=function(e){return Object(Lt.D)(e)?e:{type:e||"pad"}},vY=function(e){return+e||0},mY=function(e){return Object(Lt.D)(e)?e.signal?e:{top:vY(e.top),bottom:vY(e.bottom),left:vY(e.left),right:vY(e.right)}:{top:t=vY(e),bottom:t,left:t,right:t};var t},gY=function(e){return Object(Lt.D)(e)&&!Object(Lt.x)(e)?Object(Lt.l)({},e):{value:e}};function bY(e,t,n,r){return null!=n?(Object(Lt.D)(n)&&!Object(Lt.x)(n)||Object(Lt.x)(n)&&n.length&&Object(Lt.D)(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function yY(e,t,n){for(var r in t)bY(e,r,t[r]);for(var a in n)bY(e,a,n[a],"update")}function xY(e,t,n){for(var r in t)n&&Object(Lt.s)(n,r)||(e[r]=Object(Lt.l)(e[r]||{},t[r]));return e}function _Y(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}var wY="mark",OY="frame",kY="scope",jY="legend-label",EY="title-text",CY="title-subtitle";function AY(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}var SY=function(e){return Object(Lt.F)(e)?Object(Lt.W)(e):e.signal?"(".concat(e.signal,")"):TY(e)};function DY(e){if(null!=e.gradient)return function(e){var t=[e.start,e.stop,e.count].map((function(e){return null==e?null:Object(Lt.W)(e)}));for(;t.length&&null==Object(Lt.S)(t);)t.pop();return t.unshift(SY(e.gradient)),"gradient(".concat(t.join(","),")")}(e);var t=e.signal?"(".concat(e.signal,")"):e.color?function(e){return e.c?NY("hcl",e.h,e.c,e.l):e.h||e.s?NY("hsl",e.h,e.s,e.l):e.l||e.a?NY("lab",e.l,e.a,e.b):e.r||e.g||e.b?NY("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?TY(e.field):void 0!==e.value?Object(Lt.W)(e.value):void 0;return null!=e.scale&&(t=function(e,t){var n=SY(e.scale);null!=e.range?t="lerp(_range(".concat(n,"), ").concat(+e.range,")"):(void 0!==t&&(t="_scale(".concat(n,", ").concat(t,")")),e.band&&(t=(t?t+"+":"")+"_bandwidth(".concat(n,")")+(1===+e.band?"":"*"+FY(e.band)),e.extra&&(t="(datum.extra ? _scale(".concat(n,", datum.extra.value) : ").concat(t,")"))),null==t&&(t="0"));return t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t="pow(".concat(t,",").concat(FY(e.exponent),")")),null!=e.mult&&(t+="*".concat(FY(e.mult))),null!=e.offset&&(t+="+".concat(FY(e.offset))),e.round&&(t="round(".concat(t,")")),t}var NY=function(e,t,n,r){return"(".concat(e,"(").concat([t,n,r].map(DY).join(","),")+'')")};function FY(e){return Object(Lt.D)(e)?"("+DY(e)+")":e}function TY(e){return MY(Object(Lt.D)(e)?e:{datum:e})}function MY(e){var t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):Object(Lt.k)("Invalid field reference: "+Object(Lt.W)(e));return e.signal||(r=Object(Lt.F)(r)?Object(Lt.V)(r).map(Lt.W).join("]["):MY(r)),t+"["+r+"]"}var IY=function(e,t,n,r,a,i){var o={};for(var u in(i=i||{}).encoders={$encode:o},e=function(e,t,n,r,a){var i,o,u,s={},c={};for(o in o="lineBreak","text"!==t||null==a[o]||_Y(o,e)||AY(s,o,a[o]),("legend"==n||String(n).startsWith("axis"))&&(n=null),u=n===OY?a.group:n===wY?Object(Lt.l)({},a.mark,a[t]):null)_Y(o,e)||("fill"===o||"stroke"===o)&&(_Y("fill",e)||_Y("stroke",e))||AY(s,o,u[o]);for(o in Object(Lt.e)(r).forEach((function(t){var n=a.style&&a.style[t];for(var r in n)_Y(r,e)||AY(s,r,n[r])})),e=Object(Lt.l)({},e),s)(u=s[o]).signal?(i=i||{})[o]=u:c[o]=u;return e.enter=Object(Lt.l)(c,e.enter),i&&(e.update=Object(Lt.l)(i,e.update)),e}(e,t,n,r,a.config))o[u]=RY(e[u],t,i,a);return i};function RY(e,t,n,r){var a,i={},o={};for(var u in e)null!=e[u]&&(i[u]=PY((a=e[u],Object(Lt.x)(a)?function(e){var t="";return e.forEach((function(e){var n=DY(e);t+=e.test?"(".concat(e.test,")?").concat(n,":"):n})),":"===Object(Lt.S)(t)&&(t+="null"),t}(a):DY(a)),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function PY(e,t,n,r){var a=uU(e,t);return a.$fields.forEach((function(e){return r[e]=1})),Object(Lt.l)(n,a.$params),a.$expr}var BY=["value","update","init","react","bind"];function zY(e,t){Object(Lt.k)(e+' for "outer" push: '+Object(Lt.W)(t))}var LY=function(e,t){var n=e.name;if("outer"===e.push)t.signals[n]||zY("No prior signal definition",n),BY.forEach((function(t){void 0!==e[t]&&zY("Invalid property ",t)}));else{var r=t.addSignal(n,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}};function UY(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function WY(e,t,n,r){return new UY(e,t,n,r)}function VY(e,t){return WY("operator",e,t)}function qY(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function HY(e,t){return t?{$field:e,$name:t}:{$field:e}}var GY=HY("key");function KY(e,t){return{$compare:e,$order:t}}function $Y(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}var XY="scope",YY="view";function JY(e){return e&&e.signal}function QY(e){if(JY(e))return!0;if(Object(Lt.D)(e))for(var t in e)if(QY(e[t]))return!0;return!1}function ZY(e,t){return null!=e?e:t}function eJ(e){return e&&e.signal||e}var tJ="timer";function nJ(e,t){return(e.merge?rJ:e.stream?aJ:e.type?iJ:Object(Lt.k)("Invalid stream specification: "+Object(Lt.W)(e)))(e,t)}function rJ(e,t){var n=oJ({merge:e.merge.map((function(e){return nJ(e,t)}))},e,t);return t.addStream(n).id}function aJ(e,t){var n=oJ({stream:nJ(e.stream,t)},e,t);return t.addStream(n).id}function iJ(e,t){var n,r;e.type===tJ?(n=t.event(tJ,e.throttle),e={between:e.between,filter:e.filter}):n=t.event((r=e.source)===XY?YY:r||YY,e.type);var a=oJ({stream:n},e,t);return 1===Object.keys(a).length?n:t.addStream(a).id}function oJ(e,t,n){var r=t.between;return r&&(2!==r.length&&Object(Lt.k)('Stream "between" parameter must have 2 entries: '+Object(Lt.W)(t)),e.between=[nJ(r[0],n),nJ(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(function(e,t,n){var r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),t.source===XY&&r.push("inScope(event.item)"),r.length&&(e.filter=uU("("+r.join(")&&(")+")",n).$expr),null!=(r=t.throttle)&&(e.throttle=+r),null!=(r=t.debounce)&&(e.debounce=+r),t.consume&&(e.consume=!0),e}var uJ,sJ,cJ="[",lJ="]",fJ=/[[\]{}]/,dJ={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function hJ(e,t,n){return uJ=t||"view",sJ=n||dJ,vJ(e.trim()).map(mJ)}function pJ(e,t,n,r,a){for(var i,o=e.length,u=0;t<o;++t){if(i=e[t],!u&&i===n)return t;a&&a.indexOf(i)>=0?--u:r&&r.indexOf(i)>=0&&++u}return t}function vJ(e){for(var t=[],n=e.length,r=0,a=0;a<n;)a=pJ(e,a,",","[{","]}"),t.push(e.substring(r,a).trim()),r=++a;if(0===t.length)throw"Empty event selector: "+e;return t}function mJ(e){return"["===e[0]?function(e){var t,n=e.length,r=1;if((r=pJ(e,r,lJ,cJ,lJ))===n)throw"Empty between selector: "+e;if(2!==(t=vJ(e.substring(1,r))).length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(r+1).trim())[0])throw"Expected '>' after between selector: "+e;t=t.map(mJ);var a=mJ(e.slice(1).trim());if(a.between)return{between:t,stream:a};a.between=t;return a}(e):function(e){var t,n,r={source:uJ},a=[],i=[0,0],o=0,u=0,s=e.length,c=0;if("}"===e[s-1]){if(!((c=e.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+e;try{i=function(e){var t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((function(t){var n=+t;if(n!==n)throw e;return n}))}(e.substring(c+1,s-1))}catch(f){throw"Invalid throttle specification: "+e}s=(e=e.slice(0,c).trim()).length,c=0}if(!s)throw e;"@"===e[0]&&(o=++c);(t=pJ(e,c,":"))<s&&(a.push(e.substring(u,t).trim()),u=c=++t);if((c=pJ(e,c,cJ))===s)a.push(e.substring(u,s).trim());else if(a.push(e.substring(u,c).trim()),n=[],(u=++c)===s)throw"Unmatched left bracket: "+e;for(;c<s;){if((c=pJ(e,c,lJ))===s)throw"Unmatched left bracket: "+e;if(n.push(e.substring(u,c).trim()),c<s-1&&e[++c]!==cJ)throw"Expected left bracket: "+e;u=++c}if(!(s=a.length)||fJ.test(a[s-1]))throw"Invalid event selector: "+e;s>1?(r.type=a[1],o?r.markname=a[0].slice(1):(l=a[0],sJ[l]?r.marktype=a[0]:r.source=a[0])):r.type=a[0];var l;"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1));null!=n&&(r.filter=n);i[0]&&(r.throttle=i[0]);i[1]&&(r.debounce=i[1]);return r}(e)}var gJ={code:"_.$value",ast:{type:"Identifier",value:"value"}},bJ=function(e,t,n){var r=e.encode,a={target:n},i=e.events,o=e.update,u=[];i||Object(Lt.k)("Signal update missing events specification."),Object(Lt.F)(i)&&(i=hJ(i,t.isSubscope()?XY:YY)),i=Object(Lt.e)(i).filter((function(e){return e.signal||e.scale?(u.push(e),0):1})),u.length>1&&(u=[yJ(u)]),i.length&&u.push(i.length>1?{merge:i}:i[0]),null!=r&&(o&&Object(Lt.k)("Signal encode and update are mutually exclusive."),o="encode(item(),"+Object(Lt.W)(r)+")"),a.update=Object(Lt.F)(o)?uU(o,t):null!=o.expr?uU(o.expr,t):null!=o.value?o.value:null!=o.signal?{$expr:gJ,$params:{$value:t.signalRef(o.signal)}}:Object(Lt.k)("Invalid signal update specification."),e.force&&(a.options={force:!0}),u.forEach((function(e){return t.addUpdate(Object(Lt.l)(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):nJ(e,t)}}(e,t),a))}))};function yJ(e){return{signal:"["+e.map((function(e){return e.scale?'scale("'+e.scale+'")':e.signal}))+"]"}}var xJ=function(e){return function(t,n,r){return WY(e,n,t||void 0,r)}},_J=xJ("aggregate"),wJ=xJ("axisticks"),OJ=xJ("bound"),kJ=xJ("collect"),jJ=xJ("compare"),EJ=xJ("datajoin"),CJ=xJ("encode"),AJ=xJ("expression"),SJ=(xJ("extent"),xJ("facet")),DJ=xJ("field"),NJ=xJ("key"),FJ=xJ("legendentries"),TJ=xJ("load"),MJ=xJ("mark"),IJ=xJ("multiextent"),RJ=xJ("multivalues"),PJ=xJ("overlap"),BJ=xJ("params"),zJ=xJ("prefacet"),LJ=xJ("projection"),UJ=xJ("proxy"),WJ=xJ("relay"),VJ=xJ("render"),qJ=xJ("scale"),HJ=xJ("sieve"),GJ=xJ("sortitems"),KJ=xJ("viewlayout"),$J=xJ("values"),XJ=0,YJ={min:"min",max:"max",count:"sum"};function JJ(e,t){var n,r,a=t.getScale(e.name).params;for(n in a.domain=tQ(e.domain,e,t),null!=e.range&&(a.range=cQ(e,t,a)),null!=e.interpolate&&function(e,t){t.interpolate=QJ(e.type||e),null!=e.gamma&&(t.interpolateGamma=QJ(e.gamma))}(e.interpolate,a),null!=e.nice&&(a.nice=(r=e.nice,Object(Lt.D)(r)?{interval:QJ(r.interval),step:QJ(r.step)}:QJ(r))),null!=e.bins&&(a.bins=function(e,t){return e.signal||Object(Lt.x)(e)?ZJ(e,t):t.objectProperty(e)}(e.bins,t)),e)Object(Lt.s)(a,n)||"name"===n||(a[n]=QJ(e[n],t))}function QJ(e,t){return Object(Lt.D)(e)?e.signal?t.signalRef(e.signal):Object(Lt.k)("Unsupported object: "+Object(Lt.W)(e)):e}function ZJ(e,t){return e.signal?t.signalRef(e.signal):e.map((function(e){return QJ(e,t)}))}function eQ(e){Object(Lt.k)("Can not find data set: "+Object(Lt.W)(e))}function tQ(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(Object(Lt.x)(e)?nQ:e.fields?aQ:rQ)(e,t,n);null==t.domainMin&&null==t.domainMax||Object(Lt.k)("No scale domain defined for domainMin/domainMax to override.")}function nQ(e,t,n){return e.map((function(e){return QJ(e,n)}))}function rQ(e,t,n){var r=n.getData(e.data);return r||eQ(e.data),Uf(t.type)?r.valuesRef(n,e.field,oQ(e.sort,!1)):Hf(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function aQ(e,t,n){var r=e.data,a=e.fields.reduce((function(e,t){return t=Object(Lt.F)(t)?{data:r,field:t}:Object(Lt.x)(t)||t.signal?function(e,t){var n="_:vega:_"+XJ++,r=kJ({});if(Object(Lt.x)(e))r.value={$ingest:e};else if(e.signal){var a="setdata("+Object(Lt.W)(n)+","+e.signal+")";r.params.input=t.signalRef(a)}return t.addDataPipeline(n,[r,HJ({})]),{data:n,field:"data"}}(t,n):t,e.push(t),e}),[]);return(Uf(t.type)?iQ:Hf(t.type)?uQ:sQ)(e,n,a)}function iQ(e,t,n){var r,a,i=oQ(e.sort,!0),o=n.map((function(e){var n=t.getData(e.data);return n||eQ(e.data),n.countsRef(t,e.field,i)})),u={groupby:GY,pulse:o};i&&(r=i.op||"count",a=i.field?$Y(r,i.field):"count",u.ops=[YJ[r]],u.fields=[t.fieldRef(a)],u.as=[a]),r=t.add(_J(u));var s=t.add(kJ({pulse:qY(r)}));return a=t.add($J({field:GY,sort:t.sortRef(i),pulse:qY(s)})),qY(a)}function oQ(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!YJ[e.op]&&Object(Lt.k)("Multiple domain scales can not be sorted using "+e.op):Object(Lt.k)("No field provided for sort aggregate op: "+e.op):Object(Lt.D)(e)?e.field="key":e={field:"key"}),e}function uQ(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||eQ(e.data),n.domainRef(t,e.field)}));return qY(t.add(RJ({values:r})))}function sQ(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||eQ(e.data),n.extentRef(t,e.field)}));return qY(t.add(IJ({extents:r})))}function cQ(e,t,n){var r=t.config.range,a=e.range;if(a.signal)return t.signalRef(a.signal);if(Object(Lt.F)(a)){if(r&&Object(Lt.s)(r,a))return cQ(e=Object(Lt.l)({},e,{range:r[a]}),t,n);"width"===a?a=[0,{signal:"width"}]:"height"===a?a=Uf(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Object(Lt.k)("Unrecognized scale range value: "+Object(Lt.W)(a))}else{if(a.scheme)return n.scheme=Object(Lt.x)(a.scheme)?ZJ(a.scheme,t):QJ(a.scheme,t),a.extent&&(n.schemeExtent=ZJ(a.extent,t)),void(a.count&&(n.schemeCount=QJ(a.count,t)));if(a.step)return void(n.rangeStep=QJ(a.step,t));if(Uf(e.type)&&!Object(Lt.x)(a))return tQ(a,e,t);Object(Lt.x)(a)||Object(Lt.k)("Unsupported range type: "+Object(Lt.W)(a))}return a.map((function(e){return(Object(Lt.x)(e)?ZJ:QJ)(e,t)}))}function lQ(e,t,n){return Object(Lt.x)(e)?e.map((function(e){return lQ(e,t,n)})):Object(Lt.D)(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:Object(Lt.k)("Unsupported parameter object: "+Object(Lt.W)(e)):e}var fQ="top",dQ="left",hQ="right",pQ="bottom",vQ="center",mQ="index",gQ="label",bQ="perc",yQ="value",xQ="guide-label",_Q="guide-title",wQ="group-title",OQ="group-subtitle",kQ="symbol",jQ="gradient",EQ="discrete",CQ="size",AQ=[CQ,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],SQ={name:1,style:1,interactive:1},DQ={value:0},NQ={value:1},FQ="group",TQ="rect",MQ="rule",IQ="text",RQ=function(e){return e.type=FQ,e.interactive=e.interactive||!1,e};function PQ(e,t){var n=function(n,r){return ZY(e[n],ZY(t[n],r))};return n.isVertical=function(n){return"vertical"===ZY(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection))},n.gradientLength=function(){return ZY(e.gradientLength,t.gradientLength||t.gradientWidth)},n.gradientThickness=function(){return ZY(e.gradientThickness,t.gradientThickness||t.gradientHeight)},n.entryColumns=function(){return ZY(e.columns,ZY(t.columns,+n.isVertical(!0)))},n}function BQ(e,t){var n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function zQ(e,t,n){return"item.anchor === '".concat("start","' ? ").concat(e," : item.anchor === '").concat("end","' ? ").concat(t," : ").concat(n)}var LQ=zQ(Object(Lt.W)(dQ),Object(Lt.W)(hQ),Object(Lt.W)(vQ));function UQ(e,t){return t?e?Object(Lt.D)(e)?Object.assign({},e,{offset:UQ(e.offset,t)}):{value:e,offset:t}:t:e}var WQ=function(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=xY(e.encode,t,SQ)):e.interactive=!1,e},VQ=function(e,t,n,r){var a,i,o,u,s,c=PQ(e,n),l=c.isVertical(),f=c.gradientThickness(),d=c.gradientLength();l?(i=[0,1],o=[0,0],u=f,s=d):(i=[0,0],o=[1,0],u=d,s=f);var h={enter:a={opacity:DQ,x:DQ,y:DQ,width:gY(u),height:gY(s)},update:Object(Lt.l)({},a,{opacity:NQ,fill:{gradient:t,start:i,stop:o}}),exit:{opacity:DQ}};return yY(h,{stroke:c("gradientStrokeColor"),strokeWidth:c("gradientStrokeWidth")},{opacity:c("gradientOpacity")}),WQ({type:TQ,role:"legend-gradient",encode:h},r)},qQ=function(e,t,n,r,a){var i,o,u,s,c=PQ(e,n),l=c.isVertical(),f=c.gradientThickness(),d=c.gradientLength(),h="";l?(i="y",u="y2",o="x",s="width",h="1-"):(i="x",u="x2",o="y",s="height");var p={opacity:DQ,fill:{scale:t,field:yQ}};p[i]={signal:h+"datum."+bQ,mult:d},p[o]=DQ,p[u]={signal:h+"datum.perc2",mult:d},p[s]=gY(f);var v={enter:p,update:Object(Lt.l)({},p,{opacity:NQ}),exit:{opacity:DQ}};return yY(v,{stroke:c("gradientStrokeColor"),strokeWidth:c("gradientStrokeWidth")},{opacity:c("gradientOpacity")}),WQ({type:TQ,role:"legend-band",key:yQ,from:a,encode:v},r)},HQ="datum.".concat(bQ,'<=0?"').concat(dQ,'":datum.').concat(bQ,'>=1?"').concat(hQ,'":"').concat(vQ,'"'),GQ="datum.".concat(bQ,'<=0?"').concat(pQ,'":datum.').concat(bQ,'>=1?"').concat(fQ,'":"').concat("middle",'"'),KQ=function(e,t,n,r){var a,i,o,u,s=PQ(e,t),c=s.isVertical(),l=gY(s.gradientThickness()),f=s.gradientLength(),d=s("labelOverlap"),h="",p={enter:a={opacity:DQ},update:i={opacity:NQ,text:{field:gQ}},exit:{opacity:DQ}};return yY(p,{fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:ZY(e.labelLimit,t.gradientLabelLimit)}),c?(a.align={value:"left"},a.baseline=i.baseline={signal:GQ},o="y",u="x",h="1-"):(a.align=i.align={signal:HQ},a.baseline={value:"top"},o="x",u="y"),a[o]=i[o]={signal:h+"datum."+bQ,mult:f},a[u]=i[u]=l,l.offset=ZY(e.labelOffset,t.gradientLabelOffset)||0,d=d?{separation:s("labelSeparation"),method:d,order:"datum.index"}:void 0,WQ({type:IQ,role:jY,style:xQ,key:yQ,from:r,encode:p,overlap:d},n)},$Q=function(e,t,n,r,a){var i,o,u,s,c,l=PQ(e,t),f=n.entries,d=!(!f||!f.interactive),h=f?f.name:void 0,p=l("clipHeight"),v=l("symbolOffset"),m={data:"value"},g="(".concat(a,") ? datum.").concat("offset"," : datum.").concat(CQ),b=p?gY(p):{field:CQ},y="datum.".concat(mQ),x="max(1, ".concat(a,")");b.mult=.5,i={enter:o={opacity:DQ,x:{signal:g,mult:.5,offset:v},y:b},update:u={opacity:NQ,x:o.x,y:o.y},exit:{opacity:DQ}};var _=null,w=null;e.fill||(_=t.symbolBaseFillColor,w=t.symbolBaseStrokeColor),yY(i,{fill:l("symbolFillColor",_),shape:l("symbolType"),size:l("symbolSize"),stroke:l("symbolStrokeColor",w),strokeDash:l("symbolDash"),strokeDashOffset:l("symbolDashOffset"),strokeWidth:l("symbolStrokeWidth")},{opacity:l("symbolOpacity")}),AQ.forEach((function(t){e[t]&&(u[t]=o[t]={scale:e[t],field:yQ})}));var O=WQ({type:"symbol",role:"legend-symbol",key:yQ,from:m,clip:!!p||void 0,encode:i},n.symbols),k=gY(v);k.offset=l("labelOffset"),yY(i={enter:o={opacity:DQ,x:{signal:g,offset:k},y:b},update:u={opacity:NQ,text:{field:gQ},x:o.x,y:o.y},exit:{opacity:DQ}},{align:l("labelAlign"),baseline:l("labelBaseline"),fill:l("labelColor"),fillOpacity:l("labelOpacity"),font:l("labelFont"),fontSize:l("labelFontSize"),fontStyle:l("labelFontStyle"),fontWeight:l("labelFontWeight"),limit:l("labelLimit")});var j=WQ({type:IQ,role:jY,style:xQ,key:yQ,from:m,encode:i},n.labels);return i={enter:{noBound:{value:!p},width:DQ,height:p?gY(p):DQ,opacity:DQ},exit:{opacity:DQ},update:u={opacity:NQ,row:{signal:null},column:{signal:null}}},l.isVertical(!0)?(s="ceil(item.mark.items.length / ".concat(x,")"),u.row.signal="".concat(y,"%").concat(s),u.column.signal="floor(".concat(y," / ").concat(s,")"),c={field:["row",y]}):(u.row.signal="floor(".concat(y," / ").concat(x,")"),u.column.signal="".concat(y," % ").concat(x),c={field:y}),u.column.signal="(".concat(a,")?").concat(u.column.signal,":").concat(y),RQ({role:kY,from:r={facet:{data:r,name:"value",groupby:mQ}},encode:xY(i,f,SQ),marks:[O,j],name:h,interactive:d,sort:c})};var XQ='item.orient === "left"',YQ='item.orient === "right"',JQ="(".concat(XQ," || ").concat(YQ,")"),QQ="datum.vgrad && ".concat(JQ),ZQ=zQ('"top"','"bottom"','"middle"'),eZ=zQ('"right"','"left"','"center"'),tZ="datum.vgrad && ".concat(YQ," ? (").concat(eZ,") : (").concat(JQ," && !(datum.vgrad && ").concat(XQ,')) ? "left" : ').concat(LQ),nZ="item._anchor || (".concat(JQ,' ? "middle" : "start")'),rZ="".concat(QQ," ? (").concat(XQ," ? -90 : 90) : 0"),aZ="".concat(JQ," ? (datum.vgrad ? (").concat(YQ,' ? "bottom" : "top") : ').concat(ZQ,') : "top"'),iZ=function(e,t){var n;return Object(Lt.D)(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+oZ(e.path)+")":e.sphere&&(n="geoShape("+oZ(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e};function oZ(e){return Object(Lt.D)(e)&&e.signal?e.signal:Object(Lt.W)(e)}var uZ=function(e){var t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?e.type===FQ?kY:t||wY:t},sZ=function(e){return{marktype:e.type,name:e.name||void 0,role:e.role||uZ(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}},cZ=function(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e},lZ=function(e,t){var n=dr(e.type);n||Object(Lt.k)("Unrecognized transform type: "+Object(Lt.W)(e.type));var r=WY(n.type.toLowerCase(),null,fZ(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r};function fZ(e,t,n){for(var r={},a=e.params.length,i=0;i<a;++i){var o=e.params[i];r[o.name]=dZ(o,t,n)}return r}function dZ(e,t,n){var r=e.type,a=t[e.name];return"index"===r?function(e,t,n){Object(Lt.F)(t.from)||Object(Lt.k)('Lookup "from" parameter must be a string literal.');return n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==a?"param"===r?function(e,t,n){var r=t[e.name];return e.array?(Object(Lt.x)(r)||Object(Lt.k)("Expected an array of sub-parameters. Instead: "+Object(Lt.W)(r)),r.map((function(t){return pZ(e,t,n)}))):pZ(e,r,n)}(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!JY(a)?a.map((function(t){return hZ(e,t,n)})):hZ(e,a,n):void(e.required&&Object(Lt.k)("Missing required "+Object(Lt.W)(t.type)+" parameter: "+Object(Lt.W)(e.name)))}function hZ(e,t,n){var r=e.type;if(JY(t))return bZ(r)?Object(Lt.k)("Expression references can not be signals."):yZ(r)?n.fieldRef(t):xZ(r)?n.compareRef(t):n.signalRef(t.signal);var a=e.expr||yZ(r);return a&&vZ(t)?n.exprRef(t.expr,t.as):a&&mZ(t)?HY(t.field,t.as):bZ(r)?uU(t,n):gZ(r)?qY(n.getData(t).values):yZ(r)?HY(t):xZ(r)?n.compareRef(t):t}function pZ(e,t,n){for(var r,a=e.params.length,i=0;i<a;++i){for(var o in(r=e.params[i]).key)if(r.key[o]!==t[o]){r=null;break}if(r)break}r||Object(Lt.k)("Unsupported parameter: "+Object(Lt.W)(t));var u=Object(Lt.l)(fZ(r,t,n),r.key);return qY(n.add(BJ(u)))}var vZ=function(e){return e&&e.expr},mZ=function(e){return e&&e.field},gZ=function(e){return"data"===e},bZ=function(e){return"expr"===e},yZ=function(e){return"field"===e},xZ=function(e){return"compare"===e};function _Z(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:qY(t.getData(e.data).output)}function wZ(e,t,n,r,a){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=a,this.index={}}function OZ(e){return Object(Lt.F)(e)?e:null}function kZ(e,t,n){var r,a=$Y(n.op,n.field);if(t.ops){for(var i=0,o=t.as.length;i<o;++i)if(t.as[i]===a)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(a))}function jZ(e,t,n,r,a,i,o){var u,s,c=t[n]||(t[n]={}),l=function(e){return Object(Lt.D)(e)?("descending"===e.order?"-":"+")+$Y(e.op,e.field):""}(i),f=OZ(a);if(null!=f&&(e=t.scope,u=c[f+=l?"|"+l:""]),!u){var d=i?{field:GY,pulse:t.countsRef(e,a,i)}:{field:e.fieldRef(a),pulse:qY(t.output)};l&&(d.sort=e.sortRef(i)),s=e.add(WY(r,void 0,d)),o&&(t.index[a]=s),u=qY(s),null!=f&&(c[f]=u)}return u}wZ.fromEntries=function(e,t){var n=t.length,r=t[n-1],a=t[n-2],i=t[0],o=null,u=1;for(i&&"load"===i.type&&(i=t[1]),e.add(t[0]);u<n;++u)t[u].params.pulse=qY(t[u-1]),e.add(t[u]),"aggregate"===t[u].type&&(o=t[u]);return new wZ(e,i,a,r,o)},wZ.prototype={countsRef:function(e,t,n){var r,a,i,o=this,u=o.counts||(o.counts={}),s=OZ(t);return null!=s&&(e=o.scope,r=u[s]),r?n&&n.field&&kZ(e,r.agg.params,n):(i={groupby:e.fieldRef(t,"key"),pulse:qY(o.output)},n&&n.field&&kZ(e,i,n),a=e.add(_J(i)),r=e.add(kJ({pulse:qY(a)})),r={agg:a,ref:qY(r)},null!=s&&(u[s]=r)),r.ref},tuplesRef:function(){return qY(this.values)},extentRef:function(e,t){return jZ(e,this,"extent","extent",t,!1)},domainRef:function(e,t){return jZ(e,this,"domain","values",t,!1)},valuesRef:function(e,t,n){return jZ(e,this,"vals","values",t,n||!0)},lookupRef:function(e,t){return jZ(e,this,"lookup","tupleindex",t,!1)},indataRef:function(e,t){return jZ(e,this,"indata","tupleindex",t,!0,!0)}};var EZ=function(e,t,n){var r=e.remove,a=e.insert,i=e.toggle,o=e.modify,u=e.values,s=t.add(VY()),c=uU("if("+e.trigger+',modify("'+n+'",'+[a,r,i,o,u].map((function(e){return null==e?"null":e})).join(",")+"),0)",t);s.update=c.$expr,s.params=c.$params},CZ=function(e,t){var n,r,a,i,o,u,s,c=uZ(e),l=e.type===FQ,f=e.from&&e.from.facet,d=e.overlap,h=e.layout||c===kY||c===OY,p=c===wY||h||f,v=function(e,t,n){var r,a,i,o,u;return e?(r=e.facet)&&(t||Object(Lt.k)("Only group marks can be faceted."),null!=r.field?o=u=_Z(r,n):(e.data?u=qY(n.getData(e.data).aggregate):((i=lZ(Object(Lt.l)({type:"aggregate",groupby:Object(Lt.e)(r.groupby)},r.aggregate),n)).params.key=n.keyRef(r.groupby),i.params.pulse=_Z(r,n),o=u=qY(n.add(i))),a=n.keyRef(r.groupby,!0))):o=qY(n.add(kJ(null,[{}]))),o||(o=_Z(e,n)),{key:a,pulse:o,parent:u}}(e.from,l,t),m=qY(r=t.add(EJ({key:v.key||(e.key?HY(e.key):void 0),pulse:v.pulse,clean:!l})));r=a=t.add(kJ({pulse:m})),r=t.add(MJ({markdef:sZ(e),interactive:cZ(e.interactive,t),clip:iZ(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:qY(r)}));var g=qY(r);(r=i=t.add(CJ(IY(e.encode,e.type,c,e.style,t,{mod:!1,pulse:g})))).params.parent=t.encode(),e.transform&&e.transform.forEach((function(e){var n=lZ(e,t),a=n.metadata;(a.generates||a.changes)&&Object(Lt.k)("Mark transforms should not generate new data."),a.nomod||(i.params.mod=!0),n.params.pulse=qY(r),t.add(r=n)})),e.sort&&(r=t.add(GJ({sort:t.compareRef(e.sort),pulse:qY(r)})));var b=qY(r);(f||h)&&(u=qY(h=t.add(KJ({layout:t.objectProperty(e.layout),legends:t.legends,mark:g,pulse:b}))));var y=t.add(OJ({mark:g,pulse:u||b}));s=qY(y),l&&(p&&((n=t.operators).pop(),h&&n.pop()),t.pushState(b,u||s,m),f?function(e,t,n){var r,a=e.from.facet,i=a.name,o=_Z(a,t);a.name||Object(Lt.k)("Facet must have a name: "+Object(Lt.W)(a)),a.data||Object(Lt.k)("Facet must reference a data set: "+Object(Lt.W)(a)),a.field?r=t.add(zJ({field:t.fieldRef(a.field),pulse:o})):a.groupby?r=t.add(SJ({key:t.keyRef(a.groupby),group:qY(t.proxy(n.parent)),pulse:o})):Object(Lt.k)("Facet must specify groupby or field: "+Object(Lt.W)(a));var u=t.fork(),s=u.add(kJ()),c=u.add(HJ({pulse:qY(s)}));u.addData(i,new wZ(u,s,s,c)),u.addSignal("parent",null),r.params.subflow={$subflow:u.parse(e).toRuntime()}}(e,t,v):p?function(e,t,n){var r=t.add(zJ({pulse:n.pulse})),a=t.fork();a.add(HJ()),a.addSignal("parent",null),r.params.subflow={$subflow:a.parse(e).toRuntime()}}(e,t,v):t.parse(e),t.popState(),p&&(h&&n.push(h),n.push(y))),d&&(s=function(e,t,n){var r=e.method,a=e.bound,i=e.separation,o={separation:JY(i)?n.signalRef(i.signal):i,method:JY(r)?n.signalRef(r.signal):r,pulse:t};e.order&&(o.sort=n.compareRef({field:e.order}));if(a){var u=a.tolerance;o.boundTolerance=JY(u)?n.signalRef(u.signal):+u,o.boundScale=n.scaleRef(a.scale),o.boundOrient=a.orient}return qY(n.add(PJ(o)))}(d,s,t));var x=t.add(VJ({pulse:s})),_=t.add(HJ({pulse:qY(x)},void 0,t.parent()));null!=e.name&&(o=e.name,t.addData(o,new wZ(t,a,x,_)),e.on&&e.on.forEach((function(e){(e.insert||e.remove||e.toggle)&&Object(Lt.k)("Marks only support modify triggers."),EZ(e,t,o)})))};var AZ=function(e,t){var n,r,a,i=t.config.legend,o=e.encode||{},u=PQ(e,i),s=o.legend||{},c=s.name||void 0,l=s.interactive,f=s.style,d={},h=0;AQ.forEach((function(t){return e[t]?(d[t]=e[t],h=h||e[t]):0})),h||Object(Lt.k)("Missing valid scale for legend.");var p=function(e,t){var n=e.type||kQ;e.type||1!==function(e){return AQ.reduce((function(t,n){return t+(e[n]?1:0)}),0)}(e)||!e.fill&&!e.stroke||(n=Lf(t)?jQ:Wf(t)?EQ:kQ);return n!==jQ?n:Wf(t)?EQ:jQ}(e,t.scaleType(h)),v={title:null!=e.title,scales:d,type:p,vgrad:"symbol"!==p&&u.isVertical()},m=qY(t.add(kJ(null,[v]))),g=qY(t.add(FJ(r={type:p,scale:t.scaleRef(h),count:t.objectProperty(u("tickCount")),limit:t.property(u("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===jQ?(a=[VQ(e,h,i,o.gradient),KQ(e,i,o.labels,g)],r.count=r.count||t.signalRef("max(2,2*floor((".concat(eJ(u.gradientLength()),")/100))"))):p===EQ?a=[qQ(e,h,i,o.gradient,g),KQ(e,i,o.labels,g)]:(n=function(e,t){var n=PQ(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(e,i),a=[$Q(e,i,o,g,eJ(n.columns))],r.size=function(e,t,n){var r=eJ(DZ("size",e,n)),a=eJ(DZ("strokeWidth",e,n)),i=eJ(function(e,t,n){return BQ("fontSize",e)||function(e,t,n){var r=t.config.style[n];return r&&r[e]}("fontSize",t,n)}(n[1].encode,t,xQ));return uU("max(ceil(sqrt(".concat(r,")+").concat(a,"),").concat(i,")"),t)}(e,t,a[0].marks)),a=[RQ({role:"legend-entry",from:m,encode:{enter:{x:{value:0},y:{value:0}}},marks:a,layout:n,interactive:l})],v.title&&a.push(function(e,t,n,r){var a=PQ(e,t),i={enter:{opacity:DQ},update:{opacity:NQ,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:DQ}};return yY(i,{orient:a("titleOrient"),_anchor:a("titleAnchor"),anchor:{signal:nZ},angle:{signal:rZ},align:{signal:tZ},baseline:{signal:aZ},text:e.title,fill:a("titleColor"),fillOpacity:a("titleOpacity"),font:a("titleFont"),fontSize:a("titleFontSize"),fontStyle:a("titleFontStyle"),fontWeight:a("titleFontWeight"),limit:a("titleLimit"),lineHeight:a("titleLineHeight")},{align:a("titleAlign"),baseline:a("titleBaseline")}),WQ({type:IQ,role:"legend-title",style:_Q,from:r,encode:i},n)}(e,i,o.title,m)),CZ(RQ({role:"legend",from:m,encode:xY(SZ(u,e,i),s,SQ),marks:a,aria:u("aria"),description:u("description"),zindex:u("zindex"),name:c,interactive:l,style:f}),t)};function SZ(e,t,n){var r={enter:{},update:{}};return yY(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function DZ(e,t,n){return t[e]?'scale("'.concat(t[e],'",datum)'):BQ(e,n[0].encode)}var NZ='item.orient==="'.concat(dQ,'"?-90:item.orient==="').concat(hQ,'"?90:0'),FZ=function(e,t){var n=PQ(e=Object(Lt.F)(e)?{text:e}:e,t.config.title),r=e.encode||{},a=r.group||{},i=a.name||void 0,o=a.interactive,u=a.style,s=[],c=qY(t.add(kJ(null,[{}])));return s.push(function(e,t,n,r){var a={value:0},i=e.text,o={enter:{opacity:a},update:{opacity:{value:1}},exit:{opacity:a}};return yY(o,{text:i,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),WQ({type:IQ,role:EY,style:wQ,from:r,encode:o},n)}(e,n,function(e){var t=e.encode;return t&&t.title||Object(Lt.l)({name:e.name,interactive:e.interactive,style:e.style},t)}(e),c)),e.subtitle&&s.push(function(e,t,n,r){var a={value:0},i=e.subtitle,o={enter:{opacity:a},update:{opacity:{value:1}},exit:{opacity:a}};return yY(o,{text:i,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),WQ({type:IQ,role:CY,style:OQ,from:r,encode:o},n)}(e,n,r.subtitle,c)),CZ(RQ({role:"title",from:c,encode:TZ(n,a),marks:s,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:i,interactive:o,style:u}),t)};function TZ(e,t){var n={enter:{},update:{}};return yY(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:LQ},angle:{signal:NZ},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),xY(n,t,SQ)}function MZ(e,t){var n=[];e.transform&&e.transform.forEach((function(e){n.push(lZ(e,t))})),e.on&&e.on.forEach((function(n){EZ(n,t,e.name)})),t.addDataPipeline(e.name,function(e,t,n){var r,a,i,o,u,s=[],c=null,l=!1,f=!1;e.values?QY(e.values)||QY(e.format)?(s.push(RZ(t,e)),s.push(c=IZ())):s.push(c=IZ({$ingest:e.values,$format:e.format})):e.url?QY(e.url)||QY(e.format)?(s.push(RZ(t,e)),s.push(c=IZ())):s.push(c=IZ({$request:e.url,$format:e.format})):e.source&&(c=r=Object(Lt.e)(e.source).map((function(e){return qY(t.getData(e).output)})),s.push(null));for(a=0,i=n.length;a<i;++a)u=(o=n[a]).metadata,c||u.source||s.push(c=IZ()),s.push(o),u.generates&&(f=!0),u.modifies&&!f&&(l=!0),u.source?c=o:u.changes&&(c=null);r&&(i=r.length-1,s[0]=WJ({derive:l,pulse:i?r:r[0]}),(l||i)&&s.splice(1,0,IZ()));c||s.push(IZ());return s.push(HJ({})),s}(e,t,n))}function IZ(e){var t=kJ({},e);return t.metadata={source:!0},t}function RZ(e,t){return TJ({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}var PZ=function(e){return e===pQ||e===fQ},BZ=function(e,t,n){return JY(e)?qZ(e.signal,t,n):e===dQ||e===fQ?t:n},zZ=function(e,t,n){return JY(e)?WZ(e.signal,t,n):PZ(e)?t:n},LZ=function(e,t,n){return JY(e)?VZ(e.signal,t,n):PZ(e)?n:t},UZ=function(e,t,n){return JY(e)?HZ(e.signal,t,n):e===fQ?{value:t}:{value:n}},WZ=function(e,t,n){return KZ("".concat(e," === '").concat(fQ,"' || ").concat(e," === '").concat(pQ,"'"),t,n)},VZ=function(e,t,n){return KZ("".concat(e," !== '").concat(fQ,"' && ").concat(e," !== '").concat(pQ,"'"),t,n)},qZ=function(e,t,n){return XZ("".concat(e," === '").concat(dQ,"' || ").concat(e," === '").concat(fQ,"'"),t,n)},HZ=function(e,t,n){return XZ("".concat(e," === '").concat(fQ,"'"),t,n)},GZ=function(e,t,n){return XZ("".concat(e," === '").concat(hQ,"'"),t,n)},KZ=function(e,t,n){return t=null!=t?gY(t):t,n=null!=n?gY(n):n,$Z(t)&&$Z(n)?(t=t?t.signal||Object(Lt.W)(t.value):null,n=n?n.signal||Object(Lt.W)(n.value):null,{signal:"".concat(e," ? (").concat(t,") : (").concat(n,")")}):[Object(Lt.l)({test:e},t)].concat(n||[])},$Z=function(e){return null==e||1===Object.keys(e).length},XZ=function(e,t,n){return{signal:"".concat(e," ? (").concat(YZ(t),") : (").concat(YZ(n),")")}},YZ=function(e){return JY(e)?e.signal:null==e?null:Object(Lt.W)(e)},JZ=function(e,t){var n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function QZ(e,t,n,r){var a;if(t&&Object(Lt.s)(t,e))return t[e];if(Object(Lt.s)(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":a="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":a=e[5].toLowerCase()+e.slice(6)}return r["guide-title"][a]}if(e.startsWith("label")){switch(e){case"labelColor":a="fill";break;case"labelFont":case"labelFontSize":a=e[5].toLowerCase()+e.slice(6)}return r["guide-label"][a]}return null}function ZZ(e){var t,n={},r=Object(pr.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a)for(var i in a)n[i]=1}}catch(o){r.e(o)}finally{r.f()}return Object.keys(n)}function e0(e,t){return{scale:e.scale,range:t}}var t0=function(e,t,n,r,a){var i,o,u,s=PQ(e,t),c=e.orient,l=e.gridScale,f=BZ(c,1,-1),d=function(e,t){if(1===t);else if(Object(Lt.D)(e)){for(var n=e=Object(Lt.l)({},e);null!=n.mult;){if(!Object(Lt.D)(n.mult))return n.mult=JY(t)?{signal:"(".concat(n.mult,") * (").concat(t.signal,")")}:n.mult*t,e;n=n.mult=Object(Lt.l)({},n.mult)}n.mult=t}else e=JY(t)?{signal:"(".concat(t.signal,") * (").concat(e||0,")")}:t*(e||0);return e}(e.offset,f),h={enter:i={opacity:DQ},update:u={opacity:NQ},exit:o={opacity:DQ}};yY(h,{stroke:s("gridColor"),strokeCap:s("gridCap"),strokeDash:s("gridDash"),strokeDashOffset:s("gridDashOffset"),strokeOpacity:s("gridOpacity"),strokeWidth:s("gridWidth")});var p={scale:e.scale,field:yQ,band:a.band,extra:a.extra,offset:a.offset,round:s("tickRound")},v=zZ(c,{signal:"height"},{signal:"width"}),m=l?{scale:l,range:0,mult:f,offset:d}:{value:0,offset:d},g=l?{scale:l,range:1,mult:f,offset:d}:Object(Lt.l)(v,{mult:f,offset:d});return i.x=u.x=zZ(c,p,m),i.y=u.y=LZ(c,p,m),i.x2=u.x2=LZ(c,g),i.y2=u.y2=zZ(c,g),o.x=zZ(c,p),o.y=LZ(c,p),WQ({type:MQ,role:"axis-grid",key:yQ,from:r,encode:h},n)};function n0(e,t,n,r,a){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+a+")"}}var r0=function(e,t,n,r,a,i){var o,u=PQ(e,t),s=e.orient,c=e.scale,l=BZ(s,-1,1),f=eJ(u("labelFlush")),d=eJ(u("labelFlushOffset")),h=u("labelAlign"),p=u("labelBaseline"),v=0===f||!!f,m=gY(a);m.mult=l,m.offset=gY(u("labelPadding")||0),m.offset.mult=l;var g={scale:c,field:yQ,band:.5,offset:UQ(i.offset,u("labelOffset"))},b=zZ(s,v?n0(c,f,'"left"','"right"','"center"'):{value:"center"},function(e,t,n){return JY(e)?GZ(e.signal,t,n):e===hQ?{value:t}:{value:n}}(s,"left","right")),y=zZ(s,UZ(s,"bottom","top"),v?n0(c,f,'"top"','"bottom"','"middle"'):{value:"middle"}),x=n0(c,f,"-(".concat(d,")"),d,0);v=v&&d;var _={opacity:DQ,x:zZ(s,g,m),y:LZ(s,g,m)},w={enter:_,update:o={opacity:NQ,text:{field:gQ},x:_.x,y:_.y,align:b,baseline:y},exit:{opacity:DQ,x:_.x,y:_.y}};yY(w,{dx:!h&&v?zZ(s,x):null,dy:!p&&v?LZ(s,x):null}),yY(w,{angle:u("labelAngle"),fill:u("labelColor"),fillOpacity:u("labelOpacity"),font:u("labelFont"),fontSize:u("labelFontSize"),fontWeight:u("labelFontWeight"),fontStyle:u("labelFontStyle"),limit:u("labelLimit"),lineHeight:u("labelLineHeight")},{align:h,baseline:p});var O=u("labelBound"),k=u("labelOverlap");return k=k||O?{separation:u("labelSeparation"),method:k,order:"datum.index",bound:O?{scale:c,orient:s,tolerance:O}:null}:void 0,o.align!==b&&(o.align=JZ(o.align,b)),o.baseline!==y&&(o.baseline=JZ(o.baseline,y)),WQ({type:IQ,role:"axis-label",style:xQ,key:yQ,from:r,encode:w,overlap:k},n)},a0=function(e,t,n,r){var a,i,o=PQ(e,t),u=e.orient,s=BZ(u,-1,1),c={enter:a={opacity:DQ,anchor:gY(o("titleAnchor",null)),align:{signal:LQ}},update:i=Object(Lt.l)({},a,{opacity:NQ,text:gY(e.title)}),exit:{opacity:DQ}},l={signal:'lerp(range("'.concat(e.scale,'"), ').concat(zQ(0,1,.5),")")};return i.x=zZ(u,l),i.y=LZ(u,l),a.angle=zZ(u,DQ,function(e,t){return 0===t?0:JY(e)?{signal:"(".concat(e.signal,") * ").concat(t)}:{value:e*t}}(s,90)),a.baseline=zZ(u,UZ(u,pQ,fQ),{value:pQ}),i.angle=a.angle,i.baseline=a.baseline,yY(c,{fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit"),lineHeight:o("titleLineHeight")},{align:o("titleAlign"),angle:o("titleAngle"),baseline:o("titleBaseline")}),function(e,t,n,r){var a=function(e,t){return null!=e?(n.update[t]=JZ(gY(e),n.update[t]),!1):!_Y(t,r)},i=a(e("titleX"),"x"),o=a(e("titleY"),"y");n.enter.auto=o===i?gY(o):zZ(t,gY(o),gY(i))}(o,u,c,n),c.update.align=JZ(c.update.align,a.align),c.update.angle=JZ(c.update.angle,a.angle),c.update.baseline=JZ(c.update.baseline,a.baseline),WQ({type:IQ,role:"axis-title",style:_Q,from:r,encode:c},n)};var i0=function(e,t){var n,r=function(e,t){var n,r,a,i,o,u,s,c,l=t.config,f=l.style,d=l.axis,h="band"===t.scaleType(e.scale)&&l.axisBand,p=e.orient;if(JY(p)){var v=ZZ([l.axisX,l.axisY]),m=ZZ([l.axisTop,l.axisBottom,l.axisLeft,l.axisRight]);n={};var g,b=Object(pr.a)(v);try{for(b.s();!(g=b.n()).done;)n[a=g.value]=zZ(p,QZ(a,l.axisX,d,f),QZ(a,l.axisY,d,f))}catch(_){b.e(_)}finally{b.f()}r={};var y,x=Object(pr.a)(m);try{for(x.s();!(y=x.n()).done;)r[a=y.value]=(i=p.signal,o=QZ(a,l.axisTop,d,f),u=QZ(a,l.axisBottom,d,f),s=QZ(a,l.axisLeft,d,f),c=QZ(a,l.axisRight,d,f),{signal:(null!=s?"".concat(i," === '").concat(dQ,"' ? (").concat(YZ(s),") : "):"")+(null!=u?"".concat(i," === '").concat(pQ,"' ? (").concat(YZ(u),") : "):"")+(null!=c?"".concat(i," === '").concat(hQ,"' ? (").concat(YZ(c),") : "):"")+(null!=o?"".concat(i," === '").concat(fQ,"' ? (").concat(YZ(o),") : "):"")+"(null)"})}catch(_){x.e(_)}finally{x.f()}}else n=p===fQ||p===pQ?l.axisX:l.axisY,r=l["axis"+p[0].toUpperCase()+p.slice(1)];return n||r||h?Object(Lt.l)({},d,n,r,h):d}(e,t),a=e.encode||{},i=a.axis||{},o=i.name||void 0,u=i.interactive,s=i.style,c=PQ(e,r),l=function(e){var t,n,r=e("tickBand"),a=e("tickOffset");return r?r.signal?(t={signal:"(".concat(r.signal,") === 'extent' ? 1 : 0.5")},n={signal:"(".concat(r.signal,") === 'extent'")},Object(Lt.D)(a)||(a={signal:"(".concat(r.signal,") === 'extent' ? 0 : ").concat(a)})):"extent"===r?(t=1,n=!0,a=0):(t=.5,n=!1):(t=e("bandPosition"),n=e("tickExtra")),{extra:n,band:t,offset:a}}(c),f={scale:e.scale,ticks:!!c("ticks"),labels:!!c("labels"),grid:!!c("grid"),domain:!!c("domain"),title:null!=e.title},d=qY(t.add(kJ({},[f]))),h=qY(t.add(wJ({scale:t.scaleRef(e.scale),extra:t.property(l.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),p=[];return f.grid&&p.push(t0(e,r,a.grid,h,l)),f.ticks&&(n=c("tickSize"),p.push(function(e,t,n,r,a,i){var o,u,s,c=PQ(e,t),l=e.orient,f=BZ(l,-1,1),d={enter:o={opacity:DQ},update:s={opacity:NQ},exit:u={opacity:DQ}};yY(d,{stroke:c("tickColor"),strokeCap:c("tickCap"),strokeDash:c("tickDash"),strokeDashOffset:c("tickDashOffset"),strokeOpacity:c("tickOpacity"),strokeWidth:c("tickWidth")});var h=gY(a);h.mult=f;var p={scale:e.scale,field:yQ,band:i.band,extra:i.extra,offset:i.offset,round:c("tickRound")};return s.y=o.y=zZ(l,DQ,p),s.y2=o.y2=zZ(l,h),u.x=zZ(l,p),s.x=o.x=LZ(l,DQ,p),s.x2=o.x2=LZ(l,h),u.y=LZ(l,p),WQ({type:MQ,role:"axis-tick",key:yQ,from:r,encode:d},n)}(e,r,a.ticks,h,n,l))),f.labels&&(n=f.ticks?n:0,p.push(r0(e,r,a.labels,h,n,l))),f.domain&&p.push(function(e,t,n,r){var a,i,o=PQ(e,t),u=e.orient,s={enter:a={opacity:DQ},update:i={opacity:NQ},exit:{opacity:DQ}};yY(s,{stroke:o("domainColor"),strokeCap:o("domainCap"),strokeDash:o("domainDash"),strokeDashOffset:o("domainDashOffset"),strokeWidth:o("domainWidth"),strokeOpacity:o("domainOpacity")});var c=e0(e,0),l=e0(e,1);return a.x=i.x=zZ(u,c,DQ),a.x2=i.x2=zZ(u,l),a.y=i.y=LZ(u,c,DQ),a.y2=i.y2=LZ(u,l),WQ({type:MQ,role:"axis-domain",from:r,encode:s},n)}(e,r,a.domain,d)),f.title&&p.push(a0(e,r,a.title,d)),CZ(RQ({role:"axis",from:d,encode:xY(o0(c,e),i,SQ),marks:p,aria:c("aria"),description:c("description"),zindex:c("zindex"),name:o,interactive:u,style:s}),t)};function o0(e,t){var n={enter:{},update:{}};return yY(n,{orient:e("orient"),offset:e("offset")||0,position:ZY(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:'abs(span(range("'.concat(t.scale,'")))')},translate:e("translate"),format:t.format,formatType:t.formatType}),n}var u0=function(e,t,n){var r=Object(Lt.e)(e.signals),a=Object(Lt.e)(e.scales);return n||r.forEach((function(e){return LY(e,t)})),Object(Lt.e)(e.projections).forEach((function(e){return function(e,t){var n=t.config.projection||{},r={};for(var a in e)"name"!==a&&(r[a]=lQ(e[a],a,t));for(var i in n)null==r[i]&&(r[i]=lQ(n[i],i,t));t.addProjection(e.name,r)}(e,t)})),a.forEach((function(e){return function(e,t){var n=e.type||"linear";Bf(n)||Object(Lt.k)("Unrecognized scale type: "+Object(Lt.W)(n)),t.addScale(e.name,{type:n,domain:void 0})}(e,t)})),Object(Lt.e)(e.data).forEach((function(e){return MZ(e,t)})),a.forEach((function(e){return JJ(e,t)})),(n||r).forEach((function(e){return function(e,t){var n=t.getSignal(e.name),r=e.update;e.init&&(r?Object(Lt.k)("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=uU(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach((function(e){return bJ(e,t,n.id)}))}(e,t)})),Object(Lt.e)(e.axes).forEach((function(e){return i0(e,t)})),Object(Lt.e)(e.marks).forEach((function(e){return CZ(e,t)})),Object(Lt.e)(e.legends).forEach((function(e){return AZ(e,t)})),e.title&&FZ(e.title,t),t.parseLambdas(),t};function s0(e,t){var n=t.config,r=qY(t.root=t.add(VY())),a=function(e,t){var n=function(n){return ZY(e[n],t[n])},r=[c0("background",n("background")),c0("autosize",pY(n("autosize"))),c0("padding",mY(n("padding"))),c0("width",n("width")||0),c0("height",n("height")||0)],a=r.reduce((function(e,t){return e[t.name]=t,e}),{}),i={};return Object(Lt.e)(e.signals).forEach((function(e){Object(Lt.s)(a,e.name)?e=Object(Lt.l)(a[e.name],e):r.push(e),i[e.name]=e})),Object(Lt.e)(t.signals).forEach((function(e){Object(Lt.s)(i,e.name)||Object(Lt.s)(a,e.name)||r.push(e)})),r}(e,n);a.forEach((function(e){return LY(e,t)})),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;var i=t.add(kJ()),o=t.add(CJ(IY(function(e){return xY({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e)}(e.encode),FQ,OY,e.style,t,{pulse:qY(i)}))),u=t.add(KJ({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:qY(o)}));t.operators.pop(),t.pushState(qY(o),qY(u),null),u0(e,t,a),t.operators.push(u);var s=t.add(OJ({mark:r,pulse:qY(u)}));return s=t.add(VJ({pulse:qY(s)})),s=t.add(HJ({pulse:qY(s)})),t.addData("root",new wZ(t,i,i,s)),t}function c0(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function l0(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function f0(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function d0(e){return(Object(Lt.x)(e)?h0:p0)(e)}function h0(e){for(var t=e.length,n="[",r=0;r<t;++r){var a=e[r];n+=(r>0?",":"")+(Object(Lt.D)(a)?a.signal||d0(a):Object(Lt.W)(a))}return n+"]"}function p0(e){var t,n,r="{",a=0;for(t in e)n=e[t],r+=(++a>1?",":"")+Object(Lt.W)(t)+":"+(Object(Lt.D)(n)?n.signal||d0(n):Object(Lt.W)(n));return r+"}"}l0.prototype=f0.prototype={parse:function(e){return u0(e,this)},fork:function(){return new f0(this)},isSubscope:function(){return this._subid>0},toRuntime:function(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id:function(){return(this._subid?this._subid+":":0)+this._id++},add:function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach((function(t){t.$ref=e.id})),e.refs=null),e},proxy:function(e){var t=e instanceof UY?qY(e):e;return this.add(UJ({value:t}))},addStream:function(e){return this.streams.push(e),e.id=this.id(),e},addUpdate:function(e){return this.updates.push(e),e},finish:function(){var e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){var r;e&&((r=e.data||(e.data={}))[t]||(r[t]=[])).push(n)}for(e in this.data)for(var r in n((t=this.data[e]).input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values"),t.index)n(t.index[r],e,"index:"+r);return this},pushState:function(e,t,n){this._encode.push(qY(this.add(HJ({pulse:e})))),this._parent.push(t),this._lookup.push(n?qY(this.proxy(n)):null),this._markpath.push(-1)},popState:function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent:function(){return Object(Lt.S)(this._parent)},encode:function(){return Object(Lt.S)(this._encode)},lookup:function(){return Object(Lt.S)(this._lookup)},markpath:function(){var e=this._markpath;return++e[e.length-1]},fieldRef:function(e,t){if(Object(Lt.F)(e))return HY(e,t);e.signal||Object(Lt.k)("Unsupported field reference: "+Object(Lt.W)(e));var n=e.signal,r=this.field[n];if(!r){var a={name:this.signalRef(n)};t&&(a.as=t),this.field[n]=r=qY(this.add(DJ(a)))}return r},compareRef:function(e){var t=this,n=!1,r=function(e){return JY(e)?(n=!0,t.signalRef(e.signal)):function(e){return e&&e.expr}(e)?(n=!0,t.exprRef(e.expr)):e},a=Object(Lt.e)(e.field).map(r),i=Object(Lt.e)(e.order).map(r);return n?qY(this.add(jJ({fields:a,orders:i}))):KY(a,i)},keyRef:function(e,t){var n=!1,r=this.signals;return e=Object(Lt.e)(e).map((function(e){return JY(e)?(n=!0,qY(r[e.signal])):e})),n?qY(this.add(NJ({fields:e,flat:t}))):function(e,t){var n={$key:e};return t&&(n.$flat=!0),n}(e,t)},sortRef:function(e){if(!e)return e;var t=$Y(e.op,e.field),n=e.order||"ascending";return n.signal?qY(this.add(jJ({fields:t,orders:this.signalRef(n.signal)}))):KY(t,n)},event:function(e,t){var n=e+":"+t;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal:function(e){return Object(Lt.s)(this.signals,e)},addSignal:function(e,t){this.hasOwnSignal(e)&&Object(Lt.k)("Duplicate signal name: "+Object(Lt.W)(e));var n=t instanceof UY?t:this.add(VY(t));return this.signals[e]=n},getSignal:function(e){return this.signals[e]||Object(Lt.k)("Unrecognized signal name: "+Object(Lt.W)(e)),this.signals[e]},signalRef:function(e){return this.signals[e]?qY(this.signals[e]):(Object(Lt.s)(this.lambdas,e)||(this.lambdas[e]=this.add(VY(null))),qY(this.lambdas[e]))},parseLambdas:function(){for(var e=Object.keys(this.lambdas),t=0,n=e.length;t<n;++t){var r=e[t],a=uU(r,this),i=this.lambdas[r];i.params=a.$params,i.update=a.$expr}},property:function(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty:function(e){return e&&Object(Lt.D)(e)?this.signalRef(e.signal||d0(e)):e},exprRef:function(e,t){var n={expr:uU(e,this)};return t&&(n.expr.$name=t),qY(this.add(AJ(n)))},addBinding:function(e,t){this.bindings||Object(Lt.k)("Nested signals do not support binding: "+Object(Lt.W)(e)),this.bindings.push(Object(Lt.l)({signal:e},t))},addScaleProj:function(e,t){Object(Lt.s)(this.scales,e)&&Object(Lt.k)("Duplicate scale or projection name: "+Object(Lt.W)(e)),this.scales[e]=this.add(t)},addScale:function(e,t){this.addScaleProj(e,qJ(t))},addProjection:function(e,t){this.addScaleProj(e,LJ(t))},getScale:function(e){return this.scales[e]||Object(Lt.k)("Unrecognized scale name: "+Object(Lt.W)(e)),this.scales[e]},scaleRef:function(e){return qY(this.getScale(e))},scaleType:function(e){return this.getScale(e).params.type},projectionRef:function(e){return this.scaleRef(e)},projectionType:function(e){return this.scaleType(e)},addData:function(e,t){return Object(Lt.s)(this.data,e)&&Object(Lt.k)("Duplicate data set name: "+Object(Lt.W)(e)),this.data[e]=t},getData:function(e){return this.data[e]||Object(Lt.k)("Undefined data set name: "+Object(Lt.W)(e)),this.data[e]},addDataPipeline:function(e,t){return Object(Lt.s)(this.data,e)&&Object(Lt.k)("Duplicate data set name: "+Object(Lt.W)(e)),this.addData(e,wZ.fromEntries(this,t))}};var v0=function(e,t,n){return Object(Lt.D)(e)||Object(Lt.k)("Input Vega specification must be an object."),s0(e,new l0(t=Object(Lt.L)(function(){var e="sans-serif",t="#4c78a8",n="#000",r="#888",a="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:t},area:{fill:t},image:null,line:{stroke:t,strokeWidth:2},path:{stroke:t},rect:{fill:t},rule:{stroke:n},shape:{stroke:t},symbol:{fill:t,size:64},text:{fill:n,font:e,fontSize:11},trail:{fill:t,size:2},style:{"guide-label":{fill:n,font:e,fontSize:10},"guide-title":{fill:n,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:n,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:n,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:a}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:r,grid:!1,gridWidth:1,gridColor:a,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:r,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:a,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:r,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),t,e.config),n)).toRuntime()};ct(fr,i,u,s,c,l,f,d,h,p,v);var m0=n(580),g0=function(e,t,n){return e.fields=t||[],e.fname=n,e};var b0=function(e){return 1===e.length?y0(e[0]):x0(e)},y0=function(e){return function(t){return t[e]}},x0=function(e){var t=e.length;return function(n){for(var r=0;r<t;++r)n=n[e[r]];return n}},_0=function(e){throw Error(e)},w0=function(e){var t,n,r,a=[],i=null,o=0,u=e.length,s="";function c(){a.push(s+e.substring(t,n)),s="",t=n+1}for(e+="",t=n=0;n<u;++n)if("\\"===(r=e[n]))s+=e.substring(t,n),s+=e.substring(++n,++n),t=n;else if(r===i)c(),i=null,o=-1;else{if(i)continue;t===o&&'"'===r||t===o&&"'"===r?(t=n+1,i=r):"."!==r||o?"["===r?(n>t&&c(),o=t=n+1):"]"===r&&(o||_0("Access path missing open bracket: "+e),o>0&&c(),o=0,t=n+1):n>t?c():t=n+1}return o&&_0("Access path missing closing bracket: "+e),i&&_0("Access path missing closing quote: "+e),n>t&&(n++,c()),a},O0=function(e,t,n){var r=w0(e);return e=1===r.length?r[0]:e,g0((n&&n.get||b0)(r),[e],t||e)},k0=[],j0=(O0("id"),g0((function(e){return e}),k0,"identity"));g0((function(){return 0}),k0,"zero"),g0((function(){return 1}),k0,"one"),g0((function(){return!0}),k0,"true"),g0((function(){return!1}),k0,"false");function E0(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}var C0=Array.isArray,A0=function(e){return e===Object(e)},S0=function(e){return"__proto__"!==e};function D0(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)if("signals"===n)e.signals=F0(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;N0(e,n,t[n],r)}return e}),{})}function N0(e,t,n,r){var a,i;if(S0(t))if(A0(n)&&!C0(n))for(a in i=A0(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[a])?N0(i,a,n[a]):S0(a)&&(i[a]=n[a]);else e[t]=n}function F0(e,t){if(null==e)return t;var n={},r=[];function a(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(a),e.forEach(a),r}var T0=function(e){return null!=e?C0(e)?e:[e]:[]},M0=function(e){return"function"===typeof e},I0=Object.prototype.hasOwnProperty,R0=function(e,t){return I0.call(e,t)},P0=function(e){return"boolean"===typeof e},B0=function(e){return"number"===typeof e},z0=function(e){return"string"===typeof e};function L0(e){return C0(e)?"["+e.map(L0)+"]":A0(e)||z0(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var U0=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t};function W0(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;Object.create;Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,e.call(r,t-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var V0=n(581),q0=n.n(V0),H0=n(429),G0=n.n(H0),K0=n(199),$0=n.n(K0);function X0(e){return!!e.or}function Y0(e){return!!e.and}function J0(e){return!!e.not}function Q0(e,t){if(J0(e))Q0(e.not,t);else if(Y0(e)){var n,r=Object(pr.a)(e.and);try{for(r.s();!(n=r.n()).done;){Q0(n.value,t)}}catch(o){r.e(o)}finally{r.f()}}else if(X0(e)){var a,i=Object(pr.a)(e.or);try{for(i.s();!(a=i.n()).done;){Q0(a.value,t)}}catch(o){i.e(o)}finally{i.f()}}else t(e)}function Z0(e,t){return J0(e)?{not:Z0(e.not,t)}:Y0(e)?{and:e.and.map((function(e){return Z0(e,t)}))}:X0(e)?{or:e.or.map((function(e){return Z0(e,t)}))}:t(e)}var e1=G0.a,t1=q0.a;function n1(e,t){var n,r={},a=Object(pr.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;R0(e,i)&&(r[i]=e[i])}}catch(o){a.e(o)}finally{a.f()}return r}function r1(e,t){var n,r=Object.assign({},e),a=Object(pr.a)(t);try{for(a.s();!(n=a.n()).done;){delete r[n.value]}}catch(i){a.e(i)}finally{a.f()}return r}Set.prototype.toJSON=function(){return"Set(".concat(Object(Qi.a)(this).map((function(e){return $0()(e)})).join(","),")")};var a1=$0.a;function i1(e){if(B0(e))return e;var t=z0(e)?e:$0()(e);if(t.length<250)return t;for(var n=0,r=0;r<t.length;r++){n=(n<<5)-n+t.charCodeAt(r),n&=n}return n}function o1(e){return!1===e||null===e}function u1(e,t){return e.indexOf(t)>-1}function s1(e,t){var n,r=0,a=Object(pr.a)(e.entries());try{for(a.s();!(n=a.n()).done;){var i=Object(vr.a)(n.value,2),o=i[0];if(t(i[1],o,r++))return!0}}catch(u){a.e(u)}finally{a.f()}return!1}function c1(e,t){var n,r=0,a=Object(pr.a)(e.entries());try{for(a.s();!(n=a.n()).done;){var i=Object(vr.a)(n.value,2),o=i[0];if(!t(i[1],o,r++))return!1}}catch(u){a.e(u)}finally{a.f()}return!0}function l1(e,t){var n,r=Object(pr.a)(m1(t));try{for(r.s();!(n=r.n()).done;){var a=n.value;N0(e,a,t[a],!0)}}catch(i){r.e(i)}finally{r.f()}}function f1(e,t){var n,r,a=[],i={},o=Object(pr.a)(e);try{for(o.s();!(r=o.n()).done;){var u=r.value;(n=t(u))in i||(i[n]=1,a.push(u))}}catch(s){o.e(s)}finally{o.f()}return a}function d1(e,t){var n,r=Object(pr.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(t.has(a))return!0}}catch(i){r.e(i)}finally{r.f()}return!1}function h1(e){var t,n=new Set,r=Object(pr.a)(e);try{var a=function(){var e,r=t.value,a=w0(r).map((function(e,t){return 0===t?e:"[".concat(e,"]")})),i=a.map((function(e,t){return a.slice(0,t+1).join("")})),o=Object(pr.a)(i);try{for(o.s();!(e=o.n()).done;){var u=e.value;n.add(u)}}catch(s){o.e(s)}finally{o.f()}};for(r.s();!(t=r.n()).done;)a()}catch(i){r.e(i)}finally{r.f()}return n}function p1(e,t){return void 0===e||void 0===t||d1(h1(e),h1(t))}function v1(e){return 0===m1(e).length}var m1=Object.keys,g1=Object.values;function b1(e){var t=[];for(var n in e)R0(e,n)&&t.push({key:n,value:e[n]});return t}function y1(e){return!0===e||!1===e}function x1(e){var t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function _1(e,t){return J0(e)?"!("+_1(e.not,t)+")":Y0(e)?"("+e.and.map((function(e){return _1(e,t)})).join(") && (")+")":X0(e)?"("+e.or.map((function(e){return _1(e,t)})).join(") || (")+")":t(e)}function w1(e,t){if(0===t.length)return!0;var n=t.shift();return n in e&&w1(e[n],t)&&delete e[n],v1(e)}function O1(e){return e.charAt(0).toUpperCase()+e.substr(1)}function k1(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum",n=w0(e),r=[],a=1;a<=n.length;a++){var i="[".concat(n.slice(0,a).map(L0).join("]["),"]");r.push("".concat(t).concat(i))}return r.join(" && ")}function j1(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum";return"".concat(t,"[").concat(L0(w0(e).join(".")),"]")}function E1(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function C1(e){return"".concat(w0(e).map(E1).join("\\."))}function A1(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function S1(e){return"".concat(w0(e).join("."))}function D1(e){return e?w0(e).length:0}function N1(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,a=t;r<a.length;r++){var i=a[r];if(void 0!==i)return i}}var F1=42;function T1(e){var t=++F1;return e?String(e)+t:t}function M1(e){return function(e){return 0===e.indexOf("__")}(e)?e:"__".concat(e)}function I1(e){if(void 0!==e)return(e%360+360)%360}function R1(e){return!!B0(e)||!isNaN(e)&&!isNaN(parseFloat(e))}var P1={domainColor:{part:"domain",vgProp:"stroke"},labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDash"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDash"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"},titleColor:{part:"title",vgProp:"fill"},title:null};function B1(e){return e&&e.condition}var z1=["domain","grid","labels","ticks","title"],L1={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},U1={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},W1=Object.assign(Object.assign({},U1),{style:1,labelExpr:1,encoding:1});function V1(e){return!!W1[e]}m1(W1);var q1={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},H1=q1.arc,G1=q1.area,K1=q1.bar,$1=q1.image,X1=q1.line,Y1=q1.point,J1=q1.rect,Q1=q1.rule,Z1=q1.text,e2=q1.tick,t2=q1.trail,n2=q1.circle,r2=q1.square,a2=q1.geoshape;function i2(e){return u1(["line","area","trail"],e)}function o2(e){return u1(["rect","bar","image","arc"],e)}var u2=m1(q1);function s2(e){return e.type}U0(u2);var c2=[].concat(["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],["fill","fillOpacity"]),l2=m1({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),f2={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},d2={binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},h2={binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5};function p2(e){return"mark"in e}var v2=function(){function e(t,n){Object(Rb.a)(this,e),this.name=t,this.run=n}return Object(Pb.a)(e,[{key:"hasMatchingType",value:function(e){return!!p2(e)&&(s2(t=e.mark)?t.type:t)===this.name;var t}}]),e}(),m2={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},g2={count:1,min:1,max:1};function b2(e){return!!e&&!!e.argmin}function y2(e){return!!e&&!!e.argmax}m1(m2);function x2(e){return z0(e)&&!!m2[e]}var _2=["count","valid","missing","distinct"];function w2(e){return z0(e)&&u1(_2,e)}var O2=["count","sum","distinct","valid","missing"],k2=U0(["mean","average","median","q1","q3","min","max"]),j2="row",E2="column",C2="facet",A2="x",S2="y",D2="x2",N2="y2",F2="radius",T2="radius2",M2="theta",I2="theta2",R2="latitude",P2="longitude",B2="latitude2",z2="longitude2",L2="color",U2="fill",W2="stroke",V2="shape",q2="size",H2="angle",G2="opacity",K2="fillOpacity",$2="strokeOpacity",X2="strokeWidth",Y2="strokeDash",J2="text",Q2="order",Z2="detail",e3="key",t3="tooltip",n3="href",r3="url",a3="description",i3={theta:1,theta2:1,radius:1,radius2:1};function o3(e){return e in i3}var u3={longitude:1,longitude2:1,latitude:1,latitude2:1};var s3=m1(u3),c3=Object.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),i3),u3),{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function l3(e){return e===L2||e===U2||e===W2}var f3={row:1,column:1,facet:1},d3=m1(f3),h3=Object.assign(Object.assign({},c3),f3),p3=m1(h3),v3=(h3.order,h3.detail,h3.tooltip,W0(h3,["order","detail","tooltip"])),m3=(v3.row,v3.column,v3.facet,W0(v3,["row","column","facet"]));m1(v3),m1(m3);function g3(e){return!!h3[e]}var b3=[D2,N2,B2,z2,I2,T2];function y3(e){return x3(e)!==e}function x3(e){switch(e){case D2:return A2;case N2:return S2;case B2:return R2;case z2:return P2;case I2:return M2;case T2:return F2}return e}function _3(e){if(o3(e))switch(e){case M2:return"startAngle";case I2:return"endAngle";case F2:return"outerRadius";case T2:return"innerRadius"}return e}function w3(e){switch(e){case A2:return D2;case S2:return N2;case R2:return B2;case P2:return z2;case M2:return I2;case F2:return T2}}function O3(e){switch(e){case A2:case D2:return"width";case S2:case N2:return"height"}}m1(c3),c3.x,c3.y,c3.x2,c3.y2,c3.latitude,c3.longitude,c3.latitude2,c3.longitude2,c3.theta,c3.theta2,c3.radius,c3.radius2;var k3=W0(c3,["x","y","x2","y2","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),j3=m1(k3),E3={x:1,y:1},C3=m1(E3);function A3(e){return e in E3}var S3={theta:1,radius:1},D3=m1(S3);function N3(e){return"width"===e?A2:S2}k3.text,k3.tooltip,k3.href,k3.url,k3.description,k3.detail,k3.key,k3.order;var F3=W0(k3,["text","tooltip","href","url","description","detail","key","order"]),T3=m1(F3);var M3=Object.assign(Object.assign(Object.assign({},E3),S3),F3),I3=m1(M3);function R3(e){return!!M3[e]}function P3(e,t){return function(e){switch(e){case L2:case U2:case W2:case a3:case Z2:case e3:case t3:case n3:case Q2:case G2:case K2:case $2:case X2:case C2:case j2:case E2:return B3;case A2:case S2:case R2:case P2:return z3;case D2:case N2:case B2:case z2:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case q2:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Y2:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case V2:return{point:"always",geoshape:"always"};case J2:return{text:"always"};case H2:return{point:"always",square:"always",text:"always"};case r3:return{image:"always"};case M2:case F2:return{text:"always",arc:"always"};case I2:case T2:return{arc:"always"}}}(e)[t]}var B3={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},z3=W0(B3,["geoshape"]);function L3(e){switch(e){case A2:case S2:case M2:case F2:case q2:case H2:case X2:case G2:case K2:case $2:case D2:case N2:case I2:case T2:return;case C2:case j2:case E2:case V2:case Y2:case J2:case t3:case n3:case r3:case a3:return"discrete";case L2:case U2:case W2:return"flexible";case R2:case P2:case B2:case z2:case Z2:case e3:case Q2:return}}function U3(e){return P0(e)&&(e=r9(e,void 0)),"bin"+m1(e).map((function(t){return H3(e[t])?x1("_".concat(t,"_").concat(Object.entries(e[t]))):x1("_".concat(t,"_").concat(e[t]))})).join("")}function W3(e){return!0===e||q3(e)&&!e.binned}function V3(e){return"binned"===e||q3(e)&&!0===e.binned}function q3(e){return A0(e)}function H3(e){return null===e||void 0===e?void 0:e.selection}function G3(e){switch(e){case j2:case E2:case q2:case L2:case U2:case W2:case X2:case G2:case K2:case $2:case V2:return 6;case Y2:return 4;default:return 10}}var K3=n(362);function $3(e){return"Invalid specification ".concat(JSON.stringify(e),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}var X3='Autosize "fit" only works for single views and layered views.';function Y3(e){return"".concat("width"==e?"Width":"Height",' "container" only works for single views and layered views.')}function J3(e){var t="width"==e?"x":"y";return"".concat("width"==e?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(t,'".')}function Q3(e){return e?'Dropping "fit-'.concat(e,'" because spec has discrete ').concat(O3(e),"."):'Dropping "fit" because spec has discrete size.'}function Z3(e){return'Cannot project a selection on encoding channel "'.concat(e,'", which has no field.')}function e4(e,t){return'Cannot project a selection on encoding channel "'.concat(e,'" as it uses an aggregate function ("').concat(t,'").')}function t4(e){return'The "nearest" transform is not supported for '.concat(e," marks.")}function n4(e){return"Selection not supported for ".concat(e," yet.")}function r4(e){return'Cannot find a selection named "'.concat(e,'".')}var a4="Scale bindings are currently only supported for scales with unbinned, continuous domains.",i4="Legend bindings are only supported for selections over an individual field or encoding channel.";function o4(e){return'Cannot define and lookup the "'.concat(e,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?"}function u4(e){return'Unknown repeated value "'.concat(e,'".')}function s4(e){return'The "columns" property cannot be used when "'.concat(e,'" has nested row/column.')}var c4="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function l4(e){return'Unrecognized parse "'.concat(e,'".')}function f4(e,t,n){return'An ancestor parsed field "'.concat(e,'" as ').concat(n," but a child wants to parse the field as ").concat(t,".")}function d4(e){return"Ignoring an invalid transform: ".concat(a1(e),".")}var h4='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function p4(e){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(e," are dropped.")}function v4(e){return"Layer's shared ".concat(e.join(",")," channel ").concat(1===e.length?"is":"are"," overriden.")}function m4(e){var t=e.parentProjection,n=e.projection;return"Layer's shared projection ".concat(a1(t)," is overridden by a child projection ").concat(a1(n),".")}var g4="Arc marks uses theta channel rather than angle, replacing angle with theta.";function b4(e,t,n){return"Channel ".concat(e," is a ").concat(t,". Converted to {value: ").concat(a1(n),"}.")}function y4(e){return'Invalid field type "'.concat(e,'".')}function x4(e,t){return'Invalid field type "'.concat(e,'" for aggregate: "').concat(t,'", using "quantitative" instead.')}function _4(e){return'Invalid aggregation operator "'.concat(e,'".')}function w4(e,t){return'Missing type for channel "'.concat(e,'", using "').concat(t,'" instead.')}function O4(e,t){var n=t.fill,r=t.stroke;return"Dropping color ".concat(e," as the plot also has ").concat(n&&r?"fill and stroke":n?"fill":"stroke",".")}function k4(e,t){return"Dropping ".concat(a1(e),' from channel "').concat(t,'" since it does not contain any data field, datum, value, or signal.')}function j4(e,t,n){return"".concat(e,"-encoding with type ").concat(t," is deprecated. Replacing with ").concat(n,"-encoding.")}var E4="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function C4(e,t,n){return"".concat(e,' dropped as it is incompatible with "').concat(t,'"').concat(n?" when ".concat(n):"",".")}function A4(e){return"".concat(e,"-encoding is dropped as ").concat(e," is not a valid encoding channel.")}function S4(e){return"".concat(e," encoding should be discrete (ordinal / nominal / binned).")}function D4(e){return"Facet encoding dropped as ".concat(e.join(" and ")," ").concat(e.length>1?"are":"is"," also specified.")}function N4(e,t){return'Using discrete channel "'.concat(e,'" to encode "').concat(t,'" field can be misleading as it does not encode ').concat("ordinal"===t?"order":"magnitude",".")}function F4(e,t){return"Line mark is for continuous lines and thus cannot be used with ".concat(e&&t?"x2 and y2":e?"x2":"y2",". We will use the rule mark (line segments) instead.")}function T4(e,t){return'Specified orient "'.concat(e,'" overridden with "').concat(t,'".')}var M4="Custom domain scale cannot be unioned with default field-based domain.",I4='Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.';function R4(e){return'Cannot use the scale property "'.concat(e,'" with non-color channel.')}function P4(e){return"Using unaggregated domain with raw field has no effect (".concat(a1(e),").")}function B4(e){return'Unaggregated domain not applicable for "'.concat(e,'" since it produces values outside the origin domain of the source data.')}function z4(e){return"Unaggregated domain is currently unsupported for log scale (".concat(a1(e),").")}function L4(e){return'Cannot apply size to non-oriented mark "'.concat(e,'".')}function U4(e,t,n){return'Channel "'.concat(e,'" does not work with "').concat(t,'" scale. We are using "').concat(n,'" scale instead.')}function W4(e,t){return'FieldDef does not work with "'.concat(e,'" scale. We are using "').concat(t,'" scale instead.')}function V4(e,t,n){return"".concat(n,"-scale's \"").concat(t,'" is dropped as it does not work with ').concat(e," scale.")}function q4(e,t){return'Scale type "'.concat(t,'" does not work with mark "').concat(e,'".')}function H4(e){return'The step for "'.concat(e,'" is dropped because the ').concat("width"===e?"x":"y"," is continuous.")}function G4(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(a1(n)," and ").concat(a1(r),"). Using ").concat(a1(n),".")}function K4(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(a1(n)," and ").concat(a1(r),"). Using the union of the two domains.")}function $4(e){return'Setting the scale to be independent for "'.concat(e,'" means we also have to set the guide (axis or legend) to be independent.')}function X4(e){return"Dropping sort property ".concat(a1(e),' as unioned domains only support boolean or op "count", "min", and "max".')}var Y4="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",J4="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",Q4="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",Z4="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.",e5="Invalid channel for axis.";function t5(e){return'Cannot stack "'.concat(e,'" if there is already "').concat(e,'2".')}function n5(e){return"Cannot stack non-linear scale (".concat(e,").")}function r5(e){return'Stacking is applied even though the aggregate function is non-summative ("'.concat(e,'").')}function a5(e,t){return"Invalid ".concat(e,": ").concat(a1(t),".")}function i5(e){return"Dropping day from datetime ".concat(a1(e)," as day cannot be combined with other units.")}function o5(e,t){return"".concat(t?"extent ":"").concat(t&&e?"and ":"").concat(e?"center ":"").concat(t&&e?"are ":"is ","not needed when data are aggregated.")}function u5(e,t,n){return"".concat(e," is not usually used with ").concat(t," for ").concat(n,".")}function s5(e,t){return"Continuous axis should not have customized aggregation function ".concat(e,"; ").concat(t," already agregates the axis.")}function c5(e,t){return"Center is not needed to be specified in ".concat(t," when extent is ").concat(e,".")}function l5(e){return"1D error band does not support ".concat(e,".")}function f5(e){return"Channel ".concat(e,' is required for "binned" bin.')}function d5(e){return"Domain for ".concat(e," is required for threshold scale.")}var h5=function(e,t){var n=e||0;return{level:function(e){return arguments.length?(n=+e,this):n},error:function(){return n>=1&&E0(t||"error","ERROR",arguments),this},warn:function(){return n>=2&&E0(t||"warn","WARN",arguments),this},info:function(){return n>=3&&E0(t||"log","INFO",arguments),this},debug:function(){return n>=4&&E0(t||"log","DEBUG",arguments),this}}}(2),p5=h5;function v5(e){return p5=e}function m5(){return p5=h5}function g5(){var e;(e=p5).warn.apply(e,arguments)}function b5(e){if(e&&A0(e)){var t,n=Object(pr.a)(A5);try{for(n.s();!(t=n.n()).done;){if(t.value in e)return!0}}catch(r){n.e(r)}finally{n.f()}}return!1}var y5=["january","february","march","april","may","june","july","august","september","october","november","december"],x5=y5.map((function(e){return e.substr(0,3)})),_5=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],w5=_5.map((function(e){return e.substr(0,3)}));function O5(e,t){var n=[];if(t&&void 0!==e.day&&m1(e).length>1&&(g5(x.droppedDay(e)),delete(e=t1(e)).day),void 0!==e.year?n.push(e.year):n.push(2012),void 0!==e.month){var r=t?function(e){if(R1(e)&&(e=+e),B0(e))return e-1;var t=e.toLowerCase(),n=y5.indexOf(t);if(-1!==n)return n;var r=t.substr(0,3),a=x5.indexOf(r);if(-1!==a)return a;throw new Error(x.invalidTimeUnit("month",e))}(e.month):e.month;n.push(r)}else if(void 0!==e.quarter){var a=t?function(e){if(R1(e)&&(e=+e),B0(e))return e>4&&g5(x.invalidTimeUnit("quarter",e)),e-1;throw new Error(x.invalidTimeUnit("quarter",e))}(e.quarter):e.quarter;n.push(B0(a)?3*a:a+"*3")}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){var i=t?function(e){if(R1(e)&&(e=+e),B0(e))return e%7;var t=e.toLowerCase(),n=_5.indexOf(t);if(-1!==n)return n;var r=t.substr(0,3),a=w5.indexOf(r);if(-1!==a)return a;throw new Error(x.invalidTimeUnit("day",e))}(e.day):e.day;n.push(B0(i)?i+1:i+"+1")}else n.push(1);for(var o=0,u=["hours","minutes","seconds","milliseconds"];o<u.length;o++){var s=e[u[o]];n.push("undefined"===typeof s?0:s)}return n}function k5(e){var t=O5(e,!0).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}function j5(e){var t=O5(e,!1).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}function E5(e){var t=O5(e,!0);return e.utc?+new Date(Date.UTC.apply(Date,Object(Qi.a)(t))):+Object(K3.a)(Date,Object(Qi.a)(t))}var C5={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},A5=m1(C5);function S5(e){return e.startsWith("utc")}var D5={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function N5(e){var t,n=[],r=Object(pr.a)(A5);try{for(r.s();!(t=r.n()).done;){var a=t.value;F5(e,a)&&n.push(a)}}catch(i){r.e(i)}finally{r.f()}return n}function F5(e,t){var n=e.indexOf(t);return!(n<0)&&(!(n>0&&"seconds"===t&&"i"===e.charAt(n-1))&&(!(e.length>n+3&&"day"===t&&"o"===e.charAt(n+3))&&!(n>0&&"year"===t&&"f"===e.charAt(n-1))))}function T5(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{end:!1},a=r.end,i=k1(t),o=S5(e)?"utc":"";function u(e){return"quarter"===e?"(".concat(o,"quarter(").concat(i,")-1)"):"".concat(o).concat(e,"(").concat(i,")")}var s,c={},l=Object(pr.a)(A5);try{for(l.s();!(s=l.n()).done;){var f=s.value;F5(e,f)&&(c[f]=u(f),n=f)}}catch(d){l.e(d)}finally{l.f()}return a&&(c[n]+="+1"),j5(c)}function M5(e){if(e){var t=N5(e);return"timeUnitSpecifier(".concat($0()(t),", ").concat($0()(D5),")")}}function I5(e){var t;if(e)return z0(e)?t={unit:e}:A0(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),S5(t.unit)&&(t.utc=!0,t.unit=t.unit.substr(3)),t}function R5(e){var t=I5(e),n=t.utc,r=W0(t,["utc"]);return r.unit?(n?"utc":"")+m1(r).map((function(e){return x1("".concat("unit"===e?"":"_".concat(e,"_")).concat(r[e]))})).join(""):(n?"utc":"")+"timeunit"+m1(r).map((function(e){return x1("_".concat(e,"_").concat(r[e]))})).join("")}function P5(e){return e&&!!e.signal}function B5(e){return!!e.step}function z5(e){return!C0(e)&&("field"in e&&"data"in e)}var L5=m1({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1}),U5={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},W5=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function V5(e){return e&&!!e.field&&void 0!==e.equal}function q5(e){return e&&!!e.field&&void 0!==e.lt}function H5(e){return e&&!!e.field&&void 0!==e.lte}function G5(e){return e&&!!e.field&&void 0!==e.gt}function K5(e){return e&&!!e.field&&void 0!==e.gte}function $5(e){if(e&&e.field){if(C0(e.range)&&2===e.range.length)return!0;if(P5(e.range))return!0}return!1}function X5(e){return e&&!!e.field&&(C0(e.oneOf)||C0(e.in))}function Y5(e){return e&&!!e.field&&void 0!==e.valid}function J5(e){return X5(e)||V5(e)||$5(e)||q5(e)||G5(e)||H5(e)||K5(e)}function Q5(e,t){return o9(e,{timeUnit:t,wrapTime:!0})}function Z5(e,t){return e.map((function(e){return Q5(e,t)}))}function e6(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.field,a=null===(t=I5(e.timeUnit))||void 0===t?void 0:t.unit,i=a?"time("+T5(a,r)+")":L8(e,{expr:"datum"});if(V5(e))return i+"==="+Q5(e.equal,a);if(q5(e)){var o=e.lt;return"".concat(i,"<").concat(Q5(o,a))}if(G5(e)){var u=e.gt;return"".concat(i,">").concat(Q5(u,a))}if(H5(e)){var s=e.lte;return"".concat(i,"<=").concat(Q5(s,a))}if(K5(e)){var c=e.gte;return"".concat(i,">=").concat(Q5(c,a))}if(X5(e))return"indexof([".concat(Z5(e.oneOf,a).join(","),"], ").concat(i,") !== -1");if(Y5(e))return t6(i,e.valid);if($5(e)){var l=e.range,f=P5(l)?{signal:"".concat(l.signal,"[0]")}:l[0],d=P5(l)?{signal:"".concat(l.signal,"[1]")}:l[1];if(null!==f&&null!==d&&n)return"inrange("+i+", ["+Q5(f,a)+", "+Q5(d,a)+"])";var h=[];return null!==f&&h.push("".concat(i," >= ").concat(Q5(f,a))),null!==d&&h.push("".concat(i," <= ").concat(Q5(d,a))),h.length>0?h.join(" && "):"true"}throw new Error("Invalid field predicate: ".concat(JSON.stringify(e)))}function t6(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?"isValid(".concat(e,") && isFinite(+").concat(e,")"):"!isValid(".concat(e,") || !isFinite(+").concat(e,")")}function n6(e){var t;return J5(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:null===(t=I5(e.timeUnit))||void 0===t?void 0:t.unit}):e}var r6={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};var a6=r6.quantitative,i6=r6.ordinal,o6=r6.temporal,u6=r6.nominal,s6=r6.geojson,c6=m1(r6);var l6="linear",f6="log",d6="pow",h6="sqrt",p6="symlog",v6="time",m6="utc",g6="quantile",b6="quantize",y6="threshold",x6="point",_6="band",w6={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},O6=m1(w6);function k6(e,t){var n=w6[e],r=w6[t];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}var j6={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function E6(e){return j6[e]}var C6=["linear","log","pow","sqrt","symlog","time","utc"],A6=U0(C6),S6=U0(["linear","log","pow","sqrt","symlog"]);var D6=U0(["quantile","quantize","threshold"]),N6=U0(C6.concat(["quantile","quantize","threshold","sequential","identity"])),F6=U0(["ordinal","bin-ordinal","point","band"]);function T6(e){return e in F6}function M6(e){return e in N6}function I6(e){return e in A6}function R6(e){return e in D6}function P6(e){return null===e||void 0===e?void 0:e.selection}var B6={type:1,domain:1,domainMid:1,align:1,range:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},z6=(m1(B6),W0(B6,["type","domain","range","scheme"])),L6=m1(z6);!function(){var e,t,n={},r=Object(pr.a)(p3);try{for(r.s();!(t=r.n()).done;){var a,i=t.value,o=Object(pr.a)(c6);try{for(o.s();!(a=o.n()).done;){var u,s=a.value,c=Object(pr.a)(O6);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=H6(i,s);q6(i,l)&&V6(l,s)&&(n[f]=null!==(e=n[f])&&void 0!==e?e:[],n[f].push(l))}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}}}catch(d){r.e(d)}finally{r.f()}}();function U6(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!u1(["point","band","identity"],e);case"bins":return!u1(["point","band","identity","ordinal"],e);case"round":return I6(e)||"band"===e||"point"===e;case"padding":return I6(e)||u1(["point","band"],e);case"paddingOuter":case"align":return u1(["point","band"],e);case"paddingInner":return"band"===e;case"domainMid":case"clamp":return I6(e);case"nice":return I6(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return M6(e)&&!u1(["log","time","utc","threshold","quantile"],e)}}function W6(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return l3(e)?void 0:x.cannotUseScalePropertyWithNonColor(e);case"align":case"type":case"bins":case"domain":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"reverse":case"round":case"clamp":case"zero":return}}function V6(e,t){return u1([i6,u6],t)?void 0===e||T6(e):t===o6?u1([v6,m6,void 0],e):t!==a6||u1([f6,d6,h6,p6,g6,b6,y6,l6,void 0],e)}function q6(e,t){if(!R3(e))return!1;switch(e){case A2:case S2:case M2:case F2:return I6(t)||u1(["band","point"],t);case q2:case X2:case G2:case K2:case $2:case H2:return I6(t)||R6(t)||u1(["band","point","ordinal"],t);case L2:case U2:case W2:return"band"!==t;case Y2:return"ordinal"===t||R6(t);case V2:return"ordinal"===t}}function H6(e,t){return e+"_"+t}function G6(e){var t=e.channel,n=e.channelDef,r=e.markDef,a=e.scale,i=e.config,o=Q6(e);return C8(n)&&!w2(n.aggregate)&&a&&I6(a.get("type"))&&!1===a.get("zero")?K6({fieldDef:n,channel:t,markDef:r,ref:o,config:i}):o}function K6(e){var t=e.fieldDef,n=e.channel,r=e.markDef,a=e.ref,i=e.config;return i2(r.type)||null===v9("invalid",r,i)?a:[$6(t,n),a]}function $6(e,t){var n=X6(e,!0),r="y"===x3(t)?{field:{group:"height"}}:{value:0};return Object.assign({test:n},r)}function X6(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t6(z0(e)?e:L8(e,{expr:"datum"}),!t)}function Y6(e,t,n,r){var a={};if(t&&(a.scale=t),S8(e)){var i=e.datum;b5(i)?a.signal=k5(i):P5(i)?a.signal=i.signal:a.value=i}else a.field=L8(e,n);if(r){var o=r.offset,u=r.band;o&&(a.offset=o),u&&(a.band=u)}return a}function J6(e){var t=e.scaleName,n=e.fieldOrDatumDef,r=e.fieldOrDatumDef2,a=e.offset,i=e.startSuffix,o=e.band,u=void 0===o?.5:o,s=0<u&&u<1?"datum":void 0,c=L8(n,{expr:s,suffix:i}),l=void 0!==r?L8(r,{expr:s}):L8(n,{suffix:"end",expr:s}),f={};if(0===u||1===u){f.scale=t;var d=0===u?c:l;f.field=d}else{var h="".concat(u," * ").concat(c," + ").concat(1-u," * ").concat(l);f.signal='scale("'.concat(t,'", ').concat(h,")")}return a&&(f.offset=a),f}function Q6(e){var t,n=e.channel,r=e.channelDef,a=e.channel2Def,i=e.markDef,o=e.config,u=e.scaleName,s=e.scale,c=e.stack,l=e.offset,f=e.defaultRef,d=e.band;if(r){if(F8(r)){if(T8(r)){d=null!==d&&void 0!==d?d:w8({channel:n,fieldDef:r,fieldDef2:a,markDef:i,stack:c,config:o,isMidPoint:!0});var h=r.bin,p=r.timeUnit,v=r.type;if(W3(h)||d&&p&&v===o6)return c&&c.impute?Y6(r,u,{binSuffix:"mid"},{offset:l}):d?J6({scaleName:u,fieldOrDatumDef:r,band:d,offset:l}):Y6(r,u,s9(r,n)?{binSuffix:"range"}:{},{offset:l});if(V3(h)){if(C8(a))return J6({scaleName:u,fieldOrDatumDef:r,fieldOrDatumDef2:a,band:d,offset:l});var m=n===A2?D2:N2;g5(x.channelRequiredForBinned(m))}}var g=null===s||void 0===s?void 0:s.get("type");return Y6(r,u,T6(g)?{binSuffix:"range"}:{},{offset:l,band:"band"===g?null!==(t=null!==d&&void 0!==d?d:r.band)&&void 0!==t?t:.5:void 0})}if(M8(r)){var b=r.value,y=l?{offset:l}:{};return Object.assign(Object.assign({},Z6(n,b)),y)}}return M0(f)&&(f=f()),f?Object.assign(Object.assign({},f),l?{offset:l}:{}):f}function Z6(e,t){return u1(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:u1(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:f9(t)}function e8(e){return e&&"number"!==e&&"time"!==e}function t8(e,t,n){return"".concat(e,"(").concat(t).concat(n?", ".concat(JSON.stringify(n)):"",")")}function n8(e){var t,n,r=e.fieldOrDatumDef,a=e.format,i=e.formatType,o=e.expr,u=e.normalizeStack,s=e.config;if(e8(i))return a8({fieldOrDatumDef:r,format:a,formatType:i,expr:o,config:s});var c=r8(r,o,u);if(i9(r)){var l=function(e,t,n,r,a){return!t||n?(n=z0(n)?n:r,"".concat(a?"utc":"time","Format(").concat(e,", '").concat(n,"')")):function(e,t,n){if(e){var r=M5(e),a=n||S5(e);return"".concat(a?"utc":"time","Format(").concat(t,", ").concat(r,")")}}(t,e,a)}(c,C8(r)?null===(t=I5(r.timeUnit))||void 0===t?void 0:t.unit:void 0,a,s.timeFormat,I8(r)&&(null===(n=r.scale)||void 0===n?void 0:n.type)===m6);return l?{signal:l}:void 0}return a=u8(A8(r),a,s),C8(r)&&W3(r.bin)?{signal:l8(c,L8(r,{expr:o,binSuffix:"end"}),a,i,s)}:a||"quantitative"===A8(r)?{signal:"".concat(s8(c,a))}:{signal:"isValid(".concat(c,") ? ").concat(c,' : ""+').concat(c)}}function r8(e,t,n){return C8(e)?n?"".concat(L8(e,{expr:t,suffix:"end"}),"-").concat(L8(e,{expr:t,suffix:"start"})):L8(e,{expr:t}):function(e){var t=e.datum;return b5(t)?k5(t):"".concat(JSON.stringify(t))}(e)}function a8(e){var t=e.fieldOrDatumDef,n=e.format,r=e.formatType,a=e.expr,i=e.normalizeStack,o=e.config,u=e.field;return u=null!==u&&void 0!==u?u:r8(t,a,i),C8(t)&&W3(t.bin)?{signal:l8(u,L8(t,{expr:a,binSuffix:"end"}),n,r,o)}:{signal:t8(r,u,n)}}function i8(e,t,n,r,a,i){var o;if(!e8(r))return i9(e)?function(e,t,n,r){if(e)return e;if(t)return{signal:M5(t)};return r?void 0:n.timeFormat}(n,C8(e)?null===(o=I5(e.timeUnit))||void 0===o?void 0:o.unit:void 0,a,i):u8(t,n,a)}function o8(e,t,n){return e&&(P5(e)||"number"===e||"time"===e)?e:i9(t)&&"time"!==n&&"utc"!==n?"time":void 0}function u8(e,t,n){return z0(t)?t:e===a6?n.numberFormat:void 0}function s8(e,t){return"format(".concat(e,', "').concat(t||"",'")')}function c8(e,t,n,r){var a;return e8(n)?t8(n,e,t):s8(e,null!==(a=z0(t)?t:void 0)&&void 0!==a?a:r.numberFormat)}function l8(e,t,n,r,a){var i=c8(e,n,r,a),o=c8(t,n,r,a);return"".concat(t6(e,!1),' ? "null" : ').concat(i,' + "').concat(" \u2013 ",'" + ').concat(o)}var f8="min",d8={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function h8(e){return e in d8}function p8(e){return!!e&&!!e.encoding}function v8(e){return!!e&&("count"===e.op||!!e.field)}function m8(e){return!!e&&C0(e)}function g8(e){return"row"in e||"column"in e}function b8(e){return!!e&&"header"in e}function y8(e){return"facet"in e}function x8(e){var t=e.field,n=e.timeUnit,r=e.bin,a=e.aggregate;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),a?{aggregate:a}:{}),{field:t})}function _8(e){return T8(e)&&"sort"in e}function w8(e){var t=e.channel,n=e.fieldDef,r=e.fieldDef2,a=e.markDef,i=e.stack,o=e.config,u=e.isMidPoint;if(F8(n)&&void 0!==n.band)return n.band;if(C8(n)){var s=n.timeUnit,c=n.bin;if(s&&!r)return u?m9("timeUnitBandPosition",a,o):o2(a.type)?m9("timeUnitBand",a,o):0;if(W3(c))return o2(a.type)&&!u?1:.5}return(null===i||void 0===i?void 0:i.fieldChannel)===t&&u?.5:void 0}function O8(e,t,n,r,a,i){return!!(W3(t.bin)||t.timeUnit&&T8(t)&&"temporal"===t.type)&&!!w8({channel:e,fieldDef:t,fieldDef2:n,stack:r,markDef:a,config:i})}function k8(e){return!!e&&"condition"in e}function j8(e){var t=e&&e.condition;return!!t&&!C0(t)&&C8(t)}function E8(e){var t=e&&e.condition;return!!t&&!C0(t)&&F8(t)}function C8(e){return!!e&&(!!e.field||"count"===e.aggregate)}function A8(e){return e&&e.type}function S8(e){return!!e&&"datum"in e}function D8(e){return T8(e)&&W8(e)||N8(e)}function N8(e){return S8(e)&&B0(e.datum)}function F8(e){return C8(e)||S8(e)}function T8(e){return!!e&&("field"in e&&"type"in e||"count"===e.aggregate)}function M8(e){return e&&"value"in e&&"value"in e}function I8(e){return!!e&&("scale"in e||"sort"in e)}function R8(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function P8(e){return!!e&&"legend"in e}function B8(e){return!!e&&("format"in e||"formatType"in e)}function z8(e){return"op"in e}function L8(e){var t,n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.field,o=a.prefix,u=a.suffix,s="";if(V8(e))i=M1("count");else{var c;if(!a.nofn)if(z8(e))c=e.op;else{var l=e.bin,f=e.aggregate,d=e.timeUnit;W3(l)?(c=U3(l),u=(null!==(t=a.binSuffix)&&void 0!==t?t:"")+(null!==(n=a.suffix)&&void 0!==n?n:"")):f?y2(f)?(s='["'.concat(i,'"]'),i="argmax_".concat(f.argmax)):b2(f)?(s='["'.concat(i,'"]'),i="argmin_".concat(f.argmin)):c=String(f):d&&(c=R5(d),u=(!u1(["range","mid"],a.binSuffix)&&a.binSuffix||"")+(null!==(r=a.suffix)&&void 0!==r?r:""))}c&&(i=i?"".concat(c,"_").concat(i):c)}return u&&(i="".concat(i,"_").concat(u)),o&&(i="".concat(o,"_").concat(i)),a.forAs?S1(i):a.expr?j1(i,a.expr)+s:C1(i)+s}function U8(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return C8(e)&&!!e.bin;case"temporal":return!1}throw new Error(x.invalidFieldType(e.type))}function W8(e){return!U8(e)}function V8(e){return"count"===e.aggregate}var q8=function(e,t){switch(t.fieldTitle){case"plain":return e.field;case"functional":return function(e){var t=e.aggregate,n=e.bin,r=e.timeUnit,a=e.field;if(y2(t))return"".concat(a," for argmax(").concat(t.argmax,")");if(b2(t))return"".concat(a," for argmin(").concat(t.argmin,")");var i=I5(r),o=t||(null===i||void 0===i?void 0:i.unit)||(null===i||void 0===i?void 0:i.maxbins)&&"timeunit"||W3(n)&&"bin";return o?o.toUpperCase()+"("+a+")":a}(e);default:return function(e,t){var n,r=e.field,a=e.bin,i=e.timeUnit,o=e.aggregate;if("count"===o)return t.countTitle;if(W3(a))return"".concat(r," (binned)");if(i){var u=null===(n=I5(i))||void 0===n?void 0:n.unit;if(u)return"".concat(r," (").concat(N5(u).join("-"),")")}else if(o)return y2(o)?"".concat(r," for max ").concat(o.argmax):b2(o)?"".concat(r," for min ").concat(o.argmin):"".concat(O1(o)," of ").concat(r);return r}(e,t)}},H8=q8;function G8(e){H8=e}function K8(){G8(q8)}function $8(e,t,n){var r,a,i=n.allowDisabling,o=n.includeDefault,u=void 0===o||o,s=(null!==(r=X8(e))&&void 0!==r?r:{}).title;if(!C8(e))return s;var c=e,l=u?Y8(c,t):void 0;return i?N1(s,c.title,l):null!==(a=null!==s&&void 0!==s?s:c.title)&&void 0!==a?a:l}function X8(e){return R8(e)&&e.axis?e.axis:P8(e)&&e.legend?e.legend:b8(e)&&e.header?e.header:void 0}function Y8(e,t){return H8(e,t)}function J8(e){var t;if(B8(e))return{format:e.format,formatType:e.formatType};var n=null!==(t=X8(e))&&void 0!==t?t:{};return{format:n.format,formatType:n.formatType}}function Q8(e){return C8(e)?e:j8(e)?e.condition:void 0}function Z8(e){return F8(e)?e:E8(e)?e.condition:void 0}function e9(e,t,n){if(z0(e)||B0(e)||P0(e)){var r=z0(e)?"string":B0(e)?"number":"boolean";return g5(x.primitiveChannelDef(t,r,e)),{value:e}}return F8(e)?t9(e,t,n):E8(e)?Object.assign(Object.assign({},e),{condition:t9(e.condition,t,n)}):e}function t9(e,t,n){if(B8(e)){e.format;var r=e.formatType,a=W0(e,["format","formatType"]);if(e8(r)&&!n.customFormatTypes)return g5(x.customFormatTypeNotAllowed(t)),t9(a,t,n)}else{var i=R8(e)?"axis":P8(e)?"legend":b8(e)?"header":null;if(i&&e[i]){var o=e[i],u=(o.format,o.formatType),s=W0(o,["format","formatType"]);if(e8(u)&&!n.customFormatTypes)return g5(x.customFormatTypeNotAllowed(t)),t9(Object.assign(Object.assign({},e),Object(Zi.a)({},i,s)),t,n)}}return C8(e)?n9(e,t):function(e){var t=e.type;if(t)return e;var n=e.datum;return t=B0(n)?"quantitative":z0(n)?"nominal":b5(n)?"temporal":void 0,Object.assign(Object.assign({},e),{type:t})}(e)}function n9(e,t){var n=e.aggregate,r=e.timeUnit,a=e.bin,i=e.field,o=Object.assign({},e);if(!n||x2(n)||y2(n)||b2(n)||(g5(x.invalidAggregate(n)),delete o.aggregate),r&&(o.timeUnit=I5(r)),i&&(o.field="".concat(i)),W3(a)&&(o.bin=r9(a,t)),V3(a)&&!A3(t)&&g5("Channel ".concat(t,' should not be used with "binned" bin.')),T8(o)){var u=o.type,s=function(e){if(e)switch(e=e.toLowerCase()){case"q":case a6:return"quantitative";case"t":case o6:return"temporal";case"o":case i6:return"ordinal";case"n":case u6:return"nominal";case s6:return"geojson"}}(u);u!==s&&(o.type=s),"quantitative"!==u&&w2(n)&&(g5(x.invalidFieldTypeForCountAggregate(u,n)),o.type="quantitative")}else if(!y3(t)){var c=function(e,t){if(e.timeUnit)return"temporal";if(W3(e.bin))return"quantitative";switch(L3(t)){case"continuous":return"quantitative";case"discrete":case"flexible":return"nominal";default:return"quantitative"}}(o,t);g5(x.missingFieldType(t,c)),o.type=c}if(T8(o)){var l=function(e,t){var n=e.type;if("geojson"===n&&"shape"!==t)return{compatible:!1,warning:"Channel ".concat(t," should not be used with a geojson data.")};switch(t){case j2:case E2:case C2:return W8(e)?{compatible:!1,warning:x.facetChannelShouldBeDiscrete(t)}:a9;case A2:case S2:case L2:case U2:case W2:case J2:case Z2:case e3:case t3:case n3:case r3:case H2:case M2:case F2:case a3:return a9;case P2:case z2:case R2:case B2:return n!==a6?{compatible:!1,warning:"Channel ".concat(t," should be used with a quantitative field only, not ").concat(e.type," field.")}:a9;case G2:case K2:case $2:case X2:case q2:case I2:case T2:case D2:case N2:return"nominal"!==n||e.sort?a9:{compatible:!1,warning:"Channel ".concat(t," should not be used with an unsorted discrete field.")};case Y2:return u1(["ordinal","nominal"],e.type)?a9:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case V2:return u1(["ordinal","nominal","geojson"],e.type)?a9:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case Q2:return"nominal"!==e.type||"sort"in e?a9:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}(o,t),f=l.compatible,d=l.warning;f||g5(d)}if(_8(o)&&z0(o.sort)){var h=o.sort;if(h8(h))return Object.assign(Object.assign({},o),{sort:{encoding:h}});var p=h.substr(1);if("-"===h.charAt(0)&&h8(p))return Object.assign(Object.assign({},o),{sort:{encoding:p,order:"descending"}})}if(b8(o)){var v=o.header,m=v.orient,g=W0(v,["orient"]);if(m)return Object.assign(Object.assign({},o),{header:Object.assign(Object.assign({},g),{labelOrient:v.labelOrient||m,titleOrient:v.titleOrient||m})})}return o}function r9(e,t){return P0(e)?{maxbins:G3(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:Object.assign(Object.assign({},e),{maxbins:G3(t)})}var a9={compatible:!0};function i9(e){var t,n=J8(e).formatType;return"time"===n||!n&&((t=e)&&("temporal"===t.type||C8(t)&&!!t.timeUnit))}function o9(e,t){var n,r,a=t.timeUnit,i=t.type,o=t.wrapTime,u=t.undefinedIfExprNotRequired,s=a&&(null===(n=I5(a))||void 0===n?void 0:n.unit),c=s||"temporal"===i;return P5(e)?r=e.signal:b5(e)?(c=!0,r=k5(e)):(z0(e)||B0(e))&&c&&(r="datetime(".concat(JSON.stringify(e),")"),function(e){return!!C5[e]}(s)&&(B0(e)&&e<1e4||z0(e)&&isNaN(Date.parse(e)))&&(r=k5(Object(Zi.a)({},s,e)))),r?o&&c?"time(".concat(r,")"):r:u?void 0:JSON.stringify(e)}function u9(e,t){var n=e.type;return t.map((function(t){var r=o9(t,{timeUnit:C8(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==r?{signal:r}:t}))}function s9(e,t){return W3(e.bin)?R3(t)&&u1(["ordinal","nominal"],e.type):(console.warn("Only call this method for binned field defs."),!1)}function c9(e){var t=e.anchor,n=e.frame,r=e.offset,a=e.orient,i=e.color,o=e.subtitleColor,u=e.subtitleFont,s=e.subtitleFontSize,c=e.subtitleFontStyle,l=e.subtitleFontWeight,f=e.subtitleLineHeight,d=e.subtitlePadding,h=W0(e,["anchor","frame","offset","orient","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),p=Object.assign(Object.assign({},h),i?{fill:i}:{}),v=Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),r?{offset:r}:{}),a?{orient:a}:{}),m=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o?{subtitleColor:o}:{}),u?{subtitleFont:u}:{}),s?{subtitleFontSize:s}:{}),c?{subtitleFontStyle:c}:{}),l?{subtitleFontWeight:l}:{}),f?{subtitleLineHeight:f}:{}),d?{subtitlePadding:d}:{});return{titleMarkConfig:p,subtitleMarkConfig:n1(p,["align","baseline","dx","dy","limit"]),nonMark:v,subtitle:m}}function l9(e){return z0(e)||C0(e)&&z0(e[0])}function f9(e){return P5(e)?e:void 0!==e?{value:e}:void 0}function d9(e){return P5(e)?e.signal:L0(e.value)}function h9(e){return P5(e)?e.signal:null==e?null:L0(e)}function p9(e){var t;return[].concat(e.type,null!==(t=e.style)&&void 0!==t?t:[])}function v9(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.vgChannel,i=r.ignoreVgConfig;return a&&void 0!==t[a]?t[a]:void 0!==t[e]?t[e]:!i||a&&a!==e?m9(e,t,n,r):void 0}function m9(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.vgChannel;return N1(a?g9(e,t,n.style):void 0,g9(e,t,n.style),a?n[t.type][a]:void 0,n[t.type][e],a?n.mark[a]:n.mark[e])}function g9(e,t,n){return b9(e,p9(t),n)}function b9(e,t,n){var r;t=T0(t);var a,i=Object(pr.a)(t);try{for(i.s();!(a=i.n()).done;){var o=n[a.value];o&&void 0!==o[e]&&(r=o[e])}}catch(u){i.e(u)}finally{i.f()}return r}function y9(e,t){return T0(e).reduce((function(e,n){var r;return e.field.push(L8(n,t)),e.order.push(null!==(r=n.sort)&&void 0!==r?r:"ascending"),e}),{field:[],order:[]})}function x9(e,t){var n=Object(Qi.a)(e);return t.forEach((function(e){var t,r=Object(pr.a)(n);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(e1(a,e))return}}catch(i){r.e(i)}finally{r.f()}n.push(e)})),n}function _9(e,t){return e1(e,t)||!t?e:e?[].concat(Object(Qi.a)(T0(e)),Object(Qi.a)(T0(t))).join(", "):t}function w9(e,t){var n=e.value,r=t.value;if(null==n||null===r)return{explicit:e.explicit,value:null};if((l9(n)||P5(n))&&(l9(r)||P5(r)))return{explicit:e.explicit,value:_9(n,r)};if(l9(n)||P5(n))return{explicit:e.explicit,value:n};if(l9(r)||P5(r))return{explicit:e.explicit,value:r};if(!l9(n)&&!P5(n)&&!l9(r)&&!P5(r))return{explicit:e.explicit,value:x9(n,r)};throw new Error("It should never reach here")}function O9(e,t){var n=e&&e[t];return!!n&&(C0(n)?s1(n,(function(e){return!!e.field})):C8(n)||j8(n))}function k9(e){return s1(p3,(function(t){if(O9(e,t)){var n=e[t];if(C0(n))return s1(n,(function(e){return!!e.aggregate}));var r=Q8(n);return r&&!!r.aggregate}return!1}))}function j9(e,t){var n=[],r=[],a=[],i=[],o={};return A9(e,(function(u,s){if(C8(u)){var c=u.field,l=u.aggregate,f=u.bin,d=u.timeUnit,h=W0(u,["field","aggregate","bin","timeUnit"]);if(l||d||f){var p,v=X8(u),m=v&&v.title,g=L8(u,{forAs:!0}),b=Object.assign(Object.assign(Object.assign({},m?[]:{title:$8(u,t,{allowDisabling:!0})}),h),{field:g});if(l){if(y2(l)?(p="argmax",g=L8({op:"argmax",field:l.argmax},{forAs:!0}),b.field="".concat(g,".").concat(c)):b2(l)?(p="argmin",g=L8({op:"argmin",field:l.argmin},{forAs:!0}),b.field="".concat(g,".").concat(c)):"boxplot"!==l&&"errorbar"!==l&&"errorband"!==l&&(p=l),p){var y={op:p,as:g};c&&(y.field=c),i.push(y)}}else if(n.push(g),T8(u)&&W3(f)){if(r.push({bin:f,field:c,as:g}),n.push(L8(u,{binSuffix:"end"})),s9(u,s)&&n.push(L8(u,{binSuffix:"range"})),A3(s)){var x={field:g+"_end"};o[s+"2"]=x}b.bin="binned",y3(s)||(b.type=a6)}else if(d){a.push({timeUnit:d,field:c,as:g});var _=T8(u)&&u.type!==o6&&"time";_&&(s===J2||s===t3?b.formatType=_:!function(e){return!!k3[e]}(s)?A3(s)&&(b.axis=Object.assign({formatType:_},b.axis)):b.legend=Object.assign({formatType:_},b.legend))}o[s]=b}else n.push(c),o[s]=e[s]}else o[s]=e[s]})),{bins:r,timeUnits:a,aggregate:i,groupby:n,encoding:o}}function E9(e,t,n){var r=t.type;return m1(e).reduce((function(a,i){if(!g3(i))return g5(x.invalidEncodingChannel(i)),a;var o=e[i];if("angle"!==i||"arc"!==r||e.theta||(g5(x.REPLACE_ANGLE_WITH_THETA),i=M2),!function(e,t,n){var r=P3(t,n);if(!r)return!1;if("binned"===r){var a=e[t===D2?A2:S2];return!!(C8(a)&&C8(e[t])&&V3(a.bin))}return!0}(e,i,r))return g5(x.incompatibleChannel(i,r)),a;if(i===q2&&"line"===r){var u=Q8(e[i]);if(null===u||void 0===u?void 0:u.aggregate)return g5(x.LINE_WITH_VARYING_SIZE),a}if(i===L2&&(t.filled?"fill"in e:"stroke"in e))return g5(x.droppingColor("encoding",{fill:"fill"in e,stroke:"stroke"in e})),a;if(i===Z2||i===Q2&&!C0(o)&&!M8(o)||i===t3&&C0(o))o&&(a[i]=T0(o).reduce((function(e,t){return C8(t)?e.push(n9(t,i)):g5(x.emptyFieldDef(t,i)),e}),[]));else{if(i===t3&&null===o)a[i]=null;else if(!C8(o)&&!S8(o)&&!M8(o)&&!k8(o)&&!P5(o))return g5(x.emptyFieldDef(o,i)),a;a[i]=e9(o,i,n)}return a}),{})}function C9(e){var t,n=[],r=Object(pr.a)(m1(e));try{for(r.s();!(t=r.n()).done;){var a=t.value;if(O9(e,a)){var i,o=e[a],u=T0(o),s=Object(pr.a)(u);try{for(s.s();!(i=s.n()).done;){var c=i.value;C8(c)?n.push(c):j8(c)&&n.push(c.condition)}}catch(l){s.e(l)}finally{s.f()}}}}catch(l){r.e(l)}finally{r.f()}return n}function A9(e,t,n){if(e){var r,a=Object(pr.a)(m1(e));try{for(a.s();!(r=a.n()).done;){var i=r.value,o=e[i];if(C0(o)){var u,s=Object(pr.a)(o);try{for(s.s();!(u=s.n()).done;){var c=u.value;t.call(n,c,i)}}catch(l){s.e(l)}finally{s.f()}}else t.call(n,o,i)}}catch(l){a.e(l)}finally{a.f()}}}function S9(e,t,n,r){return e?m1(e).reduce((function(n,a){var i=e[a];return C0(i)?i.reduce((function(e,n){return t.call(r,e,n,a)}),n):t.call(r,n,i,a)}),n):n}function D9(e,t){return m1(t).reduce((function(n,r){switch(r){case A2:case S2:case n3:case a3:case r3:case D2:case N2:case M2:case I2:case F2:case T2:case R2:case P2:case B2:case z2:case J2:case V2:case H2:case t3:return n;case Q2:if("line"===e||"trail"===e)return n;case Z2:case e3:var a=t[r];if(C0(a)||C8(a)){var i,o=Object(pr.a)(T0(a));try{for(o.s();!(i=o.n()).done;){var u=i.value;u.aggregate||n.push(L8(u,{}))}}catch(c){o.e(c)}finally{o.f()}}return n;case q2:if("trail"===e)return n;case L2:case U2:case W2:case G2:case K2:case $2:case Y2:case X2:var s=Q8(t[r]);return s&&!s.aggregate&&n.push(L8(s,{})),n}}),[])}function N9(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("tooltip"in n)return{tooltip:n.tooltip};var a=e.map((function(e){var n=e.fieldPrefix,a=e.titlePrefix,i=r?" of ".concat(t.field):"";return{field:n+t.field,type:t.type,title:P5(a)?{signal:a+'"'.concat(escape(i),'"')}:a+i}}));return{tooltip:[].concat(Object(Qi.a)(a),Object(Qi.a)(C9(n)))}}function F9(e){var t=e.axis,n=e.title,r=e.field;return t&&void 0!==t.title?void 0:N1(n,r)}function T9(e,t,n,r,a){var i=n.scale,o=n.axis;return function(u){var s=u.partName,c=u.mark,l=u.positionPrefix,f=u.endPositionPrefix,d=void 0===f?void 0:f,h=u.aria,p=u.extraEncoding,v=void 0===p?{}:p,m=F9(n);return M9(e,s,a,h,{mark:c,encoding:Object.assign(Object.assign(Object.assign(Object(Zi.a)({},t,Object.assign(Object.assign(Object.assign({field:l+"_"+n.field,type:n.type},void 0!==m?{title:m}:{}),void 0!==i?{scale:i}:{}),void 0!==o?{axis:o}:{})),z0(d)?Object(Zi.a)({},t+"2",{field:d+"_"+n.field}):{}),r),v)})}}function M9(e,t,n,r,a){var i=e.clip,o=e.color,u=e.opacity,s=e.type;return e[t]||void 0===e[t]&&n[t]?[Object.assign(Object.assign({},a),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),i?{clip:i}:{}),o?{color:o}:{}),u?{opacity:u}:{}),s2(a.mark)?a.mark:{type:a.mark}),{style:"".concat(s,"-").concat(t)}),P0(e[t])?{}:e[t]),!1===r?{aria:r}:{})})]:[]}function I9(e,t,n){var r=e.encoding,a="vertical"===t?"y":"x",i=r[a],o=r[a+"2"],u=r[a+"Error"],s=r[a+"Error2"];return{continuousAxisChannelDef:R9(i,n),continuousAxisChannelDef2:R9(o,n),continuousAxisChannelDefError:R9(u,n),continuousAxisChannelDefError2:R9(s,n),continuousAxis:a}}function R9(e,t){if(e&&e.aggregate){var n=e.aggregate,r=W0(e,["aggregate"]);return n!==t&&g5(x.errorBarContinuousAxisHasCustomizedAggregate(n,t)),r}return e}function P9(e,t){var n=e.mark,r=e.encoding,a=r.x,i=r.y;if(D8(a)){if(D8(i)){var o=C8(a)&&a.aggregate,u=C8(i)&&i.aggregate;if(o||u!==t){if(u||o!==t){if(o===t&&u===t)throw new Error("Both x and y cannot have aggregate");return s2(n)&&n.orient?n.orient:"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if(D8(i))return"vertical";throw new Error("Need a valid continuous axis for "+t+"s")}var B9="boxplot",z9=new v2(B9,U9);function L9(e){return B0(e)?"tukey":e}function U9(e,t){var n,r,a=t.config,i=e.mark,o=(e.encoding,e.selection),u=(e.projection,W0(e,["mark","encoding","selection","projection"])),s=s2(i)?i:{type:i};o&&g5(x.selectionNotSupported("boxplot"));var c,l=null!==(n=s.extent)&&void 0!==n?n:a.boxplot.extent,f=v9("size",s,a),d=L9(l),h=function(e,t,n){var r=P9(e,B9),a=I9(e,r,B9),i=a.continuousAxisChannelDef,o=a.continuousAxis,u=i.field,s=L9(t),c=[].concat(Object(Qi.a)(W9(u)),[{op:"median",field:u,as:"mid_box_"+u},{op:"min",field:u,as:("min-max"===s?"lower_whisker_":"min_")+u},{op:"max",field:u,as:("min-max"===s?"upper_whisker_":"max_")+u}]),l="min-max"===s||"tukey"===s?[]:[{calculate:'datum["upper_box_'.concat(u,'"] - datum["lower_box_').concat(u,'"]'),as:"iqr_"+u},{calculate:'min(datum["upper_box_'.concat(u,'"] + datum["iqr_').concat(u,'"] * ').concat(t,', datum["max_').concat(u,'"])'),as:"upper_whisker_"+u},{calculate:'max(datum["lower_box_'.concat(u,'"] - datum["iqr_').concat(u,'"] * ').concat(t,', datum["min_').concat(u,'"])'),as:"lower_whisker_"+u}],f=e.encoding,d=o,h=(f[d],function(e){var t,n,r=e.tooltip,a=W0(e,["tooltip"]);if(!r)return{filteredEncoding:e};if(C0(r)){var i,o=Object(pr.a)(r);try{for(o.s();!(i=o.n()).done;){var u=i.value;u.aggregate?(t||(t=[]),t.push(u)):(n||(n=[]),n.push(u))}}catch(s){o.e(s)}finally{o.f()}t&&(a.tooltip=t)}else r.aggregate?a.tooltip=r:n=r;return C0(n)&&1===n.length&&(n=n[0]),{customTooltipWithoutAggregatedField:n,filteredEncoding:a}}(W0(f,["symbol"===typeof d?d:d+""]))),p=h.customTooltipWithoutAggregatedField,v=j9(h.filteredEncoding,n),m=v.bins,g=v.timeUnits,b=v.aggregate,y=v.groupby,x=v.encoding,_="vertical"===r?"horizontal":"vertical",w=r;return{transform:[].concat(Object(Qi.a)(m),Object(Qi.a)(g),[{aggregate:[].concat(Object(Qi.a)(b),Object(Qi.a)(c)),groupby:y}],l),groupby:y,aggregate:b,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:x,ticksOrient:_,boxOrient:w,customTooltipWithoutAggregatedField:p}}(e,l,a),p=h.transform,v=h.continuousAxisChannelDef,m=h.continuousAxis,g=h.groupby,b=h.aggregate,y=h.encodingWithoutContinuousAxis,_=h.ticksOrient,w=h.boxOrient,O=h.customTooltipWithoutAggregatedField,k=(y.color,y.size),j=W0(y,["color","size"]),E=function(e){return T9(s,m,v,e,a.boxplot)},C=E(j),A=E(y),S=E(Object.assign(Object.assign({},j),k?{size:k}:{})),D=N9([{fieldPrefix:"min-max"===d?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===d?"lower_whisker_":"min_",titlePrefix:"Min"}],v,y),N={type:"tick",color:"black",opacity:1,orient:_,invalid:null},F="min-max"===d?D:N9([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],v,y),T=[].concat(Object(Qi.a)(C({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",aria:!1,extraEncoding:F})),Object(Qi.a)(C({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",aria:!1,extraEncoding:F})),Object(Qi.a)(C({partName:"ticks",mark:N,positionPrefix:"lower_whisker",aria:!1,extraEncoding:F})),Object(Qi.a)(C({partName:"ticks",mark:N,positionPrefix:"upper_whisker",aria:!1,extraEncoding:F}))),M=[].concat(Object(Qi.a)("tukey"!==d?T:[]),Object(Qi.a)(A({partName:"box",mark:Object.assign(Object.assign({type:"bar"},f?{size:f}:{}),{orient:w,invalid:null}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",aria:!1,extraEncoding:D})),Object(Qi.a)(S({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},A0(a.boxplot.median)&&a.boxplot.median.color?{color:a.boxplot.median.color}:{}),f?{size:f}:{}),{orient:_,ariaRoleDescription:"box"}),positionPrefix:"mid_box",extraEncoding:D})));if("min-max"!==d){var I='datum["lower_box_'.concat(v.field,'"]'),R='datum["upper_box_'.concat(v.field,'"]'),P="(".concat(R," - ").concat(I,")"),B="".concat(I," - ").concat(l," * ").concat(P),z="".concat(R," + ").concat(l," * ").concat(P),L='datum["'.concat(v.field,'"]'),U={joinaggregate:W9(v.field),groupby:g},W=void 0;"tukey"===d&&(W={transform:[{filter:"(".concat(B," <= ").concat(L,") && (").concat(L," <= ").concat(z,")")},{aggregate:[{op:"min",field:v.field,as:"lower_whisker_"+v.field},{op:"max",field:v.field,as:"upper_whisker_"+v.field},{op:"min",field:"lower_box_"+v.field,as:"lower_box_"+v.field},{op:"max",field:"upper_box_"+v.field,as:"upper_box_"+v.field}].concat(Object(Qi.a)(b)),groupby:g}],layer:T});j.tooltip;var V=W0(j,["tooltip"]),q=v.scale,H=v.axis,G=F9(v),K=M9(s,"outliers",a.boxplot,!0,{transform:[{filter:"(".concat(L," < ").concat(B,") || (").concat(L," > ").concat(z,")")}],mark:"point",encoding:Object.assign(Object.assign(Object(Zi.a)({},m,Object.assign(Object.assign(Object.assign({field:v.field,type:v.type},void 0!==G?{title:G}:{}),void 0!==q?{scale:q}:{}),void 0!==H?{axis:H}:{})),V),O?{tooltip:O}:{})})[0];K&&W?c={transform:[U],layer:[K,W]}:K?(c=K).transform.unshift(U):W&&(c=W).transform.unshift(U)}return c?Object.assign(Object.assign({},u),{layer:[c,{transform:p,layer:M}]}):Object.assign(Object.assign({},u),{transform:(null!==(r=u.transform)&&void 0!==r?r:[]).concat(p),layer:M})}function W9(e){return[{op:"q1",field:e,as:"lower_box_"+e},{op:"q3",field:e,as:"upper_box_"+e}]}var V9="errorbar",q9=new v2(V9,H9);function H9(e,t){var n=t.config,r=K9(e,V9,n),a=r.transform,i=r.continuousAxisChannelDef,o=r.continuousAxis,u=r.encodingWithoutContinuousAxis,s=r.ticksOrient,c=r.markDef,l=r.outerSpec,f=r.tooltipEncoding,d=T9(c,o,i,u,n.errorbar),h={type:"tick",orient:s},p=[].concat(Object(Qi.a)(d({partName:"ticks",mark:h,positionPrefix:"lower",aria:!1,extraEncoding:f})),Object(Qi.a)(d({partName:"ticks",mark:h,positionPrefix:"upper",aria:!1,extraEncoding:f})),Object(Qi.a)(d({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar"},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:f})));return Object.assign(Object.assign(Object.assign({},l),{transform:a}),p.length>1?{layer:p}:Object.assign({},p[0]))}function G9(e,t){var n=e.encoding;if(function(e){return(F8(e.x)||F8(e.y))&&!F8(e.x2)&&!F8(e.y2)&&!F8(e.xError)&&!F8(e.xError2)&&!F8(e.yError)&&!F8(e.yError2)}(n))return{orient:P9(e,t),inputType:"raw"};var r=function(e){return F8(e.x2)||F8(e.y2)}(n),a=function(e){return F8(e.xError)||F8(e.xError2)||F8(e.yError)||F8(e.yError2)}(n),i=n.x,o=n.y;if(r){if(a)throw new Error("".concat(t," cannot be both type aggregated-upper-lower and aggregated-error"));var u=n.x2,s=n.y2;if(F8(u)&&F8(s))throw new Error("".concat(t," cannot have both x2 and y2"));if(F8(u)){if(D8(i))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in ".concat(t))}if(F8(s)){if(D8(o))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in ".concat(t))}throw new Error("No ranged axis")}var c=n.xError,l=n.xError2,f=n.yError,d=n.yError2;if(F8(l)&&!F8(c))throw new Error("".concat(t," cannot have xError2 without xError"));if(F8(d)&&!F8(f))throw new Error("".concat(t," cannot have yError2 without yError"));if(F8(c)&&F8(f))throw new Error("".concat(t," cannot have both xError and yError with both are quantiative"));if(F8(c)){if(D8(i))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(F8(f)){if(D8(o))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}function K9(e,t,n){var r,a=e.mark,i=e.encoding,o=e.selection,u=(e.projection,W0(e,["mark","encoding","selection","projection"])),s=s2(a)?a:{type:a};o&&g5(x.selectionNotSupported(t));var c=G9(e,t),l=c.orient,f=c.inputType,d=I9(e,l,t),h=d.continuousAxisChannelDef,p=d.continuousAxisChannelDef2,v=d.continuousAxisChannelDefError,m=d.continuousAxisChannelDefError2,g=d.continuousAxis,b=function(e,t,n,r,a,i,o,u){var s,c=[],l=[],f=t.field,d=!1;if("raw"===i){var h,p,v,m=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":u.errorbar.center,g=e.extent?e.extent:"mean"===m?"stderr":"iqr";if("median"===m!==("iqr"===g)&&g5(x.errorBarCenterIsUsedWithWrongExtent(m,g,o)),"stderr"===g||"stdev"===g)c=[{op:g,field:f,as:"extent_"+f},{op:m,field:f,as:"center_"+f}],l=[{calculate:'datum["center_'.concat(f,'"] + datum["extent_').concat(f,'"]'),as:"upper_"+f},{calculate:'datum["center_'.concat(f,'"] - datum["extent_').concat(f,'"]'),as:"lower_"+f}],s=[{fieldPrefix:"center_",titlePrefix:O1(m)},{fieldPrefix:"upper_",titlePrefix:$9(m,g,"+")},{fieldPrefix:"lower_",titlePrefix:$9(m,g,"-")}],d=!0;else e.center&&e.extent&&g5(x.errorBarCenterIsNotNeeded(e.extent,o)),"ci"===g?(h="mean",p="ci0",v="ci1"):(h="median",p="q1",v="q3"),c=[{op:p,field:f,as:"lower_"+f},{op:v,field:f,as:"upper_"+f},{op:h,field:f,as:"center_"+f}],s=[{fieldPrefix:"upper_",titlePrefix:$8({field:f,aggregate:v,type:"quantitative"},u,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:$8({field:f,aggregate:p,type:"quantitative"},u,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:$8({field:f,aggregate:h,type:"quantitative"},u,{allowDisabling:!1})}]}else{(e.center||e.extent)&&g5(x.errorBarCenterAndExtentAreNotNeeded(e.center,e.extent)),"aggregated-upper-lower"===i?(s=[],l=[{calculate:'datum["'.concat(n.field,'"]'),as:"upper_"+f},{calculate:'datum["'.concat(f,'"]'),as:"lower_"+f}]):"aggregated-error"===i&&(s=[{fieldPrefix:"",titlePrefix:f}],l=[{calculate:'datum["'.concat(f,'"] + datum["').concat(r.field,'"]'),as:"upper_"+f}],a?l.push({calculate:'datum["'.concat(f,'"] + datum["').concat(a.field,'"]'),as:"lower_"+f}):l.push({calculate:'datum["'.concat(f,'"] - datum["').concat(r.field,'"]'),as:"lower_"+f}));var b,y=Object(pr.a)(l);try{for(y.s();!(b=y.n()).done;){var _=b.value;s.push({fieldPrefix:_.as.substring(0,6),titlePrefix:A1(A1(_.calculate,'datum["',""),'"]',"")})}}catch(w){y.e(w)}finally{y.f()}}return{postAggregateCalculates:l,errorBarSpecificAggregate:c,tooltipSummary:s,tooltipTitleWithFieldName:d}}(s,h,p,v,m,f,t,n),y=b.errorBarSpecificAggregate,_=b.postAggregateCalculates,w=b.tooltipSummary,O=b.tooltipTitleWithFieldName,k=i,j=g,E=(k[j],"x"===g?"x2":"y2"),C=(k[E],"x"===g?"xError":"yError"),A=(k[C],"x"===g?"xError2":"yError2"),S=(k[A],j9(W0(k,["symbol"===typeof j?j:j+"","symbol"===typeof E?E:E+"","symbol"===typeof C?C:C+"","symbol"===typeof A?A:A+""]),n)),D=S.bins,N=S.timeUnits,F=S.aggregate,T=S.groupby,M=S.encoding,I=[].concat(Object(Qi.a)(F),Object(Qi.a)(y)),R="raw"!==f?[]:T,P=N9(w,h,M,O);return{transform:[].concat(Object(Qi.a)(null!==(r=u.transform)&&void 0!==r?r:[]),Object(Qi.a)(D),Object(Qi.a)(N),Object(Qi.a)(0===I.length?[]:[{aggregate:I,groupby:R}]),Object(Qi.a)(_)),groupby:R,continuousAxisChannelDef:h,continuousAxis:g,encodingWithoutContinuousAxis:M,ticksOrient:"vertical"===l?"horizontal":"vertical",markDef:s,outerSpec:u,tooltipEncoding:P}}function $9(e,t,n){return O1(e)+" "+n+" "+t}var X9="errorband",Y9=new v2(X9,J9);function J9(e,t){var n=t.config,r=K9(e,X9,n),a=r.transform,i=r.continuousAxisChannelDef,o=r.continuousAxis,u=r.encodingWithoutContinuousAxis,s=r.markDef,c=r.outerSpec,l=r.tooltipEncoding,f=s,d=T9(f,o,i,u,n.errorband),h=void 0!==e.encoding.x&&void 0!==e.encoding.y,p={type:h?"area":"rect"},v={type:h?"line":"rule"},m=Object.assign(Object.assign({},f.interpolate?{interpolate:f.interpolate}:{}),f.tension&&f.interpolate?{tension:f.tension}:{});return h?(p=Object.assign(Object.assign(Object.assign({},p),m),{ariaRoleDescription:"errorband"}),v=Object.assign(Object.assign({},v),m)):f.interpolate?g5(x.errorBand1DNotSupport("interpolate")):f.tension&&g5(x.errorBand1DNotSupport("tension")),Object.assign(Object.assign({},c),{transform:a,layer:[].concat(Object(Qi.a)(d({partName:"band",mark:p,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l})),Object(Qi.a)(d({partName:"borders",mark:v,positionPrefix:"lower",aria:!1,extraEncoding:l})),Object(Qi.a)(d({partName:"borders",mark:v,positionPrefix:"upper",aria:!1,extraEncoding:l})))})}var Q9={};function Z9(e,t,n){var r=new v2(e,t);Q9[e]={normalizer:r,parts:n}}Z9(B9,U9,["box","median","outliers","rule","ticks"]),Z9(V9,H9,["ticks","rule"]),Z9(X9,J9,["band","borders"]);var e7=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],t7=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],n7={fillColor:{part:"legend",vgProp:"fill"},gradientStrokeColor:{part:"gradient",vgProp:"stroke"},labelColor:{part:"labels",vgProp:"fill"},strokeColor:{part:"legend",vgProp:"stroke"},symbolFillColor:{part:"symbols",vgProp:"fill"},symbolStrokeColor:{part:"symbols",vgProp:"stroke"},titleColor:{part:"title",vgProp:"fill"}},r7={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},a7=(m1(r7),"_vgsid_"),i7={single:{on:"click",fields:[a7],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:[a7],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function o7(e){return!!e&&("legend"===e||!!e.legend)}function u7(e){return o7(e)&&A0(e)}function s7(e){return"concat"in e}function c7(e){return"vconcat"in e}function l7(e){return"hconcat"in e}function f7(e){return A0(e)&&void 0!==e.step}function d7(e){return e.view||e.width||e.height}var h7=m1({align:1,bounds:1,center:1,columns:1,spacing:1});function p7(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e["width"===t?"continuousWidth":"continuousHeight"]}function v7(e,t){var n=m7(e,t);return f7(n)?n.step:g7}function m7(e,t){var n;return N1(null!==(n=e[t])&&void 0!==n?n:e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}var g7=20;var b7={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:g7},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:d2,circle:{},geoshape:{},image:{},line:{},point:{},rect:h2,rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:i7,style:{},title:{},facet:{spacing:20},concat:{spacing:20}},y7=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],x7={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},_7={blue:y7[0],orange:y7[1],red:y7[2],teal:y7[3],green:y7[4],yellow:y7[5],purple:y7[6],pink:y7[7],brown:y7[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function w7(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:A0(e)?Object.assign(Object.assign({},_7),e):_7}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function O7(e){return{signals:[{name:"fontSize",value:A0(e)?Object.assign(Object.assign({},x7),e):x7}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function k7(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function j7(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=e.font,r=e.fontSize,a=W0(e,["color","font","fontSize"]);return D0({},b7,n?k7(n):{},t?w7(t):{},r?O7(r):{},a||{})}var E7=["view"].concat(Object(Qi.a)(u2)),C7=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],A7=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});function S7(e){e=t1(e);var t,n=Object(pr.a)(C7);try{for(n.s();!(t=n.n()).done;){delete e[t.value]}}catch(O){n.e(O)}finally{n.f()}if(e.axis)for(var r in e.axis)B1(e.axis[r])&&delete e.axis[r];if(e.legend){var a,i=Object(pr.a)(e7);try{for(i.s();!(a=i.n()).done;){var o=a.value;delete e.legend[o]}}catch(O){i.e(O)}finally{i.f()}}if(e.mark){var u,s=Object(pr.a)(l2);try{for(s.s();!(u=s.n()).done;){var c=u.value;delete e.mark[c]}}catch(O){s.e(O)}finally{s.f()}e.mark.tooltip&&A0(e.mark.tooltip)&&delete e.mark.tooltip}var l,f=Object(pr.a)(E7);try{for(f.s();!(l=f.n()).done;){var d,h=l.value,p=Object(pr.a)(l2);try{for(p.s();!(d=p.n()).done;){var v=d.value;delete e[h][v]}}catch(O){p.e(O)}finally{p.f()}var m=A7[h];if(m){var g,b=Object(pr.a)(m);try{for(b.s();!(g=b.n()).done;){var y=g.value;delete e[h][y]}}catch(O){b.e(O)}finally{b.f()}}D7(e,h)}}catch(O){f.e(O)}finally{f.f()}var x,_=Object(pr.a)(m1(Q9));try{for(_.s();!(x=_.n()).done;){delete e[x.value]}}catch(O){_.e(O)}finally{_.f()}for(var w in function(e){var t=c9(e.title),n=t.titleMarkConfig,r=t.subtitleMarkConfig,a=t.subtitle;v1(n)||(e.style["group-title"]=Object.assign(Object.assign({},e.style["group-title"]),n));v1(r)||(e.style["group-subtitle"]=Object.assign(Object.assign({},e.style["group-subtitle"]),r));v1(a)?delete e.title:e.title=a}(e),e)A0(e[w])&&v1(e[w])&&delete e[w];return v1(e)?void 0:e}function D7(e,t,n,r){var a=r?e[t][r]:e[t];"view"===t&&(n="cell");var i=Object.assign(Object.assign({},a),e.style[null!==n&&void 0!==n?n:t]);v1(i)||(e.style[null!==n&&void 0!==n?n:t]=i),r||delete e[t]}function N7(e){return"layer"in e}var F7=n(32),T7=n(30),M7=n(15),I7=n(16),R7=function(){function e(){Object(Rb.a)(this,e)}return Object(Pb.a)(e,[{key:"map",value:function(e,t){return y8(e)?this.mapFacet(e,t):function(e){return"repeat"in e}(e)?this.mapRepeat(e,t):l7(e)?this.mapHConcat(e,t):c7(e)?this.mapVConcat(e,t):s7(e)?this.mapConcat(e,t):this.mapLayerOrUnit(e,t)}},{key:"mapLayerOrUnit",value:function(e,t){if(N7(e))return this.mapLayer(e,t);if(p2(e))return this.mapUnit(e,t);throw new Error(x.invalidSpec(e))}},{key:"mapLayer",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{layer:e.layer.map((function(e){return n.mapLayerOrUnit(e,t)}))})}},{key:"mapHConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{hconcat:e.hconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapVConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{vconcat:e.vconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapConcat",value:function(e,t){var n=this,r=e.concat,a=W0(e,["concat"]);return Object.assign(Object.assign({},a),{concat:r.map((function(e){return n.map(e,t)}))})}},{key:"mapFacet",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}},{key:"mapRepeat",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}}]),e}(),P7={zero:1,center:1,normalize:1};function B7(e){return e in P7}var z7=new Set([H1,K1,G1,Q1,Y1,n2,r2,X1,Z1,e2]),L7=new Set([K1,G1,H1]);function U7(e,t){var n,r,a="x"===t?"y":"radius",i=e[t],o=e[a];if(C8(i)&&C8(o))if("quantitative"===A8(i)&&"quantitative"===A8(o)){if(i.stack)return t;if(o.stack)return a;var u=C8(i)&&!!i.aggregate;if(u!==(C8(o)&&!!o.aggregate))return u?t:a;var s=null===(n=i.scale)||void 0===n?void 0:n.type,c=null===(r=o.scale)||void 0===r?void 0:r.type;if(s&&"linear"!==s)return a;if(c&&"linear"!==c)return t}else{if("quantitative"===A8(i))return t;if("quantitative"===A8(o))return a}else{if("quantitative"===A8(i))return t;if("quantitative"===A8(o))return a}}function W7(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function V7(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=s2(e)?e.type:e;if(!z7.has(r))return null;var a=U7(t,"x")||U7(t,"theta");if(!a)return null;var i=t[a],o=C8(i)?L8(i,{}):void 0,u=W7(a),s=t[u],c=C8(s)?L8(s,{}):void 0;c===o&&(c=void 0,s=void 0,u=void 0);var l,f=j3.reduce((function(e,n){if("tooltip"!==n&&O9(t,n)){var r,a=t[n],i=Object(pr.a)(T0(a));try{for(i.s();!(r=i.n()).done;){var o=Q8(r.value);if(!o.aggregate){var u=L8(o,{});u&&u===c||e.push({channel:n,fieldDef:o})}}}catch(s){i.e(s)}finally{i.f()}}return e}),[]);if(void 0!==i.stack?l=P0(i.stack)?i.stack?"zero":null:i.stack:f.length>0&&L7.has(r)&&(l="zero"),!l||!B7(l))return null;if(k9(t)&&0===f.length)return null;if(i.scale&&i.scale.type&&i.scale.type!==l6){if(n.disallowNonLinearStack)return null;g5(x.cannotStackNonLinearScale(i.scale.type))}return F8(t[w3(a)])?(void 0!==i.stack&&g5(x.cannotStackRangedMark(a)),null):(C8(i)&&i.aggregate&&!u1(O2,i.aggregate)&&g5(x.stackNonSummativeAggregate(i.aggregate)),{groupbyChannel:s?u:void 0,groupbyField:c,fieldChannel:a,impute:null!==i.impute&&i2(r),stackBy:f,offset:l})}function q7(e){e.point,e.line;var t=W0(e,["point","line"]);return m1(t).length>1?t:t.type}function H7(e){for(var t=0,n=["line","area","rule","trail"];t<n.length;t++){var r=n[t];e[r]&&(e=Object.assign(Object.assign({},e),Object(Zi.a)({},r,r1(e[r],["point","line"]))))}return e}function G7(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return"transparent"===e.point?{opacity:0}:e.point?A0(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?A0(t.point)?t.point:{}:void 0}function K7(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}var $7=function(){function e(){Object(Rb.a)(this,e),this.name="path-overlay"}return Object(Pb.a)(e,[{key:"hasMatchingType",value:function(e,t){if(p2(e)){var n=e.mark,r=e.encoding,a=s2(n)?n:{type:n};switch(a.type){case"line":case"rule":case"trail":return!!G7(a,t[a.type],r);case"area":return!!G7(a,t[a.type],r)||!!K7(a,t[a.type])}}return!1}},{key:"run",value:function(e,t,n){var r=t.config,a=e.selection,i=e.projection,o=e.encoding,u=e.mark,s=W0(e,["selection","projection","encoding","mark"]),c=s2(u)?u:{type:u},l=G7(c,r[c.type],o),f="area"===c.type&&K7(c,r[c.type]),d=[Object.assign(Object.assign({},a?{selection:a}:{}),{mark:q7(Object.assign(Object.assign({},"area"===c.type&&void 0===c.opacity&&void 0===c.fillOpacity?{opacity:.7}:{}),c)),encoding:r1(o,["shape"])})],h=V7(c,o),p=o;if(h){var v=h.fieldChannel,m=h.offset;p=Object.assign(Object.assign({},o),Object(Zi.a)({},v,Object.assign(Object.assign({},o[v]),m?{stack:m}:{})))}return f&&d.push(Object.assign(Object.assign({},i?{projection:i}:{}),{mark:Object.assign(Object.assign({type:"line"},n1(c,["clip","interpolate","tension","tooltip"])),f),encoding:p})),l&&d.push(Object.assign(Object.assign({},i?{projection:i}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},n1(c,["clip","tooltip"])),l),encoding:p})),n(Object.assign(Object.assign({},s),{layer:d}),Object.assign(Object.assign({},t),{config:H7(r)}))}}]),e}(),X7=function(){function e(){Object(Rb.a)(this,e),this.name="RangeStep"}return Object(Pb.a)(e,[{key:"hasMatchingType",value:function(e){var t;if(p2(e)&&e.encoding){var n,r=Object(pr.a)(C3);try{for(r.s();!(n=r.n()).done;){var a=n.value,i=e.encoding[a];if(i&&F8(i)&&(null===(t=null===i||void 0===i?void 0:i.scale)||void 0===t?void 0:t.rangeStep))return!0}}catch(o){r.e(o)}finally{r.f()}}return!1}},{key:"run",value:function(e){var t,n,r={},a=Object.assign({},e.encoding),i=Object(pr.a)(C3);try{for(i.s();!(n=i.n()).done;){var o=n.value,u=O3(o),s=a[o];if(s&&F8(s)&&(null===(t=null===s||void 0===s?void 0:s.scale)||void 0===t?void 0:t.rangeStep)){var c=s.scale,l=W0(s,["scale"]),f=c,d=(f.rangeStep,W0(f,["rangeStep"]));r[u]={step:c.rangeStep},g5(x.RANGE_STEP_DEPRECATED),a=Object.assign(Object.assign({},a),Object(Zi.a)({},o,Object.assign(Object.assign({},l),v1(d)?{}:{scale:d})))}}}catch(h){i.e(h)}finally{i.f()}return Object.assign(Object.assign(Object.assign({},r),e),{encoding:a})}}]),e}();function Y7(e,t){return t?g8(e)?nee(e,t):Z7(e,t):e}function J7(e,t){return t?nee(e,t):e}function Q7(e,t,n){var r,a=t[e];return(r=a)&&!z0(r)&&"repeat"in r?a.repeat in n?Object.assign(Object.assign({},t),Object(Zi.a)({},e,n[a.repeat])):void g5(x.noSuchRepeatedValue(a.repeat)):t}function Z7(e,t){if(void 0!==(e=Q7("field",e,t))){if(null===e)return null;if(_8(e)&&v8(e.sort)){var n=Q7("field",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function eee(e,t){if(C8(e))return Z7(e,t);var n=Q7("datum",e,t);return n===e||n.type||(n.type="nominal"),n}function tee(e,t){if(!F8(e)){if(E8(e)){var n=eee(e.condition,t);if(n)return Object.assign(Object.assign({},e),{condition:n});e.condition;return W0(e,["condition"])}return e}var r=eee(e,t);return r||(k8(e)?{condition:e.condition}:void 0)}function nee(e,t){var n={};for(var r in e)if(R0(e,r)){var a=e[r];if(C0(a))n[r]=a.map((function(e){return tee(e,t)})).filter((function(e){return e}));else{var i=tee(a,t);void 0!==i&&(n[r]=i)}}return n}var ree=function(){function e(){Object(Rb.a)(this,e),this.name="RuleForRangedLine"}return Object(Pb.a)(e,[{key:"hasMatchingType",value:function(e){if(p2(e)){var t=e.encoding;if("line"===e.mark){var n,r=Object(pr.a)(b3);try{for(r.s();!(n=r.n()).done;){var a=n.value,i=t[x3(a)];if(t[a]&&(C8(i)&&!V3(i.bin)||S8(i)))return!0}}catch(o){r.e(o)}finally{r.f()}}}return!1}},{key:"run",value:function(e,t,n){var r=e.encoding;return g5(x.lineWithRange(!!r.x2,!!r.y2)),n(Object.assign(Object.assign({},e),{mark:"rule"}),t)}}]),e}();function aee(e){var t=e.parentEncoding,n=e.encoding;if(t&&n){var r=m1(t).reduce((function(e,t){return n[t]&&e.push(t),e}),[]);r.length>0&&g5(x.encodingOverridden(r))}var a=Object.assign(Object.assign({},null!==t&&void 0!==t?t:{}),null!==n&&void 0!==n?n:{});return v1(a)?void 0:a}function iee(e){var t=e.parentProjection,n=e.projection;return t&&n&&g5(x.projectionOverridden({parentProjection:t,projection:n})),null!==n&&void 0!==n?n:t}function oee(e,t){void 0===t&&(t=j7(e.config));var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return uee.map(e,{config:t})}(e,t),r=function(e,t,n){var r=t.width,a=t.height,i=p2(e)||N7(e),o={};i?"container"==r&&"container"==a?(o.type="fit",o.contains="padding"):"container"==r?(o.type="fit-x",o.contains="padding"):"container"==a&&(o.type="fit-y",o.contains="padding"):("container"==r&&(g5(x.containerSizeNonSingle("width")),r=void 0),"container"==a&&(g5(x.containerSizeNonSingle("height")),a=void 0));var u=Object.assign(Object.assign(Object.assign({type:"pad"},o),n?see(n.autosize):{}),see(e.autosize));"fit"!==u.type||i||(g5(x.FIT_NON_SINGLE),u.type="pad");"container"==r&&"fit"!=u.type&&"fit-x"!=u.type&&g5(x.containerSizeNotCompatibleWithAutosize("width"));"container"==a&&"fit"!=u.type&&"fit-y"!=u.type&&g5(x.containerSizeNotCompatibleWithAutosize("height"));if(e1(u,{type:"pad"}))return;return u}(n,{width:e.width,height:e.height,autosize:e.autosize},t);return Object.assign(Object.assign({},n),r?{autosize:r}:{})}var uee=new(function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(){var e;return Object(Rb.a)(this,n),(e=t.apply(this,arguments)).nonFacetUnitNormalizers=[z9,q9,Y9,new $7,new ree,new X7],e}return Object(Pb.a)(n,[{key:"map",value:function(e,t){if(p2(e)){var r=O9(e.encoding,j2),a=O9(e.encoding,E2),i=O9(e.encoding,C2);if(r||a||i)return this.mapFacetedUnit(e,t)}return Object(F7.a)(Object(T7.a)(n.prototype),"map",this).call(this,e,t)}},{key:"mapUnit",value:function(e,t){var n=t.parentEncoding,r=t.parentProjection,a=Object.assign(Object.assign({},e),{encoding:J7(e.encoding,t.repeater)});if(n||r)return this.mapUnitWithParentEncodingOrProjection(a,t);var i,o=this.mapLayerOrUnit.bind(this),u=Object(pr.a)(this.nonFacetUnitNormalizers);try{for(u.s();!(i=u.n()).done;){var s=i.value;if(s.hasMatchingType(a,t.config))return s.run(a,t,o)}}catch(c){u.e(c)}finally{u.f()}return a}},{key:"mapRepeat",value:function(e,t){return function(e){return!C0(e.repeat)&&e.repeat.layer}(e)?this.mapLayerRepeat(e,t):this.mapNonLayerRepeat(e,t)}},{key:"mapLayerRepeat",value:function(e,t){var n=this,r=e.repeat,a=e.spec,i=W0(e,["repeat","spec"]),o=r.row,u=r.column,s=r.layer,c=t.repeater,l=void 0===c?{}:c,f=t.repeaterPrefix,d=void 0===f?"":f;return o||u?this.mapRepeat(Object.assign(Object.assign({},e),{repeat:Object.assign(Object.assign({},o?{row:o}:{}),u?{column:u}:{}),spec:{repeat:{layer:s},spec:a}}),t):Object.assign(Object.assign({},i),{layer:s.map((function(e){var r=Object.assign(Object.assign({},l),{layer:e}),i=(a.name||"")+d+"child__layer_".concat(x1(e)),o=n.mapLayerOrUnit(a,Object.assign(Object.assign({},t),{repeater:r,repeaterPrefix:i}));return o.name=i,o}))})}},{key:"mapNonLayerRepeat",value:function(e,t){var n,r=e,a=r.repeat,i=r.spec,o=r.data,u=W0(e,["repeat","spec","data"]);!C0(a)&&e.columns&&(e=r1(e,["columns"]),g5(x.columnsNotSupportByRowCol("repeat")));var s,c=[],l=t.repeater,f=void 0===l?{}:l,d=t.repeaterPrefix,h=void 0===d?"":d,p=!C0(a)&&a.row||[f?f.row:null],v=!C0(a)&&a.column||[f?f.column:null],m=C0(a)&&a||[f?f.repeat:null],g=Object(pr.a)(m);try{for(g.s();!(s=g.n()).done;){var b,y=s.value,_=Object(pr.a)(p);try{for(_.s();!(b=_.n()).done;){var w,O=b.value,k=Object(pr.a)(v);try{for(k.s();!(w=k.n()).done;){var j=w.value,E={repeat:y,row:O,column:j,layer:f.layer},C=(i.name||"")+h+"child__"+(C0(a)?"".concat(x1(y)):(a.row?"row_".concat(x1(O)):"")+(a.column?"column_".concat(x1(j)):"")),A=this.map(i,Object.assign(Object.assign({},t),{repeater:E,repeaterPrefix:C}));A.name=C,c.push(r1(A,["data"]))}}catch(D){k.e(D)}finally{k.f()}}}catch(D){_.e(D)}finally{_.f()}}}catch(D){g.e(D)}finally{g.f()}var S=C0(a)?e.columns:a.column?a.column.length:1;return Object.assign(Object.assign({data:null!==(n=i.data)&&void 0!==n?n:o,align:"all"},u),{columns:S,concat:c})}},{key:"mapFacet",value:function(e,t){return g8(e.facet)&&e.columns&&(e=r1(e,["columns"]),g5(x.columnsNotSupportByRowCol("facet"))),Object(F7.a)(Object(T7.a)(n.prototype),"mapFacet",this).call(this,e,t)}},{key:"mapUnitWithParentEncodingOrProjection",value:function(e,t){var n=e.encoding,r=e.projection,a=t.parentEncoding,i=t.parentProjection,o=t.config,u=iee({parentProjection:i,projection:r}),s=aee({parentEncoding:a,encoding:J7(n,t.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},e),u?{projection:u}:{}),s?{encoding:s}:{}),{config:o})}},{key:"mapFacetedUnit",value:function(e,t){var n=e.encoding,r=n.row,a=n.column,i=n.facet,o=W0(n,["row","column","facet"]),u=e.mark,s=e.width,c=e.projection,l=e.height,f=e.view,d=e.selection,h=(e.encoding,W0(e,["mark","width","projection","height","view","selection","encoding"])),p=this.getFacetMappingAndLayout({row:r,column:a,facet:i},t),v=p.facetMapping,m=p.layout,g=J7(o,t.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},h),m),{facet:v,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s?{width:s}:{}),l?{height:l}:{}),f?{view:f}:{}),c?{projection:c}:{}),{mark:u,encoding:g}),d?{selection:d}:{})}),t)}},{key:"getFacetMappingAndLayout",value:function(e,t){var n,r=e.row,a=e.column,i=e.facet;if(r||a){i&&g5(x.facetChannelDropped([].concat(Object(Qi.a)(r?[j2]:[]),Object(Qi.a)(a?[E2]:[]))));for(var o={},u={},s=0,c=[j2,E2];s<c.length;s++){var l=c[s],f=e[l];if(f){f.align,f.center,f.spacing,f.columns;var d=W0(f,["align","center","spacing","columns"]);o[l]=d;for(var h=0,p=["align","center","spacing"];h<p.length;h++){var v=p[h];void 0!==f[v]&&(u[v]=null!==(n=u[v])&&void 0!==n?n:{},u[v][l]=f[v])}}}return{facetMapping:o,layout:u}}var m=i.align,g=i.center,b=i.spacing,y=i.columns;return{facetMapping:Y7(W0(i,["align","center","spacing","columns"]),t.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},m?{align:m}:{}),g?{center:g}:{}),b?{spacing:b}:{}),y?{columns:y}:{})}}},{key:"mapLayer",value:function(e,t){var r=t.parentEncoding,a=t.parentProjection,i=W0(t,["parentEncoding","parentProjection"]),o=e.encoding,u=e.projection,s=W0(e,["encoding","projection"]),c=Object.assign(Object.assign({},i),{parentEncoding:aee({parentEncoding:r,encoding:o}),parentProjection:iee({parentProjection:a,projection:u})});return Object(F7.a)(Object(T7.a)(n.prototype),"mapLayer",this).call(this,s,c)}}]),n}(R7));function see(e){return z0(e)?{type:e}:null!==e&&void 0!==e?e:{}}var cee=["background","padding"];function lee(e){return cee.reduce((function(t,n){return e&&void 0!==e[n]&&(t[n]=e[n]),t}),{})}var fee=n(60),dee=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(Rb.a)(this,e),this.explicit=t,this.implicit=n}return Object(Pb.a)(e,[{key:"clone",value:function(){return new e(t1(this.explicit),t1(this.implicit))}},{key:"combine",value:function(){return Object.assign(Object.assign({},this.explicit),this.implicit)}},{key:"get",value:function(e){return N1(this.explicit[e],this.implicit[e])}},{key:"getWithExplicit",value:function(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}},{key:"setWithExplicit",value:function(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)}},{key:"set",value:function(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this}},{key:"copyKeyFromSplit",value:function(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1)}},{key:"copyKeyFromObject",value:function(e,t){void 0!==t[e]&&this.set(e,t[e],!0)}},{key:"copyAll",value:function(e){var t,n=Object(pr.a)(m1(e.combine()));try{for(n.s();!(t=n.n()).done;){var r=t.value,a=e.getWithExplicit(r);this.setWithExplicit(r,a)}}catch(i){n.e(i)}finally{n.f()}}}]),e}();function hee(e){return{explicit:!0,value:e}}function pee(e){return{explicit:!1,value:e}}function vee(e){return function(t,n,r,a){var i=e(t.value,n.value);return i>0?t:i<0?n:mee(t,n,r,a)}}function mee(e,t,n,r){return e.explicit&&t.explicit&&g5(x.mergeConflictingProperty(n,r,e.value,t.value)),e}function gee(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mee;return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:e1(e.value,t.value)?e:a(e,t,n,r)}var bee=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(Rb.a)(this,n),(e=t.call(this,r,a)).explicit=r,e.implicit=a,e.parseNothing=i,e}return Object(Pb.a)(n,[{key:"clone",value:function(){var e=Object(F7.a)(Object(T7.a)(n.prototype),"clone",this).call(this);return e.parseNothing=this.parseNothing,e}}]),n}(dee);function yee(e){return"url"in e}function xee(e){return"values"in e}function _ee(e){return"name"in e&&!yee(e)&&!xee(e)&&!wee(e)}function wee(e){return e&&(Oee(e)||kee(e)||jee(e))}function Oee(e){return"sequence"in e}function kee(e){return"sphere"in e}function jee(e){return"graticule"in e}var Eee="main",Cee="raw";function Aee(e){return"filter"in e}function See(e){return"lookup"in e}function Dee(e){return"pivot"in e}function Nee(e){return"density"in e}function Fee(e){return"quantile"in e}function Tee(e){return"regression"in e}function Mee(e){return"loess"in e}function Iee(e){return"sample"in e}function Ree(e){return"window"in e}function Pee(e){return"joinaggregate"in e}function Bee(e){return"flatten"in e}function zee(e){return"calculate"in e}function Lee(e){return"bin"in e}function Uee(e){return"impute"in e}function Wee(e){return"timeUnit"in e}function Vee(e){return"aggregate"in e}function qee(e){return"stack"in e}function Hee(e){return"fold"in e}function Gee(e,t,n,r){var a=k8(t)&&t.condition,i=r(t);if(a){var o=T0(a).map((function(t){var n=r(t),a=function(e){return e.selection}(t)?Dre(e,t.selection):Fre(e,t.test);return Object.assign({test:a},n)}));return Object(Zi.a)({},n,[].concat(Object(Qi.a)(o),Object(Qi.a)(void 0!==i?[i]:[])))}return void 0!==i?Object(Zi.a)({},n,i):{}}function Kee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=e.encoding[t];return Gee(e,n,t,(function(t){return $ee(t,e.config)}))}function $ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"datum";if(e){if(M8(e))return f9(e.value);if(F8(e)){var r=J8(e),a=r.format,i=r.formatType;return n8({fieldOrDatumDef:e,format:a,formatType:i,expr:n,config:t})}}}function Xee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.encoding,r=e.markDef,a=e.config,i=e.stack,o=n.tooltip;if(C0(o))return{tooltip:Jee({tooltip:o},i,a,t)};var u=t.reactiveGeom?"datum.datum":"datum";return Gee(e,o,"tooltip",(function(e){var o=$ee(e,a,u);if(o)return o;if(null!==e){var s=v9("tooltip",r,a);return!0===s&&(s={content:"encoding"}),z0(s)?{value:s}:A0(s)?"encoding"===s.content?Jee(n,i,a,t):{signal:u}:void 0}}))}function Yee(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.reactiveGeom,i={},o=a?"datum.datum":"datum",u=[];function s(r,a){var s,c=x3(a),l=T8(r)?r:Object.assign(Object.assign({},r),{type:e[c].type}),f=T0($8(l,n,{allowDisabling:!1})).join(", ");if(A3(a)){var d="x"===a?"x2":"y2",h=Q8(e[d]);if(V3(l.bin)&&h){var p=L8(l,{expr:o}),v=L8(h,{expr:o}),m=J8(l);s=l8(p,v,m.format,m.formatType,n),i[d]=!0}else if(t&&t.fieldChannel===a&&"normalize"===t.offset){var g=J8(l);s=n8({fieldOrDatumDef:l,format:g.format,formatType:g.formatType,expr:o,config:n,normalizeStack:!0}).signal}}s=null!==s&&void 0!==s?s:$ee(l,n,o).signal,u.push({channel:a,key:f,value:s})}A9(e,(function(e,t){C8(e)?s(e,t):j8(e)&&s(e.condition,t)}));for(var c={},l=0,f=u;l<f.length;l++){var d=f[l],h=d.channel,p=d.key,v=d.value;i[h]||c[p]||(c[L0(p)]=v)}return c}function Jee(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.reactiveGeom,i=Yee(e,t,n,{reactiveGeom:a}),o=b1(i).map((function(e){var t=e.key,n=e.value;return"".concat(t,": ").concat(n)}));return o.length>0?{signal:"{".concat(o.join(", "),"}")}:void 0}function Qee(e){var t=v9("aria",e.markDef,e.config);return!1===t?{}:Object.assign(Object.assign(Object.assign({},t?{aria:t}:{}),function(e){var t=e.mark,n=e.markDef,r=e.config;if(!1===r.aria)return{};var a=v9("ariaRoleDescription",n,r);if(null!=a)return{ariaRoleDescription:{value:a}};return t in U5?{}:{ariaRoleDescription:{value:t}}}(e)),function(e){var t=e.encoding,n=e.markDef,r=e.config,a=e.stack,i=t.description;if(i)return Gee(e,i,"description",(function(t){return $ee(t,e.config)}));var o=v9("description",n,r);if(null!=o)return{description:f9(o)};if(!1===r.aria)return{};var u=Yee(t,a,r);if(v1(u))return;return{description:{signal:b1(u).map((function(e){var t=e.key,n=e.value;return"".concat(t,' + ": " + (').concat(n,")")})).join(' + "; " + ')}}}(e))}function Zee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.markDef,a=t.encoding,i=t.config,o=n.vgChannel,u=n.defaultRef,s=n.defaultValue;void 0===u&&void 0!==(s=null!==s&&void 0!==s?s:v9(e,r,i,{vgChannel:o,ignoreVgConfig:!0}))&&(u=f9(s));var c=a[e];return Gee(t,c,null!==o&&void 0!==o?o:e,(function(n){return Q6({channel:e,channelDef:n,markDef:r,config:i,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:u})}))}function ete(e){var t,n,r,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{filled:void 0},o=e.markDef,u=e.encoding,s=e.config,c=o.type,l=null!==(t=i.filled)&&void 0!==t?t:v9("filled",o,s),f=u1(["bar","point","circle","square","geoshape"],c)?"transparent":void 0,d=null!==(r=null!==(n=v9(!0===l?"color":void 0,o,s,{vgChannel:"fill"}))&&void 0!==n?n:s.mark[!0===l&&"color"])&&void 0!==r?r:f,h=null!==(a=v9(!1===l?"color":void 0,o,s,{vgChannel:"stroke"}))&&void 0!==a?a:s.mark[!1===l&&"color"],p=l?"fill":"stroke",v=Object.assign(Object.assign({},d?{fill:f9(d)}:{}),h?{stroke:f9(h)}:{});return o.color&&(l?o.fill:o.stroke)&&g5(x.droppingColor("property",{fill:"fill"in o,stroke:"stroke"in o})),Object.assign(Object.assign(Object.assign(Object.assign({},v),Zee("color",e,{vgChannel:p,defaultValue:l?d:h})),Zee("fill",e,{defaultValue:u.fill?d:void 0})),Zee("stroke",e,{defaultValue:u.stroke?h:void 0}))}function tte(e,t){var n=t[function(e){switch(e){case A2:return"xOffset";case S2:return"yOffset";case D2:return"x2Offset";case N2:return"y2Offset";case M2:return"thetaOffset";case F2:return"radiusOffset";case I2:return"theta2Offset";case T2:return"radius2Offset"}}(e)];if(n)return n}function nte(e,t,n){var r=n.defaultPos,a=n.vgChannel,i=n.isMidPoint,o=t.encoding,u=t.markDef,s=t.config,c=t.stack,l=o[e],f=o[w3(e)],d=t.scaleName(e),h=t.getScaleComponent(e),p=tte(e,u),v=rte({model:t,defaultPos:r,channel:e,scaleName:d,scale:h}),m=!l&&A3(e)&&(o.latitude||o.longitude)?{field:t.getName(e)}:function(e){var t=e.channel,n=e.channelDef,r=e.isMidPoint,a=e.scaleName,i=e.stack,o=e.offset,u=e.markDef,s=e.config;if(F8(n)&&i&&t===i.fieldChannel){if(C8(n)){var c=w8({channel:t,fieldDef:n,isMidPoint:r,markDef:u,stack:i,config:s});if(void 0!==c)return J6({scaleName:a,fieldOrDatumDef:n,startSuffix:"start",band:c,offset:o})}return Y6(n,a,{suffix:"end"},{offset:o})}return G6(e)}({channel:e,channelDef:l,channel2Def:f,markDef:u,config:s,isMidPoint:i,scaleName:d,scale:h,stack:c,offset:p,defaultRef:v});return m?Object(Zi.a)({},a||e,m):void 0}function rte(e){var t=e.model,n=e.defaultPos,r=e.channel,a=e.scaleName,i=e.scale,o=t.markDef,u=t.config;return function(){var e=x3(r),s=_3(r),c=v9(r,o,u,{vgChannel:s});if(void 0!==c)return Z6(r,c);switch(n){case"zeroOrMin":case"zeroOrMax":if(a){var l=i.get("type");if(u1([f6,v6,m6],l));else if(i.domainDefinitelyIncludesZero())return{scale:a,value:0}}if("zeroOrMin"===n)return"y"===e?{field:{group:"height"}}:{value:0};switch(e){case"radius":return{signal:"min(".concat(t.width.signal,",").concat(t.height.signal,")/2")};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":var f=t[O3(r)];return Object.assign(Object.assign({},f),{mult:.5})}}}var ate={left:"x",center:"xc",right:"x2"},ite={top:"y",middle:"yc",bottom:"y2"};function ote(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===e||"theta"===e)return _3(e);var a="x"===e?"align":"baseline",i=v9(a,t,n);return"x"===e?ate[i||("top"===r?"left":"center")]:ite[i||r]}function ute(e,t,n){var r=n.defaultPos,a=n.defaultPos2;return n.range?ste(e,t,{defaultPos:r,defaultPos2:a}):nte(e,t,{defaultPos:r})}function ste(e,t,n){var r=n.defaultPos,a=n.defaultPos2,i=t.markDef,o=t.config,u=w3(e),s=O3(e),c=function(e,t,n){var r,a=e.encoding,i=e.mark,o=e.markDef,u=e.stack,s=e.config,c=x3(n),l=O3(n),f=_3(n),d=a[c],h=e.scaleName(c),p=e.getScaleComponent(c),v=tte(n in a||n in o?n:c,e.markDef);if(!d&&("x2"===n||"y2"===n)&&(a.latitude||a.longitude))return Object(Zi.a)({},f,{field:e.getName(n)});var m=function(e){var t=e.channel,n=e.channelDef,r=e.channel2Def,a=e.markDef,i=e.config,o=e.scaleName,u=e.scale,s=e.stack,c=e.offset,l=e.defaultRef;if(F8(n)&&s&&t.charAt(0)===s.fieldChannel.charAt(0))return Y6(n,o,{suffix:"start"},{offset:c});return G6({channel:t,channelDef:r,scaleName:o,scale:u,stack:s,markDef:a,config:i,offset:c,defaultRef:l})}({channel:n,channelDef:d,channel2Def:a[n],markDef:o,config:s,scaleName:h,scale:p,stack:u,offset:v,defaultRef:void 0});if(void 0!==m)return Object(Zi.a)({},f,m);return cte(n,o)||cte(n,(r={},Object(Zi.a)(r,n,g9(n,o,s.style)),Object(Zi.a)(r,l,g9(l,o,s.style)),r))||cte(n,s[i])||cte(n,s.mark)||Object(Zi.a)({},f,rte({model:e,defaultPos:t,channel:n,scaleName:h,scale:p})())}(t,a,u),l=c[s]?ote(e,i,o):_3(e);return Object.assign(Object.assign({},nte(e,t,{defaultPos:r,vgChannel:l})),c)}function cte(e,t){var n=O3(e),r=_3(e);return void 0!==t[r]?Object(Zi.a)({},r,Z6(e,t[r])):void 0!==t[e]?Object(Zi.a)({},r,Z6(e,t[e])):t[n]?Object(Zi.a)({},n,Z6(e,t[n])):void 0}function lte(e,t,n){var r,a,i,o,u=e.config,s=e.encoding,c=e.markDef,l=e.stack,f=w3(t),d=O3(t),h=s[t],p=s[f],v=e.getScaleComponent(t),m=v?v.get("type"):void 0,g=e.scaleName(t),b=c.orient,y=null!==(a=null!==(r=s[d])&&void 0!==r?r:s.size)&&void 0!==a?a:v9("size",c,u,{vgChannel:d}),_="bar"===n&&("x"===t?"vertical"===b:"horizontal"===b);if(C8(h)&&(W3(h.bin)||V3(h.bin)||h.timeUnit&&!p)&&!y&&!T6(m)){var w=w8({channel:t,fieldDef:h,stack:l,markDef:c,config:u}),O=null===(i=e.component.axes[t])||void 0===i?void 0:i[0];return function(e){var t,n=e.fieldDef,r=e.fieldDef2,a=e.channel,i=e.band,o=e.scaleName,u=e.markDef,s=e.spacing,c=void 0===s?0:s,l=e.axisTranslate,f=e.reverse,d=e.config,h=w3(a),p=_3(a),v=_3(h),m=tte(a,u);if(W3(n.bin)||n.timeUnit)return t={},Object(Zi.a)(t,v,dte({channel:a,fieldDef:n,scaleName:o,markDef:u,band:(1-i)/2,offset:fte(h,c,f,l,m),config:d})),Object(Zi.a)(t,p,dte({channel:a,fieldDef:n,scaleName:o,markDef:u,band:1-(1-i)/2,offset:fte(a,c,f,l,m),config:d})),t;if(V3(n.bin)){var g,b,y=Y6(n,o,{},{offset:fte(h,c,f,l,m)});if(C8(r))return g={},Object(Zi.a)(g,v,y),Object(Zi.a)(g,p,Y6(r,o,{},{offset:fte(a,c,f,l,m)})),g;if(q3(n.bin)&&n.bin.step)return b={},Object(Zi.a)(b,v,y),Object(Zi.a)(b,p,{signal:'scale("'.concat(o,'", ').concat(L8(n,{expr:"datum"})," + ").concat(n.bin.step,")"),offset:fte(a,c,f,l,m)}),b}return void g5(x.channelRequiredForBinned(h))}({fieldDef:h,fieldDef2:p,channel:t,markDef:c,scaleName:g,band:w,axisTranslate:null!==(o=null===O||void 0===O?void 0:O.get("translate"))&&void 0!==o?o:.5,spacing:A3(t)?v9("binSpacing",c,u):void 0,reverse:v.get("reverse"),config:u})}return(F8(h)&&T6(m)||_)&&!p?function(e,t,n,r){var a,i,o=r.markDef,u=r.encoding,s=r.config,c=r.stack,l=o.orient,f=r.scaleName(n),d=r.getScaleComponent(n),h=O3(n),p=w3(n),v="horizontal"===l&&"y"===n||"vertical"===l&&"x"===n,m=v9(v?"size":h,o,s,{vgChannel:h});(u.size||void 0!==m)&&(v?i=Zee("size",r,{vgChannel:h,defaultValue:m}):g5(x.cannotApplySizeToNonOrientedMark(o.type)));var g=null!==(a=F8(t)?w8({channel:n,fieldDef:t,markDef:o,stack:c,config:s}):void 0)&&void 0!==a?a:1;i=i||Object(Zi.a)({},h,function(e,t,n,r,a,i){if(r){var o=r.get("type");if("point"===o||"band"===o){if(void 0!==a[e].discreteBandSize)return{value:a[e].discreteBandSize};if(o===x6){var u=r.get("range");return B5(u)&&B0(u.step)?{value:u.step-2}:{value:g7-2}}return{scale:n,band:i}}return{value:a[e].continuousBandSize}}var s=v7(a.view,t),c=N1(a[e].discreteBandSize,s-2);return void 0!==c?{value:c}:void 0}(e,h,f,d,s,g));var b="band"!==(null===d||void 0===d?void 0:d.get("type"))||!("band"in i[h]),y=ote(n,o,s,b?"middle":"top"),_=tte(n,o),w=G6({channel:n,channelDef:t,markDef:o,config:s,scaleName:f,scale:d,stack:c,offset:_,defaultRef:rte({model:r,defaultPos:"mid",channel:n,scaleName:f,scale:d}),band:b?.5:(1-g)/2});if(h)return Object.assign(Object(Zi.a)({},y,w),i);var O,k=_3(p),j=i[h],E=_?Object.assign(Object.assign({},j),{offset:_}):j;return O={},Object(Zi.a)(O,y,w),Object(Zi.a)(O,k,C0(w)?[w[0],Object.assign(Object.assign({},w[1]),{offset:E})]:Object.assign(Object.assign({},w),{offset:E})),O}(n,h,t,e):ste(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function fte(e,t,n,r,a){if(o3(e))return 0;var i="x"===e||"y2"===e?-t/2:t/2;if(P5(n)){var o=h9(a);return{signal:"".concat(n.signal," ? ").concat(r-i).concat(o?"-"+o:""," : ").concat(r+i).concat(o?"+"+o:"")}}if(P5(a)){var u=r+(n?-i:i);return{signal:"".concat(u||"").concat(n?" - ":u?" + ":"").concat(a.signal)}}return a=a||0,r+(n?-a-i:+a+i)}function dte(e){var t=e.channel,n=e.fieldDef,r=e.scaleName,a=e.markDef,i=e.band,o=e.offset,u=e.config;return K6({fieldDef:n,channel:t,markDef:a,ref:J6({scaleName:r,fieldOrDatumDef:n,band:i,offset:o}),config:u})}var hte=new Set(["aria"]);function pte(e,t){var n="include"===t.color?ete(e):{},r=n.fill,a=void 0===r?void 0:r,i=n.stroke,o=void 0===i?void 0:i;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(e,t){return L5.reduce((function(n,r){return hte.has(r)||void 0===e[r]||"ignore"===t[r]||(n[r]=f9(e[r])),n}),{})}(e.markDef,t)),vte(e,"fill",a)),vte(e,"stroke",o)),Zee("opacity",e)),Zee("fillOpacity",e)),Zee("strokeOpacity",e)),Zee("strokeWidth",e)),Zee("strokeDash",e)),Xee(e)),Kee(e,"href")),Qee(e))}function vte(e,t,n){var r=e.config,a=e.mark;if("hide"===v9("invalid",e.markDef,r)&&n&&!i2(a)){var i=function(e,t){var n=t.invalid,r=void 0!==n&&n,a=t.channels.reduce((function(t,n){var r=e.getScaleComponent(n);if(r){var a=r.get("type"),i=e.vgField(n,{expr:"datum"});i&&M6(a)&&(t[i]=!0)}return t}),{}),i=m1(a);if(i.length>0){var o=r?"||":"&&";return i.map((function(e){return X6(e,r)})).join(" ".concat(o," "))}return}(e,{invalid:!0,channels:I3});if(i)return Object(Zi.a)({},t,[{test:i,value:null}].concat(Object(Qi.a)(T0(n))))}return n?Object(Zi.a)({},t,n):{}}function mte(e){var t=e.config;if(v9("invalid",e.markDef,t)){var n=function(e,t){var n=t.invalid,r=void 0!==n&&n,a=t.channels.reduce((function(t,n){var r=e.getScaleComponent(n);if(r){var a=r.get("type"),i=e.vgField(n,{expr:"datum"});i&&M6(a)&&(t[i]=!0)}return t}),{}),i=m1(a);if(i.length>0){var o=r?"||":"&&";return i.map((function(e){return X6(e,r)})).join(" ".concat(o," "))}return}(e,{channels:C3});if(n)return{defined:{signal:n}}}return{}}function gte(e,t){if(void 0!==t)return Object(Zi.a)({},e,f9(t))}var bte="voronoi",yte={has:function(e){return"interval"!==e.type&&e.nearest},parse:function(e,t){if(t.events){var n,r=Object(pr.a)(t.events);try{for(r.s();!(n=r.n()).done;){n.value.markname=e.getName(bte)}}catch(a){r.e(a)}finally{r.f()}}},marks:function(e,t,n){var r=t.project.hasChannel,a=r.x,i=r.y,o=e.mark;if(i2(o))return g5(x.nearestNotSupportForContinuous(o)),n;var u={name:e.getName(bte),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Xee(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:a||!i?"datum.datum.x || 0":"0"},y:{expr:i||!a?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]},s=0,c=!1;return n.forEach((function(t,n){var r,a=null!==(r=t.name)&&void 0!==r?r:"";a===e.component.mark[0].name?s=n:a.indexOf(bte)>=0&&(c=!0)})),c||n.splice(s+1,0,u),n}},xte=function(){function e(t,n){Object(Rb.a)(this,e),this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}return Object(Pb.a)(e,[{key:"clone",value:function(){throw new Error("Cannot clone node")}},{key:"parent",get:function(){return this._parent},set:function(e){this._parent=e,e&&e.addChild(this)}},{key:"children",get:function(){return this._children}},{key:"numChildren",value:function(){return this._children.length}},{key:"addChild",value:function(e,t){this._children.indexOf(e)>-1?console.warn("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,e):this._children.push(e)}},{key:"removeChild",value:function(e){var t=this._children.indexOf(e);return this._children.splice(t,1),t}},{key:"remove",value:function(){var e,t=this._parent.removeChild(this),n=Object(pr.a)(this._children);try{for(n.s();!(e=n.n()).done;){var r=e.value;r._parent=this._parent,this._parent.addChild(r,t++)}}catch(a){n.e(a)}finally{n.f()}}},{key:"insertAsParentOf",value:function(e){var t=e.parent;t.removeChild(this),this.parent=t,e.parent=this}},{key:"swapWithParent",value:function(){var e,t=this._parent,n=t.parent,r=Object(pr.a)(this._children);try{for(r.s();!(e=r.n()).done;){e.value.parent=t}}catch(a){r.e(a)}finally{r.f()}this._children=[],t.removeChild(this),t.parent.removeChild(t),this.parent=n,t.parent=this}}]),e}(),_te=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r,a,i){var o;return Object(Rb.a)(this,n),(o=t.call(this,e,r)).type=a,o.refCounts=i,o._source=o._name=r,o.refCounts&&!(o._name in o.refCounts)&&(o.refCounts[o._name]=0),o}return Object(Pb.a)(n,[{key:"clone",value:function(){var e=new this.constructor;return e.debugName="clone_"+this.debugName,e._source=this._source,e._name="clone_"+this._name,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return void 0===this._hash&&(this._hash="Output ".concat(T1())),this._hash}},{key:"getSource",value:function(){return this.refCounts[this._name]++,this._source}},{key:"isRequired",value:function(){return!!this.refCounts[this._name]}},{key:"setSource",value:function(e){this._source=e}}]),n}(xte),wte=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a;return Object(Rb.a)(this,n),(a=t.call(this,e)).formula=r,a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,t1(this.formula))}},{key:"merge",value:function(e){for(var t in this.formula=Object.assign({},this.formula),e.formula)this.formula[t]&&!e.formula[t].band||(this.formula[t]=e.formula[t]);var n,r=Object(pr.a)(e.children);try{for(r.s();!(n=r.n()).done;){var a=n.value;e.removeChild(a),a.parent=this}}catch(i){r.e(i)}finally{r.f()}e.remove()}},{key:"producedFields",value:function(){return new Set(g1(this.formula).map((function(e){return e.as})))}},{key:"dependentFields",value:function(){return new Set(g1(this.formula).map((function(e){return e.field})))}},{key:"hash",value:function(){return"TimeUnit ".concat(i1(this.formula))}},{key:"assemble",value:function(){var e,t=[],n=Object(pr.a)(g1(this.formula));try{for(n.s();!(e=n.n()).done;){var r=e.value,a=r.field,i=r.as,o=I5(r.timeUnit),u=o.unit,s=o.utc,c=W0(o,["unit","utc"]);t.push(Object.assign(Object.assign(Object.assign(Object.assign({field:C1(a),type:"timeunit"},u?{units:N5(u)}:{}),s?{timezone:"utc"}:{}),c),{as:[i,"".concat(i,"_end")]}))}}catch(l){n.e(l)}finally{n.f()}return t}}],[{key:"makeFromEncoding",value:function(e,t){var r=t.reduceFieldDef((function(e,n,r){var a=n.field,i=n.timeUnit,o=loe(t)?t.encoding[w3(r)]:void 0,u=loe(t)&&O8(r,n,o,t.stack,t.markDef,t.config);if(i){var s=L8(n,{forAs:!0});e[i1({as:s,field:a,timeUnit:i})]=Object.assign({as:s,field:a,timeUnit:i},u?{band:!0}:{})}return e}),{});return v1(r)?null:new n(e,r)}},{key:"makeFromTransform",value:function(e,t){var r=Object.assign({},t),a=r.timeUnit,i=W0(r,["timeUnit"]),o=I5(a),u=Object.assign(Object.assign({},i),{timeUnit:o});return new n(e,Object(Zi.a)({},i1(u),u))}}]),n}(xte),Ote="_tuple_fields",kte=function e(){Object(Rb.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.items=n,this.hasChannel={},this.hasField={}},jte={has:function(e){return"single"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!o7(e.bind)},parse:function(e,t,n,r){r.on||delete t.events,r.clear||delete t.clear},topLevelSignals:function(e,t,n){var r=t.name,a=t.project,i=t.bind,o=t.init&&t.init[0],u=yte.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return a.items.forEach((function(e,a){var s,c,l=x1("".concat(r,"_").concat(e.field));n.filter((function(e){return e.name===l})).length||n.unshift(Object.assign(Object.assign({name:l},o?{init:Vte(o[a])}:{value:null}),{on:t.events?[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? ".concat(u,"[").concat(L0(e.field),"] : null")}]:[],bind:null!==(c=null!==(s=i[e.field])&&void 0!==s?s:i[e.channel])&&void 0!==c?c:i}))})),n},signals:function(e,t,n){var r=t.name,a=t.project,i=n.filter((function(e){return e.name===r+ene}))[0],o=r+Ote,u=a.items.map((function(e){return x1("".concat(r,"_").concat(e.field))})),s=u.map((function(e){return"".concat(e," !== null")})).join(" && ");return u.length&&(i.update="".concat(s," ? {fields: ").concat(o,", values: [").concat(u.join(", "),"]} : null")),delete i.value,delete i.on,n}},Ete="_toggle",Cte={has:function(e){return"multi"===e.type&&!!e.toggle},signals:function(e,t,n){return n.concat({name:t.name+Ete,value:!1,on:[{events:t.events,update:t.toggle}]})},modifyExpr:function(e,t){var n=t.name+ene,r=t.name+Ete;return"".concat(r," ? null : ").concat(n,", ")+("global"===t.resolve?"".concat(r," ? null : true, "):"".concat(r," ? null : {unit: ").concat(one(e),"}, "))+"".concat(r," ? ").concat(n," : null")}},Ate={has:function(e){return void 0!==e.clear&&!1!==e.clear},parse:function(e,t,n){n.clear&&(t.clear=z0(n.clear)?hJ(n.clear,"scope"):n.clear)},topLevelSignals:function(e,t,n){if(jte.has(t)){var r,a=Object(pr.a)(t.project.items);try{var i=function(){var e=r.value,a=n.findIndex((function(n){return n.name===x1("".concat(t.name,"_").concat(e.field))}));-1!==a&&n[a].on.push({events:t.clear,update:"null"})};for(a.s();!(r=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}}return n},signals:function(e,t,n){function r(e,r){-1!==e&&n[e].on&&n[e].on.push({events:t.clear,update:r})}if("interval"===t.type){var a,i=Object(pr.a)(t.project.items);try{var o=function(){var e=a.value,t=n.findIndex((function(t){return t.name===e.signals.visual}));(r(t,"[0, 0]"),-1===t)&&r(n.findIndex((function(t){return t.name===e.signals.data})),"null")};for(i.s();!(a=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}}else{var u=n.findIndex((function(e){return e.name===t.name+ene}));r(u,"null"),Cte.has(t)&&r(u=n.findIndex((function(e){return e.name===t.name+Ete})),"false")}return n}},Ste={has:function(e){return"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind},parse:function(e,t){var n,r=t.scales=[],a=Object(pr.a)(t.project.items);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=i.channel;if(R3(o)){var u=e.getScaleComponent(o),s=u?u.get("type"):void 0;if(u&&M6(s)){var c={selection:t.name,field:i.field};u.set("selectionExtent",c,!0),r.push(i)}else g5(x.SCALE_BINDINGS_CONTINUOUS)}}}catch(l){a.e(l)}finally{a.f()}},topLevelSignals:function(e,t,n){var r=t.scales.filter((function(e){return 0===n.filter((function(t){return t.name===e.signals.data})).length}));if(!e.parent||Nte(e)||0===r.length)return n;var a=n.filter((function(e){return e.name===t.name}))[0],i=a.update;if(i.indexOf(nne)>=0)a.update="{".concat(r.map((function(e){return"".concat(L0(e.field),": ").concat(e.signals.data)})).join(", "),"}");else{var o,u=Object(pr.a)(r);try{for(u.s();!(o=u.n()).done;){var s=o.value,c="".concat(L0(s.field),": ").concat(s.signals.data);i.indexOf(c)<0&&(i="".concat(i.substring(0,i.length-1),", ").concat(c,"}"))}}catch(l){u.e(l)}finally{u.f()}a.update=i}return n.concat(r.map((function(e){return{name:e.signals.data}})))},signals:function(e,t,n){if(e.parent&&!Nte(e)){var r,a=Object(pr.a)(t.scales);try{var i=function(){var e=r.value,t=n.filter((function(t){return t.name===e.signals.data}))[0];t.push="outer",delete t.value,delete t.update};for(a.s();!(r=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}}return n}};function Dte(e,t){var n=L0(e.scaleName(t));return"domain(".concat(n,")")}function Nte(e){var t;return e.parent&&hoe(e.parent)&&(null!==(t=!e.parent.parent)&&void 0!==t?t:Nte(e.parent.parent))}var Fte={has:function(e){var t="global"===e.resolve&&e.bind&&o7(e.bind),n=1===e.project.items.length&&e.project.items[0].field!==a7;return t&&!n&&g5(x.LEGEND_BINDINGS_PROJECT_LENGTH),t&&n},parse:function(e,t,n,r){var a;if(r.on||delete t.events,r.clear||delete t.clear,r.on||r.clear){var i,o='event.item && indexof(event.item.mark.role, "legend") < 0',u=Object(pr.a)(t.events);try{for(u.s();!(i=u.n()).done;){var s=i.value;s.filter=T0(null!==(a=s.filter)&&void 0!==a?a:[]),s.filter.indexOf(o)<0&&s.filter.push(o)}}catch(f){u.e(f)}finally{u.f()}}var c=u7(t.bind)?t.bind.legend:"click",l=z0(c)?hJ(c,"view"):T0(c);t.bind={legend:{merge:l}}},topLevelSignals:function(e,t,n){var r,a=t.name,i=u7(t.bind)&&t.bind.legend,o=function(e){return function(t){var n=t1(t);return n.markname=e,n}},u=Object(pr.a)(t.project.items);try{var s=function(){var e=r.value;if(!e.hasLegend)return"continue";var u="".concat(x1(e.field),"_legend"),s="".concat(a,"_").concat(u);if(0===n.filter((function(e){return e.name===s})).length){var c=i.merge.map(o("".concat(u,"_symbols"))).concat(i.merge.map(o("".concat(u,"_labels")))).concat(i.merge.map(o("".concat(u,"_entries"))));n.unshift(Object.assign(Object.assign({name:s},t.init?{}:{value:null}),{on:[{events:c,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:"!event.item || !datum ? null : ".concat(s),force:!0}]}))}};for(u.s();!(r=u.n()).done;)s()}catch(c){u.e(c)}finally{u.f()}return n},signals:function(e,t,n){var r=t.name,a=t.project,i=n.find((function(e){return e.name===r+ene})),o=r+Ote,u=a.items.filter((function(e){return e.hasLegend})).map((function(e){return x1("".concat(r,"_").concat(x1(e.field),"_legend"))})),s=u.map((function(e){return"".concat(e," !== null")})).join(" && "),c="".concat(s," ? {fields: ").concat(o,", values: [").concat(u.join(", "),"]} : null");t.events&&u.length>0?i.on.push({events:u.map((function(e){return{signal:e}})),update:c}):u.length>0&&(i.update=c,delete i.value,delete i.on);var l=n.find((function(e){return e.name===r+Ete})),f=u7(t.bind)&&t.bind.legend;return l&&(t.events?l.on.push(Object.assign(Object.assign({},l.on[0]),{events:f})):l.on[0].events=f),n}};var Tte="_translate_anchor",Mte="_translate_delta",Ite={has:function(e){return"interval"===e.type&&e.translate},signals:function(e,t,n){var r=t.name,a=Ste.has(t),i=r+Tte,o=t.project.hasChannel,u=o.x,s=o.y,c=hJ(t.translate,"scope");return a||(c=c.map((function(e){return e.between[0].markname=r+Gte,e}))),n.push({name:i,value:{},on:[{events:c.map((function(e){return e.between[0]})),update:"{x: x(unit), y: y(unit)"+(void 0!==u?", extent_x: "+(a?Dte(e,A2):"slice(".concat(u.signals.visual,")")):"")+(void 0!==s?", extent_y: "+(a?Dte(e,S2):"slice(".concat(s.signals.visual,")")):"")+"}"}]},{name:r+Mte,value:{},on:[{events:c,update:"{x: ".concat(i,".x - x(unit), y: ").concat(i,".y - y(unit)}")}]}),void 0!==u&&Rte(e,t,u,"width",n),void 0!==s&&Rte(e,t,s,"height",n),n}};function Rte(e,t,n,r,a){var i,o=t.name,u=o+Tte,s=o+Mte,c=n.channel,l=Ste.has(t),f=a.filter((function(e){return e.name===n.signals[l?"data":"visual"]}))[0],d=e.getSizeSignalRef(r).signal,h=e.getScaleComponent(c),p=h.get("type"),v=l&&c===A2?"-":"",m="".concat(u,".extent_").concat(c),g="".concat(v).concat(s,".").concat(c," / ")+(l?"".concat(d):"span(".concat(m,")")),b="".concat(l?"log"===p?"panLog":"pow"===p?"panPow":"panLinear":"panLinear","(").concat(m,", ").concat(g)+(l&&"pow"===p?", ".concat(null!==(i=h.get("exponent"))&&void 0!==i?i:1):"")+")";f.on.push({events:{signal:s},update:l?b:"clampRange(".concat(b,", 0, ").concat(d,")")})}var Pte="_zoom_anchor",Bte="_zoom_delta",zte={has:function(e){return"interval"===e.type&&e.zoom},signals:function(e,t,n){var r=t.name,a=Ste.has(t),i=r+Bte,o=t.project.hasChannel,u=o.x,s=o.y,c=L0(e.scaleName(A2)),l=L0(e.scaleName(S2)),f=hJ(t.zoom,"scope");return a||(f=f.map((function(e){return e.markname=r+Gte,e}))),n.push({name:r+Pte,on:[{events:f,update:a?"{"+[c?"x: invert(".concat(c,", x(unit))"):"",l?"y: invert(".concat(l,", y(unit))"):""].filter((function(e){return!!e})).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:i,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==u&&Lte(e,t,u,"width",n),void 0!==s&&Lte(e,t,s,"height",n),n}};function Lte(e,t,n,r,a){var i,o=t.name,u=n.channel,s=Ste.has(t),c=a.filter((function(e){return e.name===n.signals[s?"data":"visual"]}))[0],l=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(u),d=f.get("type"),h=s?Dte(e,u):c.name,p=o+Bte,v="".concat(o).concat(Pte,".").concat(u),m="".concat(s?"log"===d?"zoomLog":"pow"===d?"zoomPow":"zoomLinear":"zoomLinear","(").concat(h,", ").concat(v,", ").concat(p)+(s&&"pow"===d?", ".concat(null!==(i=f.get("exponent"))&&void 0!==i?i:1):"")+")";c.on.push({events:{signal:p},update:s?m:"clampRange(".concat(m,", 0, ").concat(l,")")})}var Ute=[{has:function(){return!0},parse:function(e,t,n){var r,a,i,o=t.name,u=null!==(r=t.project)&&void 0!==r?r:t.project=new kte,s={},c={},l=new Set,f=function(e,t){for(var n="visual"===t?e.channel:e.field,r=x1("".concat(o,"_").concat(n)),a=1;l.has(r);a++)r=x1("".concat(o,"_").concat(n,"_").concat(a));return l.add(r),Object(Zi.a)({},t,r)};if(!n.fields&&!n.encodings){var d=e.config.selection[n.type];if(n.init){var h,p=Object(pr.a)(T0(n.init));try{for(p.s();!(h=p.n()).done;){var v,m=h.value,g=Object(pr.a)(m1(m));try{for(g.s();!(v=g.n()).done;){var b=v.value;m3[b]?(n.encodings||(n.encodings=[])).push(b):"interval"===n.type?(g5('Interval selections should be initialized using "x" and/or "y" keys.'),n.encodings=d.encodings):(n.fields||(n.fields=[])).push(b)}}catch(M){g.e(M)}finally{g.f()}}}catch(M){p.e(M)}finally{p.f()}}else n.encodings=d.encodings,n.fields=d.fields}var y,_=Object(pr.a)(null!==(a=n.fields)&&void 0!==a?a:[]);try{for(_.s();!(y=_.n()).done;){var w=y.value,O={type:"E",field:w};O.signals=Object.assign({},f(O,"data")),u.items.push(O),u.hasField[w]=O}}catch(M){_.e(M)}finally{_.f()}var k,j=Object(pr.a)(null!==(i=n.encodings)&&void 0!==i?i:[]);try{for(j.s();!(k=j.n()).done;){var E=k.value,C=e.fieldDef(E);if(C){var A=C.field;if(C.aggregate){g5(x.cannotProjectAggregate(E,C.aggregate));continue}if(!A){g5(x.cannotProjectOnChannelWithoutField(E));continue}if(C.timeUnit){A=e.vgField(E);var S={timeUnit:C.timeUnit,as:A,field:C.field};c[i1(S)]=S}if(!s[A]){var D="E";if("interval"===t.type)M6(e.getScaleComponent(E).get("type"))&&(D="R");else C.bin&&(D="R-RE");var N={field:A,channel:E,type:D};N.signals=Object.assign(Object.assign({},f(N,"data")),f(N,"visual")),u.items.push(s[A]=N),u.hasField[A]=u.hasChannel[E]=s[A]}}else g5(x.cannotProjectOnChannelWithoutField(E))}}catch(M){j.e(M)}finally{j.f()}if(n.init){var F=function(e){return u.items.map((function(t){return void 0!==e[t.channel]?e[t.channel]:e[t.field]}))};if("interval"===n.type)t.init=F(n.init);else{var T=T0(n.init);t.init=T.map(F)}}v1(c)||(u.timeUnit=new wte(null,c))},signals:function(e,t,n){var r=t.name+Ote;return n.filter((function(e){return e.name===r})).length>0?n:n.concat({name:r,value:t.project.items.map((function(e){e.signals,e.hasLegend;var t=W0(e,["signals","hasLegend"]);return t.field=C1(t.field),t}))})}},Cte,Ste,Fte,Ite,zte,jte,yte,Ate];function Wte(e,t){var n,r=Object(pr.a)(Ute);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.has(e)&&t(a)}}catch(i){r.e(i)}finally{r.f()}}function Vte(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j0;if(C0(e)){var r=e.map((function(e){return Vte(e,t,n)}));return t?"[".concat(r.join(", "),"]"):r}return b5(e)?n(t?k5(e):E5(e)):t?n(JSON.stringify(e)):e}function qte(e,t){return ane(e,(function(n,r){t=r.marks?r.marks(e,n,t):t,Wte(n,(function(r){r.marks&&(t=r.marks(e,n,t))}))})),t}function Hte(e){return e.map((function(e){return e.on&&!e.on.length&&delete e.on,e}))}var Gte="_brush",Kte="_scale_trigger",$te={signals:function(e,t){var n=t.name,r=n+Ote,a=Ste.has(t),i=[],o=[],u=[];if(t.translate&&!a){var s="!event.item || event.item.mark.name !== ".concat(L0(n+Gte));Xte(t,(function(e,t){var n,r=T0(null!==(n=t.between[0].filter)&&void 0!==n?n:t.between[0].filter=[]);return r.indexOf(s)<0&&r.push(s),e}))}t.project.items.forEach((function(n,r){var a=n.channel;if(a===A2||a===S2){var s=t.init?t.init[r]:null,c=function(e,t,n,r){var a=n.channel,i=n.signals.visual,o=n.signals.data,u=Ste.has(t),s=L0(e.scaleName(a)),c=e.getScaleComponent(a),l=c?c.get("type"):void 0,f=function(e){return"scale(".concat(s,", ").concat(e,")")},d=e.getSizeSignalRef(a===A2?"width":"height").signal,h="".concat(a,"(unit)"),p=Xte(t,(function(e,t){return[].concat(Object(Qi.a)(e),[{events:t.between[0],update:"[".concat(h,", ").concat(h,"]")},{events:t,update:"[".concat(i,"[0], clamp(").concat(h,", 0, ").concat(d,")]")}])}));return p.push({events:{signal:t.name+Kte},update:M6(l)?"[".concat(f("".concat(o,"[0]")),", ").concat(f("".concat(o,"[1]")),"]"):"[0, 0]"}),u?[{name:o,on:[]}]:[Object.assign(Object.assign({name:i},r?{init:Vte(r,!0,f)}:{value:[]}),{on:p}),Object.assign(Object.assign({name:o},r?{init:Vte(r)}:{}),{on:[{events:{signal:i},update:"".concat(i,"[0] === ").concat(i,"[1] ? null : invert(").concat(s,", ").concat(i,")")}]})]}(e,t,n,s),l=n.signals.data,f=n.signals.visual,d=L0(e.scaleName(a)),h=M6(e.getScaleComponent(a).get("type"))?"+":"";i.push.apply(i,Object(Qi.a)(c)),o.push(l),u.push({scaleName:e.scaleName(a),expr:"(!isArray(".concat(l,") || ")+"(".concat(h,"invert(").concat(d,", ").concat(f,")[0] === ").concat(h).concat(l,"[0] && ")+"".concat(h,"invert(").concat(d,", ").concat(f,")[1] === ").concat(h).concat(l,"[1]))")})}else g5("Interval selections only support x and y encoding channels.")})),a||i.push({name:n+Kte,value:{},on:[{events:u.map((function(e){return{scale:e.scaleName}})),update:u.map((function(e){return e.expr})).join(" && ")+" ? ".concat(n+Kte," : {}")}]});var c=t.init,l="unit: ".concat(one(e),", fields: ").concat(r,", values");return i.concat(Object.assign(Object.assign({name:n+ene},c?{init:"{".concat(l,": ").concat(Vte(c),"}")}:{}),{on:[{events:[{signal:o.join(" || ")}],update:o.join(" && ")+" ? {".concat(l,": [").concat(o,"]} : null")}]}))},modifyExpr:function(e,t){return t.name+ene+", "+("global"===t.resolve?"true":"{unit: ".concat(one(e),"}"))},marks:function(e,t,n){var r=t.name,a=t.project.hasChannel,i=a.x,o=a.y,u=i&&i.signals.visual,s=o&&o.signals.visual,c="data(".concat(L0(t.name+Zte),")");if(Ste.has(t))return n;var l={x:void 0!==i?{signal:"".concat(u,"[0]")}:{value:0},y:void 0!==o?{signal:"".concat(s,"[0]")}:{value:0},x2:void 0!==i?{signal:"".concat(u,"[1]")}:{field:{group:"width"}},y2:void 0!==o?{signal:"".concat(s,"[1]")}:{field:{group:"height"}}};if("global"===t.resolve){var f,d=Object(pr.a)(m1(l));try{for(d.s();!(f=d.n()).done;){var h=f.value;l[h]=[Object.assign({test:"".concat(c,".length && ").concat(c,"[0].unit === ").concat(one(e))},l[h]),{value:0}]}}catch(x){d.e(x)}finally{d.f()}}var p=t.mark,v=p.fill,m=p.fillOpacity,g=p.cursor,b=W0(p,["fill","fillOpacity","cursor"]),y=m1(b).reduce((function(e,t){return e[t]=[{test:[void 0!==i&&"".concat(u,"[0] !== ").concat(u,"[1]"),void 0!==o&&"".concat(s,"[0] !== ").concat(s,"[1]")].filter((function(e){return e})).join(" && "),value:b[t]},{value:null}],e}),{});return[{name:r+Gte+"_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:v},fillOpacity:{value:m}},update:l}}].concat(Object(Qi.a)(n),[{name:r+Gte,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},g?{cursor:{value:g}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},l),y)}}])}};function Xte(e,t){return e.events.reduce((function(e,n){return n.between?t(e,n):(g5("".concat(n," is not an ordered event stream for interval selections.")),e)}),[])}function Yte(e,t){var n=t.name,r=n+Ote,a=t.project,i="(item().isVoronoi ? datum.datum : datum)",o=a.items.map((function(t){var n=e.fieldDef(t.channel);return n&&n.bin?"[".concat(i,"[").concat(L0(e.vgField(t.channel,{})),"], ")+"".concat(i,"[").concat(L0(e.vgField(t.channel,{binSuffix:"end"})),"]]"):"".concat(i,"[").concat(L0(t.field),"]")})).join(", "),u="unit: ".concat(one(e),", fields: ").concat(r,", values"),s=t.events;return[{name:n+ene,on:s?[{events:s,update:"datum && item().mark.marktype !== 'group' ? {".concat(u,": [").concat(o,"]} : null"),force:!0}]:[]}]}var Jte={signals:Yte,modifyExpr:function(e,t){return t.name+ene+", "+("global"===t.resolve?"null":"{unit: ".concat(one(e),"}"))}},Qte={signals:Yte,modifyExpr:function(e,t){return t.name+ene+", "+("global"===t.resolve?"true":"{unit: ".concat(one(e),"}"))}},Zte="_store",ene="_tuple",tne="_modify",nne="vlSelectionResolve",rne={single:Qte,multi:Jte,interval:$te};function ane(e,t){var n=e.component.selection;if(n){var r,a=Object(pr.a)(g1(n));try{for(a.s();!(r=a.n()).done;){var i=r.value;if(!0===t(i,rne[i.type]))break}}catch(o){a.e(o)}finally{a.f()}}}function ine(e){for(var t=e.parent;t&&!foe(t);)t=t.parent;return t}function one(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{escape:!0},n=t.escape,r=n?L0(e.name):e.name,a=ine(e);if(a){var i,o=a.facet,u=Object(pr.a)(d3);try{for(u.s();!(i=u.n()).done;){var s=i.value;o[s]&&(r+=" + '__facet_".concat(s,"_' + (facet[").concat(L0(a.vgField(s)),"])"))}}catch(c){u.e(c)}finally{u.f()}}return r}function une(e){var t=!1;return ane(e,(function(e){t=t||e.project.items.some((function(e){return e.field===a7}))})),t}var sne,cne,lne,fne,dne,hne="RawCode",pne="Literal",vne="Property",mne="Identifier",gne="ArrayExpression",bne="BinaryExpression",yne="CallExpression",xne="ConditionalExpression",_ne="LogicalExpression",wne="MemberExpression",One="ObjectExpression",kne="UnaryExpression";function jne(e){this.type=e}jne.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case gne:return e.elements;case bne:case _ne:return[e.left,e.right];case yne:return[e.callee].concat(e.arguments);case xne:return[e.test,e.consequent,e.alternate];case wne:return[e.object,e.property];case One:return e.properties;case vne:return[e.key,e.value];case kne:return[e.argument];case mne:case pne:case hne:default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1};(sne={})[1]="Boolean",sne[2]="<end>",sne[3]="Identifier",sne[4]="Keyword",sne[5]="Null",sne[6]="Numeric",sne[7]="Punctuator",sne[8]="String",sne[9]="RegularExpression";var Ene="Identifier",Cne="Unexpected token %0",Ane="Invalid regular expression",Sne="Invalid regular expression: missing /",Dne="Octal literals are not allowed in strict mode.",Nne="ILLEGAL",Fne="Disabled.",Tne=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Mne=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Ine(e,t){if(!e)throw new Error("ASSERT: "+t)}function Rne(e){return e>=48&&e<=57}function Pne(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function Bne(e){return"01234567".indexOf(e)>=0}function zne(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function Lne(e){return 10===e||13===e||8232===e||8233===e}function Une(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&Tne.test(String.fromCharCode(e))}function Wne(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&Mne.test(String.fromCharCode(e))}var Vne={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function qne(){for(var e;lne<fne&&(zne(e=cne.charCodeAt(lne))||Lne(e));)++lne}function Hne(e){var t,n,r,a=0;for(n="u"===e?4:2,t=0;t<n;++t)lne<fne&&Pne(cne[lne])?(r=cne[lne++],a=16*a+"0123456789abcdef".indexOf(r.toLowerCase())):ure({},Cne,Nne);return String.fromCharCode(a)}function Gne(){var e,t,n,r;for(t=0,"}"===(e=cne[lne])&&ure({},Cne,Nne);lne<fne&&Pne(e=cne[lne++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&ure({},Cne,Nne),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function Kne(){var e,t;for(e=cne.charCodeAt(lne++),t=String.fromCharCode(e),92===e&&(117!==cne.charCodeAt(lne)&&ure({},Cne,Nne),++lne,(e=Hne("u"))&&"\\"!==e&&Une(e.charCodeAt(0))||ure({},Cne,Nne),t=e);lne<fne&&Wne(e=cne.charCodeAt(lne));)++lne,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==cne.charCodeAt(lne)&&ure({},Cne,Nne),++lne,(e=Hne("u"))&&"\\"!==e&&Wne(e.charCodeAt(0))||ure({},Cne,Nne),t+=e);return t}function $ne(){var e,t;return e=lne,{type:1===(t=92===cne.charCodeAt(lne)?Kne():function(){var e,t;for(e=lne++;lne<fne;){if(92===(t=cne.charCodeAt(lne)))return lne=e,Kne();if(!Wne(t))break;++lne}return cne.slice(e,lne)}()).length?3:Vne.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:lne}}function Xne(){var e,t,n,r,a=lne,i=cne.charCodeAt(lne),o=cne[lne];switch(i){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++lne,{type:7,value:String.fromCharCode(i),start:a,end:lne};default:if(61===(e=cne.charCodeAt(lne+1)))switch(i){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return lne+=2,{type:7,value:String.fromCharCode(i)+String.fromCharCode(e),start:a,end:lne};case 33:case 61:return lne+=2,61===cne.charCodeAt(lne)&&++lne,{type:7,value:cne.slice(a,lne),start:a,end:lne}}}return">>>="===(r=cne.substr(lne,4))?{type:7,value:r,start:a,end:lne+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:a,end:lne+=3}:o===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(o)>=0||"=>"===t?{type:7,value:t,start:a,end:lne+=2}:"<>=!+-*%&|^/".indexOf(o)>=0?{type:7,value:o,start:a,end:++lne}:void ure({},Cne,Nne)}function Yne(){var e,t,n;if(Ine(Rne((n=cne[lne]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=lne,e="","."!==n){if(e=cne[lne++],n=cne[lne],"0"===e){if("x"===n||"X"===n)return++lne,function(e){for(var t="";lne<fne&&Pne(cne[lne]);)t+=cne[lne++];return 0===t.length&&ure({},Cne,Nne),Une(cne.charCodeAt(lne))&&ure({},Cne,Nne),{type:6,value:parseInt("0x"+t,16),start:e,end:lne}}(t);if(Bne(n))return function(e){for(var t="0"+cne[lne++];lne<fne&&Bne(cne[lne]);)t+=cne[lne++];return(Une(cne.charCodeAt(lne))||Rne(cne.charCodeAt(lne)))&&ure({},Cne,Nne),{type:6,value:parseInt(t,8),octal:!0,start:e,end:lne}}(t);n&&Rne(n.charCodeAt(0))&&ure({},Cne,Nne)}for(;Rne(cne.charCodeAt(lne));)e+=cne[lne++];n=cne[lne]}if("."===n){for(e+=cne[lne++];Rne(cne.charCodeAt(lne));)e+=cne[lne++];n=cne[lne]}if("e"===n||"E"===n)if(e+=cne[lne++],"+"!==(n=cne[lne])&&"-"!==n||(e+=cne[lne++]),Rne(cne.charCodeAt(lne)))for(;Rne(cne.charCodeAt(lne));)e+=cne[lne++];else ure({},Cne,Nne);return Une(cne.charCodeAt(lne))&&ure({},Cne,Nne),{type:6,value:parseFloat(e),start:t,end:lne}}function Jne(){var e,t,n,r;return dne=null,qne(),e=lne,t=function(){var e,t,n,r;for(Ine("/"===(e=cne[lne]),"Regular expression literal must start with a slash"),t=cne[lne++],n=!1,r=!1;lne<fne;)if(t+=e=cne[lne++],"\\"===e)Lne((e=cne[lne++]).charCodeAt(0))&&ure({},Sne),t+=e;else if(Lne(e.charCodeAt(0)))ure({},Sne);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||ure({},Sne),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";lne<fne&&Wne((e=cne[lne]).charCodeAt(0));)++lne,"\\"===e&&lne<fne?ure({},Cne,Nne):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&ure({},Ane,n),{value:n,literal:t}}(),r=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";ure({},Ane)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(r){ure({},Ane)}try{return new RegExp(e,t)}catch(a){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:lne}}function Qne(){var e;return qne(),lne>=fne?{type:2,start:lne,end:lne}:Une(e=cne.charCodeAt(lne))?$ne():40===e||41===e||59===e?Xne():39===e||34===e?function(){var e,t,n,r,a="",i=!1;for(Ine("'"===(e=cne[lne])||'"'===e,"String literal must starts with a quote"),t=lne,++lne;lne<fne;){if((n=cne[lne++])===e){e="";break}if("\\"===n)if((n=cne[lne++])&&Lne(n.charCodeAt(0)))"\r"===n&&"\n"===cne[lne]&&++lne;else switch(n){case"u":case"x":"{"===cne[lne]?(++lne,a+=Gne()):a+=Hne(n);break;case"n":a+="\n";break;case"r":a+="\r";break;case"t":a+="\t";break;case"b":a+="\b";break;case"f":a+="\f";break;case"v":a+="\v";break;default:Bne(n)?(0!==(r="01234567".indexOf(n))&&(i=!0),lne<fne&&Bne(cne[lne])&&(i=!0,r=8*r+"01234567".indexOf(cne[lne++]),"0123".indexOf(n)>=0&&lne<fne&&Bne(cne[lne])&&(r=8*r+"01234567".indexOf(cne[lne++]))),a+=String.fromCharCode(r)):a+=n}else{if(Lne(n.charCodeAt(0)))break;a+=n}}return""!==e&&ure({},Cne,Nne),{type:8,value:a,octal:i,start:t,end:lne}}():46===e?Rne(cne.charCodeAt(lne+1))?Yne():Xne():Rne(e)?Yne():Xne()}function Zne(){var e;return lne=(e=dne).end,dne=Qne(),lne=e.end,e}function ere(){var e;e=lne,dne=Qne(),lne=e}function tre(e,t,n){var r=new jne("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function nre(e,t){var n=new jne("CallExpression");return n.callee=e,n.arguments=t,n}function rre(e){var t=new jne(Ene);return t.name=e,t}function are(e){var t=new jne("Literal");return t.value=e.value,t.raw=cne.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function ire(e,t,n){var r=new jne("MemberExpression");return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function ore(e,t,n){var r=new jne("Property");return r.key=t,r.value=n,r.kind=e,r}function ure(e,t){var n,r=Array.prototype.slice.call(arguments,2),a=t.replace(/%(\d)/g,(function(e,t){return Ine(t<r.length,"Message reference must be in range"),r[t]}));throw(n=new Error(a)).index=lne,n.description=a,n}function sre(e){2===e.type&&ure(e,"Unexpected end of input"),6===e.type&&ure(e,"Unexpected number"),8===e.type&&ure(e,"Unexpected string"),3===e.type&&ure(e,"Unexpected identifier"),4===e.type&&ure(e,"Unexpected reserved word"),ure(e,Cne,e.value)}function cre(e){var t=Zne();7===t.type&&t.value===e||sre(t)}function lre(e){return 7===dne.type&&dne.value===e}function fre(e){return 4===dne.type&&dne.value===e}function dre(){var e=[];for(lne=dne.start,cre("[");!lre("]");)lre(",")?(Zne(),e.push(null)):(e.push(kre()),lre("]")||cre(","));return Zne(),function(e){var t=new jne("ArrayExpression");return t.elements=e,t}(e)}function hre(){var e;return lne=dne.start,8===(e=Zne()).type||6===e.type?(e.octal&&ure(e,Dne),are(e)):rre(e.value)}function pre(){var e,t,n;return lne=dne.start,3===(e=dne).type?(n=hre(),cre(":"),ore("init",n,kre())):2!==e.type&&7!==e.type?(t=hre(),cre(":"),ore("init",t,kre())):void sre(e)}function vre(){var e,t,n=[],r={},a=String;for(lne=dne.start,cre("{");!lre("}");)t="$"+((e=pre()).key.type===Ene?e.key.name:a(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?ure({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,n.push(e),lre("}")||cre(",");return cre("}"),function(e){var t=new jne("ObjectExpression");return t.properties=e,t}(n)}var mre={if:1};function gre(){var e,t,n;if(lre("("))return function(){var e;return cre("("),e=jre(),cre(")"),e}();if(lre("["))return dre();if(lre("{"))return vre();if(e=dne.type,lne=dne.start,3===e||mre[dne.value])n=rre(Zne().value);else if(8===e||6===e)dne.octal&&ure(dne,Dne),n=are(Zne());else{if(4===e)throw new Error(Fne);1===e?((t=Zne()).value="true"===t.value,n=are(t)):5===e?((t=Zne()).value=null,n=are(t)):lre("/")||lre("/=")?(n=are(Jne()),ere()):sre(Zne())}return n}function bre(){var e=[];if(cre("("),!lre(")"))for(;lne<fne&&(e.push(kre()),!lre(")"));)cre(",");return cre(")"),e}function yre(){return cre("."),function(){var e;return lne=dne.start,function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e=Zne())||sre(e),rre(e.value)}()}function xre(){var e;return cre("["),e=jre(),cre("]"),e}function _re(){var e=function(){var e;for(e=gre();;)if(lre("."))e=ire(".",e,yre());else if(lre("("))e=nre(e,bre());else{if(!lre("["))break;e=ire("[",e,xre())}return e}();if(7===dne.type&&(lre("++")||lre("--")))throw new Error(Fne);return e}function wre(){var e,t;if(7!==dne.type&&4!==dne.type)t=_re();else{if(lre("++")||lre("--"))throw new Error(Fne);if(lre("+")||lre("-")||lre("~")||lre("!"))e=Zne(),t=wre(),t=function(e,t){var n=new jne("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(fre("delete")||fre("void")||fre("typeof"))throw new Error(Fne);t=_re()}}return t}function Ore(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function kre(){var e,t;return e=function(){var e,t,n,r,a,i,o,u,s,c;if(e=dne,s=wre(),0===(a=Ore(r=dne)))return s;for(r.prec=a,Zne(),t=[e,dne],i=[s,r,o=wre()];(a=Ore(dne))>0;){for(;i.length>2&&a<=i[i.length-2].prec;)o=i.pop(),u=i.pop().value,s=i.pop(),t.pop(),n=tre(u,s,o),i.push(n);(r=Zne()).prec=a,i.push(r),t.push(dne),n=wre(),i.push(n)}for(n=i[c=i.length-1],t.pop();c>1;)t.pop(),n=tre(i[c-1].value,i[c-2],n),c-=2;return n}(),lre("?")&&(Zne(),t=kre(),cre(":"),e=function(e,t,n){var r=new jne("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,kre())),e}function jre(){var e=kre();if(lre(","))throw new Error(Fne);return e}function Ere(e){var t=[];return"Identifier"===e.type?[e.name]:"Literal"===e.type?[e.value]:("MemberExpression"===e.type&&(t.push.apply(t,Object(Qi.a)(Ere(e.object))),t.push.apply(t,Object(Qi.a)(Ere(e.property)))),t)}function Cre(e){return"MemberExpression"===e.object.type?Cre(e.object):"datum"===e.object.name}function Are(e){var t=function(e){lne=0,fne=(cne=e).length,dne=null,ere();var t=jre();if(2!==dne.type)throw new Error("Unexpect token after expression.");return t}(e),n=new Set;return t.visit((function(e){"MemberExpression"===e.type&&Cre(e)&&n.add(Ere(e).slice(1).join("."))})),n}var Sre=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r,a){var i;return Object(Rb.a)(this,n),(i=t.call(this,e)).model=r,i.filter=a,i.expr=Fre(i.model,i.filter,Object(fee.a)(i)),i._dependentFields=Are(i.expr),i}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,this.model,t1(this.filter))}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"producedFields",value:function(){return new Set}},{key:"assemble",value:function(){return{type:"filter",expr:this.expr}}},{key:"hash",value:function(){return"Filter ".concat(this.expr)}}]),n}(xte);function Dre(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"datum",a=[];function i(t){var i=x1(t),o=e.getSelectionComponent(i,t),u=L0(i+Zte);if(o.project.timeUnit){var s=null!==n&&void 0!==n?n:e.component.data.raw,c=o.project.timeUnit.clone();s.parent?c.insertAsParentOf(s):s.parent=c}return"none"!==o.empty&&a.push(u),"vlSelectionTest(".concat(u,", ").concat(r)+("global"===o.resolve?")":", ".concat(L0(o.resolve),")"))}var o=_1(t,i);return(a.length?"!("+a.map((function(e){return"length(data(".concat(e,"))")})).join(" || ")+") || ":"")+"(".concat(o,")")}function Nre(e,t){var n=t.encoding,r=t.field;if(n||r){if(n&&!r){var a=e.project.items.filter((function(e){return e.channel===n}));!a.length||a.length>1?(r=e.project.items[0].field,g5((a.length?"Multiple ":"No ")+"matching ".concat(L0(n)," encoding found for selection ").concat(L0(t.selection),". ")+'Using "field": '.concat(L0(r),"."))):r=a[0].field}}else r=e.project.items[0].field,e.project.items.length>1&&g5('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(L0(r),"."));return"".concat(e.name,"[").concat(L0(r),"]")}function Fre(e,t,n){return _1(t,(function(t){return z0(t)?t:function(e){return null===e||void 0===e?void 0:e.selection}(t)?Dre(e,t.selection,n):e6(t)}))}function Tre(e,t){if(e)return C0(e)&&!l9(e)?e.map((function(e){return Y8(e,t)})).join(", "):e}function Mre(e,t,n,r){var a,i,o;e.encode=null!==(a=e.encode)&&void 0!==a?a:{},e.encode[t]=null!==(i=e.encode[t])&&void 0!==i?i:{},e.encode[t].update=null!==(o=e.encode[t].update)&&void 0!==o?o:{},e.encode[t].update[n]=r}function Ire(e,t,n){var r,a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{header:!1},o=e.combine(),u=o.disable,s=o.orient,c=o.scale,l=o.labelExpr,f=o.title,d=o.zindex,h=W0(o,["disable","orient","scale","labelExpr","title","zindex"]);if(!u){for(var p in h){var v=L1[p],m=h[p];if(v&&v!==t&&"both"!==v)delete h[p];else if(B1(m)){var g=m.condition,b=W0(m,["condition"]),y=T0(g),x=P1[p];if(x){var _=x.vgProp,w=x.part,O=[].concat(Object(Qi.a)(y.map((function(e){var t=e.test,n=W0(e,["test"]);return Object.assign({test:Fre(null,t)},n)}))),[b]);Mre(h,w,_,O),delete h[p]}else if(null===x){var k={signal:y.map((function(e){var t=e.test,n=W0(e,["test"]);return"".concat(Fre(null,t)," ? ").concat(d9(n)," : ")})).join("")+d9(b)};h[p]=k}}else if(P5(m)){var j=P1[p];if(j){var E=j.vgProp,C=j.part;Mre(h,C,E,m),delete h[p]}}}if("grid"===t){if(!h.grid)return;if(h.encode){var A=h.encode.grid;h.encode=Object.assign({},A?{grid:A}:{}),v1(h.encode)&&delete h.encode}return Object.assign(Object.assign({scale:c,orient:s},h),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:N1(d,0)})}if(i.header||!e.mainExtracted){if(void 0!==l){var S=l;(null===(a=null===(r=h.encode)||void 0===r?void 0:r.labels)||void 0===a?void 0:a.update)&&P5(h.encode.labels.update.text)&&(S=A1(l,"datum.label",h.encode.labels.update.text.signal)),Mre(h,"labels","text",{signal:S})}if(null===h.labelAlign&&delete h.labelAlign,h.encode){var D,N=Object(pr.a)(z1);try{for(N.s();!(D=N.n()).done;){var F=D.value;e.hasAxisPart(F)||delete h.encode[F]}}catch(M){N.e(M)}finally{N.f()}v1(h.encode)&&delete h.encode}var T=Tre(f,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:c,orient:s,grid:!1},T?{title:T}:{}),h),!1===n.aria?{aria:!1}:{}),{zindex:N1(d,0)})}}}function Rre(e){var t,n=e.component.axes,r=[],a=Object(pr.a)(C3);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(n[i]){var o,u=Object(pr.a)(n[i]);try{for(u.s();!(o=u.n()).done;){var s=o.value;if(!s.get("disable")&&!s.get("gridScale")){var c="x"===i?"height":"width",l=e.getSizeSignalRef(c).signal;c!==l&&r.push({name:c,update:l})}}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){a.e(f)}finally{a.f()}return r}var Pre={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Bre={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},zre=m1(Pre),Lre=m1(Bre);function Ure(e,t,n,r){return Object.assign.apply(null,[{}].concat(Object(Qi.a)(e.map((function(e){if("axisOrient"===e){var a,i="x"===n?"bottom":"left",o=t["x"===n?"axisBottom":"axisLeft"]||{},u=t["x"===n?"axisTop":"axisRight"]||{},s=new Set([].concat(Object(Qi.a)(m1(o)),Object(Qi.a)(m1(u)))),c={},l=Object(pr.a)(s.values());try{for(l.s();!(a=l.n()).done;){var f=a.value;c[f]={signal:"".concat(r.signal,' === "').concat(i,'" ? ').concat(h9(o[f])," : ").concat(h9(u[f]))}}}catch(d){l.e(d)}finally{l.f()}return c}return t[e]})))))}function Wre(e,t,n,r){var a="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:t in S6?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[],i="x"===e?"axisX":"axisY",o=P5(n)?"axisOrient":"axis"+O1(n),u=[].concat(a,Object(Qi.a)(a.map((function(e){return i+e.substr(4)})))),s=["axis",o,i];return{vlOnlyAxisConfig:Ure(u,r,e,n),vgAxisConfig:Ure(s,r,e,n),axisConfigStyle:Vre([].concat(s,Object(Qi.a)(u)),r)}}function Vre(e,t){var n,r,a=[{}],i=Object(pr.a)(e);try{for(i.s();!(r=i.n()).done;){var o=null===(n=t[r.value])||void 0===n?void 0:n.style;if(o){o=T0(o);var u,s=Object(pr.a)(o);try{for(s.s();!(u=s.n()).done;){var c=u.value;a.push(t.style[c])}}catch(l){s.e(l)}finally{s.f()}}}}catch(l){i.e(l)}finally{i.f()}return Object.assign.apply(null,a)}function qre(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=b9(e,n,t.style);if(void 0!==i)return{configFrom:"style",configValue:i};for(var o=0,u=["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"];o<u.length;o++){var s=u[o];if(void 0!==(null===(r=a[s])||void 0===r?void 0:r[e]))return{configFrom:s,configValue:a[s][e]}}return{}}var Hre={scale:function(e){var t=e.model,n=e.channel;return t.scaleName(n)},format:function(e){var t=e.fieldOrDatumDef,n=e.config,r=e.axis,a=r.format,i=r.formatType;return i8(t,t.type,a,i,n,!0)},formatType:function(e){var t=e.axis,n=e.fieldOrDatumDef,r=e.scaleType,a=t.formatType;return o8(a,n,r)},grid:function(e){var t,n=e.fieldOrDatumDef,r=e.axis,a=e.scaleType;return(!C8(n)||!V3(n.bin))&&(null!==(t=r.grid)&&void 0!==t?t:function(e,t){return!T6(e)&&C8(t)&&!W3(null===t||void 0===t?void 0:t.bin)}(a,n))},gridScale:function(e){return function(e,t){var n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n);return}(e.model,e.channel)},labelAlign:function(e){var t=e.axis,n=e.labelAngle,r=e.orient,a=e.channel;return t.labelAlign||$re(n,r,a)},labelAngle:function(e){return e.labelAngle},labelBaseline:function(e){var t=e.axis,n=e.labelAngle,r=e.orient,a=e.channel;return t.labelBaseline||Kre(n,r,a)},labelFlush:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,a=e.channel;return null!==(t=n.labelFlush)&&void 0!==t?t:function(e,t){if("x"===t&&u1(["quantitative","temporal"],e))return!0;return}(r.type,a)},labelOverlap:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,a=e.scaleType;return null!==(t=n.labelOverlap)&&void 0!==t?t:function(e,t){if("nominal"!==e)return"log"!==t||"greedy";return}(r.type,a)},orient:function(e){return e.orient},tickCount:function(e){var t,n=e.channel,r=e.model,a=e.axis,i=e.fieldOrDatumDef,o=e.scaleType,u="x"===n?"width":"y"===n?"height":void 0,s=u?r.getSizeSignalRef(u):void 0;return null!==(t=a.tickCount)&&void 0!==t?t:function(e){var t,n=e.fieldOrDatumDef,r=e.scaleType,a=e.size;if(!e.values&&!T6(r)&&"log"!==r){if(C8(n)){if(W3(n.bin))return{signal:"ceil(".concat(a.signal,"/10)")};if(n.timeUnit&&u1(["month","hours","day","quarter"],null===(t=I5(n.timeUnit))||void 0===t?void 0:t.unit))return}return{signal:"ceil(".concat(a.signal,"/40)")}}return}({fieldOrDatumDef:i,scaleType:o,size:s,values:a.values})},title:function(e){var t=e.axis,n=e.model,r=e.channel;if(void 0!==t.title)return t.title;var a=Xre(n,r);if(void 0!==a)return a;var i=n.typedFieldDef(r),o="x"===r?"x2":"y2",u=n.fieldDef(o);return x9(i?[x8(i)]:[],C8(u)?[x8(u)]:[])},values:function(e){return function(e,t){var n=e.values;if(C0(n))return u9(t,n);if(P5(n))return n;return}(e.axis,e.fieldOrDatumDef)},zindex:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,a=e.mark;return null!==(t=n.zindex)&&void 0!==t?t:function(e,t){if("rect"===e&&U8(t))return 1;return 0}(a,r)}};function Gre(e){return"(((".concat(e.signal," % 360) + 360) % 360)")}function Kre(e,t,n,r){if(void 0!==e){if("x"===n){if(P5(e)){var a=Gre(e),i=P5(t)?"(".concat(t.signal,' === "top")'):"top"===t;return{signal:"(45 < ".concat(a," && ").concat(a," < 135) || (225 < ").concat(a," && ").concat(a,' < 315) ? "middle" :')+"(".concat(a," <= 45 || 315 <= ").concat(a,") === ").concat(i,' ? "bottom" : "top"')}}if(45<e&&e<135||225<e&&e<315)return"middle";if(P5(t)){var o=e<=45||315<=e?"===":"!==";return{signal:"".concat(t.signal," ").concat(o,' "top" ? "bottom" : "top"')}}return(e<=45||315<=e)===("top"===t)?"bottom":"top"}if(P5(e)){var u=Gre(e),s=P5(t)?"(".concat(t.signal,' === "left")'):"left"===t,c=r?'"middle"':"null";return{signal:"".concat(u," <= 45 || 315 <= ").concat(u," || (135 <= ").concat(u," && ").concat(u," <= 225) ? ").concat(c," : (45 <= ").concat(u," && ").concat(u," <= 135) === ").concat(s,' ? "top" : "bottom"')}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(P5(t)){var l=45<=e&&e<=135?"===":"!==";return{signal:"".concat(t.signal," ").concat(l,' "left" ? "top" : "bottom"')}}return(45<=e&&e<=135)===("left"===t)?"top":"bottom"}}function $re(e,t,n){if(void 0!==e){var r="x"===n,a=r?0:90,i=r?"bottom":"left";if(P5(e)){var o=Gre(e),u=P5(t)?"(".concat(t.signal,' === "').concat(i,'")'):t===i;return{signal:"(".concat(a?"("+o+" + 90)":o," % 180 === 0) ? ").concat(r?null:'"center"'," :")+"(".concat(a," < ").concat(o," && ").concat(o," < ").concat(180+a,") === ").concat(u,' ? "left" : "right"')}}if((e+a)%180===0)return r?null:"center";if(P5(t)){var s=a<e&&e<180+a?"===":"!==",c="".concat(t.signal," ").concat(s,' "').concat(i,'"');return{signal:"".concat(c,' ? "left" : "right"')}}return(a<e&&e<180+a)===(t===i)?"left":"right"}}function Xre(e,t){var n="x"===t?"x2":"y2",r=e.fieldDef(t),a=e.fieldDef(n),i=r?r.title:void 0,o=a?a.title:void 0;return i&&o?_9(i,o):i||(o||(void 0!==i?i:void 0!==o?o:void 0))}var Yre=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a;return Object(Rb.a)(this,n),(a=t.call(this,e)).transform=r,a._dependentFields=Are(a.transform.calculate),a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,t1(this.transform))}},{key:"producedFields",value:function(){return new Set([this.transform.as])}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"assemble",value:function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}},{key:"hash",value:function(){return"Calculate ".concat(i1(this.transform))}}],[{key:"parseAllForSortIndex",value:function(e,t){return t.forEachFieldDef((function(t,r){if(I8(t)&&m8(t.sort)){var a=t.field,i=t.timeUnit,o=t.sort,u=o.map((function(e,t){return"".concat(e6({field:a,timeUnit:i,equal:e})," ? ").concat(t," : ")})).join("")+o.length;e=new n(e,{calculate:u,as:Jre(t,r,{forAs:!0})})}})),e}}]),n}(xte);function Jre(e,t,n){return L8(e,Object.assign({prefix:t,suffix:"sort_index"},null!==n&&void 0!==n?n:{}))}function Qre(e,t){return u1(["top","bottom"],t)?"column":u1(["left","right"],t)||"row"===e?"row":"column"}function Zre(e,t,n,r){var a="row"===r?n.headerRow:"column"===r?n.headerColumn:n.headerFacet;return N1(((null===t||void 0===t?void 0:t.header)||{})[e],a[e],n.header[e])}function eae(e,t,n,r){var a,i={},o=Object(pr.a)(e);try{for(o.s();!(a=o.n()).done;){var u=a.value,s=Zre(u,t,n,r);void 0!==s&&(i[u]=s)}}catch(c){o.e(c)}finally{o.f()}return i}var tae=["row","column"],nae=["header","footer"];function rae(e,t){var n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,a=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,i=eae(["titleAnchor","titleAngle","titleOrient"],a,r,t),o=i.titleAnchor,u=i.titleAngle,s=Qre(t,i.titleOrient),c=I1(u);return{name:"".concat(t,"-title"),type:"group",role:"".concat(s,"-title"),title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},"row"===t?{orient:"left"}:{}),{style:"guide-title"}),iae(c,s)),aae(s,c,o)),dae(r,a,t,zre,Pre))}}function aae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"middle";switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}var r=$re(t,"row"===e?"left":"top","row"===e?"y":"x");return r?{align:r}:{}}function iae(e,t){var n=Kre(e,"row"===t?"left":"top","row"===t?"y":"x",!0);return n?{baseline:n}:{}}function oae(e,t){var n,r=e.component.layoutHeaders[t],a=[],i=Object(pr.a)(nae);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(r[o]){var u,s=Object(pr.a)(r[o]);try{for(s.s();!(u=s.n()).done;){var c=cae(e,t,o,r,u.value);null!=c&&a.push(c)}}catch(l){s.e(l)}finally{s.f()}}}}catch(l){i.e(l)}finally{i.f()}return a}function uae(e,t){var n,r=e.sort;return v8(r)?{field:L8(r,{expr:"datum"}),order:null!==(n=r.order)&&void 0!==n?n:"ascending"}:C0(r)?{field:Jre(e,t,{expr:"datum"}),order:"ascending"}:{field:L8(e,{expr:"datum"}),order:null!==r&&void 0!==r?r:"ascending"}}function sae(e,t,n){var r=eae(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e,n,t),a=r.format,i=r.formatType,o=r.labelAngle,u=r.labelAnchor,s=r.labelOrient,c=r.labelExpr,l=n8({fieldOrDatumDef:e,format:a,formatType:i,expr:"parent",config:n}).signal,f=Qre(t,s);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:c?A1(A1(c,"datum.label",l),"datum.value",L8(e,{expr:"parent"})):l}},"row"===t?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),iae(o,f)),aae(f,o,u)),dae(n,e,t,Lre,Bre))}function cae(e,t,n,r,a){if(a){var i=null,o=r.facetFieldDef,u=e.config?e.config:void 0;if(o&&a.labels){var s=eae(["labelOrient"],o,u,t).labelOrient;("row"===t&&!u1(["top","bottom"],s)||"column"===t&&!u1(["left","right"],s))&&(i=sae(o,t,u))}var c=foe(e)&&!g8(e.facet),l=a.axes,f=(null===l||void 0===l?void 0:l.length)>0;if(i||f){var d="row"===t?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("".concat(t,"_").concat(n)),type:"group",role:"".concat(t,"-").concat(n)},r.facetFieldDef?{from:{data:e.getName(t+"_domain")},sort:uae(o,t)}:{}),f&&c?{from:{data:e.getName("facet_domain_".concat(t))}}:{}),i?{title:i}:{}),a.sizeSignal?{encode:{update:Object(Zi.a)({},d,a.sizeSignal)}}:{}),f?{axes:l}:{})}}return null}var lae={column:{start:0,end:1},row:{start:1,end:0}};function fae(e,t){return lae[t][e]}function dae(e,t,n,r,a){var i,o={},u=Object(pr.a)(r);try{for(u.s();!(i=u.n()).done;){var s=i.value;if(a[s]){var c=Zre(s,t,e,n);void 0!==c&&(o[a[s]]=c)}}}catch(l){u.e(l)}finally{u.f()}return o}function hae(e){return[].concat(Object(Qi.a)(pae(e,"width")),Object(Qi.a)(pae(e,"height")),Object(Qi.a)(pae(e,"childWidth")),Object(Qi.a)(pae(e,"childHeight")))}function pae(e,t){var n="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];var a=e.getSizeSignalRef(t).signal;if("step"===r){var i=e.getScaleComponent(n);if(i){var o=i.get("type"),u=i.get("range");if(T6(o)&&B5(u)){var s=e.scaleName(n);if(foe(e.parent))if("independent"===e.parent.component.resolve.scale[n])return[vae(s,u)];return[vae(s,u),{name:a,update:mae(s,i,"domain('".concat(s,"').length"))}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){var c=a.endsWith("width"),l=c?"containerSize()[0]":"containerSize()[1]",f=p7(e.config.view,c?"width":"height"),d="isFinite(".concat(l,") ? ").concat(l," : ").concat(f);return[{name:a,init:d,on:[{update:d,events:"window:resize"}]}]}return[{name:a,value:r}]}function vae(e,t){return{name:e+"_step",value:t.step}}function mae(e,t,n){var r=t.get("type"),a=t.get("padding"),i=N1(t.get("paddingOuter"),a),o=t.get("paddingInner");return o="band"===r?void 0!==o?o:a:1,"bandspace(".concat(n,", ").concat(o,", ").concat(i,") * ").concat(e,"_step")}function gae(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function bae(e,t){return m1(e).reduce((function(n,r){var a=e[r];return Object.assign(Object.assign({},n),Gee(t,a,r,(function(e){return P5(e)?e:{value:e.value}})))}),{})}function yae(e,t){if(hoe(t)||foe(t))return"shared";if(doe(t))return A3(e)?"independent":"shared";throw new Error("invalid model type for resolve")}function xae(e,t){var n=e.scale[t],r=A3(t)?"axis":"legend";return"independent"===n?("shared"===e[r][t]&&g5(x.independentScaleMeansIndependentGuide(t)),"independent"):e[r][t]||"shared"}var _ae=Object.assign(Object.assign({},r7),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),wae=m1(_ae),Oae=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(){return Object(Rb.a)(this,n),t.apply(this,arguments)}return n}(dee),kae={symbols:function(e,t){var n,r,a,i,o,u=t.fieldOrDatumDef,s=t.model,c=t.channel,l=t.legendCmpt;if("symbol"!==t.legendType)return;var f=s.markDef,d=s.encoding,h=s.config,p=s.mark,v=f.filled&&"trail"!==p,m=Object.assign(Object.assign({},function(e,t,n){var r,a=Object(pr.a)(n);try{for(a.s();!(r=a.n()).done;){var i=r.value,o=m9(i,t.markDef,t.config);void 0!==o&&(e[i]=f9(o))}}catch(u){a.e(u)}finally{a.f()}return e}({},s,c2)),ete(s,{filled:v})),g=null!==(n=jae(d.opacity))&&void 0!==n?n:f.opacity;if(m.fill)if("fill"===c||v&&c===L2)delete m.fill;else if(m.fill.field)l.get("symbolFillColor")?delete m.fill:(m.fill=f9(null!==(r=h.legend.symbolBaseFillColor)&&void 0!==r?r:"black"),m.fillOpacity=f9(null!==g&&void 0!==g?g:1));else if(C0(m.fill)){var b=null!==(o=null!==(i=Eae(null!==(a=d.fill)&&void 0!==a?a:d.color))&&void 0!==i?i:f.fill)&&void 0!==o?o:v&&f.color;b&&(m.fill=f9(b))}if(m.stroke)if("stroke"===c||!v&&c===L2)delete m.stroke;else if(m.stroke.field)delete m.stroke;else if(C0(m.stroke)){var y=N1(Eae(d.stroke||d.color),f.stroke,v?f.color:void 0);y&&(m.stroke={value:y})}if(c!==G2){var x=C8(u)&&Aae(s,l,u);x?m.opacity=[Object.assign({test:x},f9(null!==g&&void 0!==g?g:1)),f9(h.legend.unselectedOpacity)]:g&&(m.opacity=f9(g))}return v1(m=Object.assign(Object.assign({},m),e))?void 0:m},gradient:function(e,t){var n=t.model;if("gradient"!==t.legendType)return;var r={},a=jae(n.encoding.opacity)||n.markDef.opacity;a&&(r.opacity=f9(a));return v1(r=Object.assign(Object.assign({},r),e))?void 0:r},labels:function(e,t){var n=t.fieldOrDatumDef,r=t.model,a=t.channel,i=t.legendCmpt,o=r.legend(a)||{},u=r.config,s=C8(n)?Aae(r,i,n):void 0,c=s?[{test:s,value:1},{value:u.legend.unselectedOpacity}]:void 0,l=o.format,f=o.formatType,d=e8(f)?a8({fieldOrDatumDef:n,field:"datum.value",format:l,formatType:f,config:u}):void 0,h=Object.assign(Object.assign(Object.assign({},c?{opacity:c}:{}),d?{text:d}:{}),e);return v1(h)?void 0:h},entries:function(e,t){var n=t.legendCmpt.get("selections");return(null===n||void 0===n?void 0:n.length)?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}};function jae(e){return Cae(e,(function(e,t){return Math.max(e,t.value)}))}function Eae(e){return Cae(e,(function(e,t){return N1(e,t.value)}))}function Cae(e,t){return function(e){var t=e&&e.condition;return!!t&&(C0(t)||M8(t))}(e)?T0(e.condition).reduce(t,e.value):M8(e)?e.value:void 0}function Aae(e,t,n){var r=t.get("selections");if(null===r||void 0===r?void 0:r.length){var a=L0(n.field);return r.map((function(e){var t=L0(x1(e)+Zte);return"(!length(data(".concat(t,")) || (").concat(e,"[").concat(a,"] && indexof(").concat(e,"[").concat(a,"], datum.value) >= 0))")})).join(" || ")}}var Sae={direction:function(e){return e.direction},format:function(e){var t=e.fieldOrDatumDef,n=e.legend,r=e.config,a=n.format,i=n.formatType;return i8(t,t.type,a,i,r,!1)},formatType:function(e){var t=e.legend,n=e.fieldOrDatumDef,r=e.scaleType,a=t.formatType;return o8(a,n,r)},gradientLength:function(e){var t,n,r=e.legend,a=e.legendConfig;return null!==(n=null!==(t=r.gradientLength)&&void 0!==t?t:a.gradientLength)&&void 0!==n?n:function(e){var t=e.legendConfig,n=e.model,r=e.direction,a=e.orient,i=e.scaleType,o=t.gradientHorizontalMaxLength,u=t.gradientHorizontalMinLength,s=t.gradientVerticalMaxLength,c=t.gradientVerticalMinLength;if(I6(i))return"horizontal"===r?"top"===a||"bottom"===a?Fae(n,"width",u,o):u:Fae(n,"height",c,s);return}(e)},labelOverlap:function(e){var t,n,r=e.legend,a=e.legendConfig,i=e.scaleType;return null!==(n=null!==(t=r.labelOverlap)&&void 0!==t?t:a.labelOverlap)&&void 0!==n?n:function(e){if(u1(["quantile","threshold","log"],e))return"greedy";return}(i)},symbolType:function(e){var t,n=e.legend,r=e.markDef,a=e.channel,i=e.encoding;return null!==(t=n.symbolType)&&void 0!==t?t:function(e,t,n,r){var a;if("shape"!==t){var i=null!==(a=Eae(n))&&void 0!==a?a:r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(r.type,a,i.shape,r.shape)},title:function(e){return $8(e.fieldOrDatumDef,e.config,{allowDisabling:!0})},type:function(e){var t=e.legendType,n=e.scaleType;if(l3(e.channel)&&I6(n)){if("gradient"===t)return}else if("symbol"===t)return;return t},values:function(e){var t=e.fieldOrDatumDef;return function(e,t){var n=e.values;if(C0(n))return u9(t,n);if(P5(n))return n;return}(e.legend,t)}};function Dae(e){return N1(e.legend.type,function(e){var t=e.channel,n=e.timeUnit,r=e.scaleType;if(l3(t)){if(u1(["quarter","month","day"],n))return"symbol";if(I6(r))return"gradient"}return"symbol"}(e))}function Nae(e){var t,n,r=e.legendConfig,a=e.legendType,i=e.orient;return null!==(n=null!==(t=e.legend.direction)&&void 0!==t?t:r[a?"gradientDirection":"symbolDirection"])&&void 0!==n?n:function(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(i,a)}function Fae(e,t,n,r){var a=e.getSizeSignalRef(t).signal;return{signal:"clamp(".concat(a,", ").concat(n,", ").concat(r,")")}}function Tae(e){var t=loe(e)?function(e){for(var t=e.encoding,n={},r=0,a=[L2].concat(Object(Qi.a)(t7));r<a.length;r++){var i=a[r],o=Z8(t[i]);o&&e.getScaleComponent(i)&&(i===V2&&C8(o)&&o.type===s6||(n[i]=Iae(e,i)))}return n}(e):function(e){var t,n=e.component,r=n.legends,a=n.resolve,i=Object(pr.a)(e.children);try{for(i.s();!(t=i.n()).done;){var o=t.value;Tae(o);var u,s=Object(pr.a)(m1(o.component.legends));try{for(s.s();!(u=s.n()).done;){var c=u.value;a.legend[c]=xae(e.component.resolve,c),"shared"===a.legend[c]&&(r[c]=Rae(r[c],o.component.legends[c]),r[c]||(a.legend[c]="independent",delete r[c]))}}catch(m){s.e(m)}finally{s.f()}}}catch(m){i.e(m)}finally{i.f()}var l,f=Object(pr.a)(m1(r));try{for(f.s();!(l=f.n()).done;){var d,h=l.value,p=Object(pr.a)(e.children);try{for(p.s();!(d=p.n()).done;){var v=d.value;v.component.legends[h]&&("shared"===a.legend[h]&&delete v.component.legends[h])}}catch(m){p.e(m)}finally{p.f()}}}catch(m){f.e(m)}finally{f.f()}return r}(e);return e.component.legends=t,t}function Mae(e,t,n,r){switch(t){case"disable":return void 0!==n;case"values":return!!(null===n||void 0===n?void 0:n.values);case"title":if("title"===t&&e===(null===r||void 0===r?void 0:r.title))return!0}return e===(n||{})[t]}function Iae(e,t){var n,r,a,i=e.legend(t),o=e.markDef,u=e.encoding,s=e.config,c=s.legend,l=new Oae({},function(e,t){var n=e.scaleName(t);if("trail"===e.mark){if("color"===t)return{stroke:n};if("size"===t)return{strokeWidth:n}}return"color"===t?e.markDef.filled?{fill:n}:{stroke:n}:Object(Zi.a)({},t,n)}(e,t));!function(e,t,n){var r,a=null===(r=e.fieldDef(t))||void 0===r?void 0:r.field;ane(e,(function(e){var r,i,o=null!==(r=e.project.hasField[a])&&void 0!==r?r:e.project.hasChannel[t];if(o&&Fte.has(e)){var u=null!==(i=n.get("selections"))&&void 0!==i?i:[];u.push(e.name),n.set("selections",u,!1),o.hasLegend=!0}}))}(e,t,l);var f=void 0!==i?!i:c.disable;if(l.set("disable",f,void 0!==i),f)return l;i=i||{};var d,h=e.getScaleComponent(t).get("type"),p=Z8(u[t]),v=C8(p)?null===(n=I5(p.timeUnit))||void 0===n?void 0:n.unit:void 0,m=i.orient||s.legend.orient||"right",g=Dae({legend:i,channel:t,timeUnit:v,scaleType:h}),b={legend:i,channel:t,model:e,markDef:o,encoding:u,fieldOrDatumDef:p,legendConfig:c,config:s,scaleType:h,orient:m,legendType:g,direction:Nae({legend:i,legendType:g,orient:m,legendConfig:c})},y=Object(pr.a)(wae);try{for(y.s();!(d=y.n()).done;){var x=d.value,_=x in Sae?Sae[x](b):i[x];if(void 0!==_){var w=Mae(_,x,i,e.fieldDef(t));(w||void 0===s.legend[x])&&l.set(x,_,w)}}}catch(F){y.e(F)}finally{y.f()}for(var O=null!==(r=null===i||void 0===i?void 0:i.encoding)&&void 0!==r?r:{},k=l.get("selections"),j={},E={fieldOrDatumDef:p,model:e,channel:t,legendCmpt:l,legendType:g},C=0,A=["labels","legend","title","symbols","gradient","entries"];C<A.length;C++){var S=A[C],D=bae(null!==(a=O[S])&&void 0!==a?a:{},e),N=S in kae?kae[S](D,E):D;void 0===N||v1(N)||(j[S]=Object.assign(Object.assign(Object.assign({},(null===k||void 0===k?void 0:k.length)&&C8(p)?{name:"".concat(x1(p.field),"_legend_").concat(S)}:{}),(null===k||void 0===k?void 0:k.length)?{interactive:!!k}:{}),{update:N}))}return v1(j)||l.set("encode",j,!!(null===i||void 0===i?void 0:i.encoding)),l}function Rae(e,t){var n,r,a,i;if(!e)return t.clone();var o=e.getWithExplicit("orient"),u=t.getWithExplicit("orient");if(!o.explicit||!u.explicit||o.value===u.value){var s,c=!1,l=Object(pr.a)(wae);try{var f=function(){var n=s.value,r=gee(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",(function(e,t){switch(n){case"symbolType":return function(e,t){if("circle"===t.value)return t;return e}(e,t);case"title":return w9(e,t);case"type":return c=!0,pee("symbol")}return mee(e,t,n,"legend")}));e.setWithExplicit(n,r)};for(l.s();!(s=l.n()).done;)f()}catch(d){l.e(d)}finally{l.f()}return c&&((null===(r=null===(n=e.implicit)||void 0===n?void 0:n.encode)||void 0===r?void 0:r.gradient)&&w1(e.implicit,["encode","gradient"]),(null===(i=null===(a=e.explicit)||void 0===a?void 0:a.encode)||void 0===i?void 0:i.gradient)&&w1(e.explicit,["encode","gradient"])),e}}function Pae(e,t,n,r){var a,i,o;e.encode=null!==(a=e.encode)&&void 0!==a?a:{},e.encode[t]=null!==(i=e.encode[t])&&void 0!==i?i:{},e.encode[t].update=null!==(o=e.encode[t].update)&&void 0!==o?o:{},e.encode[t].update[n]=r}function Bae(e){var t,n=e.component.legends,r={},a=Object(pr.a)(m1(n));try{for(a.s();!(t=a.n()).done;){var i=t.value,o=e.getScaleComponent(i),u=a1(o.get("domains"));if(r[u]){var s,c=Object(pr.a)(r[u]);try{for(c.s();!(s=c.n()).done;){Rae(s.value,n[i])||r[u].push(n[i])}}catch(l){c.e(l)}finally{c.f()}}else r[u]=[n[i].clone()]}}catch(l){a.e(l)}finally{a.f()}return g1(r).flat().map((function(t){return function(e,t){var n,r,a,i=e.combine(),o=i.disable,u=i.labelExpr,s=(i.selections,W0(i,["disable","labelExpr","selections"]));if(o)return;!1===t.aria&&void 0==s.aria&&(s.aria=!1);if(null===(n=s.encode)||void 0===n?void 0:n.symbols){var c=s.encode.symbols.update;!c.fill||"transparent"===c.fill.value||c.stroke||s.stroke||(c.stroke={value:"transparent"});var f,d=Object(pr.a)(t7);try{for(d.s();!(f=d.n()).done;){var h=f.value;s[h]&&delete c[h]}}catch(l){d.e(l)}finally{d.f()}}s.title||delete s.title;if(void 0!==u){var p=u;(null===(a=null===(r=s.encode)||void 0===r?void 0:r.labels)||void 0===a?void 0:a.update)&&P5(s.encode.labels.update.text)&&(p=A1(u,"datum.label",s.encode.labels.update.text.signal)),Pae(s,"labels","text",{signal:p})}for(var v in s){var m=s[v];if(P5(m)){var g=n7[v];if(g){var b=g.vgProp;Pae(s,g.part,b,m),delete s[v]}}}return s}(t,e.config)})).filter((function(e){return void 0!==e}))}function zae(e){return hoe(e)||doe(e)?function(e){return e.children.reduce((function(e,t){return e.concat(t.assembleProjections())}),Lae(e))}(e):Lae(e)}function Lae(e){var t=e.component.projection;if(!t||t.merged)return[];var n=t.combine(),r=n.name;if(t.data){var a={signal:"[".concat(t.size.map((function(e){return e.signal})).join(", "),"]")},i=t.data.reduce((function(t,n){var r=P5(n)?n.signal:"data('".concat(e.lookupDataSource(n),"')");return u1(t,r)||t.push(r),t}),[]);if(i.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:a,fit:{signal:i.length>1?"[".concat(i.join(", "),"]"):i[0]}},n)]}return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),n)]}var Uae=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"],Wae=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r,a,i){var o;return Object(Rb.a)(this,n),(o=t.call(this,Object.assign({},r),{name:e})).specifiedProjection=r,o.size=a,o.data=i,o.merged=!1,o}return Object(Pb.a)(n,[{key:"isFit",get:function(){return!!this.data}}]),n}(dee);function Vae(e){e.component.projection=loe(e)?function(e){var t;if(e.hasProjection){var n=e.specifiedProjection,r=!(n&&(null!=n.scale||null!=n.translate)),a=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=r?function(e){for(var t=[],n=e.encoding,r=0,a=[[P2,R2],[z2,B2]];r<a.length;r++){var i=a[r];(Z8(n[i[0]])||Z8(n[i[1]]))&&t.push({signal:e.getName("geojson_".concat(t.length))})}e.channelHasField(V2)&&e.typedFieldDef(V2).type===s6&&t.push({signal:e.getName("geojson_".concat(t.length))});0===t.length&&t.push(e.requestDataName(Eee));return t}(e):void 0;return new Wae(e.projectionName(!0),Object.assign(Object.assign({},null!==(t=e.config.projection)&&void 0!==t?t:{}),null!==n&&void 0!==n?n:{}),a,i)}return}(e):function(e){if(0===e.children.length)return;var t,n,r=Object(pr.a)(e.children);try{for(r.s();!(n=r.n()).done;){Vae(n.value)}}catch(d){r.e(d)}finally{r.f()}var a=c1(e.children,(function(e){var n=e.component.projection;if(n){if(t){var r=function(e,t){var n=c1(Uae,(function(n){return!R0(e.explicit,n)&&!R0(t.explicit,n)||!(!R0(e.explicit,n)||!R0(t.explicit,n)||a1(e.get(n))!==a1(t.get(n)))}));if(a1(e.size)===a1(t.size)){if(n)return e;if(a1(e.explicit)===a1({}))return t;if(a1(t.explicit)===a1({}))return e}return null}(t,n);return r&&(t=r),!!r}return t=n,!0}return!0}));if(t&&a){var i,o=e.projectionName(!0),u=new Wae(o,t.specifiedProjection,t.size,t1(t.data)),s=Object(pr.a)(e.children);try{for(s.s();!(i=s.n()).done;){var c=i.value,l=c.component.projection;if(l){var f;if(l.isFit)(f=u.data).push.apply(f,Object(Qi.a)(c.component.projection.data));c.renameProjection(l.get("name"),o),l.merged=!0}}}catch(d){s.e(d)}finally{s.f()}return u}return}(e)}var qae=n(242);function Hae(e,t){return"".concat(U3(e),"_").concat(t)}function Gae(e,t,n){var r,a=Hae(null!==(r=r9(n,void 0))&&void 0!==r?r:{},t);return e.getName("".concat(a,"_bins"))}function Kae(e,t,n){var r,a;r=function(e){return"as"in e}(e)?z0(e.as)?[e.as,"".concat(e.as,"_end")]:[e.as[0],e.as[1]]:[L8(e,{forAs:!0}),L8(e,{binSuffix:"end",forAs:!0})];var i=Object.assign({},r9(t,void 0)),o=Hae(i,e.field),u=function(e,t){return{signal:e.getName("".concat(t,"_bins")),extentSignal:e.getName("".concat(t,"_extent"))}}(n,o),s=u.signal,c=u.extentSignal;if(H3(i.extent)){var l=i.extent,f=l.selection;a=Nre(n.getSelectionComponent(x1(f),f),l),delete i.extent}return{key:o,binComponent:Object.assign(Object.assign(Object.assign({bin:i,field:e.field,as:[r]},s?{signal:s}:{}),c?{extentSignal:c}:{}),a?{span:a}:{})}}var $ae=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a;return Object(Rb.a)(this,n),(a=t.call(this,e)).bins=r,a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,t1(this.bins))}},{key:"merge",value:function(e,t){var n,r=Object(pr.a)(m1(e.bins));try{for(r.s();!(n=r.n()).done;){var a=n.value;a in this.bins?(t(e.bins[a].signal,this.bins[a].signal),this.bins[a].as=f1([].concat(Object(Qi.a)(this.bins[a].as),Object(Qi.a)(e.bins[a].as)),i1)):this.bins[a]=e.bins[a]}}catch(s){r.e(s)}finally{r.f()}var i,o=Object(pr.a)(e.children);try{for(o.s();!(i=o.n()).done;){var u=i.value;e.removeChild(u),u.parent=this}}catch(s){o.e(s)}finally{o.f()}e.remove()}},{key:"producedFields",value:function(){return new Set(g1(this.bins).map((function(e){return e.as})).flat(2))}},{key:"dependentFields",value:function(){return new Set(g1(this.bins).map((function(e){return e.field})))}},{key:"hash",value:function(){return"Bin ".concat(i1(this.bins))}},{key:"assemble",value:function(){return g1(this.bins).flatMap((function(e){var t=[],n=Object(qae.a)(e.as),r=n[0],a=n.slice(1),i=e.bin,o=i.extent,u=W0(i,["extent"]),s=Object.assign(Object.assign(Object.assign({type:"bin",field:C1(e.field),as:r,signal:e.signal},H3(o)?{extent:null}:{extent:o}),e.span?{span:{signal:"span(".concat(e.span,")")}}:{}),u);!o&&e.extentSignal&&(t.push({type:"extent",field:C1(e.field),signal:e.extentSignal}),s.extent={signal:e.extentSignal}),t.push(s);var c,l=Object(pr.a)(a);try{for(l.s();!(c=l.n()).done;)for(var f=c.value,d=0;d<2;d++)t.push({type:"formula",expr:L8({field:r[d]},{expr:"datum"}),as:f[d]})}catch(h){l.e(h)}finally{l.f()}return e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t}))}}],[{key:"makeFromEncoding",value:function(e,t){var r=t.reduceFieldDef((function(e,n,r){if(T8(n)&&W3(n.bin)){var a=Kae(n,n.bin,t),i=a.key,o=a.binComponent;e[i]=Object.assign(Object.assign(Object.assign({},o),e[i]),function(e,t,n,r){var a,i;if(s9(t,n)){var o=loe(e)&&null!==(i=null!==(a=e.axis(n))&&void 0!==a?a:e.legend(n))&&void 0!==i?i:{},u=L8(t,{expr:"datum"}),s=L8(t,{expr:"datum",binSuffix:"end"});return{formulaAs:L8(t,{binSuffix:"range",forAs:!0}),formula:l8(u,s,o.format,o.formatType,r)}}return{}}(t,n,r,t.config))}return e}),{});return v1(r)?null:new n(e,r)}},{key:"makeFromTransform",value:function(e,t,r){var a=Kae(t,t.bin,r),i=a.key,o=a.binComponent;return new n(e,Object(Zi.a)({},i,o))}}]),n}(xte),Xae=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e){var r,a;if(Object(Rb.a)(this,n),r=t.call(this,null),wee(e=null!==e&&void 0!==e?e:{name:"source"})||(a=e.format?Object.assign({},r1(e.format,["parse"])):{}),xee(e))r._data={values:e.values};else if(yee(e)){if(r._data={url:e.url},!a.type){var i=/(?:\.([^.]+))?$/.exec(e.url)[1];u1(["json","csv","tsv","dsv","topojson"],i)||(i="json"),a.type=i}}else kee(e)?r._data={values:[{type:"Sphere"}]}:(_ee(e)||wee(e))&&(r._data={});return r._generator=wee(e),e.name&&(r._name=e.name),a&&!v1(a)&&(r._data.format=a),r}return Object(Pb.a)(n,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"data",get:function(){return this._data}},{key:"hasName",value:function(){return!!this._name}},{key:"isGenerator",get:function(){return this._generator}},{key:"dataName",get:function(){return this._name},set:function(e){this._name=e}},{key:"parent",set:function(e){throw new Error("Source nodes have to be roots.")}},{key:"remove",value:function(){throw new Error("Source nodes are roots and cannot be removed.")}},{key:"hash",value:function(){throw new Error("Cannot hash sources")}},{key:"assemble",value:function(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}]),n}(xte);function Yae(e){var t,n=Object(pr.a)(e);try{for(n.s();!(t=n.n()).done;){var r,a=t.value,i=Object(pr.a)(a.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.parent!==a)return console.error("Dataflow graph is inconsistent.",a,o),!1}}catch(u){i.e(u)}finally{i.f()}if(!Yae(a.children))return!1}}catch(u){n.e(u)}finally{n.f()}return!0}var Jae=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a;return Object(Rb.a)(this,n),(a=t.call(this,e)).params=r,a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hash",value:function(){return"Graticule ".concat(i1(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}]),n}(xte),Qae=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a;return Object(Rb.a)(this,n),(a=t.call(this,e)).params=r,a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){var e;return new Set([null!==(e=this.params.as)&&void 0!==e?e:"data"])}},{key:"hash",value:function(){return"Hash ".concat(i1(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"sequence"},this.params)}}]),n}(xte);function Zae(e){return e instanceof Xae||e instanceof Jae||e instanceof Qae}var eie=function(){function e(){Object(Rb.a)(this,e),this._mutated=!1}return Object(Pb.a)(e,[{key:"setMutated",value:function(){this._mutated=!0}},{key:"mutatedFlag",get:function(){return this._mutated}}]),e}(),tie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(){var e;return Object(Rb.a)(this,n),(e=t.call(this))._continue=!1,e}return Object(Pb.a)(n,[{key:"setContinue",value:function(){this._continue=!0}},{key:"continueFlag",get:function(){return this._continue}},{key:"flags",get:function(){return{continueFlag:this.continueFlag,mutatedFlag:this.mutatedFlag}},set:function(e){var t=e.continueFlag,n=e.mutatedFlag;t&&this.setContinue(),n&&this.setMutated()}},{key:"reset",value:function(){}},{key:"optimizeNextFromLeaves",value:function(e){if(Zae(e))return!1;var t=e.parent;return this.run(e).continueFlag&&this.optimizeNextFromLeaves(t),this.mutatedFlag}}]),n}(eie),nie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(){return Object(Rb.a)(this,n),t.apply(this,arguments)}return n}(eie);function rie(e,t,n,r){var a=loe(r)?r.encoding[w3(t)]:void 0;if(T8(n)&&loe(r)&&O8(t,n,a,r.stack,r.markDef,r.config))e.add(L8(n,{})),e.add(L8(n,{suffix:"end"})),n.bin&&s9(n,t)&&e.add(L8(n,{binSuffix:"range"}));else if(t in u3){var i=function(e){switch(e){case R2:return"y";case B2:return"y2";case P2:return"x";case z2:return"x2"}}(t);e.add(r.getName(i))}else e.add(L8(n));return e}var aie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r,a){var i;return Object(Rb.a)(this,n),(i=t.call(this,e)).dimensions=r,i.measures=a,i}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,new Set(this.dimensions),t1(this.measures))}},{key:"groupBy",get:function(){return this.dimensions}},{key:"merge",value:function(e){return function(e,t){if(e.size!==t.size)return!1;var n,r=Object(pr.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!t.has(a))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(this.dimensions,e.dimensions)?(function(e,t){var n,r,a=Object(pr.a)(m1(t));try{for(a.s();!(r=a.n()).done;){var i,o=r.value,u=t[o],s=Object(pr.a)(m1(u));try{for(s.s();!(i=s.n()).done;){var c=i.value;o in e?e[o][c]=new Set([].concat(Object(Qi.a)(null!==(n=e[o][c])&&void 0!==n?n:[]),Object(Qi.a)(u[c]))):e[o]=Object(Zi.a)({},c,u[c])}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}}(this.measures,e.measures),!0):(function(){var e;(e=p5).debug.apply(e,arguments)}("different dimensions, cannot merge"),!1)}},{key:"addDimensions",value:function(e){e.forEach(this.dimensions.add,this.dimensions)}},{key:"dependentFields",value:function(){return new Set([].concat(Object(Qi.a)(this.dimensions),Object(Qi.a)(m1(this.measures))))}},{key:"producedFields",value:function(){var e,t=new Set,n=Object(pr.a)(m1(this.measures));try{for(n.s();!(e=n.n()).done;){var r,a=e.value,i=Object(pr.a)(m1(this.measures[a]));try{for(i.s();!(r=i.n()).done;){var o=r.value,u=this.measures[a][o];0===u.size?t.add("".concat(o,"_").concat(a)):u.forEach(t.add,t)}}catch(s){i.e(s)}finally{i.f()}}}catch(s){n.e(s)}finally{n.f()}return t}},{key:"hash",value:function(){return"Aggregate ".concat(i1({dimensions:this.dimensions,measures:this.measures}))}},{key:"assemble",value:function(){var e,t=[],n=[],r=[],a=Object(pr.a)(m1(this.measures));try{for(a.s();!(e=a.n()).done;){var i,o=e.value,u=Object(pr.a)(m1(this.measures[o]));try{for(u.s();!(i=u.n()).done;){var s,c=i.value,l=Object(pr.a)(this.measures[o][c]);try{for(l.s();!(s=l.n()).done;){var f=s.value;r.push(f),t.push(c),n.push("*"===o?null:C1(o))}}catch(d){l.e(d)}finally{l.f()}}}catch(d){u.e(d)}finally{u.f()}}}catch(d){a.e(d)}finally{a.f()}return{type:"aggregate",groupby:Object(Qi.a)(this.dimensions).map(C1),ops:t,fields:n,as:r}}}],[{key:"makeFromEncoding",value:function(e,t){var r=!1;t.forEachFieldDef((function(e){e.aggregate&&(r=!0)}));var a={},i=new Set;return r?(t.forEachFieldDef((function(e,n){var r,o,u,s,c=e.aggregate,l=e.field;if(c)if("count"===c)a["*"]=null!==(r=a["*"])&&void 0!==r?r:{},a["*"].count=new Set([L8(e,{forAs:!0})]);else{if(b2(c)||y2(c)){var f=b2(c)?"argmin":"argmax",d=c[f];a[d]=null!==(o=a[d])&&void 0!==o?o:{},a[d][f]=new Set([L8({op:f,field:d},{forAs:!0})])}else a[l]=null!==(u=a[l])&&void 0!==u?u:{},a[l][c]=new Set([L8(e,{forAs:!0})]);R3(n)&&"unaggregated"===t.scaleDomain(n)&&(a[l]=null!==(s=a[l])&&void 0!==s?s:{},a[l].min=new Set([L8({field:l,aggregate:"min"},{forAs:!0})]),a[l].max=new Set([L8({field:l,aggregate:"max"},{forAs:!0})]))}else rie(i,n,e,t)})),i.size+m1(a).length===0?null:new n(e,i,a)):null}},{key:"makeFromTransform",value:function(e,t){var r,a,i,o,u=new Set,s={},c=Object(pr.a)(t.aggregate);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=l.op,d=l.field,h=l.as;f&&("count"===f?(s["*"]=null!==(r=s["*"])&&void 0!==r?r:{},s["*"].count=new Set([h||L8(l,{forAs:!0})])):(s[d]=null!==(a=s[d])&&void 0!==a?a:{},s[d][f]=new Set([h||L8(l,{forAs:!0})])))}}catch(g){c.e(g)}finally{c.f()}var p,v=Object(pr.a)(null!==(i=t.groupby)&&void 0!==i?i:[]);try{for(v.s();!(p=v.n()).done;){var m=p.value;u.add(m)}}catch(g){v.e(g)}finally{v.f()}return u.size+m1(s).length===0?null:new n(e,u,s)}}]),n}(xte),iie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r,a,i){var o;Object(Rb.a)(this,n),(o=t.call(this,e)).model=r,o.name=a,o.data=i;var u,s=Object(pr.a)(d3);try{for(s.s();!(u=s.n()).done;){var c=u.value,l=r.facet[c];if(l){var f=l.bin,d=l.sort;o[c]=Object.assign({name:r.getName("".concat(c,"_domain")),fields:[L8(l)].concat(Object(Qi.a)(W3(f)?[L8(l,{binSuffix:"end"})]:[]))},v8(d)?{sortField:d}:C0(d)?{sortIndexField:Jre(l,c)}:{})}}}catch(h){s.e(h)}finally{s.f()}return o.childModel=r.child,o}return Object(Pb.a)(n,[{key:"hash",value:function(){var e,t="Facet",n=Object(pr.a)(d3);try{for(n.s();!(e=n.n()).done;){var r=e.value;this[r]&&(t+=" ".concat(r.charAt(0),":").concat(i1(this[r])))}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"fields",get:function(){var e,t,n=[],r=Object(pr.a)(d3);try{for(r.s();!(t=r.n()).done;){var a=t.value;(null===(e=this[a])||void 0===e?void 0:e.fields)&&n.push.apply(n,Object(Qi.a)(this[a].fields))}}catch(i){r.e(i)}finally{r.f()}return n}},{key:"dependentFields",value:function(){var e,t=new Set(this.fields),n=Object(pr.a)(d3);try{for(n.s();!(e=n.n()).done;){var r=e.value;this[r]&&(this[r].sortField&&t.add(this[r].sortField.field),this[r].sortIndexField&&t.add(this[r].sortIndexField))}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"producedFields",value:function(){return new Set}},{key:"getSource",value:function(){return this.name}},{key:"getChildIndependentFieldsWithStep",value:function(){var e,t={},n=Object(pr.a)(C3);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=this.childModel.component.scales[r];if(a&&!a.merged){var i=a.get("type"),o=a.get("range");if(T6(i)&&B5(o)){var u=Vie(qie(this.childModel,r));u?t[r]=u:g5("Unknown field for ".concat(r,". Cannot calculate view size."))}}}}catch(s){n.e(s)}finally{n.f()}return t}},{key:"assembleRowColumnHeaderData",value:function(e,t,n){var r={row:"y",column:"x"}[e],a=[],i=[],o=[];n&&n[r]&&(t?(a.push("distinct_".concat(n[r])),i.push("max")):(a.push(n[r]),i.push("distinct")),o.push("distinct_".concat(n[r])));var u=this[e],s=u.sortField,c=u.sortIndexField;if(s){var l=s.op,f=void 0===l?f8:l,d=s.field;a.push(d),i.push(f),o.push(L8(s,{forAs:!0}))}else c&&(a.push(c),i.push("max"),o.push(c));return{name:this[e].name,source:null!==t&&void 0!==t?t:this.data,transform:[Object.assign({type:"aggregate",groupby:this[e].fields},a.length?{fields:a,ops:i,as:o}:{})]}}},{key:"assembleFacetHeaderData",value:function(e){var t,n,r,a=this.model.layout.columns,i=this.model.component.layoutHeaders,o=[],u={},s=Object(pr.a)(tae);try{for(s.s();!(r=s.n()).done;){var c,l=r.value,f=Object(pr.a)(nae);try{for(f.s();!(c=f.n()).done;){var d,h=c.value,p=null!==(t=i[l]&&i[l][h])&&void 0!==t?t:[],v=Object(pr.a)(p);try{for(v.s();!(d=v.n()).done;){if((null===(n=d.value.axes)||void 0===n?void 0:n.length)>0){u[l]=!0;break}}}catch(x){v.e(x)}finally{v.f()}}}catch(x){f.e(x)}finally{f.f()}if(u[l]){var m='length(data("'.concat(this.facet.name,'"))'),g="row"===l?a?{signal:"ceil(".concat(m," / ").concat(a,")")}:1:a?{signal:"min(".concat(m,", ").concat(a,")")}:{signal:m};o.push({name:"".concat(this.facet.name,"_").concat(l),transform:[{type:"sequence",start:0,stop:g}]})}}}catch(x){s.e(x)}finally{s.f()}var b=u.row,y=u.column;return(b||y)&&o.unshift(this.assembleRowColumnHeaderData("facet",null,e)),o}},{key:"assemble",value:function(){var e,t,n=[],r=null,a=this.getChildIndependentFieldsWithStep(),i=this.column,o=this.row,u=this.facet;if(i&&o&&(a.x||a.y)){r="cross_".concat(this.column.name,"_").concat(this.row.name);var s=[].concat(null!==(e=a.x)&&void 0!==e?e:[],null!==(t=a.y)&&void 0!==t?t:[]),c=s.map((function(){return"distinct"}));n.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:s,ops:c}]})}for(var l=0,f=[E2,j2];l<f.length;l++){var d=f[l];this[d]&&n.push(this.assembleRowColumnHeaderData(d,r,a))}if(u){var h=this.assembleFacetHeaderData(a);h&&n.push.apply(n,Object(Qi.a)(h))}return n}}]),n}(xte);function oie(e){return"'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]?e.slice(1,-1):e}function uie(e,t){var n=k1(e);if("number"===t)return"toNumber(".concat(n,")");if("boolean"===t)return"toBoolean(".concat(n,")");if("string"===t)return"toString(".concat(n,")");if("date"===t)return"toDate(".concat(n,")");if("flatten"===t)return n;if(0===t.indexOf("date:")){var r=oie(t.slice(5,t.length));return"timeParse(".concat(n,",'").concat(r,"')")}if(0===t.indexOf("utc:")){var a=oie(t.slice(4,t.length));return"utcParse(".concat(n,",'").concat(a,"')")}return g5(x.unrecognizedParse(t)),null}function sie(e){var t={};return Q0(e.filter,(function(e){var n;if(J5(e)){var r=null;V5(e)?r=e.equal:$5(e)?r=e.range[0]:X5(e)&&(r=(null!==(n=e.oneOf)&&void 0!==n?n:e.in)[0]),r&&(b5(r)?t[e.field]="date":B0(r)?t[e.field]="number":z0(r)&&(t[e.field]="string")),e.timeUnit&&(t[e.field]="date")}})),t}function cie(e){var t={};function n(e){var n;i9(e)?t[e.field]="date":"quantitative"===e.type&&(n=e.aggregate,z0(n)&&u1(["min","max"],n))?t[e.field]="number":D1(e.field)>1?e.field in t||(t[e.field]="flatten"):I8(e)&&v8(e.sort)&&D1(e.sort.field)>1&&(e.sort.field in t||(t[e.sort.field]="flatten"))}if((loe(e)||foe(e))&&e.forEachFieldDef((function(t,r){if(T8(t))n(t);else{var a=x3(r),i=e.fieldDef(a);n(Object.assign(Object.assign({},t),{type:i.type}))}})),loe(e)){var r=e.mark,a=e.markDef,i=e.encoding;if(i2(r)&&!e.encoding.order){var o=i["horizontal"===a.orient?"y":"x"];C8(o)&&"quantitative"===o.type&&!(o.field in t)&&(t[o.field]="number")}}return t}var lie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a;return Object(Rb.a)(this,n),(a=t.call(this,e))._parse=r,a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,t1(this._parse))}},{key:"hash",value:function(){return"Parse ".concat(i1(this._parse))}},{key:"parse",get:function(){return this._parse}},{key:"merge",value:function(e){this._parse=Object.assign(Object.assign({},this._parse),e.parse),e.remove()}},{key:"assembleFormatParse",value:function(){var e,t={},n=Object(pr.a)(m1(this._parse));try{for(n.s();!(e=n.n()).done;){var r=e.value,a=this._parse[r];1===D1(r)&&(t[r]=a)}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"producedFields",value:function(){return new Set(m1(this._parse))}},{key:"dependentFields",value:function(){return new Set(m1(this._parse))}},{key:"assembleTransforms",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m1(this._parse).filter((function(e){return!t||D1(e)>1})).map((function(t){var n=uie(t,e._parse[t]);return n?{type:"formula",expr:n,as:S1(t)}:null})).filter((function(e){return null!==e}))}}],[{key:"makeExplicit",value:function(e,t,n){var r={},a=t.data;return!wee(a)&&a&&a.format&&a.format.parse&&(r=a.format.parse),this.makeWithAncestors(e,r,{},n)}},{key:"makeWithAncestors",value:function(e,t,r,a){var i,o=Object(pr.a)(m1(r));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=a.getWithExplicit(u);void 0!==s.value&&(s.explicit||s.value===r[u]||"derived"===s.value||"flatten"===r[u]?delete r[u]:g5(x.differentParse(u,r[u],s.value)))}}catch(y){o.e(y)}finally{o.f()}var c,l=Object(pr.a)(m1(t));try{for(l.s();!(c=l.n()).done;){var f=c.value,d=a.get(f);void 0!==d&&(d===t[f]?delete t[f]:g5(x.differentParse(f,t[f],d)))}}catch(y){l.e(y)}finally{l.f()}var h=new dee(t,r);a.copyAll(h);var p,v={},m=Object(pr.a)(m1(h.combine()));try{for(m.s();!(p=m.n()).done;){var g=p.value,b=h.get(g);null!==b&&(v[g]=b)}}catch(y){m.e(y)}finally{m.f()}return 0===m1(v).length||a.parseNothing?null:new n(e,v)}}]),n}(xte),fie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e){return Object(Rb.a)(this,n),t.call(this,e)}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set([a7])}},{key:"hash",value:function(){return"Identifier"}},{key:"assemble",value:function(){return{type:"identifier",as:a7}}}]),n}(xte),die=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a;return Object(Rb.a)(this,n),(a=t.call(this,e)).transform=r,a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,t1(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=f1(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e=new Set;return this.transform.groupby&&this.transform.groupby.forEach(e.add,e),this.transform.joinaggregate.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach(e.add,e),e}},{key:"producedFields",value:function(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:L8(e)}},{key:"hash",value:function(){return"JoinAggregateTransform ".concat(i1(this.transform))}},{key:"assemble",value:function(){var e,t=[],n=[],r=[],a=Object(pr.a)(this.transform.joinaggregate);try{for(a.s();!(e=a.n()).done;){var i=e.value;n.push(i.op),r.push(this.getDefaultName(i)),t.push(void 0===i.field?null:i.field)}}catch(u){a.e(u)}finally{a.f()}var o=this.transform.groupby;return Object.assign({type:"joinaggregate",as:r,ops:n,fields:t},void 0!==o?{groupby:o}:{})}}]),n}(xte);var hie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a;return Object(Rb.a)(this,n),(a=t.call(this,e))._stack=r,a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,t1(this._stack))}},{key:"stack",get:function(){return this._stack}},{key:"addDimensions",value:function(e){var t;(t=this._stack.facetby).push.apply(t,Object(Qi.a)(e))}},{key:"dependentFields",value:function(){var e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach(e.add,e),this._stack.facetby.forEach(e.add,e),this._stack.sort.field.forEach(e.add,e),e}},{key:"producedFields",value:function(){return new Set(this._stack.as)}},{key:"hash",value:function(){return"Stack ".concat(i1(this._stack))}},{key:"getGroupbyFields",value:function(){var e=this._stack,t=e.dimensionFieldDef,n=e.impute,r=e.groupby;return t?t.bin?n?[L8(t,{binSuffix:"mid"})]:[L8(t,{}),L8(t,{binSuffix:"end"})]:[L8(t)]:null!==r&&void 0!==r?r:[]}},{key:"assemble",value:function(){var e=[],t=this._stack,n=t.facetby,r=t.dimensionFieldDef,a=t.stackField,i=t.stackby,o=t.sort,u=t.offset,s=t.impute,c=t.as;if(s&&r){var l=r.band,f=void 0===l?.5:l;r.bin&&e.push({type:"formula",expr:"".concat(f,"*")+L8(r,{expr:"datum"})+"+".concat(1-f,"*")+L8(r,{expr:"datum",binSuffix:"end"}),as:L8(r,{binSuffix:"mid",forAs:!0})}),e.push({type:"impute",field:a,groupby:[].concat(Object(Qi.a)(i),Object(Qi.a)(n)),key:L8(r,{binSuffix:"mid"}),method:"value",value:0})}return e.push({type:"stack",groupby:[].concat(Object(Qi.a)(this.getGroupbyFields()),Object(Qi.a)(n)),field:a,sort:o,as:c,offset:u}),e}}],[{key:"makeFromTransform",value:function(e,t){var r=t.stack,a=t.groupby,i=t.as,o=t.offset,u=void 0===o?"zero":o,s=[],c=[];if(void 0!==t.sort){var l,f=Object(pr.a)(t.sort);try{for(f.s();!(l=f.n()).done;){var d=l.value;s.push(d.field),c.push(N1(d.order,"ascending"))}}catch(h){f.e(h)}finally{f.f()}}return new n(e,{stackField:r,groupby:a,offset:u,sort:{field:s,order:c},facetby:[],as:function(e){return C0(e)&&e.every((function(e){return z0(e)}))&&e.length>1}(i)?i:z0(i)?[i,i+"_end"]:[t.stack+"_start",t.stack+"_end"]})}},{key:"makeFromEncoding",value:function(e,t){var r=t.stack,a=t.encoding;if(!r)return null;var i,o=r.groupbyChannel,u=r.fieldChannel,s=r.offset,c=r.impute;o&&(i=Q8(a[o]));var l,f=function(e){return e.stack.stackBy.reduce((function(e,t){var n=L8(t.fieldDef);return n&&e.push(n),e}),[])}(t),d=t.encoding.order;return l=C0(d)||C8(d)?y9(d):f.reduce((function(e,t){return e.field.push(t),e.order.push("y"===u?"descending":"ascending"),e}),{field:[],order:[]}),new n(e,{dimensionFieldDef:i,stackField:t.vgField(u),facetby:[],stackby:f,sort:l,offset:s,impute:c,as:[t.vgField(u,{suffix:"start",forAs:!0}),t.vgField(u,{suffix:"end",forAs:!0})]})}}]),n}(xte),pie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a;return Object(Rb.a)(this,n),(a=t.call(this,e)).transform=r,a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,t1(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=f1(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e,t,n=new Set;return(null!==(e=this.transform.groupby)&&void 0!==e?e:[]).forEach(n.add,n),(null!==(t=this.transform.sort)&&void 0!==t?t:[]).forEach((function(e){return n.add(e.field)})),this.transform.window.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach(n.add,n),n}},{key:"producedFields",value:function(){return new Set(this.transform.window.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:L8(e)}},{key:"hash",value:function(){return"WindowTransform ".concat(i1(this.transform))}},{key:"assemble",value:function(){var e,t,n=[],r=[],a=[],i=[],o=Object(pr.a)(this.transform.window);try{for(o.s();!(t=o.n()).done;){var u=t.value;r.push(u.op),a.push(this.getDefaultName(u)),i.push(void 0===u.param?null:u.param),n.push(void 0===u.field?null:u.field)}}catch(g){o.e(g)}finally{o.f()}var s=this.transform.frame,c=this.transform.groupby;if(s&&null===s[0]&&null===s[1]&&r.every((function(e){return x2(e)})))return Object.assign({type:"joinaggregate",as:a,ops:r,fields:n},void 0!==c?{groupby:c}:{});var l=[],f=[];if(void 0!==this.transform.sort){var d,h=Object(pr.a)(this.transform.sort);try{for(h.s();!(d=h.n()).done;){var p=d.value;l.push(p.field),f.push(null!==(e=p.order)&&void 0!==e?e:"ascending")}}catch(g){h.e(g)}finally{h.f()}}var v={field:l,order:f},m=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:i,as:a,ops:r,fields:n,sort:v},void 0!==m?{ignorePeers:m}:{}),void 0!==c?{groupby:c}:{}),void 0!==s?{frame:s}:{})}}]),n}(xte),vie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(){return Object(Rb.a)(this,n),t.apply(this,arguments)}return Object(Pb.a)(n,[{key:"run",value:function(e){var t=e.parent;if(e instanceof lie){if(Zae(t))return this.flags;if(t.numChildren()>1)return this.setContinue(),this.flags;if(t instanceof lie)this.setMutated(),t.merge(e);else{if(p1(t.producedFields(),e.dependentFields()))return this.setContinue(),this.flags;this.setMutated(),e.swapWithParent()}}return this.setContinue(),this.flags}}]),n}(tie),mie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(){return Object(Rb.a)(this,n),t.apply(this,arguments)}return Object(Pb.a)(n,[{key:"mergeNodes",value:function(e,t){var n,r=t.shift(),a=Object(pr.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;e.removeChild(i),i.parent=r,i.remove()}}catch(o){a.e(o)}finally{a.f()}}},{key:"run",value:function(e){for(var t=e.children.map((function(e){return e.hash()})),n={},r=0;r<t.length;r++)void 0===n[t[r]]?n[t[r]]=[e.children[r]]:n[t[r]].push(e.children[r]);var a,i=Object(pr.a)(m1(n));try{for(i.s();!(a=i.n()).done;){var o=a.value;n[o].length>1&&(this.setMutated(),this.mergeNodes(e,n[o]))}}catch(l){i.e(l)}finally{i.f()}var u,s=Object(pr.a)(e.children);try{for(s.s();!(u=s.n()).done;){var c=u.value;this.run(c)}}catch(l){s.e(l)}finally{s.f()}return this.mutatedFlag}}]),n}(nie),gie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(){return Object(Rb.a)(this,n),t.apply(this,arguments)}return Object(Pb.a)(n,[{key:"run",value:function(e){return e instanceof _te||e.numChildren()>0||e instanceof iie||(this.setMutated(),e.remove()),this.flags}}]),n}(tie),bie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(){var e;return Object(Rb.a)(this,n),(e=t.apply(this,arguments)).fields=new Set,e.prev=null,e}return Object(Pb.a)(n,[{key:"run",value:function(e){if(this.setContinue(),e instanceof wte){var t=e.producedFields();d1(t,this.fields)?(this.setMutated(),this.prev.remove()):this.fields=new Set([].concat(Object(Qi.a)(this.fields),Object(Qi.a)(t))),this.prev=e}return this.flags}},{key:"reset",value:function(){this.fields.clear()}}]),n}(tie),yie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(){return Object(Rb.a)(this,n),t.apply(this,arguments)}return Object(Pb.a)(n,[{key:"run",value:function(e){this.setContinue();var t,n=e.parent.children.filter((function(e){return e instanceof wte})),r=n.pop(),a=Object(pr.a)(n);try{for(a.s();!(t=a.n()).done;){var i=t.value;this.setMutated(),r.merge(i)}}catch(o){a.e(o)}finally{a.f()}return this.flags}}]),n}(tie);function xie(e){if(e instanceof iie)if(1!==e.numChildren()||e.children[0]instanceof _te){var t=e.model.component.data.main;_ie(t);var n,r=(u=e,function e(t){if(!(t instanceof iie)){var n=t.clone();if(n instanceof _te){var r=Aie+n.getSource();n.setSource(r),u.model.component.data.outputNodes[r]=n}else(n instanceof aie||n instanceof hie||n instanceof pie||n instanceof die)&&n.addDimensions(u.fields);var a,i=Object(pr.a)(t.children.flatMap(e));try{for(i.s();!(a=i.n()).done;)a.value.parent=n}catch(o){i.e(o)}finally{i.f()}return[n]}return t.children.flatMap(e)}),a=e.children.map(r).flat(),i=Object(pr.a)(a);try{for(i.s();!(n=i.n()).done;){n.value.parent=t}}catch(s){i.e(s)}finally{i.f()}}else{var o=e.children[0];(o instanceof aie||o instanceof hie||o instanceof pie||o instanceof die)&&o.addDimensions(e.fields),o.swapWithParent(),xie(e)}else e.children.map(xie);var u}function _ie(e){if(e instanceof _te&&e.type===Eee&&1===e.numChildren()){var t=e.children[0];t instanceof iie||(t.swapWithParent(),_ie(e))}}var wie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(){return Object(Rb.a)(this,n),t.call(this)}return Object(Pb.a)(n,[{key:"run",value:function(e){e instanceof _te&&!e.isRequired()&&(this.setMutated(),e.remove());var t,n=Object(pr.a)(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.run(r)}}catch(a){n.e(a)}finally{n.f()}return this.mutatedFlag}}]),n}(nie),Oie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e){var r;return Object(Rb.a)(this,n),(r=t.call(this)).requiresSelectionId=e&&une(e),r}return Object(Pb.a)(n,[{key:"run",value:function(e){e instanceof fie&&(this.requiresSelectionId&&(Zae(e.parent)||e.parent instanceof aie||e.parent instanceof lie)||(this.setMutated(),e.remove()));var t,n=Object(pr.a)(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.run(r)}}catch(a){n.e(a)}finally{n.f()}return this.mutatedFlag}}]),n}(nie),kie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(){return Object(Rb.a)(this,n),t.apply(this,arguments)}return Object(Pb.a)(n,[{key:"run",value:function(e){var t=e.parent,n=Object(Qi.a)(t.children),r=t.children.filter((function(e){return e instanceof lie}));if(t.numChildren()>1&&r.length>=1){var a,i={},o=new Set,u=Object(pr.a)(r);try{for(u.s();!(a=u.n()).done;){var s,c=a.value.parse,l=Object(pr.a)(m1(c));try{for(l.s();!(s=l.n()).done;){var f=s.value;f in i?i[f]!==c[f]&&o.add(f):i[f]=c[f]}}catch(_){l.e(_)}finally{l.f()}}}catch(_){u.e(_)}finally{u.f()}var d,h=Object(pr.a)(o);try{for(h.s();!(d=h.n()).done;){delete i[d.value]}}catch(_){h.e(_)}finally{h.f()}if(!v1(i)){this.setMutated();var p,v=new lie(t,i),m=Object(pr.a)(n);try{for(m.s();!(p=m.n()).done;){var g=p.value;if(g instanceof lie){var b,y=Object(pr.a)(m1(i));try{for(y.s();!(b=y.n()).done;){var x=b.value;delete g.parse[x]}}catch(_){y.e(_)}finally{y.f()}}t.removeChild(g),g.parent=v,g instanceof lie&&0===m1(g.parse).length&&g.remove()}}catch(_){m.e(_)}finally{m.f()}}}return this.setContinue(),this.flags}}]),n}(tie),jie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(){return Object(Rb.a)(this,n),t.apply(this,arguments)}return Object(Pb.a)(n,[{key:"run",value:function(e){var t,n=e.parent,r=n.children.filter((function(e){return e instanceof aie})),a={},i=Object(pr.a)(r);try{for(i.s();!(t=i.n()).done;){var o=t.value,u=i1(o.groupBy);u in a||(a[u]=[]),a[u].push(o)}}catch(v){i.e(v)}finally{i.f()}var s,c=Object(pr.a)(m1(a));try{for(c.s();!(s=c.n()).done;){var l=a[s.value];if(l.length>1){var f,d=l.pop(),h=Object(pr.a)(l);try{for(h.s();!(f=h.n()).done;){var p=f.value;d.merge(p)&&(n.removeChild(p),p.parent=d,p.remove(),this.setMutated())}}catch(v){h.e(v)}finally{h.f()}}}}catch(v){c.e(v)}finally{c.f()}return this.setContinue(),this.flags}}]),n}(tie),Eie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e){var r;return Object(Rb.a)(this,n),(r=t.call(this)).model=e,r}return Object(Pb.a)(n,[{key:"run",value:function(e){var t,n=e.parent,r=!(Zae(n)||n instanceof Sre||n instanceof lie||n instanceof fie),a=[],i=[],o=Object(pr.a)(n.children);try{for(o.s();!(t=o.n()).done;){var u=t.value;u instanceof $ae&&(r&&!p1(n.producedFields(),u.dependentFields())?a.push(u):i.push(u))}}catch(m){o.e(m)}finally{o.f()}if(a.length>0){var s,c=a.pop(),l=Object(pr.a)(a);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.merge(f,this.model.renameSignal.bind(this.model))}}catch(m){l.e(m)}finally{l.f()}this.setMutated(),n instanceof $ae?n.merge(c,this.model.renameSignal.bind(this.model)):c.swapWithParent()}if(i.length>1){var d,h=i.pop(),p=Object(pr.a)(i);try{for(p.s();!(d=p.n()).done;){var v=d.value;h.merge(v,this.model.renameSignal.bind(this.model))}}catch(m){p.e(m)}finally{p.f()}this.setMutated()}return this.setContinue(),this.flags}}]),n}(tie),Cie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(){return Object(Rb.a)(this,n),t.apply(this,arguments)}return Object(Pb.a)(n,[{key:"run",value:function(e){var t=e.parent,n=Object(Qi.a)(t.children);if(!s1(n,(function(e){return e instanceof _te}))||t.numChildren()<=1)return this.setContinue(),this.flags;var r,a,i=[],o=Object(pr.a)(n);try{for(o.s();!(a=o.n()).done;){var u=a.value;if(u instanceof _te){for(var s=u;1===s.numChildren();){var c=s.children[0];if(!(c instanceof _te))break;s=c}i.push.apply(i,Object(Qi.a)(s.children)),r?(t.removeChild(u),u.parent=r.parent,r.parent.removeChild(r),r.parent=s,this.setMutated()):r=s}else i.push(u)}}catch(h){o.e(h)}finally{o.f()}if(i.length){this.setMutated();var l,f=Object(pr.a)(i);try{for(f.s();!(l=f.n()).done;){var d=l.value;d.parent.removeChild(d),d.parent=r}}catch(h){f.e(h)}finally{f.f()}}return this.setContinue(),this.flags}}]),n}(tie),Aie="scale_";function Sie(e){var t=[];function n(e){if(0===e.numChildren())t.push(e);else{var r,a=Object(pr.a)(e.children);try{for(a.s();!(r=a.n()).done;){n(r.value)}}catch(i){a.e(i)}finally{a.f()}}}var r,a=Object(pr.a)(e);try{for(a.s();!(r=a.n()).done;){n(r.value)}}catch(i){a.e(i)}finally{a.f()}return t}function Die(e){return e}function Nie(e,t){return t.map((function(t){if(e instanceof tie){var n=e.optimizeNextFromLeaves(t);return e.reset(),n}return e.run(t)})).some(Die)}function Fie(e,t){var n=e.sources,r=new Set;return r.add(Nie(new wie,n)),r.add(Nie(new Oie(t),n)),n=n.filter((function(e){return e.numChildren()>0})),r.add(Nie(new gie,Sie(n))),n=n.filter((function(e){return e.numChildren()>0})),r.add(Nie(new vie,Sie(n))),r.add(Nie(new Eie(t),Sie(n))),r.add(Nie(new bie,Sie(n))),r.add(Nie(new kie,Sie(n))),r.add(Nie(new jie,Sie(n))),r.add(Nie(new yie,Sie(n))),r.add(Nie(new mie,n)),r.add(Nie(new Cie,Sie(n))),e.sources=n,r.has(!0)}function Tie(e,t){Yae(e.sources);for(var n=0,r=0,a=0;a<5&&Fie(e,t);a++)n++;e.sources.map(xie);for(var i=0;i<5&&Fie(e,t);i++)r++;Yae(e.sources),5===Math.max(n,r)&&g5("Maximum optimization runs(".concat(5,") reached."))}var Mie=function(){function e(t){Object(Rb.a)(this,e),Object.defineProperty(this,"signal",{enumerable:!0,get:t})}return Object(Pb.a)(e,null,[{key:"fromName",value:function(t,n){return new e((function(){return t(n)}))}}]),e}();function Iie(e){loe(e)?function(e){var t,n=e.component.scales,r=Object(pr.a)(m1(n));try{for(r.s();!(t=r.n()).done;){var a=t.value,i=Rie(e,a);if(n[a].setWithExplicit("domains",i),Lie(e,a),e.component.data.isFaceted){for(var o=e;!foe(o)&&o.parent;)o=o.parent;if("shared"===o.component.resolve.scale[a]){var u,s=Object(pr.a)(i.value);try{for(s.s();!(u=s.n()).done;){var c=u.value;z5(c)&&(c.data=Aie+c.data.replace(Aie,""))}}catch(l){s.e(l)}finally{s.f()}}}}}catch(l){r.e(l)}finally{r.f()}}(e):function(e){var t,n=Object(pr.a)(e.children);try{for(n.s();!(t=n.n()).done;){Iie(t.value)}}catch(h){n.e(h)}finally{n.f()}var r,a=e.component.scales,i=Object(pr.a)(m1(a));try{for(i.s();!(r=i.n()).done;){var o,u=r.value,s=void 0,c=null,l=Object(pr.a)(e.children);try{for(l.s();!(o=l.n()).done;){var f=o.value.component.scales[u];if(f){s=void 0===s?f.getWithExplicit("domains"):gee(s,f.getWithExplicit("domains"),"domains","scale",Wie);var d=f.get("selectionExtent");c&&d&&c.selection!==d.selection&&g5("The same selection must be used to override scale domains in a layered view."),c=d}}}catch(h){l.e(h)}finally{l.f()}a[u].setWithExplicit("domains",s),c&&a[u].set("selectionExtent",c,!0)}}catch(h){i.e(h)}finally{i.f()}}(e)}function Rie(e,t){var n=e.getScaleComponent(t).get("type"),r=e.encoding,a=function(e,t,n,r){if("unaggregated"===e){var a=Uie(t,n),i=a.valid,o=a.reason;if(!i)return void g5(o)}else if(void 0===e&&r.useUnaggregatedDomain&&Uie(t,n).valid)return"unaggregated";return e}(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return a!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:a})),"x"===t&&Z8(r.x2)?Z8(r.x)?gee(Bie(n,a,e,"x"),Bie(n,a,e,"x2"),"domain","scale",Wie):Bie(n,a,e,"x2"):"y"===t&&Z8(r.y2)?Z8(r.y)?gee(Bie(n,a,e,"y"),Bie(n,a,e,"y2"),"domain","scale",Wie):Bie(n,a,e,"y2"):Bie(n,a,e,t)}function Pie(e,t,n){var r,a=null===(r=I5(n))||void 0===r?void 0:r.unit;return"temporal"===t||a?function(e,t,n){return e.map((function(e){var r=o9(e,{timeUnit:n,type:t});return{signal:"{data: ".concat(r,"}")}}))}(e,t,a):[e]}function Bie(e,t,n,r){var a=Z8(n.encoding[r]),i=a.type,o=a.timeUnit;if(function(e){return e&&e.unionWith}(t)){var u=Bie(e,void 0,n,r),s=Pie(t.unionWith,i,o);return hee([].concat(Object(Qi.a)(u.value),Object(Qi.a)(s)))}if(P5(t))return hee([t]);if(t&&"unaggregated"!==t&&!P6(t))return hee(Pie(t,i,o));var c=n.stack;if(c&&r===c.fieldChannel){if("normalize"===c.offset)return pee([[0,1]]);var l=n.requestDataName(Eee);return pee([{data:l,field:n.vgField(r,{suffix:"start"})},{data:l,field:n.vgField(r,{suffix:"end"})}])}var f=R3(r)&&C8(a)?function(e,t,n){if(!T6(n))return;var r=e.fieldDef(t),a=r.sort;if(m8(a))return{op:"min",field:Jre(r,t),order:"ascending"};var i=e.stack,o=i?[].concat(Object(Qi.a)(i.groupbyField?[i.groupbyField]:[]),Object(Qi.a)(i.stackBy.map((function(e){return e.fieldDef.field})))):void 0;if(v8(a))return zie(a,i&&!u1(o,a.field));if(p8(a)){var u=a.encoding,s=a.order,c=e.fieldDef(u),l=c.aggregate,f=c.field,d=i&&!u1(o,f);if(b2(l)||y2(l))return zie({field:L8(c),order:s},d);if(x2(l)||!l)return zie({op:l,field:f,order:s},d)}else{if("descending"===a)return{op:"min",field:e.vgField(t),order:"descending"};if(u1(["ascending",void 0],a))return!0}return}(n,r,e):void 0;if(S8(a))return pee(Pie([a.datum],i,o));var d=a;if("unaggregated"===t){var h=n.requestDataName(Eee),p=a.field;return pee([{data:h,field:L8({field:p,aggregate:"min"})},{data:h,field:L8({field:p,aggregate:"max"})}])}if(W3(d.bin)){if(T6(e))return pee("bin-ordinal"===e?[]:[{data:y1(f)?n.requestDataName(Eee):n.requestDataName(Cee),field:n.vgField(r,s9(d,r)?{binSuffix:"range"}:{}),sort:!0!==f&&A0(f)?f:{field:n.vgField(r,{}),op:"min"}}]);var v=d.bin;if(W3(v)){var m=Gae(n,d.field,v);return pee([new Mie((function(){var e=n.getSignalName(m);return"[".concat(e,".start, ").concat(e,".stop]")}))])}return pee([{data:n.requestDataName(Eee),field:n.vgField(r,{})}])}if(d.timeUnit&&u1(["time","utc"],e)&&O8(r,d,loe(n)?n.encoding[w3(r)]:void 0,n.stack,n.markDef,n.config)){var g=n.requestDataName(Eee);return pee([{data:g,field:n.vgField(r)},{data:g,field:n.vgField(r,{suffix:"end"})}])}return pee(f?[{data:y1(f)?n.requestDataName(Eee):n.requestDataName(Cee),field:n.vgField(r),sort:f}]:[{data:n.requestDataName(Eee),field:n.vgField(r)}])}function zie(e,t){var n=e.op,r=e.field,a=e.order;return Object.assign(Object.assign({op:null!==n&&void 0!==n?n:t?"sum":f8},r?{field:C1(r)}:{}),a?{order:a}:{})}function Lie(e,t){var n,r=e.component.scales[t],a=e.specifiedScales[t].domain,i=null===(n=e.fieldDef(t))||void 0===n?void 0:n.bin,o=P6(a)&&a,u=q3(i)&&H3(i.extent)&&i.extent;(o||u)&&r.set("selectionExtent",null!==o&&void 0!==o?o:u,!0)}function Uie(e,t){var n=e.aggregate,r=e.type;return n?z0(n)&&!k2[n]?{valid:!1,reason:x.unaggregateDomainWithNonSharedDomainOp(n)}:"quantitative"===r&&"log"===t?{valid:!1,reason:x.unaggregatedDomainWithLogScale(e)}:{valid:!0}:{valid:!1,reason:x.unaggregateDomainHasNoEffectForRawField(e)}}function Wie(e,t,n,r){return e.explicit&&t.explicit&&g5(x.mergeConflictingDomainProperty(n,r,e.value,t.value)),{explicit:e.explicit,value:[].concat(Object(Qi.a)(e.value),Object(Qi.a)(t.value))}}function Vie(e){if(z5(e)&&z0(e.field))return e.field;if(function(e){return!C0(e)&&"fields"in e&&!("data"in e)}(e)){var t,n,r=Object(pr.a)(e.fields);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(z5(a)&&z0(a.field))if(t){if(t!==a.field)return g5(x.FACETED_INDEPENDENT_DIFFERENT_SOURCES),t}else t=a.field}}catch(o){r.e(o)}finally{r.f()}return g5(x.FACETED_INDEPENDENT_SAME_FIELDS_DIFFERENT_SOURCES),t}if(function(e){return!C0(e)&&"fields"in e&&"data"in e}(e)){g5(x.FACETED_INDEPENDENT_SAME_SOURCE);var i=e.fields[0];return z0(i)?i:void 0}}function qie(e,t){return function(e){var t=f1(e.map((function(e){return z5(e)?(e.sort,W0(e,["sort"])):e})),i1),n=f1(e.map((function(e){if(z5(e)){var t=e.sort;return void 0===t||y1(t)||("op"in t&&"count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}})).filter((function(e){return void 0!==e})),i1);if(0!==t.length){if(1===t.length){var r=e[0];if(z5(r)&&n.length>0){var a=n[0];if(n.length>1)g5(x.MORE_THAN_ONE_SORT),a=!0;else if(A0(a)&&"field"in a){var i=a.field;r.field===i&&(a=!a.order||{order:a.order})}return Object.assign(Object.assign({},r),{sort:a})}return r}var o,u=f1(n.map((function(e){return y1(e)||!("op"in e)||e.op in g2?e:(g5(x.domainSortDropped(e)),!0)})),i1);1===u.length?o=u[0]:u.length>1&&(g5(x.MORE_THAN_ONE_SORT),o=!0);var s=f1(e.map((function(e){return z5(e)?e.data:null})),(function(e){return e}));return 1===s.length&&null!==s[0]?Object.assign({data:s[0],fields:t.map((function(e){return e.field}))},o?{sort:o}:{}):Object.assign({fields:t},o?{sort:o}:{})}}(e.component.scales[t].get("domains").map((function(t){return z5(t)&&(t.data=e.lookupDataSource(t.data)),t})))}function Hie(e){return hoe(e)||doe(e)?e.children.reduce((function(e,t){return e.concat(Hie(t))}),Gie(e)):Gie(e)}function Gie(e){return m1(e.component.scales).reduce((function(t,n){var r=e.component.scales[n];if(r.merged)return t;var a,i=r.combine(),o=i.name,u=i.type,s=i.selectionExtent,c=(i.domains,i.range,i.reverse),l=W0(i,["name","type","selectionExtent","domains","range","reverse"]),f=function(e,t,n){if(A3(n)&&B5(e))return{step:{signal:t+"_step"}};return e}(i.range,o,n);s&&(a=function(e,t){var n=t.selection;return{signal:Nre(e.getSelectionComponent(n,x1(n)),t)}}(e,s));var d=qie(e,n);return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:o,type:u},d?{domain:d}:{}),a?{domainRaw:a}:{}),{range:f}),void 0!==c?{reverse:c}:{}),l)),t}),[])}var Kie=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a;return Object(Rb.a)(this,n),(a=t.call(this,{},{name:e})).merged=!1,a.setWithExplicit("type",r),a}return Object(Pb.a)(n,[{key:"domainDefinitelyIncludesZero",value:function(){return!1!==this.get("zero")||s1(this.get("domains"),(function(e){return C0(e)&&2===e.length&&e[0]<=0&&e[1]>=0}))}}]),n}(dee),$ie=["range","scheme"];function Xie(e){return"x"===e?"width":"y"===e?"height":void 0}function Yie(e,t){var n=e.fieldDef(t);if(n&&n.bin&&W3(n.bin)){var r=Gae(e,n.field,n.bin),a=Xie(t),i=e.getName(a);return new Mie((function(){var t=e.getSignalName(r),n="(".concat(t,".stop - ").concat(t,".start) / ").concat(t,".step");return"".concat(e.getSignalName(i)," / (").concat(n,")")}))}}function Jie(e,t){var n,r=t.specifiedScales[e],a=t.size,i=t.getScaleComponent(e).get("type"),o=Object(pr.a)($ie);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(void 0!==r[u]){var s=U6(i,u),c=W6(e,u);if(s)if(c)g5(c);else switch(u){case"range":return C0(r.range)&&A3(e)?hee(r.range.map((function(e){if("width"===e||"height"===e){var n=t.getName(e),r=t.getSignalName.bind(t);return Mie.fromName(r,n)}return e}))):hee(r.range);case"scheme":return hee(Qie(r[u]))}else g5(x.scalePropertyNotWorkWithScaleType(i,u,e))}}}catch(d){o.e(d)}finally{o.f()}if(e===A2||e===S2){var l=e===A2?"width":"height",f=a[l];if(f7(f)){if(T6(i))return hee({step:f.step});g5(x.stepDropped(l))}}return pee(function(e,t){var n=t.size,r=t.config,a=t.mark,i=t.encoding,o=t.getSignalName.bind(t),u=Z8(i[e]).type,s=t.getScaleComponent(e).get("type"),c=t.specifiedScales[e],l=c.domain,f=c.domainMid;switch(e){case A2:case S2:if(u1(["point","band"],s))if(e!==A2||n.width){if(e===S2&&!n.height){var d=m7(r.view,"height");if(f7(d))return d}}else{var h=m7(r.view,"width");if(f7(h))return h}var p=Xie(e),v=t.getName(p);return e===S2&&M6(s)?[Mie.fromName(o,v),0]:[0,Mie.fromName(o,v)];case q2:var m=Zie(a,t.component.scales[e].get("zero"),r),g=function(e,t,n,r){var a={x:Yie(n,"x"),y:Yie(n,"y")};switch(e){case"bar":case"tick":if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;var i=toe(t,a,r.view);return B0(i)?i-1:new Mie((function(){return"".concat(i.signal," - 1")}));case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":if(r.scale.maxSize)return r.scale.maxSize;var o=toe(t,a,r.view);return B0(o)?Math.pow(eoe*o,2):new Mie((function(){return"pow(".concat(eoe," * ").concat(o.signal,", 2)")}))}throw new Error(x.incompatibleChannel("size",e))}(a,n,t,r);return R6(s)?function(e,t,n){var r=function(){var r=h9(t),a=h9(e),i="(".concat(r," - ").concat(a,") / (").concat(n," - 1)");return"sequence(".concat(a,", ").concat(r," + ").concat(i,", ").concat(i,")")};return P5(t)?new Mie(r):{signal:r()}}(m,g,function(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==n&&C0(n)?n.length+1:(g5(x.domainRequiredForThresholdScale(r)),3)}}(s,r,l,e)):[m,g];case M2:return[0,2*Math.PI];case H2:return[0,360];case F2:return[0,new Mie((function(){var e=t.getSignalName("width"),n=t.getSignalName("height");return"min(".concat(e,",").concat(n,")/2")}))];case X2:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case Y2:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case V2:return"symbol";case L2:case U2:case W2:return"ordinal"===s?"nominal"===u?"category":"ordinal":void 0!==f?"diverging":"rect"===a||"geoshape"===a?"heatmap":"ramp";case G2:case K2:case $2:return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error("Scale range undefined for channel ".concat(e))}(e,t))}function Qie(e){return function(e){return!z0(e)&&!!e.name}(e)?Object.assign({scheme:e.name},r1(e,["name"])):{scheme:e}}function Zie(e,t,n){if(t)return P5(t)?{signal:"".concat(t.signal," ? 0 : ").concat(Zie(e,!1,n))}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(x.incompatibleChannel("size",e))}var eoe=.95;function toe(e,t,n){var r=f7(e.width)?e.width.step:v7(n,"width"),a=f7(e.height)?e.height.step:v7(n,"height");return t.x||t.y?new Mie((function(){var e=[t.x?t.x.signal:r,t.y?t.y.signal:a];return"min(".concat(e.join(", "),")")})):Math.min(r,a)}function noe(e,t){loe(e)?function(e,t){var n,r=e.component.scales,a=e.config,i=e.encoding,o=e.markDef,u=e.specifiedScales,s=Object(pr.a)(m1(r));try{for(s.s();!(n=s.n()).done;){var c=n.value,l=u[c],f=r[c],d=e.getScaleComponent(c),h=Z8(i[c]),p=l[t],v=d.get("type"),m=d.get("padding"),g=d.get("paddingInner"),b=U6(v,t),y=W6(c,t);if(void 0!==p&&(b?y&&g5(y):g5(x.scalePropertyNotWorkWithScaleType(v,t,c))),b&&void 0===y)if(void 0!==p)f.copyKeyFromObject(t,l);else{var _=t in roe?roe[t]({model:e,channel:c,fieldOrDatumDef:h,scaleType:v,scalePadding:m,scalePaddingInner:g,domain:l.domain,markDef:o,config:a}):a.scale[t];void 0!==_&&f.set(t,_,!1)}}}catch(w){s.e(w)}finally{s.f()}}(e,t):ioe(e,t)}var roe={bins:function(e){var t=e.model,n=e.fieldOrDatumDef;return C8(n)?function(e,t){var n=t.bin;if(W3(n)){var r=Gae(e,t.field,n);return new Mie((function(){return e.getSignalName(r)}))}if(V3(n)&&q3(n)&&void 0!==n.step)return{step:n.step};return}(t,n):void 0},interpolate:function(e){return function(e,t){if(u1([L2,U2,W2],e)&&"nominal"!==t)return"hcl";return}(e.channel,e.fieldOrDatumDef.type)},nice:function(e){return function(e,t,n){var r;if((null===(r=Q8(n))||void 0===r?void 0:r.bin)||u1([v6,m6],e))return;return t in E3||void 0}(e.scaleType,e.channel,e.fieldOrDatumDef)},padding:function(e){var t=e.channel,n=e.scaleType,r=e.fieldOrDatumDef,a=e.markDef,i=e.config;return function(e,t,n,r,a,i){if(e in E3){if(I6(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;var o=a.type,u=a.orient;if("bar"===o&&(!C8(r)||!r.bin&&!r.timeUnit)&&("vertical"===u&&"x"===e||"horizontal"===u&&"y"===e))return i.continuousBandSize}if(t===x6)return n.pointPadding}return}(t,n,i.scale,r,a,i.bar)},paddingInner:function(e){var t=e.scalePadding,n=e.channel,r=e.markDef,a=e.config;return function(e,t,n,r){if(void 0!==e)return;if(t in E3){var a=r.bandPaddingInner,i=r.barBandPaddingInner,o=r.rectBandPaddingInner;return N1(a,"bar"===n?i:o)}return}(t,n,r.type,a.scale)},paddingOuter:function(e){var t=e.scalePadding,n=e.channel,r=e.scaleType,a=e.markDef,i=e.scalePaddingInner,o=e.config;return function(e,t,n,r,a,i){if(void 0!==e)return;if(t in E3){if(n===_6)return N1(i.bandPaddingOuter,P5(a)?{signal:"".concat(a.signal,"/2")}:a/2)}return}(t,n,r,a.type,i,o.scale)},reverse:function(e){var t=e.fieldOrDatumDef,n=e.scaleType,r=e.channel,a=e.config;return function(e,t,n,r){if("x"===n&&void 0!==r.xReverse)return M6(e)&&"descending"===t?P5(r.xReverse)?{signal:"!".concat(r.xReverse.signal)}:!r.xReverse:r.xReverse;if(M6(e)&&"descending"===t)return!0;return}(n,C8(t)?t.sort:void 0,r,a.scale)},zero:function(e){return function(e,t,n,r,a){if(n&&"unaggregated"!==n&&M6(a)){if(C0(n)){var i=n[0],o=n[n.length-1];if(i<=0&&o>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!R6(a))return!0;if((!C8(t)||!t.bin)&&u1([].concat(Object(Qi.a)(C3),Object(Qi.a)(D3)),e)){var u=r.orient;return!u1(["bar","area","line","trail"],r.type)||!("horizontal"===u&&"y"===e||"vertical"===u&&"x"===e)}return!1}(e.channel,e.fieldOrDatumDef,e.domain,e.markDef,e.scaleType)}};function aoe(e){loe(e)?function(e){var t,n=e.component.scales,r=Object(pr.a)(I3);try{for(r.s();!(t=r.n()).done;){var a=t.value,i=n[a];if(i){var o=Jie(a,e);i.setWithExplicit("range",o)}}}catch(u){r.e(u)}finally{r.f()}}(e):ioe(e,"range")}function ioe(e,t){var n,r=e.component.scales,a=Object(pr.a)(e.children);try{for(a.s();!(n=a.n()).done;){var i=n.value;"range"===t?aoe(i):noe(i,t)}}catch(h){a.e(h)}finally{a.f()}var o,u=Object(pr.a)(m1(r));try{for(u.s();!(o=u.n()).done;){var s,c=o.value,l=void 0,f=Object(pr.a)(e.children);try{for(f.s();!(s=f.n()).done;){var d=s.value.component.scales[c];if(d)l=gee(l,d.getWithExplicit(t),t,"scale",vee((function(e,n){switch(t){case"range":return e.step&&n.step?e.step-n.step:0}return 0})))}}catch(h){f.e(h)}finally{f.f()}r[c].setWithExplicit(t,l)}}catch(h){u.e(h)}finally{u.f()}}function ooe(e,t,n,r){var a=function(e,t,n){var r;switch(t.type){case"nominal":case"ordinal":if(l3(e)||"discrete"===L3(e))return"shape"===e&&"ordinal"===t.type&&g5(x.discreteChannelCannotEncode(e,"ordinal")),"ordinal";if(e in E3){if(u1(["rect","bar","image","rule"],n))return"band"}else if("arc"===n&&e in S3)return"band";return void 0!==t.band||R8(t)&&(null===(r=t.axis)||void 0===r?void 0:r.tickBand)?"band":"point";case"temporal":return l3(e)?"time":"discrete"===L3(e)?(g5(x.discreteChannelCannotEncode(e,"temporal")),"ordinal"):C8(t)&&t.timeUnit&&I5(t.timeUnit).utc?"utc":"time";case"quantitative":return l3(e)?C8(t)&&W3(t.bin)?"bin-ordinal":"linear":"discrete"===L3(e)?(g5(x.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(x.invalidFieldType(t.type))}(t,n,r),i=e.type;return R3(t)?void 0!==i?q6(t,i)?C8(n)&&!V6(i,n.type)?(g5(x.scaleTypeNotWorkWithFieldDef(i,a)),a):i:(g5(x.scaleTypeNotWorkWithChannel(t,i,a)),a):a:null}function uoe(e){loe(e)?e.component.scales=function(e){var t=e.encoding,n=e.mark;return I3.reduce((function(r,a){var i=Z8(t[a]);if(i&&n===a2&&a===V2&&i.type===s6)return r;var o=i&&i.scale;if(i&&null!==o&&!1!==o){var u=ooe(o=null!==o&&void 0!==o?o:{},a,i,n);r[a]=new Kie(e.scaleName(a+"",!0),{value:u,explicit:o.type===u})}return r}),{})}(e):e.component.scales=function(e){var t,n,r=e.component.scales={},a={},i=e.component.resolve,o=Object(pr.a)(e.children);try{for(o.s();!(n=o.n()).done;){var u=n.value;uoe(u);var s,c=Object(pr.a)(m1(u.component.scales));try{for(c.s();!(s=c.n()).done;){var l=s.value;if(i.scale[l]=null!==(t=i.scale[l])&&void 0!==t?t:yae(l,e),"shared"===i.scale[l]){var f=a[l],d=u.component.scales[l].getWithExplicit("type");f?k6(f.value,d.value)?a[l]=gee(f,d,"type","scale",soe):(i.scale[l]="independent",delete a[l]):a[l]=d}}}catch(w){c.e(w)}finally{c.f()}}}catch(w){o.e(w)}finally{o.f()}var h,p=Object(pr.a)(m1(a));try{for(p.s();!(h=p.n()).done;){var v=h.value,m=e.scaleName(v,!0),g=a[v];r[v]=new Kie(m,g);var b,y=Object(pr.a)(e.children);try{for(y.s();!(b=y.n()).done;){var x=b.value,_=x.component.scales[v];_&&(x.renameScale(_.get("name"),m),_.merged=!0)}}catch(w){y.e(w)}finally{y.f()}}}catch(w){p.e(w)}finally{p.f()}return r}(e)}var soe=vee((function(e,t){return E6(e)-E6(t)}));var coe=function(){function e(){Object(Rb.a)(this,e),this.nameMap={}}return Object(Pb.a)(e,[{key:"rename",value:function(e,t){this.nameMap[e]=t}},{key:"has",value:function(e){return void 0!==this.nameMap[e]}},{key:"get",value:function(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}]),e}();function loe(e){return"unit"===(null===e||void 0===e?void 0:e.type)}function foe(e){return"facet"===(null===e||void 0===e?void 0:e.type)}function doe(e){return"concat"===(null===e||void 0===e?void 0:e.type)}function hoe(e){return"layer"===(null===e||void 0===e?void 0:e.type)}var poe=function(){function e(t,n,r,a,i,o,u){var s,c,l=this;Object(Rb.a)(this,e),this.type=n,this.parent=r,this.config=i,this.view=u,this.children=[],this.correctDataNames=function(e){return e.from&&e.from.data&&(e.from.data=l.lookupDataSource(e.from.data)),e.from&&e.from.facet&&e.from.facet.data&&(e.from.facet.data=l.lookupDataSource(e.from.facet.data)),e},this.parent=r,this.config=i,this.name=null!==(s=t.name)&&void 0!==s?s:a,this.title=l9(t.title)?{text:t.title}:t.title,this.scaleNameMap=r?r.scaleNameMap:new coe,this.projectionNameMap=r?r.projectionNameMap:new coe,this.signalNameMap=r?r.signalNameMap:new coe,this.data=t.data,this.description=t.description,this.transforms=(null!==(c=t.transform)&&void 0!==c?c:[]).map((function(e){return Aee(e)?{filter:Z0(e.filter,n6)}:e})),this.layout="layer"===n||"unit"===n?{}:function(e,t,n){var r,a,i=n[t],o={},u=i.spacing,s=i.columns;void 0!==u&&(o.spacing=u),void 0!==s&&(y8(e)&&!g8(e.facet)||s7(e))&&(o.columns=s),c7(e)&&(o.columns=1);var c,l=Object(pr.a)(h7);try{for(l.s();!(c=l.n()).done;){var f=c.value;if(void 0!==e[f])if("spacing"===f){var d=e[f];o[f]=B0(d)?d:{row:null!==(r=d.row)&&void 0!==r?r:u,column:null!==(a=d.column)&&void 0!==a?a:u}}else o[f]=e[f]}}catch(h){l.e(h)}finally{l.f()}return o}(t,n,i),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:y8(t)||r&&r.component.data.isFaceted&&void 0===t.data},layoutSize:new dee,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},o?t1(o):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}return Object(Pb.a)(e,[{key:"width",get:function(){return this.getSizeSignalRef("width")}},{key:"height",get:function(){return this.getSizeSignalRef("height")}},{key:"parse",value:function(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}},{key:"parseScale",value:function(){!function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ignoreRange;uoe(e),Iie(e);var n,r=Object(pr.a)(L6);try{for(r.s();!(n=r.n()).done;){noe(e,n.value)}}catch(a){r.e(a)}finally{r.f()}t||aoe(e)}(this)}},{key:"parseProjection",value:function(){Vae(this)}},{key:"renameTopLevelLayoutSizeSignal",value:function(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}},{key:"parseLegends",value:function(){Tae(this)}},{key:"assembleGroupStyle",value:function(){var e,t;if("unit"===this.type||"layer"===this.type)return null!==(t=null===(e=this.view)||void 0===e?void 0:e.style)&&void 0!==t?t:"cell"}},{key:"assembleEncodeFromView",value:function(e){e.style;var t,n=W0(e,["style"]),r={},a=Object(pr.a)(m1(n));try{for(a.s();!(t=a.n()).done;){var i=t.value,o=n[i];void 0!==o&&(r[i]=f9(o))}}catch(u){a.e(u)}finally{a.f()}return r}},{key:"assembleGroupEncodeEntry",value:function(e){var t={};return this.view&&(t=this.assembleEncodeFromView(this.view)),e||(this.description&&(t.description=f9(this.description)),"unit"!==this.type&&"layer"!==this.type)?v1(t)?void 0:t:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==t&&void 0!==t?t:{})}},{key:"assembleLayout",value:function(){if(this.layout){var e=this.layout,t=e.spacing,n=W0(e,["spacing"]),r=this.component,a=this.config,i=function(e,t){var n,r={},a=Object(pr.a)(d3);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=e[i];if(null===o||void 0===o?void 0:o.facetFieldDef){var u=eae(["titleAnchor","titleOrient"],o.facetFieldDef,t,i),s=u.titleAnchor,c=Qre(i,u.titleOrient),l=fae(s,c);void 0!==l&&(r[c]=l)}}}catch(f){a.e(f)}finally{a.f()}return v1(r)?void 0:r}(r.layoutHeaders,a);return Object.assign(Object.assign(Object.assign({padding:t},this.assembleDefaultLayout()),n),i?{titleBand:i}:{})}}},{key:"assembleDefaultLayout",value:function(){return{}}},{key:"assembleHeaderMarks",value:function(){var e,t=this.component.layoutHeaders,n=[],r=Object(pr.a)(d3);try{for(r.s();!(e=r.n()).done;){var a=e.value;t[a].title&&n.push(rae(this,a))}}catch(s){r.e(s)}finally{r.f()}var i,o=Object(pr.a)(tae);try{for(o.s();!(i=o.n()).done;){var u=i.value;n=n.concat(oae(this,u))}}catch(s){o.e(s)}finally{o.f()}return n}},{key:"assembleAxes",value:function(){return function(e,t){var n=e.x,r=void 0===n?[]:n,a=e.y,i=void 0===a?[]:a;return[].concat(Object(Qi.a)(r.map((function(e){return Ire(e,"grid",t)}))),Object(Qi.a)(i.map((function(e){return Ire(e,"grid",t)}))),Object(Qi.a)(r.map((function(e){return Ire(e,"main",t)}))),Object(Qi.a)(i.map((function(e){return Ire(e,"main",t)})))).filter((function(e){return e}))}(this.component.axes,this.config)}},{key:"assembleLegends",value:function(){return Bae(this)}},{key:"assembleProjections",value:function(){return zae(this)}},{key:"assembleTitle",value:function(){var e,t,n,r=null!==(e=this.title)&&void 0!==e?e:{},a=r.encoding,i=W0(r,["encoding"]),o=Object.assign(Object.assign(Object.assign({},c9(this.config.title).nonMark),i),a?{encode:{update:a}}:{});if(o.text)return u1(["unit","layer"],this.type)?u1(["middle",void 0],o.anchor)&&(o.frame=null!==(t=o.frame)&&void 0!==t?t:"group"):o.anchor=null!==(n=o.anchor)&&void 0!==n?n:"start",v1(o)?void 0:o}},{key:"assembleGroup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};(e=e.concat(this.assembleSignals())).length>0&&(t.signals=e);var n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=!this.parent||foe(this.parent)?Hie(this):[];r.length>0&&(t.scales=r);var a=this.assembleAxes();a.length>0&&(t.axes=a);var i=this.assembleLegends();return i.length>0&&(t.legends=i),t}},{key:"getName",value:function(e){return x1((this.name?this.name+"_":"")+e)}},{key:"requestDataName",value:function(e){var t,n=this.getName(e),r=this.component.data.outputNodeRefCounts;return r[n]=(null!==(t=r[n])&&void 0!==t?t:0)+1,n}},{key:"getSizeSignalRef",value:function(e){if(foe(this.parent)){var t=N3(gae(e)),n=this.component.scales[t];if(n&&!n.merged){var r=n.get("type"),a=n.get("range");if(T6(r)&&B5(a)){var i=n.get("name"),o=Vie(qie(this,t));return o?{signal:mae(i,n,L8({aggregate:"distinct",field:o},{expr:"datum"}))}:(g5("Unknown field for ".concat(t,". Cannot calculate view size.")),null)}}}return{signal:this.signalNameMap.get(this.getName(e))}}},{key:"lookupDataSource",value:function(e){var t=this.component.data.outputNodes[e];return t?t.getSource():e}},{key:"getSignalName",value:function(e){return this.signalNameMap.get(e)}},{key:"renameSignal",value:function(e,t){this.signalNameMap.rename(e,t)}},{key:"renameScale",value:function(e,t){this.scaleNameMap.rename(e,t)}},{key:"renameProjection",value:function(e,t){this.projectionNameMap.rename(e,t)}},{key:"scaleName",value:function(e,t){return t?this.getName(e):g3(e)&&R3(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0}},{key:"projectionName",value:function(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}},{key:"getScaleComponent",value:function(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");var t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0}},{key:"getSelectionComponent",value:function(e,t){var n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error(x.selectionNotFound(t));return n}},{key:"hasAxisOrientSignalRef",value:function(){var e,t;return(null===(e=this.component.axes.x)||void 0===e?void 0:e.some((function(e){return e.hasOrientSignalRef()})))||(null===(t=this.component.axes.y)||void 0===t?void 0:t.some((function(e){return e.hasOrientSignalRef()})))}}]),e}(),voe=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(){return Object(Rb.a)(this,n),t.apply(this,arguments)}return Object(Pb.a)(n,[{key:"vgField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.fieldDef(e);if(n)return L8(n,t)}},{key:"reduceFieldDef",value:function(e,t){return S9(this.getMapping(),(function(t,n,r){var a=Q8(n);return a?e(t,a,r):t}),t)}},{key:"forEachFieldDef",value:function(e,t){A9(this.getMapping(),(function(t,n){var r=Q8(t);r&&e(r,n)}),t)}}]),n}(poe),moe=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a,i,o,u;Object(Rb.a)(this,n),(a=t.call(this,e)).transform=r,a.transform=t1(r);var s=null!==(i=a.transform.as)&&void 0!==i?i:[void 0,void 0];return a.transform.as=[null!==(o=s[0])&&void 0!==o?o:"value",null!==(u=s[1])&&void 0!==u?u:"density"],a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,t1(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.density].concat(Object(Qi.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"DensityTransform ".concat(i1(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.density,n=W0(e,["density"]);return Object.assign({type:"kde",field:t},n)}}]),n}(xte),goe=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a;return Object(Rb.a)(this,n),(a=t.call(this,e)).filter=r,a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,Object.assign({},this.filter))}},{key:"dependentFields",value:function(){return new Set(m1(this.filter))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"FilterInvalid ".concat(i1(this.filter))}},{key:"assemble",value:function(){var e=this,t=m1(this.filter).reduce((function(t,n){var r=e.filter[n],a=L8(r,{expr:"datum"});return null!==r&&("temporal"===r.type?t.push("(isDate(".concat(a,") || (isValid(").concat(a,") && isFinite(+").concat(a,")))")):"quantitative"===r.type&&(t.push("isValid(".concat(a,")")),t.push("isFinite(+".concat(a,")")))),t}),[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}],[{key:"make",value:function(e,t){var r=t.config,a=t.mark;if("filter"!==v9("invalid",t.markDef,r))return null;var i=t.reduceFieldDef((function(e,n,r){var i=R3(r)&&t.getScaleComponent(r);i&&(M6(i.get("type"))&&"count"!==n.aggregate&&!i2(a)&&(e[n.field]=n));return e}),{});return m1(i).length?new n(e,i):null}}]),n}(xte),boe=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a;Object(Rb.a)(this,n),(a=t.call(this,e)).transform=r,a.transform=t1(r);var i=a.transform,o=i.flatten,u=i.as,s=void 0===u?[]:u;return a.transform.as=o.map((function(e,t){var n;return null!==(n=s[t])&&void 0!==n?n:e})),a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(this.parent,t1(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.flatten)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FlattenTransform ".concat(i1(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"flatten",fields:e.flatten,as:e.as}}}]),n}(xte),yoe=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a,i,o,u;Object(Rb.a)(this,n),(a=t.call(this,e)).transform=r,a.transform=t1(r);var s=null!==(i=a.transform.as)&&void 0!==i?i:[void 0,void 0];return a.transform.as=[null!==(o=s[0])&&void 0!==o?o:"key",null!==(u=s[1])&&void 0!==u?u:"value"],a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,t1(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.fold)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FoldTransform ".concat(i1(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"fold",fields:e.fold,as:e.as}}}]),n}(xte),xoe=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r,a,i){var o;return Object(Rb.a)(this,n),(o=t.call(this,e)).fields=r,o.geojson=a,o.signal=i,o}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,t1(this.fields),this.geojson,this.signal)}},{key:"dependentFields",value:function(){var e,t=(null!==(e=this.fields)&&void 0!==e?e:[]).filter(z0);return new Set([].concat(Object(Qi.a)(this.geojson?[this.geojson]:[]),Object(Qi.a)(t)))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(i1(this.fields))}},{key:"assemble",value:function(){return Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})}}],[{key:"parseAll",value:function(e,t){if(t.component.projection&&!t.component.projection.isFit)return e;for(var r=0,a=0,i=[[P2,R2],[z2,B2]];a<i.length;a++){var o=i[a].map((function(e){var n=Z8(t.encoding[e]);return C8(n)?n.field:S8(n)?{expr:"".concat(n.datum)}:M8(n)?{expr:"".concat(n.value)}:void 0}));(o[0]||o[1])&&(e=new n(e,o,null,t.getName("geojson_".concat(r++))))}if(t.channelHasField(V2)){var u=t.typedFieldDef(V2);u.type===s6&&(e=new n(e,null,u.field,t.getName("geojson_".concat(r++))))}return e}}]),n}(xte),_oe=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r,a,i){var o;return Object(Rb.a)(this,n),(o=t.call(this,e)).projection=r,o.fields=a,o.as=i,o}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,this.projection,t1(this.fields),t1(this.as))}},{key:"dependentFields",value:function(){return new Set(this.fields.filter(z0))}},{key:"producedFields",value:function(){return new Set(this.as)}},{key:"hash",value:function(){return"Geopoint ".concat(this.projection," ").concat(i1(this.fields)," ").concat(i1(this.as))}},{key:"assemble",value:function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}],[{key:"parseAll",value:function(e,t){if(!t.projectionName())return e;for(var r=0,a=[[P2,R2],[z2,B2]];r<a.length;r++){var i=a[r],o=i.map((function(e){var n=Z8(t.encoding[e]);return C8(n)?n.field:S8(n)?{expr:"".concat(n.datum)}:M8(n)?{expr:"".concat(n.value)}:void 0})),u=i[0]===z2?"2":"";(o[0]||o[1])&&(e=new n(e,t.projectionName(),o,[t.getName("x"+u),t.getName("y"+u)]))}return e}}]),n}(xte),woe=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a;return Object(Rb.a)(this,n),(a=t.call(this,e)).transform=r,a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,t1(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.impute,this.transform.key].concat(Object(Qi.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set([this.transform.impute])}},{key:"processSequence",value:function(e){var t=e.start,n=void 0===t?0:t,r=e.stop,a=e.step,i=[n,r].concat(Object(Qi.a)(a?[a]:[])).join(",");return{signal:"sequence(".concat(i,")")}}},{key:"hash",value:function(){return"Impute ".concat(i1(this.transform))}},{key:"assemble",value:function(){var e,t=this.transform,n=t.impute,r=t.key,a=t.keyvals,i=t.method,o=t.groupby,u=t.value,s=t.frame,c=void 0===s?[null,null]:s,l=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:n,key:r},a?{keyvals:(e=a,void 0!==(null===e||void 0===e?void 0:e.stop)?this.processSequence(a):a)}:{}),{method:"value"}),o?{groupby:o}:{}),{value:i&&"value"!==i?null:u});return i&&"value"!==i?[l,Object.assign({type:"window",as:["imputed_".concat(n,"_value")],ops:[i],fields:[n],frame:c,ignorePeers:!1},o?{groupby:o}:{}),{type:"formula",expr:"datum.".concat(n," === null ? datum.imputed_").concat(n,"_value : datum.").concat(n),as:n}]:[l]}}],[{key:"makeFromTransform",value:function(e,t){return new n(e,t)}},{key:"makeFromEncoding",value:function(e,t){var r=t.encoding,a=r.x,i=r.y;if(C8(a)&&C8(i)){var o=a.impute?a:i.impute?i:void 0;if(void 0===o)return;var u=a.impute?i:i.impute?a:void 0,s=o.impute,c=s.method,l=s.value,f=s.frame,d=s.keyvals,h=D9(t.mark,r);return new n(e,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:o.field,key:u.field},c?{method:c}:{}),void 0!==l?{value:l}:{}),f?{frame:f}:{}),void 0!==d?{keyvals:d}:{}),h.length?{groupby:h}:{}))}return null}}]),n}(xte),Ooe=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a,i,o,u;Object(Rb.a)(this,n),(a=t.call(this,e)).transform=r,a.transform=t1(r);var s=null!==(i=a.transform.as)&&void 0!==i?i:[void 0,void 0];return a.transform.as=[null!==(o=s[0])&&void 0!==o?o:r.on,null!==(u=s[1])&&void 0!==u?u:r.loess],a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,t1(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.loess,this.transform.on].concat(Object(Qi.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"LoessTransform ".concat(i1(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.loess,n=e.on,r=W0(e,["loess","on"]);return Object.assign({type:"loess",x:n,y:t},r)}}]),n}(xte),koe=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r,a){var i;return Object(Rb.a)(this,n),(i=t.call(this,e)).transform=r,i.secondary=a,i}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,t1(this.transform),this.secondary)}},{key:"dependentFields",value:function(){return new Set([this.transform.lookup])}},{key:"producedFields",value:function(){return new Set(this.transform.as?T0(this.transform.as):this.transform.from.fields)}},{key:"hash",value:function(){return"Lookup ".concat(i1({transform:this.transform,secondary:this.secondary}))}},{key:"assemble",value:function(){var e;if(this.transform.from.fields)e=Object.assign({values:this.transform.from.fields},this.transform.as?{as:T0(this.transform.as)}:{});else{var t=this.transform.as;z0(t)||(g5(x.NO_FIELDS_NEEDS_AS),t="_lookup"),e={as:[t]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e),this.transform.default?{default:this.transform.default}:{})}}],[{key:"make",value:function(e,t,r,a){var i=t.component.data.sources,o=r.from,u=null;if(function(e){return"data"in e}(o)){var s=Loe(o.data,i);s||(s=new Xae(o.data),i.push(s));var c=t.getName("lookup_".concat(a));u=new _te(s,c,"lookup",t.component.data.outputNodeRefCounts),t.component.data.outputNodes[c]=u}else if(function(e){return"selection"in e}(o)){var l=o.selection;if(r=Object.assign({as:l},r),!(u=t.getSelectionComponent(x1(l),l).materialized))throw new Error(x.noSameUnitLookup(l))}return new n(e,r,u.getSource())}}]),n}(xte),joe=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a,i,o,u;Object(Rb.a)(this,n),(a=t.call(this,e)).transform=r,a.transform=t1(r);var s=null!==(i=a.transform.as)&&void 0!==i?i:[void 0,void 0];return a.transform.as=[null!==(o=s[0])&&void 0!==o?o:"prob",null!==(u=s[1])&&void 0!==u?u:"value"],a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,t1(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.quantile].concat(Object(Qi.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"QuantileTransform ".concat(i1(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.quantile,n=W0(e,["quantile"]);return Object.assign({type:"quantile",field:t},n)}}]),n}(xte),Eoe=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a,i,o,u;Object(Rb.a)(this,n),(a=t.call(this,e)).transform=r,a.transform=t1(r);var s=null!==(i=a.transform.as)&&void 0!==i?i:[void 0,void 0];return a.transform.as=[null!==(o=s[0])&&void 0!==o?o:r.on,null!==(u=s[1])&&void 0!==u?u:r.regression],a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,t1(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.regression,this.transform.on].concat(Object(Qi.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"RegressionTransform ".concat(i1(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.regression,n=e.on,r=W0(e,["regression","on"]);return Object.assign({type:"regression",x:n,y:t},r)}}]),n}(xte),Coe=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a;return Object(Rb.a)(this,n),(a=t.call(this,e)).transform=r,a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,t1(this.transform))}},{key:"addDimensions",value:function(e){var t;this.transform.groupby=f1((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(e),(function(e){return e}))}},{key:"producedFields",value:function(){}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.pivot,this.transform.value].concat(Object(Qi.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"hash",value:function(){return"PivotTransform ".concat(i1(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.pivot,n=e.value,r=e.groupby,a=e.limit,i=e.op;return Object.assign(Object.assign(Object.assign({type:"pivot",field:t,value:n},void 0!==a?{limit:a}:{}),void 0!==i?{op:i}:{}),void 0!==r?{groupby:r}:{})}}]),n}(xte),Aoe=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r){var a;return Object(Rb.a)(this,n),(a=t.call(this,e)).transform=r,a}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(null,t1(this.transform))}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"SampleTransform ".concat(i1(this.transform))}},{key:"assemble",value:function(){return{type:"sample",size:this.transform.sample}}}]),n}(xte);function Soe(e){var t=0;return function n(r,a){var i,o,u;if(r instanceof Xae&&(r.isGenerator||yee(r.data)||(e.push(a),a={name:null,source:a.name,transform:[]})),r instanceof lie&&(r.parent instanceof Xae&&!a.source?(a.format=Object.assign(Object.assign({},null!==(i=a.format)&&void 0!==i?i:{}),{parse:r.assembleFormatParse()}),(o=a.transform).push.apply(o,Object(Qi.a)(r.assembleTransforms(!0)))):(u=a.transform).push.apply(u,Object(Qi.a)(r.assembleTransforms()))),r instanceof iie){a.name||(a.name="data_".concat(t++)),!a.source||a.transform.length>0?(e.push(a),r.data=a.name):r.data=a.source;var s,c=Object(pr.a)(r.assemble());try{for(c.s();!(s=c.n()).done;){var l=s.value;e.push(l)}}catch(v){c.e(v)}finally{c.f()}}else{var f;if((r instanceof Jae||r instanceof Qae||r instanceof goe||r instanceof Sre||r instanceof Yre||r instanceof _oe||r instanceof xoe||r instanceof aie||r instanceof koe||r instanceof pie||r instanceof die||r instanceof yoe||r instanceof boe||r instanceof moe||r instanceof Ooe||r instanceof joe||r instanceof Eoe||r instanceof fie||r instanceof Aoe||r instanceof Coe)&&a.transform.push(r.assemble()),r instanceof $ae||r instanceof wte||r instanceof woe||r instanceof hie)(f=a.transform).push.apply(f,Object(Qi.a)(r.assemble()));if(r instanceof _te)if(a.source&&0===a.transform.length)r.setSource(a.source);else if(r.parent instanceof _te)r.setSource(a.name);else{if(a.name||(a.name="data_".concat(t++)),r.setSource(a.name),1===r.numChildren())e.push(a),a={name:null,source:a.name,transform:[]}}switch(r.numChildren()){case 0:r instanceof _te&&(!a.source||a.transform.length>0)&&e.push(a);break;case 1:n(r.children[0],a);break;default:a.name||(a.name="data_".concat(t++));var d=a.name;!a.source||a.transform.length>0?e.push(a):d=a.source;var h,p=Object(pr.a)(r.children);try{for(p.s();!(h=p.n()).done;){n(h.value,{name:null,source:d,transform:[]})}}catch(v){p.e(v)}finally{p.f()}}}}}function Doe(e,t){var n,r,a,i=[],o=Soe(i),u=0,s=Object(pr.a)(e.sources);try{for(s.s();!(a=s.n()).done;){var c=a.value;c.hasName()||(c.dataName="source_".concat(u++));var l=c.assemble();o(c,l)}}catch(S){s.e(S)}finally{s.f()}for(var f=0,d=i;f<d.length;f++){var h=d[f];0===h.transform.length&&delete h.transform}var p,v=0,m=Object(pr.a)(i.entries());try{for(m.s();!(p=m.n()).done;){var g=Object(vr.a)(p.value,2),b=g[0],y=g[1];0!==(null!==(n=y.transform)&&void 0!==n?n:[]).length||y.source||i.splice(v++,0,i.splice(b,1)[0])}}catch(S){m.e(S)}finally{m.f()}for(var x=0,_=i;x<_.length;x++){var w,O=_[x],k=Object(pr.a)(null!==(r=O.transform)&&void 0!==r?r:[]);try{for(k.s();!(w=k.n()).done;){var j=w.value;"lookup"===j.type&&(j.from=e.outputNodes[j.from].getSource())}}catch(S){k.e(S)}finally{k.f()}}for(var E=0,C=i;E<C.length;E++){var A=C[E];A.name in t&&(A.values=t[A.name])}return i}function Noe(e,t){var n,r=e.facet,a=e.config,i=e.child,o=e.component;if(e.channelHasField(t)){var u=r[t],s=Zre("title",null,a,t),c=$8(u,a,{allowDisabling:!0,includeDefault:void 0===s||!!s});i.component.layoutHeaders[t].title&&(c=C0(c)?c.join(", "):c,c+=" / "+i.component.layoutHeaders[t].title,i.component.layoutHeaders[t].title=null);var l=Zre("labelOrient",u,a,t),f=N1((null!==(n=u.header)&&void 0!==n?n:{}).labels,a.header.labels,!0),d=u1(["bottom","right"],l)?"footer":"header";o.layoutHeaders[t]=Object(Zi.a)({title:c,facetFieldDef:u},d,"facet"===t?[]:[Foe(e,t,f)])}}function Foe(e,t,n){var r="row"===t?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function Toe(e,t){var n,r,a=e.child;if(a.component.axes[t]){var i=e.component,o=i.layoutHeaders,u=i.resolve;if(u.axis[t]=xae(u,t),"shared"===u.axis[t]){var s,c="x"===t?"column":"row",l=o[c],f=Object(pr.a)(a.component.axes[t]);try{for(f.s();!(s=f.n()).done;){var d=s.value,h="top"===(r=d.get("orient"))||"left"===r||P5(r)?"header":"footer";l[h]=null!==(n=l[h])&&void 0!==n?n:[Foe(e,c,!1)];var p=Ire(d,"main",e.config,{header:!0});p&&l[h][0].axes.push(p),d.mainExtracted=!0}}catch(v){f.e(v)}finally{f.f()}}}}function Moe(e){Ioe(e);var t=1===e.layout.columns?"width":"childWidth",n=void 0===e.layout.columns?"height":"childHeight";Roe(e,t),Roe(e,n)}function Ioe(e){var t,n=Object(pr.a)(e.children);try{for(n.s();!(t=n.n()).done;){t.value.parseLayoutSize()}}catch(r){n.e(r)}finally{n.f()}}function Roe(e,t){var n,r,a=gae(t),i=N3(a),o=e.component.resolve,u=e.component.layoutSize,s=Object(pr.a)(e.children);try{for(s.s();!(r=s.n()).done;){var c=r.value.component.layoutSize.getWithExplicit(a),l=o.scale[i];if("independent"===l&&"step"===c.value){n=void 0;break}if(n){if("independent"===l&&n.value!==c.value){n=void 0;break}n=gee(n,c,a,"")}else n=c}}catch(p){s.e(p)}finally{s.f()}if(n){var f,d=Object(pr.a)(e.children);try{for(d.s();!(f=d.n()).done;){var h=f.value;e.renameSignal(h.getName(a),e.getName(t)),h.component.layoutSize.set(a,"merged",!1)}}catch(p){d.e(p)}finally{d.f()}u.setWithExplicit(t,n)}else u.setWithExplicit(t,{explicit:!1,value:void 0})}function Poe(e,t){var n="width"===t?"x":"y",r=e.config,a=e.getScaleComponent(n);if(a){var i=a.get("type"),o=a.get("range");if(T6(i)){var u=m7(r.view,t);return B5(o)||f7(u)?"step":u}return p7(r.view,t)}if(e.hasProjection||"arc"===e.mark)return p7(r.view,t);var s=m7(r.view,t);return f7(s)?s.step:s}function Boe(e,t,n){return L8(t,Object.assign({suffix:"by_".concat(L8(e))},null!==n&&void 0!==n?n:{}))}var zoe=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r,a,i){var o;return Object(Rb.a)(this,n),(o=t.call(this,e,"facet",r,a,i,e.resolve)).child=pue(e.spec,Object(fee.a)(o),o.getName("child"),void 0,i),o.children=[o.child],o.facet=o.initFacet(e.facet,i),o}return Object(Pb.a)(n,[{key:"initFacet",value:function(e,t){return g8(e)?S9(e,(function(e,n,r){return u1([j2,E2],r)?void 0===n.field?(g5(x.emptyFieldDef(n,r)),e):(e[r]=e9(n,r,t),e):(g5(x.incompatibleChannel(r,"facet")),e)}),{}):{facet:e9(e,"facet",t)}}},{key:"channelHasField",value:function(e){return!!this.facet[e]}},{key:"fieldDef",value:function(e){return this.facet[e]}},{key:"parseData",value:function(){this.component.data=Woe(this),this.child.parseData()}},{key:"parseLayoutSize",value:function(){Ioe(this)}},{key:"parseSelections",value:function(){this.child.parseSelections(),this.component.selection=this.child.component.selection}},{key:"parseMarkGroup",value:function(){this.child.parseMarkGroup()}},{key:"parseAxesAndHeaders",value:function(){this.child.parseAxesAndHeaders(),function(e){var t,n=Object(pr.a)(d3);try{for(n.s();!(t=n.n()).done;)Noe(e,t.value)}catch(r){n.e(r)}finally{n.f()}Toe(e,"x"),Toe(e,"y")}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.child.assembleSelectionTopLevelSignals(e)}},{key:"assembleSignals",value:function(){return this.child.assembleSignals(),[]}},{key:"assembleSelectionData",value:function(e){return this.child.assembleSelectionData(e)}},{key:"getHeaderLayoutMixins",value:function(){var e,t,n,r,a={},i=Object(pr.a)(d3);try{for(i.s();!(r=i.n()).done;){var o,u=r.value,s=Object(pr.a)(nae);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=this.component.layoutHeaders[u],f=l[c],d=l.facetFieldDef;if(d){var h=Zre("titleOrient",d,this.config,u);if(u1(["right","bottom"],h)){var p=Qre(u,h);a.titleAnchor=null!==(e=a.titleAnchor)&&void 0!==e?e:{},a.titleAnchor[p]="end"}}if(null===f||void 0===f?void 0:f[0]){var v="row"===u?"height":"width",m="header"===c?"headerBand":"footerBand";"facet"===u||this.child.component.layoutSize.get(v)||(a[m]=null!==(t=a[m])&&void 0!==t?t:{},a[m][u]=.5),l.title&&(a.offset=null!==(n=a.offset)&&void 0!==n?n:{},a.offset["row"===u?"rowTitle":"columnTitle"]=10)}}}catch(g){s.e(g)}finally{s.f()}}}catch(g){i.e(g)}finally{i.f()}return a}},{key:"assembleDefaultLayout",value:function(){var e=this.facet,t=e.column,n=e.row,r=t?this.columnDistinctSignal():n?1:void 0,a="all";return(n||"independent"!==this.component.resolve.scale.x)&&(t||"independent"!==this.component.resolve.scale.y)||(a="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),r?{columns:r}:{}),{bounds:"full",align:a})}},{key:"assembleLayoutSignals",value:function(){return this.child.assembleLayoutSignals()}},{key:"columnDistinctSignal",value:function(){if(!(this.parent&&this.parent instanceof n)){var e=this.getName("column_domain");return{signal:"length(data('".concat(e,"'))")}}}},{key:"assembleGroup",value:function(e){return this.parent&&this.parent instanceof n?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:L8(this.facet.column,{prefix:"distinct"})}}}}:{}),Object(F7.a)(Object(T7.a)(n.prototype),"assembleGroup",this).call(this,e)):Object(F7.a)(Object(T7.a)(n.prototype),"assembleGroup",this).call(this,e)}},{key:"getCardinalityAggregateForChild",value:function(){var e=[],t=[],r=[];if(this.child instanceof n){if(this.child.channelHasField("column")){var a=L8(this.child.facet.column);e.push(a),t.push("distinct"),r.push("distinct_".concat(a))}}else{var i,o=Object(pr.a)(C3);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=this.child.component.scales[u];if(s&&!s.merged){var c=s.get("type"),l=s.get("range");if(T6(c)&&B5(l)){var f=Vie(qie(this.child,u));f?(e.push(f),t.push("distinct"),r.push("distinct_".concat(f))):g5("Unknown field for ".concat(u,". Cannot calculate view size."))}}}}catch(d){o.e(d)}finally{o.f()}}return{fields:e,ops:t,as:r}}},{key:"assembleFacet",value:function(){var e,t=this.component.data.facetRoot,n=t.name,r=t.data,a=this.facet,i=a.row,o=a.column,u=this.getCardinalityAggregateForChild(),s=u.fields,c=u.ops,l=u.as,f=[],d=Object(pr.a)(d3);try{for(d.s();!(e=d.n()).done;){var h=e.value,p=this.facet[h];if(p){f.push(L8(p));var v=p.bin,m=p.sort;if(W3(v)&&f.push(L8(p,{binSuffix:"end"})),v8(m)){var g=m.field,b=m.op,y=void 0===b?f8:b,x=Boe(p,m);i&&o?(s.push(x),c.push("max"),l.push(x)):(s.push(g),c.push(y),l.push(x))}else if(C0(m)){var _=Jre(p,h);s.push(_),c.push("max"),l.push(_)}}}}catch(O){d.e(O)}finally{d.f()}var w=!!i&&!!o;return Object.assign({name:n,data:r,groupby:f},w||s.length>0?{aggregate:Object.assign(Object.assign({},w?{cross:w}:{}),s.length?{fields:s,ops:c,as:l}:{})}:{})}},{key:"facetSortFields",value:function(e){var t=this.facet[e];return t?v8(t.sort)?[Boe(t,t.sort,{expr:"datum"})]:C0(t.sort)?[Jre(t,e,{expr:"datum"})]:[L8(t,{expr:"datum"})]:[]}},{key:"facetSortOrder",value:function(e){var t=this.facet[e];if(t){var n=t.sort;return[(v8(n)?n.order:!C0(n)&&n)||"ascending"]}return[]}},{key:"assembleLabelTitle",value:function(){var e=this.facet,t=this.config;if(e.facet)return sae(e.facet,"facet",t);var n,r={row:["top","bottom"],column:["left","right"]},a=Object(pr.a)(tae);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(e[i]){var o=Zre("labelOrient",e[i],t,i);if(u1(r[i],o))return sae(e[i],i,t)}}}catch(u){a.e(u)}finally{a.f()}}},{key:"assembleMarks",value:function(){var e=this,t=this.child,n=function(e){var t,n=[],r=Soe(n),a=Object(pr.a)(e.children);try{for(a.s();!(t=a.n()).done;)r(t.value,{source:e.name,name:null,transform:[]})}catch(i){a.e(i)}finally{a.f()}return n}(this.component.data.facetRoot),r=t.assembleGroupEncodeEntry(!1),a=this.assembleLabelTitle()||t.assembleTitle(),i=t.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},a?{title:a}:{}),i?{style:i}:{}),{from:{facet:this.assembleFacet()},sort:{field:d3.map((function(t){return e.facetSortFields(t)})).flat(),order:d3.map((function(t){return e.facetSortOrder(t)})).flat()}}),n.length>0?{data:n}:{}),r?{encode:{update:r}}:{}),t.assembleGroup(function(e,t){if(e.component.selection&&m1(e.component.selection).length){var n=L0(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:hJ("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(n,").datum")}]})}return Hte(t)}(this,[])))]}},{key:"getMapping",value:function(){return this.facet}}]),n}(voe);function Loe(e,t){var n,r,a,i,o,u,s,c,l,f,d,h=Object(pr.a)(t);try{for(h.s();!(d=h.n()).done;){var p=d.value,v=p.data;if((!e.name||!p.hasName()||e.name===p.dataName)&&((!(null===(n=e.format)||void 0===n?void 0:n.mesh)||!(null===(r=v.format)||void 0===r?void 0:r.feature))&&(!(null===(a=e.format)||void 0===a?void 0:a.feature)&&!(null===(i=v.format)||void 0===i?void 0:i.feature)||(null===(o=e.format)||void 0===o?void 0:o.feature)===(null===(u=v.format)||void 0===u?void 0:u.feature))&&(!(null===(s=e.format)||void 0===s?void 0:s.mesh)&&!(null===(c=v.format)||void 0===c?void 0:c.mesh)||(null===(l=e.format)||void 0===l?void 0:l.mesh)===(null===(f=v.format)||void 0===f?void 0:f.mesh))))if(xee(e)&&xee(v)){if(e1(e.values,v.values))return p}else if(yee(e)&&yee(v)){if(e.url===v.url)return p}else if(_ee(e)&&e.name===p.dataName)return p}}catch(m){h.e(m)}finally{h.f()}return null}function Uoe(e,t){if(e.data||!e.parent){if(null===e.data){var n=new Xae({values:[]});return t.push(n),n}var r=Loe(e.data,t);if(r)return wee(e.data)||(r.data.format=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0,i=n;a<i.length;a++){var o=i[a];l1(e,null!==o&&void 0!==o?o:{})}return e}({},e.data.format,r.data.format)),!r.hasName()&&e.data.name&&(r.dataName=e.data.name),r;var a=new Xae(e.data);return t.push(a),a}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function Woe(e){var t,n,r,a,i,o,u,s,c,l,f=Uoe(e,e.component.data.sources),d=e.component.data,h=d.outputNodes,p=d.outputNodeRefCounts,v=e.parent?e.parent.component.data.ancestorParse.clone():new bee,m=e.data;wee(m)?(Oee(m)?f=new Qae(f,m.sequence):jee(m)&&(f=new Jae(f,m.graticule)),v.parseNothing=!0):null===(null===(t=null===m||void 0===m?void 0:m.format)||void 0===t?void 0:t.parse)&&(v.parseNothing=!0),f=null!==(n=lie.makeExplicit(f,e,v))&&void 0!==n?n:f,f=new fie(f);var g=e.parent&&hoe(e.parent);(loe(e)||foe(e))&&g&&(f=null!==(r=$ae.makeFromEncoding(f,e))&&void 0!==r?r:f),e.transforms.length>0&&(f=function(e,t,n){var r,a,i,o=0,u=Object(pr.a)(t.transforms);try{for(u.s();!(i=u.n()).done;){var s=i.value,c=void 0,l=void 0;if(zee(s))l=e=new Yre(e,s),c="derived";else if(Aee(s)){var f=sie(s);l=e=null!==(r=lie.makeWithAncestors(e,{},f,n))&&void 0!==r?r:e,e=new Sre(e,t,s.filter)}else if(Lee(s))l=e=$ae.makeFromTransform(e,s,t),c="number";else if(Wee(s))c="date",void 0===n.getWithExplicit(s.field).value&&(e=new lie(e,Object(Zi.a)({},s.field,c)),n.set(s.field,c,!1)),l=e=wte.makeFromTransform(e,s);else if(Vee(s))l=e=aie.makeFromTransform(e,s),c="number",une(t)&&(e=new fie(e));else if(See(s))l=e=koe.make(e,t,s,o++),c="derived";else if(Ree(s))l=e=new pie(e,s),c="number";else if(Pee(s))l=e=new die(e,s),c="number";else if(qee(s))l=e=hie.makeFromTransform(e,s),c="derived";else if(Hee(s))l=e=new yoe(e,s),c="derived";else if(Bee(s))l=e=new boe(e,s),c="derived";else if(Dee(s))l=e=new Coe(e,s),c="derived";else if(Iee(s))e=new Aoe(e,s);else if(Uee(s))l=e=woe.makeFromTransform(e,s),c="derived";else if(Nee(s))l=e=new moe(e,s),c="derived";else if(Fee(s))l=e=new joe(e,s),c="derived";else if(Tee(s))l=e=new Eoe(e,s),c="derived";else{if(!Mee(s)){g5(x.invalidTransformIgnored(s));continue}l=e=new Ooe(e,s),c="derived"}if(l&&void 0!==c){var d,h=Object(pr.a)(null!==(a=l.producedFields())&&void 0!==a?a:[]);try{for(h.s();!(d=h.n()).done;){var p=d.value;n.set(p,c,!1)}}catch(v){h.e(v)}finally{h.f()}}}}catch(v){u.e(v)}finally{u.f()}return e}(f,e,v));var b=function(e){var t={};if(loe(e)&&e.component.selection){var n,r=Object(pr.a)(m1(e.component.selection));try{for(r.s();!(n=r.n()).done;){var a,i=n.value,o=e.component.selection[i],u=Object(pr.a)(o.project.items);try{for(u.s();!(a=u.n()).done;){var s=a.value;!s.channel&&D1(s.field)>1&&(t[s.field]="flatten")}}catch(c){u.e(c)}finally{u.f()}}}catch(c){r.e(c)}finally{r.f()}}return t}(e),y=cie(e);f=null!==(a=lie.makeWithAncestors(f,{},Object.assign(Object.assign({},b),y),v))&&void 0!==a?a:f,loe(e)&&(f=xoe.parseAll(f,e),f=_oe.parseAll(f,e)),(loe(e)||foe(e))&&(g||(f=null!==(i=$ae.makeFromEncoding(f,e))&&void 0!==i?i:f),f=null!==(o=wte.makeFromEncoding(f,e))&&void 0!==o?o:f,f=Yre.parseAllForSortIndex(f,e));var _=e.getName(Cee),w=new _te(f,_,Cee,p);if(h[_]=w,f=w,loe(e)){var O=aie.makeFromEncoding(f,e);O&&(f=O,une(e)&&(f=new fie(f))),f=null!==(u=woe.makeFromEncoding(f,e))&&void 0!==u?u:f,f=null!==(s=hie.makeFromEncoding(f,e))&&void 0!==s?s:f}loe(e)&&(f=null!==(c=goe.make(f,e))&&void 0!==c?c:f);var k=e.getName(Eee),j=new _te(f,k,Eee,p);h[k]=j,f=j,loe(e)&&function(e,t){ane(e,(function(n){var r=n.name,a=e.getName("lookup_".concat(r));e.component.data.outputNodes[a]=n.materialized=new _te(new Sre(t,e,{selection:r}),a,"lookup",e.component.data.outputNodeRefCounts)}))}(e,j);var E=null;if(foe(e)){var C=e.getName("facet");f=null!==(l=function(e,t){var n=t.row,r=t.column;if(n&&r){for(var a=null,i=0,o=[n,r];i<o.length;i++){var u=o[i];if(v8(u.sort)){var s=u.sort,c=s.field,l=s.op;e=a=new die(e,{joinaggregate:[{op:void 0===l?f8:l,field:c,as:Boe(u,u.sort,{forAs:!0})}],groupby:[L8(u)]})}}return a}return null}(f,e.facet))&&void 0!==l?l:f,E=new iie(f,e,C,j.getSource()),h[C]=E}return Object.assign(Object.assign({},e.component.data),{outputNodes:h,outputNodeRefCounts:p,raw:w,main:j,facetRoot:E,ancestorParse:v})}var Voe=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r,a,i){var o,u,s,c,l;return Object(Rb.a)(this,n),o=t.call(this,e,"concat",r,a,i,e.resolve),"shared"!==(null===(s=null===(u=e.resolve)||void 0===u?void 0:u.axis)||void 0===s?void 0:s.x)&&"shared"!==(null===(l=null===(c=e.resolve)||void 0===c?void 0:c.axis)||void 0===l?void 0:l.y)||g5(x.CONCAT_CANNOT_SHARE_AXIS),o.children=o.getChildren(e).map((function(e,t){return pue(e,Object(fee.a)(o),o.getName("concat_"+t),void 0,i)})),o}return Object(Pb.a)(n,[{key:"parseData",value:function(){this.component.data=Woe(this);var e,t=Object(pr.a)(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseData()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseSelections",value:function(){this.component.selection={};var e,t=Object(pr.a)(this.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parseSelections();var r,a=Object(pr.a)(m1(n.component.selection));try{for(a.s();!(r=a.n()).done;){var i=r.value;this.component.selection[i]=n.component.selection[i]}}catch(o){a.e(o)}finally{a.f()}}}catch(o){t.e(o)}finally{t.f()}}},{key:"parseMarkGroup",value:function(){var e,t=Object(pr.a)(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseMarkGroup()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseAxesAndHeaders",value:function(){var e,t=Object(pr.a)(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseAxesAndHeaders()}}catch(n){t.e(n)}finally{t.f()}}},{key:"getChildren",value:function(e){return c7(e)?e.vconcat:l7(e)?e.hconcat:e.concat}},{key:"parseLayoutSize",value:function(){Moe(this)}},{key:"parseAxisGroup",value:function(){return null}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.forEach((function(e){return e.assembleSignals()})),[]}},{key:"assembleLayoutSignals",value:function(){var e,t=hae(this),n=Object(pr.a)(this.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,Object(Qi.a)(r.assembleLayoutSignals()))}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleMarks",value:function(){return this.children.map((function(e){var t=e.assembleTitle(),n=e.assembleGroupStyle(),r=e.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:e.getName("group")},t?{title:t}:{}),n?{style:n}:{}),r?{encode:{update:r}}:{}),e.assembleGroup())}))}},{key:"assembleDefaultLayout",value:function(){var e=this.layout.columns;return Object.assign(Object.assign({},null!=e?{columns:e}:{}),{bounds:"full",align:"each"})}}]),n}(poe);var qoe=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},U1),{labelExpr:1,encode:1}),Hoe=m1(qoe),Goe=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(Rb.a)(this,n),(e=t.call(this)).explicit=r,e.implicit=a,e.mainExtracted=i,e}return Object(Pb.a)(n,[{key:"clone",value:function(){return new n(t1(this.explicit),t1(this.implicit),this.mainExtracted)}},{key:"hasAxisPart",value:function(e){return"axis"===e||("grid"===e||"title"===e?!!this.get(e):!(!1===(t=this.get(e))||null===t));var t}},{key:"hasOrientSignalRef",value:function(){return P5(this.explicit.orient)}}]),n}(dee);var Koe={bottom:"top",top:"bottom",left:"right",right:"left"};function $oe(e,t){if(!e)return t.map((function(e){return e.clone()}));if(e.length===t.length){for(var n=e.length,r=0;r<n;r++){var a=e[r],i=t[r];if(!!a!==!!i)return;if(a&&i){var o=a.getWithExplicit("orient"),u=i.getWithExplicit("orient");if(o.explicit&&u.explicit&&o.value!==u.value)return;e[r]=Xoe(a,i)}}return e}}function Xoe(e,t){var n,r=Object(pr.a)(Hoe);try{var a=function(){var r=n.value,a=gee(e.getWithExplicit(r),t.getWithExplicit(r),r,"axis",(function(e,t){switch(r){case"title":return w9(e,t);case"gridScale":return{explicit:e.explicit,value:N1(e.value,t.value)}}return mee(e,t,r,"axis")}));e.setWithExplicit(r,a)};for(r.s();!(n=r.n()).done;)a()}catch(i){r.e(i)}finally{r.f()}return e}function Yoe(e,t,n,r,a){if("disable"===t)return void 0!==n;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(P5(n.labelAngle)?n.labelAngle:I1(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===Xre(r,a))return!0}return e===n[t]}var Joe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function Qoe(e,t){var n,r,a,i=t.axis(e),o=new Goe,u=Z8(t.encoding[e]),s=t.mark,c=t.config,l=(null===i||void 0===i?void 0:i.orient)||(null===(n=c["x"===e?"axisX":"axisY"])||void 0===n?void 0:n.orient)||(null===(r=c.axis)||void 0===r?void 0:r.orient)||function(e){return"x"===e?"bottom":"left"}(e),f=t.getScaleComponent(e).get("type"),d=Wre(e,f,l,t.config),h=void 0!==i?!i:qre("disable",c,null===i||void 0===i?void 0:i.style,d).configValue;if(o.set("disable",h,void 0!==i),h)return o;var p,v=function(e,t,n,r,a){var i=null===t||void 0===t?void 0:t.labelAngle;if(void 0!==i)return P5(i)?i:I1(i);var o=qre("labelAngle",e.config,null===t||void 0===t?void 0:t.style,a).configValue;return void 0!==o?I1(o):n===A2&&u1([u6,i6],r.type)?270:void 0}(t,i=i||{},e,u,d),m={fieldOrDatumDef:u,axis:i,channel:e,model:t,scaleType:f,orient:l,labelAngle:v,mark:s,config:c},g=Object(pr.a)(Hoe);try{for(g.s();!(p=g.n()).done;){var b=p.value,y=b in Hre?Hre[b](m):V1(b)?i[b]:void 0,x=void 0!==y,_=Yoe(y,b,i,t,e);if(x&&_)o.set(b,y,_);else{var w=V1(b)&&"values"!==b?qre(b,t.config,i.style,d):{},O=w.configValue,k=void 0===O?void 0:O,j=w.configFrom,E=void 0===j?void 0:j,C=void 0!==k;x&&!C?o.set(b,y,_):("vgAxisConfig"!==E||Joe.has(b)&&C||B1(k)||P5(k))&&o.set(b,k,!1)}}}catch(D){g.e(D)}finally{g.f()}var A=null!==(a=i.encoding)&&void 0!==a?a:{},S=z1.reduce((function(n,r){var a;if(!o.hasAxisPart(r))return n;var i=bae(null!==(a=A[r])&&void 0!==a?a:{},t),u="labels"===r?function(e,t,n){var r,a=e.encoding,i=e.config,o=null!==(r=Z8(a[t]))&&void 0!==r?r:Z8(a[w3(t)]),u=e.axis(t)||{},s=u.format,c=u.formatType;return e8(c)?Object.assign({text:a8({fieldOrDatumDef:o,field:"datum.value",format:s,formatType:c,config:i})},n):n}(t,e,i):i;return void 0===u||v1(u)||(n[r]={update:u}),n}),{});return v1(S)||o.set("encode",S,!!i.encoding||void 0!==i.labelAngle),o}function Zoe(e){var t,n=e.encoding,r=e.size,a=Object(pr.a)(C3);try{for(a.s();!(t=a.n()).done;){var i=t.value,o=O3(i);f7(r[o])&&D8(n[i])&&(delete r[o],g5(x.stepDropped(o)))}}catch(u){a.e(u)}finally{a.f()}return r}function eue(e,t,n,r){var a=r.graticule,i=s2(e)?Object.assign({},e):{type:e},o=v9("orient",i,n);if(i.orient=function(e,t,n){switch(e){case Y1:case n2:case r2:case Z1:case J1:case $1:return}var r=t.x,a=t.y,i=t.x2,o=t.y2;switch(e){case K1:if(C8(r)&&(V3(r.bin)||C8(a)&&a.aggregate&&!r.aggregate))return"vertical";if(C8(a)&&(V3(a.bin)||C8(r)&&r.aggregate&&!a.aggregate))return"horizontal";if(o||i){if(n)return n;if(!i&&(C8(r)&&r.type===a6&&!W3(r.bin)||N8(r)))return"horizontal";if(!o&&(C8(a)&&a.type===a6&&!W3(a.bin)||N8(a)))return"vertical"}case Q1:if(i&&(!C8(r)||!V3(r.bin))&&o&&(!C8(a)||!V3(a.bin)))return;case G1:if(o)return C8(a)&&V3(a.bin)?"horizontal":"vertical";if(i)return C8(r)&&V3(r.bin)?"vertical":"horizontal";if(e===Q1){if(r&&!a)return"vertical";if(a&&!r)return"horizontal"}case X1:case e2:var u=D8(r),s=D8(a);if(u&&!s)return"tick"!==e?"horizontal":"vertical";if(!u&&s)return"tick"!==e?"vertical":"horizontal";if(u&&s){var c=r,l=a,f=c.type===o6,d=l.type===o6;return f&&!d?"tick"!==e?"vertical":"horizontal":!f&&d?"tick"!==e?"horizontal":"vertical":!c.aggregate&&l.aggregate?"tick"!==e?"vertical":"horizontal":c.aggregate&&!l.aggregate?"tick"!==e?"horizontal":"vertical":n||"vertical"}return n||void 0}return"vertical"}(i.type,t,o),void 0!==o&&o!==i.orient&&g5(x.orientOverridden(i.orient,o)),"bar"===i.type&&i.orient){var u=v9("cornerRadiusEnd",i,n);if(void 0!==u){var s,c="horizontal"===i.orient&&t.x2||"vertical"===i.orient&&t.y2?["cornerRadius"]:f2[i.orient],l=Object(pr.a)(c);try{for(l.s();!(s=l.n()).done;){i[s.value]=u}}catch(f){l.e(f)}finally{l.f()}void 0!==i.cornerRadiusEnd&&delete i.cornerRadiusEnd}}return void 0===v9("opacity",i,n)&&(i.opacity=function(e,t){if(u1([Y1,e2,n2,r2],e)&&!k9(t))return.7;return}(i.type,t)),void 0===i.filled&&(i.filled=!a&&function(e,t){var n=m9("filled",e,t),r=e.type;return N1(n,r!==Y1&&r!==X1&&r!==Q1)}(i,n)),void 0===v9("cursor",i,n)&&(i.cursor=function(e,t,n){if(t.href||e.href||v9("href",e,n))return"pointer";return e.cursor}(i,t,n)),i}function tue(e,t){e.config;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},pte(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),nte("x",e,{defaultPos:"mid"})),nte("y",e,{defaultPos:"mid"})),Zee("size",e)),Zee("angle",e)),function(e,t,n){if(n)return{shape:{value:n}};return Zee("shape",e)}(e,0,t))}function nue(e){var t,n=e.config,r=e.markDef,a=r.orient,i="horizontal"===a?"width":"height",o=e.getScaleComponent("horizontal"===a?"x":"y"),u=null!==(t=v9("size",r,n,{vgChannel:i}))&&void 0!==t?t:n.tick.bandSize;if(void 0!==u)return u;var s=o?o.get("range"):void 0;return s&&B5(s)&&B0(s.step)?3*s.step/4:3*v7(n.view,i)/4}var rue={arc:{vgMark:"arc",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},pte(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),nte("x",e,{defaultPos:"mid"})),nte("y",e,{defaultPos:"mid"})),lte(e,"radius","arc")),lte(e,"theta","arc"))}},area:{vgMark:"area",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},pte(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),ute("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient})),ute("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient})),mte(e))}},bar:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},pte(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),lte(e,"x","bar")),lte(e,"y","bar"))}},circle:{vgMark:"symbol",encodeEntry:function(e){return tue(e,"circle")}},geoshape:{vgMark:"shape",encodeEntry:function(e){return Object.assign({},pte(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}))},postEncodingTransform:function(e){var t=e.encoding.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},t&&C8(t)&&t.type===s6?{field:L8(t,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},pte(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),lte(e,"x","image")),lte(e,"y","image")),Kee(e,"url"))}},line:{vgMark:"line",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},pte(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),nte("x",e,{defaultPos:"mid"})),nte("y",e,{defaultPos:"mid"})),Zee("size",e,{vgChannel:"strokeWidth"})),mte(e))}},point:{vgMark:"symbol",encodeEntry:function(e){return tue(e)}},rect:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},pte(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),lte(e,"x","rect")),lte(e,"y","rect"))}},rule:{vgMark:"rule",encodeEntry:function(e){var t=e.markDef.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},pte(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),ute("x",e,{defaultPos:"horizontal"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==t})),ute("y",e,{defaultPos:"vertical"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==t})),Zee("size",e,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:function(e){return tue(e,"square")}},text:{vgMark:"text",encodeEntry:function(e){var t=e.config;e.encoding;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},pte(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),nte("x",e,{defaultPos:"mid"})),nte("y",e,{defaultPos:"mid"})),Kee(e)),Zee("size",e,{vgChannel:"fontSize"})),Zee("angle",e)),gte("align",function(e,t,n){if(void 0===v9("align",e,n))return"center";return}(e.markDef,0,t))),gte("baseline",function(e,t,n){if(void 0===v9("baseline",e,n))return"middle";return}(e.markDef,0,t))),nte("radius",e,{defaultPos:null,isMidPoint:!0})),nte("theta",e,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:function(e){var t=e.config,n=e.markDef,r=n.orient,a="horizontal"===r?"width":"height",i="horizontal"===r?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},pte(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),nte("x",e,{defaultPos:"mid",vgChannel:"xc"})),nte("y",e,{defaultPos:"mid",vgChannel:"yc"})),Zee("size",e,{defaultValue:nue(e),vgChannel:a})),Object(Zi.a)({},i,f9(v9("thickness",n,t))))}},trail:{vgMark:"trail",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},pte(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),nte("x",e,{defaultPos:"mid"})),nte("y",e,{defaultPos:"mid"})),Zee("size",e)),mte(e))}}};function aue(e){return u1([X1,G1,t2],e.mark)?function(e){var t=D9(e.mark,e.encoding),n=sue(e,{fromPrefix:t.length>0?iue:""});return t.length>0?[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:iue+e.requestDataName(Eee),data:e.requestDataName(Eee),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:n}]:n}(e):u1([K1],e.mark)?function(e){var t=W5.some((function(t){return v9(t,e.markDef,e.config)}));if(e.stack&&!e.fieldDef("size")&&t){var n,r,a=sue(e,{fromPrefix:oue}),i=Object(vr.a)(a,1)[0],o=e.scaleName(e.stack.fieldChannel),u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.vgField(e.stack.fieldChannel,t)},s=function(e,t){var n=[u({prefix:"min",suffix:"start",expr:t}),u({prefix:"max",suffix:"start",expr:t}),u({prefix:"min",suffix:"end",expr:t}),u({prefix:"max",suffix:"end",expr:t})];return"".concat(e,"(").concat(n.map((function(e){return"scale('".concat(o,"',").concat(e,")")})).join(","),")")};"x"===e.stack.fieldChannel?(n=Object.assign(Object.assign({},n1(i.encode.update,["y","yc","y2","height"].concat(Object(Qi.a)(W5)))),{x:{signal:s("min","datum")},x2:{signal:s("max","datum")},clip:{value:!0}}),r={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},i.encode.update=Object.assign(Object.assign({},r1(i.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(n=Object.assign(Object.assign({},n1(i.encode.update,["x","xc","x2","width"])),{y:{signal:s("min","datum")},y2:{signal:s("max","datum")},clip:{value:!0}}),r={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},i.encode.update=Object.assign(Object.assign({},r1(i.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));var c,l=Object(pr.a)(W5);try{for(l.s();!(c=l.n()).done;){var f=c.value,d=m9(f,e.markDef,e.config);i.encode.update[f]?(n[f]=i.encode.update[f],delete i.encode.update[f]):d&&(n[f]=f9(d)),d&&(i.encode.update[f]={value:0})}}catch(v){l.e(v)}finally{l.f()}var h=e.fieldDef(e.stack.groupbyChannel),p=L8(h)?[L8(h)]:[];return((null===h||void 0===h?void 0:h.bin)||(null===h||void 0===h?void 0:h.timeUnit))&&p.push(L8(h,{binSuffix:"end"})),(n=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((function(t,n){if(i.encode.update[n])return Object.assign(Object.assign({},t),Object(Zi.a)({},n,i.encode.update[n]));var r=m9(n,e.markDef,e.config);return void 0!==r?Object.assign(Object.assign({},t),Object(Zi.a)({},n,f9(r))):t}),n)).stroke&&(n.strokeForeground={value:!0},n.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Eee),name:oue+e.requestDataName(Eee),groupby:p,aggregate:{fields:[u({suffix:"start"}),u({suffix:"start"}),u({suffix:"end"}),u({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:n},marks:[{type:"group",encode:{update:r},marks:[i]}]}]}return sue(e)}(e):sue(e)}var iue="faceted_path_";var oue="stack_group_";function uue(e){var t=e.encoding,n=e.stack,r=e.mark,a=e.markDef,i=e.config,o=t.order;if(!(!C0(o)&&M8(o)&&o1(o.value)||!o&&o1(v9("order",a,i)))){if((C0(o)||C8(o))&&!n)return y9(o,{expr:"datum"});if(i2(r)){var u="horizontal"===a.orient?"y":"x",s=t[u];if(C8(s)){var c=s.sort;return C0(c)?{field:L8(s,{prefix:u,suffix:"sort_index",expr:"datum"})}:v8(c)?{field:L8({aggregate:k9(e.encoding)?c.op:void 0,field:c.field},{expr:"datum"})}:p8(c)?{field:L8(e.fieldDef(c.encoding),{expr:"datum"}),order:c.order}:null===c?void 0:{field:L8(s,{binSuffix:e.stack&&e.stack.impute?"mid":void 0,expr:"datum"})}}}else;}}function sue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""},n=e.mark,r=e.markDef,a=e.config,i=N1(r.clip,cue(e),lue(e)),o=p9(r),u=e.encoding.key,s=uue(e),c=fue(e),l=v9("aria",r,a),f=rue[n].postEncodingTransform?rue[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:rue[n].vgMark},i?{clip:!0}:{}),o?{style:o}:{}),u?{key:u.field}:{}),s?{sort:s}:{}),c||{}),!1===l?{aria:l}:{}),{from:{data:t.fromPrefix+e.requestDataName(Eee)},encode:{update:rue[n].encodeEntry(e)}}),f?{transform:f}:{})]}function cue(e){var t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!!(t&&t.get("selectionExtent")||n&&n.get("selectionExtent"))||void 0}function lue(e){var t=e.component.projection;return!(!t||t.isFit)||void 0}function fue(e){if(!e.component.selection)return null;for(var t=m1(e.component.selection).length,n=t,r=e.parent;r&&0===n;)n=m1(r.component.selection).length,r=r.parent;return n?{interactive:t>0}:null}var due=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r,a){var i,o,u,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4?arguments[4]:void 0;Object(Rb.a)(this,n),(i=t.call(this,e,"unit",r,a,c,void 0,d7(e)?e.view:void 0)).specifiedScales={},i.specifiedAxes={},i.specifiedLegends={},i.specifiedProjection={},i.selection={},i.children=[];var l=s2(e.mark)?e.mark.type:e.mark;i.markDef=eue(e.mark,null!==(o=e.encoding)&&void 0!==o?o:{},c,{graticule:e.data&&jee(e.data)});var f=i.encoding=E9(null!==(u=e.encoding)&&void 0!==u?u:{},i.markDef,c);return i.size=Zoe({encoding:f,size:d7(e)?Object.assign(Object.assign(Object.assign({},s),e.width?{width:e.width}:{}),e.height?{height:e.height}:{}):s}),i.stack=V7(l,f),i.specifiedScales=i.initScales(l,f),i.specifiedAxes=i.initAxes(f),i.specifiedLegends=i.initLegend(f),i.specifiedProjection=e.projection,i.selection=e.selection,i}return Object(Pb.a)(n,[{key:"hasProjection",get:function(){var e=this.encoding,t=this.mark===a2,n=e&&s3.some((function(t){return F8(e[t])}));return t||n}},{key:"scaleDomain",value:function(e){var t=this.specifiedScales[e];return t?t.domain:void 0}},{key:"axis",value:function(e){return this.specifiedAxes[e]}},{key:"legend",value:function(e){return this.specifiedLegends[e]}},{key:"initScales",value:function(e,t){return I3.reduce((function(e,n){var r,a=Z8(t[n]);return a&&(e[n]=null!==(r=a.scale)&&void 0!==r?r:{}),e}),{})}},{key:"initAxes",value:function(e){return C3.reduce((function(t,n){var r=e[n];if(F8(r)||n===A2&&F8(e.x2)||n===S2&&F8(e.y2)){var a=F8(r)?r.axis:void 0;t[n]=a?Object.assign({},a):a}return t}),{})}},{key:"initLegend",value:function(e){return T3.reduce((function(t,n){var r=Z8(e[n]);if(r&&function(e){switch(e){case L2:case U2:case W2:case q2:case V2:case G2:case X2:case Y2:return!0;case K2:case $2:case H2:return!1}}(n)){var a=r.legend;t[n]=a?Object.assign({},a):a}return t}),{})}},{key:"parseData",value:function(){this.component.data=Woe(this)}},{key:"parseLayoutSize",value:function(){!function(e){var t,n=e.size,r=e.component,a=Object(pr.a)(C3);try{for(a.s();!(t=a.n()).done;){var i=O3(t.value);if(n[i]){var o=n[i];r.layoutSize.set(i,f7(o)?"step":o,!0)}else{var u=Poe(e,i);r.layoutSize.set(i,u,!1)}}}catch(s){a.e(s)}finally{a.f()}}(this)}},{key:"parseSelections",value:function(){this.component.selection=function(e,t){var n,r,a={},i=e.config.selection,o=Object(pr.a)(m1(null!==t&&void 0!==t?t:{}));try{var u=function(){var o=r.value,u=t1(t[o]),s=i[u.type],c=(s.fields,s.encodings,W0(s,["fields","encodings"]));for(var l in c)"encodings"===l&&u.fields||"fields"===l&&u.encodings||("mark"===l&&(u[l]=Object.assign(Object.assign({},c[l]),u[l])),void 0!==u[l]&&!0!==u[l]||(u[l]=null!==(n=c[l])&&void 0!==n?n:u[l]));var f=x1(o),d=a[f]=Object.assign(Object.assign({},u),{name:f,events:z0(u.on)?hJ(u.on,"scope"):t1(u.on)});Wte(d,(function(n){n.has(d)&&n.parse&&n.parse(e,d,u,t[o])}))};for(o.s();!(r=o.n()).done;)u()}catch(s){o.e(s)}finally{o.f()}return a}(this,this.selection)}},{key:"parseMarkGroup",value:function(){this.component.mark=aue(this)}},{key:"parseAxesAndHeaders",value:function(){var e;this.component.axes=(e=this,C3.reduce((function(t,n){return e.component.scales[n]&&(t[n]=[Qoe(n,e)]),t}),{}))}},{key:"assembleSelectionTopLevelSignals",value:function(e){return function(e,t){var n=!1;return ane(e,(function(r,a){var i=r.name,o=L0(i+Zte);if(0===t.filter((function(e){return e.name===i})).length){var u="global"===r.resolve?"union":r.resolve,s="multi"===r.type?", true)":")";t.push({name:r.name,update:"".concat(nne,"(").concat(o,", ").concat(L0(u)).concat(s)})}n=!0,a.topLevelSignals&&(t=a.topLevelSignals(e,r,t)),Wte(r,(function(n){n.topLevelSignals&&(t=n.topLevelSignals(e,r,t))}))})),n&&0===t.filter((function(e){return"unit"===e.name})).length&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),Hte(t)}(this,e)}},{key:"assembleSignals",value:function(){return[].concat(Object(Qi.a)(Rre(this)),Object(Qi.a)((t=[],ane(e=this,(function(n,r){var a,i=n.name,o=r.modifyExpr(e,n);(a=t).push.apply(a,Object(Qi.a)(r.signals(e,n))),Wte(n,(function(r){r.signals&&(t=r.signals(e,n,t)),r.modifyExpr&&(o=r.modifyExpr(e,n,o))})),t.push({name:i+tne,on:[{events:{signal:n.name+ene},update:"modify(".concat(L0(n.name+Zte),", ").concat(o,")")}]})})),Hte(t))));var e,t}},{key:"assembleSelectionData",value:function(e){return function(e,t){var n=Object(Qi.a)(t);return ane(e,(function(t){var r={name:t.name+Zte};if(t.init){var a=t.project.items.map((function(e){return e.signals,W0(e,["signals"])})),i=t.init.map((function(e){return Vte(e,!1)}));r.values="interval"===t.type?[{unit:one(e,{escape:!1}),fields:a,values:i}]:i.map((function(t){return{unit:one(e,{escape:!1}),fields:a,values:t}}))}n.filter((function(e){return e.name===t.name+Zte})).length||n.push(r)})),n}(this,e)}},{key:"assembleLayout",value:function(){return null}},{key:"assembleLayoutSignals",value:function(){return hae(this)}},{key:"assembleMarks",value:function(){var e,t=null!==(e=this.component.mark)&&void 0!==e?e:[];return this.parent&&hoe(this.parent)||(t=qte(this,t)),t.map(this.correctDataNames)}},{key:"getMapping",value:function(){return this.encoding}},{key:"mark",get:function(){return this.markDef.type}},{key:"channelHasField",value:function(e){return O9(this.encoding,e)}},{key:"fieldDef",value:function(e){return Q8(this.encoding[e])}},{key:"typedFieldDef",value:function(e){var t=this.fieldDef(e);return T8(t)?t:null}}]),n}(voe),hue=function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(e,r,a,i,o){var u;Object(Rb.a)(this,n),u=t.call(this,e,"layer",r,a,o,e.resolve,e.view);var s=Object.assign(Object.assign(Object.assign({},i),e.width?{width:e.width}:{}),e.height?{height:e.height}:{});return u.children=e.layer.map((function(e,t){if(N7(e))return new n(e,Object(fee.a)(u),u.getName("layer_"+t),s,o);if(p2(e))return new due(e,Object(fee.a)(u),u.getName("layer_"+t),s,o);throw new Error(x.invalidSpec(e))})),u}return Object(Pb.a)(n,[{key:"parseData",value:function(){this.component.data=Woe(this);var e,t=Object(pr.a)(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseData()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseLayoutSize",value:function(){var e;Ioe(e=this),Roe(e,"width"),Roe(e,"height")}},{key:"parseSelections",value:function(){this.component.selection={};var e,t=Object(pr.a)(this.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parseSelections();var r,a=Object(pr.a)(m1(n.component.selection));try{for(a.s();!(r=a.n()).done;){var i=r.value;this.component.selection[i]=n.component.selection[i]}}catch(o){a.e(o)}finally{a.f()}}}catch(o){t.e(o)}finally{t.f()}}},{key:"parseMarkGroup",value:function(){var e,t=Object(pr.a)(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseMarkGroup()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseAxesAndHeaders",value:function(){!function(e){var t,n,r=e.component,a=r.axes,i=r.resolve,o={top:0,bottom:0,right:0,left:0},u=Object(pr.a)(e.children);try{for(u.s();!(n=u.n()).done;){var s=n.value;s.parseAxesAndHeaders();var c,l=Object(pr.a)(m1(s.component.axes));try{for(l.s();!(c=l.n()).done;){var f=c.value;i.axis[f]=xae(e.component.resolve,f),"shared"===i.axis[f]&&(a[f]=$oe(a[f],s.component.axes[f]),a[f]||(i.axis[f]="independent",delete a[f]))}}catch(A){l.e(A)}finally{l.f()}}}catch(A){u.e(A)}finally{u.f()}var d,h=Object(pr.a)(C3);try{for(h.s();!(d=h.n()).done;){var p,v=d.value,m=Object(pr.a)(e.children);try{for(m.s();!(p=m.n()).done;){var g=p.value;if(g.component.axes[v]){if("independent"===i.axis[v]){a[v]=(null!==(t=a[v])&&void 0!==t?t:[]).concat(g.component.axes[v]);var b,y=Object(pr.a)(g.component.axes[v]);try{for(y.s();!(b=y.n()).done;){var x=b.value,_=x.getWithExplicit("orient"),w=_.value,O=_.explicit;if(!P5(w)){if(o[w]>0&&!O){var k=Koe[w];o[w]>o[k]&&x.set("orient",k,!1)}o[w]++}}}catch(A){y.e(A)}finally{y.f()}}delete g.component.axes[v]}}}catch(A){m.e(A)}finally{m.f()}if("independent"===i.axis[v]&&a[v]&&a[v].length>1){var j,E=Object(pr.a)(a[v]);try{for(E.s();!(j=E.n()).done;){var C=j.value;C.get("grid")&&!C.explicit.grid&&(C.implicit.grid=!1)}}catch(A){E.e(A)}finally{E.f()}}}}catch(A){h.e(A)}finally{h.f()}}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleSignals())}),Rre(this))}},{key:"assembleLayoutSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLayoutSignals())}),hae(this))}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleTitle",value:function(){var e=Object(F7.a)(Object(T7.a)(n.prototype),"assembleTitle",this).call(this);if(e)return e;var t,r=Object(pr.a)(this.children);try{for(r.s();!(t=r.n()).done;){if(e=t.value.assembleTitle())return e}}catch(a){r.e(a)}finally{r.f()}}},{key:"assembleLayout",value:function(){return null}},{key:"assembleMarks",value:function(){return function(e,t){var n,r=Object(pr.a)(e.children);try{for(r.s();!(n=r.n()).done;){var a=n.value;loe(a)&&(t=qte(a,t))}}catch(i){r.e(i)}finally{r.f()}return t}(this,this.children.flatMap((function(e){return e.assembleMarks()})))}},{key:"assembleLegends",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLegends())}),Bae(this))}}]),n}(poe);function pue(e,t,n,r,a){if(y8(e))return new zoe(e,t,n,a);if(N7(e))return new hue(e,t,n,r,a);if(p2(e))return new due(e,t,n,r,a);if(function(e){return c7(e)||l7(e)||s7(e)}(e))return new Voe(e,t,n,a);throw new Error(x.invalidSpec(e))}function vue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.logger&&v5(t.logger),t.fieldTitle&&G8(t.fieldTitle);try{var n=j7(D0(t.config,e.config)),r=oee(e,n),a=pue(r,null,"",void 0,n);a.parse(),Tie(a.component.data,a);var i=gue(a,mue(e,r.autosize,n,a),e.datasets,e.usermeta);return{spec:i,normalized:r}}finally{t.logger&&m5(),t.fieldTitle&&K8()}}function mue(e,t,n,r){var a,i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(void 0===t?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):z0(t)&&(t={type:t}),i&&o&&("fit"===(a=t.type)||"fit-x"===a||"fit-y"===a))if("step"===i&&"step"===o)g5(x.droppingFit()),t.type="pad";else if("step"===i||"step"===o){var u="step"===i?"width":"height";g5(x.droppingFit(N3(u)));var s="width"===u?"height":"width";t.type=function(e){return e?"fit-".concat(N3(e)):"fit"}(s)}return Object.assign(Object.assign(Object.assign({},1===m1(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t}),lee(n)),lee(e))}function gue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,a=e.config?S7(e.config):void 0,i=[].concat(e.assembleSelectionData([]),Doe(e.component.data,n)),o=e.assembleProjections(),u=e.assembleTitle(),s=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0),l=e.assembleLayoutSignals();return l=l.filter((function(e){return"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)})),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),t),u?{title:u}:{}),s?{style:s}:{}),c?{encode:{update:c}}:{}),{data:i}),o.length>0?{projections:o}:{}),e.assembleGroup([].concat(Object(Qi.a)(l),Object(Qi.a)(e.assembleSelectionTopLevelSignals([]))))),a?{config:a}:{}),r?{usermeta:r}:{})}var bue=new(function(e){Object(M7.a)(n,e);var t=Object(I7.a)(n);function n(){return Object(Rb.a)(this,n),t.apply(this,arguments)}return Object(Pb.a)(n,[{key:"mapUnit",value:function(e,t){var n=t.config;if(e.encoding){var r=e.encoding,a=e.transform,i=j9(r,n),o=i.bins,u=i.timeUnits,s=i.aggregate,c=i.groupby,l=i.encoding,f=[].concat(Object(Qi.a)(a||[]),Object(Qi.a)(o),Object(Qi.a)(u),Object(Qi.a)(0===s.length?[]:[{aggregate:s,groupby:c}]));return Object.assign(Object.assign(Object.assign({},e),f.length>0?{transform:f}:{}),{encoding:l})}return e}}]),n}(R7));function yue(e,t){return bue.map(e,{config:t})}var xue=m0.version,_ue=n(437),wue=n.n(_ue),Oue="#fff",kue={background:"#333",title:{color:Oue,subtitleColor:Oue},style:{"guide-label":{fill:Oue},"guide-title":{fill:Oue}},axis:{domainColor:Oue,gridColor:"#888",tickColor:Oue}},jue="#4572a7",Eue={background:"#fff",arc:{fill:jue},area:{fill:jue},line:{stroke:jue,strokeWidth:2},path:{stroke:jue},rect:{fill:jue},shape:{stroke:jue},symbol:{fill:jue,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Cue="#30a2da",Aue="#cbcbcb",Sue="#f0f0f0",Due="#333",Nue={arc:{fill:Cue},area:{fill:Cue},axis:{domainColor:Aue,grid:!0,gridColor:Aue,gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:Aue,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:Sue,group:{fill:Sue},legend:{labelColor:Due,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:Due,titleFontSize:14,titlePadding:10},line:{stroke:Cue,strokeWidth:2},path:{stroke:Cue,strokeWidth:.5},rect:{fill:Cue},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Cue},bar:{binSpacing:2,fill:Cue,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Fue="#000",Tue={group:{fill:"#e5e5e5"},arc:{fill:Fue},area:{fill:Fue},line:{stroke:Fue},path:{stroke:Fue},rect:{fill:Fue},shape:{stroke:Fue},symbol:{fill:Fue,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},Mue="Benton Gothic, sans-serif",Iue="#82c6df",Rue="Benton Gothic Bold, sans-serif",Pue="normal",Bue={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},zue={background:"#ffffff",title:{anchor:"start",color:"#000000",font:Rue,fontSize:22,fontWeight:"normal"},arc:{fill:Iue},area:{fill:Iue},line:{stroke:Iue,strokeWidth:2},path:{stroke:Iue},rect:{fill:Iue},shape:{stroke:Iue},symbol:{fill:Iue,size:30},axis:{labelFont:Mue,labelFontSize:11.5,labelFontWeight:"normal",titleFont:Rue,titleFontSize:13,titleFontWeight:Pue},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Mue,labelFontSize:11.5,symbolType:"square",titleFont:Rue,titleFontSize:13,titleFontWeight:Pue},range:{category:Bue["category-6"],diverging:Bue["fireandice-6"],heatmap:Bue["fire-7"],ordinal:Bue["fire-7"],ramp:Bue["fire-7"]}},Lue="#ab5787",Uue="#979797",Wue={background:"#f9f9f9",arc:{fill:Lue},area:{fill:Lue},line:{stroke:Lue},path:{stroke:Lue},rect:{fill:Lue},shape:{stroke:Lue},symbol:{fill:Lue,size:30},axis:{domainColor:Uue,domainWidth:.5,gridWidth:.2,labelColor:Uue,tickColor:Uue,tickWidth:.2,titleColor:Uue},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Vue="#3e5c69",que={background:"#fff",arc:{fill:Vue},area:{fill:Vue},line:{stroke:Vue},path:{stroke:Vue},rect:{fill:Vue},shape:{stroke:Vue},symbol:{fill:Vue},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Hue="#1696d2",Gue="#000000",Kue="Lato",$ue="Lato",Xue={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},Yue={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:Kue},axisX:{domain:!0,domainColor:Gue,domainWidth:1,grid:!1,labelFontSize:12,labelFont:$ue,labelAngle:0,tickColor:Gue,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:Kue},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:$ue,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:Kue,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:$ue,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:Kue,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Xue["six-groups-cat-1"],diverging:Xue["diverging-colors"],heatmap:Xue["diverging-colors"],ordinal:Xue["six-groups-seq"],ramp:Xue["shades-blue"]},area:{fill:Hue},rect:{fill:Hue},line:{color:Hue,stroke:Hue,strokeWidth:5},trail:{color:Hue,stroke:Hue,strokeWidth:0,size:1},path:{stroke:Hue,strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:Hue,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Hue,stroke:null}},arc:{fill:Hue},shape:{stroke:Hue},symbol:{fill:Hue,size:30}},Jue="#3366CC",Que="#ccc",Zue="Arial, sans-serif",ese={arc:{fill:Jue},area:{fill:Jue},path:{stroke:Jue},rect:{fill:Jue},shape:{stroke:Jue},symbol:{stroke:Jue},circle:{fill:Jue},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:Zue,fontSize:12},"guide-title":{font:Zue,fontSize:12},"group-title":{font:Zue,fontSize:12}},title:{font:Zue,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:Que,tickColor:Que,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},tse="2.10.0",nse=n(582),rse="vg-tooltip-element",ase={offsetX:10,offsetY:10,id:rse,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};var ise=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function ose(e,t){return JSON.stringify(e,function(e){var t=[];return function(n,r){if("object"!==typeof r||null===r)return r;var a=t.indexOf(this)+1;return t.length=a,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}var use,sse=function(){function e(t){Object(Rb.a)(this,e),this.options=Object.assign(Object.assign({},ase),t);var n=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace(rse,e)}(n);var a=document.head;a.childNodes.length>0?a.insertBefore(r,a.childNodes[0]):a.appendChild(r)}this.el=document.getElementById(n),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",n),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}return Object(Pb.a)(e,[{key:"tooltipHandler",value:function(e,t,n,r){if(null!=r&&""!==r){this.el.innerHTML=function(e,t,n){if(Object(Lt.x)(e))return"[".concat(e.map((function(e){return t(Object(Lt.F)(e)?e:ose(e,n))})).join(", "),"]");if(Object(Lt.D)(e)){var r="",a=e,i=a.title,o=a.image,u=ise(a,["title","image"]);i&&(r+="<h2>".concat(t(i),"</h2>")),o&&(r+='<img src="'.concat(t(o),'">'));var s=Object.keys(u);if(s.length>0){r+="<table>";var c,l=Object(pr.a)(s);try{for(l.s();!(c=l.n()).done;){var f=c.value,d=u[f];void 0!==d&&(Object(Lt.D)(d)&&(d=ose(d,n)),r+='<tr><td class="key">'.concat(t(f),':</td><td class="value">').concat(t(d),"</td></tr>"))}}catch(h){l.e(h)}finally{l.f()}r+="</table>"}return r||"{}"}return t(e)}(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible","".concat(this.options.theme,"-theme"));var a=function(e,t,n,r){var a=e.clientX+n;a+t.width>window.innerWidth&&(a=+e.clientX-n-t.width);var i=e.clientY+r;return i+t.height>window.innerHeight&&(i=+e.clientY-r-t.height),{x:a,y:i}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY),i=a.x,o=a.y;this.el.setAttribute("style","top: ".concat(o,"px; left: ").concat(i,"px"))}else this.el.classList.remove("visible","".concat(this.options.theme,"-theme"))}}]),e}(),cse=(nse.version,function(e,t,n){var r=e.open(t),a=new URL(t).origin,i=40;e.addEventListener("message",(function t(n){n.source===r&&(i=0,e.removeEventListener("message",t,!1))}),!1),setTimeout((function e(){i<=0||(r.postMessage(n,a),setTimeout(e,250),i-=1)}),250)}),lse='.vega-embed {\n  position: relative;\n  display: inline-block; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n';function fse(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0,i=n;a<i.length;a++){var o=i[a];dse(e,o)}return e}function dse(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Fe(e,a,t[a],!0)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});var hse=y,pse=_,vse="undefined"!==typeof window?window:void 0;void 0===pse&&(null===(use=null===vse||void 0===vse?void 0:vse.vl)||void 0===use?void 0:use.compile)&&(pse=vse.vl);var mse={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},gse={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},bse={vega:"Vega","vega-lite":"Vega-Lite"},yse={vega:hse.version,"vega-lite":pse?pse.version:"not available"},xse={vega:function(e){return e},"vega-lite":function(e,t){return pse.compile(e,{config:t}).spec}},_se='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>';function wse(e){return"function"===typeof e}function Ose(e,t,n,r){var a="<html><head>".concat(t,'</head><body><pre><code class="json">'),i="</code></pre>".concat(n,"</body></html>"),o=window.open("");o.document.write(a+e+i),o.document.title="".concat(bse[r]," JSON Source")}function kse(e,t){var n;if(e.$schema){var r=wue()(e.$schema);t&&t!==r.library&&console.warn("The given visualization spec is written in ".concat(bse[r.library],", but mode argument sets ").concat(null!==(n=bse[t])&&void 0!==n?n:t,"."));var a=r.library;return Object(ae.satisfies)(yse[a],"^".concat(r.version.slice(1)))||console.warn("The input spec uses ".concat(bse[a]," ").concat(r.version,", but the current version of ").concat(bse[a]," is v").concat(yse[a],".")),a}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":null!==t&&void 0!==t?t:"vega"}function jse(e){return!(!e||!("load"in e))}function Ese(e,t){var n,r,a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return j(this,void 0,void 0,k.a.mark((function o(){var u,s,c,l,f;return k.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(u=jse(i.loader)?i.loader:hse.loader(i.loader),!Object(Lt.F)(t)){o.next=9;break}return o.t1=JSON,o.next=5,u.load(t);case 5:o.t2=o.sent,o.t0=o.t1.parse.call(o.t1,o.t2),o.next=10;break;case 9:o.t0=t;case 10:return s=o.t0,o.next=13,Cse(null!==(n=s.usermeta&&s.usermeta.embedOptions)&&void 0!==n?n:{},u);case 13:return c=o.sent,o.next=16,Cse(i,u);case 16:return l=o.sent,f=Object.assign(Object.assign({},fse(l,c)),{config:Object(Lt.L)(null!==(r=l.config)&&void 0!==r?r:{},null!==(a=c.config)&&void 0!==a?a:{})}),o.next=20,Ase(e,s,f,u);case 20:return o.abrupt("return",o.sent);case 21:case"end":return o.stop()}}),o)})))}function Cse(e,t){var n;return j(this,void 0,void 0,k.a.mark((function r(){var a,i;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Object(Lt.F)(e.config)){r.next=8;break}return r.t1=JSON,r.next=4,t.load(e.config);case 4:r.t2=r.sent,r.t0=r.t1.parse.call(r.t1,r.t2),r.next=9;break;case 8:r.t0=null!==(n=e.config)&&void 0!==n?n:{};case 9:if(a=r.t0,!Object(Lt.F)(e.patch)){r.next=18;break}return r.t4=JSON,r.next=14,t.load(e.patch);case 14:r.t5=r.sent,r.t3=r.t4.parse.call(r.t4,r.t5),r.next=19;break;case 18:r.t3=e.patch;case 19:return i=r.t3,r.abrupt("return",Object.assign(Object.assign(Object.assign({},e),i?{patch:i}:{}),a?{config:a}:{}));case 21:case"end":return r.stop()}}),r)})))}function Ase(e,t){var n,r,a,i,o,u,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;return j(this,void 0,void 0,k.a.mark((function l(){var f,d,h,p,v,m,g,b,y,x,_,O,E,C,A,S,D,N,F,T,M,I,R,P,B,z,L,U,W,q,H,G,K;return k.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(K=function(){M&&document.removeEventListener("click",M),A.finalize()},f=s.theme?Object(Lt.L)(w[s.theme],null!==(n=s.config)&&void 0!==n?n:{}):s.config,d=Object(Lt.y)(s.actions)?s.actions:fse({},mse,null!==(r=s.actions)&&void 0!==r?r:{}),h=Object.assign(Object.assign({},gse),s.i18n),p=null!==(a=s.renderer)&&void 0!==a?a:"canvas",v=null!==(i=s.logLevel)&&void 0!==i?i:hse.Warn,m=null!==(o=s.downloadFileName)&&void 0!==o?o:"visualization",!1!==s.defaultStyle&&(g="vega-embed-style",document.getElementById(g)||((b=document.createElement("style")).id=g,b.innerText=void 0===s.defaultStyle||!0===s.defaultStyle?lse.toString():s.defaultStyle,document.head.appendChild(b))),y=kse(t,s.mode),x=xse[y](t,f),"vega-lite"===y&&x.$schema&&(_=wue()(x.$schema),Object(ae.satisfies)(yse.vega,"^".concat(_.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(_.version,", but current version is v").concat(yse.vega,"."))),O="string"===typeof e?document.querySelector(e):e){l.next=14;break}throw Error("".concat(e," does not exist"));case 14:return O.classList.add("vega-embed"),d&&O.classList.add("has-actions"),O.innerHTML="",(E=s.patch)&&(x=E instanceof Function?E(x):V(x,E,!0,!1).newDocument),s.formatLocale&&hse.formatLocale(s.formatLocale),s.timeFormatLocale&&hse.timeFormatLocale(s.timeFormatLocale),C=hse.parse(x,"vega-lite"===y?{}:f),A=new hse.View(C,{loader:c,logLevel:v,renderer:p}),!1!==s.tooltip&&(S=wse(s.tooltip)?s.tooltip:new sse(!0===s.tooltip?{}:s.tooltip).call,A.tooltip(S)),void 0===(D=s.hover)&&(D="vega"===y),D&&(F=(N="boolean"===typeof D?{}:D).hoverSet,T=N.updateSet,A.hover(F,T)),s&&(null!=s.width&&A.width(s.width),null!=s.height&&A.height(s.height),null!=s.padding&&A.padding(s.padding)),l.next=30,A.initialize(e).runAsync();case 30:if(!1!==d){if(I=O,!1!==s.defaultStyle&&((R=document.createElement("details")).title=h.CLICK_TO_VIEW_ACTIONS,O.append(R),I=R,(P=document.createElement("summary")).innerHTML=_se,R.append(P),M=function(e){R.contains(e.target)||R.removeAttribute("open")},document.addEventListener("click",M)),B=document.createElement("div"),I.append(B),B.classList.add("vega-actions"),!0===d||!1!==d.export)for(z=function(){var e=U[L];if(!0===d||!0===d.export||d.export[e]){var t=h["".concat(e.toUpperCase(),"_ACTION")],n=document.createElement("a");n.text=t,n.href="#",n.target="_blank",n.download="".concat(m,".").concat(e),n.addEventListener("mousedown",(function(t){return j(this,void 0,void 0,k.a.mark((function n(){var r;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.next=3,A.toImageURL(e,s.scaleFactor);case 3:r=n.sent,this.href=r;case 5:case"end":return n.stop()}}),n,this)})))})),B.append(n)}},L=0,U=["svg","png"];L<U.length;L++)z();!0!==d&&!1===d.source||((W=document.createElement("a")).text=h.SOURCE_ACTION,W.href="#",W.addEventListener("click",(function(e){var n,r;Ose(re()(t),null!==(n=s.sourceHeader)&&void 0!==n?n:"",null!==(r=s.sourceFooter)&&void 0!==r?r:"",y),e.preventDefault()})),B.append(W)),"vega-lite"!==y||!0!==d&&!1===d.compiled||((q=document.createElement("a")).text=h.COMPILED_ACTION,q.href="#",q.addEventListener("click",(function(e){var t,n;Ose(re()(x),null!==(t=s.sourceHeader)&&void 0!==t?t:"",null!==(n=s.sourceFooter)&&void 0!==n?n:"","vega"),e.preventDefault()})),B.append(q)),!0!==d&&!1===d.editor||(H=null!==(u=s.editorUrl)&&void 0!==u?u:"https://vega.github.io/editor/",(G=document.createElement("a")).text=h.EDITOR_ACTION,G.href="#",G.addEventListener("click",(function(e){cse(window,H,{config:f,mode:y,renderer:p,spec:re()(t)}),e.preventDefault()})),B.append(G))}return l.abrupt("return",{view:A,spec:t,vgSpec:x,finalize:K});case 32:case"end":return l.stop()}}),l)})))}},function(e,t,n){"use strict";n.r(t),n.d(t,"validateUpdateShape",(function(){return i})),n.d(t,"validateInput",(function(){return o})),n.d(t,"calculateShapes",(function(){return u}));var r=n(14),a=n(20);function i(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(a,".");if(n.rank<a)throw new Error(i+" update.rank < ".concat(a,". "));if(e.length<r+(n.rank-a))throw new Error(i+" Output shape length < ".concat(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(i+" update.rank != ".concat(a+e.length-r));for(var o=0;o<a;++o)if(n.shape[o]!==t.shape[o])throw new Error(i+" updates.shape[".concat(o,"] (").concat(n.shape[o],") != indices.shape[").concat(o,"] (").concat(t.shape[o],")."));for(var u=0;u<n.rank-a;++u)if(n.shape[u+a]!==e[u+r])throw new Error(i+" updates.shape[".concat(u+a,"] (").concat(n.shape[u+a],") != shape[").concat(u+a,"] (").concat(e[u+a],")"))}function o(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}i(n,t,e)}function u(e,t,n){for(var i=t.shape.length,o=i>1?t.shape[i-1]:1,u=n.length,s=1,c=o;c<u;++c)s*=n[c];var l=o<1?1:o;return{sliceRank:o,numUpdates:Object(a.O)(t.shape)/l,sliceSize:s,strides:[].concat(Object(r.a)(Object(a.j)(n.slice(0,o))),[1]),outputSize:Object(a.O)(n)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"assertParamsValid",(function(){return i})),n.d(t,"maskToAxes",(function(){return o})),n.d(t,"computeOutShape",(function(){return u})),n.d(t,"stridesWithElidedDims",(function(){return s})),n.d(t,"getNormalizedAxes",(function(){return f})),n.d(t,"startIndicesWithElidedDims",(function(){return d})),n.d(t,"stopIndicesWithElidedDims",(function(){return h})),n.d(t,"stridesForAxis",(function(){return p})),n.d(t,"startForAxis",(function(){return v})),n.d(t,"stopForAxis",(function(){return m})),n.d(t,"isSliceContinous",(function(){return g})),n.d(t,"computeFlatOffset",(function(){return b})),n.d(t,"parseSliceParams",(function(){return y})),n.d(t,"sliceInfo",(function(){return x}));var r=n(14),a=n(20);function i(e,t,n){var r=e.shape.length;a.b(r===t.length,(function(){return"Error in slice".concat(r,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(r,").")})),a.b(r===n.length,(function(){return"Error in slice".concat(r,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(r,").")}));for(var i=function(i){a.b(t[i]+n[i]<=e.shape[i],(function(){return"Error in slice".concat(r,"D: begin[").concat(i,"] + size[").concat(i,"] ")+"(".concat(t[i]+n[i],") would overflow input.shape[").concat(i,"] (").concat(e.shape[i],")")}))},o=0;o<r;++o)i(o)}function o(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function u(e,t,n){for(var r=[],a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function s(e,t,n,a){for(var i=Object(r.a)(e),o=i.length;o<a.length;o++)i.push(1);for(var u=0;u<n;u++)0===u?i[t]=1:(i.splice(t,0,1),i.pop());return i}function c(e,t,n){return n<=e?n:n-(t-1)}function l(e,t){for(var n=[],r=0;r<e;r++)n.push(t+r);return n}function f(e,t,n,r,a,i,o,u,c){var l=e.length,f=new Array(l),g=new Array(l),b=new Array(l);if(t.length&&n>0){var y=t[0],x=n+1;f=d(o,y,x,r,e),g=h(u,y,x,a,e),b=s(i,y,x,e)}else for(var _=0;_<l;_++)f[_]=v(o,r,i,e,_,c),g[_]=m(u,a,i,e,_,c),b[_]=p(i,_,c);return{begin:f,end:g,strides:b}}function d(e,t,n,a,i){for(var o=Object(r.a)(i),u=l(n,t),s=0;s<o.length;s++)if(u.indexOf(s)>-1)o[s]=0;else{var f=c(t,n,s),d=a[f];e&1<<f&&(d=0),o[s]=d}return o}function h(e,t,n,i,o){for(var u=Object(r.a)(o),s=l(n,t),f=0;f<u.length;f++)if(s.indexOf(f)>-1)u[f]=Number.MAX_SAFE_INTEGER;else{var d=c(t,n,f),h=i[d];e&1<<d&&(h=Number.MAX_SAFE_INTEGER),u[f]=h}for(var p=0;p<u.length;p++){var v=o[p];u[p]<0&&(u[p]+=v),u[p]=a.i(0,u[p],o[p])}return u}function p(e,t,n){var r=e[t];return(n&1<<t||null==r)&&(r=1),r}function v(e,t,n,r,i,o){var u=t[i],s=n[i]||1;(e&1<<i||o&1<<i||null==u)&&(u=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var c=r[i];return u<0&&(u+=c),u=a.i(0,u,c-1)}function m(e,t,n,r,i,o){var u=t[i],s=n[i]||1;(e&1<<i||o&1<<i||null==u)&&(u=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var c=r[i];return u<0&&(u+=c),u=s>0?a.i(0,u,c):a.i(-1,u,c-1)}function g(e,t,n){for(var r=n.length,a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(var i=r+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function b(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function y(e,t,n){var i,o,u=e.shape.length;return(i="number"===typeof t?[t].concat(Object(r.a)(new Array(u-1).fill(0))):t.length<u?t.concat(new Array(u-t.length).fill(0)):t.slice()).forEach((function(e){a.b(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),o=(o=null==n?new Array(u).fill(-1):"number"===typeof n?[n].concat(Object(r.a)(new Array(u-1).fill(-1))):n.length<u?n.concat(new Array(u-n.length).fill(-1)):n).map((function(t,n){return t>=0?t:(a.b(-1===t,(function(){return"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,".")})),e.shape[n]-i[n])})),[i,o]}function x(e,t,n,r,a,i,s,c,l){var d=t.slice(),h=n.slice(),p=r;null==r&&(p=new Array(d.length));var v=o(s);if(v.length>1)throw new Error("Multiple ellipses in slice is not allowed.");if(0!==s&&0!==c)throw new Error("Using both ellipsisMask and newAxisMask is not yet supported.");if(0!==s&&0!==l)throw new Error("Using both ellipsisMask and shrinkAxisMask is not yet supported.");var m=e.length-d.length,g=o(c),b=e.slice();g.forEach((function(e){d[e]=0,h[e]=1,b.splice(e,0,1)}));var y=f(b,v,m,d,h,p,a,i,s),x=y.begin,_=y.end,w=y.strides;d=x,h=_,p=w;var O=o(l);O.forEach((function(e){h[e]=d[e]+1,p[e]=1}));var k=u(d,h,p),j=k.filter((function(e,t){return-1===O.indexOf(t)}));return{nonStrided:p.every((function(e){return 1===e})),$begin:d,$end:h,$strides:p,size:k,newShape:b,outShape:j}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(12),i=n(7),o=n(44),u=n(8),s=n(11);var c=Object(s.b)({floorDiv_:function(e,t){var n=Object(u.a)(e,"a","floorDiv"),s=Object(u.a)(t,"b","floorDiv"),c=Object(o.makeTypesMatch)(n,s),l=Object(r.a)(c,2),f={a:n=l[0],b:s=l[1]};return a.a.runKernel(i.gb,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(12),a=n(7);function i(e,t,n){var i={shape:e,value:t,dtype:n};return r.a.runKernel(a.db,{},i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(31),s=n(62),c=n(11),l=n(19);var f=Object(c.b)({avgPool_:function(e,t,n,c,f){var d=Object(i.a)(e,"x","avgPool","float32");o.b(s.h(n,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")}));var h=d,p=!1;3===d.rank&&(p=!0,h=Object(l.a)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),o.b(4===h.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank ".concat(h.rank,".")})),null!=f&&o.b(o.v(c),(function(){return"Error in avgPool: pad must be an integer when using, "+"dimRoundingMode ".concat(f," but got pad ").concat(c,".")}));var v={x:h},m={filterSize:t,strides:n,pad:c,dimRoundingMode:f},g=r.a.runKernel(a.o,v,m);return g=Object(u.a)(g,d.dtype),p?Object(l.a)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({cos_:function(e){var t={x:Object(i.a)(e,"x","cos")};return r.a.runKernel(a.I,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({cumsum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=Object(i.a)(e,"x","cumsum"),s={x:u},c={axis:t,exclusive:n,reverse:o};return r.a.runKernel(a.L,s,c)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({elu_:function(e){var t={x:Object(i.a)(e,"x","elu")};return r.a.runKernel(a.V,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({floor_:function(e){var t={x:Object(i.a)(e,"x","floor")};return r.a.runKernel(a.fb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({imag_:function(e){var t={input:Object(i.a)(e,"input","imag")};return r.a.runKernel(a.rb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({leakyRelu_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=Object(i.a)(e,"x","leakyRelu"),o={x:n},u={alpha:t};return r.a.runKernel(a.xb,o,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(6),a=n(12),i=n(7),o=n(44),u=n(8),s=n(37),c=n(11);var l=Object(c.b)({less_:function(e,t){var n=Object(u.a)(e,"a","less"),c=Object(u.a)(t,"b","less"),l=Object(o.makeTypesMatch)(n,c),f=Object(r.a)(l,2);n=f[0],c=f[1],Object(s.a)(n.shape,c.shape);var d={a:n,b:c};return a.a.runKernel(i.yb,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(8),a=n(20),i=n(33),o=n(79),u=n(81),s=n(133),c=n(124),l=n(11),f=n(19),d=n(34),h=n(38);var p=Object(l.b)({logSumExp_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=Object(r.a)(e,"x","logSumExp"),p=Object(a.I)(t,l.shape),v=Object(c.a)(l,p,!0),m=Object(d.a)(l,v),g=Object(u.a)(m),b=Object(h.a)(g,p),y=Object(s.a)(b),x=Object(i.a)(Object(f.a)(v,y.shape),y);if(n){var _=Object(o.e)(x.shape,p);return Object(f.a)(x,_)}return x}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(37),u=n(11);var s=Object(u.b)({logicalOr_:function(e,t){var n=Object(i.a)(e,"a","logicalOr","bool"),u=Object(i.a)(t,"b","logicalOr","bool");Object(o.a)(n.shape,u.shape);var s={a:n,b:u};return r.a.runKernel(a.Gb,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(62),s=n(11),c=n(19);var l=Object(s.b)({maxPool_:function(e,t,n,s,l){var f=Object(i.a)(e,"x","maxPool"),d=f,h=!1;3===f.rank&&(h=!0,d=Object(c.a)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),o.b(4===d.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(d.rank,".")})),o.b(u.h(n,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")})),null!=l&&o.b(o.v(s),(function(){return"Error in maxPool: pad must be an integer when using, "+"dimRoundingMode ".concat(l," but got pad ").concat(s,".")}));var p={x:d},v={filterSize:t,strides:n,pad:s,dimRoundingMode:l},m=r.a.runKernel(a.Ib,p,v);return h?Object(c.a)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(6),a=n(12),i=n(7),o=n(44),u=n(8),s=n(37),c=n(31),l=n(11);var f=Object(l.b)({minimum_:function(e,t){var n=Object(u.a)(e,"a","minimum"),l=Object(u.a)(t,"b","minimum"),f=Object(o.makeTypesMatch)(n,l),d=Object(r.a)(f,2);n=d[0],l=d[1],"bool"===n.dtype&&(n=Object(c.a)(n,"int32"),l=Object(c.a)(l,"int32")),Object(s.a)(n.shape,l.shape);var h={a:n,b:l};return a.a.runKernel(i.Qb,h)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(6),a=n(12),i=n(7),o=n(44),u=n(8),s=n(37),c=n(11);var l=Object(c.b)({notEqual_:function(e,t){var n=Object(u.a)(e,"a","notEqual"),c=Object(u.a)(t,"b","notEqual"),l=Object(o.makeTypesMatch)(n,c),f=Object(r.a)(l,2);n=f[0],c=f[1],Object(s.a)(n.shape,c.shape);var d={a:n,b:c};return a.a.runKernel(i.Zb,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({prelu_:function(e,t){var n={x:Object(i.a)(e,"x","prelu"),alpha:Object(i.a)(t,"alpha","prelu")};return r.a.runKernel(a.gc,n)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({relu6_:function(e){var t={x:Object(i.a)(e,"x","relu6")};return r.a.runKernel(a.nc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(20),o=n(11);var u=Object(o.b)({fft_:function(e){Object(i.b)("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return r.a.runKernel(a.cb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(20),a=n(110),i=n(61),o=n(224),u=n(11),s=n(193),c=n(19),l=n(47),f=n(134),d=n(149),h=n(40),p=n(234);var v=Object(u.b)({rfft_:function(e,t){Object(r.b)("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got ".concat(e.dtype)}));var n,u=e.shape[e.shape.length-1],v=e.size/u;if(null!=t&&t<u){var m=e.shape.map((function(e){return 0})),g=e.shape.map((function(e){return e}));g[e.shape.length-1]=t,n=Object(l.a)(e,m,g),u=t}else if(null!=t&&t>u){var b=e.shape.map((function(e){return e}));b[e.shape.length-1]=t-u,n=Object(i.a)([e,Object(d.a)(b)],e.shape.length-1),u=t}else n=e;var y=Object(h.a)(n),x=Object(c.a)(Object(a.a)(n,y),[v,u]),_=Object(p.a)(x),w=Math.floor(u/2)+1,O=Object(s.a)(_),k=Object(o.a)(_),j=Object(f.a)(O,[w,u-w],O.shape.length-1),E=Object(f.a)(k,[w,u-w],k.shape.length-1),C=n.shape.slice();return C[n.shape.length-1]=w,Object(c.a)(Object(a.a)(j[0],E[0]),C)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(6),a=n(12),i=n(7),o=n(44),u=n(8),s=n(37),c=n(11);var l=Object(c.b)({squaredDifference_:function(e,t){var n=Object(u.a)(e,"a","squaredDifference"),c=Object(u.a)(t,"b","squaredDifference"),l=Object(o.makeTypesMatch)(n,c),f=Object(r.a)(l,2);n=f[0],c=f[1],Object(s.a)(n.shape,c.shape);var d={a:n,b:c};return a.a.runKernel(i.Mc,d,{})}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11);var s=Object(u.b)({unsortedSegmentSum_:function(e,t,n){var u=Object(i.a)(e,"x","unsortedSegmentSum"),s=Object(i.a)(t,"segmentIds","unsortedSegmentSum","int32");Object(o.b)(Object(o.v)(n),(function(){return"numSegments must be of dtype int"}));var c={x:u,segmentIds:s},l={numSegments:n};return r.a.runKernel(a.Zc,c,l)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(8),a=n(20),i=n(82),o=n(79),u=n(124),s=n(191),c=n(11),l=n(99),f=n(19),d=n(36),h=n(76),p=n(45),v=n(38);function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return Object(i.a)(e);if(1!==e.rank&&null===n)return m(Object(f.a)(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return Object(v.a)(Object(i.a)(e),n);if(t===1/0)return Object(u.a)(Object(i.a)(e),n);if(t===-1/0)return Object(s.a)(Object(i.a)(e),n);if("euclidean"===t||2===t)return Object(h.a)(Object(v.a)(Object(l.a)(Object(i.a)(e),Object(d.a)(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return Object(u.a)(Object(v.a)(Object(i.a)(e),n[0]),n[1]-1);if(t===1/0)return Object(u.a)(Object(v.a)(Object(i.a)(e),n[1]),n[0]);if(t===-1/0)return Object(s.a)(Object(v.a)(Object(i.a)(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return Object(h.a)(Object(v.a)(Object(p.a)(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}var g=Object(c.b)({norm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=m(e=Object(r.a)(e,"x","norm"),t,n),s=u.shape;if(i){var c=Object(a.I)(n,e.shape);s=o.e(u.shape,c)}return Object(f.a)(u,s)}})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(20),o=n(11),u=n(19);var s=Object(o.b)({conv2DBackpropInput_:function(e,t,n,o,s){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",l=arguments.length>6?arguments[6]:void 0;i.b(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var f=e,d=t,h=!1;3===t.rank&&(h=!0,d=Object(u.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),f=[1,e[0],e[1],e[2]]),i.b(4===f.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(f.length,".")})),i.b(4===d.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(d.rank)})),i.b(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)}));var p="NHWC"===c?f[3]:f[1],v="NHWC"===c?d.shape[3]:d.shape[1];i.b(p===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input (".concat(p,") must ")+"match input depth for filter ".concat(n.shape[2],".")})),i.b(v===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output (".concat(v,") must ")+"match output depth for filter ".concat(n.shape[3],".")})),null!=l&&i.b(i.v(s),(function(){return"Error in conv2dDerInput: pad must be an integer when using, "+"dimRoundingMode ".concat(l," but got pad ").concat(s,".")}));var m={dy:d,filter:n},g={strides:o,pad:s,dataFormat:c,dimRoundingMode:l,inputShape:f},b=r.a.runKernel(a.E,m,g);return h?Object(u.a)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},function(e,t,n){"use strict";n.r(t),n.d(t,"TEST_EPSILON_FLOAT16",(function(){return u})),n.d(t,"expectArraysClose",(function(){return s})),n.d(t,"testEpsilon",(function(){return c})),n.d(t,"expectPromiseToFail",(function(){return f})),n.d(t,"expectArraysEqual",(function(){return d})),n.d(t,"expectNumbersClose",(function(){return h})),n.d(t,"expectValuesInRange",(function(){return v})),n.d(t,"expectArrayBuffersEqual",(function(){return m})),n.d(t,"encodeStrings",(function(){return g}));var r=n(12),a=n(8),i=n(20),o=n(24),u=.1;function s(e,t,n){return null==n&&(n=c()),l(e,t,(function(e,t){return p(e,t,n)}))}function c(){return 32===r.a.backend.floatPrecision()?.001:u}function l(e,t,n){var r=!0;if((Object(i.A)(e)||Object(i.A)(t))&&(r=!1),Object(i.A)(e)&&Object(i.A)(t)&&(r=!0),r){var o=e.constructor.name,u=t.constructor.name;if(o!==u)throw new Error("Arrays are of different type. Actual: ".concat(o,". ")+"Expected: ".concat(u))}if(Array.isArray(e)&&Array.isArray(t)){var s=Object(a.c)(e),c=Object(a.c)(t);if(!Object(i.a)(s,c))throw new Error("Arrays have different shapes. "+"Actual: [".concat(s,"]. Expected: [").concat(c,"]"))}var l=Object(i.A)(e)?e:Object(i.m)(e),f=Object(i.A)(t)?t:Object(i.m)(t);if(l.length!==f.length)throw new Error("Arrays have different lengths actual: ".concat(l.length," vs ")+"expected: ".concat(f.length,".\n")+"Actual:   ".concat(l,".\n")+"Expected: ".concat(f,"."));for(var d=0;d<f.length;++d){var h=l[d],p=f[d];if(!n(h,p))throw new Error("Arrays differ: actual[".concat(d,"] = ").concat(h,", expected[").concat(d,"] = ").concat(p,".\n")+"Actual:   ".concat(l,".\n")+"Expected: ".concat(f,"."))}}function f(e,t){e().then((function(){return t.fail()}),(function(){return t()}))}function d(e,t){var n="string"===typeof t||"number"===typeof t||"boolean"===typeof t?[t]:t;return Object(i.z)(e)||Object(i.z)(e[0])||Object(i.z)(t)||Object(i.z)(t[0])?l(e,n,(function(e,t){return e==t})):l(e,t,(function(e,t){return p(e,t,0)}))}function h(e,t,n){if(null==n&&(n=c()),!p(e,t,n))throw new Error("Numbers differ: actual === ".concat(e,", expected === ").concat(t))}function p(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function v(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:".concat(e[r]," low: ").concat(t,", high: ").concat(n))}function m(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}function g(e){for(var t=0;t<e.length;t++){var n=e[t];Array.isArray(n)?g(n):e[t]=Object(o.encodeString)(n)}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(355),a=n(354),i=n(178),o=n(356);function u(e){return Object(r.a)(e)||Object(a.a)(e)||Object(i.a)(e)||Object(o.a)()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(20),o=n(11),u=n(19);var s=Object(o.b)({conv2DBackpropFilter_:function(e,t,n,o,s){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",l=arguments.length>6?arguments[6]:void 0,f=e;3===e.rank&&(f=Object(u.a)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var d=t;3===d.rank&&(d=Object(u.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),i.b(4===f.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(f.shape,".")})),i.b(4===d.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(d.shape,".")})),i.b(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")}));var h="NHWC"===c?f.shape[3]:f.shape[1],p="NHWC"===c?d.shape[3]:d.shape[1];i.b(h===n[2],(function(){return"Error in conv2dDerFilter: depth of input ".concat(h,") must ")+"match input depth in filter (".concat(n[2],".")})),i.b(p===n[3],(function(){return"Error in conv2dDerFilter: depth of dy (".concat(p,") must ")+"match output depth for filter (".concat(n[3],").")})),null!=l&&i.b(i.v(s),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, "+"dimRoundingMode ".concat(l," but got pad ").concat(s,".")}));var v={x:f,dy:d},m={strides:o,pad:s,dataFormat:c,dimRoundingMode:l,filterShape:n};return r.a.runKernel(a.D,v,m)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3),a=n(9),i=function(){function e(){Object(r.a)(this,e),this.table_width=17,this.table_truncate=16,this.dtype_test_lim=10,this.table_max_row=21,this.table_max_col_in_console=7}return Object(a.a)(e,[{key:"set_width",value:function(e){this.table_width=e}},{key:"get_width",get:function(){return this.table_width}},{key:"set_max_col_in_console",value:function(e){this.table_max_col_in_console=e}},{key:"get_max_col_in_console",get:function(){return this.table_max_col_in_console}},{key:"set_row_num",value:function(e){this.table_max_row=e}},{key:"get_max_row",get:function(){return this.table_max_row}},{key:"get_truncate",get:function(){return this.table_truncate}},{key:"set_truncate",value:function(e){this.table_truncate=e}},{key:"get_dtype_test_lim",get:function(){return this.dtype_test_lim}},{key:"set_dtype_test_lim",value:function(e){this.dtype_test_lim=e}}]),e}()},function(e,t,n){var r;!function(a){"use strict";var i,o,u,s=9e15,c=1e9,l="0123456789abcdef",f="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",d="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",h={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-s,maxE:s,crypto:!1},p=!0,v="[DecimalError] ",m=v+"Invalid argument: ",g=v+"Precision limit exceeded",b=v+"crypto unavailable",y=Math.floor,x=Math.pow,_=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,w=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,O=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,k=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,j=1e7,E=f.length-1,C=d.length-1,A={name:"[object Decimal]"};function S(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(i+=L(n)),i+=r;(n=7-(r=(o=e[t])+"").length)&&(i+=L(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return i+o}function D(e,t,n){if(e!==~~e||e<t||e>n)throw Error(m+e)}function N(e,t,n,r){var a,i,o,u;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=7,a=0):(a=Math.ceil((t+1)/7),t%=7),i=x(10,7-t),u=e[a]%i|0,null==r?t<3?(0==t?u=u/100|0:1==t&&(u=u/10|0),o=n<4&&99999==u||n>3&&49999==u||5e4==u||0==u):o=(n<4&&u+1==i||n>3&&u+1==i/2)&&(e[a+1]/i/100|0)==x(10,t-2)-1||(u==i/2||0==u)&&0==(e[a+1]/i/100|0):t<4?(0==t?u=u/1e3|0:1==t?u=u/100|0:2==t&&(u=u/10|0),o=(r||n<4)&&9999==u||!r&&n>3&&4999==u):o=((r||n<4)&&u+1==i||!r&&n>3&&u+1==i/2)&&(e[a+1]/i/1e3|0)==x(10,t-3)-1,o}function F(e,t,n){for(var r,a,i=[0],o=0,u=e.length;o<u;){for(a=i.length;a--;)i[a]*=t;for(i[0]+=l.indexOf(e.charAt(o++)),r=0;r<i.length;r++)i[r]>n-1&&(void 0===i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}A.absoluteValue=A.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),M(e)},A.ceil=function(){return M(new this.constructor(this),this.e+1,2)},A.comparedTo=A.cmp=function(e){var t,n,r,a,i=this,o=i.d,u=(e=new i.constructor(e)).d,s=i.s,c=e.s;if(!o||!u)return s&&c?s!==c?s:o===u?0:!o^s<0?1:-1:NaN;if(!o[0]||!u[0])return o[0]?s:u[0]?-c:0;if(s!==c)return s;if(i.e!==e.e)return i.e>e.e^s<0?1:-1;for(t=0,n=(r=o.length)<(a=u.length)?r:a;t<n;++t)if(o[t]!==u[t])return o[t]>u[t]^s<0?1:-1;return r===a?0:r>a^s<0?1:-1},A.cosine=A.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,a=t.d.length;a<32?r=(1/Y(4,n=Math.ceil(a/3))).toString():(n=16,r="2.3283064365386962890625e-10");e.precision+=n,t=X(e,1,t.times(r),new e(1));for(var i=n;i--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=n,t}(r,J(r,n)),r.precision=e,r.rounding=t,M(2==u||3==u?n.neg():n,e,t,!0)):new r(1):new r(NaN)},A.cubeRoot=A.cbrt=function(){var e,t,n,r,a,i,o,u,s,c,l=this,f=l.constructor;if(!l.isFinite()||l.isZero())return new f(l);for(p=!1,(i=l.s*x(l.s*l,1/3))&&Math.abs(i)!=1/0?r=new f(i.toString()):(n=S(l.d),(i=((e=l.e)-n.length+1)%3)&&(n+=1==i||-2==i?"0":"00"),i=x(n,1/3),e=y((e+1)/3)-(e%3==(e<0?-1:2)),(r=new f(n=i==1/0?"5e"+e:(n=i.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=l.s),o=(e=f.precision)+3;;)if(c=(s=(u=r).times(u).times(u)).plus(l),r=T(c.plus(l).times(u),c.plus(s),o+2,1),S(u.d).slice(0,o)===(n=S(r.d)).slice(0,o)){if("9999"!=(n=n.slice(o-3,o+1))&&(a||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(M(r,e+1,1),t=!r.times(r).times(r).eq(l));break}if(!a&&(M(u,e+1,0),u.times(u).times(u).eq(l))){r=u;break}o+=4,a=1}return p=!0,M(r,e,f.rounding,t)},A.decimalPlaces=A.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-y(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},A.dividedBy=A.div=function(e){return T(this,new this.constructor(e))},A.dividedToIntegerBy=A.divToInt=function(e){var t=this.constructor;return M(T(this,new t(e),0,1,1),t.precision,t.rounding)},A.equals=A.eq=function(e){return 0===this.cmp(e)},A.floor=function(){return M(new this.constructor(this),this.e+1,3)},A.greaterThan=A.gt=function(e){return this.cmp(e)>0},A.greaterThanOrEqualTo=A.gte=function(e){var t=this.cmp(e);return 1==t||0===t},A.hyperbolicCosine=A.cosh=function(){var e,t,n,r,a,i=this,o=i.constructor,u=new o(1);if(!i.isFinite())return new o(i.s?1/0:NaN);if(i.isZero())return u;n=o.precision,r=o.rounding,o.precision=n+Math.max(i.e,i.sd())+4,o.rounding=1,(a=i.d.length)<32?t=(1/Y(4,e=Math.ceil(a/3))).toString():(e=16,t="2.3283064365386962890625e-10"),i=X(o,1,i.times(t),new o(1),!0);for(var s,c=e,l=new o(8);c--;)s=i.times(i),i=u.minus(s.times(l.minus(s.times(l))));return M(i,o.precision=n,o.rounding=r,!0)},A.hyperbolicSine=A.sinh=function(){var e,t,n,r,a=this,i=a.constructor;if(!a.isFinite()||a.isZero())return new i(a);if(t=i.precision,n=i.rounding,i.precision=t+Math.max(a.e,a.sd())+4,i.rounding=1,(r=a.d.length)<3)a=X(i,2,a,a,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,a=X(i,2,a=a.times(1/Y(5,e)),a,!0);for(var o,u=new i(5),s=new i(16),c=new i(20);e--;)o=a.times(a),a=a.times(u.plus(o.times(s.times(o).plus(c))))}return i.precision=t,i.rounding=n,M(a,t,n,!0)},A.hyperbolicTangent=A.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,T(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},A.inverseCosine=A.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),a=n.precision,i=n.rounding;return-1!==r?0===r?t.isNeg()?B(n,a,i):new n(0):new n(NaN):t.isZero()?B(n,a+4,i).times(.5):(n.precision=a+6,n.rounding=1,t=t.asin(),e=B(n,a+4,i).times(.5),n.precision=a,n.rounding=i,e.minus(t))},A.inverseHyperbolicCosine=A.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,p=!1,n=n.times(n).minus(1).sqrt().plus(n),p=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},A.inverseHyperbolicSine=A.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,p=!1,n=n.times(n).plus(1).sqrt().plus(n),p=!0,r.precision=e,r.rounding=t,n.ln())},A.inverseHyperbolicTangent=A.atanh=function(){var e,t,n,r,a=this,i=a.constructor;return a.isFinite()?a.e>=0?new i(a.abs().eq(1)?a.s/0:a.isZero()?a:NaN):(e=i.precision,t=i.rounding,r=a.sd(),Math.max(r,e)<2*-a.e-1?M(new i(a),e,t,!0):(i.precision=n=r-a.e,a=T(a.plus(1),new i(1).minus(a),n+e,1),i.precision=e+4,i.rounding=1,a=a.ln(),i.precision=e,i.rounding=t,a.times(.5))):new i(NaN)},A.inverseSine=A.asin=function(){var e,t,n,r,a=this,i=a.constructor;return a.isZero()?new i(a):(t=a.abs().cmp(1),n=i.precision,r=i.rounding,-1!==t?0===t?((e=B(i,n+4,r).times(.5)).s=a.s,e):new i(NaN):(i.precision=n+6,i.rounding=1,a=a.div(new i(1).minus(a.times(a)).sqrt().plus(1)).atan(),i.precision=n,i.rounding=r,a.times(2)))},A.inverseTangent=A.atan=function(){var e,t,n,r,a,i,o,u,s,c=this,l=c.constructor,f=l.precision,d=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&f+4<=C)return(o=B(l,f+4,d).times(.25)).s=c.s,o}else{if(!c.s)return new l(NaN);if(f+4<=C)return(o=B(l,f+4,d).times(.5)).s=c.s,o}for(l.precision=u=f+10,l.rounding=1,e=n=Math.min(28,u/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(p=!1,t=Math.ceil(u/7),r=1,s=c.times(c),o=new l(c),a=c;-1!==e;)if(a=a.times(s),i=o.minus(a.div(r+=2)),a=a.times(s),void 0!==(o=i.plus(a.div(r+=2))).d[t])for(e=t;o.d[e]===i.d[e]&&e--;);return n&&(o=o.times(2<<n-1)),p=!0,M(o,l.precision=f,l.rounding=d,!0)},A.isFinite=function(){return!!this.d},A.isInteger=A.isInt=function(){return!!this.d&&y(this.e/7)>this.d.length-2},A.isNaN=function(){return!this.s},A.isNegative=A.isNeg=function(){return this.s<0},A.isPositive=A.isPos=function(){return this.s>0},A.isZero=function(){return!!this.d&&0===this.d[0]},A.lessThan=A.lt=function(e){return this.cmp(e)<0},A.lessThanOrEqualTo=A.lte=function(e){return this.cmp(e)<1},A.logarithm=A.log=function(e){var t,n,r,a,i,o,u,s,c=this,l=c.constructor,f=l.precision,d=l.rounding;if(null==e)e=new l(10),t=!0;else{if(n=(e=new l(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(n=c.d,c.s<0||!n||!n[0]||c.eq(1))return new l(n&&!n[0]?-1/0:1!=c.s?NaN:n?0:1/0);if(t)if(n.length>1)i=!0;else{for(a=n[0];a%10===0;)a/=10;i=1!==a}if(p=!1,o=H(c,u=f+5),r=t?P(l,u+10):H(e,u),N((s=T(o,r,u,1)).d,a=f,d))do{if(o=H(c,u+=10),r=t?P(l,u+10):H(e,u),s=T(o,r,u,1),!i){+S(s.d).slice(a+1,a+15)+1==1e14&&(s=M(s,f+1,0));break}}while(N(s.d,a+=10,d));return p=!0,M(s,f,d)},A.minus=A.sub=function(e){var t,n,r,a,i,o,u,s,c,l,f,d,h=this,v=h.constructor;if(e=new v(e),!h.d||!e.d)return h.s&&e.s?h.d?e.s=-e.s:e=new v(e.d||h.s!==e.s?h:NaN):e=new v(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.plus(e);if(c=h.d,d=e.d,u=v.precision,s=v.rounding,!c[0]||!d[0]){if(d[0])e.s=-e.s;else{if(!c[0])return new v(3===s?-0:0);e=new v(h)}return p?M(e,u,s):e}if(n=y(e.e/7),l=y(h.e/7),c=c.slice(),i=l-n){for((f=i<0)?(t=c,i=-i,o=d.length):(t=d,n=l,o=c.length),i>(r=Math.max(Math.ceil(u/7),o)+2)&&(i=r,t.length=1),t.reverse(),r=i;r--;)t.push(0);t.reverse()}else{for((f=(r=c.length)<(o=d.length))&&(o=r),r=0;r<o;r++)if(c[r]!=d[r]){f=c[r]<d[r];break}i=0}for(f&&(t=c,c=d,d=t,e.s=-e.s),o=c.length,r=d.length-o;r>0;--r)c[o++]=0;for(r=d.length;r>i;){if(c[--r]<d[r]){for(a=r;a&&0===c[--a];)c[a]=j-1;--c[a],c[r]+=j}c[r]-=d[r]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(e.d=c,e.e=R(c,n),p?M(e,u,s):e):new v(3===s?-0:0)},A.modulo=A.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?M(new r(n),r.precision,r.rounding):(p=!1,9==r.modulo?(t=T(n,e.abs(),0,3,1)).s*=e.s:t=T(n,e,0,r.modulo,1),t=t.times(e),p=!0,n.minus(t))},A.naturalExponential=A.exp=function(){return q(this)},A.naturalLogarithm=A.ln=function(){return H(this)},A.negated=A.neg=function(){var e=new this.constructor(this);return e.s=-e.s,M(e)},A.plus=A.add=function(e){var t,n,r,a,i,o,u,s,c,l,f=this,d=f.constructor;if(e=new d(e),!f.d||!e.d)return f.s&&e.s?f.d||(e=new d(e.d||f.s===e.s?f:NaN)):e=new d(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(c=f.d,l=e.d,u=d.precision,s=d.rounding,!c[0]||!l[0])return l[0]||(e=new d(f)),p?M(e,u,s):e;if(i=y(f.e/7),r=y(e.e/7),c=c.slice(),a=i-r){for(a<0?(n=c,a=-a,o=l.length):(n=l,r=i,o=c.length),a>(o=(i=Math.ceil(u/7))>o?i+1:o+1)&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for((o=c.length)-(a=l.length)<0&&(a=o,n=l,l=c,c=n),t=0;a;)t=(c[--a]=c[a]+l[a]+t)/j|0,c[a]%=j;for(t&&(c.unshift(t),++r),o=c.length;0==c[--o];)c.pop();return e.d=c,e.e=R(c,r),p?M(e,u,s):e},A.precision=A.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(m+e);return n.d?(t=z(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},A.round=function(){var e=this,t=e.constructor;return M(new t(e),e.e+1,t.rounding)},A.sine=A.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return X(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=t.times(1/Y(5,n)),t=X(e,2,t,t);for(var a,i=new e(5),o=new e(16),u=new e(20);n--;)a=t.times(t),t=t.times(i.plus(a.times(o.times(a).minus(u))));return t}(r,J(r,n)),r.precision=e,r.rounding=t,M(u>2?n.neg():n,e,t,!0)):new r(NaN)},A.squareRoot=A.sqrt=function(){var e,t,n,r,a,i,o=this,u=o.d,s=o.e,c=o.s,l=o.constructor;if(1!==c||!u||!u[0])return new l(!c||c<0&&(!u||u[0])?NaN:u?o:1/0);for(p=!1,0==(c=Math.sqrt(+o))||c==1/0?(((t=S(u)).length+s)%2==0&&(t+="0"),c=Math.sqrt(t),s=y((s+1)/2)-(s<0||s%2),r=new l(t=c==1/0?"5e"+s:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+s)):r=new l(c.toString()),n=(s=l.precision)+3;;)if(r=(i=r).plus(T(o,i,n+2,1)).times(.5),S(i.d).slice(0,n)===(t=S(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(a||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(M(r,s+1,1),e=!r.times(r).eq(o));break}if(!a&&(M(i,s+1,0),i.times(i).eq(o))){r=i;break}n+=4,a=1}return p=!0,M(r,s,l.rounding,e)},A.tangent=A.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=T(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,M(2==u||4==u?n.neg():n,e,t,!0)):new r(NaN)},A.times=A.mul=function(e){var t,n,r,a,i,o,u,s,c,l=this,f=l.constructor,d=l.d,h=(e=new f(e)).d;if(e.s*=l.s,!d||!d[0]||!h||!h[0])return new f(!e.s||d&&!d[0]&&!h||h&&!h[0]&&!d?NaN:d&&h?0*e.s:e.s/0);for(n=y(l.e/7)+y(e.e/7),(s=d.length)<(c=h.length)&&(i=d,d=h,h=i,o=s,s=c,c=o),i=[],r=o=s+c;r--;)i.push(0);for(r=c;--r>=0;){for(t=0,a=s+r;a>r;)u=i[a]+h[r]*d[a-r-1]+t,i[a--]=u%j|0,t=u/j|0;i[a]=(i[a]+t)%j|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=R(i,n),p?M(e,f.precision,f.rounding):e},A.toBinary=function(e,t){return Q(this,2,e,t)},A.toDecimalPlaces=A.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(D(e,0,c),void 0===t?t=r.rounding:D(t,0,8),M(n,e+n.e+1,t))},A.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=I(r,!0):(D(e,0,c),void 0===t?t=a.rounding:D(t,0,8),n=I(r=M(new a(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},A.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?n=I(a):(D(e,0,c),void 0===t?t=i.rounding:D(t,0,8),n=I(r=M(new i(a),e+a.e+1,t),!1,e+r.e+1)),a.isNeg()&&!a.isZero()?"-"+n:n},A.toFraction=function(e){var t,n,r,a,i,o,u,s,c,l,f,d,h=this,v=h.d,g=h.constructor;if(!v)return new g(h);if(c=n=new g(1),r=s=new g(0),o=(i=(t=new g(r)).e=z(v)-h.e-1)%7,t.d[0]=x(10,o<0?7+o:o),null==e)e=i>0?t:c;else{if(!(u=new g(e)).isInt()||u.lt(c))throw Error(m+u);e=u.gt(t)?i>0?t:c:u}for(p=!1,u=new g(S(v)),l=g.precision,g.precision=i=7*v.length*2;f=T(u,t,0,1,1),1!=(a=n.plus(f.times(r))).cmp(e);)n=r,r=a,a=c,c=s.plus(f.times(a)),s=a,a=t,t=u.minus(f.times(a)),u=a;return a=T(e.minus(n),r,0,1,1),s=s.plus(a.times(c)),n=n.plus(a.times(r)),s.s=c.s=h.s,d=T(c,r,i,1).minus(h).abs().cmp(T(s,n,i,1).minus(h).abs())<1?[c,r]:[s,n],g.precision=l,p=!0,d},A.toHexadecimal=A.toHex=function(e,t){return Q(this,16,e,t)},A.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:D(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(p=!1,n=T(n,e,0,t,1).times(e),p=!0,M(n)):(e.s=n.s,n=e),n},A.toNumber=function(){return+this},A.toOctal=function(e,t){return Q(this,8,e,t)},A.toPower=A.pow=function(e){var t,n,r,a,i,o,u=this,s=u.constructor,c=+(e=new s(e));if(!u.d||!e.d||!u.d[0]||!e.d[0])return new s(x(+u,c));if((u=new s(u)).eq(1))return u;if(r=s.precision,i=s.rounding,e.eq(1))return M(u,r,i);if((t=y(e.e/7))>=e.d.length-1&&(n=c<0?-c:c)<=9007199254740991)return a=U(s,u,n,r),e.s<0?new s(1).div(a):M(a,r,i);if((o=u.s)<0){if(t<e.d.length-1)return new s(NaN);if(0==(1&e.d[t])&&(o=1),0==u.e&&1==u.d[0]&&1==u.d.length)return u.s=o,u}return(t=0!=(n=x(+u,c))&&isFinite(n)?new s(n+"").e:y(c*(Math.log("0."+S(u.d))/Math.LN10+u.e+1)))>s.maxE+1||t<s.minE-1?new s(t>0?o/0:0):(p=!1,s.rounding=u.s=1,n=Math.min(12,(t+"").length),(a=q(e.times(H(u,r+n)),r)).d&&N((a=M(a,r+5,1)).d,r,i)&&(t=r+10,+S((a=M(q(e.times(H(u,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(a=M(a,r+1,0))),a.s=o,p=!0,s.rounding=i,M(a,r,i))},A.toPrecision=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=I(r,r.e<=a.toExpNeg||r.e>=a.toExpPos):(D(e,1,c),void 0===t?t=a.rounding:D(t,0,8),n=I(r=M(new a(r),e,t),e<=r.e||r.e<=a.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},A.toSignificantDigits=A.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(D(e,1,c),void 0===t?t=n.rounding:D(t,0,8)),M(new n(this),e,t)},A.toString=function(){var e=this,t=e.constructor,n=I(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},A.truncated=A.trunc=function(){return M(new this.constructor(this),this.e+1,1)},A.valueOf=A.toJSON=function(){var e=this,t=e.constructor,n=I(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var T=function(){function e(e,t,n){var r,a=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+a,e[i]=r%n|0,a=r/n|0;return a&&e.unshift(a),e}function t(e,t,n,r){var a,i;if(n!=r)i=n>r?1:-1;else for(a=i=0;a<n;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function n(e,t,n,r){for(var a=0;n--;)e[n]-=a,a=e[n]<t[n]?1:0,e[n]=a*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,i,u,s,c){var l,f,d,h,p,v,m,g,b,x,_,w,O,k,E,C,A,S,D,N,F=r.constructor,T=r.s==a.s?1:-1,I=r.d,R=a.d;if(!I||!I[0]||!R||!R[0])return new F(r.s&&a.s&&(I?!R||I[0]!=R[0]:R)?I&&0==I[0]||!R?0*T:T/0:NaN);for(c?(p=1,f=r.e-a.e):(c=j,p=7,f=y(r.e/p)-y(a.e/p)),D=R.length,A=I.length,x=(b=new F(T)).d=[],d=0;R[d]==(I[d]||0);d++);if(R[d]>(I[d]||0)&&f--,null==i?(k=i=F.precision,u=F.rounding):k=s?i+(r.e-a.e)+1:i,k<0)x.push(1),v=!0;else{if(k=k/p+2|0,d=0,1==D){for(h=0,R=R[0],k++;(d<A||h)&&k--;d++)E=h*c+(I[d]||0),x[d]=E/R|0,h=E%R|0;v=h||d<A}else{for((h=c/(R[0]+1)|0)>1&&(R=e(R,h,c),I=e(I,h,c),D=R.length,A=I.length),C=D,w=(_=I.slice(0,D)).length;w<D;)_[w++]=0;(N=R.slice()).unshift(0),S=R[0],R[1]>=c/2&&++S;do{h=0,(l=t(R,_,D,w))<0?(O=_[0],D!=w&&(O=O*c+(_[1]||0)),(h=O/S|0)>1?(h>=c&&(h=c-1),1==(l=t(m=e(R,h,c),_,g=m.length,w=_.length))&&(h--,n(m,D<g?N:R,g,c))):(0==h&&(l=h=1),m=R.slice()),(g=m.length)<w&&m.unshift(0),n(_,m,w,c),-1==l&&(l=t(R,_,D,w=_.length))<1&&(h++,n(_,D<w?N:R,w,c)),w=_.length):0===l&&(h++,_=[0]),x[d++]=h,l&&_[0]?_[w++]=I[C]||0:(_=[I[C]],w=1)}while((C++<A||void 0!==_[0])&&k--);v=void 0!==_[0]}x[0]||x.shift()}if(1==p)b.e=f,o=v;else{for(d=1,h=x[0];h>=10;h/=10)d++;b.e=d+f*p-1,M(b,s?i+b.e+1:i,u,v)}return b}}();function M(e,t,n,r){var a,i,o,u,s,c,l,f,d,h=e.constructor;e:if(null!=t){if(!(f=e.d))return e;for(a=1,u=f[0];u>=10;u/=10)a++;if((i=t-a)<0)i+=7,o=t,s=(l=f[d=0])/x(10,a-o-1)%10|0;else if((d=Math.ceil((i+1)/7))>=(u=f.length)){if(!r)break e;for(;u++<=d;)f.push(0);l=s=0,a=1,o=(i%=7)-7+1}else{for(l=u=f[d],a=1;u>=10;u/=10)a++;s=(o=(i%=7)-7+a)<0?0:l/x(10,a-o-1)%10|0}if(r=r||t<0||void 0!==f[d+1]||(o<0?l:l%x(10,a-o-1)),c=n<4?(s||r)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||r||6==n&&(i>0?o>0?l/x(10,a-o):0:f[d-1])%10&1||n==(e.s<0?8:7)),t<1||!f[0])return f.length=0,c?(t-=e.e+1,f[0]=x(10,(7-t%7)%7),e.e=-t||0):f[0]=e.e=0,e;if(0==i?(f.length=d,u=1,d--):(f.length=d+1,u=x(10,7-i),f[d]=o>0?(l/x(10,a-o)%x(10,o)|0)*u:0),c)for(;;){if(0==d){for(i=1,o=f[0];o>=10;o/=10)i++;for(o=f[0]+=u,u=1;o>=10;o/=10)u++;i!=u&&(e.e++,f[0]==j&&(f[0]=1));break}if(f[d]+=u,f[d]!=j)break;f[d--]=0,u=1}for(i=f.length;0===f[--i];)f.pop()}return p&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function I(e,t,n){if(!e.isFinite())return G(e);var r,a=e.e,i=S(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+L(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):a<0?(i="0."+L(-a-1)+i,n&&(r=n-o)>0&&(i+=L(r))):a>=o?(i+=L(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+L(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=L(r))),i}function R(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function P(e,t,n){if(t>E)throw p=!0,n&&(e.precision=n),Error(g);return M(new e(f),t,1,!0)}function B(e,t,n){if(t>C)throw Error(g);return M(new e(d),t,n,!0)}function z(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function L(e){for(var t="";e--;)t+="0";return t}function U(e,t,n,r){var a,i=new e(1),o=Math.ceil(r/7+4);for(p=!1;;){if(n%2&&Z((i=i.times(t)).d,o)&&(a=!0),0===(n=y(n/2))){n=i.d.length-1,a&&0===i.d[n]&&++i.d[n];break}Z((t=t.times(t)).d,o)}return p=!0,i}function W(e){return 1&e.d[e.d.length-1]}function V(e,t,n){for(var r,a=new e(t[0]),i=0;++i<t.length;){if(!(r=new e(t[i])).s){a=r;break}a[n](r)&&(a=r)}return a}function q(e,t){var n,r,a,i,o,u,s,c=0,l=0,f=0,d=e.constructor,h=d.rounding,v=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(p=!1,s=v):s=t,u=new d(.03125);e.e>-2;)e=e.times(u),f+=5;for(s+=r=Math.log(x(2,f))/Math.LN10*2+5|0,n=i=o=new d(1),d.precision=s;;){if(i=M(i.times(e),s,1),n=n.times(++l),S((u=o.plus(T(i,n,s,1))).d).slice(0,s)===S(o.d).slice(0,s)){for(a=f;a--;)o=M(o.times(o),s,1);if(null!=t)return d.precision=v,o;if(!(c<3&&N(o.d,s-r,h,c)))return M(o,d.precision=v,h,p=!0);d.precision=s+=10,n=i=u=new d(1),l=0,c++}o=u}}function H(e,t){var n,r,a,i,o,u,s,c,l,f,d,h=1,v=e,m=v.d,g=v.constructor,b=g.rounding,y=g.precision;if(v.s<0||!m||!m[0]||!v.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=v.s?NaN:m?0:v);if(null==t?(p=!1,l=y):l=t,g.precision=l+=10,r=(n=S(m)).charAt(0),!(Math.abs(i=v.e)<15e14))return c=P(g,l+2,y).times(i+""),v=H(new g(r+"."+n.slice(1)),l-10).plus(c),g.precision=y,null==t?M(v,y,b,p=!0):v;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=S((v=v.times(e)).d)).charAt(0),h++;for(i=v.e,r>1?(v=new g("0."+n),i++):v=new g(r+"."+n.slice(1)),f=v,s=o=v=T(v.minus(1),v.plus(1),l,1),d=M(v.times(v),l,1),a=3;;){if(o=M(o.times(d),l,1),S((c=s.plus(T(o,new g(a),l,1))).d).slice(0,l)===S(s.d).slice(0,l)){if(s=s.times(2),0!==i&&(s=s.plus(P(g,l+2,y).times(i+""))),s=T(s,new g(h),l,1),null!=t)return g.precision=y,s;if(!N(s.d,l-10,b,u))return M(s,g.precision=y,b,p=!0);g.precision=l+=10,c=o=v=T(f.minus(1),f.plus(1),l,1),d=M(v.times(v),l,1),a=u=1}s=c,a+=2}}function G(e){return String(e.s*e.s/0)}function K(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(a=t.length;48===t.charCodeAt(a-1);--a);if(t=t.slice(r,a)){if(a-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";e.d.push(+t),p&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function $(e,t){var n,r,a,o,u,s,c,l,f;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(w.test(t))n=16,t=t.toLowerCase();else if(_.test(t))n=2;else{if(!O.test(t))throw Error(m+t);n=8}for((o=t.search(/p/i))>0?(c=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),u=(o=t.indexOf("."))>=0,r=e.constructor,u&&(o=(s=(t=t.replace(".","")).length)-o,a=U(r,new r(n),o,2*o)),o=f=(l=F(t,n,j)).length-1;0===l[o];--o)l.pop();return o<0?new r(0*e.s):(e.e=R(l,f),e.d=l,p=!1,u&&(e=T(e,a,4*s)),c&&(e=e.times(Math.abs(c)<54?x(2,c):i.pow(2,c))),p=!0,e)}function X(e,t,n,r,a){var i,o,u,s,c=e.precision,l=Math.ceil(c/7);for(p=!1,s=n.times(n),u=new e(r);;){if(o=T(u.times(s),new e(t++*t++),c,1),u=a?r.plus(o):r.minus(o),r=T(o.times(s),new e(t++*t++),c,1),void 0!==(o=u.plus(r)).d[l]){for(i=l;o.d[i]===u.d[i]&&i--;);if(-1==i)break}i=u,u=r,r=o,o=i}return p=!0,o.d.length=l+1,o}function Y(e,t){for(var n=e;--t;)n*=e;return n}function J(e,t){var n,r=t.s<0,a=B(e,e.precision,1),i=a.times(.5);if((t=t.abs()).lte(i))return u=r?4:1,t;if((n=t.divToInt(a)).isZero())u=r?3:2;else{if((t=t.minus(n.times(a))).lte(i))return u=W(n)?r?2:3:r?4:1,t;u=W(n)?r?1:4:r?3:2}return t.minus(a).abs()}function Q(e,t,n,r){var a,i,u,s,f,d,h,p,v,m=e.constructor,g=void 0!==n;if(g?(D(n,1,c),void 0===r?r=m.rounding:D(r,0,8)):(n=m.precision,r=m.rounding),e.isFinite()){for(g?(a=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):a=t,(u=(h=I(e)).indexOf("."))>=0&&(h=h.replace(".",""),(v=new m(1)).e=h.length-u,v.d=F(I(v),10,a),v.e=v.d.length),i=f=(p=F(h,10,a)).length;0==p[--f];)p.pop();if(p[0]){if(u<0?i--:((e=new m(e)).d=p,e.e=i,p=(e=T(e,v,n,r,0,a)).d,i=e.e,d=o),u=p[n],s=a/2,d=d||void 0!==p[n+1],d=r<4?(void 0!==u||d)&&(0===r||r===(e.s<0?3:2)):u>s||u===s&&(4===r||d||6===r&&1&p[n-1]||r===(e.s<0?8:7)),p.length=n,d)for(;++p[--n]>a-1;)p[n]=0,n||(++i,p.unshift(1));for(f=p.length;!p[f-1];--f);for(u=0,h="";u<f;u++)h+=l.charAt(p[u]);if(g){if(f>1)if(16==t||8==t){for(u=16==t?4:3,--f;f%u;f++)h+="0";for(f=(p=F(h,a,t)).length;!p[f-1];--f);for(u=1,h="1.";u<f;u++)h+=l.charAt(p[u])}else h=h.charAt(0)+"."+h.slice(1);h=h+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)h="0"+h;h="0."+h}else if(++i>f)for(i-=f;i--;)h+="0";else i<f&&(h=h.slice(0,i)+"."+h.slice(i))}else h=g?"0p+0":"0";h=(16==t?"0x":2==t?"0b":8==t?"0o":"")+h}else h=G(e);return e.s<0?"-"+h:h}function Z(e,t){if(e.length>t)return e.length=t,!0}function ee(e){return new this(e).abs()}function te(e){return new this(e).acos()}function ne(e){return new this(e).acosh()}function re(e,t){return new this(e).plus(t)}function ae(e){return new this(e).asin()}function ie(e){return new this(e).asinh()}function oe(e){return new this(e).atan()}function ue(e){return new this(e).atanh()}function se(e,t){e=new this(e),t=new this(t);var n,r=this.precision,a=this.rounding,i=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?B(this,r,a):new this(0)).s=e.s:!e.d||t.isZero()?(n=B(this,i,1).times(.5)).s=e.s:t.s<0?(this.precision=i,this.rounding=1,n=this.atan(T(e,t,i,1)),t=B(this,i,1),this.precision=r,this.rounding=a,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(T(e,t,i,1)):(n=B(this,i,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function ce(e){return new this(e).cbrt()}function le(e){return M(e=new this(e),e.e+1,2)}function fe(e){if(!e||"object"!==typeof e)throw Error(v+"Object expected");var t,n,r,a=!0===e.defaults,i=["precision",1,c,"rounding",0,8,"toExpNeg",-s,0,"toExpPos",0,s,"maxE",0,s,"minE",-s,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(n=i[t],a&&(this[n]=h[n]),void 0!==(r=e[n])){if(!(y(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(m+n+": "+r);this[n]=r}if(n="crypto",a&&(this[n]=h[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(m+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(b);this[n]=!0}else this[n]=!1}return this}function de(e){return new this(e).cos()}function he(e){return new this(e).cosh()}function pe(e,t){return new this(e).div(t)}function ve(e){return new this(e).exp()}function me(e){return M(e=new this(e),e.e+1,3)}function ge(){var e,t,n=new this(0);for(p=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return p=!0,new this(1/0);n=t}return p=!0,n.sqrt()}function be(e){return e instanceof i||e&&"[object Decimal]"===e.name||!1}function ye(e){return new this(e).ln()}function xe(e,t){return new this(e).log(t)}function _e(e){return new this(e).log(2)}function we(e){return new this(e).log(10)}function Oe(){return V(this,arguments,"lt")}function ke(){return V(this,arguments,"gt")}function je(e,t){return new this(e).mod(t)}function Ee(e,t){return new this(e).mul(t)}function Ce(e,t){return new this(e).pow(t)}function Ae(e){var t,n,r,a,i=0,o=new this(1),u=[];if(void 0===e?e=this.precision:D(e,1,c),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));i<r;)(a=t[i])>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:u[i++]=a%1e7;else{if(!crypto.randomBytes)throw Error(b);for(t=crypto.randomBytes(r*=4);i<r;)(a=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((127&t[i+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,i):(u.push(a%1e7),i+=4);i=r/4}else for(;i<r;)u[i++]=1e7*Math.random()|0;for(e%=7,(r=u[--i])&&e&&(a=x(10,7-e),u[i]=(r/a|0)*a);0===u[i];i--)u.pop();if(i<0)n=0,u=[0];else{for(n=-1;0===u[0];n-=7)u.shift();for(r=1,a=u[0];a>=10;a/=10)r++;r<7&&(n-=7-r)}return o.e=n,o.d=u,o}function Se(e){return M(e=new this(e),e.e+1,this.rounding)}function De(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Ne(e){return new this(e).sin()}function Fe(e){return new this(e).sinh()}function Te(e){return new this(e).sqrt()}function Me(e,t){return new this(e).sub(t)}function Ie(e){return new this(e).tan()}function Re(e){return new this(e).tanh()}function Pe(e){return M(e=new this(e),e.e+1,1)}(i=function e(t){var n,r,a;function i(e){var t,n,r,a=this;if(!(a instanceof i))return new i(e);if(a.constructor=i,e instanceof i)return a.s=e.s,void(p?!e.d||e.e>i.maxE?(a.e=NaN,a.d=null):e.e<i.minE?(a.e=0,a.d=[0]):(a.e=e.e,a.d=e.d.slice()):(a.e=e.e,a.d=e.d?e.d.slice():e.d));if("number"===(r=typeof e)){if(0===e)return a.s=1/e<0?-1:1,a.e=0,void(a.d=[0]);if(e<0?(e=-e,a.s=-1):a.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(p?t>i.maxE?(a.e=NaN,a.d=null):t<i.minE?(a.e=0,a.d=[0]):(a.e=t,a.d=[e]):(a.e=t,a.d=[e]))}return 0*e!==0?(e||(a.s=NaN),a.e=NaN,void(a.d=null)):K(a,e.toString())}if("string"!==r)throw Error(m+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),a.s=-1):(43===n&&(e=e.slice(1)),a.s=1),k.test(e)?K(a,e):$(a,e)}if(i.prototype=A,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=fe,i.clone=e,i.isDecimal=be,i.abs=ee,i.acos=te,i.acosh=ne,i.add=re,i.asin=ae,i.asinh=ie,i.atan=oe,i.atanh=ue,i.atan2=se,i.cbrt=ce,i.ceil=le,i.cos=de,i.cosh=he,i.div=pe,i.exp=ve,i.floor=me,i.hypot=ge,i.ln=ye,i.log=xe,i.log10=we,i.log2=_e,i.max=Oe,i.min=ke,i.mod=je,i.mul=Ee,i.pow=Ce,i.random=Ae,i.round=Se,i.sign=De,i.sin=Ne,i.sinh=Fe,i.sqrt=Te,i.sub=Me,i.tan=Ie,i.tanh=Re,i.trunc=Pe,void 0===t&&(t={}),t&&!0!==t.defaults)for(a=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return i.config(t),i}(h)).default=i.Decimal=i,f=new i(f),d=new i(d),void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";t.a=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),a=n(276);function i(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){Object(a.a)(e,n),Object(a.a)(t,n)}}),[e,t])}},function(e,t,n){"use strict";var r=n(350),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||a}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var a=h(n);a&&a!==p&&e(t,a,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var g=o[m];if(!i[g]&&(!r||!r[g])&&(!v||!v[g])&&(!u||!u[g])){var b=d(n,g);try{c(t,g,b)}catch(y){}}}}return t}},function(e,t,n){"use strict";var r=n(4),a=n.n(r).a.createContext(null);t.a=a},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var o=a.apply(null,r);o&&e.push(o)}else if("object"===i)for(var u in r)n.call(r,u)&&r[u]&&e.push(u)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){(function(t){var n="__lodash_hash_undefined__",r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,i=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,s=/^\[object .+?Constructor\]$/,c="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,f=c||l||Function("return this")();var d=Array.prototype,h=Function.prototype,p=Object.prototype,v=f["__core-js_shared__"],m=function(){var e=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),g=h.toString,b=p.hasOwnProperty,y=p.toString,x=RegExp("^"+g.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=f.Symbol,w=d.splice,O=T(f,"Map"),k=T(Object,"create"),j=_?_.prototype:void 0,E=j?j.toString:void 0;function C(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function A(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function D(e,t){for(var n,r,a=e.length;a--;)if((n=e[a][0])===(r=t)||n!==n&&r!==r)return a;return-1}function N(e){return!(!z(e)||(t=e,m&&m in t))&&(B(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?x:s).test(function(e){if(null!=e){try{return g.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e));var t}function F(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function T(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return N(n)?n:void 0}C.prototype.clear=function(){this.__data__=k?k(null):{}},C.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},C.prototype.get=function(e){var t=this.__data__;if(k){var r=t[e];return r===n?void 0:r}return b.call(t,e)?t[e]:void 0},C.prototype.has=function(e){var t=this.__data__;return k?void 0!==t[e]:b.call(t,e)},C.prototype.set=function(e,t){return this.__data__[e]=k&&void 0===t?n:t,this},A.prototype.clear=function(){this.__data__=[]},A.prototype.delete=function(e){var t=this.__data__,n=D(t,e);return!(n<0)&&(n==t.length-1?t.pop():w.call(t,n,1),!0)},A.prototype.get=function(e){var t=this.__data__,n=D(t,e);return n<0?void 0:t[n][1]},A.prototype.has=function(e){return D(this.__data__,e)>-1},A.prototype.set=function(e,t){var n=this.__data__,r=D(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},S.prototype.clear=function(){this.__data__={hash:new C,map:new(O||A),string:new C}},S.prototype.delete=function(e){return F(this,e).delete(e)},S.prototype.get=function(e){return F(this,e).get(e)},S.prototype.has=function(e){return F(this,e).has(e)},S.prototype.set=function(e,t){return F(this,e).set(e,t),this};var M=R((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(L(e))return E?E.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return i.test(e)&&n.push(""),e.replace(o,(function(e,t,r,a){n.push(r?a.replace(u,"$1"):t||e)})),n}));function I(e){if("string"==typeof e||L(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function R(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o),o};return n.cache=new(R.Cache||S),n}R.Cache=S;var P=Array.isArray;function B(e){var t=z(e)?y.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function z(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function L(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==y.call(e)}e.exports=function(e,t,n){var i=-1,o=(t=function(e,t){if(P(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!L(e))||a.test(e)||!r.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return P(e)?e:M(e)}(t)).length;for(o||(e=void 0,o=1);++i<o;){var u=null==e?void 0:e[I(t[i])];void 0===u&&(i=o,u=n),e=B(u)?u.call(e):u}return e}}).call(this,n(106))},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t,r="object"==typeof self&&self&&self.Object===Object&&self,a=(n||r||Function("return this")()).isFinite;e.exports=function(e){return"number"==typeof e&&a(e)}}).call(this,n(106))},function(e,t,n){"use strict";var r=n(59),a=n(65),i=Object(r.a)((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*a.c)/a.a}),(function(e){return e.getDate()-1}));t.a=i;i.range},function(e,t,n){"use strict";var r=n(59),a=n(65),i=Object(r.a)((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/a.a}),(function(e){return e.getUTCDate()-1}));t.a=i;i.range},function(e,t,n){"use strict";var r=n(59),a=Object(r.a)((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));a.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Object(r.a)((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null},t.a=a;a.range},function(e,t,n){"use strict";var r=n(59),a=Object(r.a)((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));a.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Object(r.a)((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null},t.a=a;a.range},,,,function(e,t,n){"use strict";(function(e){n(12);var t=n(315),r=n(42),a=Object(r.c)();a.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),a.registerFlag("IS_BROWSER",(function(){return t.isBrowser()})),a.registerFlag("IS_NODE",(function(){return"undefined"!==typeof e&&"undefined"!==typeof e.versions&&"undefined"!==typeof e.versions.node})),a.registerFlag("IS_CHROME",(function(){return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),a.registerFlag("PROD",(function(){return!1})),a.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return a.getBool("DEBUG")})),a.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),a.registerFlag("IS_TEST",(function(){return!1})),a.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(function(){return!0})),a.registerFlag("WRAP_TO_IMAGEBITMAP",(function(){return!1}))}).call(this,n(185))},function(e,t,n){"use strict";var r=n(668),a=n(494),i=n(670)();e.exports=function(e){if("string"!==typeof(e=e.replace(i,"  "))||0===e.length)return 0;e=r(e);for(var t=0,n=0;n<e.length;n++){var o=e.codePointAt(n);o<=31||o>=127&&o<=159||(o>=768&&o<=879||(o>65535&&n++,t+=a(o)?2:1))}return t}},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var r=n(498),a=n(298);e.exports=function(e,t,n,i){var o=!n;n||(n={});for(var u=-1,s=t.length;++u<s;){var c=t[u],l=i?i(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),o?a(n,c,l):r(n,c,l)}return n}},function(e,t,n){var r=n(500),a=n(708),i=n(211);e.exports=function(e){return i(e)?r(e,!0):a(e)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(146),a=n(108);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compose=t.merge=t.$=t.style=t.presets=t.keyframes=t.fontFace=t.insertGlobal=t.insertRule=t.plugins=t.styleSheet=void 0,t.speedy=function(e){return f.speedy(e)},t.simulations=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];v=!!e},t.simulate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!(t=(0,o.default)(t)))return{};if(!v)return m||(console.warn("can't simulate without once calling simulations(true)"),m=!0),g||(console.warn("don't use simulation outside dev"),g=!0),{};return t.reduce((function(e,t){return e["data-simulate-"+y(t)]="",e}),{})},t.cssLabels=function(e){b=!!e},t.isLikeRule=_,t.idFor=w,t.css=q,t.rehydrate=function(e){(0,r.default)(S,e.reduce((function(e,t){return e[t]=!0,e}),{}))},t.flush=function(){S=f.inserted={},D=f.registered={},F={},f.flush(),f.inject()},t.select=G,t.parent=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return q(l({},e+" &",n))},t.media=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return q(l({},"@media "+e,n))},t.pseudo=K,t.active=function(e){return K(":active",e)},t.any=function(e){return K(":any",e)},t.checked=function(e){return K(":checked",e)},t.disabled=function(e){return K(":disabled",e)},t.empty=function(e){return K(":empty",e)},t.enabled=function(e){return K(":enabled",e)},t._default=function(e){return K(":default",e)},t.first=function(e){return K(":first",e)},t.firstChild=function(e){return K(":first-child",e)},t.firstOfType=function(e){return K(":first-of-type",e)},t.fullscreen=function(e){return K(":fullscreen",e)},t.focus=function(e){return K(":focus",e)},t.hover=function(e){return K(":hover",e)},t.indeterminate=function(e){return K(":indeterminate",e)},t.inRange=function(e){return K(":in-range",e)},t.invalid=function(e){return K(":invalid",e)},t.lastChild=function(e){return K(":last-child",e)},t.lastOfType=function(e){return K(":last-of-type",e)},t.left=function(e){return K(":left",e)},t.link=function(e){return K(":link",e)},t.onlyChild=function(e){return K(":only-child",e)},t.onlyOfType=function(e){return K(":only-of-type",e)},t.optional=function(e){return K(":optional",e)},t.outOfRange=function(e){return K(":out-of-range",e)},t.readOnly=function(e){return K(":read-only",e)},t.readWrite=function(e){return K(":read-write",e)},t.required=function(e){return K(":required",e)},t.right=function(e){return K(":right",e)},t.root=function(e){return K(":root",e)},t.scope=function(e){return K(":scope",e)},t.target=function(e){return K(":target",e)},t.valid=function(e){return K(":valid",e)},t.visited=function(e){return K(":visited",e)},t.dir=function(e,t){return K(":dir("+e+")",t)},t.lang=function(e,t){return K(":lang("+e+")",t)},t.not=function(e,t){var n=e.split(",").map((function(e){return e.trim()})).map((function(e){return":not("+e+")"}));if(1===n.length)return K(":not("+e+")",t);return G(n.join(""),t)},t.nthChild=function(e,t){return K(":nth-child("+e+")",t)},t.nthLastChild=function(e,t){return K(":nth-last-child("+e+")",t)},t.nthLastOfType=function(e,t){return K(":nth-last-of-type("+e+")",t)},t.nthOfType=function(e,t){return K(":nth-of-type("+e+")",t)},t.after=function(e){return K("::after",e)},t.before=function(e){return K("::before",e)},t.firstLetter=function(e){return K("::first-letter",e)},t.firstLine=function(e){return K("::first-line",e)},t.selection=function(e){return K("::selection",e)},t.backdrop=function(e){return K("::backdrop",e)},t.placeholder=function(e){return q({"::placeholder":e})},t.cssFor=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(t=(0,o.default)(t))?t.map((function(e){var t={label:[]};return B(t,{src:e}),A(x(t),C(t)).join("")})).join(""):""},t.attribsFor=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(t=(0,o.default)(t))?t.map((function(e){w(e);var t=Object.keys(e)[0];return t+'="'+(e[t]||"")+'"'})).join(" "):"";return r};var r=c(n(206)),a=n(824),i=n(542),o=c(n(833)),u=n(834),s=c(n(850));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=t.styleSheet=new a.StyleSheet;f.inject();var d=t.plugins=f.plugins=new u.PluginSet([u.prefixes,u.contentWrap,u.fallbacks]);d.media=new u.PluginSet,d.fontFace=new u.PluginSet,d.keyframes=new u.PluginSet([u.prefixes,u.fallbacks]);var h=!1,p="undefined"!==typeof window,v=h,m=!1,g=!1;var b=h;function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.toLowerCase().replace(/[^a-z0-9]/g,t)}function x(e){var t=JSON.stringify(e),n=(0,s.default)(t).toString(36);return e.label&&e.label.length,n}function _(e){var t=Object.keys(e).filter((function(e){return"toString"!==e}));return 1===t.length&&!!/data\-css\-([a-zA-Z0-9\-_]+)/.exec(t[0])}function w(e){var t=Object.keys(e).filter((function(e){return"toString"!==e}));if(1!==t.length)throw new Error("not a rule");var n=/data\-css\-([a-zA-Z0-9\-_]+)/.exec(t[0]);if(!n)throw new Error("not a rule");return n[1]}var O=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g;function k(e){if(-1===e.indexOf(","))return[e];for(var t,n=[],r=[],a=0;t=O.exec(e);)switch(t[0]){case"(":a++;break;case")":a--;break;case",":if(a)break;n.push(t.index)}for(t=n.length;t--;)r.unshift(e.slice(n[t]+1)),e=e.slice(0,n[t]);return r.unshift(e),r}function j(e,t){if(!e)return t.replace(/\&/g,"");if(!t)return".css-"+e+",[data-css-"+e+"]";var n=k(t).map((function(t){return t.indexOf("&")>=0?[t.replace(/\&/gm,".css-"+e),t.replace(/\&/gm,"[data-css-"+e+"]")].join(","):".css-"+e+t+",[data-css-"+e+"]"+t})).join(",");return v&&/^\&\:/.exec(t)&&!/\s/.exec(t)&&(n+=",.css-"+e+"[data-simulate-"+y(t)+"],[data-css-"+e+"][data-simulate-"+y(t)+"]"),n}function E(e){var t=e.selector,n=e.style,r=d.transform({selector:t,style:n});return r.selector+"{"+(0,i.createMarkupForStyles)(r.style)+"}"}function C(e){var t=void 0,n=void 0,r=void 0,a=void 0;return Object.keys(e).forEach((function(i){i.indexOf("&")>=0?(n=n||{})[i]=e[i]:0===i.indexOf("@media")?(r=r||{})[i]=C(e[i]):0===i.indexOf("@supports")?(a=a||{})[i]=C(e[i]):"label"===i?e.label.length>0&&((t=t||{}).label=b?e.label.join("."):""):(t=t||{})[i]=e[i]})),{plain:t,selects:n,medias:r,supports:a}}function A(e,t){var n=[],r=t.plain,a=t.selects,i=t.medias,o=t.supports;return r&&n.push(E({style:r,selector:j(e)})),a&&Object.keys(a).forEach((function(t){return n.push(E({style:a[t],selector:j(e,t)}))})),i&&Object.keys(i).forEach((function(t){return n.push(t+"{"+A(e,i[t]).join("")+"}")})),o&&Object.keys(o).forEach((function(t){return n.push(t+"{"+A(e,o[t]).join("")+"}")})),n}var S=f.inserted={};var D=f.registered={};function N(e){D[e.id]||(D[e.id]=e)}var F={};function T(e){if(N(e),function(e){if(!S[e.id]){S[e.id]=!0;var t=C(e.style),n=A(e.id,t);S[e.id]=!!p||n,n.forEach((function(e){return f.insert(e)}))}}(e),F[e.id])return F[e.id];var t=l({},"data-css-"+e.id,b&&e.label||"");return Object.defineProperty(t,"toString",{enumerable:!1,value:function(){return"css-"+e.id}}),F[e.id]=t,t}function M(e,t){var n=k(e).map((function(e){return e.indexOf("&")>=0?e:"&"+e}));return k(t).map((function(e){return e.indexOf("&")>=0?e:"&"+e})).reduce((function(e,t){return e.concat(n.map((function(e){return t.replace(/\&/g,e)})))}),[]).join(",")}function I(e,t){return e?"@supports "+e.substring(9)+" and "+t.substring(9):t}function R(e){for(var t=[],n=0;n<e.length;n++)t=Array.isArray(e[n])?t.concat(R(e[n])):t.concat(e[n]);return t}var P={"::placeholder":["::-webkit-input-placeholder","::-moz-placeholder","::-ms-input-placeholder"],":fullscreen":[":-webkit-full-screen",":-moz-full-screen",":-ms-fullscreen"]};function B(e,t){var n=t.selector,r=void 0===n?"":n,a=t.mq,i=void 0===a?"":a,u=t.supp,s=void 0===u?"":u,c=t.src,l=void 0===c?{}:c;Array.isArray(l)||(l=[l]),(l=R(l)).forEach((function(t){if(_(t)){var n=function(e){if(_(e)){var t=D[w(e)];if(null==t)throw new Error("[glamor] an unexpected rule cache miss occurred. This is probably a sign of multiple glamor instances in your app. See https://github.com/threepointone/glamor/issues/79");return t}return e}(t);if("css"!==n.type)throw new Error("cannot merge this rule");t=n.style}(t=(0,o.default)(t))&&t.composes&&B(e,{selector:r,mq:i,supp:s,src:t.composes}),Object.keys(t||{}).forEach((function(n){if(function(e){for(var t=[":",".","[",">"," "],n=!1,r=e.charAt(0),a=0;a<t.length;a++)if(r===t[a]){n=!0;break}return n||e.indexOf("&")>=0}(n))P[n]&&P[n].forEach((function(a){return B(e,{selector:M(r,a),mq:i,supp:s,src:t[n]})})),B(e,{selector:M(r,n),mq:i,supp:s,src:t[n]});else if(function(e){return 0===e.indexOf("@media")}(n))B(e,{selector:r,mq:(o=i,u=n,o?"@media "+o.substring(6)+" and "+u.substring(6):u),supp:s,src:t[n]});else if(function(e){return 0===e.indexOf("@supports")}(n))B(e,{selector:r,mq:i,supp:I(s,n),src:t[n]});else if("composes"===n);else{var a=e;s&&(a[s]=a[s]||{},a=a[s]),i&&(a[i]=a[i]||{},a=a[i]),r&&(a[r]=a[r]||{},a=a[r]),"label"===n?b&&(e.label=e.label.concat(t.label)):a[n]=t[n]}var o,u}))}))}function z(e){var t={label:[]};return B(t,{src:e}),T({id:x(t),style:t,label:b?t.label.join("."):"",type:"css"})}var L={};Object.defineProperty(L,"toString",{enumerable:!1,value:function(){return"css-nil"}});var U="undefined"!==typeof WeakMap?[L,new WeakMap,new WeakMap,new WeakMap]:[L];var W,V="undefined"!==typeof WeakMap?(W=z,function(e){if(U[e.length]){for(var t=U[e.length],n=0;n<e.length-1;)t.has(e[n])||t.set(e[n],new WeakMap),t=t.get(e[n]),n++;if(t.has(e[e.length-1])){var r=t.get(e[n]);if(D[r.toString().substring(4)])return r}}var a=W(e);if(U[e.length]){for(var i=0,o=U[e.length];i<e.length-1;)o=o.get(e[i]),i++;try{o.set(e[i],a)}catch(u){}}return a}):z;function q(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0]&&t[0].length&&t[0].raw)throw new Error("you forgot to include glamor/babel in your babel plugins.");return(t=(0,o.default)(t))?V(t):L}q.insert=function(e){var t={id:x(e),css:e,type:"raw"};N(t),S[t.id]||(f.insert(t.css),S[t.id]=!!p||[t.css])};t.insertRule=q.insert;q.global=function(e,t){if(t=(0,o.default)(t))return q.insert(E({selector:e,style:t}))};t.insertGlobal=q.global;q.keyframes=function(e,t){t||(t=e,e="animation");var n={id:x({name:e,kfs:t=(0,o.default)(t)||{}}),type:"keyframes",name:e,keyframes:t};return N(n),function(e){if(!S[e.id]){var t=Object.keys(e.keyframes).map((function(t){var n=d.keyframes.transform({id:e.id,name:t,style:e.keyframes[t]});return n.name+"{"+(0,i.createMarkupForStyles)(n.style)+"}"})).join(""),n=["-webkit-","-moz-","-o-",""].map((function(n){return"@"+n+"keyframes "+e.name+"_"+e.id+"{"+t+"}"}));n.forEach((function(e){return f.insert(e)})),S[e.id]=!!p||n}}(n),e+"_"+n.id},q.fontFace=function(e){var t={id:x(e=(0,o.default)(e)),type:"font-face",font:e};return N(t),function(e){if(!S[e.id]){var t="@font-face{"+(0,i.createMarkupForStyles)(e.font)+"}";f.insert(t),S[e.id]=!!p||[t]}}(t),e.fontFamily};t.fontFace=q.fontFace,t.keyframes=q.keyframes;t.presets={mobile:"(min-width: 400px)",Mobile:"@media (min-width: 400px)",phablet:"(min-width: 550px)",Phablet:"@media (min-width: 550px)",tablet:"(min-width: 750px)",Tablet:"@media (min-width: 750px)",desktop:"(min-width: 1000px)",Desktop:"@media (min-width: 1000px)",hd:"(min-width: 1200px)",Hd:"@media (min-width: 1200px)"};var H=t.style=q;function G(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e?q(l({},e,n)):H(n)}t.$=G;t.merge=q,t.compose=q;function K(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return q(l({},e,n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&r.test(e)};var r=/-webkit-|-moz-|-ms-/;e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(3),a=n(9),i=function(){function e(t,n){Object(r.a)(this,e),this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return Object(a.a)(e,[{key:"get",value:function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}},{key:"set",value:function(e,t){this.dataIdsCount++,this.data.set(e,t)}},{key:"has",value:function(e){return this.data.has(e)}},{key:"delete",value:function(e){return this.dataIdsCount--,this.data.delete(e)}},{key:"numDataIds",value:function(){return this.dataIdsCount}}]),e}(),o=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,[{key:"refCount",value:function(e){return u("refCount")}},{key:"incRef",value:function(e){return u("incRef")}},{key:"timerAvailable",value:function(){return!0}},{key:"time",value:function(e){return u("time")}},{key:"read",value:function(e){return u("read")}},{key:"readSync",value:function(e){return u("readSync")}},{key:"numDataIds",value:function(){return u("numDataIds")}},{key:"disposeData",value:function(e,t){return u("disposeData")}},{key:"write",value:function(e,t,n){return u("write")}},{key:"move",value:function(e,t,n,r,a){return u("move")}},{key:"memory",value:function(){return u("memory")}},{key:"floatPrecision",value:function(){return u("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"dispose",value:function(){return u("dispose")}}]),e}();function u(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({tanh_:function(e){var t={x:Object(i.a)(e,"x","tanh")};return r.a.runKernel(a.Sc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(12),a=n(7);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");var o={start:e,stop:t,step:n,dtype:i};return r.a.runKernel(a.ic,{},o)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=1.7580993408473768,a=1.0507009873554805},function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=function(e,t,n,r,a,i,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,i,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(e,t,n){"use strict";var r={};function a(e,t){0}function i(e,t,n){t||r[n]||(e(!1,n),r[n]=!0)}t.a=function(e,t){i(a,e,t)}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(371);function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r.a)(e,t)}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return u}));var r=n(598),a=n(350);function i(e,t){"function"===typeof e?e(t):"object"===Object(r.a)(e)&&e&&"current"in e&&(e.current=t)}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){i(t,e)}))}}function u(e){var t,n,r=Object(a.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(25),a=n(53),i=n(94),o=n.n(i),u=n(26),s=n.n(u),c=n(4),l=n.n(c),f=n(378),d=n(197),h=(n(431),l.a.createContext(null));h.displayName="NavbarContext";var p=h,v=n(89),m=n(373),g=n(386);function b(e){var t=window.getComputedStyle(e);return{top:parseFloat(t.marginTop)||0,right:parseFloat(t.marginRight)||0,bottom:parseFloat(t.marginBottom)||0,left:parseFloat(t.marginLeft)||0}}var y=s.a.oneOf(["left","right"]),x=s.a.oneOfType([y,s.a.shape({sm:y}),s.a.shape({md:y}),s.a.shape({lg:y}),s.a.shape({xl:y})]),_=l.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,u=e.align,s=e.alignRight,h=e.rootCloseEvent,y=e.flip,x=e.show,_=e.renderOnMount,w=e.as,O=void 0===w?"div":w,k=e.popperConfig,j=Object(a.a)(e,["bsPrefix","className","align","alignRight","rootCloseEvent","flip","show","renderOnMount","as","popperConfig"]),E=Object(c.useContext)(p),C=Object(v.a)(n,"dropdown-menu"),A=function(){var e=Object(c.useRef)(null),t=Object(c.useRef)(null),n=Object(v.a)(void 0,"popover"),r=Object(v.a)(void 0,"dropdown-menu");return[Object(c.useCallback)((function(a){a&&(Object(g.a)(a,n)||Object(g.a)(a,r))&&(t.current=b(a),a.style.margin="0",e.current=a)}),[n,r]),[Object(c.useMemo)((function(){return{name:"offset",options:{offset:function(e){var n=e.placement;if(!t.current)return[0,0];var r=t.current,a=r.top,i=r.left,o=r.bottom,u=r.right;switch(n.split("-")[0]){case"top":return[0,o];case"left":return[0,u];case"bottom":return[0,a];case"right":return[0,i];default:return[0,0]}}}}}),[t]),Object(c.useMemo)((function(){return{name:"popoverArrowMargins",enabled:!0,phase:"main",requiresIfExists:["arrow"],effect:function(t){var r=t.state;if(e.current&&r.elements.arrow&&Object(g.a)(e.current,n)&&r.modifiersData["arrow#persistent"]){var a=b(r.elements.arrow),i=a.top,o=a.right,u=i||o;return r.modifiersData["arrow#persistent"].padding={top:u,left:u,right:u,bottom:u},r.elements.arrow.style.margin="0",function(){r.elements.arrow&&(r.elements.arrow.style.margin="")}}}}}),[n])]]}(),S=A[0],D=A[1],N=[];if(u)if("object"===typeof u){var F=Object.keys(u);if(F.length){var T=F[0],M=u[T];s="left"===M,N.push(C+"-"+T+"-"+M)}}else"right"===u&&(s=!0);var I=Object(f.b)({flip:y,rootCloseEvent:h,show:x,alignEnd:s,usePopper:!E&&0===N.length,popperConfig:Object(r.a)({},k,{modifiers:D.concat((null==k?void 0:k.modifiers)||[])})}),R=I[0],P=I[1],B=P.hasShown,z=P.popper,L=P.show,U=P.alignEnd,W=P.toggle;if(R.ref=Object(d.a)(S,Object(d.a)(Object(m.a)(t,"DropdownMenu"),R.ref)),!B&&!_)return null;"string"!==typeof O&&(R.show=L,R.close=function(){return null==W?void 0:W(!1)},R.alignRight=U);var V=j.style;return null!=z&&z.placement&&(V=Object(r.a)({},j.style,R.style),j["x-placement"]=z.placement),l.a.createElement(O,Object(r.a)({},j,R,{style:V,className:o.a.apply(void 0,[i,C,L&&"show",U&&C+"-right"].concat(N))}))}));_.displayName="DropdownMenu",_.defaultProps={align:"left",alignRight:!1,flip:!0};t.b=_},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a(e){if(!(t=r.exec(e)))throw new Error("invalid format: "+e);var t;return new i({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function i(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}a.prototype=i.prototype,i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(881);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return f(r).default}});var a=n(427);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return f(a).default}});var i=n(893);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return f(i).default}});var o=n(894);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return f(o).default}});var u=n(896);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return f(u).default}});var s=n(911);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return f(s).default}});var c=n(915);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return f(c).default}});var l=n(919);function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return f(l).default}})},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return ie})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return ue}));var r,a,i,o,u,s,c,l=n(21),f=n(60),d=n(10),h=n(14),p=n(15),v=n(16),m=n(3),g=n(9),b=n(25),y=n(53),x=n(4),_=n.n(x),w=function(){return Date.now()},O={},k=function(e){return e.current},j="undefined"!==typeof window?window.requestAnimationFrame:function(){},E="undefined"!==typeof window?window.cancelAnimationFrame:function(){},C=function(e){var t=Object.assign({colorNames:O,defaultElement:i,applyAnimatedValues:r,createStringInterpolator:a,createAnimatedInterpolation:c,createAnimatedTransform:s,createAnimatedStyle:u,createAnimatedRef:k,requestAnimationFrame:j,cancelAnimationFrame:E,manualFrameloop:o},e);return O=t.colorNames,i=t.defaultElement,r=t.applyAnimatedValues,a=t.createStringInterpolator,c=t.createAnimatedInterpolation,s=t.createAnimatedTransform,u=t.createAnimatedStyle,k=t.createAnimatedRef,j=t.requestAnimationFrame,E=t.cancelAnimationFrame,o=t.manualFrameloop,t},A=function(){function e(){Object(m.a)(this,e),this.payload=void 0,this.children=[]}return Object(g.a)(e,[{key:"getAnimatedValue",value:function(){return this.getValue()}},{key:"getPayload",value:function(){return this.payload||this}},{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"getChildren",value:function(){return this.children}},{key:"addChild",value:function(e){0===this.children.length&&this.attach(),this.children.push(e)}},{key:"removeChild",value:function(e){var t=this.children.indexOf(e);this.children.splice(t,1),0===this.children.length&&this.detach()}}]),e}(),S=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(m.a)(this,n),(e=t.apply(this,arguments)).payload=void 0,e}return Object(g.a)(n,[{key:"attach",value:function(){var e=this;this.payload.forEach((function(t){return t instanceof A&&t.addChild(e)}))}},{key:"detach",value:function(){var e=this;this.payload.forEach((function(t){return t instanceof A&&t.removeChild(e)}))}}]),n}(A),D=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this)).payload=e,r}return Object(g.a)(n,[{key:"getValue",value:function(e){void 0===e&&(e=!1);var t={};for(var n in this.payload){var r=this.payload[n];(!e||r instanceof A)&&(t[n]=r instanceof A?r[e?"getAnimatedValue":"getValue"]():r)}return t}},{key:"getAnimatedValue",value:function(){return this.getValue(!0)}},{key:"attach",value:function(){var e=this;Object.values(this.payload).forEach((function(t){return t instanceof A&&t.addChild(e)}))}},{key:"detach",value:function(){var e=this;Object.values(this.payload).forEach((function(t){return t instanceof A&&t.removeChild(e)}))}}]),n}(A),N=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(m.a)(this,n),void 0===e&&(e={}),t.call(this,e.transform&&s?Object(b.a)({},e,{transform:s(e.transform)}):e)}return n}(D),F={arr:Array.isArray,obj:function(e){return"[object Object]"===Object.prototype.toString.call(e)},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e},boo:function(e){return"boolean"===typeof e}};function T(){var e=Object(x.useState)(!1)[1];return Object(x.useCallback)((function(){return e((function(e){return!e}))}),[])}function M(e,t){return null==e?t:e}function I(e){return F.und(e)?[]:Array.isArray(e)?e:[e]}function R(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return F.fun(e)?e.apply(void 0,n):e}function P(e){var t=function(e){return e.to,e.from,e.config,e.onStart,e.onRest,e.onFrame,e.children,e.cancel,e.reset,e.reverse,e.force,e.immediate,e.delay,e.attach,e.destroyed,e.interpolateTo,e.ref,e.lazy,Object(y.a)(e,["to","from","config","onStart","onRest","onFrame","children","cancel","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}(e);return e=Object.entries(e).reduce((function(e,n){var r=n[0],a=n[1];return r in t||(e[r]=a),e}),{}),Object(b.a)({to:t},e)}function B(e){var t=Object(x.useRef)(void 0),n=t.current;return t.current=e,n}var z=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this)).payload=e,r}return Object(g.a)(n,[{key:"getValue",value:function(){return this.payload.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e,t){var n=this;void 0===t&&(t=!0),F.arr(e)?e.length===this.payload.length&&e.forEach((function(e,r){return n.payload[r].setValue(e,t)})):this.payload.forEach((function(n){return n.setValue(e,t)}))}},{key:"interpolate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.apply(void 0,[this].concat(t))}}]),n}(S),L=function e(t,n,r){if(F.fun(t))return t;if(F.arr(t))return e({range:t,output:n,extrapolate:r});if(F.str(t.output[0]))return a(t);var i=t,o=i.output,u=i.range||[0,1],s=i.extrapolateLeft||i.extrapolate||"extend",c=i.extrapolateRight||i.extrapolate||"extend",l=i.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,u);return function(e,t,n,r,a,i,o,u,s){var c=s?s(e):e;if(c<t){if("identity"===o)return c;"clamp"===o&&(c=t)}if(c>n){if("identity"===u)return c;"clamp"===u&&(c=n)}if(r===a)return r;if(t===n)return e<=t?r:a;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=i(c),r===-1/0?c=-c:a===1/0?c+=r:c=c*(a-r)+r;return c}(e,u[t],u[t+1],o[t],o[t+1],l,s,c,i.map)}};var U=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a;return Object(m.a)(this,n),(a=t.call(this)).calc=void 0,a.calc=L.apply(void 0,Object(h.a)(r)),a.payload=Array.isArray(e)?e:e instanceof z?e.getPayload():[e],a}return Object(g.a)(n,[{key:"getValue",value:function(){var e=this.payload.map((function(e){return e.getValue()}));return this.calc.apply(this,Object(h.a)(e))}},{key:"interpolate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.apply(void 0,[this].concat(t))}}]),n}(S);var W=!1,V=new Set,q=function e(){if(!W)return!1;var t,n=w(),r=Object(d.a)(V);try{for(r.s();!(t=r.n()).done;){for(var a=t.value,i=!1,u=0,s=0;s<a.configs.length;s++){for(var c=a.configs[s],l=void 0,f=void 0,h=0;h<c.animatedValues.length;h++){var p=c.animatedValues[h];if(!p.done){u++;var v=c.toValues[h],m=v instanceof A;if(m&&(v=v.getValue()),c.immediate)p.setValue(v),p.done=!0;else{var g=c.fromValues[h];if("string"!==typeof g&&"string"!==typeof v){var b=p.lastPosition,y=Array.isArray(c.initialVelocity)?c.initialVelocity[h]:c.initialVelocity;if(void 0!==c.duration)b=g+c.easing((n-p.startTime)/c.duration)*(v-g),l=n>=p.startTime+c.duration;else if(c.decay){var x=!0===c.decay?.998:c.decay;b=g+y/(1-x)*(1-Math.exp(-(1-x)*(n-p.startTime))),(l=Math.abs(p.lastPosition-b)<.1)&&(v=b)}else{f=void 0!==p.lastTime?p.lastTime:n,y=void 0!==p.lastVelocity?p.lastVelocity:c.initialVelocity,n>f+64&&(f=n);for(var _=Math.floor(n-f),O=0;O<_;++O){b+=1*(y+=1*((-c.tension*(b-v)+-c.friction*y)/c.mass)/1e3)/1e3}var k=!(!c.clamp||0===c.tension)&&(g<v?b>v:b<v),E=Math.abs(y)<=c.precision,C=0===c.tension||Math.abs(v-b)<=c.precision;l=k||E&&C,p.lastVelocity=y,p.lastTime=n}m&&!c.toValues[h].done&&(l=!1),l?(p.value!==v&&(b=v),p.done=!0):i=!0,p.setValue(b),p.lastPosition=b}else p.setValue(v),p.done=!0}}}a.props.onFrame&&(a.values[c.key]=c.animated.getValue())}a.onFrame(i,u)}}catch(S){r.e(S)}finally{r.f()}return V.size?o?o():j(e):W=!1,W};function H(e,t){"update"in e?t.add(e):e.getChildren().forEach((function(e){return H(e,t)}))}var G=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e){var r,a;return Object(m.a)(this,n),r=t.call(this),a=Object(f.a)(r),r.animatedStyles=new Set,r.value=void 0,r.startPosition=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.startTime=void 0,r.lastTime=void 0,r.done=!1,r.setValue=function(e,t){void 0===t&&(t=!0),a.value=e,t&&a.flush()},r.value=e,F.num(e)&&(r.startPosition=e,r.lastPosition=e),r}return Object(g.a)(n,[{key:"getValue",value:function(){return this.value}},{key:"interpolate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.apply(void 0,[this].concat(t))}},{key:"reset",value:function(e){F.num(this.value)&&(this.startPosition=this.value,this.lastPosition=this.value,this.lastVelocity=e?this.lastVelocity:void 0,this.lastTime=e?this.lastTime:void 0,this.startTime=w()),this.done=!1,this.animatedStyles.clear()}},{key:"clearStyles",value:function(){this.animatedStyles.clear()}},{key:"flush",value:function(){0===this.animatedStyles.size&&H(this,this.animatedStyles),this.animatedStyles.forEach((function(e){return e.update()}))}}]),n}(A),K=function(e){return e},$=Object.freeze({}),X=1,Y=function(){function e(t){Object(m.a)(this,e),this.id=X++,this.idle=!0,this.runCount=0,this.destroyed=!1,this.props={},this.queue=[],this.timestamps={},this.values={},this.merged={},this.animated={},this.animations={},this.configs=[],this.onEndQueue=[],this.cancelledAt=0,t&&this.update(t).start()}return Object(g.a)(e,[{key:"update",value:function(e){if(!e||this.destroyed)return this;var t=P(e);if(this._ensureAnimated(t.from,!0),this._ensureAnimated(t.to),t.timestamp=w(),F.fun(t.delay)&&F.obj(t.to)){var n=t.from||$;for(var r in t.to)this.queue.push(Object(b.a)({},t,{to:Object(l.a)({},r,t.to[r]),from:r in n?Object(l.a)({},r,n[r]):void 0,delay:Math.max(0,Math.round(t.delay(r)))}))}else t.delay=F.num(t.delay)?Math.max(0,Math.round(t.delay)):0,t.to||(t.to=void 0),t.from||(t.from=void 0),this.queue.push(t);return this}},{key:"start",value:function(e){return this.queue.length?this._flush(e):this._start(e),this}},{key:"stop",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=!1;if(F.boo(n[0])){var i=n;a=i[0],n=i.slice(1)}if(n.length){var o,u=Object(d.a)(n);try{var s=function(){var t=o.value,n=e.configs.findIndex((function(e){return t===e.key}));e._stopAnimation(t),e.configs[n]=e.animations[t]};for(u.s();!(o=u.n()).done;)s()}catch(c){u.e(c)}finally{u.f()}}else this.runCount&&(this.cancelledAt=w(),this.configs.forEach((function(t){return e._stopAnimation(t.key)})),this.configs=Object.values(this.animations),this._stop(a));return this}},{key:"reset",value:function(){return this.stop(),this.destroyed=!1,this.props={},this.queue=[],this.timestamps={},this.values={},this.merged={},this.animated={},this.animations={},this.configs=[],this}},{key:"destroy",value:function(){this.destroyed||(this.stop(),this.destroyed=!0)}},{key:"onFrame",value:function(e,t){if(t){var n=this.props.onFrame;n&&n(Object(b.a)({},this.values))}e||this._stop(!0)}},{key:"setProp",value:function(e,t){return this.props[e]=t,this.timestamps[e]=w(),this}},{key:"_ensureAnimated",value:function(e,t){if(void 0===t&&(t=!1),F.obj(e))for(var n in e){var r=e[n],a=this.animated[n];a&&t&&this.animations[n].isNew&&(a.setValue?a.setValue(r):a=null),a||((a=J(r))?(this.animated[n]&&Q(this.animated[n],a),this.animated[n]=a,this._stopAnimation(n,!0)):console.warn("Given value not animatable:",r))}}},{key:"_onEnd",value:function(e){this.runCount?this.onEndQueue.push(e):e(!0)}},{key:"_start",value:function(e){var t;e&&this._onEnd(e),this.idle&&this.runCount&&(this.idle=!1,t=this,V.add(t),W||(W=!0,o?o():j(q)))}},{key:"_stop",value:function(e){var t;this.idle=!0,t=this,V.delete(t);var n=this.onEndQueue;n.length&&(this.onEndQueue=[],n.forEach((function(t){return t(e)})))}},{key:"_flush",value:function(e){var t=this,n=this.queue.reduce(Z,[]);this.queue.length=0;var r=Object.keys(n).length;this.runCount+=r;var a=function(n){if(t.runCount--,!--r&&(e&&e(n),!t.runCount&&n)){var a=t.props.onRest;a&&a(t.merged)}};n.forEach((function(e,n){n?setTimeout((function(){e.timestamp<t.cancelledAt||t._run(e,a)}),n):t._run(e,a)}))}},{key:"_run",value:function(e,t){F.arr(e.to)||F.fun(e.to)?this._runAsync(e,t):this._diff(e)?this._animate(e)._start(t):this._onEnd(t)}},{key:"_runAsync",value:function(e,t){var n=this,r=e.to,a=Object(y.a)(e,["to"]);if(this._diff(a)&&this._animate(a),!0===a.cancel)return this.props.asyncTo=void 0,t(!1);var i=a.timestamp;if(!this._diff({asyncTo:r,timestamp:i}))return t(!1);var o,u=function(){return i<n.cancelledAt||F.fun(r)&&r!==n.props.asyncTo},s=function(e){if(u())throw n;return(o=new Promise((function(t){n.update(e).start(t)}))).then((function(){if(u())throw n}))},c=Promise.resolve();F.arr(r)?r.forEach((function(e){return c=c.then((function(){return s(e)}))})):F.fun(r)&&(c=c.then((function(){return r(s,n.stop.bind(n)).then((function(){return o}))}))),c.catch((function(e){return e!==n&&console.error(e)})).then((function(){return t(!u())}))}},{key:"_diff",value:function(e){var t=this,n=e.timestamp,r=(e.delay,e.config,e.immediate,e.reverse),a=Object(y.a)(e,["timestamp","delay","config","immediate","reverse"]),i=!1,o=function e(r,a,o){if(!F.und(a)){var u=r[r.length-1];if(F.obj(a))for(var s in F.obj(o[u])||(o[u]={}),a)e(r.concat(s),a[s],o[u]);else if(function(e){var r=t.timestamps[e];return!!(F.und(r)||n>=r)&&(t.timestamps[e]=n,!0)}(r.join("."))){re(a,o[u])||(i=!0,o[u]=a)}}};if(r){var u=a.to;a.to=a.from,a.from=F.obj(u)?u:void 0}for(var s in a)o([s],a[s],this.props);return"reset"in a&&(this.props.reset=!1),"cancel"in a&&(this.props.cancel=void 0),i}},{key:"_isModified",value:function(e,t){return this.timestamps[t]===e.timestamp}},{key:"_animate",value:function(t){var n=this,r=this.props,a=r.from,i=void 0===a?$:a,o=r.to,u=void 0===o?$:o,s=r.attach,c=r.onStart,l=function(e){return!1};if(t.cancel&&this._isModified(t,"cancel")){if(!0===t.cancel)return this.stop(),this.cancelledAt=t.timestamp,this;var f=I(t.cancel);F.arr(f)&&f.length&&(l=function(e){return f.indexOf(e)>=0},this.stop.apply(this,Object(h.a)(f)))}this.merged=Object(b.a)({},i,u);var d=!1,p=[],v=s&&s(this);for(var m in this.merged)if(!l(m)){var g=this.animations[m];if(g){var y=g.animated,x=g.animatedValues,_=this.merged[m],w=ne(_),O=y.getValue();if(t.reset||!re(w,O)){if(t.reset||!re(w,g.isNew?O:g.goalValue))if("continue"===function(){var r=(F.und(t.immediate)?n.props:t).immediate;r=!!R(r,m);var a=x.some((function(e){return!e.done})),o=F.und(i[m])?w:ne(i[m]),u=te(_);if(u){var s=[t.reset?o:y.getValue(),w],c=x[0];c?(c.setValue(0,!1),c.reset(a)):c=new G(0);try{Q(y,y=c.interpolate({output:s}))}catch(f){return console.warn('Failed to interpolate string from "%s" to "%s"',s[0],s[1]),console.error(f),"continue"}r&&c.setValue(1,!1)}else{if(F.arr(_))if(y instanceof z)t.reset&&y.setValue(o,!1),x.forEach((function(e){return e.reset(a)}));else Q(y,y=J(o));else if(y instanceof G)t.reset&&y.setValue(o,!1),y.reset(a);else Q(y,y=new G(o));r&&y.setValue(w,!1)}var l=R(t.config,m)||R(n.props.config,m)||$;r||p.push(m),d=!0,x=I(y.getPayload()),n.animations[m]={key:m,idle:!1,goalValue:w,toValues:I(v instanceof e?v.animations[m].animated.getPayload():u?1:w),fromValues:x.map((function(e){return e.getValue()})),animated:y,animatedValues:x,immediate:r,duration:l.duration,easing:M(l.easing,K),decay:l.decay,mass:M(l.mass,1),tension:M(l.tension,170),friction:M(l.friction,26),initialVelocity:M(l.velocity,0),clamp:M(l.clamp,!1),precision:M(l.precision,.005),config:l}}())continue}else g.idle||(d=!0,this._stopAnimation(m))}else console.warn('Failed to animate key: "'.concat(m,'"\n')+'Did you forget to define "from.'.concat(m,'" for an async animation?'))}if(d){c&&p.length&&p.forEach((function(e){return c(n.animations[e])}));var k=Object.keys(this.animations);this.configs.length=k.length,k.forEach((function(e,t){var r=n.animations[e];n.configs[t]=r,n.values[e]=r.animated.getValue(),n.animated[e]=r.animated}))}return this}},{key:"_stopAnimation",value:function(e,t){var n=this.animated[e];if(!n)return console.warn("Cannot stop an animation for a key that isn't animated: \"".concat(e,'"'));this.timestamps["to."+e]=w();var r=this.animations[e]||$;if(!r.idle||n!==r.animated){F.und(t)&&(t=!!r.isNew);var a=I(n.getPayload());a.forEach((function(e){return e.done=!0}));var i=n.getValue();this.props.to&&(this.props.to[e]=i),this.animations[e]={key:e,idle:!0,isNew:t,goalValue:i,animated:n,animatedValues:a}}}}]),e}();function J(e){return F.arr(e)?new z(e.map((function(e){var t=J(e),n=t.getPayload();return t instanceof U?n[0]:n}))):te(e)?new G(0).interpolate({output:[e,e]}):new G(e)}function Q(e,t){e.getChildren().slice().forEach((function(n){e.removeChild(n),t.addChild(n);var r=n.getPayload();if(F.arr(r)){var a=r.indexOf(e);if(a>=0){var i=Object(h.a)(r);i[a]=t,n.payload=i}}else if(F.obj(r)){var o=Object.entries(r).find((function(t){return t[1]===e}));o&&(n.payload=Object(b.a)({},r,Object(l.a)({},o[0],t)))}}))}function Z(e,t){var n=e[t.delay];return n?(t.to=ee(n.to,t.to),t.from=ee(n.from,t.from),Object.assign(n,t)):e[t.delay]=t,e}function ee(e,t){return F.obj(e)&&F.obj(t)?Object(b.a)({},e,t):t||e}function te(e){return!!F.str(e)&&(e.startsWith("#")||/\d/.test(e)||!!O[e])}function ne(e){return F.arr(e)?e.map(ne):te(e)?a({range:[0,1],output:[e,e]})(1):e}function re(e,t){if(F.arr(e)){if(!F.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var ae=function(e,t,n){var r=e!==B(e),a=F.fun(t),i=Object(x.useRef)({springs:[],ref:null}).current,o=a?[]:t,u=Object(x.useMemo)((function(){return function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n}(e,(function(e){var n=new Y,r=o[e]||(o[e]=R(t,e,n));return n.update(r)}))}),[e]),s=Object(x.useMemo)((function(){return{start:function(){return Promise.all(i.springs.map((function(e){return new Promise((function(t){return e.start(t)}))})))},update:function(e){var t=F.fun(e),n=F.arr(e);i.springs.forEach((function(r,a){r.update(t?R(e,a,r):n?e[a]:e),i.ref||r.start()}))},stop:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.springs.forEach((function(e){return e.stop.apply(e,t)}))}}}),[]),c=s.start,l=s.update,f=s.stop,d=o[0]?o[0].ref:a?i.ref:null;Object(x.useImperativeHandle)(d,(function(){return{start:c,stop:f,get controllers(){return i.springs}}})),Object(x.useEffect)((function(){a&&!r||o.forEach((function(e,t){u[t].setProp("config",e.config),u[t].setProp("immediate",e.immediate)})),r?(i.springs.forEach((function(e){return e.destroy()})),i.springs=u,i.ref=d,d||u.forEach((function(e){return e.start()}))):a||l(o)}),n),Object(x.useEffect)((function(){return function(){return i.springs.forEach((function(e){return e.destroy()}))}}),[]);var h=u.map((function(e){return Object(b.a)({},e.animated)}));return a?[h,l,f]:h},ie=function(e,t){var n=F.fun(e),r=ae(1,n?e:[e],t),a=r[0],i=r[1],o=r[2];return n?[a[0],i,o]:a};C({createAnimatedStyle:function(e){return new N(e)},createAnimatedInterpolation:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new U(e,n)}});var oe=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a;return Object(m.a)(this,n),(a=t.call(this,e.style&&u?Object(b.a)({},e,{style:u(e.style)}):e)).update=void 0,a.update=r,a.attach(),a}return n}(D);var ue=function(e,t){void 0===t&&(t={});var n=e;return n.extend=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.forEach((function(e){return r(e)})),n},n;function r(a,i){if(F.arr(a))return a.forEach((function(e){return r(e)}));if(F.obj(a))for(var o in a)r(a[o],o);else{var u=F.str(i)?i:F.str(a)?a:a&&F.str(a.displayName)?a.displayName:F.fun(a)?a.name:"";t.lowercase&&(u=u[0].toLowerCase()+u.slice(1)),n[u]=e(a)}}}((function(e){return Object(x.forwardRef)((function(t,n){var a=T(),i=Object(x.useRef)(!0),o=Object(x.useRef)(null),u=Object(x.useRef)(null),s=Object(x.useCallback)((function(e){var t=o.current;o.current=new oe(e,(function(){u.current&&(!1===r(u.current,o.current.getAnimatedValue())&&a())})),t&&t.detach()}),[]);Object(x.useEffect)((function(){return function(){i.current=!1,o.current&&o.current.detach()}}),[]),Object(x.useImperativeHandle)(n,(function(){return k(u,i,a)})),s(t);var c=o.current.getValue(),l=(c.scrollTop,c.scrollLeft,Object(y.a)(c,["scrollTop","scrollLeft"]));return _.a.createElement(e,Object(b.a)({},l,{ref:function(e){return u.current=function(e,t){return t&&(F.fun(t)?t(e):F.obj(t)&&(t.current=e)),e}(e,n)}}))}))})).extend(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),se=(ue.extend,{animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0}),ce=["Webkit","Ms","Moz","O"];function le(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||se.hasOwnProperty(e)&&se[e]?(""+t).trim():t+"px"}se=Object.keys(se).reduce((function(e,t){return ce.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),se);var fe={};var de="[-+]?\\d*\\.?\\d+",he=de+"%";function pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var ve=new RegExp("rgb"+pe(de,de,de)),me=new RegExp("rgba"+pe(de,de,de,de)),ge=new RegExp("hsl"+pe(de,he,he)),be=new RegExp("hsla"+pe(de,he,he,de)),ye=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,xe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,_e=/^#([0-9a-fA-F]{6})$/,we=/^#([0-9a-fA-F]{8})$/,Oe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};function ke(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function je(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,a=2*n-r,i=ke(a,r,e+1/3),o=ke(a,r,e),u=ke(a,r,e-1/3);return Math.round(255*i)<<24|Math.round(255*o)<<16|Math.round(255*u)<<8}function Ee(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function Ce(e){return(parseFloat(e)%360+360)%360/360}function Ae(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function Se(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function De(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=_e.exec(e))?parseInt(t[1]+"ff",16)>>>0:Oe.hasOwnProperty(e)?Oe[e]:(t=ve.exec(e))?(Ee(t[1])<<24|Ee(t[2])<<16|Ee(t[3])<<8|255)>>>0:(t=me.exec(e))?(Ee(t[1])<<24|Ee(t[2])<<16|Ee(t[3])<<8|Ae(t[4]))>>>0:(t=ye.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=we.exec(e))?parseInt(t[1],16)>>>0:(t=xe.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ge.exec(e))?(255|je(Ce(t[1]),Se(t[2]),Se(t[3])))>>>0:(t=be.exec(e))?(je(Ce(t[1]),Se(t[2]),Se(t[3]))|Ae(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,a=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(a,")")}var Ne=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Fe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Te=new RegExp("(".concat(Object.keys(Oe).join("|"),")"),"g");C({defaultElement:"div",colorNames:Oe,applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n=t,r=n.style,a=n.children,i=n.scrollTop,o=n.scrollLeft,u=Object(y.a)(n,["style","children","scrollTop","scrollLeft"]);for(var s in void 0!==i&&(e.scrollTop=i),void 0!==o&&(e.scrollLeft=o),void 0!==a&&(e.textContent=a),r)if(r.hasOwnProperty(s)){var c=0===s.indexOf("--"),l=le(s,r[s],c);"float"===s&&(s="cssFloat"),c?e.style.setProperty(s,l):e.style[s]=l}var f="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName;for(var d in u){var h=f||e.hasAttribute(d)?d:fe[d]||(fe[d]=d.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})));e.setAttribute(h,u[d])}},createStringInterpolator:function(e){var t=e.output.map((function(e){return e.replace(Fe,De)})).map((function(e){return e.replace(Te,De)})),n=t[0].match(Ne).map((function(){return[]}));t.forEach((function(e){e.match(Ne).forEach((function(e,t){return n[t].push(+e)}))}));var r=t[0].match(Ne).map((function(t,r){return L(Object(b.a)({},e,{output:n[r]}))}));return function(e){var n=0;return t[0].replace(Ne,(function(){return r[n++](e)})).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(function(e,t,n,r,a){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(a,")")}))}}})}).call(this,n(185))},function(e,t,n){"use strict";var r=n(588),a=!1,i=!1;try{var o={get passive(){return a=!0},get once(){return i=a=!0}};r.a&&(window.addEventListener("test",o,o),window.removeEventListener("test",o,!0))}catch(c){}var u=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!i){var o=r.once,u=r.capture,s=n;!i&&o&&(s=n.__once||function e(r){this.removeEventListener(t,e,u),n.call(this,r)},n.__once=s),e.addEventListener(t,s,a?r:u)}e.addEventListener(t,n,r)};var s=function(e,t,n,r){var a=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)};t.a=function(e,t,n,r){return u(e,t,n,r),function(){s(e,t,n,r)}}},,,function(e,t,n){var r=n(294),a=n(678),i=n(679),o=n(680),u=n(681),s=n(682);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=u,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(673),a=n(674),i=n(675),o=n(676),u=n(677);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=o,s.prototype.set=u,e.exports=s},function(e,t,n){var r=n(264);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(186)(Object,"create");e.exports=r},function(e,t,n){var r=n(697);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(499);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(702),a=n(108),i=Object.prototype,o=i.hasOwnProperty,u=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},function(e,t,n){(function(e){var r=n(129),a=n(703),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,u=o&&o.exports===i?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||a;e.exports=s}).call(this,n(118)(e))},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(495),a=t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===a&&r.process,u=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=u}).call(this,n(118)(e))},function(e,t,n){var r=n(714),a=n(393),i=n(715),o=n(716),u=n(717),s=n(146),c=n(496),l="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",v=c(r),m=c(a),g=c(i),b=c(o),y=c(u),x=s;(r&&x(new r(new ArrayBuffer(1)))!=p||a&&x(new a)!=l||i&&x(i.resolve())!=f||o&&x(new o)!=d||u&&x(new u)!=h)&&(x=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case m:return l;case g:return f;case b:return d;case y:return h}return t}),e.exports=x},function(e,t,n){var r=n(738),a=n(739),i=n(391),o=n(740);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||o()}},function(e,t,n){var r=n(268);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},function(e,t){var n=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:n,MAX_SAFE_COMPONENT_LENGTH:16}},function(e,t,n){(function(t){var n="object"===typeof t&&Object({NODE_ENV:"production",PUBLIC_URL:"/CellProfilerAnalystPOC",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})&&Object({NODE_ENV:"production",PUBLIC_URL:"/CellProfilerAnalystPOC",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NODE_DEBUG&&/\bsemver\b/i.test(Object({NODE_ENV:"production",PUBLIC_URL:"/CellProfilerAnalystPOC",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NODE_DEBUG)?function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["SEMVER"].concat(n))}:function(){};e.exports=n}).call(this,n(185))},function(e,t){var n=["includePrerelease","loose","rtl"];e.exports=function(e){return e?"object"!==typeof e?{loose:!0}:n.filter((function(t){return e[t]})).reduce((function(e,t){return e[t]=!0,e}),{}):{}}},function(e,t,n){var r=n(130);e.exports=function(e,t,n){return r(e,t,n)>0}},function(e,t,n){var r=n(166),a=n(167),i=Symbol("SemVer ANY"),o=function(){"use strict";function e(t,n){if(r(this,e),n=u(n),t instanceof e){if(t.loose===!!n.loose)return t;t=t.value}d("comparator",t,n),this.options=n,this.loose=!!n.loose,this.parse(t),this.semver===i?this.value="":this.value=this.operator+this.semver.version,d("comp",this)}return a(e,[{key:"parse",value:function(e){var t=this.options.loose?c[l.COMPARATORLOOSE]:c[l.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: ".concat(e));this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new h(n[2],this.options.loose):this.semver=i}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(e){if(d("Comparator.test",e,this.options.loose),this.semver===i||e===i)return!0;if("string"===typeof e)try{e=new h(e,this.options)}catch(t){return!1}return f(e,this.operator,this.semver,this.options)}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Comparator is required");if(n&&"object"===typeof n||(n={loose:!!n,includePrerelease:!1}),""===this.operator)return""===this.value||new p(t.value,n).test(this.value);if(""===t.operator)return""===t.value||new p(this.value,n).test(t.semver);var r=(">="===this.operator||">"===this.operator)&&(">="===t.operator||">"===t.operator),a=("<="===this.operator||"<"===this.operator)&&("<="===t.operator||"<"===t.operator),i=this.semver.version===t.semver.version,o=(">="===this.operator||"<="===this.operator)&&(">="===t.operator||"<="===t.operator),u=f(this.semver,"<",t.semver,n)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),s=f(this.semver,">",t.semver,n)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||a||i&&o||u||s}}],[{key:"ANY",get:function(){return i}}]),e}();e.exports=o;var u=n(308),s=n(212),c=s.re,l=s.t,f=n(539),d=n(307),h=n(98),p=n(131)},function(e,t,n){var r=n(131);e.exports=function(e,t,n){try{t=new r(t,n)}catch(a){return!1}return t.test(e)}},function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function a(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.assert=r,t.assertShapesMatch=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r(a(e,t),n+" Shapes ".concat(e," and ").concat(t," must match"))},t.arraysEqual=a,t.DECIMAL_PLACES_TO_CHECK=4},function(e,t,n){"use strict";var r=n(2),a=n(304),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=n(312);t.arrayStats=function(e){if(!Array.isArray(e))throw new Error("input must be an array");if(0===e.length)return{numVals:0,numNans:0,numZeros:0,max:void 0,min:void 0};for(var t=e.length,n=-1/0,r=1/0,a=0,i=0,o=0,u=0;u<t;u++){var s=e[u];s>n&&(n=s),s<r&&(r=s),0===s&&(a+=1),isNaN(s)?i+=1:isFinite(s)||(o+=1)}var c={numVals:t,numZeros:a,numNans:i,max:n,min:r,numInfs:o};return c.max===-1/0&&(c.max=NaN),c.min===1/0&&(c.min=NaN),c},t.tensorStats=function(e){return i(this,void 0,void 0,r.mark((function t(){var n,i,u,s,c;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.tidy((function(){var t=o.scalar(0,e.dtype);return[e.min(),e.max(),e.equal(t).sum()]})),i=a(n,3),u=i[0],s=i[1],c=i[2],t.abrupt("return",Promise.all([e.data(),u.data(),s.data(),c.data()]).then((function(e){for(var t=a(e,4),n=t[0],r=t[1],i=t[2],o=t[3],u=n.length,s=0,c=0,l=0;l<u;l++){var f=n[l];isNaN(f)?s+=1:isFinite(f)||(c+=1)}var d=r[0],h=i[0];return s===u&&(d=NaN,h=NaN),{numVals:u,numZeros:o[0],numNans:s,min:d,max:h,numInfs:c}})));case 2:case"end":return t.stop()}}),t)})))},t.confusionMatrix=function(e,t,n,s){return i(this,void 0,void 0,r.mark((function i(){var c,l,f;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u.assert(1===e.rank,"labels must be a 1D tensor"),u.assert(1===t.rank,"predictions must be a 1D tensor"),u.assert(e.size===t.size,"labels and predictions must be the same length"),null!=s&&u.assert(s.size===t.size,"labels and predictions must be the same length"),c=e.cast("int32"),l=t.cast("int32"),null==n&&(n=o.tidy((function(){return o.maximum(c.max(),l.max()).cast("int32").dataSync()[0]+1}))),f=Promise.resolve(null),null!=s&&(f=s.data()),r.abrupt("return",Promise.all([c.data(),l.data(),f]).then((function(e){for(var t=a(e,3),r=t[0],i=t[1],o=t[2],u=Array(n).fill(0),s=0;s<n;s++)u[s]=Array(n).fill(0);for(var c=0;c<r.length;c++){var l=r[c],f=i[c];u[l][f]+=null!=o?o[c]:1}return u})));case 10:case"end":return r.stop()}}),i)})))},t.accuracy=function(e,t){return i(this,void 0,void 0,r.mark((function n(){var a,i,s;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u.assertShapesMatch(e.shape,t.shape,"Error computing accuracy."),a=e.equal(t),i=a.mean(),n.next=5,i.data();case 5:return s=n.sent[0],o.dispose([a,i]),n.abrupt("return",s);case 8:case"end":return n.stop()}}),n)})))},t.perClassAccuracy=function(e,t,n){return i(this,void 0,void 0,r.mark((function i(){return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u.assert(1===e.rank,"labels must be a 1D tensor"),u.assert(1===t.rank,"predictions must be a 1D tensor"),u.assert(e.size===t.size,"labels and predictions must be the same length"),null==n&&(n=o.tidy((function(){return o.maximum(e.max(),t.max()).dataSync()[0]+1}))),r.abrupt("return",Promise.all([e.data(),t.data()]).then((function(e){for(var t=a(e,2),r=t[0],i=t[1],o=Array(n).fill(0),u=Array(n).fill(0),s=0;s<r.length;s++){var c=r[s],l=i[s];o[c]+=1,c===l&&(u[c]+=1)}for(var f=[],d=0;d<o.length;d++)f.push({count:o[d],accuracy:0===o[d]?0:u[d]/o[d]});return f})));case 5:case"end":return r.stop()}}),i)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(557),a=n(937),i=n(269),o=n(132);t.table=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&null==t.headers)throw new Error('Data to render must have a "headers" property');if(t&&null==t.values)throw new Error('Data to render must have a "values" property');var s=o.getDrawArea(e),c=Object.assign({},u,n),l=a.select(s).select("table.tf-table"),f=i.css({fontSize:c.fontSize||".875rem",width:"100%",maxWidth:"64rem",marginRight:"auto",marginLeft:"auto"});if(0===l.size()&&((l=a.select(s).append("table")).attr("class"," ".concat(f," tf-table")),l.append("thead").append("tr"),l.append("tbody")),1!==l.size())throw new Error("Error inserting table");var d=i.css({fontWeight:"600",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"rgba( 0, 0, 0, .2 )",textAlign:"left",paddingBottom:"1rem",paddingRight:"1rem",backgroundColor:"#fff"}),h=l.select("thead").select("tr").selectAll("th").data(t.headers),p=h.enter().append("th").attr("class","".concat(d));h.merge(p).html((function(e){return e})),h.exit().remove();var v=r.format(",.4~f"),m=l.select("tbody").selectAll("tr").data(t.values),g=m.enter().append("tr"),b=i.css({padding:"0.25rem",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"rgba( 0, 0, 0, .2 )"}),y=m.merge(g).selectAll("td").data((function(e){return e})),x=y.enter().append("td").attr("class","".concat(b));y.merge(x).html((function(e){return"number"===typeof e?v(e):e})),y.exit().remove(),m.exit().remove()};var u={fontSize:14}},function(e,t,n){"use strict";function r(){if("undefined"!==typeof navigator&&null!=navigator){var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function a(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}n.r(t),n.d(t,"isMobile",(function(){return r})),n.d(t,"isBrowser",(function(){return a}))},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({all_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object(i.a)(e,"x","all","bool"),u={x:o},s={axis:t,keepDims:n};return r.a.runKernel(a.f,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({any_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object(i.a)(e,"x","any","bool"),u={x:o},s={axis:t,keepDims:n};return r.a.runKernel(a.g,u,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({argMax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.a)(e,"x","argMax"),o={x:n},u={axis:t};return r.a.runKernel(a.h,o,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({argMin_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.a)(e,"x","argMin"),o={x:n},u={axis:t};return r.a.runKernel(a.i,o,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(12),i=n(7),o=n(44),u=n(8),s=n(11);var c=Object(s.b)({atan2_:function(e,t){var n=Object(u.a)(e,"a","atan2"),s=Object(u.a)(t,"b","atan2"),c=Object(o.makeTypesMatch)(n,s),l=Object(r.a)(c,2),f={a:n=l[0],b:s=l[1]};return a.a.runKernel(i.m,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),a=n(20),i=n(120),o=n(62),u=n(11),s=n(19);var c=Object(u.b)({conv1d_:function(e,t,n,u){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,f=arguments.length>6?arguments[6]:void 0,d=Object(r.a)(e,"x","conv1d"),h=Object(r.a)(t,"filter","conv1d"),p=d,v=!1;2===d.rank&&(v=!0,p=Object(s.a)(d,[1,d.shape[0],d.shape[1]])),a.b(3===p.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank ".concat(p.rank,".")})),a.b(3===h.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+"".concat(h.rank,".")})),null!=f&&a.b(a.v(u),(function(){return"Error in conv1d: pad must be an integer when using, "+"dimRoundingMode ".concat(f," but got pad ").concat(u,".")})),a.b(p.shape[2]===h.shape[1],(function(){return"Error in conv1d: depth of input (".concat(p.shape[2],") must match ")+"input depth for filter ".concat(h.shape[1],".")})),a.b(o.h(n,l),(function(){return"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(l,"'")})),a.b("NWC"===c,(function(){return"Error in conv1d: got dataFormat of ".concat(c," but only NWC is currently supported.")}));var m=Object(s.a)(h,[1,h.shape[0],h.shape[1],h.shape[2]]),g=Object(s.a)(p,[p.shape[0],1,p.shape[1],p.shape[2]]),b=[1,n],y=[1,l],x="NHWC",_=Object(i.a)(g,m,b,u,x,y,f);return v?Object(s.a)(_,[_.shape[2],_.shape[3]]):Object(s.a)(_,[_.shape[0],_.shape[2],_.shape[3]])}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(8),a=n(240),i=n(11);var o=Object(i.b)({conv2dTranspose_:function(e,t,n,i,o,u){var s=Object(r.a)(e,"x","conv2dTranspose"),c=Object(r.a)(t,"filter","conv2dTranspose");return Object(a.a)(n,s,c,i,o,"NHWC",u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({cosh_:function(e){var t={x:Object(i.a)(e,"x","cosh")};return r.a.runKernel(a.J,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11);var s=Object(u.b)({depthToSpace_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",u=Object(i.a)(e,"x","depthToSpace"),s="NHWC"===n?u.shape[1]:u.shape[2],c="NHWC"===n?u.shape[2]:u.shape[3],l="NHWC"===n?u.shape[3]:u.shape[1];o.b(s*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(s," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(u.shape)})),o.b(c*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(c," and ").concat(t," for depthToSpace with input shape\n        ").concat(u.shape)})),o.b(l%(t*t)===0,(function(){return"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(l," for depthToSpace with input shape ").concat(u.shape)}));var f={x:u},d={blockSize:t,dataFormat:n};return r.a.runKernel(a.N,f,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11),s=n(19);var c=Object(u.b)({dilation2d_:function(e,t,n,u){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",f=Object(i.a)(e,"x","dilation2d"),d=Object(i.a)(t,"filter","dilation2d");o.b(3===f.rank||4===f.rank,(function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(f.rank,".")})),o.b(3===d.rank,(function(){return"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(d.rank,".")})),o.b("NHWC"===l,(function(){return"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(l)}));var h=f,p=!1;3===f.rank&&(h=Object(s.a)(f,[1,f.shape[0],f.shape[1],f.shape[2]]),p=!0);var v={x:h,filter:d},m={strides:n,pad:u,dilations:c},g=r.a.runKernel(a.S,v,m);return p?Object(s.a)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(6),a=n(44),i=n(8),o=n(35),u=n(173),s=n(11),c=n(75),l=n(40);var f=Object(s.b)({divNoNan_:function(e,t){var n=Object(i.a)(e,"a","div"),s=Object(i.a)(t,"b","div"),f=Object(a.makeTypesMatch)(n,s),d=Object(r.a)(f,2);n=d[0],s=d[1];var h=Object(o.a)(n,s),p=Object(l.a)(h),v=Object(u.a)(s,p);return Object(c.a)(v,p,h)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(8),a=n(20),i=n(48),o=n(11),u=n(19);var s=Object(o.b)({dot_:function(e,t){var n=Object(r.a)(e,"t1","dot"),o=Object(r.a)(t,"t2","dot");a.b((1===n.rank||2===n.rank)&&(1===o.rank||2===o.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(o.rank,".")}));var s=1===n.rank?n.size:n.shape[1],c=1===o.rank?o.size:o.shape[0];if(a.b(s===c,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+"".concat(s," and ").concat(c,".")})),1===n.rank&&1===o.rank){var l=Object(u.a)(n,[1,-1]),f=Object(u.a)(o,[-1,1]),d=Object(i.a)(l,f);return Object(u.a)(d,[])}if(1===n.rank&&2===o.rank){var h=Object(u.a)(n,[1,-1]),p=Object(u.a)(o,[o.shape[0],o.shape[1]]),v=Object(i.a)(h,p);return Object(u.a)(v,[v.size])}if(2===n.rank&&1===o.rank){var m=Object(u.a)(o,[-1,1]),g=Object(i.a)(n,m);return Object(u.a)(g,[g.size])}var b=Object(u.a)(o,[o.shape[0],o.shape[1]]);return Object(i.a)(n,b)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11),s=n(19);var c=Object(u.b)({localResponseNormalization_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,l=Object(i.a)(e,"x","localResponseNormalization");o.b(4===l.rank||3===l.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(l.rank,".")})),o.b(o.v(t),(function(){return"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")}));var f=l,d=!1;3===l.rank&&(d=!0,f=Object(s.a)(l,[1,l.shape[0],l.shape[1],l.shape[2]]));var h={x:f},p={depthRadius:t,bias:n,alpha:u,beta:c},v=r.a.runKernel(a.vb,h,p);return d?Object(s.a)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({log1p_:function(e){var t={x:Object(i.a)(e,"x","log1p")};return r.a.runKernel(a.Cb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({softplus_:function(e){var t={x:Object(i.a)(e,"x","softplus")};return r.a.runKernel(a.Gc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),a=n(37),i=n(111),o=n(175),u=n(228),s=n(11);var c=Object(s.b)({logicalXor_:function(e,t){var n=Object(r.a)(e,"a","logicalXor","bool"),s=Object(r.a)(t,"b","logicalXor","bool");return Object(a.a)(n.shape,s.shape),Object(i.a)(Object(u.a)(e,t),Object(o.a)(Object(i.a)(e,t)))}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11);var s=Object(u.b)({mirrorPad_:function(e,t,n){o.b("reflect"===n||"symmetric"===n,(function(){return"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")}));var u=Object(i.a)(e,"x","mirrorPad");if(0===u.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");o.b(t.length===u.rank,(function(){return"Padding doesn't match input. Must be ".concat(u.rank,". ")+"Got ".concat(t.length,".")}));for(var s="reflect"===n?1:0,c=function(e){o.b(2===t[e].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),o.b(t[e][0]>=0&&t[e][0]<=u.shape[e]-s&&t[e][1]>=0&&t[e][1]<=u.shape[e]-s,(function(){return"Padding in dimension ".concat(e," cannot be greater than or equal ")+"to ".concat(u.shape[e]-s," or less than 0 for input of ")+"shape ".concat(u.shape)}))},l=0;l<u.rank;l++)c(l);var f={paddings:t,mode:n},d={x:u};return r.a.runKernel(a.Rb,d,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(12),i=n(7),o=n(44),u=n(8),s=n(11);var c=Object(s.b)({mod_:function(e,t){var n=Object(u.a)(e,"a","mod"),s=Object(u.a)(t,"b","mod"),c=Object(o.makeTypesMatch)(n,s),l=Object(r.a)(c,2),f={a:n=l[0],b:s=l[1]};return a.a.runKernel(i.Sb,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(6),a=n(8),i=n(20),o=n(219),u=n(171),s=n(62),c=n(229),l=n(11),f=n(19),d=n(176);var h=Object(l.b)({pool_:function(e,t,n,l,h,p){null==h&&(h=[1,1]),null==p&&(p=1),0===l&&(l="valid");var v=Object(a.a)(e,"x","maxPool"),m=v,g=!1;3===v.rank&&(g=!0,m=Object(f.a)(v,[1,v.shape[0],v.shape[1],v.shape[2]])),i.b(s.h(p,h),(function(){return"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(p," and dilations '").concat(h,"'")}));var b,y=s.e(m.shape,t,p,h,l),x=[y.dilationHeight,y.dilationWidth];b="same"===l?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),a=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],a[t]]}))}([y.filterHeight,y.filterWidth],x):[[0,0],[0,0]];var _=1===x[0]&&1===x[1],w=function(e,t,n){var r=n.map((function(e){return e[0]})),a=n.map((function(e){return e[1]})),i=e.concat(r,a),o=t.map((function(e,t){return(e-i[t]%e)%e})),u=a.map((function(e,t){return e+o[t]})),s=t.map((function(e,t){return[r[t],u[t]]})),c=t.map((function(e,t){return[0,o[t]]}));return[s,c]}([y.inHeight,y.inWidth],x,b),O=Object(r.a)(w,2),k=O[0],j=O[1],E=_?l:"valid",C=_?m:Object(d.a)(m,x,k),A=("avg"===n?function(){return Object(o.a)(C,t,p,E)}:function(){return Object(c.a)(C,t,p,E)})(),S=_?A:Object(u.a)(A,x,j);return g?Object(f.a)(S,[S.shape[1],S.shape[2],S.shape[3]]):S}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(31),u=n(11);var s=Object(u.b)({prod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=Object(i.a)(e,"x","prod");"bool"===u.dtype&&(u=Object(o.a)(u,"int32"));var s={x:u},c={axis:t,keepDims:n};return r.a.runKernel(a.hc,s,c)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(87),a=n(11),i=n(180);var o=Object(a.b)({randomUniform_:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",o=arguments.length>4?arguments[4]:void 0,u=Object(r.a)(e,a),s=new i.c(t,n,null,o),c=0;c<u.values.length;c++)u.values[c]=s.nextValue();return u.toTensor()}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({rsqrt_:function(e){var t={x:Object(i.a)(e,"x","rsqrt")};return r.a.runKernel(a.wc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({selu_:function(e){var t={x:Object(i.a)(e,"x","selu")};return r.a.runKernel(a.zc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),a=n(20),i=n(120),o=n(172),u=n(11),s=n(19);var c=Object(u.b)({separableConv2d_:function(e,t,n,u,c){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",d=Object(r.a)(e,"x","separableConv2d"),h=Object(r.a)(t,"depthwiseFilter","separableConv2d"),p=Object(r.a)(n,"pointwiseFilter","separableConv2d"),v=d,m=!1;if(3===d.rank&&(m=!0,v=Object(s.a)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),"NCHW"===f)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");a.b(4===v.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(v.rank,".")})),a.b(4===h.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(h.rank,".")})),a.b(4===p.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(h.rank,".")})),a.b(1===p.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(p.shape[0],".")})),a.b(1===p.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(p.shape[1],".")}));var g=h.shape[2],b=h.shape[3];a.b(p.shape[2]===g*b,(function(){return"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(g*b,", ")+"but got ".concat(p.shape[2],".")}));var y=Object(o.a)(v,h,u,c,f,l),x=1,_=Object(i.a)(y,p,x,"valid",f);return m?Object(s.a)(_,[_.shape[1],_.shape[2],_.shape[3]]):_}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({sin_:function(e){var t={x:Object(i.a)(e,"x","sin")};return r.a.runKernel(a.Cc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({sinh_:function(e){var t={x:Object(i.a)(e,"x","sinh")};return r.a.runKernel(a.Dc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(110),a=n(61),i=n(224),o=n(22),u=n(11),s=n(193),c=n(19),l=n(88),f=n(36),d=n(47),h=n(194);var p=Object(u.b)({irfft_:function(e){var t,n=e.shape[e.shape.length-1],u=e.size/n;if(n<=2){var p=Object(c.a)(e,[u,n]);t=Object(h.a)(p)}else{var v=[u,2*(n-1)],m=Object(c.a)(Object(s.a)(e),[u,n]),g=Object(c.a)(Object(i.a)(e),[u,n]),b=Object(l.a)(Object(d.a)(m,[0,1],[u,n-2]),1),y=Object(o.a)(Object(l.a)(Object(d.a)(g,[0,1],[u,n-2]),1),Object(f.a)(-1)),x=Object(a.a)([m,b],1),_=Object(a.a)([g,y],1),w=Object(c.a)(Object(r.a)(x,_),[v[0],v[1]]);t=Object(h.a)(w)}if(t=Object(s.a)(t),3===e.rank&&0!==e.shape[0]){var O=t,k=e.shape[0];t=Object(c.a)(t,[k,t.shape[0]/k,t.shape[1]]),O.dispose()}return t}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(8),a=n(20),i=n(91);function o(e,t,n){if(Object(a.d)(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var o=Object(r.c)(e,n);if(3!==o.length&&1!==o.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Object(i.a)(e,t,o,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(6),a=n(12),i=n(7),o=n(8),u=n(11);var s=Object(u.b)({topk_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=Object(o.a)(e,"x","topk");if(0===u.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var s=u.shape[u.shape.length-1];if(t>s)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(s,") ")+"but got ".concat(t));var c={x:u},l={k:t,sorted:n},f=a.a.runKernel(i.Uc,c,l),d=Object(r.a)(f,2),h=d[0],p=d[1];return{values:h,indices:p}}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(12),i=n(7),o=n(8),u=n(20),s=n(11);var c=Object(s.b)({unique_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(o.a)(e,"x","unique","string_or_numeric");Object(u.b)(n.rank>0,(function(){return"The input tensor must be at least 1D"}));var s={x:n},c={axis:t},l=a.a.runKernel(i.Xc,s,c),f=Object(r.a)(l,2),d=f[0],h=f[1];return{values:d,indices:h}}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),a=n.n(r),i=n(13),o=n(348),u=n(8);function s(){return(s=Object(i.a)(a.a.mark((function e(t){var n,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(u.a)(t,"condition","whereAsync","bool"),e.next=3,n.data();case 3:return r=e.sent,i=Object(o.a)(n.shape,r),t!==n&&n.dispose(),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=function(e){return s.apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(87);function a(e,t){for(var n=[],a=0;a<t.length;a++)t[a]&&n.push(a);for(var i=Object(r.a)(e,"int32"),o=Object(r.a)([n.length,e.length],"int32"),u=0;u<n.length;u++){var s=i.indexToLoc(n[u]),c=u*e.length;o.values.set(s,c)}return o.toTensor()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(4),a=n(109),i=!0,o=!1,u=null,s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function l(){i=!1}function f(){"hidden"===this.visibilityState&&o&&(i=!0)}function d(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return i||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!s[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function h(){o=!0,window.clearTimeout(u),u=window.setTimeout((function(){o=!1}),100)}function p(){return{isFocusVisible:d,onBlurVisible:h,ref:r.useCallback((function(e){var t,n=a.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",f,!0))}),[])}}},function(e,t,n){"use strict";e.exports=n(871)},function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=this,u=function(){e.apply(o,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4);function a(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(20),o=n(11),u=n(19);var s=Object(o.b)({conv3DBackpropInput_:function(e,t,n,o,s){i.b(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var c=e,l=t,f=!1;4===t.rank&&(f=!0,l=Object(u.a)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),c=[1,e[0],e[1],e[2],e[3]]);var d=c[4],h=l.shape[4];i.b(5===c.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(c.length,".")})),i.b(5===l.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(l.rank)})),i.b(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank)})),i.b(d===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input (".concat(d,") must ")+"match input depth for filter ".concat(n.shape[3],".")})),i.b(h===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output (".concat(h,") must ")+"match output depth for filter ".concat(n.shape[4],".")}));var p={dy:l,filter:n},v={pad:s,strides:o,inputShape:c},m=r.a.runKernel(a.H,p,v);return f?Object(u.a)(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(242),a=n(12),i=n(7),o=n(8),u=n(20),s=n(11),c=n(19);var l=Object(s.b)({resizeNearestNeighbor_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=Object(o.a)(e,"images","resizeNearestNeighbor");u.b(3===l.rank||4===l.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(l.rank,".")})),u.b(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,".")})),u.b("float32"===l.dtype||"int32"===l.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"})),u.b(!1===s||!1===n,(function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."}));var f=l,d=!1;3===l.rank&&(d=!0,f=Object(c.a)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),Object(r.a)(t);var h={images:f},p={alignCorners:n,halfPixelCenters:s,size:t},v=a.a.runKernel(i.rc,h,p);return d?Object(c.a)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(242),a=n(12),i=n(7),o=n(8),u=n(20),s=n(11),c=n(19);var l=Object(s.b)({resizeBilinear_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=Object(o.a)(e,"images","resizeBilinear");u.b(3===l.rank||4===l.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(l.rank,".")})),u.b(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,".")})),u.b(!1===s||!1===n,(function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."}));var f=l,d=!1;3===l.rank&&(d=!0,f=Object(c.a)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),Object(r.a)(t);var h={images:f},p={alignCorners:n,halfPixelCenters:s,size:t},v=a.a.runKernel(i.pc,h,p);return d?Object(c.a)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(11),o=n(19);var u=Object(i.b)({depthwiseConv2dNativeBackpropInput_:function(e,t,n,i,u){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],c=arguments.length>6?arguments[6]:void 0,l=t,f=!1;3===t.rank&&(f=!0,l=Object(o.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var d={dy:l,filter:n},h={strides:i,pad:u,dimRoundingMode:c,dilations:s,inputShape:e},p=r.a.runKernel(a.Q,d,h);return f?Object(o.a)(p,[p.shape[1],p.shape[2],p.shape[3]]):p}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(11),o=n(19);var u=Object(i.b)({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,i,u){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],c=arguments.length>6?arguments[6]:void 0,l=e;3===e.rank&&(l=Object(o.a)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var f=t;3===f.rank&&(f=Object(o.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var d={x:l,dy:f},h={strides:i,pad:u,dimRoundingMode:c,dilations:s,filterShape:n};return r.a.runKernel(a.P,d,h)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(239),a=n(353);function i(e,t,n){return(i=Object(a.a)()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var i=new(Function.bind.apply(e,a));return n&&Object(r.a)(i,n.prototype),i}).apply(null,arguments)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"table",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"createStream",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"getBorderCharacters",{enumerable:!0,get:function(){return i.default}});var r=o(n(663)),a=o(n(761)),i=o(n(406));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(3),a=n(9),i=n(93),o=n(57),u=new i.a;try{var s=Plotly.version;console.info("Using Plotly version ".concat(s))}catch(l){console.info("Plotly CDN not found. If you need to make Plots, then add the Plotly CDN to your script")}var c=function(){function e(t,n){Object(r.a)(this,e),this.div=n,this.ndframe=t}return Object(a.a)(e,[{key:"line",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.__get_plot_params(t),r=n[0],a=n[1];if(this.ndframe instanceof o.a){var i={},s=this.ndframe.values;a.forEach((function(e){"layout"==!e&&(i[e]=t[e])})),i.y=s,i.type="line",Plotly.newPlot(this.div,[i],r.layout,r)}else if(u.__key_in_object(r,"x")&&u.__key_in_object(r,"y")){if(!this.ndframe.column_names.includes(r.x))throw Error("Column Error: ".concat(r.x," not found in columns"));if(!this.ndframe.column_names.includes(r.y))throw Error("Column Error: ".concat(r.y," not found in columns"));var c=this.ndframe[r.x].values,l=this.ndframe[r.y].values,f={};f.x=c,f.y=l;var d={},h={};d.title=r.x,h.title=r.y,r.layout.xaxis=d,r.layout.yaxis=h,Plotly.newPlot(this.div,[f],r.layout,r)}else if(u.__key_in_object(r,"x")||u.__key_in_object(r,"y")){var p=[];(u.__key_in_object(r,"columns")?this.____check_if_cols_exist(r.columns):this.ndframe.column_names).forEach((function(n){var i={};a.forEach((function(e){i[e]=t[e]})),u.__key_in_object(r,"x")?(i.x=e.ndframe[r.x].values,i.y=e.ndframe[n].values,i.name=n):(i.y=e.ndframe[r.y].values,i.x=e.ndframe[n].values,i.name=n),p.push(i)})),Plotly.newPlot(this.div,p,r.layout,r)}else{var v=[];(u.__key_in_object(r,"columns")?this.____check_if_cols_exist(r.columns):this.ndframe.column_names).forEach((function(n){var r={};a.forEach((function(e){r[e]=t[e]})),r.x=e.ndframe.index,r.y=e.ndframe[n].values,r.name=n,v.push(r)})),Plotly.newPlot(this.div,v,r.layout,r)}}},{key:"bar",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.__get_plot_params(t),r=n[0],a=n[1];if(this.ndframe instanceof o.a){var i={},s=this.ndframe.values;a.forEach((function(e){"layout"==!e&&(i[e]=t[e])})),i.y=s,i.type="bar",Plotly.newPlot(this.div,[i],r.layout,r)}else if(u.__key_in_object(r,"x")&&u.__key_in_object(r,"y")){if(!this.ndframe.column_names.includes(r.x))throw Error("Column Error: ".concat(r.x," not found in columns"));if(!this.ndframe.column_names.includes(r.y))throw Error("Column Error: ".concat(r.y," not found in columns"));var c=this.ndframe[r.x].values,l=this.ndframe[r.y].values,f={};f.x=c,f.y=l,f.type="bar";var d={},h={};d.title=r.x,h.title=r.y,r.layout.xaxis=d,r.layout.yaxis=h,Plotly.newPlot(this.div,[f],r.layout,r)}else if(u.__key_in_object(r,"x")||u.__key_in_object(r,"y")){var p={};a.forEach((function(e){"layout"==!e&&(p[e]=t[e])})),u.__key_in_object(r,"x")?p.y=this.ndframe[r.x].values:p.y=this.ndframe[r.y].values,p.type="bar",Plotly.newPlot(this.div,[p],r.layout,r)}else{var v=[];(u.__key_in_object(r,"columns")?this.____check_if_cols_exist(r.columns):this.ndframe.column_names).forEach((function(t){var n={};n.x=e.ndframe.index,n.y=e.ndframe[t].values,n.name=t,n.type="bar",v.push(n)})),Plotly.newPlot(this.div,v,r.layout,r)}}},{key:"scatter",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.__get_plot_params(t),r=n[0],a=n[1];if(this.ndframe instanceof o.a){var i={};a.forEach((function(e){"layout"==!e&&(i[e]=t[e])})),i.x=this.ndframe.values,i.y=this.ndframe.index,i.type="scatter",i.mode="markers",Plotly.newPlot(this.div,[i],r.layout,r)}else if(u.__key_in_object(r,"x")&&u.__key_in_object(r,"y")){if(!this.ndframe.column_names.includes(r.x))throw Error("Column Error: ".concat(r.x," not found in columns"));if(!this.ndframe.column_names.includes(r.y))throw Error("Column Error: ".concat(r.y," not found in columns"));var s=this.ndframe[r.x].values,c=this.ndframe[r.y].values,l={};l.x=s,l.y=c,l.type="scatter",l.mode="markers";var f={},d={};f.title=r.x,d.title=r.y,r.layout.xaxis=f,r.layout.yaxis=d,Plotly.newPlot(this.div,[l],r.layout,r)}else if(u.__key_in_object(r,"x")||u.__key_in_object(r,"y")){var h={};a.forEach((function(e){"layout"==!e&&(h[e]=t[e])})),u.__key_in_object(r,"x")?(h.y=this.ndframe.index,h.x=this.ndframe[r.x].values):(h.x=this.ndframe.index,h.y=this.ndframe[r.y].values),h.type="scatter",h.mode="markers",Plotly.newPlot(this.div,[h],r.layout,r)}else{var p=[];(u.__key_in_object(r,"columns")?this.____check_if_cols_exist(r.columns):this.ndframe.column_names).forEach((function(t){var n={};n.y=e.ndframe.index,n.x=e.ndframe[t].values,n.name=t,n.type="scatter",n.mode="markers",p.push(n)})),Plotly.newPlot(this.div,p,r.layout,r)}}},{key:"hist",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.__get_plot_params(t),r=n[0],a=n[1];if(this.ndframe instanceof o.a){var i={};a.forEach((function(e){"layout"==!e&&(i[e]=t[e])})),i.x=this.ndframe.values,i.type="histogram",Plotly.newPlot(this.div,[i],r.layout,r)}else if(u.__key_in_object(r,"x")){var s={};a.forEach((function(e){"layout"==!e&&(s[e]=t[e])})),s.x=this.ndframe[r.y].values,s.type="histogram",Plotly.newPlot(this.div,[s],r.layout,r)}else if(u.__key_in_object(r,"y")){var c={};a.forEach((function(e){"layout"==!e&&(c[e]=t[e])})),c.y=this.ndframe[r.y].values,c.type="histogram",Plotly.newPlot(this.div,[c],r.layout,r)}else{var l=[];(u.__key_in_object(r,"columns")?this.____check_if_cols_exist(r.columns):this.ndframe.column_names).forEach((function(t){var n={};n.x=e.ndframe[t].values,n.name=t,n.type="histogram",l.push(n)})),Plotly.newPlot(this.div,l,r.layout,r)}}},{key:"pie",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.__get_plot_params(t),r=n[0];if(this.ndframe instanceof o.a){var a=[{values:this.ndframe.values,labels:this.ndframe.index,type:"pie",name:r.labels,hoverinfo:"label+percent+name",automargin:!0}];Plotly.newPlot(this.div,a,r.layout,r)}else if(u.__key_in_object(r,"values")&&u.__key_in_object(r,"labels")){if(!this.ndframe.column_names.includes(r.labels))throw Error("Column Error: ".concat(r.labels," not found in columns. labels name must be one of [ ").concat(this.ndframe.column_names,"]"));if(!this.ndframe.column_names.includes(r.values))throw Error("Column Error: ".concat(r.values," not found in columns. value name must be one of [ ").concat(this.ndframe.column_names,"]"));var i=[{values:this.ndframe[r.values].values,labels:this.ndframe[r.labels].values,type:"pie",name:r.labels,hoverinfo:"label+percent+name",automargin:!0}];Plotly.newPlot(this.div,i,r.layout,r)}else{var s;if(s=u.__key_in_object(r,"columns")?this.____check_if_cols_exist(r.columns):this.ndframe.column_names,u.__key_in_object(r,"row_pos")){if(r.row_pos.length!=s.length-1)throw Error("Lenght of row_pos array must be equal to number of columns. Got ".concat(r.row_pos.length,", expected ").concat(s.length-1))}else{for(var c=[],l=0;l<s.length-1;l++)c.push(0);r.row_pos=c}if(u.__key_in_object(r,"col_pos")){if(r.col_pos.length!=s.length-1)throw Error("Lenght of col_pos array must be equal to number of columns. Got ".concat(r.col_pos.length,", expected ").concat(s.length-1))}else{for(var f=[],d=0;d<s.length-1;d++)f.push(d);r.col_pos=f}var h=[];if(s.forEach((function(t,n){var a={};a.values=e.ndframe[t].values,a.labels=e.ndframe[r.labels].values,a.name=t,a.type="pie",a.domain={row:r.row_pos[n],column:r.col_pos[n]},a.hoverinfo="label+percent+name",a.textposition="outside",a.automargin=!0,h.push(a)})),!u.__key_in_object(r,"grid")){var p=Number((this.ndframe.shape[1]/2).toFixed())+1;r.grid={rows:p,columns:p}}r.layout.grid=r.grid,Plotly.newPlot(this.div,h,r.layout,r)}}},{key:"box",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.__get_plot_params(t),r=n[0],a=n[1];if(this.ndframe instanceof o.a){var i={},s=this.ndframe.values;a.forEach((function(e){"layout"==!e&&(i[e]=t[e])})),i.y=s,i.type="box",Plotly.newPlot(this.div,[i],r.layout,r)}else if(u.__key_in_object(r,"x")&&u.__key_in_object(r,"y")){if(!this.ndframe.column_names.includes(r.x))throw Error("Column Error: ".concat(r.x," not found in columns"));if(!this.ndframe.column_names.includes(r.y))throw Error("Column Error: ".concat(r.y," not found in columns"));var c=this.ndframe[r.x].values,l=this.ndframe[r.y].values,f={};f.x=c,f.y=l,f.type="box";var d={},h={};d.title=r.x,h.title=r.y,r.layout.xaxis=d,r.layout.yaxis=h,Plotly.newPlot(this.div,[f],r.layout,r)}else if(u.__key_in_object(r,"x")||u.__key_in_object(r,"y")){var p={};a.forEach((function(e){"layout"==!e&&(p[e]=t[e])})),u.__key_in_object(r,"x")?(p.x=this.ndframe[r.x].values,p.y=this.ndframe.index,p.type="box"):(p.x=this.ndframe.index,p.y=r.y,p.type="box"),Plotly.newPlot(this.div,[p],r.layout,r)}else{var v=[];(u.__key_in_object(r,"columns")?this.____check_if_cols_exist(r.columns):this.ndframe.column_names).forEach((function(n){var r={};a.forEach((function(e){r[e]=t[e]})),r.y=e.ndframe[n].values,r.name=n,r.type="box",v.push(r)})),Plotly.newPlot(this.div,v,r.layout,r)}}},{key:"violin",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.__get_plot_params(t),r=n[0],a=n[1];if(this.ndframe instanceof o.a){var i={},s=this.ndframe.values;a.forEach((function(e){"layout"==!e&&(i[e]=t[e])})),i.y=s,i.type="violin",Plotly.newPlot(this.div,[i],r.layout,r)}else if(u.__key_in_object(r,"x")&&u.__key_in_object(r,"y")){if(!this.ndframe.column_names.includes(r.x))throw Error("Column Error: ".concat(r.x," not found in columns"));if(!this.ndframe.column_names.includes(r.y))throw Error("Column Error: ".concat(r.y," not found in columns"));var c=this.ndframe[r.x].values,l=this.ndframe[r.y].values,f={};f.x=c,f.y=l,f.type="violin";var d={},h={};d.title=r.x,h.title=r.y,r.layout.xaxis=d,r.layout.yaxis=h,Plotly.newPlot(this.div,[f],r.layout,r)}else if(u.__key_in_object(r,"x")||u.__key_in_object(r,"y")){var p={};a.forEach((function(e){"layout"==!e&&(p[e]=t[e])})),u.__key_in_object(r,"x")?(p.x=this.ndframe[r.x].values,p.y=this.ndframe.index,p.type="violin"):(p.x=this.ndframe.index,p.y=r.y,p.type="violin"),Plotly.newPlot(this.div,[p],r.layout,r)}else{var v=[];(u.__key_in_object(r,"columns")?this.____check_if_cols_exist(r.columns):this.ndframe.column_names).forEach((function(n){var r={};a.forEach((function(e){r[e]=t[e]})),r.y=e.ndframe[n].values,r.name=n,r.type="violin",v.push(r)})),Plotly.newPlot(this.div,v,r.layout,r)}}},{key:"table",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.__get_plot_params(n),a=r[0],i={},o={},s=[];u.__key_in_object(a,"columns")?(a.columns.forEach((function(e){if(!t.ndframe.column_names.includes(e))throw Error("Column Error: ".concat(e," not found in columns. Columns should be one of [ ").concat(t.ndframe.column_names," ]"));var n=t.ndframe.column_names.indexOf(e);s.push(t.ndframe.col_data[n])})),e=a.columns):(e=this.ndframe.column_names,s=this.ndframe.col_data),i.values=e,o.values=s,a.header_style&&Object.keys(a.header_style).forEach((function(e){i[e]=a.header_style[e]})),a.cell_style&&Object.keys(a.cell_style).forEach((function(e){o[e]=a.cell_style[e]}));var c=[{type:"table",header:i,cells:o}];Plotly.newPlot(this.div,c,a.layout,a)}},{key:"__get_plot_params",value:function(e){var t=Object.keys(e),n={};return t.forEach((function(t){n[t]=e[t]})),u.__key_in_object(e,"layout")||(n.layout={}),[n,t]}},{key:"____check_if_cols_exist",value:function(e){var t=this;return e.forEach((function(e){if(!t.ndframe.column_names.includes(e))throw Error("Column Error: ".concat(e," not found in columns. Columns should be one of [ ").concat(t.ndframe.column_names," ]"))})),e}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(2),a=n.n(r),i=n(13),o=n(6),u=n(14),s=n(3),c=n(9),l=n(29),f=n(363),d=n(93),h=n(244),p=new d.a,v=new h.a,m=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(s.a)(this,e),this.kwargs=n,t instanceof l.a&&(t=t.arraySync()),p.__is_1D_array(t))this.series=!0,this._read_array(t);else if(this.series=!1,p.__is_object(t[0]))this._read_object(t,1);else if(p.__is_object(t))this._read_object(t,2);else{if(!(Array.isArray(t[0])||p.__is_number(t[0])||p.__is_string(t[0])))throw new Error("File format not supported");this._read_array(t)}}return Object(c.a)(e,[{key:"_read_array",value:function(e){if(this.data=p.__replace_undefined_with_NaN(e,this.series),this.row_data_tensor=Object(l.l)(this.data),this.series?this.col_data=[this.values]:this.col_data=p.__get_col_values(this.data),this.col_data_tensor=Object(l.l)(this.col_data),"index"in this.kwargs?this.__set_index(this.kwargs.index):this.index_arr=Object(u.a)(Array(this.row_data_tensor.shape[0]).keys()),1==this.ndim)"columns"in this.kwargs?this.columns=this.kwargs.columns:this.columns=["0"];else if("columns"in this.kwargs){if(this.kwargs.columns.length!=Number(this.row_data_tensor.shape[1]))throw"Column length mismatch. You provided a column of length ".concat(this.kwargs.columns.length," but data has length of ").concat(this.row_data_tensor.shape[1]);this.columns=this.kwargs.columns}else this.columns=Object(u.a)(Array(this.row_data_tensor.shape[1]).keys());"dtypes"in this.kwargs?this._set_col_types(this.kwargs.dtypes,!1):this._set_col_types(null,!0)}},{key:"_read_object",value:function(e,t){if(2==t){var n=p._get_row_and_col_values(e),r=Object(o.a)(n,2),a=r[0],i=r[1];this.kwargs.columns=i,this._read_array(a)}else{var s=e.map((function(e){return Object.values(e)}));if(this.data=p.__replace_undefined_with_NaN(s,this.series),this.row_data_tensor=Object(l.l)(this.data),this.kwargs.columns=Object.keys(Object.values(e)[0]),this.series?this.col_data=[this.values]:this.col_data=p.__get_col_values(this.data),this.col_data_tensor=Object(l.l)(this.col_data),"index"in this.kwargs?this.__set_index(this.kwargs.index):this.index_arr=Object(u.a)(Array(this.row_data_tensor.shape[0]).keys()),1==this.ndim)this.kwargs.columns?this.columns=this.kwargs.columns:this.columns=["0"];else if("columns"in this.kwargs){if(this.kwargs.columns.length!=Number(this.row_data_tensor.shape[1]))throw"Column length mismatch. You provided a column of length ".concat(this.kwargs.columns.length," but data has column length of ").concat(this.row_data_tensor.shape[1]);this.columns=this.kwargs.columns}else this.columns=Object(u.a)(Array(this.row_data_tensor.shape[1]).keys());"dtypes"in this.kwargs?this._set_col_types(this.kwargs.dtypes,!1):this._set_col_types(null,!0)}}},{key:"_set_col_types",value:function(e,t){var n=["float32","int32","string","boolean"];if(t)this.series?this.col_types=p.__get_t(this.values):this.col_types=p.__get_t(this.col_data);else if(this.series)this.col_types=e;else{if(e.length!=this.columns.length)throw new Error("length Mixmatch: Length of specified dtypes is ".concat(e.length,", but length of columns is ").concat(this.columns.length));if(!Array.isArray(e))throw new Error("dtypes must be an Array of types");e.forEach((function(e,t){if(!n.includes(e))throw new Error("dtype error: dtype specified at index ".concat(t," is not supported"))})),this.col_types=e}}},{key:"dtypes",get:function(){return this.col_types}},{key:"ndim",get:function(){return this.series?1:this.row_data_tensor.shape.length}},{key:"axes",get:function(){return{index:this.index,columns:this.columns}}},{key:"index",get:function(){return this.index_arr}},{key:"__set_index",value:function(e){if(!Array.isArray(e))throw Error("Value Error: index must be an array");if(e.length>this.shape[0]||e.length<this.shape[0])throw Error("Value Error: length of labels must match row shape of data");this.index_arr=e}},{key:"__reset_index",value:function(){var e=Object(u.a)(Array(this.values.length).keys());this.index_arr=e}},{key:"shape",get:function(){return this.series?[this.values.length,1]:this.row_data_tensor.shape}},{key:"values",get:function(){return this.data}},{key:"column_names",get:function(){return this.columns}},{key:"__isna",value:function(){var e=[];this.series?this.values.map((function(t){NaN==t||isNaN(t)&&"string"!=typeof t?e.push(!0):e.push(!1)})):this.values.map((function(t){var n=[];t.map((function(e){NaN==e||isNaN(e)&&"string"!=typeof e?n.push(!0):n.push(!1)})),e.push(n)}));return e}},{key:"size",get:function(){return this.row_data_tensor.size}},{key:"to_csv",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,n,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.series){e.next=5;break}return t=this.values.join(","),e.abrupt("return",t);case 5:return n=this.values,r=this.column_names.join(","),i="".concat(r,"\n"),n.forEach((function(e){var t="".concat(e.join(","),"\n");i+=t})),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"to_json",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,n,r,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.series){e.next=7;break}return(t={})[this.column_names[0]]=this.values,n=JSON.stringify(t),e.abrupt("return",n);case 7:return r=this.values,i=this.column_names,o=[],r.forEach((function(e){var t={};i.forEach((function(n,r){t[n]=e[r]})),o.push(t)})),e.abrupt("return",JSON.stringify(o));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toString",value:function(){var e=v.get_width,t=v.get_truncate,n=v.get_max_row,r=v.get_max_col_in_console,a=[],i={},o=this.columns.length,u=[];if(o>r){var s,c,l,d=this.columns.slice(0,4),h=this.columns.slice(o-4);if(u=[""].concat(d).concat(["..."]).concat(h),this.values.length>n){var p=this.iloc({rows:["0:".concat(n)],columns:["0:4"]}),m=this.iloc({rows:["0:".concat(n)],columns:["".concat(o-4,":")]});s=this.index.slice(0,n),c=p.values,l=m.values}else{var g=this.iloc({rows:["0:"],columns:["0:4"]}),b=this.iloc({rows:["0:"],columns:["".concat(o-4,":")]});s=this.index.slice(0,n),c=g.values,l=b.values}s.map((function(e,t){var n=[e].concat(c[t]).concat(["..."]).concat(l[t]);a.push(n)}))}else{var y,x;if(u=[""].concat(this.columns),this.values.length>n){var _=this.loc({rows:["0:".concat(n)],columns:this.columns});y=_.index,x=_.values}else x=this.values,y=this.index;y.forEach((function(e,t){var n=[e].concat(x[t]);a.push(n)}))}i[0]=10;for(var w=1;w<u.length;w++)i[w]={width:e,truncate:t};var O=[u].concat(a);return Object(f.table)(O,{columns:i})}},{key:"print",value:function(){console.log(this+"")}}]),e}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(14),a=n(1);function i(t,n){var i,o=n&&n.property?Object(a.q)(n.property):a.u;return!Object(a.D)(t)||(i=t,"function"===typeof e&&Object(a.A)(e.isBuffer)&&e.isBuffer(i))?o(JSON.parse(t)):function(e,t){!Object(a.x)(e)&&Object(a.B)(e)&&(e=Object(r.a)(e));return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(o(t),n)}i.responseType="json"}).call(this,n(165).Buffer)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(14),a=n(28);function i(t,n){var i,o=n&&n.property?Object(a.e)(n.property):a.g;return!Object(a.m)(t)||(i=t,"function"===typeof e&&Object(a.j)(e.isBuffer)&&e.isBuffer(i))?o(JSON.parse(t)):function(e,t){!Object(a.i)(e)&&Object(a.k)(e)&&(e=Object(r.a)(e));return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(o(t),n)}i.responseType="json"}).call(this,n(165).Buffer)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(14),a=n(23);function i(t,n){var i,o=n&&n.property?Object(a.g)(n.property):a.j;return!Object(a.s)(t)||(i=t,"function"===typeof e&&Object(a.p)(e.isBuffer)&&e.isBuffer(i))?o(JSON.parse(t)):function(e,t){!Object(a.m)(e)&&Object(a.q)(e)&&(e=Object(r.a)(e));return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(o(t),n)}i.responseType="json"}).call(this,n(165).Buffer)},function(e,t,n){"use strict";n.r(t);var r=/[A-Z]/g,a=/^ms-/,i={};function o(e){return"-"+e.toLowerCase()}t.default=function(e){if(i.hasOwnProperty(e))return i[e];var t=e.replace(r,o);return i[e]=a.test(t)?"-"+t:t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(281);function a(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(115),n(25);var r=n(136),a=(n(26),n(181),{xs:0,sm:600,md:960,lg:1280,xl:1920}),i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(a[e],"px)")}};function o(e,t,n){if(Array.isArray(t)){var a=e.theme.breakpoints||i;return t.reduce((function(e,r,i){return e[a.up(a.keys[i])]=n(t[i]),e}),{})}if("object"===Object(r.a)(t)){var o=e.theme.breakpoints||i;return Object.keys(t).reduce((function(e,r){return e[o.up(r)]=n(t[r]),e}),{})}return n(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(277),n(4),n(197);function r(e,t){return e}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n(26),a=n.n(r),i=n(4),o=n.n(i),u=n(251),s=function(){};function c(){var e=Object(i.useContext)(u.a)||{},t=e.show,n=void 0!==t&&t,r=e.toggle,a=void 0===r?s:r,o=e.setToggle,c=Object(i.useCallback)((function(e){a(!n,e)}),[n,a]);return[{ref:o||s,onClick:c,"aria-haspopup":!0,"aria-expanded":!!n},{show:n,toggle:a}]}var l={children:a.a.func.isRequired};function f(e){var t=e.children,n=c(),r=n[0],a=n[1];return o.a.createElement(o.a.Fragment,null,t(r,a))}f.displayName="ReactOverlaysDropdownToggle",f.propTypes=l,t.a=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(371);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4),a=r.createContext(null)},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"b",(function(){return Ge}));var i=n(26),o=n.n(i),u=n(4),s=n.n(u);var c=n(251),l=n(587);var f=function(e){var t=Object(l.a)();return[e[0],Object(u.useCallback)((function(n){if(t())return e[1](n)}),[t,e[1]])]};function d(e){return e.split("-")[0]}function h(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function p(e){var t=h(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function v(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function m(e){return e instanceof v(e).Element||e instanceof Element}function g(e){return e instanceof v(e).HTMLElement||e instanceof HTMLElement}function b(e){return"undefined"!==typeof ShadowRoot&&(e instanceof v(e).ShadowRoot||e instanceof ShadowRoot)}function y(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&b(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function x(e){return e?(e.nodeName||"").toLowerCase():null}function _(e){return v(e).getComputedStyle(e)}function w(e){return["table","td","th"].indexOf(x(e))>=0}function O(e){return((m(e)?e.ownerDocument:e.document)||window.document).documentElement}function k(e){return"html"===x(e)?e:e.assignedSlot||e.parentNode||(b(e)?e.host:null)||O(e)}function j(e){return g(e)&&"fixed"!==_(e).position?e.offsetParent:null}function E(e){for(var t=v(e),n=j(e);n&&w(n)&&"static"===_(n).position;)n=j(n);return n&&("html"===x(n)||"body"===x(n)&&"static"===_(n).position)?t:n||function(e){for(var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),n=k(e);g(n)&&["html","body"].indexOf(x(n))<0;){var r=_(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function C(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}var A=Math.max,S=Math.min,D=Math.round;function N(e,t,n){return A(e,S(t,n))}function F(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function T(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var M="top",I="bottom",R="right",P="left",B="auto",z=[M,I,R,P],L="start",U="end",W="viewport",V="popper",q=z.reduce((function(e,t){return e.concat([t+"-"+L,t+"-"+U])}),[]),H=[].concat(z,[B]).reduce((function(e,t){return e.concat([t,t+"-"+L,t+"-"+U])}),[]),G=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var K={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,a=e.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,u=d(n.placement),s=C(u),c=[P,R].indexOf(u)>=0?"height":"width";if(i&&o){var l=function(e,t){return F("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:T(e,z))}(a.padding,n),f=p(i),h="y"===s?M:P,v="y"===s?I:R,m=n.rects.reference[c]+n.rects.reference[s]-o[s]-n.rects.popper[c],g=o[s]-n.rects.reference[s],b=E(i),y=b?"y"===s?b.clientHeight||0:b.clientWidth||0:0,x=m/2-g/2,_=l[h],w=y-f[c]-l[v],O=y/2-f[c]/2+x,k=N(_,O,w),j=s;n.modifiersData[r]=((t={})[j]=k,t.centerOffset=k-O,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&y(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function X(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.offsets,o=e.position,u=e.gpuAcceleration,s=e.adaptive,c=e.roundOffsets,l=!0===c?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:D(D(t*r)/r)||0,y:D(D(n*r)/r)||0}}(i):"function"===typeof c?c(i):i,f=l.x,d=void 0===f?0:f,h=l.y,p=void 0===h?0:h,m=i.hasOwnProperty("x"),g=i.hasOwnProperty("y"),b=P,y=M,x=window;if(s){var w=E(n),k="clientHeight",j="clientWidth";w===v(n)&&"static"!==_(w=O(n)).position&&(k="scrollHeight",j="scrollWidth"),w=w,a===M&&(y=I,p-=w[k]-r.height,p*=u?1:-1),a===P&&(b=R,d-=w[j]-r.width,d*=u?1:-1)}var C,A=Object.assign({position:o},s&&$);return u?Object.assign({},A,((C={})[y]=g?"0":"",C[b]=m?"0":"",C.transform=(x.devicePixelRatio||1)<2?"translate("+d+"px, "+p+"px)":"translate3d("+d+"px, "+p+"px, 0)",C)):Object.assign({},A,((t={})[y]=g?p+"px":"",t[b]=m?d+"px":"",t.transform="",t))}var Y={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,i=n.adaptive,o=void 0===i||i,u=n.roundOffsets,s=void 0===u||u,c={placement:d(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,X(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,X(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},J={passive:!0};var Q={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=void 0===a||a,o=r.resize,u=void 0===o||o,s=v(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,J)})),u&&s.addEventListener("resize",n.update,J),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,J)})),u&&s.removeEventListener("resize",n.update,J)}},data:{}},Z={left:"right",right:"left",bottom:"top",top:"bottom"};function ee(e){return e.replace(/left|right|bottom|top/g,(function(e){return Z[e]}))}var te={start:"end",end:"start"};function ne(e){return e.replace(/start|end/g,(function(e){return te[e]}))}function re(e){var t=v(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ae(e){return h(O(e)).left+re(e).scrollLeft}function ie(e){var t=_(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function oe(e){return["html","body","#document"].indexOf(x(e))>=0?e.ownerDocument.body:g(e)&&ie(e)?e:oe(k(e))}function ue(e,t){var n;void 0===t&&(t=[]);var r=oe(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),i=v(r),o=a?[i].concat(i.visualViewport||[],ie(r)?r:[]):r,u=t.concat(o);return a?u:u.concat(ue(k(o)))}function se(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ce(e,t){return t===W?se(function(e){var t=v(e),n=O(e),r=t.visualViewport,a=n.clientWidth,i=n.clientHeight,o=0,u=0;return r&&(a=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,u=r.offsetTop)),{width:a,height:i,x:o+ae(e),y:u}}(e)):g(t)?function(e){var t=h(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):se(function(e){var t,n=O(e),r=re(e),a=null==(t=e.ownerDocument)?void 0:t.body,i=A(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=A(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),u=-r.scrollLeft+ae(e),s=-r.scrollTop;return"rtl"===_(a||n).direction&&(u+=A(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:u,y:s}}(O(e)))}function le(e,t,n){var r="clippingParents"===t?function(e){var t=ue(k(e)),n=["absolute","fixed"].indexOf(_(e).position)>=0&&g(e)?E(e):e;return m(n)?t.filter((function(e){return m(e)&&y(e,n)&&"body"!==x(e)})):[]}(e):[].concat(t),a=[].concat(r,[n]),i=a[0],o=a.reduce((function(t,n){var r=ce(e,n);return t.top=A(r.top,t.top),t.right=S(r.right,t.right),t.bottom=S(r.bottom,t.bottom),t.left=A(r.left,t.left),t}),ce(e,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function fe(e){return e.split("-")[1]}function de(e){var t,n=e.reference,r=e.element,a=e.placement,i=a?d(a):null,o=a?fe(a):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(i){case M:t={x:u,y:n.y-r.height};break;case I:t={x:u,y:n.y+n.height};break;case R:t={x:n.x+n.width,y:s};break;case P:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=i?C(i):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case L:t[c]=t[c]-(n[l]/2-r[l]/2);break;case U:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function he(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,i=n.boundary,o=void 0===i?"clippingParents":i,u=n.rootBoundary,s=void 0===u?W:u,c=n.elementContext,l=void 0===c?V:c,f=n.altBoundary,d=void 0!==f&&f,p=n.padding,v=void 0===p?0:p,g=F("number"!==typeof v?v:T(v,z)),b=l===V?"reference":V,y=e.elements.reference,x=e.rects.popper,_=e.elements[d?b:l],w=le(m(_)?_:_.contextElement||O(e.elements.popper),o,s),k=h(y),j=de({reference:k,element:x,strategy:"absolute",placement:a}),E=se(Object.assign({},x,j)),C=l===V?E:k,A={top:w.top-C.top+g.top,bottom:C.bottom-w.bottom+g.bottom,left:w.left-C.left+g.left,right:C.right-w.right+g.right},S=e.modifiersData.offset;if(l===V&&S){var D=S[a];Object.keys(A).forEach((function(e){var t=[R,I].indexOf(e)>=0?1:-1,n=[M,I].indexOf(e)>=0?"y":"x";A[e]+=D[n]*t}))}return A}var pe={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,i=void 0===a||a,o=n.altAxis,u=void 0===o||o,s=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,v=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,b=d(g),y=s||(b===g||!v?[ee(g)]:function(e){if(d(e)===B)return[];var t=ee(e);return[ne(e),t,ne(t)]}(g)),x=[g].concat(y).reduce((function(e,n){return e.concat(d(n)===B?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,i=n.rootBoundary,o=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,c=void 0===s?H:s,l=fe(r),f=l?u?q:q.filter((function(e){return fe(e)===l})):z,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var p=h.reduce((function(t,n){return t[n]=he(e,{placement:n,boundary:a,rootBoundary:i,padding:o})[d(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:v,allowedAutoPlacements:m}):n)}),[]),_=t.rects.reference,w=t.rects.popper,O=new Map,k=!0,j=x[0],E=0;E<x.length;E++){var C=x[E],A=d(C),S=fe(C)===L,D=[M,I].indexOf(A)>=0,N=D?"width":"height",F=he(t,{placement:C,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),T=D?S?R:P:S?I:M;_[N]>w[N]&&(T=ee(T));var U=ee(T),W=[];if(i&&W.push(F[A]<=0),u&&W.push(F[T]<=0,F[U]<=0),W.every((function(e){return e}))){j=C,k=!1;break}O.set(C,W)}if(k)for(var V=function(e){var t=x.find((function(t){var n=O.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return j=t,"break"},G=v?3:1;G>0;G--){if("break"===V(G))break}t.placement!==j&&(t.modifiersData[r]._skip=!0,t.placement=j,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ve(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function me(e){return[M,R,I,P].some((function(t){return e[t]>=0}))}var ge={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=he(t,{elementContext:"reference"}),u=he(t,{altBoundary:!0}),s=ve(o,r),c=ve(u,a,i),l=me(s),f=me(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}};var be={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=void 0===a?[0,0]:a,o=H.reduce((function(e,n){return e[n]=function(e,t,n){var r=d(e),a=[P,M].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=i[0],u=i[1];return o=o||0,u=(u||0)*a,[P,R].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}(n,t.rects,i),e}),{}),u=o[t.placement],s=u.x,c=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var ye={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=de({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var xe={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,i=void 0===a||a,o=n.altAxis,u=void 0!==o&&o,s=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,v=void 0===h||h,m=n.tetherOffset,g=void 0===m?0:m,b=he(t,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),y=d(t.placement),x=fe(t.placement),_=!x,w=C(y),O="x"===w?"y":"x",k=t.modifiersData.popperOffsets,j=t.rects.reference,D=t.rects.popper,F="function"===typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,T={x:0,y:0};if(k){if(i||u){var B="y"===w?M:P,z="y"===w?I:R,U="y"===w?"height":"width",W=k[w],V=k[w]+b[B],q=k[w]-b[z],H=v?-D[U]/2:0,G=x===L?j[U]:D[U],K=x===L?-D[U]:-j[U],$=t.elements.arrow,X=v&&$?p($):{width:0,height:0},Y=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},J=Y[B],Q=Y[z],Z=N(0,j[U],X[U]),ee=_?j[U]/2-H-Z-J-F:G-Z-J-F,te=_?-j[U]/2+H+Z+Q+F:K+Z+Q+F,ne=t.elements.arrow&&E(t.elements.arrow),re=ne?"y"===w?ne.clientTop||0:ne.clientLeft||0:0,ae=t.modifiersData.offset?t.modifiersData.offset[t.placement][w]:0,ie=k[w]+ee-ae-re,oe=k[w]+te-ae;if(i){var ue=N(v?S(V,ie):V,W,v?A(q,oe):q);k[w]=ue,T[w]=ue-W}if(u){var se="x"===w?M:P,ce="x"===w?I:R,le=k[O],de=le+b[se],pe=le-b[ce],ve=N(v?S(de,ie):de,le,v?A(pe,oe):pe);k[O]=ve,T[O]=ve-le}}t.modifiersData[r]=T}},requiresIfExists:["offset"]};function _e(e,t,n){void 0===n&&(n=!1);var r=O(t),a=h(e),i=g(t),o={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!n)&&(("body"!==x(t)||ie(r))&&(o=function(e){return e!==v(e)&&g(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:re(e);var t}(t)),g(t)?((u=h(t)).x+=t.clientLeft,u.y+=t.clientTop):r&&(u.x=ae(r))),{x:a.left+o.scrollLeft-u.x,y:a.top+o.scrollTop-u.y,width:a.width,height:a.height}}function we(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||a(e)})),r}function Oe(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var ke={placement:"bottom",modifiers:[],strategy:"absolute"};function je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Ee(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,i=void 0===a?ke:a;return function(e,t,n){void 0===n&&(n=i);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},ke,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],u=!1,s={state:a,setOptions:function(n){c(),a.options=Object.assign({},i,a.options,n),a.scrollParents={reference:m(e)?ue(e):e.contextElement?ue(e.contextElement):[],popper:ue(t)};var u=function(e){var t=we(e);return G.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,a.options.modifiers)));return a.orderedModifiers=u.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var u=i({state:a,name:t,instance:s,options:r}),c=function(){};o.push(u||c)}})),s.update()},forceUpdate:function(){if(!u){var e=a.elements,t=e.reference,n=e.popper;if(je(t,n)){a.rects={reference:_e(t,E(n),"fixed"===a.options.strategy),popper:p(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var i=a.orderedModifiers[r],o=i.fn,c=i.options,l=void 0===c?{}:c,f=i.name;"function"===typeof o&&(a=o({state:a,options:l,name:f,instance:s})||a)}else a.reset=!1,r=-1}}},update:Oe((function(){return new Promise((function(e){s.forceUpdate(),e(a)}))})),destroy:function(){c(),u=!0}};if(!je(e,t))return s;function c(){o.forEach((function(e){return e()})),o=[]}return s.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}var Ce=Ee({defaultModifiers:[ge,ye,Y,Q,be,pe,xe,K]}),Ae=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},Se={name:"applyStyles",enabled:!1},De={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var a=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));a.length?n.setAttribute("aria-describedby",a.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,a=n.reference,i=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===i&&"setAttribute"in a){var o=a.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;a.setAttribute("aria-describedby",o?o+","+r.id:r.id)}}},Ne=[];var Fe=function(e,t,n){var i=void 0===n?{}:n,o=i.enabled,s=void 0===o||o,c=i.placement,l=void 0===c?"bottom":c,d=i.strategy,h=void 0===d?"absolute":d,p=i.modifiers,v=void 0===p?Ne:p,m=r(i,["enabled","placement","strategy","modifiers"]),g=Object(u.useRef)(),b=Object(u.useCallback)((function(){var e;null==(e=g.current)||e.update()}),[]),y=Object(u.useCallback)((function(){var e;null==(e=g.current)||e.forceUpdate()}),[]),x=f(Object(u.useState)({placement:l,update:b,forceUpdate:y,attributes:{},styles:{popper:Ae(h),arrow:{}}})),_=x[0],w=x[1],O=Object(u.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),w({state:t,styles:n,attributes:r,update:b,forceUpdate:y,placement:t.placement})}}}),[b,y,w]);return Object(u.useEffect)((function(){g.current&&s&&g.current.setOptions({placement:l,strategy:h,modifiers:[].concat(v,[O,Se])})}),[h,l,O,s]),Object(u.useEffect)((function(){if(s&&null!=e&&null!=t)return g.current=Ce(e,t,a({},m,{placement:l,strategy:h,modifiers:[].concat(v,[De,O])})),function(){null!=g.current&&(g.current.destroy(),g.current=void 0,w((function(e){return a({},e,{attributes:{},styles:{popper:Ae(h)}})})))}}),[s,e,t]),_};var Te=n(290),Me=n(116),Ie=n(431),Re=n.n(Ie),Pe=n(589),Be=n(109),ze=n.n(Be);var Le=function(e){return Object(Pe.a)(function(e){return e&&"setState"in e?ze.a.findDOMNode(e):null!=e?e:null}(e))},Ue=function(){};var We=function(e){return e&&("current"in e?e.current:e)};var Ve=function(e,t,n){var r=void 0===n?{}:n,a=r.disabled,i=r.clickTrigger,o=void 0===i?"click":i,s=Object(u.useRef)(!1),c=t||Ue,l=Object(u.useCallback)((function(t){var n,r,a,i=We(e);Re()(!!i,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!i||!!((a=t).metaKey||a.altKey||a.ctrlKey||a.shiftKey)||!function(e){return 0===e.button}(t)||(n=i,r=t.target,!!(n.contains?n.contains(r):n.compareDocumentPosition?n===r||16&n.compareDocumentPosition(r):void 0))}),[e]),f=Object(Me.a)((function(e){s.current||c(e)})),d=Object(Me.a)((function(e){27===e.keyCode&&c(e)}));Object(u.useEffect)((function(){if(!a&&null!=e){var t=window.event,n=Le(We(e)),r=Object(Te.a)(n,o,l,!0),i=Object(Te.a)(n,o,(function(e){e!==t?f(e):t=void 0})),u=Object(Te.a)(n,"keyup",(function(e){e!==t?d(e):t=void 0})),s=[];return"ontouchstart"in n.documentElement&&(s=[].slice.call(n.body.children).map((function(e){return Object(Te.a)(e,"mousemove",Ue)}))),function(){r(),i(),u(),s.forEach((function(e){return e()}))}}}),[e,a,o,l,f,d])};function qe(e){var t,n,r,i,o,u=e.enabled,s=e.enableEvents,c=e.placement,l=e.flip,f=e.offset,d=e.fixed,h=e.containerPadding,p=e.arrowElement,v=e.popperConfig,m=void 0===v?{}:v,g=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(m.modifiers);return a({},m,{placement:c,enabled:u,strategy:d?"fixed":m.strategy,modifiers:(o=a({},g,{eventListeners:{enabled:s},preventOverflow:a({},g.preventOverflow,{options:h?a({padding:h},null==(t=g.preventOverflow)?void 0:t.options):null==(n=g.preventOverflow)?void 0:n.options}),offset:{options:a({offset:f},null==(r=g.offset)?void 0:r.options)},arrow:a({},g.arrow,{enabled:!!p,options:a({},null==(i=g.arrow)?void 0:i.options,{element:p})}),flip:a({enabled:!!l},g.flip)}),void 0===o&&(o={}),Array.isArray(o)?o:Object.keys(o).map((function(e){return o[e].name=e,o[e]})))})}var He=function(){};function Ge(e){void 0===e&&(e={});var t=Object(u.useContext)(c.a),n=Object(u.useState)(null),r=n[0],i=n[1],o=Object(u.useRef)(!1),s=e,l=s.flip,f=s.offset,d=s.rootCloseEvent,h=s.fixed,p=void 0!==h&&h,v=s.popperConfig,m=void 0===v?{}:v,g=s.usePopper,b=void 0===g?!!t:g,y=null==(null==t?void 0:t.show)?!!e.show:t.show,x=null==(null==t?void 0:t.alignEnd)?e.alignEnd:t.alignEnd;y&&!o.current&&(o.current=!0);var _=t||{},w=_.drop,O=_.setMenu,k=_.menuElement,j=_.toggleElement,E=x?"bottom-end":"bottom-start";"up"===w?E=x?"top-end":"top-start":"right"===w?E=x?"right-end":"right-start":"left"===w&&(E=x?"left-end":"left-start");var C=Fe(j,k,qe({placement:E,enabled:!(!b||!y),enableEvents:y,offset:f,flip:l,fixed:p,arrowElement:r,popperConfig:m})),A=a({ref:O||He,"aria-labelledby":null==j?void 0:j.id},C.attributes.popper,{style:C.styles.popper}),S={show:y,alignEnd:x,hasShown:o.current,toggle:null==t?void 0:t.toggle,popper:b?C:null,arrowProps:b?a({ref:i},C.attributes.arrow,{style:C.styles.arrow}):{}};return Ve(k,(function(e){null==t||t.toggle(!1,e)}),{clickTrigger:d,disabled:!y}),[A,S]}var Ke={children:o.a.func.isRequired,show:o.a.bool,alignEnd:o.a.bool,flip:o.a.bool,usePopper:o.a.oneOf([!0,!1]),popperConfig:o.a.object,rootCloseEvent:o.a.string};function $e(e){var t=e.children,n=Ge(r(e,["children"])),a=n[0],i=n[1];return s.a.createElement(s.a.Fragment,null,i.hasShown?t(a,i):null)}$e.displayName="ReactOverlaysDropdownMenu",$e.propTypes=Ke,$e.defaultProps={usePopper:!0};t.a=$e},function(e,t,n){"use strict";var r=n(64),a=n(52),i=n(948),o=n(25),u=["xs","sm","md","lg","xl"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,s=e.step,c=void 0===s?5:s,l=Object(a.a)(e,["values","unit","step"]);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e,t){var r=u.indexOf(t);return r===u.length-1?f(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[u[r+1]]?n[u[r+1]]:t)-c/100).concat(i,")")}return Object(o.a)({keys:u,values:n,up:f,down:function(e){var t=u.indexOf(e)+1,r=n[u[t]];return t===u.length?f("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-c/100).concat(i,")")},between:d,only:function(e){return d(e,e)},width:function(e){return n[e]}},l)}function c(e,t,n){var a;return Object(o.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o.a)({paddingLeft:t(2),paddingRight:t(2)},n,Object(r.a)({},e.up("sm"),Object(o.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(a={minHeight:56},Object(r.a)(a,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(a,e.up("sm"),{minHeight:64}),a)},n)}var l=n(618),f={black:"#000",white:"#fff"},d={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},h={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},p={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},v={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},b={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},y=n(96),x={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:d[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:d[800],default:"#303030"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function w(e,t,n,r){var a=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(y.d)(e.main,a):"dark"===t&&(e.dark=Object(y.a)(e.main,i)))}function O(e){var t=e.primary,n=void 0===t?{light:h[300],main:h[500],dark:h[700]}:t,r=e.secondary,u=void 0===r?{light:p.A200,main:p.A400,dark:p.A700}:r,s=e.error,c=void 0===s?{light:v[300],main:v[500],dark:v[700]}:s,O=e.warning,k=void 0===O?{light:m[300],main:m[500],dark:m[700]}:O,j=e.info,E=void 0===j?{light:g[300],main:g[500],dark:g[700]}:j,C=e.success,A=void 0===C?{light:b[300],main:b[500],dark:b[700]}:C,S=e.type,D=void 0===S?"light":S,N=e.contrastThreshold,F=void 0===N?3:N,T=e.tonalOffset,M=void 0===T?.2:T,I=Object(a.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function R(e){return Object(y.c)(e,_.text.primary)>=F?_.text.primary:x.text.primary}var P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(o.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Object(l.a)(4,t));if("string"!==typeof e.main)throw new Error(Object(l.a)(5,JSON.stringify(e.main)));return w(e,"light",n,M),w(e,"dark",r,M),e.contrastText||(e.contrastText=R(e.main)),e},B={dark:_,light:x};return Object(i.a)(Object(o.a)({common:f,type:D,primary:P(n),secondary:P(u,"A400","A200","A700"),error:P(c),warning:P(k),info:P(E),success:P(A),grey:d,contrastThreshold:F,getContrastText:R,augmentColor:P,tonalOffset:M},B[D]),I)}function k(e){return Math.round(1e5*e)/1e5}var j={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function C(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,u=void 0===r?E:r,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,d=n.fontWeightRegular,h=void 0===d?400:d,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,g=void 0===m?700:m,b=n.htmlFontSize,y=void 0===b?16:b,x=n.allVariants,_=n.pxToRem,w=Object(a.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var O=c/14,C=_||function(e){return"".concat(e/y*O,"rem")},A=function(e,t,n,r,a){return Object(o.a)({fontFamily:u,fontWeight:e,fontSize:C(t),lineHeight:n},u===E?{letterSpacing:"".concat(k(r/t),"em")}:{},a,x)},S={h1:A(f,96,1.167,-1.5),h2:A(f,60,1.2,-.5),h3:A(h,48,1.167,0),h4:A(h,34,1.235,.25),h5:A(h,24,1.334,0),h6:A(v,20,1.6,.15),subtitle1:A(h,16,1.75,.15),subtitle2:A(v,14,1.57,.1),body1:A(h,16,1.5,.15),body2:A(h,14,1.43,.15),button:A(v,14,1.75,.4,j),caption:A(h,12,1.66,.4),overline:A(h,12,2.66,1,j)};return Object(i.a)(Object(o.a)({htmlFontSize:y,pxToRem:C,round:k,fontFamily:u,fontSize:c,fontWeightLight:f,fontWeightRegular:h,fontWeightMedium:v,fontWeightBold:g},S),w,{clone:!1})}function A(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var S=["none",A(0,2,1,-1,0,1,1,0,0,1,3,0),A(0,3,1,-2,0,2,2,0,0,1,5,0),A(0,3,3,-2,0,3,4,0,0,1,8,0),A(0,2,4,-1,0,4,5,0,0,1,10,0),A(0,3,5,-1,0,5,8,0,0,1,14,0),A(0,3,5,-1,0,6,10,0,0,1,18,0),A(0,4,5,-2,0,7,10,1,0,2,16,1),A(0,5,5,-3,0,8,10,1,0,3,14,2),A(0,5,6,-3,0,9,12,1,0,3,16,2),A(0,6,6,-3,0,10,14,1,0,4,18,3),A(0,6,7,-4,0,11,15,1,0,4,20,3),A(0,7,8,-4,0,12,17,2,0,5,22,4),A(0,7,8,-4,0,13,19,2,0,5,24,4),A(0,7,9,-4,0,14,21,2,0,5,26,4),A(0,8,9,-5,0,15,22,2,0,6,28,5),A(0,8,10,-5,0,16,24,2,0,6,30,5),A(0,8,11,-5,0,17,26,2,0,6,32,5),A(0,9,11,-5,0,18,28,2,0,7,34,6),A(0,9,12,-6,0,19,29,2,0,7,36,6),A(0,10,13,-6,0,20,31,3,0,8,38,7),A(0,10,13,-6,0,21,33,3,0,8,40,7),A(0,10,14,-6,0,22,35,3,0,8,42,7),A(0,11,14,-7,0,23,36,3,0,9,44,8),A(0,11,15,-7,0,24,38,3,0,9,46,8)],D={borderRadius:4},N=n(993);function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(N.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var T={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},M={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function I(e){return"".concat(Math.round(e),"ms")}var R={easing:T,duration:M,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?M.standard:n,i=t.easing,o=void 0===i?T.easeInOut:i,u=t.delay,s=void 0===u?0:u;Object(a.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:I(r)," ").concat(o," ").concat("string"===typeof s?s:I(s))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},P={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var B=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,o=void 0===r?{}:r,u=e.palette,l=void 0===u?{}:u,f=e.spacing,d=e.typography,h=void 0===d?{}:d,p=Object(a.a)(e,["breakpoints","mixins","palette","spacing","typography"]),v=O(l),m=s(n),g=F(f),b=Object(i.a)({breakpoints:m,direction:"ltr",mixins:c(m,g,o),overrides:{},palette:v,props:{},shadows:S,typography:C(v,h),spacing:g,shape:D,transitions:R,zIndex:P},p),y=arguments.length,x=new Array(y>1?y-1:0),_=1;_<y;_++)x[_-1]=arguments[_];return b=x.reduce((function(e,t){return Object(i.a)(e,t)}),b)}();t.a=B},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(439);var a=n(430),i=n.n(a),o=n(283);function u(e,t){return!t||"object"!==i()(t)&&"function"!==typeof t?Object(o.a)(e):t}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(r.a)(e);if(t){var i=Object(r.a)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return u(this,n)}}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return i}));var a=n(60);function i(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?Object(a.a)(e):t}},function(e,t,n){"use strict";var r=n(25),a=n(53),i=n(4),o=n.n(i);var u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)}}),null)};function s(e){return!e||"#"===e.trim()}var c=o.a.forwardRef((function(e,t){var n=e.as,i=void 0===n?"a":n,c=e.disabled,l=e.onKeyDown,f=Object(a.a)(e,["as","disabled","onKeyDown"]),d=function(e){var t=f.href,n=f.onClick;(c||s(t))&&e.preventDefault(),c?e.stopPropagation():n&&n(e)};return s(f.href)&&(f.role=f.role||"button",f.href=f.href||"#"),c&&(f.tabIndex=-1,f["aria-disabled"]=!0),o.a.createElement(i,Object(r.a)({ref:t},f,{onClick:d,onKeyDown:u((function(e){" "===e.key&&(e.preventDefault(),d(e))}),l)}))}));c.displayName="SafeAnchor";t.a=c},function(e,t,n){"use strict";var r=n(25),a=n(53),i=n(94),o=n.n(i),u=(n(875),n(4)),s=n.n(u),c=n(374),l=n(197),f=n(89),d=n(382),h=s.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.variant,u=e.size,c=e.active,l=e.className,h=e.block,p=e.type,v=e.as,m=Object(a.a)(e,["bsPrefix","variant","size","active","className","block","type","as"]),g=Object(f.a)(n,"btn"),b=o()(l,g,c&&"active",i&&g+"-"+i,h&&g+"-block",u&&g+"-"+u);if(m.href)return s.a.createElement(d.a,Object(r.a)({},m,{as:v,ref:t,className:o()(b,m.disabled&&"disabled")}));t&&(m.ref=t),p?m.type=p:v||(m.type="button");var y=v||"button";return s.a.createElement(y,Object(r.a)({},m,{className:b}))}));h.displayName="Button",h.defaultProps={variant:"primary",active:!1,disabled:!1};var p=h,v=n(373),m=s.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.split,u=e.className,d=e.childBsPrefix,h=e.as,m=void 0===h?p:h,g=Object(a.a)(e,["bsPrefix","split","className","childBsPrefix","as"]),b=Object(f.a)(n,"dropdown-toggle");void 0!==d&&(g.bsPrefix=d);var y=Object(c.b)()[0];return y.ref=Object(l.a)(y.ref,Object(v.a)(t,"DropdownToggle")),s.a.createElement(m,Object(r.a)({className:o()(u,b,i&&b+"-split")},y,g))}));m.displayName="DropdownToggle";t.a=m},function(e,t,n){"use strict";var r=/("(?:[^\\"]|\\.)*")|[:,]/g;e.exports=function(e,t){var n,a,i;return t=t||{},n=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),a=""===n?1/0:void 0===t.maxLength?80:t.maxLength,i=t.replacer,function e(t,o,u){var s,c,l,f,d,h,p,v,m,g,b,y;if(t&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0===(b=JSON.stringify(t,i)))return b;if(p=a-o.length-u,b.length<=p&&(m=b.replace(r,(function(e,t){return t||e+" "}))).length<=p)return m;if(null!=i&&(t=JSON.parse(b),i=void 0),"object"===typeof t&&null!==t){if(v=o+n,l=[],c=0,Array.isArray(t))for(g="[",s="]",p=t.length;c<p;c++)l.push(e(t[c],v,c===p-1?0:1)||"null");else for(g="{",s="}",p=(h=Object.keys(t)).length;c<p;c++)f=h[c],d=JSON.stringify(f)+": ",void 0!==(y=e(t[f],v,d.length+(c===p-1?0:1)))&&l.push(d+y);if(l.length>0)return[g,n+l.join(",\n"+v),s].join("\n"+o)}return b}(e,"",0)}},function(e,t,n){"use strict";var r=n(246);t.a=function(e){var t=e,n=e;function a(e,t,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;n(e[i],t)<0?r=i+1:a=i}return r}return 1===e.length&&(t=function(t,n){return e(t)-n},n=function(e){return function(t,n){return Object(r.a)(e(t),n)}}(e)),{left:a,center:function(e,n,r,i){null==r&&(r=0),null==i&&(i=e.length);var o=a(e,n,r,i-1);return o>r&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;n(e[i],t)>0?a=i:r=i+1}return r}}}},function(e,t,n){"use strict";function r(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return u}));var r,a,i,o,u,s,c=n(436);s={dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},r=Object(c.a)(s),a=r.format,i=r.parse,o=r.utcFormat,u=r.utcParse},,,,function(e,t,n){var r=n(493);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){var r=n(672);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(186)(n(129),"Map");e.exports=r},function(e,t,n){var r=n(146),a=n(107);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r=n(689),a=n(696),i=n(698),o=n(699),u=n(700);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=o,s.prototype.set=u,e.exports=s},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(704),a=n(301),i=n(302),o=i&&i.isTypedArray,u=o?a(o):r;e.exports=u},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(711),a=n(505),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,u=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return i.call(e,t)})))}:a;e.exports=u},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},function(e,t,n){var r=n(502)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(509);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(501),a=n(405),i=n(513),o=4294967295,u=Math.min;e.exports=function(e,t){if((e=i(e))<1||e>9007199254740991)return[];var n=o,s=u(e,o);t=a(t),e-=o;for(var c=r(s,t);++n<e;)t(n);return c}},function(e,t,n){var r=n(267);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if("honeywell"===e)return{topBody:"\u2550",topJoin:"\u2564",topLeft:"\u2554",topRight:"\u2557",bottomBody:"\u2550",bottomJoin:"\u2567",bottomLeft:"\u255a",bottomRight:"\u255d",bodyLeft:"\u2551",bodyRight:"\u2551",bodyJoin:"\u2502",joinBody:"\u2500",joinLeft:"\u255f",joinRight:"\u2562",joinJoin:"\u253c"};if("norc"===e)return{topBody:"\u2500",topJoin:"\u252c",topLeft:"\u250c",topRight:"\u2510",bottomBody:"\u2500",bottomJoin:"\u2534",bottomLeft:"\u2514",bottomRight:"\u2518",bodyLeft:"\u2502",bodyRight:"\u2502",bodyJoin:"\u2502",joinBody:"\u2500",joinLeft:"\u251c",joinRight:"\u2524",joinJoin:"\u253c"};if("ramac"===e)return{topBody:"-",topJoin:"+",topLeft:"+",topRight:"+",bottomBody:"-",bottomJoin:"+",bottomLeft:"+",bottomRight:"+",bodyLeft:"|",bodyRight:"|",bodyJoin:"|",joinBody:"-",joinLeft:"|",joinRight:"|",joinJoin:"|"};if("void"===e)return{topBody:"",topJoin:"",topLeft:"",topRight:"",bottomBody:"",bottomJoin:"",bottomLeft:"",bottomRight:"",bodyLeft:"",bodyRight:"",bodyJoin:"",joinBody:"",joinLeft:"",joinRight:"",joinJoin:""};throw new Error('Unknown border template "'+e+'".')};t.default=r},function(e,t,n){var r=n(146),a=n(102),i=n(108);e.exports=function(e){return"string"==typeof e||!a(e)&&i(e)&&"[object String]"==r(e)}},function(e,t,n){var r=n(209),a=n(409),i=n(102),o=n(268),u=r?r.prototype:void 0,s=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(o(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t,n){var r=n(408);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(530),a=n(210);e.exports=function(e,t){return e&&r(e,t,a)}},function(e,t,n){var r=n(102),a=n(268),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(o.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t){var n=/^[0-9]+$/,r=function(e,t){var r=n.test(e),a=n.test(t);return r&&a&&(e=+e,t=+t),e===t?0:r&&!a?-1:a&&!r?1:e<t?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:function(e,t){return r(t,e)}}},function(e,t,n){var r=n(130);e.exports=function(e,t,n){return 0===r(e,t,n)}},function(e,t,n){var r=n(98);e.exports=function(e,t,n){var a=new r(e,n),i=new r(t,n);return a.compare(i)||a.compareBuild(i)}},function(e,t,n){var r=n(130);e.exports=function(e,t,n){return r(e,t,n)<0}},function(e,t,n){var r=n(130);e.exports=function(e,t,n){return r(e,t,n)>=0}},function(e,t,n){var r=n(130);e.exports=function(e,t,n){return r(e,t,n)<=0}},function(e,t,n){var r=n(98),a=n(310),i=a.ANY,o=n(131),u=n(311),s=n(309),c=n(417),l=n(419),f=n(418);e.exports=function(e,t,n,d){var h,p,v,m,g;switch(e=new r(e,d),t=new o(t,d),n){case">":h=s,p=l,v=c,m=">",g=">=";break;case"<":h=c,p=f,v=s,m="<",g="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(u(e,t,d))return!1;for(var b=function(n){var r=t.set[n],o=null,u=null;return r.forEach((function(e){e.semver===i&&(e=new a(">=0.0.0")),o=o||e,u=u||e,h(e.semver,o.semver,d)?o=e:v(e.semver,u.semver,d)&&(u=e)})),o.operator===m||o.operator===g?{v:!1}:u.operator&&u.operator!==m||!p(e,u.semver)?u.operator===g&&v(e,u.semver)?{v:!1}:void 0:{v:!1}},y=0;y<t.set.length;++y){var x=b(y);if("object"===typeof x)return x.v}return!0}},function(e,t,n){var r=n(852);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(853),a=n(854),i=n(855);e.exports=function(e){var t=a();return function(){var n,a=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return i(this,n)}}},function(e,t,n){"use strict";function r(){}n.r(t),n.d(t,"h",(function(){return u})),n.d(t,"createElement",(function(){return u})),n.d(t,"cloneElement",(function(){return l})),n.d(t,"Component",(function(){return R})),n.d(t,"render",(function(){return P})),n.d(t,"rerender",(function(){return p})),n.d(t,"options",(function(){return a}));var a={},i=[],o=[];function u(e,t){var n,u,s,c,l=o;for(c=arguments.length;c-- >2;)i.push(arguments[c]);for(t&&null!=t.children&&(i.length||i.push(t.children),delete t.children);i.length;)if((u=i.pop())&&void 0!==u.pop)for(c=u.length;c--;)i.push(u[c]);else"boolean"===typeof u&&(u=null),(s="function"!==typeof e)&&(null==u?u="":"number"===typeof u?u=String(u):"string"!==typeof u&&(s=!1)),s&&n?l[l.length-1]+=u:l===o?l=[u]:l.push(u),n=s;var f=new r;return f.nodeName=e,f.children=l,f.attributes=null==t?void 0:t,f.key=null==t?void 0:t.key,void 0!==a.vnode&&a.vnode(f),f}function s(e,t){for(var n in t)e[n]=t[n];return e}var c="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function l(e,t){return u(e.nodeName,s(s({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var f=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,d=[];function h(e){!e._dirty&&(e._dirty=!0)&&1==d.push(e)&&(a.debounceRendering||c)(p)}function p(){var e,t=d;for(d=[];e=t.pop();)e._dirty&&M(e)}function v(e,t,n){return"string"===typeof t||"number"===typeof t?void 0!==e.splitText:"string"===typeof t.nodeName?!e._componentConstructor&&m(e,t.nodeName):n||e._componentConstructor===t.nodeName}function m(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function g(e){var t=s({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function b(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n,r,a){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),r&&r(e);else if("class"!==t||a)if("style"===t){if(r&&"string"!==typeof r&&"string"!==typeof n||(e.style.cssText=r||""),r&&"object"===typeof r){if("string"!==typeof n)for(var i in n)i in r||(e.style[i]="");for(var i in r)e.style[i]="number"===typeof r[i]&&!1===f.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var o=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,x,o):e.removeEventListener(t,x,o),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!a&&t in e)!function(e,t,n){try{e[t]=n}catch(r){}}(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t);else{var u=a&&t!==(t=t.replace(/^xlink:?/,""));null==r||!1===r?u?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!==typeof r&&(u?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function x(e){return this._listeners[e.type](a.event&&a.event(e)||e)}var _=[],w=0,O=!1,k=!1;function j(){for(var e;e=_.pop();)a.afterMount&&a.afterMount(e),e.componentDidMount&&e.componentDidMount()}function E(e,t,n,r,a,i){w++||(O=null!=a&&void 0!==a.ownerSVGElement,k=null!=e&&!("__preactattr_"in e));var o=C(e,t,n,r,i);return a&&o.parentNode!==a&&a.appendChild(o),--w||(k=!1,i||j()),o}function C(e,t,n,r,a){var i=e,o=O;if(null!=t&&"boolean"!==typeof t||(t=""),"string"===typeof t||"number"===typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||a)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),A(e,!0))),i.__preactattr_=!0,i;var u=t.nodeName;if("function"===typeof u)return function(e,t,n,r){var a=e&&e._component,i=a,o=e,u=a&&e._componentConstructor===t.nodeName,s=u,c=g(t);for(;a&&!s&&(a=a._parentComponent);)s=a.constructor===t.nodeName;a&&s&&(!r||a._component)?(T(a,c,3,n,r),e=a.base):(i&&!u&&(I(i),e=o=null),a=N(t.nodeName,c,n),e&&!a.nextBase&&(a.nextBase=e,o=null),T(a,c,1,n,r),e=a.base,o&&e!==o&&(o._component=null,A(o,!1)));return e}(e,t,n,r);if(O="svg"===u||"foreignObject"!==u&&O,u=String(u),(!e||!m(e,u))&&(i=function(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}(u,O),e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),A(e,!0)}var s=i.firstChild,c=i.__preactattr_,l=t.children;if(null==c){c=i.__preactattr_={};for(var f=i.attributes,d=f.length;d--;)c[f[d].name]=f[d].value}return!k&&l&&1===l.length&&"string"===typeof l[0]&&null!=s&&void 0!==s.splitText&&null==s.nextSibling?s.nodeValue!=l[0]&&(s.nodeValue=l[0]):(l&&l.length||null!=s)&&function(e,t,n,r,a){var i,o,u,s,c,l=e.childNodes,f=[],d={},h=0,p=0,m=l.length,g=0,y=t?t.length:0;if(0!==m)for(var x=0;x<m;x++){var _=l[x],w=_.__preactattr_;null!=(O=y&&w?_._component?_._component.__key:w.key:null)?(h++,d[O]=_):(w||(void 0!==_.splitText?!a||_.nodeValue.trim():a))&&(f[g++]=_)}if(0!==y)for(x=0;x<y;x++){var O;if(c=null,null!=(O=(s=t[x]).key))h&&void 0!==d[O]&&(c=d[O],d[O]=void 0,h--);else if(!c&&p<g)for(i=p;i<g;i++)if(void 0!==f[i]&&v(o=f[i],s,a)){c=o,f[i]=void 0,i===g-1&&g--,i===p&&p++;break}c=C(c,s,n,r),u=l[x],c&&c!==e&&c!==u&&(null==u?e.appendChild(c):c===u.nextSibling?b(u):e.insertBefore(c,u))}if(h)for(var x in d)void 0!==d[x]&&A(d[x],!1);for(;p<=g;)void 0!==(c=f[g--])&&A(c,!1)}(i,l,n,r,k||null!=c.dangerouslySetInnerHTML),function(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||y(e,r,n[r],n[r]=void 0,O);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||y(e,r,n[r],n[r]=t[r],O)}(i,t.attributes,c),O=o,i}function A(e,t){var n=e._component;n?I(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||b(e),S(e))}function S(e){for(e=e.lastChild;e;){var t=e.previousSibling;A(e,!0),e=t}}var D={};function N(e,t,n){var r,a=D[e.name];if(e.prototype&&e.prototype.render?(r=new e(t,n),R.call(r,t,n)):((r=new R(t,n)).constructor=e,r.render=F),a)for(var i=a.length;i--;)if(a[i].constructor===e){r.nextBase=a[i].nextBase,a.splice(i,1);break}return r}function F(e,t,n){return this.constructor(e,n)}function T(e,t,n,r,i){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===a.syncComponentUpdates&&e.base?h(e):M(e,1,i)),e.__ref&&e.__ref(e))}function M(e,t,n,r){if(!e._disable){var i,o,u,c=e.props,l=e.state,f=e.context,d=e.prevProps||c,h=e.prevState||l,p=e.prevContext||f,v=e.base,m=e.nextBase,b=v||m,y=e._component,x=!1;if(v&&(e.props=d,e.state=h,e.context=p,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(c,l,f)?x=!0:e.componentWillUpdate&&e.componentWillUpdate(c,l,f),e.props=c,e.state=l,e.context=f),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!x){i=e.render(c,l,f),e.getChildContext&&(f=s(s({},f),e.getChildContext()));var O,k,C=i&&i.nodeName;if("function"===typeof C){var S=g(i);(o=y)&&o.constructor===C&&S.key==o.__key?T(o,S,1,f,!1):(O=o,e._component=o=N(C,S,f),o.nextBase=o.nextBase||m,o._parentComponent=e,T(o,S,0,f,!1),M(o,1,n,!0)),k=o.base}else u=b,(O=y)&&(u=e._component=null),(b||1===t)&&(u&&(u._component=null),k=E(u,i,f,n||!v,b&&b.parentNode,!0));if(b&&k!==b&&o!==y){var D=b.parentNode;D&&k!==D&&(D.replaceChild(k,b),O||(b._component=null,A(b,!1)))}if(O&&I(O),e.base=k,k&&!r){for(var F=e,R=e;R=R._parentComponent;)(F=R).base=k;k._component=F,k._componentConstructor=F.constructor}}if(!v||n?_.unshift(e):x||(e.componentDidUpdate&&e.componentDidUpdate(d,h,p),a.afterUpdate&&a.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);w||r||j()}}function I(e){a.beforeUnmount&&a.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?I(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,b(t),function(e){var t=e.constructor.name;(D[t]||(D[t]=[])).push(e)}(e),S(t)),e.__ref&&e.__ref(null)}function R(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}function P(e,t,n){return E(n,e,{},!1,t,!1)}s(R.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=s({},n)),s(n,"function"===typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),h(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),M(this,2)},render:function(){}});var B={h:u,createElement:u,cloneElement:l,Component:R,render:P,rerender:p,options:a};t.default=B},function(e,t,n){"use strict";var r=n(2),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(557),u=i(n(214)),s=n(168),c=n(313),l=n(314),f={maxBins:12,fontSize:11};function d(e,t,n){var r=o.format(",.4~f"),a=o.format(".4~p"),i=[],u=[];if(null!=e.numVals&&(i.push("Num Vals"),u.push(r(e.numVals))),null!=e.min&&(i.push("Min"),u.push(r(e.min))),null!=e.max&&(i.push("Max"),u.push(r(e.max))),null!=e.numZeros){i.push("# Zeros");var s="";e.numVals&&(s=e.numZeros>0?"(".concat(a(e.numZeros/e.numVals),")"):""),u.push("".concat(r(e.numZeros)," ").concat(s))}if(null!=e.numNans){i.push("# NaNs");var c="";e.numVals&&(c=e.numNans>0?"(".concat(a(e.numNans/e.numVals),")"):""),u.push("".concat(r(e.numNans)," ").concat(c))}if(null!=e.numInfs){i.push("# Infinity");var f="";e.numVals&&(f=e.numInfs>0?"(".concat(a(e.numInfs/e.numVals),")"):""),u.push("".concat(r(e.numInfs)," ").concat(f))}l.table(t,{headers:i,values:[u]},n)}function h(e){if(null==e.length)throw new Error("input data must be an array");if(0===e.length)return[];if("object"===typeof e[0]){if(null==e[0].value)throw new Error("input data must have a value field");return e}for(var t=Array(e.length),n=0;n<e.length;n++)t[n]={value:e[n]};return t}t.histogram=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(this,void 0,void 0,r.mark((function a(){var i,o,l,p,v,m,g,b,y;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=h(t),o=Object.assign({},f,n),l={actions:!1,mode:"vega-lite",defaultStyle:!1},p=s.subSurface(e,"histogram"),!1!==n.stats&&(v=s.subSurface(e,"stats",{prepend:!0}),d(n.stats?n.stats:c.arrayStats(i.map((function(e){return e.value}))),v,{fontSize:o.fontSize})),0!==i.length){r.next=7;break}return r.abrupt("return",void 0);case 7:for(m=[],g=0;g<i.length;g++)null!=(b=i[g].value)&&isFinite(b)&&m.push(i[g]);return y={width:o.width||s.getDefaultWidth(p),height:o.height||s.getDefaultHeight(p),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},data:{values:m},mark:{type:"bar",tooltip:!0},config:{axis:{labelFontSize:o.fontSize,titleFontSize:o.fontSize},text:{fontSize:o.fontSize},legend:{labelFontSize:o.fontSize,titleFontSize:o.fontSize}},encoding:{x:{bin:{maxbins:o.maxBins},field:"value",type:"quantitative"},y:{aggregate:"count",type:"quantitative"},color:{value:o.color||"#001B44"}}},r.abrupt("return",u.default(p,y,l));case 11:case"end":return r.stop()}}),a)})))}},function(e,t,n){"use strict";function r(e){return function(){return null}}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(412),a=n(405);e.exports=function(e,t){return e&&r(e,a(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(4),i=s(a),o=s(n(188)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(892));function s(e){return e&&e.__esModule?e:{default:e}}var c=t.Checkboard=function(e){var t=e.white,n=e.grey,s=e.size,c=e.renderers,l=e.borderRadius,f=e.boxShadow,d=e.children,h=(0,o.default)({default:{grid:{borderRadius:l,boxShadow:f,absolute:"0px 0px 0px 0px",background:"url("+u.get(t,n,s,c.canvas)+") center left"}}});return(0,a.isValidElement)(d)?i.default.cloneElement(d,r({},d.props,{style:r({},d.props.style,h.grid)})):i.default.createElement("div",{style:h.grid})};c.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=c},function(e,t,n){"use strict";n.r(t);var r=n(82),a=n(18);Object(a.d)().prototype.abs=function(){return this.throwIfDisposed(),Object(r.a)(this)};var i=n(454);Object(a.d)().prototype.acos=function(){return this.throwIfDisposed(),Object(i.a)(this)};var o=n(455);Object(a.d)().prototype.acosh=function(){return this.throwIfDisposed(),Object(o.a)(this)};var u=n(33);Object(a.d)().prototype.add=function(e){return this.throwIfDisposed(),Object(u.a)(this,e)};var s=n(317);Object(a.d)().prototype.all=function(e,t){return this.throwIfDisposed(),Object(s.a)(this,e,t)};var c=n(318);Object(a.d)().prototype.any=function(e,t){return this.throwIfDisposed(),Object(c.a)(this,e,t)};var l=n(319);Object(a.d)().prototype.argMax=function(e){return this.throwIfDisposed(),Object(l.a)(this,e)};var f=n(320);Object(a.d)().prototype.argMin=function(e){return this.throwIfDisposed(),Object(f.a)(this,e)};var d=n(19),h=n(20);Object(a.d)().prototype.asScalar=function(){return this.throwIfDisposed(),Object(h.b)(1===this.size,(function(){return"The array must have only 1 element."})),Object(d.a)(this,[])};var p=n(31);Object(a.d)().prototype.asType=function(e){return this.throwIfDisposed(),Object(p.a)(this,e)},Object(a.d)().prototype.as1D=function(){return this.throwIfDisposed(),Object(d.a)(this,[this.size])},Object(a.d)().prototype.as2D=function(e,t){return this.throwIfDisposed(),Object(d.a)(this,[e,t])},Object(a.d)().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),Object(d.a)(this,[e,t,n])},Object(a.d)().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),Object(d.a)(this,[e,t,n,r])},Object(a.d)().prototype.as5D=function(e,t,n,r,a){return this.throwIfDisposed(),Object(d.a)(this,[e,t,n,r,a])};var v=n(457);Object(a.d)().prototype.asin=function(){return this.throwIfDisposed(),Object(v.a)(this)};var m=n(458);Object(a.d)().prototype.asinh=function(){return this.throwIfDisposed(),Object(m.a)(this)};var g=n(459);Object(a.d)().prototype.atan=function(){return this.throwIfDisposed(),Object(g.a)(this)};var b=n(321);Object(a.d)().prototype.atan2=function(e){return this.throwIfDisposed(),Object(b.a)(this,e)};var y=n(460);Object(a.d)().prototype.atanh=function(){return this.throwIfDisposed(),Object(y.a)(this)};var x=n(219);Object(a.d)().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),Object(x.a)(this,e,t,n,r)};var _=n(171);Object(a.d)().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),Object(_.a)(this,e,t)};var w=n(153);Object(a.d)().prototype.batchNorm=function(e,t,n,r,a){return this.throwIfDisposed(),Object(w.a)(this,e,t,n,r,a)};var O=n(190);Object(a.d)().prototype.broadcastTo=function(e){return this.throwIfDisposed(),Object(O.a)(this,e)},Object(a.d)().prototype.cast=function(e){return this.throwIfDisposed(),Object(p.a)(this,e)};var k=n(463);Object(a.d)().prototype.ceil=function(){return this.throwIfDisposed(),Object(k.a)(this)};var j=n(464);Object(a.d)().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),Object(j.a)(this,e,t)};var E=n(14),C=n(61);Object(a.d)().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof a.a&&(e=[e]),Object(C.a)([this].concat(Object(E.a)(e)),t)};var A=n(322);Object(a.d)().prototype.conv1d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object(A.a)(this,e,t,n,r,a,i)};var S=n(323);Object(a.d)().prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),Object(S.a)(this,e,t,n,r,a)};var D=n(120);Object(a.d)().prototype.conv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object(D.a)(this,e,t,n,r,a,i)};var N=n(220);Object(a.d)().prototype.cos=function(){return this.throwIfDisposed(),Object(N.a)(this)};var F=n(324);Object(a.d)().prototype.cosh=function(){return this.throwIfDisposed(),Object(F.a)(this)};var T=n(221);Object(a.d)().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),Object(T.a)(this,e,t,n)};var M=n(325);Object(a.d)().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),Object(M.a)(this,e,t)};var I=n(172);Object(a.d)().prototype.depthwiseConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object(I.a)(this,e,t,n,r,a,i)};var R=n(326);Object(a.d)().prototype.dilation2d=function(e,t,n,r,a){return this.throwIfDisposed(),Object(R.a)(this,e,t,n,r,a)};var P=n(327);Object(a.d)().prototype.divNoNan=function(e){return this.throwIfDisposed(),Object(P.a)(this,e)};var B=n(35);Object(a.d)().prototype.div=function(e){return this.throwIfDisposed(),Object(B.a)(this,e)};var z=n(328);Object(a.d)().prototype.dot=function(e){return this.throwIfDisposed(),Object(z.a)(this,e)};var L=n(222);Object(a.d)().prototype.elu=function(){return this.throwIfDisposed(),Object(L.a)(this)};var U=n(173);Object(a.d)().prototype.equal=function(e){return this.throwIfDisposed(),Object(U.a)(this,e)};var W=n(467);Object(a.d)().prototype.erf=function(){return this.throwIfDisposed(),Object(W.a)(this)};var V=n(81);Object(a.d)().prototype.exp=function(){return this.throwIfDisposed(),Object(V.a)(this)};var q=n(114);Object(a.d)().prototype.expandDims=function(e){return this.throwIfDisposed(),Object(q.a)(this,e)};var H=n(468);Object(a.d)().prototype.expm1=function(){return this.throwIfDisposed(),Object(H.a)(this)};var G=n(234);Object(a.d)().prototype.fft=function(){return this.throwIfDisposed(),Object(G.a)(this)},Object(a.d)().prototype.flatten=function(){return this.throwIfDisposed(),Object(d.a)(this,[this.size])};var K=n(223);Object(a.d)().prototype.floor=function(){return this.throwIfDisposed(),Object(K.a)(this)};var $=n(217);Object(a.d)().prototype.floorDiv=function(e){return this.throwIfDisposed(),Object($.a)(this,e)};var X=n(174);Object(a.d)().prototype.gather=function(e,t){return this.throwIfDisposed(),Object(X.a)(this,e,t)};var Y=n(121);Object(a.d)().prototype.greaterEqual=function(e){return this.throwIfDisposed(),Object(Y.a)(this,e)};var J=n(90);Object(a.d)().prototype.greater=function(e){return this.throwIfDisposed(),Object(J.a)(this,e)};var Q=n(194);Object(a.d)().prototype.ifft=function(){return this.throwIfDisposed(),Object(Q.a)(this)};var Z=n(343);Object(a.d)().prototype.irfft=function(){return this.throwIfDisposed(),Object(Z.a)(this)};var ee=n(469);Object(a.d)().prototype.isFinite=function(){return this.throwIfDisposed(),Object(ee.a)(this)};var te=n(470);Object(a.d)().prototype.isInf=function(){return this.throwIfDisposed(),Object(te.a)(this)};var ne=n(471);Object(a.d)().prototype.isNaN=function(){return this.throwIfDisposed(),Object(ne.a)(this)};var re=n(225);Object(a.d)().prototype.leakyRelu=function(e){return this.throwIfDisposed(),Object(re.a)(this,e)};var ae=n(122);Object(a.d)().prototype.lessEqual=function(e){return this.throwIfDisposed(),Object(ae.a)(this,e)};var ie=n(226);Object(a.d)().prototype.less=function(e){return this.throwIfDisposed(),Object(ie.a)(this,e)};var oe=n(329);Object(a.d)().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),Object(oe.a)(this,e,t,n,r)};var ue=n(473);Object(a.d)().prototype.logSigmoid=function(){return this.throwIfDisposed(),Object(ue.a)(this)};var se=n(474);Object(a.d)().prototype.logSoftmax=function(e){return this.throwIfDisposed(),Object(se.a)(this,e)};var ce=n(227);Object(a.d)().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),Object(ce.a)(this,e,t)};var le=n(133);Object(a.d)().prototype.log=function(){return this.throwIfDisposed(),Object(le.a)(this)};var fe=n(330);Object(a.d)().prototype.log1p=function(){return this.throwIfDisposed(),Object(fe.a)(this)};var de=n(111);Object(a.d)().prototype.logicalAnd=function(e){return this.throwIfDisposed(),Object(de.a)(this,e)};var he=n(175);Object(a.d)().prototype.logicalNot=function(){return this.throwIfDisposed(),Object(he.a)(this)};var pe=n(228);Object(a.d)().prototype.logicalOr=function(e){return this.throwIfDisposed(),Object(pe.a)(this,e)};var ve=n(332);Object(a.d)().prototype.logicalXor=function(e){return this.throwIfDisposed(),Object(ve.a)(this,e)};var me=n(48);Object(a.d)().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),Object(me.a)(this,e,t,n)};var ge=n(229);Object(a.d)().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),Object(ge.a)(this,e,t,n,r)};var be=n(124);Object(a.d)().prototype.max=function(e,t){return this.throwIfDisposed(),Object(be.a)(this,e,t)};var ye=n(170);Object(a.d)().prototype.maximum=function(e){return this.throwIfDisposed(),Object(ye.a)(this,e)};var xe=n(162);Object(a.d)().prototype.mean=function(e,t){return this.throwIfDisposed(),Object(xe.a)(this,e,t)};var _e=n(191);Object(a.d)().prototype.min=function(e,t){return this.throwIfDisposed(),Object(_e.a)(this,e,t)};var we=n(230);Object(a.d)().prototype.minimum=function(e){return this.throwIfDisposed(),Object(we.a)(this,e)};var Oe=n(333);Object(a.d)().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),Object(Oe.a)(this,e,t)};var ke=n(334);Object(a.d)().prototype.mod=function(e){return this.throwIfDisposed(),Object(ke.a)(this,e)};var je=n(22);Object(a.d)().prototype.mul=function(e){return this.throwIfDisposed(),Object(je.a)(this,e)};var Ee=n(55);Object(a.d)().prototype.neg=function(){return this.throwIfDisposed(),Object(Ee.a)(this)};var Ce=n(238);Object(a.d)().prototype.norm=function(e,t,n){return this.throwIfDisposed(),Object(Ce.a)(this,e,t,n)};var Ae=n(231);Object(a.d)().prototype.notEqual=function(e){return this.throwIfDisposed(),Object(Ae.a)(this,e)};var Se=n(192);Object(a.d)().prototype.oneHot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.throwIfDisposed(),Object(Se.a)(this,e,t,n)};var De=n(478);Object(a.d)().prototype.onesLike=function(){return this.throwIfDisposed(),Object(De.a)(this)};var Ne=n(103);Object(a.d)().prototype.pad=function(e,t){return this.throwIfDisposed(),Object(Ne.a)(this,e,t)};var Fe=n(335);Object(a.d)().prototype.pool=function(e,t,n,r,a){return this.throwIfDisposed(),Object(Fe.a)(this,e,t,n,r,a)};var Te=n(99);Object(a.d)().prototype.pow=function(e){return this.throwIfDisposed(),Object(Te.a)(this,e)};var Me=n(232);Object(a.d)().prototype.prelu=function(e){return this.throwIfDisposed(),Object(Me.a)(this,e)};var Ie=n(336);Object(a.d)().prototype.prod=function(e,t){return this.throwIfDisposed(),Object(Ie.a)(this,e,t)};var Re=n(479);Object(a.d)().prototype.reciprocal=function(){return this.throwIfDisposed(),Object(Re.a)(this)};var Pe=n(150);Object(a.d)().prototype.relu=function(){return this.throwIfDisposed(),Object(Pe.a)(this)};var Be=n(233);Object(a.d)().prototype.relu6=function(){return this.throwIfDisposed(),Object(Be.a)(this)},Object(a.d)().prototype.reshapeAs=function(e){return this.throwIfDisposed(),Object(d.a)(this,e.shape)},Object(a.d)().prototype.reshape=function(e){return this.throwIfDisposed(),Object(d.a)(this,e)};var ze=n(359);Object(a.d)().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),Object(ze.a)(this,e,t,n)};var Le=n(358);Object(a.d)().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),Object(Le.a)(this,e,t,n)};var Ue=n(88);Object(a.d)().prototype.reverse=function(e){return this.throwIfDisposed(),Object(Ue.a)(this,e)};var We=n(235);Object(a.d)().prototype.rfft=function(){return this.throwIfDisposed(),Object(We.a)(this)};var Ve=n(480);Object(a.d)().prototype.round=function(){return this.throwIfDisposed(),Object(Ve.a)(this)};var qe=n(338);Object(a.d)().prototype.rsqrt=function(){return this.throwIfDisposed(),Object(qe.a)(this)};var He=n(339);Object(a.d)().prototype.selu=function(){return this.throwIfDisposed(),Object(He.a)(this)};var Ge=n(340);Object(a.d)().prototype.separableConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object(Ge.a)(this,e,t,n,r,a,i)};var Ke=n(154);Object(a.d)().prototype.sigmoid=function(){return this.throwIfDisposed(),Object(Ke.a)(this)};var $e=n(482);Object(a.d)().prototype.sign=function(){return this.throwIfDisposed(),Object($e.a)(this)};var Xe=n(341);Object(a.d)().prototype.sin=function(){return this.throwIfDisposed(),Object(Xe.a)(this)};var Ye=n(342);Object(a.d)().prototype.sinh=function(){return this.throwIfDisposed(),Object(Ye.a)(this)};var Je=n(47);Object(a.d)().prototype.slice=function(e,t){return this.throwIfDisposed(),Object(Je.a)(this,e,t)};var Qe=n(483);Object(a.d)().prototype.softmax=function(e){return this.throwIfDisposed(),Object(Qe.a)(this,e)};var Ze=n(331);Object(a.d)().prototype.softplus=function(){return this.throwIfDisposed(),Object(Ze.a)(this)};var et=n(176);Object(a.d)().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),Object(et.a)(this,e,t)};var tt=n(134);Object(a.d)().prototype.split=function(e,t){return this.throwIfDisposed(),Object(tt.a)(this,e,t)};var nt=n(76);Object(a.d)().prototype.sqrt=function(){return this.throwIfDisposed(),Object(nt.a)(this)};var rt=n(45);Object(a.d)().prototype.square=function(){return this.throwIfDisposed(),Object(rt.a)(this)};var at=n(236);Object(a.d)().prototype.squaredDifference=function(e){return this.throwIfDisposed(),Object(at.a)(this,e)};var it=n(177);Object(a.d)().prototype.squeeze=function(e){return this.throwIfDisposed(),Object(it.a)(this,e)};var ot=n(112);Object(a.d)().prototype.stack=function(e,t){this.throwIfDisposed();var n=e instanceof a.a?[this,e]:[this].concat(Object(E.a)(e));return Object(ot.a)(n,t)};var ut=n(151);Object(a.d)().prototype.step=function(e){return this.throwIfDisposed(),Object(ut.a)(this,e)};var st=n(484);Object(a.d)().prototype.stridedSlice=function(e,t,n,r,a,i,o,u){return this.throwIfDisposed(),Object(st.a)(this,e,t,n,r,a,i,o,u)};var ct=n(34);Object(a.d)().prototype.sub=function(e){return this.throwIfDisposed(),Object(ct.a)(this,e)};var lt=n(38);Object(a.d)().prototype.sum=function(e,t){return this.throwIfDisposed(),Object(lt.a)(this,e,t)};var ft=n(485);Object(a.d)().prototype.tan=function(){return this.throwIfDisposed(),Object(ft.a)(this)};var dt=n(273);Object(a.d)().prototype.tanh=function(){return this.throwIfDisposed(),Object(dt.a)(this)};var ht=n(155);Object(a.d)().prototype.tile=function(e){return this.throwIfDisposed(),Object(ht.a)(this,e)},Object(a.d)().prototype.toBool=function(){return this.throwIfDisposed(),Object(p.a)(this,"bool")},Object(a.d)().prototype.toFloat=function(){return this.throwIfDisposed(),Object(p.a)(this,"float32")},Object(a.d)().prototype.toInt=function(){return this.throwIfDisposed(),Object(p.a)(this,"int32")};var pt=n(345);Object(a.d)().prototype.topk=function(e,t){return this.throwIfDisposed(),Object(pt.a)(this,e,t)};var vt=n(92);Object(a.d)().prototype.transpose=function(e){return this.throwIfDisposed(),Object(vt.a)(this,e)};var mt=n(346);Object(a.d)().prototype.unique=function(e){return this.throwIfDisposed(),Object(mt.a)(this,e)};var gt=n(237);Object(a.d)().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),Object(gt.a)(this,e,t)};var bt=n(152);Object(a.d)().prototype.unstack=function(e){return this.throwIfDisposed(),Object(bt.a)(this,e)};var yt=n(75);Object(a.d)().prototype.where=function(e,t){return this.throwIfDisposed(),Object(yt.a)(e,this,t)};var xt=n(40);Object(a.d)().prototype.zerosLike=function(){return this.throwIfDisposed(),Object(xt.a)(this)}},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,a,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(a=r;0!==a--;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=r;0!==a--;)if(!Object.prototype.hasOwnProperty.call(n,i[a]))return!1;for(a=r;0!==a--;){var o=i[a];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isvalidColorString=t.red=t.getContrastingColor=t.isValidHex=t.toState=t.simpleCheckForValidColor=void 0;var r=i(n(916)),a=i(n(918));function i(e){return e&&e.__esModule?e:{default:e}}t.simpleCheckForValidColor=function(e){var t=0,n=0;return(0,r.default)(["r","g","b","a","h","s","l","v"],(function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e};var o=t.toState=function(e,t){var n=e.hex?(0,a.default)(e.hex):(0,a.default)(e),r=n.toHsl(),i=n.toHsv(),o=n.toRgb(),u=n.toHex();return 0===r.s&&(r.h=t||0,i.h=t||0),{hsl:r,hex:"000000"===u&&0===o.a?"transparent":"#"+u,rgb:o,hsv:i,oldHue:e.h||t||r.h,source:e.source}};t.isValidHex=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,a.default)(e).isValid()},t.getContrastingColor=function(e){if(!e)return"#fff";var t=o(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}},t.isvalidColorString=function(e,t){var n=e.replace("\xb0","");return(0,a.default)(t+" ("+n+")")._ok}},function(e,t,n){"use strict";var r,a,i;a=[],void 0===(i="function"===typeof(r=function(){function e(){return!0}function t(){return!1}function n(){}function r(){var a=[{name:"number",test:function(e){return"number"===typeof e}},{name:"string",test:function(e){return"string"===typeof e}},{name:"boolean",test:function(e){return"boolean"===typeof e}},{name:"Function",test:function(e){return"function"===typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"===typeof e&&null!==e&&e.constructor===Object}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],i={name:"any",test:e},o=[],u=[],s={types:a,conversions:u,ignore:o};function c(e){var t=$(s.types,(function(t){return t.name===e}));if(t)return t;if("any"===e)return i;var n=$(s.types,(function(t){return t.name.toLowerCase()===e.toLowerCase()}));throw new TypeError('Unknown type "'+e+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function l(e){return e===i?999:s.types.indexOf(e)}function f(e){var t=$(s.types,(function(t){return t.test(e)}));if(t)return t.name;throw new TypeError("Value has unknown type. Value: "+e)}function d(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var n;if("string"===typeof t){n=t.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");n=t}var a=n.join(","),i=e.signatures[a];if(i)return i;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+n.join(", ")+"))")}function h(e,t){var n=f(e);if(t===n)return e;for(var r=0;r<s.conversions.length;r++){var a=s.conversions[r];if(a.from===n&&a.to===t)return a.convert(e)}throw new Error("Cannot convert from "+n+" to "+t)}function p(e){return e.map((function(e){var t=e.types.map(O);return(e.restParam?"...":"")+t.join("|")})).join(",")}function v(e,t){var n=0===e.indexOf("..."),r=(n?e.length>3?e.slice(3):"any":e).split("|").map(z).filter(L).filter(B),a=N(t,r),i=r.map((function(e){var t=c(e);return{name:e,typeIndex:l(t),test:t.test,conversion:null,conversionIndex:-1}})),o=a.map((function(e){var n=c(e.from);return{name:e.from,typeIndex:l(n),test:n.test,conversion:e,conversionIndex:t.indexOf(e)}}));return{types:i.concat(o),restParam:n}}function m(e,t,n){var r=[];return""!==e.trim()&&(r=e.split(",").map(z).map((function(e,t,r){var a=v(e,n);if(a.restParam&&t!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+e+'": only allowed for the last parameter');return a}))),r.some(W)?null:{params:r,fn:t}}function g(e){var t=q(e);return!!t&&t.restParam}function b(e){return e.types.some((function(e){return null!=e.conversion}))}function y(t){if(t&&0!==t.types.length){if(1===t.types.length)return c(t.types[0].name).test;if(2===t.types.length){var n=c(t.types[0].name).test,r=c(t.types[1].name).test;return function(e){return n(e)||r(e)}}var a=t.types.map((function(e){return c(e.name).test}));return function(e){for(var t=0;t<a.length;t++)if(a[t](e))return!0;return!1}}return e}function x(e){var t,n,r;if(g(e)){var a=(t=V(e).map(y)).length,i=y(q(e)),o=function(e){for(var t=a;t<e.length;t++)if(!i(e[t]))return!1;return!0};return function(e){for(var n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return o(e)&&e.length>=a+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(n=y(e[0]),function(e){return n(e[0])&&1===e.length}):2===e.length?(n=y(e[0]),r=y(e[1]),function(e){return n(e[0])&&r(e[1])&&2===e.length}):(t=e.map(y),function(e){for(var n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return e.length===t.length})}function _(e,t){return t<e.params.length?e.params[t]:g(e.params)?q(e.params):null}function w(e,t,n){var r=_(e,t);return(r?n?r.types.filter(k):r.types:[]).map(O)}function O(e){return e.name}function k(e){return null===e.conversion||void 0===e.conversion}function j(e,t){var n=X(Y(e,(function(e){return w(e,t,!1)})));return-1!==n.indexOf("any")?["any"]:n}function E(e,t,n){var r,a,i,o=e||"unnamed",u=n;for(i=0;i<t.length;i++){var s=u.filter((function(e){var n=y(_(e,i));return(i<e.params.length||g(e.params))&&n(t[i])}));if(0===s.length){if((a=j(u,i)).length>0){var c=f(t[i]);return(r=new TypeError("Unexpected type of argument in function "+o+" (expected: "+a.join(" or ")+", actual: "+c+", index: "+i+")")).data={category:"wrongType",fn:o,index:i,actual:c,expected:a},r}}else u=s}var l=u.map((function(e){return g(e.params)?1/0:e.params.length}));if(t.length<Math.min.apply(null,l))return a=j(u,i),(r=new TypeError("Too few arguments in function "+o+" (expected: "+a.join(" or ")+", index: "+t.length+")")).data={category:"tooFewArgs",fn:o,index:t.length,expected:a},r;var d=Math.max.apply(null,l);return t.length>d?((r=new TypeError("Too many arguments in function "+o+" (expected: "+d+", actual: "+t.length+")")).data={category:"tooManyArgs",fn:o,index:t.length,expectedLength:d},r):((r=new TypeError('Arguments of type "'+t.join(", ")+'" do not match any of the defined signatures of function '+o+".")).data={category:"mismatch",actual:t.map(f)},r)}function C(e){for(var t=999,n=0;n<e.types.length;n++)k(e.types[n])&&(t=Math.min(t,e.types[n].typeIndex));return t}function A(e){for(var t=999,n=0;n<e.types.length;n++)k(e.types[n])||(t=Math.min(t,e.types[n].conversionIndex));return t}function S(e,t){var n;return 0!==(n=e.restParam-t.restParam)||0!==(n=b(e)-b(t))||0!==(n=C(e)-C(t))?n:A(e)-A(t)}function D(e,t){var n,r,a=Math.min(e.params.length,t.params.length);if(0!==(r=e.params.some(b)-t.params.some(b)))return r;for(n=0;n<a;n++)if(0!==(r=b(e.params[n])-b(t.params[n])))return r;for(n=0;n<a;n++)if(0!==(r=S(e.params[n],t.params[n])))return r;return e.params.length-t.params.length}function N(e,t){var n={};return e.forEach((function(e){-1!==t.indexOf(e.from)||-1===t.indexOf(e.to)||n[e.from]||(n[e.from]=e)})),Object.keys(n).map((function(e){return n[e]}))}function F(e,t){var n=t;if(e.some(b)){var r=g(e),a=e.map(T);n=function(){for(var e=[],n=r?arguments.length-1:arguments.length,i=0;i<n;i++)e[i]=a[i](arguments[i]);return r&&(e[n]=arguments[n].map(a[n])),t.apply(this,e)}}var i=n;if(g(e)){var o=e.length-1;i=function(){return n.apply(this,H(arguments,0,o).concat([H(arguments,o)]))}}return i}function T(e){var t,n,r,a,i=[],o=[];switch(e.types.forEach((function(e){e.conversion&&(i.push(c(e.conversion.from).test),o.push(e.conversion.convert))})),o.length){case 0:return function(e){return e};case 1:return t=i[0],r=o[0],function(e){return t(e)?r(e):e};case 2:return t=i[0],n=i[1],r=o[0],a=o[1],function(e){return t(e)?r(e):n(e)?a(e):e};default:return function(e){for(var t=0;t<o.length;t++)if(i[t](e))return o[t](e);return e}}}function M(e){var t={};return e.forEach((function(e){e.params.some(b)||I(e.params,!0).forEach((function(n){t[p(n)]=e.fn}))})),t}function I(e,t){function n(e,r,a){if(r<e.length){var i,o=e[r],u=t?o.types.filter(k):o.types;if(o.restParam){var s=u.filter(k);i=s.length<u.length?[s,u]:[u]}else i=u.map((function(e){return[e]}));return Y(i,(function(t){return n(e,r+1,a.concat([t]))}))}return[a.map((function(t,n){return{types:t,restParam:n===e.length-1&&g(e)}}))]}return n(e,0,[])}function R(e,t){for(var n=Math.max(e.params.length,t.params.length),r=0;r<n;r++)if(!K(w(e,r,!0),w(t,r,!0)))return!1;var a=e.params.length,i=t.params.length,o=g(e.params),u=g(t.params);return o?u?a===i:i>=a:u?a>=i:a===i}function P(e,r){if(0===Object.keys(r).length)throw new SyntaxError("No signatures provided");var a=[];Object.keys(r).map((function(e){return m(e,r[e],s.conversions)})).filter(U).forEach((function(e){var t=$(a,(function(t){return R(t,e)}));if(t)throw new TypeError('Conflicting signatures "'+p(t.params)+'" and "'+p(e.params)+'".');a.push(e)}));var i=Y(a,(function(e){return(e?I(e.params,!1):[]).map((function(t){return{params:t,fn:e.fn}}))})).filter(U);i.sort(D);var o=i[0]&&i[0].params.length<=2&&!g(i[0].params),u=i[1]&&i[1].params.length<=2&&!g(i[1].params),c=i[2]&&i[2].params.length<=2&&!g(i[2].params),l=i[3]&&i[3].params.length<=2&&!g(i[3].params),f=i[4]&&i[4].params.length<=2&&!g(i[4].params),d=i[5]&&i[5].params.length<=2&&!g(i[5].params),h=o&&u&&c&&l&&f&&d,v=i.map((function(e){return x(e.params)})),b=o?y(i[0].params[0]):t,_=u?y(i[1].params[0]):t,w=c?y(i[2].params[0]):t,O=l?y(i[3].params[0]):t,k=f?y(i[4].params[0]):t,j=d?y(i[5].params[0]):t,C=o?y(i[0].params[1]):t,A=u?y(i[1].params[1]):t,S=c?y(i[2].params[1]):t,N=l?y(i[3].params[1]):t,T=f?y(i[4].params[1]):t,P=d?y(i[5].params[1]):t,B=i.map((function(e){return F(e.params,e.fn)})),z=o?B[0]:n,L=u?B[1]:n,W=c?B[2]:n,V=l?B[3]:n,q=f?B[4]:n,H=d?B[5]:n,G=o?i[0].params.length:-1,K=u?i[1].params.length:-1,X=c?i[2].params.length:-1,J=l?i[3].params.length:-1,Q=f?i[4].params.length:-1,Z=d?i[5].params.length:-1,ee=h?6:0,te=i.length,ne=function(){for(var t=ee;t<te;t++)if(v[t](arguments))return B[t].apply(this,arguments);throw E(e,arguments,i)},re=function e(t,n){return arguments.length===G&&b(t)&&C(n)?z.apply(e,arguments):arguments.length===K&&_(t)&&A(n)?L.apply(e,arguments):arguments.length===X&&w(t)&&S(n)?W.apply(e,arguments):arguments.length===J&&O(t)&&N(n)?V.apply(e,arguments):arguments.length===Q&&k(t)&&T(n)?q.apply(e,arguments):arguments.length===Z&&j(t)&&P(n)?H.apply(e,arguments):ne.apply(e,arguments)};try{Object.defineProperty(re,"name",{value:e})}catch(ae){}return re.signatures=M(i),re}function B(e){return-1===s.ignore.indexOf(e)}function z(e){return e.trim()}function L(e){return!!e}function U(e){return null!==e}function W(e){return 0===e.types.length}function V(e){return e.slice(0,e.length-1)}function q(e){return e[e.length-1]}function H(e,t,n){return Array.prototype.slice.call(e,t,n)}function G(e,t){return-1!==e.indexOf(t)}function K(e,t){for(var n=0;n<e.length;n++)if(G(t,e[n]))return!0;return!1}function $(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function X(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return Object.keys(t)}function Y(e,t){return Array.prototype.concat.apply([],e.map(t))}function J(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(("object"===typeof r.signatures||"string"===typeof r.signature)&&""!==r.name)if(""===t)t=r.name;else if(t!==r.name){var a=new Error("Function names do not match (expected: "+t+", actual: "+r.name+")");throw a.data={actual:r.name,expected:t},a}}return t}function Q(e){var t,n={};function r(e,r){if(n.hasOwnProperty(e)&&r!==n[e])throw(t=new Error('Signature "'+e+'" is defined twice')).data={signature:e},t}for(var a=0;a<e.length;a++){var i=e[a];if("object"===typeof i.signatures)for(var o in i.signatures)i.signatures.hasOwnProperty(o)&&(r(o,i.signatures[o]),n[o]=i.signatures[o]);else{if("string"!==typeof i.signature)throw(t=new TypeError("Function is no typed-function (index: "+a+")")).data={index:a},t;r(i.signature,i),n[i.signature]=i}}return n}return(s=P("typed",{"string, Object":P,Object:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return P(J(t),e)},"...Function":function(e){return P(J(e),Q(e))},"string, ...Function":function(e,t){return P(e,Q(t))}})).create=r,s.types=a,s.conversions=u,s.ignore=o,s.convert=h,s.find=d,s.addType=function(e,t){if(!e||"string"!==typeof e.name||"function"!==typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==t)for(var n=0;n<s.types.length;n++)if("Object"===s.types[n].name)return void s.types.splice(n,0,e);s.types.push(e)},s.addConversion=function(e){if(!e||"string"!==typeof e.from||"string"!==typeof e.to||"function"!==typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");s.conversions.push(e)},s}return r()})?r.apply(t,a):r)||(e.exports=i)},function(e,t,n){"use strict";(function(t){var n=256,r=[],a="undefined"===typeof t?window:t,i=Math.pow(n,6),o=Math.pow(2,52),u=2*o,s=255,c=Math.random;function l(e){var t,r=e.length,a=this,i=0,o=a.i=a.j=0,u=a.S=[];for(r||(e=[r++]);i<n;)u[i]=i++;for(i=0;i<n;i++)u[i]=u[o=s&o+e[i%r]+(t=u[i])],u[o]=t;(a.g=function(e){for(var t,r=0,i=a.i,o=a.j,u=a.S;e--;)t=u[i=s&i+1],r=r*n+u[s&(u[i]=u[o=s&o+t])+(u[o]=t)];return a.i=i,a.j=o,r})(n)}function f(e,t){var n,r=[],a=(typeof e)[0];if(t&&"o"==a)for(n in e)try{r.push(f(e[n],t-1))}catch(i){}return r.length?r:"s"==a?e:e+"\0"}function d(e,t){for(var n,r=e+"",a=0;a<r.length;)t[s&a]=s&(n^=19*t[s&a])+r.charCodeAt(a++);return p(t)}function h(e){try{return a.crypto.getRandomValues(e=new Uint8Array(n)),p(e)}catch(t){return[+new Date,a,a.navigator&&a.navigator.plugins,a.screen,p(r)]}}function p(e){return String.fromCharCode.apply(0,e)}e.exports=function(t,a){if(a&&!0===a.global)return a.global=!1,Math.random=e.exports(t,a),a.global=!0,Math.random;var s=a&&a.entropy||!1,c=[],v=(d(f(s?[t,p(r)]:0 in arguments?t:h(),3),c),new l(c));return d(p(v.S),r),function(){for(var e=v.g(6),t=i,r=0;e<o;)e=(e+r)*n,t*=n,r=v.g(1);for(;e>=u;)e/=2,t/=2,r>>>=1;return(e+r)/t}},e.exports.resetGlobal=function(){Math.random=c},d(Math.random(),r)}).call(this,n(106))},function(e,t,n){var r=n(212);e.exports={re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n(306).SEMVER_SPEC_VERSION,SemVer:n(98),compareIdentifiers:n(414).compareIdentifiers,rcompareIdentifiers:n(414).rcompareIdentifiers,parse:n(213),valid:n(798),clean:n(799),inc:n(800),diff:n(801),major:n(802),minor:n(803),patch:n(804),prerelease:n(805),compare:n(130),rcompare:n(806),compareLoose:n(807),compareBuild:n(416),sort:n(808),rsort:n(809),gt:n(309),lt:n(417),eq:n(415),neq:n(538),gte:n(418),lte:n(419),cmp:n(539),coerce:n(810),Comparator:n(310),Range:n(131),satisfies:n(311),toComparators:n(814),maxSatisfying:n(815),minSatisfying:n(816),minVersion:n(817),validRange:n(818),outside:n(420),gtr:n(819),ltr:n(820),intersects:n(821),simplifyRange:n(822),subset:n(823)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(145),a=n(256),i=n(144),o=n(255),u=n(257),s=n(258);function c(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function l(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function f(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function d(e){var t=e.dateTime,n=e.date,u=e.time,s=e.periods,d=e.days,p=e.shortDays,v=e.months,m=e.shortMonths,g=y(s),b=x(s),Q=y(d),be=x(d),De=y(p),Ne=x(p),Fe=y(v),Te=x(v),Me=y(m),Ie=x(m),Re={a:function(e){return p[e.getDay()]},A:function(e){return d[e.getDay()]},b:function(e){return m[e.getMonth()]},B:function(e){return v[e.getMonth()]},c:null,d:U,e:U,f:G,g:re,G:ie,H:W,I:V,j:q,L:H,m:K,M:$,p:function(e){return s[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Ae,s:Se,S:X,u:Y,U:J,V:Z,w:ee,W:te,x:null,X:null,y:ne,Y:ae,Z:oe,"%":Ce},Pe={a:function(e){return p[e.getUTCDay()]},A:function(e){return d[e.getUTCDay()]},b:function(e){return m[e.getUTCMonth()]},B:function(e){return v[e.getUTCMonth()]},c:null,d:ue,e:ue,f:de,g:Oe,G:je,H:se,I:ce,j:le,L:fe,m:he,M:pe,p:function(e){return s[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Ae,s:Se,S:ve,u:me,U:ge,V:ye,w:xe,W:_e,x:null,X:null,y:we,Y:ke,Z:Ee,"%":Ce},Be={a:function(e,t,n){var r=De.exec(t.slice(n));return r?(e.w=Ne.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=Q.exec(t.slice(n));return r?(e.w=be.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=Me.exec(t.slice(n));return r?(e.m=Ie.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=Fe.exec(t.slice(n));return r?(e.m=Te.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return Ue(e,t,n,r)},d:N,e:N,f:P,g:C,G:E,H:T,I:T,j:F,L:R,m:D,M:M,p:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.p=b.get(r[0].toLowerCase()),n+r[0].length):-1},q:S,Q:z,s:L,S:I,u:w,U:O,V:k,w:_,W:j,x:function(e,t,r){return Ue(e,n,t,r)},X:function(e,t,n){return Ue(e,u,t,n)},y:C,Y:E,Z:A,"%":B};function ze(e,t){return function(n){var r,a,i,o=[],u=-1,s=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===e.charCodeAt(u)&&(o.push(e.slice(s,u)),null!=(a=h[r=e.charAt(++u)])?r=e.charAt(++u):a="e"===r?" ":"0",(i=t[r])&&(r=i(n,a)),o.push(r),s=u+1);return o.push(e.slice(s,u)),o.join("")}}function Le(e,t){return function(n){var u,s,d=f(1900,void 0,1);if(Ue(d,e,n+="",0)!=n.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(1e3*d.s+("L"in d?d.L:0));if(t&&!("Z"in d)&&(d.Z=0),"p"in d&&(d.H=d.H%12+12*d.p),void 0===d.m&&(d.m="q"in d?d.q:0),"V"in d){if(d.V<1||d.V>53)return null;"w"in d||(d.w=1),"Z"in d?(s=(u=l(f(d.y,0,1))).getUTCDay(),u=s>4||0===s?r.a.ceil(u):Object(r.a)(u),u=a.a.offset(u,7*(d.V-1)),d.y=u.getUTCFullYear(),d.m=u.getUTCMonth(),d.d=u.getUTCDate()+(d.w+6)%7):(s=(u=c(f(d.y,0,1))).getDay(),u=s>4||0===s?i.a.ceil(u):Object(i.a)(u),u=o.a.offset(u,7*(d.V-1)),d.y=u.getFullYear(),d.m=u.getMonth(),d.d=u.getDate()+(d.w+6)%7)}else("W"in d||"U"in d)&&("w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),s="Z"in d?l(f(d.y,0,1)).getUTCDay():c(f(d.y,0,1)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(s+5)%7:d.w+7*d.U-(s+6)%7);return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,l(d)):c(d)}}function Ue(e,t,n,r){for(var a,i,o=0,u=t.length,s=n.length;o<u;){if(r>=s)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(i=Be[a in h?t.charAt(o++):a])||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return Re.x=ze(n,Re),Re.X=ze(u,Re),Re.c=ze(t,Re),Pe.x=ze(n,Pe),Pe.X=ze(u,Pe),Pe.c=ze(t,Pe),{format:function(e){var t=ze(e+="",Re);return t.toString=function(){return e},t},parse:function(e){var t=Le(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=ze(e+="",Pe);return t.toString=function(){return e},t},utcParse:function(e){var t=Le(e+="",!0);return t.toString=function(){return e},t}}}var h={"-":"",_:" ",0:"0"},p=/^\s*\d+/,v=/^%/,m=/[\\^$*+?|[\]().{}]/g;function g(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function b(e){return e.replace(m,"\\$&")}function y(e){return new RegExp("^(?:"+e.map(b).join("|")+")","i")}function x(e){return new Map(e.map((function(e,t){return[e.toLowerCase(),t]})))}function _(e,t,n){var r=p.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function w(e,t,n){var r=p.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function O(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function k(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function j(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function E(e,t,n){var r=p.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function C(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function A(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function S(e,t,n){var r=p.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function D(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function N(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function F(e,t,n){var r=p.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function T(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function M(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function I(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function R(e,t,n){var r=p.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function P(e,t,n){var r=p.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function B(e,t,n){var r=v.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function z(e,t,n){var r=p.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function L(e,t,n){var r=p.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function U(e,t){return g(e.getDate(),t,2)}function W(e,t){return g(e.getHours(),t,2)}function V(e,t){return g(e.getHours()%12||12,t,2)}function q(e,t){return g(1+o.a.count(Object(u.a)(e),e),t,3)}function H(e,t){return g(e.getMilliseconds(),t,3)}function G(e,t){return H(e,t)+"000"}function K(e,t){return g(e.getMonth()+1,t,2)}function $(e,t){return g(e.getMinutes(),t,2)}function X(e,t){return g(e.getSeconds(),t,2)}function Y(e){var t=e.getDay();return 0===t?7:t}function J(e,t){return g(i.b.count(Object(u.a)(e)-1,e),t,2)}function Q(e){var t=e.getDay();return t>=4||0===t?Object(i.c)(e):i.c.ceil(e)}function Z(e,t){return e=Q(e),g(i.c.count(Object(u.a)(e),e)+(4===Object(u.a)(e).getDay()),t,2)}function ee(e){return e.getDay()}function te(e,t){return g(i.a.count(Object(u.a)(e)-1,e),t,2)}function ne(e,t){return g(e.getFullYear()%100,t,2)}function re(e,t){return g((e=Q(e)).getFullYear()%100,t,2)}function ae(e,t){return g(e.getFullYear()%1e4,t,4)}function ie(e,t){var n=e.getDay();return g((e=n>=4||0===n?Object(i.c)(e):i.c.ceil(e)).getFullYear()%1e4,t,4)}function oe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+g(t/60|0,"0",2)+g(t%60,"0",2)}function ue(e,t){return g(e.getUTCDate(),t,2)}function se(e,t){return g(e.getUTCHours(),t,2)}function ce(e,t){return g(e.getUTCHours()%12||12,t,2)}function le(e,t){return g(1+a.a.count(Object(s.a)(e),e),t,3)}function fe(e,t){return g(e.getUTCMilliseconds(),t,3)}function de(e,t){return fe(e,t)+"000"}function he(e,t){return g(e.getUTCMonth()+1,t,2)}function pe(e,t){return g(e.getUTCMinutes(),t,2)}function ve(e,t){return g(e.getUTCSeconds(),t,2)}function me(e){var t=e.getUTCDay();return 0===t?7:t}function ge(e,t){return g(r.b.count(Object(s.a)(e)-1,e),t,2)}function be(e){var t=e.getUTCDay();return t>=4||0===t?Object(r.c)(e):r.c.ceil(e)}function ye(e,t){return e=be(e),g(r.c.count(Object(s.a)(e),e)+(4===Object(s.a)(e).getUTCDay()),t,2)}function xe(e){return e.getUTCDay()}function _e(e,t){return g(r.a.count(Object(s.a)(e)-1,e),t,2)}function we(e,t){return g(e.getUTCFullYear()%100,t,2)}function Oe(e,t){return g((e=be(e)).getUTCFullYear()%100,t,2)}function ke(e,t){return g(e.getUTCFullYear()%1e4,t,4)}function je(e,t){var n=e.getUTCDay();return g((e=n>=4||0===n?Object(r.c)(e):r.c.ceil(e)).getUTCFullYear()%1e4,t,4)}function Ee(){return"+0000"}function Ce(){return"%"}function Ae(e){return+e}function Se(e){return Math.floor(+e/1e3)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t[0],version:t[1]}}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){(function(e,n){var r="__lodash_hash_undefined__",a=9007199254740991,i="[object Arguments]",o="[object Boolean]",u="[object Date]",s="[object Function]",c="[object GeneratorFunction]",l="[object Map]",f="[object Number]",d="[object Object]",h="[object Promise]",p="[object RegExp]",v="[object Set]",m="[object String]",g="[object Symbol]",b="[object WeakMap]",y="[object ArrayBuffer]",x="[object DataView]",_="[object Float32Array]",w="[object Float64Array]",O="[object Int8Array]",k="[object Int16Array]",j="[object Int32Array]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",A="[object Uint16Array]",S="[object Uint32Array]",D=/\w*$/,N=/^\[object .+?Constructor\]$/,F=/^(?:0|[1-9]\d*)$/,T={};T[i]=T["[object Array]"]=T[y]=T[x]=T[o]=T[u]=T[_]=T[w]=T[O]=T[k]=T[j]=T[l]=T[f]=T[d]=T[p]=T[v]=T[m]=T[g]=T[E]=T[C]=T[A]=T[S]=!0,T["[object Error]"]=T[s]=T[b]=!1;var M="object"==typeof e&&e&&e.Object===Object&&e,I="object"==typeof self&&self&&self.Object===Object&&self,R=M||I||Function("return this")(),P=t&&!t.nodeType&&t,B=P&&"object"==typeof n&&n&&!n.nodeType&&n,z=B&&B.exports===P;function L(e,t){return e.set(t[0],t[1]),e}function U(e,t){return e.add(t),e}function W(e,t,n,r){var a=-1,i=e?e.length:0;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}function V(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function q(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function H(e,t){return function(n){return e(t(n))}}function G(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var K=Array.prototype,$=Function.prototype,X=Object.prototype,Y=R["__core-js_shared__"],J=function(){var e=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Q=$.toString,Z=X.hasOwnProperty,ee=X.toString,te=RegExp("^"+Q.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=z?R.Buffer:void 0,re=R.Symbol,ae=R.Uint8Array,ie=H(Object.getPrototypeOf,Object),oe=Object.create,ue=X.propertyIsEnumerable,se=K.splice,ce=Object.getOwnPropertySymbols,le=ne?ne.isBuffer:void 0,fe=H(Object.keys,Object),de=Pe(R,"DataView"),he=Pe(R,"Map"),pe=Pe(R,"Promise"),ve=Pe(R,"Set"),me=Pe(R,"WeakMap"),ge=Pe(Object,"create"),be=We(de),ye=We(he),xe=We(pe),_e=We(ve),we=We(me),Oe=re?re.prototype:void 0,ke=Oe?Oe.valueOf:void 0;function je(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ee(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){this.__data__=new Ee(e)}function Se(e,t){var n=qe(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&He(e)}(e)&&Z.call(e,"callee")&&(!ue.call(e,"callee")||ee.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,a=!!r;for(var o in e)!t&&!Z.call(e,o)||a&&("length"==o||Le(o,r))||n.push(o);return n}function De(e,t,n){var r=e[t];Z.call(e,t)&&Ve(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Ne(e,t){for(var n=e.length;n--;)if(Ve(e[n][0],t))return n;return-1}function Fe(e,t,n,r,a,h,b){var N;if(r&&(N=h?r(e,a,h,b):r(e)),void 0!==N)return N;if(!$e(e))return e;var F=qe(e);if(F){if(N=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&Z.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,N)}else{var M=ze(e),I=M==s||M==c;if(Ge(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(M==d||M==i||I&&!h){if(V(e))return h?e:{};if(N=function(e){return"function"!=typeof e.constructor||Ue(e)?{}:(t=ie(e),$e(t)?oe(t):{});var t}(I?{}:e),!t)return function(e,t){return Ie(e,Be(e),t)}(e,function(e,t){return e&&Ie(t,Xe(t),e)}(N,e))}else{if(!T[M])return h?e:{};N=function(e,t,n,r){var a=e.constructor;switch(t){case y:return Me(e);case o:case u:return new a(+e);case x:return function(e,t){var n=t?Me(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case _:case w:case O:case k:case j:case E:case C:case A:case S:return function(e,t){var n=t?Me(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case l:return function(e,t,n){return W(t?n(q(e),!0):q(e),L,new e.constructor)}(e,r,n);case f:case m:return new a(e);case p:return function(e){var t=new e.constructor(e.source,D.exec(e));return t.lastIndex=e.lastIndex,t}(e);case v:return function(e,t,n){return W(t?n(G(e),!0):G(e),U,new e.constructor)}(e,r,n);case g:return i=e,ke?Object(ke.call(i)):{}}var i}(e,M,Fe,t)}}b||(b=new Ae);var R=b.get(e);if(R)return R;if(b.set(e,N),!F)var P=n?function(e){return function(e,t,n){var r=t(e);return qe(e)?r:function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}(r,n(e))}(e,Xe,Be)}(e):Xe(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(P||e,(function(a,i){P&&(a=e[i=a]),De(N,i,Fe(a,t,n,r,i,e,b))})),N}function Te(e){return!(!$e(e)||(t=e,J&&J in t))&&(Ke(e)||V(e)?te:N).test(We(e));var t}function Me(e){var t=new e.constructor(e.byteLength);return new ae(t).set(new ae(e)),t}function Ie(e,t,n,r){n||(n={});for(var a=-1,i=t.length;++a<i;){var o=t[a],u=r?r(n[o],e[o],o,n,e):void 0;De(n,o,void 0===u?e[o]:u)}return n}function Re(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Pe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Te(n)?n:void 0}je.prototype.clear=function(){this.__data__=ge?ge(null):{}},je.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},je.prototype.get=function(e){var t=this.__data__;if(ge){var n=t[e];return n===r?void 0:n}return Z.call(t,e)?t[e]:void 0},je.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:Z.call(t,e)},je.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?r:t,this},Ee.prototype.clear=function(){this.__data__=[]},Ee.prototype.delete=function(e){var t=this.__data__,n=Ne(t,e);return!(n<0)&&(n==t.length-1?t.pop():se.call(t,n,1),!0)},Ee.prototype.get=function(e){var t=this.__data__,n=Ne(t,e);return n<0?void 0:t[n][1]},Ee.prototype.has=function(e){return Ne(this.__data__,e)>-1},Ee.prototype.set=function(e,t){var n=this.__data__,r=Ne(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ce.prototype.clear=function(){this.__data__={hash:new je,map:new(he||Ee),string:new je}},Ce.prototype.delete=function(e){return Re(this,e).delete(e)},Ce.prototype.get=function(e){return Re(this,e).get(e)},Ce.prototype.has=function(e){return Re(this,e).has(e)},Ce.prototype.set=function(e,t){return Re(this,e).set(e,t),this},Ae.prototype.clear=function(){this.__data__=new Ee},Ae.prototype.delete=function(e){return this.__data__.delete(e)},Ae.prototype.get=function(e){return this.__data__.get(e)},Ae.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ee){var r=n.__data__;if(!he||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ce(r)}return n.set(e,t),this};var Be=ce?H(ce,Object):function(){return[]},ze=function(e){return ee.call(e)};function Le(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||F.test(e))&&e>-1&&e%1==0&&e<t}function Ue(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X)}function We(e){if(null!=e){try{return Q.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ve(e,t){return e===t||e!==e&&t!==t}(de&&ze(new de(new ArrayBuffer(1)))!=x||he&&ze(new he)!=l||pe&&ze(pe.resolve())!=h||ve&&ze(new ve)!=v||me&&ze(new me)!=b)&&(ze=function(e){var t=ee.call(e),n=t==d?e.constructor:void 0,r=n?We(n):void 0;if(r)switch(r){case be:return x;case ye:return l;case xe:return h;case _e:return v;case we:return b}return t});var qe=Array.isArray;function He(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}(e.length)&&!Ke(e)}var Ge=le||function(){return!1};function Ke(e){var t=$e(e)?ee.call(e):"";return t==s||t==c}function $e(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Xe(e){return He(e)?Se(e):function(e){if(!Ue(e))return fe(e);var t=[];for(var n in Object(e))Z.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}n.exports=function(e){return Fe(e,!0,!0)}}).call(this,n(106),n(118)(e))},function(e,t){e.exports=function(e){return void 0===e}},function(e,t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,o=parseInt,u=Object.prototype.toString;function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var c=a.test(e);return c||i.test(e)?o(e.slice(2),c?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=c(n))===n?n:0),void 0!==t&&(t=(t=c(t))===t?t:0),function(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}(c(e),t,n)}},function(e,t,n){"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(925)),i=r(n(926)),o=r(n(928)),u=r(n(929)),s=r(n(4)),c=r(n(109)),l=void 0,f=void 0,d=[],h=function(e){return"undefined"!==typeof window&&window.requestAnimationFrame(e)},p=function(e){return"undefined"!==typeof window&&window.cancelAnimationFrame(e)},v=void 0,m=function(){return Date.now()},g=void 0,b=void 0,y=function(e,t){return f={fn:e,transform:t}},x=function(e){return d=e},_=function(e){return l=e},w=function(e){return v=e},O=function(e){return g=e},k=function(e){return b=e},j=Object.freeze({get bugfixes(){return l},get applyAnimatedValues(){return f},get colorNames(){return d},get requestFrame(){return h},get cancelFrame(){return p},get interpolation(){return v},get now(){return m},get defaultElement(){return g},get createAnimatedStyle(){return b},injectApplyAnimatedValues:y,injectColorNames:x,injectBugfixes:_,injectInterpolation:w,injectFrame:function(e,t){var n;return h=(n=[e,t])[0],p=n[1],n},injectNow:function(e){return m=e},injectDefaultElement:O,injectCreateAnimatedStyle:k}),E=function(){function e(){}var t=e.prototype;return t.attach=function(){},t.detach=function(){},t.getValue=function(){},t.getAnimatedValue=function(){return this.getValue()},t.addChild=function(e){},t.removeChild=function(e){},t.getChildren=function(){return[]},e}(),C=function(e){return Object.keys(e).map((function(t){return e[t]}))},A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).children=[],t.getChildren=function(){return t.children},t.getPayload=function(e){return void 0===e&&(e=void 0),void 0!==e&&t.payload?t.payload[e]:t.payload||o(t)},t}i(t,e);var n=t.prototype;return n.addChild=function(e){0===this.children.length&&this.attach(),this.children.push(e)},n.removeChild=function(e){var t=this.children.indexOf(e);this.children.splice(t,1),0===this.children.length&&this.detach()},t}(E),S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).payload=[],t.getAnimatedValue=function(){return t.getValue()},t.attach=function(){return t.payload.forEach((function(e){return e instanceof E&&e.addChild(o(t))}))},t.detach=function(){return t.payload.forEach((function(e){return e instanceof E&&e.removeChild(o(t))}))},t}return i(t,e),t}(A),D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).payload={},t.getAnimatedValue=function(){return t.getValue(!0)},t.attach=function(){return C(t.payload).forEach((function(e){return e instanceof E&&e.addChild(o(t))}))},t.detach=function(){return C(t.payload).forEach((function(e){return e instanceof E&&e.removeChild(o(t))}))},t}return i(t,e),t.prototype.getValue=function(e){void 0===e&&(e=!1);var t={};for(var n in this.payload){var r=this.payload[n];(!e||r instanceof E)&&(t[n]=r instanceof E?r[e?"getAnimatedValue":"getValue"]():r)}return t},t}(A),N=function(e){function t(t){var n;return n=e.call(this)||this,!(t=t||{}).transform||t.transform instanceof E||(t=f.transform(t)),n.payload=t,n}return i(t,e),t}(D),F={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},T=function(){function e(){}return e.create=function(t,n,r){if("function"===typeof t)return t;if(v&&t.output&&"string"===typeof t.output[0])return v(t);if(Array.isArray(t))return e.create({range:t,output:n,extrapolate:r||"extend"});var a=t.output,i=t.range||[0,1],o=t.easing||function(e){return e},u="extend",s=t.map;void 0!==t.extrapolateLeft?u=t.extrapolateLeft:void 0!==t.extrapolate&&(u=t.extrapolate);var c="extend";return void 0!==t.extrapolateRight?c=t.extrapolateRight:void 0!==t.extrapolate&&(c=t.extrapolate),function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,i);return function(e,t,n,r,a,i,o,u,s){var c=s?s(e):e;if(c<t){if("identity"===o)return c;"clamp"===o&&(c=t)}if(c>n){if("identity"===u)return c;"clamp"===u&&(c=n)}if(r===a)return r;if(t===n)return e<=t?r:a;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=i(c),r===-1/0?c=-c:a===1/0?c+=r:c=c*(a-r)+r;return c}(e,i[t],i[t+1],a[t],a[t+1],o,u,c,s)}},e}();var M="[-+]?\\d*\\.?\\d+",I=M+"%";function R(){return"\\(\\s*("+Array.prototype.slice.call(arguments).join(")\\s*,\\s*(")+")\\s*\\)"}var P=new RegExp("rgb"+R(M,M,M)),B=new RegExp("rgba"+R(M,M,M,M)),z=new RegExp("hsl"+R(M,I,I)),L=new RegExp("hsla"+R(M,I,I,M)),U=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,W=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,V=/^#([0-9a-fA-F]{6})$/,q=/^#([0-9a-fA-F]{8})$/;function H(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function G(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,a=2*n-r,i=H(a,r,e+1/3),o=H(a,r,e),u=H(a,r,e-1/3);return Math.round(255*i)<<24|Math.round(255*o)<<16|Math.round(255*u)<<8}function K(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function $(e){return(parseFloat(e)%360+360)%360/360}function X(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function Y(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function J(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=V.exec(e))?parseInt(t[1]+"ff",16)>>>0:F.hasOwnProperty(e)?F[e]:(t=P.exec(e))?(K(t[1])<<24|K(t[2])<<16|K(t[3])<<8|255)>>>0:(t=B.exec(e))?(K(t[1])<<24|K(t[2])<<16|K(t[3])<<8|X(t[4]))>>>0:(t=U.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=q.exec(e))?parseInt(t[1],16)>>>0:(t=W.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=z.exec(e))?(255|G($(t[1]),Y(t[2]),Y(t[3])))>>>0:(t=L.exec(e))?(G($(t[1]),Y(t[2]),Y(t[3]))|X(t[4]))>>>0:null}(e);return null===t?e:"rgba("+((4278190080&(t=t||0))>>>24)+", "+((16711680&t)>>>16)+", "+((65280&t)>>>8)+", "+(255&t)/255+")"}var Q=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Z=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,ee=new RegExp("("+Object.keys(F).join("|")+")","g");var te=function(e){function t(n,r,a){var i;return(i=e.call(this)||this).getValue=function(){var e;return(e=i).calc.apply(e,i.payload.map((function(e){return e.getValue()})))},i.updateConfig=function(e,t){return i.calc=T.create(e,t)},i.interpolate=function(e,n){return new t(o(i),e,n)},i.payload=n instanceof S&&!n.updateConfig?n.payload:Array.isArray(n)?n:[n],i.calc=T.create(r,a),i}return i(t,e),t}(S);function ne(e,t){"function"===typeof e.update?t.add(e):e.getChildren().forEach((function(e){return ne(e,t)}))}var re=function(e){function t(t){var n;return(n=e.call(this)||this).setValue=function(e,t){void 0===t&&(t=!0),n.value=e,t&&n.flush()},n.getValue=function(){return n.value},n.updateStyles=function(){return ne(o(n),n.animatedStyles)},n.updateValue=function(e){return n.flush(n.value=e)},n.interpolate=function(e,t){return new te(o(n),e,t)},n.value=t,n.animatedStyles=new Set,n.done=!1,n.startPosition=t,n.lastPosition=t,n.lastVelocity=void 0,n.lastTime=void 0,n.controller=void 0,n}i(t,e);var n=t.prototype;return n.flush=function(){0===this.animatedStyles.size&&this.updateStyles(),this.animatedStyles.forEach((function(e){return e.update()}))},n.prepare=function(e){void 0===this.controller&&(this.controller=e),this.controller===e&&(this.startPosition=this.value,this.lastPosition=this.value,this.lastVelocity=e.isActive?this.lastVelocity:void 0,this.lastTime=e.isActive?this.lastTime:void 0,this.done=!1,this.animatedStyles.clear())},t}(A),ae=function(e){function t(t){var n;return(n=e.call(this)||this).setValue=function(e,t){void 0===t&&(t=!0),Array.isArray(e)?e.length===n.payload.length&&e.forEach((function(e,r){return n.payload[r].setValue(e,t)})):n.payload.forEach((function(r,a){return n.payload[a].setValue(e,t)}))},n.getValue=function(){return n.payload.map((function(e){return e.getValue()}))},n.interpolate=function(e,t){return new te(o(n),e,t)},n.payload=t.map((function(e){return new re(e)})),n}return i(t,e),t}(S);function ie(e,t){return void 0===e||null===e?t:e}function oe(e){return void 0!==e?Array.isArray(e)?e:[e]:[]}function ue(e,t){if(typeof e!==typeof t)return!1;if("string"===typeof e||"number"===typeof e)return e===t;var n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return void 0!==n||e===t}function se(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e?e.apply(void 0,n):e}function ce(e){return Object.keys(e).map((function(t){return e[t]}))}function le(e){var t=function(e){return e.to,e.from,e.config,e.native,e.onStart,e.onRest,e.onFrame,e.children,e.reset,e.reverse,e.force,e.immediate,e.impl,e.inject,e.delay,e.attach,e.destroyed,e.interpolateTo,e.autoStart,e.ref,a(e,["to","from","config","native","onStart","onRest","onFrame","children","reset","reverse","force","immediate","impl","inject","delay","attach","destroyed","interpolateTo","autoStart","ref"])}(e),n=Object.keys(e).reduce((function(n,r){var a;return void 0!==t[r]?n:u({},n,((a={})[r]=e[r],a))}),{});return u({to:t},n)}function fe(e,t){var n,r=t[0],a=t[1];return u({},e,((n={})[r]=new(Array.isArray(a)?ae:re)(a),n))}function de(e){var t=e.from,n=e.to,r=e.native,a=Object.entries(u({},t,n));return r?a.reduce(fe,{}):u({},t,n)}function he(e,t){return t&&("function"===typeof t?t(e):"object"===typeof t&&(t.current=e)),e}var pe=function(e){return"auto"===e};var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","Ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}ve=Object.keys(ve).reduce((function(e,t){return me.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),ve);var be={};k((function(e){return new N(e)})),O("div"),w((function(e){var t=e.output.map((function(e){return e.replace(Z,J)})).map((function(e){return e.replace(ee,J)})),n=t[0].match(Q).map((function(){return[]}));t.forEach((function(e){e.match(Q).forEach((function(e,t){return n[t].push(+e)}))}));var r=t[0].match(Q).map((function(t,r){return T.create(u({},e,{output:n[r]}))}));return function(e){var n=0;return t[0].replace(Q,(function(){return r[n++](e)})).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(function(e,t,n,r,a){return"rgba("+Math.round(t)+", "+Math.round(n)+", "+Math.round(r)+", "+a+")"}))}})),x(F),_((function(e,t){var n=e.from,r=e.to,a=e.children;if(ce(r).some(pe)||ce(n).some(pe)){var i=a(de(e));if(i){Array.isArray(i)&&(i={type:"div",props:{children:i}});var o=i.props.style;return s.createElement(i.type,u({key:i.key?i.key:void 0},i.props,{style:u({},o,{position:"absolute",visibility:"hidden"}),ref:function(a){if(a){var i,o,s=c.findDOMNode(a),l=getComputedStyle(s);if("border-box"===l.boxSizing)i=s.offsetWidth,o=s.offsetHeight;else{var f=parseFloat(l.paddingLeft||0)+parseFloat(l.paddingRight||0),d=parseFloat(l.paddingTop||0)+parseFloat(l.paddingBottom||0),h=parseFloat(l.borderLeftWidth||0)+parseFloat(l.borderRightWidth||0),p=parseFloat(l.borderTopWidth||0)+parseFloat(l.borderBottomWidth||0);i=s.offsetWidth-f-h,o=s.offsetHeight-d-p}var v=function(e,t){return function(n,r){var a,i=r[0],o=r[1];return u({},n,((a={})[i]="auto"===o?~i.indexOf("height")?t:e:o,a))}}(i,o);t(u({},e,{from:Object.entries(n).reduce(v,n),to:Object.entries(r).reduce(v,r)}))}}}))}}})),y((function(e,t){if(!e.nodeType||void 0===e.setAttribute)return!1;var n=t.style,r=t.children,i=t.scrollTop,o=t.scrollLeft,u=a(t,["style","children","scrollTop","scrollLeft"]);for(var s in void 0!==i&&(e.scrollTop=i),void 0!==o&&(e.scrollLeft=o),void 0!==r&&(e.textContent=r),n)if(n.hasOwnProperty(s)){var c=0===s.indexOf("--"),l=ge(s,n[s],c);"float"===s&&(s="cssFloat"),c?e.style.setProperty(s,l):e.style[s]=l}for(var f in u){var d=be[f]||(be[f]=f.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})));"undefined"!==typeof e.getAttribute(d)&&e.setAttribute(d,u[f])}}),(function(e){return e}));var ye=!1,xe=new Set,_e=function e(){var t=m(),n=xe,r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(a>=n.length)break;i=n[a++]}else{if((a=n.next()).done)break;i=a.value}for(var o=i,u=!0,s=!0,c=0;c<o.configs.length;c++){for(var l=o.configs[c],f=void 0,d=void 0,p=0;p<l.animatedValues.length;p++){var v=l.animatedValues[p];if(!v.done){var g=l.fromValues[p],b=l.toValues[p],y=v.lastPosition,x=b instanceof E,_=Array.isArray(l.initialVelocity)?l.initialVelocity[p]:l.initialVelocity;if(x&&(b=b.getValue()),l.immediate||!x&&!l.decay&&g===b)v.updateValue(b),v.done=!0;else if(l.delay&&t-o.startTime<l.delay)u=!1;else if(s=!1,"string"!==typeof g&&"string"!==typeof b){if(void 0!==l.duration)y=g+l.easing((t-o.startTime-l.delay)/l.duration)*(b-g),f=t>=o.startTime+l.delay+l.duration;else if(l.decay)y=g+_/(1-.998)*(1-Math.exp(-(1-.998)*(t-o.startTime))),(f=Math.abs(v.lastPosition-y)<.1)&&(b=y);else{d=void 0!==v.lastTime?v.lastTime:t,_=void 0!==v.lastVelocity?v.lastVelocity:l.initialVelocity,t>d+64&&(d=t);for(var w=Math.floor(t-d),O=0;O<w;++O){y+=1*(_+=1*((-l.tension*(y-b)+-l.friction*_)/l.mass)/1e3)/1e3}var k=!(!l.clamp||0===l.tension)&&(g<b?y>b:y<b),j=Math.abs(_)<=l.precision,C=0===l.tension||Math.abs(b-y)<=l.precision;f=k||j&&C,v.lastVelocity=_,v.lastTime=t}x&&!l.toValues[p].done&&(f=!1),f?(v.value!==b&&(y=b),v.done=!0):u=!1,v.updateValue(y),v.lastPosition=y}else v.updateValue(b),v.done=!0}}!o.props.onFrame&&o.props.native||(o.animatedProps[l.name]=l.interpolation.getValue())}!o.props.onFrame&&o.props.native||(!o.props.native&&o.onUpdate&&o.onUpdate(),o.props.onFrame&&o.props.onFrame(o.animatedProps)),u&&(xe.delete(o),o.debouncedOnEnd({finished:!0,noChange:s}))}xe.size?h(e):ye=!1},we=function(e){xe.has(e)&&xe.delete(e)},Oe=function(){function e(e,t){var n=this;void 0===t&&(t={native:!0,interpolateTo:!0,autoStart:!0}),this.getValues=function(){return n.props.native?n.interpolations:n.animatedProps},this.dependents=new Set,this.isActive=!1,this.hasChanged=!1,this.props={},this.merged={},this.animations={},this.interpolations={},this.animatedProps={},this.configs=[],this.frame=void 0,this.startTime=void 0,this.lastTime=void 0,this.update(u({},e,t))}var t=e.prototype;return t.update=function(e){var t=this;this.props=u({},this.props,e);var n=this.props.interpolateTo?le(this.props):this.props,r=n.from,a=void 0===r?{}:r,i=n.to,o=void 0===i?{}:i,s=n.config,c=void 0===s?{}:s,l=n.delay,f=void 0===l?0:l,h=n.reverse,p=n.attach,v=n.reset,m=n.immediate,g=n.autoStart,b=n.ref;if(h){var y=[o,a];a=y[0],o=y[1]}this.hasChanged=!1;var x=p&&p(this),_=v?{}:this.merged;if(this.merged=u({},a,_,o),this.animations=Object.entries(this.merged).reduce((function(e,n,r){var i,o,s,l=n[0],h=n[1],p=!v&&e[l]||{},g="number"===typeof h,b="string"===typeof h&&!h.startsWith("#")&&!/\d/.test(h)&&!d[h],y=!g&&!b&&Array.isArray(h),_=void 0!==a[l]?a[l]:h,w=g||y||b?h:1,O=se(c,l);if(x&&(w=x.animations[l].parent),void 0===O.decay&&ue(p.changes,h))return e;if(t.hasChanged=!0,g||b)o=s=p.parent||new re(_);else if(y)o=s=p.parent||new ae(_);else{var k=p.interpolation&&p.interpolation.calc(p.parent.value);p.parent?(o=p.parent).setValue(0,!1):o=new re(0);var j={output:[void 0!==k?k:_,h]};p.interpolation?(s=p.interpolation,p.interpolation.updateConfig(j)):s=o.interpolate(j)}se(m,l)&&o.setValue(h,!1);var E=oe(o.getPayload());return E.forEach((function(e){return e.prepare(t)})),u({},e,((i={})[l]=u({},p,{name:l,parent:o,interpolation:s,animatedValues:E,changes:h,fromValues:oe(o.getValue()),toValues:oe(x?w.getPayload():w),immediate:se(m,l),delay:ie(O.delay,f||0),initialVelocity:ie(O.velocity,0),clamp:ie(O.clamp,!1),precision:ie(O.precision,.01),tension:ie(O.tension,170),friction:ie(O.friction,26),mass:ie(O.mass,1),duration:O.duration,easing:ie(O.easing,(function(e){return e})),decay:O.decay}),i))}),this.animations),this.hasChanged)for(var w in this.configs=ce(this.animations),this.animatedProps={},this.interpolations={},this.animations)this.interpolations[w]=this.animations[w].interpolation,this.animatedProps[w]=this.animations[w].interpolation.getValue();for(var O=arguments.length,k=new Array(O>1?O-1:0),j=1;j<O;j++)k[j-1]=arguments[j];b||!g&&!k.length||this.start.apply(this,k);var E=k[0],C=k[1];return this.onEnd="function"===typeof E&&E,this.onUpdate=C,this.getValues()},t.start=function(e,t){var n,r=this;return this.startTime=m(),this.isActive&&this.stop(),this.isActive=!0,this.onEnd="function"===typeof e&&e,this.onUpdate=t,this.props.onStart&&this.props.onStart(),n=this,xe.has(n)||(xe.add(n),ye||h(_e),ye=!0),new Promise((function(e){return r.resolve=e}))},t.stop=function(e){void 0===e&&(e=!1),e&&ce(this.animations).forEach((function(e){return e.changes=void 0})),this.debouncedOnEnd({finished:e})},t.destroy=function(){we(this),this.props={},this.merged={},this.animations={},this.interpolations={},this.animatedProps={},this.configs=[]},t.debouncedOnEnd=function(e){we(this),this.isActive=!1;var t=this.onEnd;this.onEnd=null,t&&t(e),this.resolve&&this.resolve(),this.resolve=null},e}(),ke=function(e){function t(t,n){var r;return r=e.call(this)||this,t.style&&(t=u({},t,{style:b(t.style)})),r.payload=t,r.update=n,r.attach(),r}return i(t,e),t}(D);function je(e){var t=function(t){function n(e){var n;return(n=t.call(this)||this).callback=function(){n.node&&(!1===f.fn(n.node,n.propsAnimated.getAnimatedValue(),o(n))&&n.forceUpdate())},n.attachProps(e),n}i(n,t);var r=n.prototype;return r.componentWillUnmount=function(){this.propsAnimated&&this.propsAnimated.detach()},r.setNativeProps=function(e){!1===f.fn(this.node,e,this)&&this.forceUpdate()},r.attachProps=function(e){e.forwardRef;var t=a(e,["forwardRef"]),n=this.propsAnimated;this.propsAnimated=new ke(t,this.callback),n&&n.detach()},r.shouldComponentUpdate=function(e){var t=e.style,n=a(e,["style"]),r=this.props,i=r.style;return(!ue(a(r,["style"]),n)||!ue(i,t))&&(this.attachProps(e),!0)},r.render=function(){var t=this,n=this.propsAnimated.getValue(),r=(n.scrollTop,n.scrollLeft,a(n,["scrollTop","scrollLeft"]));return s.createElement(e,u({},r,{ref:function(e){return t.node=he(e,t.props.forwardRef)}}))},n}(s.Component);return s.forwardRef((function(e,n){return s.createElement(t,u({},e,{forwardRef:n}))}))}var Ee={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Ce=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={lastProps:{from:{},to:{}},propsChanged:!1,internal:!1},t.controller=new Oe(null,null),t.didUpdate=!1,t.didInject=!1,t.finished=!0,t.start=function(){t.finished=!1;var e=t.mounted;t.controller.start((function(n){return t.finish(u({},n,{wasMounted:e}))}),t.update)},t.stop=function(){return t.controller.stop(!0)},t.update=function(){return t.mounted&&t.setState({internal:!0})},t.finish=function(e){var n=e.finished,r=e.noChange,a=e.wasMounted;t.finished=!0,t.mounted&&n&&(!t.props.onRest||!a&&r||t.props.onRest(t.controller.merged),t.mounted&&t.didInject&&(t.afterInject=de(t.props),t.setState({internal:!0})),t.mounted&&(t.didInject||t.props.after)&&t.setState({internal:!0}),t.didInject=!1)},t}i(t,e);var n=t.prototype;return n.componentDidMount=function(){this.componentDidUpdate(),this.mounted=!0},n.componentWillUnmount=function(){this.mounted=!1,this.stop()},t.getDerivedStateFromProps=function(e,t){var n=t.internal,r=t.lastProps,a=e.from,i=e.to,o=e.reset,u=e.force;return{propsChanged:!ue(i,r.to)||!ue(a,r.from)||o&&!n||u&&!n,lastProps:e,internal:!1}},n.render=function(){var e=this,t=this.props.children,n=this.state.propsChanged;if(this.props.inject&&n&&!this.injectProps){var r=this.props.inject(this.props,(function(t){e.injectProps=t,e.setState({internal:!0})}));if(r)return r}(this.injectProps||n)&&(this.didInject=!1,this.injectProps?(this.controller.update(this.injectProps),this.didInject=!0):n&&this.controller.update(this.props),this.didUpdate=!0,this.afterInject=void 0,this.injectProps=void 0);var a=u({},this.controller.getValues(),this.afterInject);return this.finished&&(a=u({},a,this.props.after)),Object.keys(a).length?t(a):null},n.componentDidUpdate=function(){this.didUpdate&&this.start(),this.didUpdate=!1},t}(s.Component);Ce.defaultProps={from:{},to:{},config:Ee.default,native:!1,immediate:!1,reset:!1,force:!1,inject:l};var Ae=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).first=!0,t.instances=new Set,t.hook=function(e,n,r,a){return t.instances.add(e),(a?n===r-1:0===n)?void 0:Array.from(t.instances)[a?n+1:n-1]},t}i(t,e);var n=t.prototype;return n.render=function(){var e=this,t=this.props,n=t.items,r=t.children,i=t.from,o=void 0===i?{}:i,c=t.initial,l=t.reverse,f=t.keys,d=t.delay,h=t.onRest,p=a(t,["items","children","from","initial","reverse","keys","delay","onRest"]),v=oe(n);return oe(v).map((function(t,n){return s.createElement(Ce,u({onRest:0===n?h:null,key:"function"===typeof f?f(t):oe(f)[n],from:e.first&&void 0!==c?c||{}:o},p,{delay:0===n&&d||void 0,attach:function(t){return e.hook(t,n,v.length,l)},children:function(e){var a=r(t,n);return a?a(e):null}}))}))},n.componentDidUpdate=function(e){this.first=!1,e.items!==this.props.items&&this.instances.clear()},t}(s.PureComponent);Ae.defaultProps={keys:function(e){return e}};var Se="__default",De=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).guid=0,t.state={props:{},resolve:function(){return null},last:!0,index:0},t.next=function(e,n,r){return void 0===n&&(n=!0),void 0===r&&(r=0),t.running=!0,new Promise((function(a){t.mounted&&t.setState((function(t){return{props:e,resolve:a,last:n,index:r}}),(function(){return t.running=!1}))}))},t}i(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.componentDidUpdate({})},n.componentWillUnmount=function(){this.mounted=!1},n.componentDidUpdate=function(e){var t=this,n=this.props,r=n.states,a=n.filter,i=n.state;(e.state!==this.props.state||this.props.reset&&!this.running||!ue(r[i],e.states[e.state]))&&r&&i&&r[i]&&function(){var e=++t.guid,n=r[i];if(n)if(Array.isArray(n))for(var o=Promise.resolve(),u=function(r){var i=r,u=n[i],s=i===n.length-1;o=o.then((function(){return e===t.guid&&t.next(a(u),s,i)}))},s=0;s<n.length;s++)u(s);else if("function"===typeof n){var c=0;n((function(n,r){return void 0===r&&(r=!1),e===t.guid&&t.next(a(n),r,c++)}),(function(){return h((function(){return t.instance&&t.instance.stop()}))}),t.props)}else t.next(a(r[i]))}()},n.render=function(){var e=this,t=this.state,n=t.props,r=t.resolve,i=t.last,o=t.index;if(!n||0===Object.keys(n).length)return null;var c=this.props,l=(c.state,c.filter,c.states,c.config),f=c.primitive,d=c.onRest,h=c.forwardRef,p=a(c,["state","filter","states","config","primitive","onRest","forwardRef"]);return Array.isArray(l)&&(l=l[o]),s.createElement(f,u({ref:function(t){return e.instance=he(t,h)},config:l},p,n,{onRest:function(e){r(e),d&&i&&d(e)}}))},t}(s.PureComponent);De.defaultProps={state:Se};var Ne=s.forwardRef((function(e,t){return s.createElement(De,u({},e,{forwardRef:t}))}));Ne.create=function(e){return function(t,n){var r;return void 0===n&&(n=function(e){return e}),("function"===typeof t||Array.isArray(t))&&((r={})[Se]=t,t=r),function(r){return s.createElement(De,u({primitive:e,states:t,filter:n},r))}}},Ne.Spring=function(e){return Ne.create(Ce)(e,le)},Ne.Trail=function(e){return Ne.create(Ae)(e,le)};var Fe=0,Te=function(e){var t=e.items,n=e.keys,r=a(e,["items","keys"]);return t=oe(void 0!==t?t:null),n="function"===typeof n?t.map(n):oe(n),u({items:t,keys:n.map((function(e){return String(e)}))},r)},Me=function(e){i(n,e);var t=n.prototype;function n(t){var n;return(n=e.call(this,t)||this).destroyItem=function(e,t,r){return function(a){var i=n.props,o=i.onRest,u=i.onDestroyed;n.mounted&&(u&&u(e),n.setState((function(e){return{deleted:e.deleted.filter((function(e){return e.key!==t}))}})),o&&o(e,r,a))}},n.state={first:!0,transitions:[],current:{},deleted:[],prevProps:t},n}return t.componentDidMount=function(){this.mounted=!0},t.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,t){var n=t.first,r=t.prevProps,i=a(t,["first","prevProps"]),o=Te(e),s=o.items,c=o.keys,l=o.initial,f=o.from,d=o.enter,h=o.leave,p=o.update,v=o.trail,m=void 0===v?0:v,g=o.unique,b=o.config,y=Te(r),x=y.keys,_=y.items,w=u({},i.current),O=[].concat(i.deleted),k=Object.keys(w),j=new Set(k),E=new Set(c),C=c.filter((function(e){return!j.has(e)})),A=i.transitions.filter((function(e){return!e.destroyed&&!E.has(e.originalKey)})).map((function(e){return e.originalKey})),S=c.filter((function(e){return j.has(e)})),D=0;C.forEach((function(e){g&&O.find((function(t){return t.originalKey===e}))&&(O=O.filter((function(t){return t.originalKey!==e})));var t=c.indexOf(e),r=s[t],a="enter";w[e]={state:a,originalKey:e,key:g?String(e):Fe++,item:r,trail:D+=m,config:se(b,r,a),from:se(n&&void 0!==l?l||{}:f,r),to:se(d,r)}})),A.forEach((function(e){var t=x.indexOf(e),n=_[t],r="leave";O.push(u({},w[e],{state:r,destroyed:!0,left:x[Math.max(0,t-1)],right:x[Math.min(x.length,t+1)],trail:D+=m,config:se(b,n,r),to:se(h,n)})),delete w[e]})),S.forEach((function(e){var t=c.indexOf(e),n=s[t],r="update";w[e]=u({},w[e],{item:n,state:r,trail:D+=m,config:se(b,n,r),to:se(p,n)})}));var N=c.map((function(e){return w[e]}));return O.forEach((function(e){var t,n=e.left,r=e.right,i=a(e,["left","right"]);-1!==(t=N.findIndex((function(e){return e.originalKey===n})))&&(t+=1),-1===t&&(t=N.findIndex((function(e){return e.originalKey===r}))),-1===t&&(t=O.findIndex((function(e){return e.originalKey===n}))),-1===t&&(t=O.findIndex((function(e){return e.originalKey===r}))),t=Math.max(0,t),N=[].concat(N.slice(0,t),[i],N.slice(t))})),{first:n&&0===C.length,transitions:N,current:w,deleted:O,prevProps:e}},t.render=function(){var e=this,t=this.props,n=(t.initial,t.from,t.enter,t.leave,t.update,t.onDestroyed,t.keys,t.items,t.onFrame),r=t.onRest,i=t.onStart,o=(t.trail,t.config,t.children),c=(t.unique,t.reset),l=a(t,["initial","from","enter","leave","update","onDestroyed","keys","items","onFrame","onRest","onStart","trail","config","children","unique","reset"]);return this.state.transitions.map((function(t,a){var f,d=t.state,h=t.key,p=t.item,v=t.from,m=t.to,g=t.trail,b=t.config,y=t.destroyed;return s.createElement(Ne,u({reset:c&&"enter"===d,primitive:Ce,state:d,filter:le,states:(f={},f[d]=m,f),key:h,onRest:y?e.destroyItem(p,h,d):r&&function(e){return r(p,d,e)},onStart:i&&function(){return i(p,d)},onFrame:n&&function(e){return n(p,d,e)},delay:g,config:b},l,{from:v,children:function(e){var t=o(p,d,a);return t?t(e):null}}))}))},n}(s.PureComponent);Me.defaultProps={keys:function(e){return e},unique:!1,reset:!1};var Ie=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].reduce((function(e,t){return e[t]=je(t),e}),je);t.Spring=Ce,t.Keyframes=Ne,t.Transition=Me,t.Trail=Ae,t.Controller=Oe,t.config=Ee,t.animated=Ie,t.interpolate=function(e,t,n){return e&&new te(e,t,n)},t.Globals=j},function(e,t,n){self,e.exports=function(e){return t={632:function(e,t,n){var r,a,i;a=n(427),r=n(615),(i=n(898)({_seconds:0,_radius:null,_fraction:null,_content:null,_canvas:null,_timeoutIds:[],_scale:("undefined"!=typeof window&&null!==window?window.devicePixelRatio:void 0)||1,displayName:"ReactCountdownClock",componentDidUpdate:function(e){if(e.seconds!==this.props.seconds&&(this._seconds=this._startSeconds(),this._stopTimer(),this._setupTimer()),e.color!==this.props.color&&(this._drawBackground(),this._updateCanvas()),e.paused!==this.props.paused&&(this.props.paused||this._startTimer(),this.props.paused))return this._pauseTimer()},componentDidMount:function(){return this._seconds=this._startSeconds(),this._setupTimer()},componentWillUnmount:function(){return this._cancelTimer()},_startSeconds:function(){return this.props.paused?this.props.seconds:this.props.seconds-.01},_setupTimer:function(){if(this._setScale(),this._setupCanvases(),this._drawBackground(),this._drawTimer(),!this.props.paused)return this._startTimer()},_updateCanvas:function(){return this._clearTimer(),this._drawTimer()},_setScale:function(){return this._radius=this.props.size/2,this._fraction=2/this._seconds,this._tickPeriod=this._calculateTick(),this._innerRadius=this.props.weight?this._radius-this.props.weight:this._radius/1.8},_calculateTick:function(){var e;return(e=1.8*this._seconds)>1e3?1e3:e},_setupCanvases:function(){if(!this._background||!this._timer)return this._background=this.refs.background.getContext("2d"),this._background.scale(this._scale,this._scale),this._timer=this.refs.timer.getContext("2d"),this._timer.textAlign="center",this._timer.textBaseline="middle",this._timer.scale(this._scale,this._scale),null!=this.props.onClick?this.refs.component.addEventListener("click",this.props.onClick):void 0},_startTimer:function(){var e=this;return this._timeoutIds.push(setTimeout((function(){return e._tick()})),200)},_pauseTimer:function(){return this._stopTimer(),this._updateCanvas()},_stopTimer:function(){var e,t,n,r,a;for(r=[],e=0,t=(n=this._timeoutIds).length;e<t;e++)a=n[e],r.push(clearTimeout(a));return r},_cancelTimer:function(){if(this._stopTimer(),null!=this.props.onClick)return this.refs.component.removeEventListener("click",this.props.onClick)},_tick:function(){var e,t=this;return e=Date.now(),this._timeoutIds.push(setTimeout((function(){var n;return n=(Date.now()-e)/1e3,t._seconds-=n,t._seconds<=0?(t._seconds=0,t._handleComplete(),t._clearTimer()):(t._updateCanvas(),t._tick())}),this._tickPeriod))},_handleComplete:function(){if(this.props.onComplete)return this.props.onComplete()},_clearBackground:function(){return this._background.clearRect(0,0,this.refs.timer.width,this.refs.timer.height)},_clearTimer:function(){if(null!=this.refs.timer)return this._timer.clearRect(0,0,this.refs.timer.width,this.refs.timer.height)},_drawBackground:function(){return this._clearBackground(),this._background.beginPath(),this._background.globalAlpha=this.props.alpha/3,this._background.fillStyle=this.props.color,this._background.arc(this._radius,this._radius,this._radius,0,2*Math.PI,!1),this._background.arc(this._radius,this._radius,this._innerRadius,2*Math.PI,0,!0),this._background.closePath(),this._background.fill()},_formattedTime:function(){var e,t,n,r,a,i,o,u,s;return e=null!=(i=this._seconds<10&&this.props.showMilliseconds)?i:{1:0},"hms"===this.props.timeFormat?(n=""+(t=parseInt(this._seconds/3600)%24),a=""+(r=parseInt(this._seconds/60)%60),u="".concat(o=e?(Math.floor(10*this._seconds)/10).toFixed(e):Math.floor(this._seconds%60)),t<10&&(n="0".concat(t)),r<10&&t>=1&&(a="0".concat(r)),o<10&&(r>=1||t>=1)&&(u="0".concat(o)),s=[],t>0&&s.push(n),(r>0||t>0)&&s.push(a),s.push(u),s.join(":")):(Math.floor(10*this._seconds)/10).toFixed(e)},_fontSize:function(e){var t;return"auto"===this.props.fontSize?(t=function(){switch(e.length){case 8:return 4;case 5:return 3;default:return 2}}(),this._radius/t+"px"):this.props.fontSize},_drawTimer:function(){var e,t,n;return t=this._fraction*this._seconds+1.5,e=this._formattedTime(),n=this.props.paused&&null!=this.props.pausedText?this.props.pausedText:e,this._timer.globalAlpha=this.props.alpha,this._timer.fillStyle=this.props.color,this._timer.font="bold ".concat(this._fontSize(e)," ").concat(this.props.font),this._timer.fillText(n,this._radius,this._radius),this._timer.beginPath(),this._timer.arc(this._radius,this._radius,this._radius,1.5*Math.PI,Math.PI*t,!1),this._timer.arc(this._radius,this._radius,this._innerRadius,Math.PI*t,1.5*Math.PI,!0),this._timer.closePath(),this._timer.fill()},render:function(){var e;return e={style:{position:"absolute",width:this.props.size,height:this.props.size},height:this.props.size*this._scale,width:this.props.size*this._scale},a.createElement("div",{ref:"component",className:"react-countdown-clock",style:{width:this.props.size,height:this.props.size}},a.createElement("canvas",Object.assign({ref:"background"},e)),a.createElement("canvas",Object.assign({ref:"timer"},e)))}})).propTypes={seconds:r.number,size:r.number,weight:r.number,color:r.string,fontSize:r.string,font:r.string,alpha:r.number,timeFormat:r.string,onComplete:r.func,onClick:r.func,showMilliseconds:r.bool,paused:r.bool,pausedText:r.string},i.defaultProps={seconds:60,size:300,color:"#000",alpha:1,timeFormat:"hms",fontSize:"auto",font:"Arial",showMilliseconds:!0,paused:!1},e.exports=i},626:function(e,t,n){"use strict";var r=n(525),a={};function i(e,t,n,r,a,i,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,i,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}var o="mixins";e.exports=function(e,t,n){var u=[],s={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},c={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},l={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)d(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=p(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(i(!(n in l),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e)return i("DEFINE_MANY_MERGED"===(c.hasOwnProperty(n)?c[n]:null),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=p(e[n],r));e[n]=r}}}(e,t)},autobind:function(){}};function f(e,t){var n=s.hasOwnProperty(t)?s[t]:null;y.hasOwnProperty(t)&&i("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&i("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function d(e,n){if(n){i("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),i(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,a=r.__reactAutoBindPairs;for(var u in n.hasOwnProperty(o)&&l.mixins(e,n.mixins),n)if(n.hasOwnProperty(u)&&u!==o){var c=n[u],d=r.hasOwnProperty(u);if(f(d,u),l.hasOwnProperty(u))l[u](e,c);else{var h=s.hasOwnProperty(u);if("function"!=typeof c||h||d||!1===n.autobind)if(d){var m=s[u];i(h&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,u),"DEFINE_MANY_MERGED"===m?r[u]=p(r[u],c):"DEFINE_MANY"===m&&(r[u]=v(r[u],c))}else r[u]=c;else a.push(u,c),r[u]=c}}}}function h(e,t){for(var n in i(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(i(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function p(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var a={};return h(a,n),h(a,r),a}}function v(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function m(e,t){return t.bind(e)}var g={componentDidMount:function(){this.__isMounted=!0}},b={componentWillUnmount:function(){this.__isMounted=!1}},y={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},x=function(){};return r(x.prototype,e.prototype,y),function(e){var t=function e(t,r,o){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],a=t[n+1];e[r]=m(e,a)}}(this),this.props=t,this.context=r,this.refs=a,this.updater=o||n,this.state=null;var u=this.getInitialState?this.getInitialState():null;i("object"==typeof u&&!Array.isArray(u),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"),this.state=u};for(var r in t.prototype=new x,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],u.forEach(d.bind(null,t)),d(t,g),d(t,e),d(t,b),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),i(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),s)t.prototype[r]||(t.prototype[r]=null);return t}}},898:function(e,t,n){"use strict";var r=n(427),a=n(626);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new r.Component).updater;e.exports=a(r.Component,r.isValidElement,i)},525:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,u,s=a(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},772:function(e,t,n){"use strict";var r=n(331);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},615:function(e,t,n){e.exports=n(772)()},331:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},427:function(t){"use strict";t.exports=e}},n={},function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{}};return t[r](a,a.exports,e),a.exports}(632);var t,n}(n(4))},function(e,t,n){"use strict";(function(e){var r=n(4),a=n.n(r),i=n(448),o=n(26),u=n.n(o),s=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var f=a.a.createContext||function(e,t){var n,a,o="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",f=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=l(t.props.value),t}Object(i.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,a=e.value;((i=r)===(o=a)?0!==i||1/i===1/o:i!==i&&o!==o)?n=0:(n="function"===typeof t?t(r,a):s,0!==(n|=0)&&this.emitter.set(e.value,n))}var i,o},r.render=function(){return this.props.children},n}(r.Component);f.childContextTypes=((n={})[o]=u.a.object.isRequired,n);var d=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(i.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?s:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?s:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return d.contextTypes=((a={})[o]=u.a.object,a),{Provider:f,Consumer:d}};t.a=f}).call(this,n(106))},function(e,t,n){var r=n(935);e.exports=h,e.exports.parse=i,e.exports.compile=function(e,t){return u(i(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=d;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],i=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=a.exec(e));){var f=n[0],d=n[1],h=n.index;if(u+=e.slice(o,h),o=h+f.length,d)u+=d[1];else{var p=e[o],v=n[2],m=n[3],g=n[4],b=n[5],y=n[6],x=n[7];u&&(r.push(u),u="");var _=null!=v&&null!=p&&p!==v,w="+"===y||"*"===y,O="?"===y||"*"===y,k=n[2]||l,j=g||b;r.push({name:m||i++,prefix:v||"",delimiter:k,optional:O,repeat:w,partial:_,asterisk:!!x,pattern:j?c(j):x?".*":"[^"+s(k)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),a=0;a<e.length;a++)"object"===typeof e[a]&&(n[a]=new RegExp("^(?:"+e[a].pattern+")$",f(t)));return function(t,a){for(var i="",u=t||{},s=(a||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,d=u[l.name];if(null==d){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(f=s(d[h]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");i+=(0===h?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(d),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');i+=l.prefix+f}}else i+=l}return i}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,i=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var d=s(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+d+h+")*"),o+=h=c.optional?c.partial?d+"("+h+")?":"(?:"+d+"("+h+"))?":d+"("+h+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return a||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=i?"$":a&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(h(e[a],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return d(i(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";var r,a=n(157),i=n(287),o=n(163),u=function(e,t){var n=Object(o.b)(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")},s={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:o.a,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return u(100*e,t)},r:u,s:function(e,t){var n=Object(o.b)(e,t);if(!n)return e+"";var a=n[0],i=n[1],u=i-(r=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=a.length;return u===s?a:u>s?a+new Array(u-s+1).join("0"):u>0?a.slice(0,u)+"."+a.slice(u):"0."+new Array(1-u).join("0")+Object(o.b)(e,Math.max(0,t+u-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},c=function(e){return e},l=Array.prototype.map,f=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];t.a=function(e){var t,n,o=void 0===e.grouping||void 0===e.thousands?c:(t=l.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,i=[],o=0,u=t[0],s=0;a>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),i.push(e.substring(a-=u,a+u)),!((s+=u+1)>r));)u=t[o=(o+1)%t.length];return i.reverse().join(n)}),u=void 0===e.currency?"":e.currency[0]+"",d=void 0===e.currency?"":e.currency[1]+"",h=void 0===e.decimal?".":e.decimal+"",p=void 0===e.numerals?c:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(l.call(e.numerals,String)),v=void 0===e.percent?"%":e.percent+"",m=void 0===e.minus?"\u2212":e.minus+"",g=void 0===e.nan?"NaN":e.nan+"";function b(e){var t=(e=Object(i.a)(e)).fill,n=e.align,a=e.sign,c=e.symbol,l=e.zero,b=e.width,y=e.comma,x=e.precision,_=e.trim,w=e.type;"n"===w?(y=!0,w="g"):s[w]||(void 0===x&&(x=12),_=!0,w="g"),(l||"0"===t&&"="===n)&&(l=!0,t="0",n="=");var O="$"===c?u:"#"===c&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",k="$"===c?d:/[%p]/.test(w)?v:"",j=s[w],E=/[defgprs%]/.test(w);function C(e){var i,u,s,c=O,d=k;if("c"===w)d=j(e)+d,e="";else{var v=(e=+e)<0||1/e<0;if(e=isNaN(e)?g:j(Math.abs(e),x),_&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),v&&0===+e&&"+"!==a&&(v=!1),c=(v?"("===a?a:m:"-"===a||"("===a?"":a)+c,d=("s"===w?f[8+r/3]:"")+d+(v&&"("===a?")":""),E)for(i=-1,u=e.length;++i<u;)if(48>(s=e.charCodeAt(i))||s>57){d=(46===s?h+e.slice(i+1):e.slice(i))+d,e=e.slice(0,i);break}}y&&!l&&(e=o(e,1/0));var C=c.length+e.length+d.length,A=C<b?new Array(b-C+1).join(t):"";switch(y&&l&&(e=o(A+e,A.length?b-d.length:1/0),A=""),n){case"<":e=c+e+d+A;break;case"=":e=c+A+e+d;break;case"^":e=A.slice(0,C=A.length>>1)+c+e+d+A.slice(C);break;default:e=A+c+e+d}return p(e)}return x=void 0===x?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),C.toString=function(){return e+""},C}return{format:b,formatPrefix:function(e,t){var n=b(((e=Object(i.a)(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Object(a.a)(t)/3))),o=Math.pow(10,-r),u=f[8+r/3];return function(e){return n(o*e)+u}}}}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u}));var r=Math.sqrt(50),a=Math.sqrt(10),i=Math.sqrt(2);function o(e,t,n){var o=(t-e)/Math.max(0,n),u=Math.floor(Math.log(o)/Math.LN10),s=o/Math.pow(10,u);return u>=0?(s>=r?10:s>=a?5:s>=i?2:1)*Math.pow(10,u):-Math.pow(10,-u)/(s>=r?10:s>=a?5:s>=i?2:1)}function u(e,t,n){var o=Math.abs(t-e)/Math.max(0,n),u=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),s=o/u;return s>=r?u*=10:s>=a?u*=5:s>=i&&(u*=2),t<e?-u:u}t.a=function(e,t,n){var r,a,i,u,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(a=e,e=t,t=a),0===(u=o(e,t,n))||!isFinite(u))return[];if(u>0)for(e=Math.ceil(e/u),t=Math.floor(t/u),i=new Array(a=Math.ceil(t-e+1));++s<a;)i[s]=(e+s)*u;else for(u=-u,e=Math.ceil(e*u),t=Math.floor(t*u),i=new Array(a=Math.ceil(t-e+1));++s<a;)i[s]=(e+s)/u;return r&&i.reverse(),i}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({acos_:function(e){var t={x:Object(i.a)(e,"x","acos")};return r.a.runKernel(a.b,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({acosh_:function(e){var t={x:Object(i.a)(e,"x","acosh")};return r.a.runKernel(a.c,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11);var s=Object(u.b)({addN_:function(e){o.b(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),o.b(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)}));var t=e.map((function(e,t){return Object(i.a)(e,"tensors".concat(t),"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!o.a(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var u=t;return r.a.runKernel(a.e,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({asin_:function(e){var t={x:Object(i.a)(e,"x","asin")};return r.a.runKernel(a.j,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({asinh_:function(e){var t={x:Object(i.a)(e,"x","asinh")};return r.a.runKernel(a.k,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({atan_:function(e){var t={x:Object(i.a)(e,"x","atan")};return r.a.runKernel(a.l,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({atanh_:function(e){var t={x:Object(i.a)(e,"x","atanh")};return r.a.runKernel(a.n,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(31),s=n(11),c=n(19);var l=Object(s.b)({avgPool3d_:function(e,t,n,s,l){var f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",d=Object(i.a)(e,"x","avgPool3d","float32"),h=d,p=!1;4===d.rank&&(p=!0,h=Object(c.a)(d,[1,d.shape[0],d.shape[1],d.shape[2],d.shape[3]])),o.b(5===h.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank ".concat(h.rank,".")})),o.b("NDHWC"===f,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(f)})),null!=l&&o.b(o.v(s),(function(){return"Error in avgPool3d: pad must be an integer when using, "+"dimRoundingMode ".concat(l," but got pad ").concat(s,".")}));var v={x:h},m={filterSize:t,strides:n,pad:s,dimRoundingMode:l,dataFormat:f},g=r.a.runKernel(a.p,v,m);return g=Object(u.a)(g,h.dtype),p?Object(c.a)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11);var s=Object(u.b)({bincount_:function(e,t,n){var u=Object(i.a)(e,"x","bincount"),s=Object(i.a)(t,"weights","bincount");o.b("int32"===u.dtype,(function(){return"Error in bincount: input "+"dtype must be int32, but got ".concat(u.dtype)})),o.b(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),o.b(s.size===u.size||0===s.size,(function(){return"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(u.shape,", weights shape: ")+"".concat(s.shape,".")}));var c={x:u,weights:s},l={size:n};return r.a.runKernel(a.u,c,l)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({ceil_:function(e){var t={x:Object(i.a)(e,"x","ceil")};return r.a.runKernel(a.x,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11);var s=Object(u.b)({clipByValue_:function(e,t,n){var u=Object(i.a)(e,"x","clipByValue");o.b(t<=n,(function(){return"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,").")}));var s={x:u},c={clipValueMin:t,clipValueMax:n};return r.a.runKernel(a.y,s,c)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(62),s=n(11),c=n(19);var l=Object(s.b)({conv3d_:function(e,t,n,s){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],d=Object(i.a)(e,"x","conv3d"),h=Object(i.a)(t,"filter","conv3d"),p=d,v=!1;4===d.rank&&(v=!0,p=Object(c.a)(d,[1,d.shape[0],d.shape[1],d.shape[2],d.shape[3]])),o.b(5===p.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank ".concat(p.rank,".")})),o.b(5===h.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+"".concat(h.rank,".")})),o.b(p.shape[4]===h.shape[3],(function(){return"Error in conv3d: depth of input (".concat(p.shape[4],") must match ")+"input depth for filter ".concat(h.shape[3],".")})),o.b(Object(u.h)(n,f),(function(){return"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(f,"'")})),o.b("NDHWC"===l,(function(){return"Error in conv3d: got dataFormat of ".concat(l," but only NDHWC is currently supported.")}));var m={x:p,filter:h},g={strides:n,pad:s,dataFormat:l,dilations:f},b=r.a.runKernel(a.F,m,g);return v?Object(c.a)(b,[b.shape[1],b.shape[2],b.shape[3],b.shape[4]]):b}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11);var s=Object(u.b)({denseBincount_:function(e,t,n){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=Object(i.a)(e,"x","denseBincount"),c=Object(i.a)(t,"weights","denseBincount");o.b("int32"===s.dtype,(function(){return"Error in denseBincount: input "+"dtype must be int32, but got ".concat(s.dtype)})),o.b(s.rank<=2,(function(){return"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(s.rank,".")})),o.b(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),o.b(c.size===s.size||0===c.size,(function(){return"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(s.shape,", weights shape: ")+"".concat(c.shape,".")}));var l={x:s,weights:c},f={size:n,binaryOutput:u};return r.a.runKernel(a.M,l,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(31),s=n(11);var c=Object(s.b)({erf_:function(e){var t=Object(i.a)(e,"x","erf");o.b("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=Object(u.a)(t,"float32"));var n={x:t};return r.a.runKernel(a.Y,n)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({expm1_:function(e){var t={x:Object(i.a)(e,"x","expm1")};return r.a.runKernel(a.bb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({isFinite_:function(e){var t={x:Object(i.a)(e,"x","isFinite")};return r.a.runKernel(a.sb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({isInf_:function(e){var t={x:Object(i.a)(e,"x","isInf")};return r.a.runKernel(a.tb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({isNaN_:function(e){var t={x:Object(i.a)(e,"x","isNaN")};return r.a.runKernel(a.ub,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(12),a=n(7);function i(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");var i={start:e,stop:t,num:n};return r.a.runKernel(a.Ab,{},i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(71),a=n(8),i=n(22),o=n(55),u=n(11),s=n(154),c=n(331);var l=Object(u.b)({logSigmoid_:function(e){var t=Object(a.a)(e,"x","logSigmoid");return Object(r.a)((function(e){return{value:Object(o.a)(Object(c.a)(Object(o.a)(e))),gradFunc:function(t){return Object(i.a)(t,Object(s.a)(Object(o.a)(e)))}}}))(t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(6),a=n(71),i=n(8),o=n(31),u=n(81),s=n(133),c=n(124),l=n(22),f=n(11),d=n(34),h=n(38);var p=Object(f.b)({logSoftmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=Object(i.a)(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));var f=Object(a.a)((function(e,n){var a=Object(c.a)(e,t,!0),i=Object(d.a)(e,a),f=Object(d.a)(Object(o.a)(i,"float32"),Object(s.a)(Object(h.a)(Object(u.a)(i),t,!0)));n([f]);return{value:f,gradFunc:function(e,n){var a=Object(r.a)(n,1)[0],i=Object(u.a)(a);return Object(d.a)(e,Object(l.a)(Object(h.a)(e,t,!0),i))}}}));return f(n)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),a=n(7),i=n(8),o=n(20),u=n(11),s=n(19);var c=Object(u.b)({maxPool3d_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",f=Object(i.a)(e,"x","maxPool3d"),d=f,h=!1;4===f.rank&&(h=!0,d=Object(s.a)(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]])),o.b(5===d.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank ".concat(d.rank,".")})),o.b("NDHWC"===l,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(l)})),null!=c&&o.b(o.v(u),(function(){return"Error in maxPool3d: pad must be an integer when using, "+"dimRoundingMode ".concat(c," but got pad ").concat(u,".")}));var p={x:d},v={filterSize:t,strides:n,pad:u,dimRoundingMode:c,dataFormat:l},m=r.a.runKernel(a.Jb,p,v);return h?Object(s.a)(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({maxPoolWithArgmax_:function(e,t,n,o){var u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=Object(i.a)(e,"x","maxPoolWithArgmax"),c={x:s},l={filterSize:t,strides:n,pad:o,includeBatchInIndex:u},f=r.a.runKernel(a.Mb,c,l);return{result:f[0],indexes:f[1]}}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(11),u=n(19);var s=Object(o.b)({multinomial_:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=Object(i.a)(e,"logits","multinomial"),c=s.size,l=s.rank;if(c<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(c,"."));if(l>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(l));n=n||Math.random();var f=1===l?Object(u.a)(s,[1,-1]):s,d={logits:f},h={numSamples:t,seed:n,normalized:o},p=r.a.runKernel(a.Tb,d,h);return 1===l?Object(u.a)(p,[p.size]):p}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({onesLike_:function(e){var t={x:Object(i.a)(e,"x","onesLike")};return r.a.runKernel(a.bc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({reciprocal_:function(e){var t={x:Object(i.a)(e,"x","reciprocal")};return r.a.runKernel(a.lc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({round_:function(e){var t={x:Object(i.a)(e,"x","round")};return r.a.runKernel(a.vc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),a=n.n(r),i=n(13),o=n(18),u=n(8),s=n(20);function c(){return(c=Object(i.a)(a.a.mark((function e(t,n){var r,i,c,l,f,d,h,p,v,m,g;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(u.a)(t,"x","setdiff1d"),i=Object(u.a)(n,"y","setdiff1d"),s.b(r.dtype===i.dtype,(function(){return"x and y should have the same dtype, but got x (".concat(r.dtype,") and y (").concat(i.dtype,").")})),s.b(1===r.rank,(function(){return"x should be 1D tensor, but got x (".concat(r.shape,").")})),s.b(1===i.rank,(function(){return"y should be 1D tensor, but got y (".concat(i.shape,").")})),e.next=7,r.data();case 7:return c=e.sent,e.next=10,i.data();case 10:for(l=e.sent,f=new Set(l),d=0,h=0;h<c.length;h++)f.has(c[h])||d++;for(p=new o.b([d],r.dtype),v=new o.b([d],"int32"),m=0,g=0;m<c.length;m++)f.has(c[m])||(p.values[g]=c[m],v.values[g]=m,g++);return e.abrupt("return",[p.toTensor(),v.toTensor()]);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l=function(e,t){return c.apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({sign_:function(e){var t={x:Object(i.a)(e,"x","sign")};return r.a.runKernel(a.Bc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({softmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=Object(i.a)(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));var o={logits:n},u={dim:t};return r.a.runKernel(a.Fc,o,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({stridedSlice_:function(e,t,n,o){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,d=Object(i.a)(e,"x","stridedSlice"),h={x:d},p={begin:t,end:n,strides:o,beginMask:u,endMask:s,ellipsisMask:c,newAxisMask:l,shrinkAxisMask:f};return r.a.runKernel(a.Oc,h,p)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({tan_:function(e){var t={x:Object(i.a)(e,"x","tan")};return r.a.runKernel(a.Rc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(87),a=n(11),i=n(180);var o=Object(a.b)({truncatedNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(null!=a&&"bool"===a)throw new Error("Unsupported data type $ { dtype }");for(var u=new i.a(t,n,a,!0,o),s=Object(r.a)(e,a),c=0;c<s.values.length;c++)s.values[c]=u.nextValue();return s.toTensor()}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7),i=n(8),o=n(11),u=n(215);var s=Object(o.b)({scatterND_:function(e,t,n){var o=Object(i.a)(e,"indices","scatterND","int32"),s=Object(i.a)(t,"updates","scatterND");u.validateInput(s,o,n);var c={indices:o,updates:s},l={shape:n};return r.a.runKernel(a.xc,c,l)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(7),i=n(8),o=n(11);var u=Object(o.b)({gatherND_:function(e,t){var n=Object(i.a)(t,"indices","gatherND","int32"),o={params:Object(i.a)(e,"x","gatherND"),indices:n};return r.a.runKernel(a.lb,o)}})},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof e?e:function(e){return e()};function a(){return new Promise((function(e){return r((function(){return e()}))}))}}).call(this,n(659).setImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawBorderTop=t.drawBorderJoin=t.drawBorderBottom=t.drawBorder=void 0;var r=function(e,t){var n=e.map((function(e){return t.body.repeat(e)})).join(t.join);return t.left+n+t.right+"\n"};t.drawBorder=r;t.drawBorderTop=function(e,t){var n=r(e,{body:t.topBody,join:t.topJoin,left:t.topLeft,right:t.topRight});return"\n"===n?"":n};t.drawBorderJoin=function(e,t){return r(e,{body:t.joinBody,join:t.joinJoin,left:t.joinLeft,right:t.joinRight})};t.drawBorderBottom=function(e,t){return r(e,{body:t.bottomBody,join:t.bottomJoin,left:t.bottomLeft,right:t.bottomRight})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){return t.bodyLeft+e.join(t.bodyJoin)+t.bodyRight+"\n"};t.default=r},function(e,t,n){"use strict";var r=n(208);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=(a=n(263))&&a.__esModule?a:{default:a};var o=function(e){return e.map((function(e){return Math.max.apply(Math,r(e.split("\n").map((function(e){return(0,i.default)(e)}))))}))};t.default=o},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";e.exports=function(e){return!Number.isNaN(e)&&(e>=4352&&(e<=4447||9001===e||9002===e||11904<=e&&e<=12871&&12351!==e||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141))}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(106))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(298),a=n(264),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];i.call(e,t)&&a(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(186),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},function(e,t,n){var r=n(501),a=n(299),i=n(102),o=n(300),u=n(396),s=n(397),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&a(e),f=!n&&!l&&o(e),d=!n&&!l&&!f&&s(e),h=n||l||f||d,p=h?r(e.length,String):[],v=p.length;for(var m in e)!t&&!c.call(e,m)||h&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,v))||p.push(m);return p}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){(function(e){var r=n(129),a=t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===a?r.Buffer:void 0,u=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(118)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(401),a=n(402),i=n(400),o=n(505),u=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=a(e);return t}:o;e.exports=u},function(e,t,n){var r=n(508),a=n(400),i=n(210);e.exports=function(e){return r(e,i,a)}},function(e,t,n){var r=n(401),a=n(102);e.exports=function(e,t,n){var i=t(e);return a(e)?i:r(i,n(e))}},function(e,t,n){var r=n(129).Uint8Array;e.exports=r},function(e,t,n){var r=n(403);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(723),a=n(402),i=n(399);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(a(e))}},function(e,t){e.exports=function(e){return void 0===e}},function(e,t,n){var r=n(728);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},function(e,t,n){var r=n(729),a=n(107),i=n(268),o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=u.test(e);return n||s.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t,n){"use strict";var r=n(730),a=function(){new RegExp("^[0-9]+$");var e=[],t=function(){new RegExp("^[0-9]+$");return function t(r,a,i,o,u){var s=null,c=0;if(void 0===u&&(u=r),r&&"object"===typeof r&&!Array.isArray(r)){for(var l in r){if(!t.schema.properties.hasOwnProperty(l)){!1;var f={keyword:"additionalProperties",dataPath:(a||"")+"",schemaPath:"#/additionalProperties",params:{additionalProperty:""+l},message:"should NOT have additional properties"};null===s?s=[f]:s.push(f),c++}}if(void 0!==r.topBody){n(r.topBody,(a||"")+".topBody",r,"topBody",u)||(c=(s=null===s?n.errors:s.concat(n.errors)).length)}if(void 0!==r.topJoin){e[2](r.topJoin,(a||"")+".topJoin",r,"topJoin",u)||(c=(s=null===s?e[2].errors:s.concat(e[2].errors)).length)}if(void 0!==r.topLeft){e[2](r.topLeft,(a||"")+".topLeft",r,"topLeft",u)||(c=(s=null===s?e[2].errors:s.concat(e[2].errors)).length)}if(void 0!==r.topRight){e[2](r.topRight,(a||"")+".topRight",r,"topRight",u)||(c=(s=null===s?e[2].errors:s.concat(e[2].errors)).length)}if(void 0!==r.bottomBody){e[2](r.bottomBody,(a||"")+".bottomBody",r,"bottomBody",u)||(c=(s=null===s?e[2].errors:s.concat(e[2].errors)).length)}if(void 0!==r.bottomJoin){e[2](r.bottomJoin,(a||"")+".bottomJoin",r,"bottomJoin",u)||(c=(s=null===s?e[2].errors:s.concat(e[2].errors)).length)}if(void 0!==r.bottomLeft){e[2](r.bottomLeft,(a||"")+".bottomLeft",r,"bottomLeft",u)||(c=(s=null===s?e[2].errors:s.concat(e[2].errors)).length)}if(void 0!==r.bottomRight){e[2](r.bottomRight,(a||"")+".bottomRight",r,"bottomRight",u)||(c=(s=null===s?e[2].errors:s.concat(e[2].errors)).length)}if(void 0!==r.bodyLeft){e[2](r.bodyLeft,(a||"")+".bodyLeft",r,"bodyLeft",u)||(c=(s=null===s?e[2].errors:s.concat(e[2].errors)).length)}if(void 0!==r.bodyRight){e[2](r.bodyRight,(a||"")+".bodyRight",r,"bodyRight",u)||(c=(s=null===s?e[2].errors:s.concat(e[2].errors)).length)}if(void 0!==r.bodyJoin){e[2](r.bodyJoin,(a||"")+".bodyJoin",r,"bodyJoin",u)||(c=(s=null===s?e[2].errors:s.concat(e[2].errors)).length)}if(void 0!==r.joinBody){e[2](r.joinBody,(a||"")+".joinBody",r,"joinBody",u)||(c=(s=null===s?e[2].errors:s.concat(e[2].errors)).length)}if(void 0!==r.joinLeft){e[2](r.joinLeft,(a||"")+".joinLeft",r,"joinLeft",u)||(c=(s=null===s?e[2].errors:s.concat(e[2].errors)).length)}if(void 0!==r.joinRight){e[2](r.joinRight,(a||"")+".joinRight",r,"joinRight",u)||(c=(s=null===s?e[2].errors:s.concat(e[2].errors)).length)}if(void 0!==r.joinJoin){e[2](r.joinJoin,(a||"")+".joinJoin",r,"joinJoin",u)||(c=(s=null===s?e[2].errors:s.concat(e[2].errors)).length)}}else{f={keyword:"type",dataPath:(a||"")+"",schemaPath:"#/type",params:{type:"object"},message:"should be object"};null===s?s=[f]:s.push(f),c++}return t.errors=s,0===c}}();t.schema={type:"object",properties:{topBody:{$ref:"#/definitions/border"},topJoin:{$ref:"#/definitions/border"},topLeft:{$ref:"#/definitions/border"},topRight:{$ref:"#/definitions/border"},bottomBody:{$ref:"#/definitions/border"},bottomJoin:{$ref:"#/definitions/border"},bottomLeft:{$ref:"#/definitions/border"},bottomRight:{$ref:"#/definitions/border"},bodyLeft:{$ref:"#/definitions/border"},bodyRight:{$ref:"#/definitions/border"},bodyJoin:{$ref:"#/definitions/border"},joinBody:{$ref:"#/definitions/border"},joinLeft:{$ref:"#/definitions/border"},joinRight:{$ref:"#/definitions/border"},joinJoin:{$ref:"#/definitions/border"}},additionalProperties:!1},t.errors=null,e[1]=t;var n=function(){new RegExp("^[0-9]+$");return function e(t,n,r,a,i){var o=null,u=0;if("string"!==typeof t){var s={keyword:"type",dataPath:(n||"")+"",schemaPath:"#/type",params:{type:"string"},message:"should be string"};null===o?o=[s]:o.push(s),u++}return e.errors=o,0===u}}();n.schema={type:"string"},n.errors=null,e[2]=n;var a=function(){var e=new RegExp("^[0-9]+$");return function t(n,r,a,o,u){var s=null,c=0;if(void 0===u&&(u=n),n&&"object"===typeof n&&!Array.isArray(n)){for(var l in n){if(!e.test(l)){!1;var f={keyword:"additionalProperties",dataPath:(r||"")+"",schemaPath:"#/additionalProperties",params:{additionalProperty:""+l},message:"should NOT have additional properties"};null===s?s=[f]:s.push(f),c++}}for(var l in n)if(e.test(l)){i(n[l],(r||"")+"['"+l+"']",n,l,u)||(c=(s=null===s?i.errors:s.concat(i.errors)).length)}}else{f={keyword:"type",dataPath:(r||"")+"",schemaPath:"#/type",params:{type:"object"},message:"should be object"};null===s?s=[f]:s.push(f),c++}return t.errors=s,0===c}}();a.schema={type:"object",patternProperties:{"^[0-9]+$":{$ref:"#/definitions/column"}},additionalProperties:!1},a.errors=null,e[3]=a;var i=function(){new RegExp("^[0-9]+$");return function e(t,n,a,i,o){var u=null,s=0;if(t&&"object"===typeof t&&!Array.isArray(t)){var c=!0;for(var l in t){if(!("alignment"==l||"width"==l||"wrapWord"==l||"truncate"==l||"paddingLeft"==l||"paddingRight"==l)){c=!1;var f={keyword:"additionalProperties",dataPath:(n||"")+"",schemaPath:"#/additionalProperties",params:{additionalProperty:""+l},message:"should NOT have additional properties"};null===u?u=[f]:u.push(f),s++}}var d=t.alignment;if(void 0!==d){var h=s;if("string"!==typeof d){f={keyword:"type",dataPath:(n||"")+".alignment",schemaPath:"#/properties/alignment/type",params:{type:"string"},message:"should be string"};null===u?u=[f]:u.push(f),s++}var p=e.schema.properties.alignment.enum;c=!1;for(var v=0;v<p.length;v++)if(r(d,p[v])){c=!0;break}if(!c){f={keyword:"enum",dataPath:(n||"")+".alignment",schemaPath:"#/properties/alignment/enum",params:{allowedValues:p},message:"should be equal to one of the allowed values"};null===u?u=[f]:u.push(f),s++}c=s===h}if(void 0!==t.width){h=s;if("number"!==typeof t.width){f={keyword:"type",dataPath:(n||"")+".width",schemaPath:"#/properties/width/type",params:{type:"number"},message:"should be number"};null===u?u=[f]:u.push(f),s++}c=s===h}if(void 0!==t.wrapWord){h=s;if("boolean"!==typeof t.wrapWord){f={keyword:"type",dataPath:(n||"")+".wrapWord",schemaPath:"#/properties/wrapWord/type",params:{type:"boolean"},message:"should be boolean"};null===u?u=[f]:u.push(f),s++}c=s===h}if(void 0!==t.truncate){h=s;if("number"!==typeof t.truncate){f={keyword:"type",dataPath:(n||"")+".truncate",schemaPath:"#/properties/truncate/type",params:{type:"number"},message:"should be number"};null===u?u=[f]:u.push(f),s++}c=s===h}if(void 0!==t.paddingLeft){h=s;if("number"!==typeof t.paddingLeft){f={keyword:"type",dataPath:(n||"")+".paddingLeft",schemaPath:"#/properties/paddingLeft/type",params:{type:"number"},message:"should be number"};null===u?u=[f]:u.push(f),s++}c=s===h}if(void 0!==t.paddingRight){h=s;if("number"!==typeof t.paddingRight){f={keyword:"type",dataPath:(n||"")+".paddingRight",schemaPath:"#/properties/paddingRight/type",params:{type:"number"},message:"should be number"};null===u?u=[f]:u.push(f),s++}c=s===h}}else{f={keyword:"type",dataPath:(n||"")+"",schemaPath:"#/type",params:{type:"object"},message:"should be object"};null===u?u=[f]:u.push(f),s++}return e.errors=u,0===s}}();return i.schema={type:"object",properties:{alignment:{type:"string",enum:["left","right","center"]},width:{type:"number"},wrapWord:{type:"boolean"},truncate:{type:"number"},paddingLeft:{type:"number"},paddingRight:{type:"number"}},additionalProperties:!1},i.errors=null,e[4]=i,function n(r,i,o,u,s){var c=null,l=0;if(void 0===s&&(s=r),r&&"object"===typeof r&&!Array.isArray(r)){for(var f in r){if(!("border"==f||"columns"==f||"columnDefault"==f||"drawHorizontalLine"==f)){!1;var d={keyword:"additionalProperties",dataPath:(i||"")+"",schemaPath:"#/additionalProperties",params:{additionalProperty:""+f},message:"should NOT have additional properties"};null===c?c=[d]:c.push(d),l++}}if(void 0!==r.border){t(r.border,(i||"")+".border",r,"border",s)||(l=(c=null===c?t.errors:c.concat(t.errors)).length)}if(void 0!==r.columns){a(r.columns,(i||"")+".columns",r,"columns",s)||(l=(c=null===c?a.errors:c.concat(a.errors)).length)}if(void 0!==r.columnDefault){e[4](r.columnDefault,(i||"")+".columnDefault",r,"columnDefault",s)||(l=(c=null===c?e[4].errors:c.concat(e[4].errors)).length)}if(void 0!==r.drawHorizontalLine){var h=l;if(!("function"==typeof r.drawHorizontalLine))if(h==l){d={keyword:"typeof",dataPath:(i||"")+".drawHorizontalLine",schemaPath:"#/properties/drawHorizontalLine/typeof",params:{keyword:"typeof"},message:'should pass "typeof" keyword validation'};null===c?c=[d]:c.push(d),l++}else for(var p=h;p<l;p++){var v=c[p];void 0===v.dataPath&&(v.dataPath=(i||"")+".drawHorizontalLine"),void 0===v.schemaPath&&(v.schemaPath="#/properties/drawHorizontalLine/typeof")}}}else{d={keyword:"type",dataPath:(i||"")+"",schemaPath:"#/type",params:{type:"object"},message:"should be object"};null===c?c=[d]:c.push(d),l++}return n.errors=c,0===l}}();a.schema={$id:"config.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{border:{$ref:"#/definitions/borders"},columns:{$ref:"#/definitions/columns"},columnDefault:{$ref:"#/definitions/column"},drawHorizontalLine:{typeof:"function"}},additionalProperties:!1,definitions:{columns:{type:"object",patternProperties:{"^[0-9]+$":{$ref:"#/definitions/column"}},additionalProperties:!1},column:{type:"object",properties:{alignment:{type:"string",enum:["left","right","center"]},width:{type:"number"},wrapWord:{type:"boolean"},truncate:{type:"number"},paddingLeft:{type:"number"},paddingRight:{type:"number"}},additionalProperties:!1},borders:{type:"object",properties:{topBody:{$ref:"#/definitions/border"},topJoin:{$ref:"#/definitions/border"},topLeft:{$ref:"#/definitions/border"},topRight:{$ref:"#/definitions/border"},bottomBody:{$ref:"#/definitions/border"},bottomJoin:{$ref:"#/definitions/border"},bottomLeft:{$ref:"#/definitions/border"},bottomRight:{$ref:"#/definitions/border"},bodyLeft:{$ref:"#/definitions/border"},bodyRight:{$ref:"#/definitions/border"},bodyJoin:{$ref:"#/definitions/border"},joinBody:{$ref:"#/definitions/border"},joinLeft:{$ref:"#/definitions/border"},joinRight:{$ref:"#/definitions/border"},joinJoin:{$ref:"#/definitions/border"}},additionalProperties:!1},border:{type:"string"}}},a.errors=null,e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(732)),a=u(n(735)),i=u(n(518)),o=u(n(736));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){var n=e[0].length,u=[];return e.forEach((function(e){var s=new Array(n).fill(1);e.forEach((function(e,n){if(!(0,i.default)(t.columns[n].width))throw new TypeError("column[index].width must be a number.");if(!(0,a.default)(t.columns[n].wrapWord))throw new TypeError("column[index].wrapWord must be a boolean.");s[n]=(0,o.default)(e,t.columns[n].width,t.columns[n].wrapWord)})),u.push((0,r.default)(s))})),u};t.default=s},function(e,t,n){var r=n(146),a=n(108);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==r(e)}},function(e,t,n){"use strict";var r=n(208);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(737)),i=o(n(746));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t,n){for(var o=e.split("\n"),u=0;u<o.length;){var s=void 0;s=n?(0,i.default)(o[u],t):(0,a.default)(o[u],t),o.splice.apply(o,[u,1].concat(r(s))),u+=s.length}return o};t.default=u},function(e,t,n){"use strict";var r=n(304),a=n(187),i=n(208),o=n(494),u=n(741),s=n(742),c=["\x1b","\x9b"],l=function(e){return"".concat(c[0],"[").concat(e,"m")};e.exports=function(e,t,n){var f=i(e.normalize());n="number"===typeof n?n:f.length;var d,h=!1,p=null,v=0,m="",g=a(f.entries());try{for(g.s();!(d=g.n()).done;){var b=r(d.value,2),y=b[0],x=b[1],_=!1;if(c.includes(x)){h=!0;var w=/\d[^m]*/.exec(e.slice(y,y+18));p=39===w?null:w}else h&&"m"===x&&(h=!1,_=!0);if(h||_||++v,!u({exact:!0}).test(x)&&o(x.codePointAt())&&++v,v>t&&v<=n)m+=x;else if(v!==t||h||null===p||39===p){if(v>=n){null!==p&&(m+=l(s.codes.get(parseInt(p,10))||39));break}}else m+=l(p)}}catch(O){g.e(O)}finally{g.f()}return m}},function(e,t,n){var r=n(744),a={};for(var i in r)r.hasOwnProperty(i)&&(a[r[i]]=i);var o=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var u in o)if(o.hasOwnProperty(u)){if(!("channels"in o[u]))throw new Error("missing channels property: "+u);if(!("labels"in o[u]))throw new Error("missing channel labels property: "+u);if(o[u].labels.length!==o[u].channels)throw new Error("channel and label counts mismatch: "+u);var s=o[u].channels,c=o[u].labels;delete o[u].channels,delete o[u].labels,Object.defineProperty(o[u],"channels",{value:s}),Object.defineProperty(o[u],"labels",{value:c})}o.rgb.hsl=function(e){var t,n,r=e[0]/255,a=e[1]/255,i=e[2]/255,o=Math.min(r,a,i),u=Math.max(r,a,i),s=u-o;return u===o?t=0:r===u?t=(a-i)/s:a===u?t=2+(i-r)/s:i===u&&(t=4+(r-a)/s),(t=Math.min(60*t,360))<0&&(t+=360),n=(o+u)/2,[t,100*(u===o?0:n<=.5?s/(u+o):s/(2-u-o)),100*n]},o.rgb.hsv=function(e){var t,n,r,a,i,o=e[0]/255,u=e[1]/255,s=e[2]/255,c=Math.max(o,u,s),l=c-Math.min(o,u,s),f=function(e){return(c-e)/6/l+.5};return 0===l?a=i=0:(i=l/c,t=f(o),n=f(u),r=f(s),o===c?a=r-n:u===c?a=1/3+t-r:s===c&&(a=2/3+n-t),a<0?a+=1:a>1&&(a-=1)),[360*a,100*i,100*c]},o.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[o.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},o.rgb.cmyk=function(e){var t,n=e[0]/255,r=e[1]/255,a=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-a)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-a-t)/(1-t)||0),100*t]},o.rgb.keyword=function(e){var t=a[e];if(t)return t;var n,i,o,u=1/0;for(var s in r)if(r.hasOwnProperty(s)){var c=r[s],l=(i=e,o=c,Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)+Math.pow(i[2]-o[2],2));l<u&&(u=l,n=s)}return n},o.keyword.rgb=function(e){return r[e]},o.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},o.rgb.lab=function(e){var t=o.rgb.xyz(e),n=t[0],r=t[1],a=t[2];return r/=100,a/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]},o.hsl.rgb=function(e){var t,n,r,a,i,o=e[0]/360,u=e[1]/100,s=e[2]/100;if(0===u)return[i=255*s,i,i];t=2*s-(n=s<.5?s*(1+u):s+u-s*u),a=[0,0,0];for(var c=0;c<3;c++)(r=o+1/3*-(c-1))<0&&r++,r>1&&r--,i=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,a[c]=255*i;return a},o.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,a=n,i=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,a*=i<=1?i:2-i,[t,100*(0===r?2*a/(i+a):2*n/(r+n)),100*((r+n)/2)]},o.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,a=Math.floor(t)%6,i=t-Math.floor(t),o=255*r*(1-n),u=255*r*(1-n*i),s=255*r*(1-n*(1-i));switch(r*=255,a){case 0:return[r,s,o];case 1:return[u,r,o];case 2:return[o,r,s];case 3:return[o,u,r];case 4:return[s,o,r];case 5:return[r,o,u]}},o.hsv.hsl=function(e){var t,n,r,a=e[0],i=e[1]/100,o=e[2]/100,u=Math.max(o,.01);return r=(2-i)*o,n=i*u,[a,100*(n=(n/=(t=(2-i)*u)<=1?t:2-t)||0),100*(r/=2)]},o.hwb.rgb=function(e){var t,n,r,a,i,o,u,s=e[0]/360,c=e[1]/100,l=e[2]/100,f=c+l;switch(f>1&&(c/=f,l/=f),r=6*s-(t=Math.floor(6*s)),0!==(1&t)&&(r=1-r),a=c+r*((n=1-l)-c),t){default:case 6:case 0:i=n,o=a,u=c;break;case 1:i=a,o=n,u=c;break;case 2:i=c,o=n,u=a;break;case 3:i=c,o=a,u=n;break;case 4:i=a,o=c,u=n;break;case 5:i=n,o=c,u=a}return[255*i,255*o,255*u]},o.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,a=e[3]/100;return[255*(1-Math.min(1,t*(1-a)+a)),255*(1-Math.min(1,n*(1-a)+a)),255*(1-Math.min(1,r*(1-a)+a))]},o.xyz.rgb=function(e){var t,n,r,a=e[0]/100,i=e[1]/100,o=e[2]/100;return n=-.9689*a+1.8758*i+.0415*o,r=.0557*a+-.204*i+1.057*o,t=(t=3.2406*a+-1.5372*i+-.4986*o)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},o.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},o.lab.xyz=function(e){var t,n,r,a=e[0];t=e[1]/500+(n=(a+16)/116),r=n-e[2]/200;var i=Math.pow(n,3),o=Math.pow(t,3),u=Math.pow(r,3);return n=i>.008856?i:(n-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,r=u>.008856?u:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},o.lab.lch=function(e){var t,n=e[0],r=e[1],a=e[2];return(t=360*Math.atan2(a,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+a*a),t]},o.lch.lab=function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},o.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],a=1 in arguments?arguments[1]:o.rgb.hsv(e)[2];if(0===(a=Math.round(a/50)))return 30;var i=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===a&&(i+=60),i},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},o.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},o.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},o.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},o.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,a=e[2]/255,i=Math.max(Math.max(n,r),a),o=Math.min(Math.min(n,r),a),u=i-o;return t=u<=0?0:i===n?(r-a)/u%6:i===r?2+(a-n)/u:4+(n-r)/u+4,t/=6,[360*(t%=1),100*u,100*(u<1?o/(1-u):0)]},o.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,a=0;return(r=n<.5?2*t*n:2*t*(1-n))<1&&(a=(n-.5*r)/(1-r)),[e[0],100*r,100*a]},o.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,a=0;return r<1&&(a=(n-r)/(1-r)),[e[0],100*r,100*a]},o.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var a,i=[0,0,0],o=t%1*6,u=o%1,s=1-u;switch(Math.floor(o)){case 0:i[0]=1,i[1]=u,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=u;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=u,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return a=(1-n)*r,[255*(n*i[0]+a),255*(n*i[1]+a),255*(n*i[2]+a)]},o.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},o.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},o.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},o.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,a=0;return r<1&&(a=(n-r)/(1-r)),[e[0],100*r,100*a]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=o.gray.hsv=function(e){return[0,0,e[0]]},o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(747)),a=o(n(404)),i=o(n(519));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t,n){var o=e[0].length,u=e.map((function(e,r){var u=(0,a.default)(t[r],(function(){return new Array(o).fill("")}));return e.forEach((function(e,t){(0,i.default)(e,n.columns[t].width,n.columns[t].wrapWord).forEach((function(e,n){u[n][t]=e}))})),u}));return(0,r.default)(u)};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(263)),a=i(n(750));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t){return e.map((function(e){return e.map((function(e,n){var i=t.columns[n];return(0,r.default)(e)===i.width?e:(0,a.default)(e,i.width,i.alignment)}))}))};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){return e.map((function(e){return e.map((function(e,n){var r=t.columns[n];return" ".repeat(r.paddingLeft)+e+" ".repeat(r.paddingRight)}))}))};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e.map((function(e){return e.map(String)}))};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(752))&&r.__esModule?r:{default:r};var i=function(e,t){return e.map((function(e){return e.map((function(e,n){return(0,a.default)(e,{length:t.columns[n].truncate})}))}))};t.default=i},function(e,t,n){var r=n(753);e.exports=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:r(e,t,n)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(759),a=n(410),i=n(760);e.exports=function(e){return a(e)?i(e):r(e)}},function(e,t,n){var r=n(763)();e.exports=r},function(e,t,n){var r=n(764),a=n(777),i=n(267),o=n(102),u=n(785);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?o(e)?a(e[0],e[1]):r(e):u(e)}},function(e,t,n){var r=n(766),a=n(108);e.exports=function e(t,n,i,o,u){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,i,o,e,u))}},function(e,t,n){var r=n(767),a=n(770),i=n(771);e.exports=function(e,t,n,o,u,s){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var p=-1,v=!0,m=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var g=e[p],b=t[p];if(o)var y=c?o(b,g,p,t,e,s):o(g,b,p,e,t,s);if(void 0!==y){if(y)continue;v=!1;break}if(m){if(!a(t,(function(e,t){if(!i(m,t)&&(g===e||u(g,e,n,o,s)))return m.push(t)}))){v=!1;break}}else if(g!==b&&!u(g,b,n,o,s)){v=!1;break}}return s.delete(e),s.delete(t),v}},function(e,t,n){var r=n(107);e.exports=function(e){return e===e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var r=n(537),a=n(305);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[a(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(102),a=n(413),i=n(779),o=n(411);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:i(o(e))}},function(e,t,n){var r=n(130);e.exports=function(e,t,n){return 0!==r(e,t,n)}},function(e,t,n){var r=n(415),a=n(538),i=n(309),o=n(418),u=n(417),s=n(419);e.exports=function(e,t,n,c){switch(t){case"===":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e===n;case"!==":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,c);case"!=":return a(e,n,c);case">":return i(e,n,c);case">=":return o(e,n,c);case"<":return u(e,n,c);case"<=":return s(e,n,c);default:throw new TypeError("Invalid operator: ".concat(t))}}},function(e){e.exports=JSON.parse('{"a":"5.13.0"}')},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return S})),n.d(t,"e",(function(){return z})),n.d(t,"f",(function(){return B})),n.d(t,"g",(function(){return P})),n.d(t,"h",(function(){return j}));var r=n(2),a=n.n(r),i=n(13),o=n(68),u=n(940),s=n(125),c=n(85),l=/^([A-Za-z]+:)?\/\//,f=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,d=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,h="file://";function p(e,t){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(a.a.mark((function e(t,n){var r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sanitize(t,n);case 2:return r=e.sent,i=r.href,e.abrupt("return",r.localFile?this.file(i):this.http(i,n));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function m(e,t){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(a.a.mark((function e(t,n){var r,i,u,s,c,p,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(o.b)({},this.options,n),r=this.fileAccess,i={href:null},p=f.test(t.replace(d,"")),null!=t&&"string"===typeof t&&p||Object(o.a)("Sanitize failure, invalid URI: "+Object(o.h)(t)),v=l.test(t),(c=n.baseURL)&&!v&&(t.startsWith("/")||"/"===c[c.length-1]||(t="/"+t),t=c+t),s=(u=t.startsWith(h))||"file"===n.mode||"http"!==n.mode&&!v&&r,u?t=t.slice(h.length):t.startsWith("//")&&("file"===n.defaultProtocol?(t=t.slice(2),s=!0):t=(n.defaultProtocol||"http")+":"+t),Object.defineProperty(i,"localFile",{value:!!s}),i.href=t,n.target&&(i.target=n.target+""),n.rel&&(i.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(i.crossOrigin=n.crossOrigin+""),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function b(e){return e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){e?r(e):n(t)}))}))}:y}function y(){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(o.a)("No file system access.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return e?function(){var t=Object(i.a)(a.a.mark((function t(n,r){var i,u,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(o.b)({},this.options.http,r),u=r&&r.response,t.next=4,e(n,i);case 4:return s=t.sent,t.abrupt("return",s.ok?Object(o.f)(s[u])?s[u]():s.text():Object(o.a)(s.status+""+s.statusText));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}():w}function w(){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(o.a)("No HTTP fetch method available.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(e){return!Number.isNaN(+e)&&!(e instanceof Date)},j={boolean:o.i,integer:o.k,number:o.k,date:o.j,string:o.l,unknown:o.e},E=[function(e){return"true"===e||"false"===e||!0===e||!1===e},function(e){return k(e)&&Number.isInteger(+e)},k,function(e){return!Number.isNaN(Date.parse(e))}],C=["boolean","integer","number","date"];function A(e,t){if(!e||!e.length)return"unknown";for(var n,r,a,i=e.length,o=E.length,u=E.map((function(e,t){return t+1})),s=0,c=0;s<i;++s)for(r=t?e[s][t]:e[s],n=0;n<o;++n)if(u[n]&&(null!=(a=r)&&a===a)&&!E[n](r)&&(u[n]=0,++c===E.length))return"string";return C[u.reduce((function(e,t){return 0===e?t:e}),0)-1]}function S(e,t){return t.reduce((function(t,n){return t[n]=A(e,n),t}),{})}function D(e){var t=function(t,n){var r={delimiter:e};return N(t,n?Object(o.b)(n,r):r)};return t.responseType="text",t}function N(e,t){return t.header&&(e=t.header.map(o.h).join(t.delimiter)+"\n"+e),Object(u.a)(t.delimiter).parse(e+"")}function F(t,n){var r,a=n&&n.property?Object(o.c)(n.property):o.e;return!Object(o.g)(t)||(r=t,"function"===typeof e&&Object(o.f)(e.isBuffer)&&e.isBuffer(r))?a(JSON.parse(t)):function(e,t){return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(a(t),n)}N.responseType="text",F.responseType="json";var T={interior:function(e,t){return e!==t},exterior:function(e,t){return e===t}};function M(e,t){var n,r,a,i;return e=F(e,t),t&&t.feature?(n=s.a,a=t.feature):t&&t.mesh?(n=s.b,a=t.mesh,i=T[t.filter]):Object(o.a)("Missing TopoJSON feature or mesh parameter."),(r=(r=e.objects[a])?n(e,r,i):Object(o.a)("Invalid TopoJSON object: "+a))&&r.features||[r]}M.responseType="json";var I={dsv:N,csv:D(","),tsv:D("\t"),json:F,topojson:M};function R(e,t){return arguments.length>1?(I[e]=t,this):Object(o.d)(I,e)?I[e]:null}function P(e){var t=R(e);return t&&t.responseType||"text"}function B(e,t,n,r){var a=R((t=t||{}).type||"json");return a||Object(o.a)("Unknown data format type: "+t.type),e=a(e,t),t.parse&&function(e,t,n,r){if(!e.length)return;var a=Object(c.e)();n=n||a.timeParse,r=r||a.utcParse;var i,o,u,s,l,f,d=e.columns||Object.keys(e[0]);"auto"===t&&(t=S(e,d));var h=(d=Object.keys(t)).map((function(e){var a,i,o=t[e];if(o&&(o.startsWith("date:")||o.startsWith("utc:")))return("'"===(i=(a=o.split(/:(.+)?/,2))[1])[0]&&"'"===i[i.length-1]||'"'===i[0]&&'"'===i[i.length-1])&&(i=i.slice(1,-1)),("utc"===a[0]?r:n)(i);if(!j[o])throw Error("Illegal format pattern: "+e+":"+o);return j[o]}));for(u=0,l=e.length,f=d.length;u<l;++u)for(i=e[u],s=0;s<f;++s)i[o=d[s]]=h[s](i[o])}(e,t.parse,n,r),Object(o.d)(e,"columns")&&delete e.columns,e}var z=function(e,t){return function(n){return{options:n||{},sanitize:m,load:p,fileAccess:!!t,file:b(t),http:_(e)}}}("undefined"!==typeof fetch&&fetch,null)}).call(this,n(165).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processStyleName=void 0,t.createMarkupForStyles=function(e,t){var n="";for(var a in e){var i=0===a.indexOf("--");if(e.hasOwnProperty(a)&&"label"!==a){var o=e[a];0,null!=o&&(i?n+=a+":"+o+";":(n+=u(a)+":",n+=(0,r.default)(a,o,t)+";"))}}return n||null};o(n(825));var r=o(n(827)),a=o(n(830)),i=o(n(832));o(n(543));function o(e){return e&&e.__esModule?e:{default:e}}var u=t.processStyleName=(0,i.default)(a.default)},function(e,t,n){"use strict";var r=n(829);e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSurfaceInfo=function(e){return null!=e.name},t.isSurface=function(e){return e.drawArea instanceof HTMLElement}},function(e,t,n){"use strict";var r=n(166),a=n(167);Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(851),u="tfjs-visor-container";t.visor=function(){if("undefined"===typeof document)throw new Error("No document defined. This library needs a browser/dom to work");if(document.getElementById(u)&&null!=i)return i;var e,t=document.getElementById(u);function n(t,n){var r=null;return e=o.VisorComponent.render(t,e,{ref:function(e){return r=e},surfaceList:Array.from(n.values())}),r}null==t&&((t=document.createElement("div")).id=u,document.body.appendChild(t));var r=new Map,a=n(t,r);return i=new s(a,t,r,n)};var s=function(){function e(t,n,a,i){r(this,e),this.visorComponent=t,this.el=n,this.surfaceList=a,this.renderVisor=i}return a(e,[{key:"surface",value:function(e){var t=e.name,n=null==e.tab?"Visor":e.tab;if(null==t||!("string"===typeof t||t instanceof String))throw new Error("You must pass a config object with a 'name' property to create or retrieve a surface");var r=Object.assign({},e,{tab:n}),a="".concat(t,"-").concat(n);return this.surfaceList.has(a)||this.surfaceList.set(a,r),this.renderVisor(this.el,this.surfaceList),this.visorComponent.getSurface(t,n)}},{key:"isFullscreen",value:function(){return this.visorComponent.isFullscreen()}},{key:"isOpen",value:function(){return this.visorComponent.isOpen()}},{key:"close",value:function(){return this.visorComponent.close()}},{key:"open",value:function(){return this.visorComponent.open()}},{key:"toggle",value:function(){return this.visorComponent.toggle()}},{key:"toggleFullScreen",value:function(){return this.visorComponent.toggleFullScreen()}},{key:"bindKeys",value:function(){return this.visorComponent.bindKeys()}},{key:"unbindKeys",value:function(){return this.visorComponent.unbindKeys()}},{key:"setActiveTab",value:function(e){if(!this.visorComponent.state.tabs.has(e))throw new Error("Tab '".concat(e,"' does not exist"));this.visorComponent.setState({activeTab:e})}}]),e}();t.Visor=s},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";var r=n(2),a=n(208),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(214)),s=n(168),c=n(312),l=n(132);t.linechart=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,void 0,void 0,r.mark((function i(){var o,d,h,p,v,m,g,b,y,x,_,w,O,k;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(o=Array.isArray(t.values[0])?t.values:[t.values],d=o[0].length,h=t.series?t.series:o.map((function(e,t){return"Series ".concat(t+1)})),c.assert(h.length===o.length,"Must have an equal number of series labels as there are data series"),null!=n.seriesColors&&c.assert(n.seriesColors.length===o.length,"Must have an equal number of series colors as there are data series"),p=[],v=function(e){var t={x:e};h.forEach((function(n,r){var a=o[r][e].y;t[n]=a,t["".concat(n,"-name")]=n})),p.push(t)},m=0;m<d;m++)v(m);return g=Object.assign({},f,n),b=function(){return g.zoomToFit?{zero:!1}:null!=g.yAxisDomain?{domain:g.yAxisDomain}:void 0},y={x:{field:"x",type:g.xType,title:g.xLabel},tooltip:[{field:"x",type:"quantitative"}].concat(a(h.map((function(e){return{field:e,type:"quantitative"}}))))},x=h.map((function(e){return{data:void 0,mark:{type:"line",clip:!0},encoding:{y:{field:e,type:g.yType,title:g.yLabel,scale:b()},color:{field:"".concat(e,"-name"),type:"nominal",legend:{values:h,title:null},scale:{range:g.seriesColors}}}}})),_={mark:"rule",selection:{hover:{type:"single",on:"mouseover",nearest:!0,clear:"mouseout"}},encoding:{color:{value:"grey",condition:{selection:{not:"hover"},value:"transparent"}}}},w=l.getDrawArea(e),O={width:g.width||s.getDefaultWidth(w),height:g.height||s.getDefaultHeight(w),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:g.fontSize,titleFontSize:g.fontSize},text:{fontSize:g.fontSize},legend:{labelFontSize:g.fontSize,titleFontSize:g.fontSize}},data:{values:p},encoding:y,layer:[].concat(a(x),[_])},k={actions:!1,mode:"vega-lite",defaultStyle:!1},r.next=18,u.default(w,O,k);case 18:return r.abrupt("return",Promise.resolve());case 19:case"end":return r.stop()}}),i)})))};var f={xLabel:"x",yLabel:"y",xType:"quantitative",yType:"quantitative",zoomToFit:!1,fontSize:11}},function(e,t,n){var r=n(146),a=n(402),i=n(108),o=Function.prototype,u=Object.prototype,s=o.toString,c=u.hasOwnProperty,l=s.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==l}},function(e,t,n){var r=n(412),a=n(885)(r);e.exports=a},function(e,t,n){var r=n(298),a=n(264);e.exports=function(e,t,n){(void 0!==n&&!a(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){var r=n(107),a=n(913),i=n(514),o=Math.max,u=Math.min;e.exports=function(e,t,n){var s,c,l,f,d,h,p=0,v=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=s,r=c;return s=c=void 0,p=t,f=e.apply(r,n)}function y(e){return p=e,d=setTimeout(_,t),v?b(e):f}function x(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-p>=l}function _(){var e=a();if(x(e))return w(e);d=setTimeout(_,function(e){var n=t-(e-h);return m?u(n,l-(e-p)):n}(e))}function w(e){return d=void 0,g&&s?b(e):(s=c=void 0,f)}function O(){var e=a(),n=x(e);if(s=arguments,c=this,h=e,n){if(void 0===d)return y(h);if(m)return clearTimeout(d),d=setTimeout(_,t),b(h)}return void 0===d&&(d=setTimeout(_,t)),f}return t=i(t)||0,r(n)&&(v=!!n.leading,l=(m="maxWait"in n)?o(i(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g),O.cancel=function(){void 0!==d&&clearTimeout(d),p=0,s=h=c=d=void 0},O.flush=function(){return void 0===d?f:w(a())},O}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,t){for(var n,u,s=o(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))a.call(n,l)&&(s[l]=n[l]);if(r){u=r(n);for(var f=0;f<u.length;f++)i.call(n,u[f])&&(s[u[f]]=n[u[f]])}}return s}},,function(e,t,n){"use strict";n.r(t),n.d(t,"formatDefaultLocale",(function(){return g})),n.d(t,"format",(function(){return l})),n.d(t,"formatPrefix",(function(){return f})),n.d(t,"formatLocale",(function(){return m})),n.d(t,"formatSpecifier",(function(){return o})),n.d(t,"precisionFixed",(function(){return b})),n.d(t,"precisionPrefix",(function(){return y})),n.d(t,"precisionRound",(function(){return x}));var r=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},a=function(e){return(e=r(Math.abs(e)))?e[1]:NaN},i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function o(e){return new u(e)}function u(e){if(!(t=i.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}o.prototype=u.prototype,u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var s,c,l,f,d=function(e,t){var n=r(e,t);if(!n)return e+"";var a=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")},h={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return d(100*e,t)},r:d,s:function(e,t){var n=r(e,t);if(!n)return e+"";var a=n[0],i=n[1],o=i-(s=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=a.length;return o===u?a:o>u?a+new Array(o-u+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+r(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},p=function(e){return e},v=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],m=function(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var a=e.length,i=[],o=0,u=t[0],s=0;a>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),i.push(e.substring(a-=u,a+u)),!((s+=u+1)>r));)u=t[o=(o+1)%t.length];return i.reverse().join(n)}):p,i=e.currency,u=e.decimal,c=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(e.numerals):p,l=e.percent||"%";function f(e){var t=(e=o(e)).fill,n=e.align,a=e.sign,f=e.symbol,d=e.zero,p=e.width,m=e.comma,g=e.precision,b=e.trim,y=e.type;"n"===y?(m=!0,y="g"):h[y]||(null==g&&(g=12),b=!0,y="g"),(d||"0"===t&&"="===n)&&(d=!0,t="0",n="=");var x="$"===f?i[0]:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===f?i[1]:/[%p]/.test(y)?l:"",w=h[y],O=/[defgprs%]/.test(y);function k(e){var i,o,l,f=x,h=_;if("c"===y)h=w(e)+h,e="";else{var k=(e=+e)<0;if(e=w(Math.abs(e),g),b&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(a>0){if(!+e[r])break e;a=0}}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),k&&0===+e&&(k=!1),f=(k?"("===a?a:"-":"-"===a||"("===a?"":a)+f,h=("s"===y?v[8+s/3]:"")+h+(k&&"("===a?")":""),O)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){h=(46===l?u+e.slice(i+1):e.slice(i))+h,e=e.slice(0,i);break}}m&&!d&&(e=r(e,1/0));var j=f.length+e.length+h.length,E=j<p?new Array(p-j+1).join(t):"";switch(m&&d&&(e=r(E+e,E.length?p-h.length:1/0),E=""),n){case"<":e=f+e+h+E;break;case"=":e=f+E+e+h;break;case"^":e=E.slice(0,j=E.length>>1)+f+e+h+E.slice(j);break;default:e=E+f+e+h}return c(e)}return g=null==g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return e+""},k}return{format:f,formatPrefix:function(e,t){var n=f(((e=o(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(a(t)/3))),i=Math.pow(10,-r),u=v[8+r/3];return function(e){return n(i*e)+u}}}};function g(e){return c=m(e),l=c.format,f=c.formatPrefix,c}g({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var b=function(e){return Math.max(0,-a(Math.abs(e)))},y=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(a(t)/3)))-a(Math.abs(e)))},x=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,a(t)-a(e))+1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(7);function i(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));var a=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(n.length!==i)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(i,"."));var o=t.size;if(0!==t.rank&&(1!==t.rank||o!==a))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(a,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}var o=n(8),u=n(11);var s=Object(u.b)({sparseToDense_:function(e,t,n){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=Object(o.a)(e,"sparseIndices","sparseToDense","int32"),c=Object(o.a)(t,"sparseValues","sparseToDense"),l=Object(o.a)(u,"defaultValue","sparseToDense",c.dtype);i(s,c,n,l);var f={sparseIndices:s,sparseValues:c,defaultValue:l},d={outputShape:n};return r.a.runKernel(a.Ic,f,d)}})},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number"}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]}]},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(2),a=n.n(r),i=n(13),o=n(3),u=n(9),s=n(15),c=n(16),l=n(0),f=n(84),d=n(577),h=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"decodeUTF8",value:function(){return new p(this)}}]),n}(f.a),p=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).upstream=e,r.impl=new v(e),r}return Object(u.a)(n,[{key:"summary",value:function(){return this.impl.summary()}},{key:"next",value:function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.impl.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(d.a),v=function(t){Object(s.a)(f,t);var r=Object(c.a)(f);function f(e){var t;if(Object(o.a)(this,f),(t=r.call(this)).upstream=e,Object(l.env)().get("IS_BROWSER"))t.decoder=new TextDecoder("utf-8");else{var a=n(661).StringDecoder;t.decoder=new a("utf8")}return t}return Object(u.a)(f,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Utf8")}},{key:"pump",value:function(){var t=Object(i.a)(a.a.mark((function t(){var n,r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.upstream.next();case 2:if(!(n=t.sent).done){t.next=7;break}return t.abrupt("return",!1);case 7:r=n.value;case 8:return i=Object(l.env)().get("IS_BROWSER")?this.decoder.decode(r,{stream:!0}):this.decoder.write(e.from(r.buffer)),this.outputQueue.push(i),t.abrupt("return",!0);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),f}(f.b)}).call(this,n(165).Buffer)},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(10),a=n(2),i=n.n(a),o=n(13),u=n(3),s=n(9),c=n(15),l=n(16),f=n(84),d=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"split",value:function(e){return new h(this,e)}}]),n}(f.a),h=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this)).upstream=e,a.impl=new p(e,r),a}return Object(s.a)(n,[{key:"summary",value:function(){return this.impl.summary()}},{key:"next",value:function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.impl.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(d),p=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this)).upstream=e,a.separator=r,a.carryover="",a}return Object(s.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Split('").concat(this.separator,"')")}},{key:"pump",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,n,a,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=9;break}if(""!==this.carryover){e.next=6;break}return e.abrupt("return",!1);case 6:return this.outputQueue.push(this.carryover),this.carryover="",e.abrupt("return",!0);case 9:(n=t.value.split(this.separator))[0]=this.carryover+n[0],a=Object(r.a)(n.slice(0,-1));try{for(a.s();!(o=a.n()).done;)u=o.value,this.outputQueue.push(u)}catch(i){a.e(i)}finally{a.f()}return this.carryover=n[n.length-1],e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(f.b)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return GroupBy}));var _home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14),_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),_frame__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(158),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(93),_series__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(57),utils=new _utils__WEBPACK_IMPORTED_MODULE_4__.a,GroupBy=function(){function GroupBy(e,t,n,r){Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,GroupBy),this.key_col=t,this.col_dict=e,this.data=n,this.column_name=r,this.data_tensors={}}return Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(GroupBy,[{key:"group",value:function(){if(2==this.key_col.length){for(var e=0;e<this.data.length;e++){var t=this.column_name.indexOf(this.key_col[0]),n=this.column_name.indexOf(this.key_col[1]),r=this.data[e],a=r[t],i=r[n];Object.prototype.hasOwnProperty.call(this.col_dict,a)&&Object.prototype.hasOwnProperty.call(this.col_dict[a],i)&&this.col_dict[a][i].push(r)}for(var o in this.col_dict)for(var u in this.data_tensors[o]={},this.col_dict[o]){var s=this.col_dict[o][u];0==s.length?delete this.col_dict[o][u]:this.data_tensors[o][u]=new _frame__WEBPACK_IMPORTED_MODULE_3__.a(s,{columns:this.column_name})}}else{for(var c=0;c<this.data.length;c++){var l=this.column_name.indexOf(this.key_col[0]),f=this.data[c],d=f[l];Object.prototype.hasOwnProperty.call(this.col_dict,d)&&this.col_dict[d].push(f)}for(var h in this.col_dict){var p=this.col_dict[h];this.data_tensors[h]=new _frame__WEBPACK_IMPORTED_MODULE_3__.a(p,{columns:this.column_name})}}return this}},{key:"col",value:function(e){if(this.selected_column=e,!Array.isArray(e))throw new Error("Col_name must be an array of column");for(var t=0;t<e.length;t++){var n=e[t];if(!this.column_name.includes(n))throw new Error("Column ".concat(n," does not exist in groups"))}var r={};if(2==this.key_col.length)for(var a in this.data_tensors)for(var i in r[a]={},this.data_tensors[a]){r[a][i]=[];for(var o=0;o<e.length;o++){var u=e[o],s=this.data_tensors[a][i].column(u);r[a][i].push(s)}}else for(var c in this.data_tensors){r[c]=[];for(var l=0;l<e.length;l++){var f=e[l],d=this.data_tensors[c].column(f);r[c].push(d)}}var h=new GroupBy(null,this.key_col,null,e);return h.group_col=r,h.group_col_name=e,h}},{key:"arithemetic",value:function arithemetic(operation){var ops_name=["mean","sum","count","mode","std","var","cumsum","cumprod","cummax","cummin"],ops_map={mean:"mean()",sum:"sum()",mode:"mode()",count:"count()",std:"std()",var:"var()",cumsum:"cumsum().values",cumprod:"cumprod().values",cummax:"cummax().values",cummin:"cummin().values"},is_array=!1,local=null;if(Array.isArray(operation)&&(is_array=!0),2==this.key_col.length){var count_group={};for(var key1 in this.group_col)for(var key2 in count_group[key1]={},this.group_col[key1]){count_group[key1][key2]=[];for(var i=0;i<this.group_col[key1][key2].length;i++){var data=null;if(is_array){var op=operation[i];if(!ops_name.includes(op))throw new Error("operation does not exist");local=this.group_col[key1][key2][i],data=eval("local.".concat(ops_map[op]))}else local=this.group_col[key1][key2][i],data=eval("local.".concat(operation));count_group[key1][key2].push(data)}}return count_group}var _count_group={};for(var _key3 in this.group_col){_count_group[_key3]=[];for(var _i4=0;_i4<this.group_col[_key3].length;_i4++){var _data3=null;if(is_array){var _op=operation[_i4];if(!ops_name.includes(_op))throw new Error("operation does not exist");local=this.group_col[_key3][_i4],_data3=eval("local.".concat(ops_map[_op]))}else local=this.group_col[_key3][_i4],_data3=eval("local.".concat(operation));_count_group[_key3].push(_data3)}}return _count_group}},{key:"operations",value:function(e,t){var n=this;if(this.group_col){var r=this.arithemetic(e);return this.to_DataFrame(this.key_col,this.group_col_name,r,t)}var a=this.column_name.filter((function(e){return!n.key_col.includes(e)})),i=this.col(a),o=i.arithemetic(e);return i.to_DataFrame(i.key_col,i.group_col_name,o,t)}},{key:"count",value:function(){return this.operations("count()","count")}},{key:"sum",value:function(){return this.operations("sum()","sum")}},{key:"std",value:function(){return this.operations("std()","std")}},{key:"var",value:function(){return this.operations("var()","var")}},{key:"mean",value:function(){return this.operations("mean()","mean")}},{key:"cumsum",value:function(){return this.operations("cumsum().values","cumsum")}},{key:"cummax",value:function(){return this.operations("cummax().values","cummax")}},{key:"cumprod",value:function(){return this.operations("cumprod().values","cumprod")}},{key:"cummin",value:function(){return this.operations("cummin().values","cummin")}},{key:"max",value:function(){return this.operations("max()","max")}},{key:"min",value:function(){return this.operations("min()","min")}},{key:"get_groups",value:function(e){if(2==this.key_col.length){if(2==e.length){var t=e[0],n=e[1];return utils.__is_object(this.data_tensors,t,"Key Error: ".concat(t," not in object")),this.data_tensors[t][n]}throw new Error("specify the two group by column")}if(1==this.key_col.length){if(1==e.length)return utils.__is_object(this.data_tensors,e[0],"Key Error: ".concat(e[0]," not in object")),this.data_tensors[e[0]];throw new Error("specify the one group by column")}return this.data_tensors[e]}},{key:"agg",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),n=t.map((function(t){return e[t].toLocaleLowerCase()})),r=this.col(t),a=r.arithemetic(n),i=this.to_DataFrame(r.key_col,r.group_col_name,a,n);return i}},{key:"to_DataFrame",value:function(e,t,n,r){if(2==e.length){var a=[];for(var i in n){var o=n[i];for(var u in o){var s=o[u],c=[];if(Array.isArray(s[0])){for(var l=0;l<s.length;l++)for(var f=s[l],d=0;d<f.length;d++)"undefined"===typeof c[d]?(c[d]=[],c[d][0]=isNaN(parseInt(i))?i:parseInt(i),c[d][1]=isNaN(parseInt(u))?u:parseInt(u),c[d].push(f[d])):c[d].push(f[d]);a.push.apply(a,c)}else c[0]=isNaN(parseInt(i))?i:parseInt(i),c[1]=isNaN(parseInt(u))?u:parseInt(u),c.push.apply(c,Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(s)),a.push(c)}}var h=Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(e),p=t.slice().map((function(e,t){return Array.isArray(r)?"".concat(e,"_").concat(r[t]):"".concat(e,"_").concat(r)}));return h.push.apply(h,Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(p)),new _frame__WEBPACK_IMPORTED_MODULE_3__.a(a,{columns:h})}var v=[];for(var m in n){var g=n[m],b=[];if(Array.isArray(g[0]))for(var y=0;y<g.length;y++){for(var x=g[y],_=0;_<x.length;_++)"undefined"===typeof b[_]?(b[_]=[],b[_][0]=isNaN(parseInt(m))?m:parseInt(m),b[_].push(x[_])):b[_].push(x[_]);v.push.apply(v,b)}else b[0]=isNaN(parseInt(m))?m:parseInt(m),b.push.apply(b,Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(g)),v.push(b)}var w=Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(e),O=t.slice().map((function(e,t){return Array.isArray(r)?"".concat(e,"_").concat(r[t]):"".concat(e,"_").concat(r)}));return w.push.apply(w,Object(_home_yhussain_Broad_Project_ProofOfConcept_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(O)),new _frame__WEBPACK_IMPORTED_MODULE_3__.a(v,{columns:w})}},{key:"apply",value:function(e){var t,n,r=this;this.group_col?(n=this.group_col_name,t=this.group_col):(n=this.column_name.filter((function(e){return!r.key_col.includes(e)})),t=this.col(n).group_col);var a={};if(2==this.key_col.length)for(var i in this.data_tensors)for(var o in a[i]={},this.data_tensors[i]){a[i][o]=[];for(var u=0;u<t[i][o].length;u++){var s=e(t[i][o][u]);s instanceof _frame__WEBPACK_IMPORTED_MODULE_3__.a||s instanceof _series__WEBPACK_IMPORTED_MODULE_5__.a?a[i][o].push(s.values):a[i][o].push(s)}}else for(var c in t){a[c]=[];for(var l=0;l<t[c].length;l++){var f=e(t[c][l]);f instanceof _frame__WEBPACK_IMPORTED_MODULE_3__.a||f instanceof _series__WEBPACK_IMPORTED_MODULE_5__.a?a[c].push(f.values):a[c].push(f)}}return this.to_DataFrame(this.key_col,n,a,"apply")}}]),GroupBy}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(14),a=n(3),i=n(158),o=n(93),u=n(57),s=new o.a,c=function e(t){Object(a.a)(this,e),s.__in_object(t,"df_list","df_list not found: specify the list of dataframe"),s.__in_object(t,"axis","axis not found: specify the axis");var n=null,o=null,c=null;if(!Array.isArray(t.df_list))throw new Error("df_list must be an Array of dataFrames/Series");if(n=t.df_list,"number"!==typeof t.axis)throw new Error("axis must be a number");o=0==t.axis||1==t.axis?t.axis:1;var l=Object.assign({},n);if(1==o){var f=[],d={},h=0,p=Object.keys(l)[0];for(var v in c=l[p].index,l){var m=l[v].columns,g=l[v].values.length;for(var b in g>h&&(h=g),m){var y=m[b];if(y in d){var x=d[y],_="".concat(y,"_").concat(x+1);f.push(_),d[y]=x+1}else f.push(y),d[y]=1}}var w=new Array(h);for(var O in n){for(var k=n[O].values,j=0;j<k.length;j++){var E,C=k[j];if("undefined"===typeof w[j])Array.isArray(C)?w[j]=C:w[j]=[C];else if(Array.isArray(C))(E=w[j]).push.apply(E,Object(r.a)(C));else w[j].push(C)}if(k.length<h){for(var A,S=n[O].columns.length,D=Array(S),N=0;N<S;N++)D[N]=NaN;if("undefined"===typeof w[h-1])w[h-1]=D;else(A=w[h-1]).push.apply(A,D)}}return new i.a(w,{columns:f,index:c})}var F=function(){var e=[],t=[],a=0;for(var o in n){var s,l=n[o].columns;(s=e).push.apply(s,Object(r.a)(l));var f=(c=n[o].index).map((function(e){return"".concat(e,"_row").concat(a)}));t.push.apply(t,Object(r.a)(f)),a+=1}var d=new Set(e);e=Array.from(d);var h=[];for(var p in n){var v=n[p].values,m=n[p].columns,g=[];for(var b in e){var y=e[b];-1==m.indexOf(y)&&g.push(y)}if(g.length>0)for(var x=0;x<v.length;x++){for(var _=v[x],w=Array(e.length),O=0;O<e.length;O++){var k=e[O];if(g.includes(k))w[O]=NaN;else{var j=m.indexOf(k);Array.isArray(_)?w[O]=_[j]:w[O]=_}}h.push(w)}else h.push.apply(h,Object(r.a)(v))}return Array.isArray(h[0])?{v:new i.a(h,{columns:e,index:t})}:{v:new u.a(h,{index:t})}}();if("object"===typeof F)return F.v},l=function(e){return new c(e)}},function(e){e.exports=JSON.parse('{"name":"vega-lite","author":"Dominik Moritz, Kanit \\"Ham\\" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer","version":"4.13.1","collaborators":["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],"homepage":"https://vega.github.io/vega-lite/","description":"Vega-Lite is a concise high-level language for interactive visualization.","main":"build/vega-lite.js","unpkg":"build/vega-lite.min.js","jsdelivr":"build/vega-lite.min.js","module":"build/src/index","types":"build/src/index.d.ts","bin":{"vl2png":"./bin/vl2png","vl2svg":"./bin/vl2svg","vl2pdf":"./bin/vl2pdf","vl2vg":"./bin/vl2vg"},"directories":{"test":"test"},"scripts":{"changelog":"conventional-changelog -p angular -r 2","build":"yarn build:only","build:only":"yarn tsc:src && rollup -c","postbuild":"terser build/vega-lite.js -cm --source-map content=build/vega-lite.js.map,filename=build/vega-lite.min.js.map -o build/vega-lite.min.js && yarn schema && babel build/vega-lite.js --out-dir build-es5 --config-file ./babel.config.js","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"yarn tsc:site && rollup -c site/rollup.config.js","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh","clean":"find build ! -name \'vega-lite-schema.json\' -type f -delete && rm -rf site/data/* && rm -f examples/compiled/*.png && find site/examples ! -name \'index.md\' ! -name \'data\' -type f -delete","predeploy:site":"yarn presite","deploy:site":"gh-pages -d site","data":"rsync -r node_modules/vega-datasets/data/* site/data","schema":"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/","renameschema":"scripts/rename-schema.sh","presite":"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh","site":"pushd site && bundle exec jekyll serve -I -l && popd","tsc:src":"tsc -b src/tsconfig.src.json","tsc:site":"tsc -b site/tsconfig.site.json","prettierbase":"prettier \'**/*.{md,css,yml}\'","eslintbase":"eslint .","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","test":"jest test/ && yarn lint && yarn schema && jest examples/ && yarn test:runtime","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand test","test:runtime":"TZ=America/Los_Angeles jest test-runtime/","test:runtime:generate":"yarn build:only && rm -Rf test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime","watch:build":"yarn build:only && concurrently --kill-others -n Typescript,Rollup \'yarn tsc:src -w\' \'rollup -c -w\'","watch:site":"concurrently --kill-others -n Typescript,Rollup \'yarn tsc:site -w\' \'rollup -c site/rollup.config.js -w\'","watch:test":"jest --watch"},"repository":{"type":"git","url":"https://github.com/vega/vega-lite.git"},"license":"BSD-3-Clause","bugs":{"url":"https://github.com/vega/vega-lite/issues"},"devDependencies":{"@babel/cli":"^7.10.1","@babel/core":"^7.10.1","@babel/preset-env":"^7.10.1","@rollup/plugin-commonjs":"12.0.0","@rollup/plugin-json":"^4.0.3","@rollup/plugin-node-resolve":"^8.0.0","@types/chai":"^4.2.11","@types/d3":"^5.7.2","@types/jest":"^25.2.3","@types/mkdirp":"^1.0.0","@types/puppeteer":"^3.0.0","@typescript-eslint/eslint-plugin":"^3.0.2","@typescript-eslint/parser":"^3.0.2","ajv":"^6.12.2","chai":"^4.2.0","cheerio":"^1.0.0-rc.3","codecov":"^3.7.0","concurrently":"^5.2.0","conventional-changelog-cli":"^2.0.34","d3":"^5.16.0","eslint":"^7.1.0","eslint-config-prettier":"^6.11.0","eslint-plugin-jest":"^23.13.2","eslint-plugin-prettier":"^3.1.3","gh-pages":"^2.2.0","highlight.js":"^10.0.3","http-server":"^0.12.3","jest":"^26.0.1","jest-puppeteer":"^4.4.0","mkdirp":"^1.0.4","prettier":"^2.0.5","puppeteer":"^3.1.0","rollup":"^2.11.0","rollup-plugin-sourcemaps":"^0.6.2","rollup-plugin-terser":"^6.1.0","svg2png-many":"^0.0.7","terser":"^4.7.0","ts-jest":"^26.0.0","ts-json-schema-generator":"^0.68.1","typescript":"~3.9.3","vega-cli":"^5.12.1","vega-datasets":"^1.30.2","vega-embed":"^6.8.0","vega-tooltip":"^0.23.0","vega-typings":"^0.17.0","yaml-front-matter":"^4.1.0"},"dependencies":{"@types/clone":"~0.1.30","@types/fast-json-stable-stringify":"^2.0.0","array-flat-polyfill":"^1.0.1","clone":"~2.1.2","fast-deep-equal":"~3.1.1","fast-json-stable-stringify":"~2.1.0","json-stringify-pretty-compact":"~2.0.0","tslib":"~2.0.0","vega-event-selector":"~2.0.3","vega-expression":"~2.6.5","vega-util":"~1.14.0","yargs":"~15.3.1"},"peerDependencies":{"vega":"^5.12.1"},"jest":{"preset":"jest-puppeteer","transform":{"^.+\\\\.tsx?$":"ts-jest"},"testRegex":"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.(jsx?|tsx?)$","moduleFileExtensions":["ts","tsx","js","jsx","json","node"],"testPathIgnorePatterns":["<rootDir>/node_modules","<rootDir>/build","<rootDir>/_site","<rootDir>/src"],"coverageDirectory":"./coverage/","collectCoverage":false}}')},function(e,t,n){(function(t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,r,a;try{n=Map}catch(s){n=function(){}}try{r=Set}catch(s){r=function(){}}try{a=Promise}catch(s){a=function(){}}function i(o,s,c,l,f){"object"===typeof s&&(c=s.depth,l=s.prototype,f=s.includeNonEnumerable,s=s.circular);var d=[],h=[],p="undefined"!=typeof t;return"undefined"==typeof s&&(s=!0),"undefined"==typeof c&&(c=1/0),function o(c,v){if(null===c)return null;if(0===v)return c;var m,g;if("object"!=typeof c)return c;if(e(c,n))m=new n;else if(e(c,r))m=new r;else if(e(c,a))m=new a((function(e,t){c.then((function(t){e(o(t,v-1))}),(function(e){t(o(e,v-1))}))}));else if(i.__isArray(c))m=[];else if(i.__isRegExp(c))m=new RegExp(c.source,u(c)),c.lastIndex&&(m.lastIndex=c.lastIndex);else if(i.__isDate(c))m=new Date(c.getTime());else{if(p&&t.isBuffer(c))return m=t.allocUnsafe?t.allocUnsafe(c.length):new t(c.length),c.copy(m),m;e(c,Error)?m=Object.create(c):"undefined"==typeof l?(g=Object.getPrototypeOf(c),m=Object.create(g)):(m=Object.create(l),g=l)}if(s){var b=d.indexOf(c);if(-1!=b)return h[b];d.push(c),h.push(m)}for(var y in e(c,n)&&c.forEach((function(e,t){var n=o(t,v-1),r=o(e,v-1);m.set(n,r)})),e(c,r)&&c.forEach((function(e){var t=o(e,v-1);m.add(t)})),c){var x;g&&(x=Object.getOwnPropertyDescriptor(g,y)),x&&null==x.set||(m[y]=o(c[y],v-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(c);for(y=0;y<_.length;y++){var w=_[y];(!(k=Object.getOwnPropertyDescriptor(c,w))||k.enumerable||f)&&(m[w]=o(c[w],v-1),k.enumerable||Object.defineProperty(m,w,{enumerable:!1}))}}if(f){var O=Object.getOwnPropertyNames(c);for(y=0;y<O.length;y++){var k,j=O[y];(k=Object.getOwnPropertyDescriptor(c,j))&&k.enumerable||(m[j]=o(c[j],v-1),Object.defineProperty(m,j,{enumerable:!1}))}}return m}(o,c)}function o(e){return Object.prototype.toString.call(e)}function u(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=o,i.__isDate=function(e){return"object"===typeof e&&"[object Date]"===o(e)},i.__isArray=function(e){return"object"===typeof e&&"[object Array]"===o(e)},i.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===o(e)},i.__getRegExpFlags=u,i}();e.exports&&(e.exports=n)}).call(this,n(165).Buffer)},function(e){e.exports=JSON.parse('{"name":"vega-tooltip","version":"0.23.2","description":"A tooltip plugin for Vega-Lite and Vega visualizations.","main":"build/vega-tooltip.js","module":"build/src/index.js","unpkg":"build/vega-tooltip.min.js","jsdelivr":"build/vega-tooltip.min.js","typings":"build/src/index.d.ts","repository":{"type":"git","url":"https://github.com/vega/vega-tooltip.git"},"keywords":["vega-lite","vega","tooltip"],"author":{"name":"UW Interactive Data Lab","url":"https://idl.cs.washington.edu"},"collaborators":["Dominik Moritz","Sira Horradarn","Zening Qu","Kanit Wongsuphasawat","Yuri Astrakhan","Jeffrey Heer"],"license":"BSD-3-Clause","bugs":{"url":"https://github.com/vega/vega-tooltip/issues"},"homepage":"https://github.com/vega/vega-tooltip#readme","scripts":{"prepare":"beemo create-config --silent","tsc:src":"tsc -b tsconfig.src.json","build":"yarn tsc:src && rollup -c","clean":"rm -rf build examples/data && rm -f src/style.ts","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && yarn copy:build && gh-pages -d examples && yarn clean","prettierbase":"beemo prettier \'examples/*.{html,scss,css}\'","eslintbase":"beemo eslint .","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","postbuild":"terser build/vega-tooltip.js -c -m -o build/vega-tooltip.min.js","prebuild":"mkdir -p build && yarn copy:data && ./build-style.sh","prepublishOnly":"yarn clean && yarn build","preversion":"yarn lint","start":"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \'browser-sync start -s -f build examples --serveStatic examples\' \'yarn tsc:src -w\' \'rollup -c -w\'","pretest":"./build-style.sh","test":"jest"},"devDependencies":{"@rollup/plugin-commonjs":"13.0.0","@rollup/plugin-json":"^4.1.0","@rollup/plugin-node-resolve":"^8.1.0","@types/jest":"^26.0.4","browser-sync":"^2.26.7","codecov":"^3.7.0","concurrently":"^5.2.0","gh-pages":"^3.1.0","jest":"^26.1.0","node-sass":"^4.14.1","path":"^0.12.7","rollup":"^2.21.0","terser":"^4.8.0","ts-jest":"^26.1.1","typescript":"^3.9.6","vega-datasets":"^2.1.0","vega-lite-dev-config":"^0.11.8","vega-typings":"^0.18.0"},"dependencies":{"vega-util":"^1.14.1"},"beemo":{"module":"vega-lite-dev-config","drivers":["prettier","eslint"]},"jest":{"testURL":"http://localhost/","transform":{"^.+\\\\.tsx?$":"ts-jest"},"testRegex":"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.(jsx?|tsx?)$","moduleFileExtensions":["ts","tsx","js","jsx","json","node"],"testPathIgnorePatterns":["node_modules","<rootDir>/build","src"]}}')},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(872),a=n(873);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(4)),o=(0,r(n(874)).default)(i.createElement("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt");t.default=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4);function a(){var e=Object(r.useRef)(!0),t=Object(r.useRef)((function(){return e.current}));return Object(r.useEffect)((function(){return function(){e.current=!1}}),[]),t.current}},function(e,t,n){"use strict";t.a=!("undefined"===typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function a(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function i(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,u=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?u="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(u="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==u){var s=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==u?"\n  "+u:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=a),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.d(t,"a",(function(){return o})),r.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(438);function a(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(595);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(109),a=n.n(r);function i(e){return e instanceof HTMLElement?e:a.a.findDOMNode(e)}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var o=a.apply(null,r);o&&e.push(o)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var u in r)n.call(r,u)&&r[u]&&e.push(u);else e.push(r.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var o=a.apply(null,r);o&&e.push(o)}else if("object"===i)for(var u in r)n.call(r,u)&&r[u]&&e.push(u)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(285);function a(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){(function(t){var n="__lodash_hash_undefined__",r="[object Function]",a="[object GeneratorFunction]",i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/,u=/^\./,s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,l=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,d="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,p=d||h||Function("return this")();var v=Array.prototype,m=Function.prototype,g=Object.prototype,b=p["__core-js_shared__"],y=function(){var e=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),x=m.toString,_=g.hasOwnProperty,w=g.toString,O=RegExp("^"+x.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=p.Symbol,j=v.splice,E=B(p,"Map"),C=B(Object,"create"),A=k?k.prototype:void 0,S=A?A.toString:void 0;function D(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function N(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function F(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function T(e,t,n){var r=e[t];_.call(e,t)&&V(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function M(e,t){for(var n=e.length;n--;)if(V(e[n][0],t))return n;return-1}function I(e){return!(!H(e)||(t=e,y&&y in t))&&(function(e){var t=H(e)?w.call(e):"";return t==r||t==a}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?O:l).test(function(e){if(null!=e){try{return x.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e));var t}function R(e,t,n,r){if(!H(e))return e;for(var a=-1,u=(t=function(e,t){if(q(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||G(e))return!0;return o.test(e)||!i.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return q(e)?e:L(e)}(t)).length,s=u-1,c=e;null!=c&&++a<u;){var l=U(t[a]),f=n;if(a!=s){var d=c[l];void 0===(f=r?r(d,l,c):void 0)&&(f=H(d)?d:z(t[a+1])?[]:{})}T(c,l,f),c=c[l]}return e}function P(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function B(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return I(n)?n:void 0}function z(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||f.test(e))&&e>-1&&e%1==0&&e<t}D.prototype.clear=function(){this.__data__=C?C(null):{}},D.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},D.prototype.get=function(e){var t=this.__data__;if(C){var r=t[e];return r===n?void 0:r}return _.call(t,e)?t[e]:void 0},D.prototype.has=function(e){var t=this.__data__;return C?void 0!==t[e]:_.call(t,e)},D.prototype.set=function(e,t){return this.__data__[e]=C&&void 0===t?n:t,this},N.prototype.clear=function(){this.__data__=[]},N.prototype.delete=function(e){var t=this.__data__,n=M(t,e);return!(n<0)&&(n==t.length-1?t.pop():j.call(t,n,1),!0)},N.prototype.get=function(e){var t=this.__data__,n=M(t,e);return n<0?void 0:t[n][1]},N.prototype.has=function(e){return M(this.__data__,e)>-1},N.prototype.set=function(e,t){var n=this.__data__,r=M(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},F.prototype.clear=function(){this.__data__={hash:new D,map:new(E||N),string:new D}},F.prototype.delete=function(e){return P(this,e).delete(e)},F.prototype.get=function(e){return P(this,e).get(e)},F.prototype.has=function(e){return P(this,e).has(e)},F.prototype.set=function(e,t){return P(this,e).set(e,t),this};var L=W((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(G(e))return S?S.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return u.test(e)&&n.push(""),e.replace(s,(function(e,t,r,a){n.push(r?a.replace(c,"$1"):t||e)})),n}));function U(e){if("string"==typeof e||G(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function W(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o),o};return n.cache=new(W.Cache||F),n}function V(e,t){return e===t||e!==e&&t!==t}W.Cache=F;var q=Array.isArray;function H(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function G(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==w.call(e)}e.exports=function(e,t,n){return null==e?e:R(e,t,n)}}).call(this,n(106))},function(e,t,n){var r=n(880);e.exports=function(e,t){if(null==e)return{};var n,a,i=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t,n){var r=n(921),a=n(922),i=n(923),o=n(924);e.exports=function(e){return r(e)||a(e)||i(e)||o()}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(931)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(63);function a(e,t,n){var a=e[t],i=e.length,o=t-n;if(o>0)return r.d(e.slice(0,n),[a],e.slice(n,t),e.slice(t+1,i));if(o<0){var u=n+1;return r.d(e.slice(0,t),e.slice(t+1,u),[a],e.slice(u,i))}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s}));var r=n(63),a=n(4),i=n(202),o=function(){throw new Error("Make sure that you have wrapped your drop zones with GridContext")},u=a.createContext({register:o,remove:o,getActiveDropId:o,startTraverse:o,measureAll:o,traverse:null,endTraverse:o,onChange:o});function s(e){var t=e.children,n=e.onChange,o=r.b(a.useState(null),2),s=o[0],c=o[1],l=a.useRef(new Map);function f(e,t,n){var r=l.current.get(e);return r?{x:r.left+t,y:r.top+n}:{x:t,y:n}}return a.createElement(u.Provider,{value:{register:function(e,t){l.current.set(e,t)},remove:function(e){l.current.delete(e)},getActiveDropId:function(e,t,n){var a,i,o=f(e,t,n),u=o.x,s=o.y;try{for(var c=r.e(l.current.entries()),d=c.next();!d.done;d=c.next()){var h=r.b(d.value,2),p=h[0],v=h[1];if(!v.disableDrop&&u>v.left&&u<v.right&&s>v.top&&s<v.bottom)return p}}catch(m){a={error:m}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return null},startTraverse:function(e,t,n,a,o){var u=f(e,n,a),d=function(e,t,n){var r=l.current.get(e);return{x:t-r.left,y:n-r.top}}(t,u.x,u.y),h=d.x,p=d.y,v=l.current.get(t),m=v.grid,g=v.count,b=Object(i.a)(h+m.columnWidth/2,p+m.rowHeight/2,m,g),y=r.b(Object(i.b)(b,m).xy,2),x=y[0],_=y[1],w=function(e,t){var n=l.current.get(e),r=l.current.get(t);return{x:r.left-n.left,y:r.top-n.top}}(e,t),O=w.x,k=w.y;s&&s&&s.targetIndex!==b&&s.targetId!==t||c({rx:x+O,ry:_+k,tx:h,ty:p,sourceId:e,targetId:t,sourceIndex:o,targetIndex:b})},traverse:s,measureAll:function(){l.current.forEach((function(e){e.remeasure()}))},endTraverse:function(){c(null)},onChange:function(e,t,a,i){c(r.a({},s,{execute:!0})),n(e,t,a,i)}}},t)}},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var a=r[n];e.call(t,a[1],a[0])}},t}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,a="undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),i="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var o=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,s=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,a=0;function o(){n&&(n=!1,e()),r&&s()}function u(){i(o)}function s(){var e=Date.now();if(n){if(e-a<2)return;r=!0}else n=!0,r=!1,setTimeout(u,t);a=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;o.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},l=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},f=g(0,0,0,0);function d(e){return parseFloat(e)||0}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+d(e["border-"+n+"-width"])}),0)}function p(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=l(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var a=r[n],i=e["padding-"+a];t[a]=d(i)}return t}(r),i=a.left+a.right,o=a.top+a.bottom,u=d(r.width),s=d(r.height);if("border-box"===r.boxSizing&&(Math.round(u+i)!==t&&(u-=h(r,"left","right")+i),Math.round(s+o)!==n&&(s-=h(r,"top","bottom")+o)),!function(e){return e===l(e).document.documentElement}(e)){var c=Math.round(u+i)-t,p=Math.round(s+o)-n;1!==Math.abs(c)&&(u-=c),1!==Math.abs(p)&&(s-=p)}return g(a.left,a.top,u,s)}var v="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof l(e).SVGGraphicsElement}:function(e){return e instanceof l(e).SVGElement&&"function"===typeof e.getBBox};function m(e){return r?v(e)?function(e){var t=e.getBBox();return g(0,0,t.width,t.height)}(e):p(e):f}function g(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=m(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),y=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,a=e.height,i="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(i.prototype);return c(o,{x:t,y:n,width:r,height:a,top:n,right:t+r,bottom:a+n,left:t}),o}(t);c(this,{target:e,contentRect:n})},x=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new y(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_="undefined"!==typeof WeakMap?new WeakMap:new n,w=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=s.getInstance(),r=new x(t,n,this);_.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){w.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}}));var O="undefined"!==typeof a.ResizeObserver?a.ResizeObserver:w;t.a=O}).call(this,n(106))},function(e,t,n){"use strict";var r,a=n(25),i=n(53),o=n(94),u=n.n(o),s=n(4),c=n.n(s);var l=Function.prototype.bind.call(Function.prototype.call,[].slice);function f(e,t){return l(e.querySelectorAll(t))}var d=n(26),h=n.n(d);n(277);function p(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function v(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function m(e,t,n){var r=Object(s.useRef)(void 0!==e),a=Object(s.useState)(t),i=a[0],o=a[1],u=void 0!==e,c=r.current;return r.current=u,!u&&c&&i!==t&&o(t),[u?e:i,Object(s.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];n&&n.apply(void 0,[e].concat(r)),o(e)}),[n])]}n(282),n(590);var g=n(116);function b(e,t,n){return void 0===n&&(n=!1),function(e,t,n,r){void 0===r&&(r=!1);var a=Object(g.a)(n);Object(s.useEffect)((function(){var n="function"===typeof e?e():e;return n.addEventListener(t,a,r),function(){return n.removeEventListener(t,a,r)}}),[e])}(Object(s.useCallback)((function(){return document}),[]),e,t,n)}var y=n(251),x=n(378),_=n(374),w={children:h.a.node,drop:h.a.oneOf(["up","left","right","down"]),focusFirstItemOnShow:h.a.oneOf([!1,!0,"keyboard"]),itemSelector:h.a.string,alignEnd:h.a.bool,show:h.a.bool,defaultShow:h.a.bool,onToggle:h.a.func};function O(){var e=Object(s.useReducer)((function(e){return!e}),!1)[1],t=Object(s.useRef)(null),n=Object(s.useCallback)((function(n){t.current=n,e()}),[e]);return[t,n]}function k(e){var t=e.drop,n=e.alignEnd,a=e.defaultShow,i=e.show,o=e.onToggle,u=e.itemSelector,l=void 0===u?"* > *":u,d=e.focusFirstItemOnShow,h=e.children,p=m(i,a,o),v=p[0],x=p[1],_=O(),w=_[0],k=_[1],j=w.current,E=O(),C=E[0],A=E[1],S=C.current,D=function(e){var t=Object(s.useRef)(null);return Object(s.useEffect)((function(){t.current=e})),t.current}(v),N=Object(s.useRef)(null),F=Object(s.useRef)(!1),T=Object(s.useCallback)((function(e,t){x(e,t)}),[x]),M=Object(s.useMemo)((function(){return{toggle:T,drop:t,show:v,alignEnd:n,menuElement:j,toggleElement:S,setMenu:k,setToggle:A}}),[T,t,v,n,j,S,k,A]);j&&D&&!v&&(F.current=j.contains(document.activeElement));var I=Object(g.a)((function(){S&&S.focus&&S.focus()})),R=Object(g.a)((function(){var e=N.current,t=d;if(null==t&&(t=!(!w.current||!function(e,t){if(!r){var n=document.body,a=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;r=function(e,t){return a.call(e,t)}}return r(e,t)}(w.current,"[role=menu]"))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=f(w.current,l)[0];n&&n.focus&&n.focus()}}));Object(s.useEffect)((function(){v?R():F.current&&(F.current=!1,I())}),[v,F,I,R]),Object(s.useEffect)((function(){N.current=null}));var P=function(e,t){if(!w.current)return null;var n=f(w.current,l),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return b("keydown",(function(e){var t,n,r=e.key,a=e.target,i=null==(t=w.current)?void 0:t.contains(a),o=null==(n=C.current)?void 0:n.contains(a);if((!/input|textarea/i.test(a.tagName)||!(" "===r||"Escape"!==r&&i))&&(i||o))switch(N.current=e.type,r){case"ArrowUp":var u=P(a,-1);return u&&u.focus&&u.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),v){var s=P(a,1);s&&s.focus&&s.focus()}else x(!0,e);return;case"Escape":case"Tab":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),x(!1,e)}})),c.a.createElement(y.a.Provider,{value:M},h)}k.displayName="ReactOverlaysDropdown",k.propTypes=w,k.Menu=x.a,k.Toggle=_.a;var j=k,E=function(e,t){return void 0===t&&(t=null),null!=e?String(e):t||null},C=c.a.createContext(null),A=n(89),S=c.a.createContext(null);S.displayName="NavContext";var D=S,N={as:n(382).a,disabled:!1},F=c.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,o=e.children,l=e.eventKey,f=e.disabled,d=e.href,h=e.onClick,p=e.onSelect,v=e.active,m=e.as,b=Object(i.a)(e,["bsPrefix","className","children","eventKey","disabled","href","onClick","onSelect","active","as"]),y=Object(A.a)(n,"dropdown-item"),x=Object(s.useContext)(C),_=(Object(s.useContext)(D)||{}).activeKey,w=E(l,d),O=null==v&&null!=w?E(_)===w:v,k=Object(g.a)((function(e){f||(h&&h(e),x&&x(w,e),p&&p(w,e))}));return c.a.createElement(m,Object(a.a)({},b,{ref:t,href:d,disabled:f,className:u()(r,y,O&&"active",f&&"disabled"),onClick:k}),o)}));F.displayName="DropdownItem",F.defaultProps=N;var T=F,M=n(286),I=n(383),R=/-(.)/g;var P=function(e){return e[0].toUpperCase()+(t=e,t.replace(R,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function B(e,t){var n=void 0===t?{}:t,r=n.displayName,o=void 0===r?P(e):r,s=n.Component,l=n.defaultProps,f=c.a.forwardRef((function(t,n){var r=t.className,o=t.bsPrefix,l=t.as,f=void 0===l?s||"div":l,d=Object(i.a)(t,["className","bsPrefix","as"]),h=Object(A.a)(o,e);return c.a.createElement(f,Object(a.a)({ref:n,className:u()(r,h)},d))}));return f.defaultProps=l,f.displayName=o,f}var z=B("dropdown-header",{defaultProps:{role:"heading"}}),L=B("dropdown-divider",{defaultProps:{role:"separator"}}),U=B("dropdown-item-text",{Component:"span"}),W=c.a.forwardRef((function(e,t){var n=function(e,t){return Object.keys(t).reduce((function(n,r){var o,u=n,s=u[p(r)],c=u[r],l=Object(i.a)(u,[p(r),r].map(v)),f=t[r],d=m(c,s,e[f]),h=d[0],g=d[1];return Object(a.a)({},l,((o={})[r]=h,o[f]=g,o))}),e)}(e,{show:"onToggle"}),r=n.bsPrefix,o=n.drop,l=n.show,f=n.className,d=n.alignRight,h=n.onSelect,b=n.onToggle,y=n.focusFirstItemOnShow,x=n.as,_=void 0===x?"div":x,w=(n.navbar,Object(i.a)(n,["bsPrefix","drop","show","className","alignRight","onSelect","onToggle","focusFirstItemOnShow","as","navbar"])),O=Object(s.useContext)(C),k=Object(A.a)(r,"dropdown"),E=Object(g.a)((function(e,t,n){void 0===n&&(n=t.type),t.currentTarget!==document||"keydown"===n&&"Escape"!==t.key||(n="rootClose"),b&&b(e,t,{source:n})})),S=Object(g.a)((function(e,t){O&&O(e,t),h&&h(e,t),E(!1,t,"select")}));return c.a.createElement(C.Provider,{value:S},c.a.createElement(j,{drop:o,show:l,alignEnd:d,onToggle:E,focusFirstItemOnShow:y,itemSelector:"."+k+"-item:not(.disabled):not(:disabled)"},c.a.createElement(_,Object(a.a)({},w,{ref:t,className:u()(f,l&&"show",(!o||"down"===o)&&k,"up"===o&&"dropup","right"===o&&"dropright","left"===o&&"dropleft")}))))}));W.displayName="Dropdown",W.defaultProps={navbar:!1},W.Divider=L,W.Header=z,W.Item=T,W.ItemText=U,W.Menu=M.b,W.Toggle=I.a;t.a=W},function(e,t,n){"use strict";var r=n(64),a=n(67),i=n(100),o=n(136),u=n(4),s=n(597),c=n(284),l=n(599),f=n.n(l),d=n(198);function h(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var p=function(e,t){var n={animationend:h("Animation","AnimationEnd"),transitionend:h("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Object(d.a)(),"undefined"!==typeof window?window:{}),v={};if(Object(d.a)()){var m=document.createElement("div");v=m.style}var g={};function b(e){if(g[e])return g[e];var t=p[e];if(t)for(var n=Object.keys(t),r=n.length,a=0;a<r;a+=1){var i=n[a];if(Object.prototype.hasOwnProperty.call(t,i)&&i in v)return g[e]=t[i],g[e]}return""}var y=b("animationend"),x=b("transitionend"),_=!(!y||!x),w=y||"animationend",O=x||"transitionend";function k(e,t){return e?"object"===Object(o.a)(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var j="none",E="appear",C="enter",A="leave",S="none",D="prepare",N="start",F="active",T="end";function M(e){var t=Object(u.useRef)(!1),n=Object(u.useState)(e),r=Object(i.a)(n,2),a=r[0],o=r[1];return Object(u.useEffect)((function(){return function(){t.current=!0}}),[]),[a,function(e){t.current||o(e)}]}var I=Object(d.a)()?u.useLayoutEffect:u.useEffect,R=n(200),P=[D,N,F,T];function B(e){return e===F||e===T}var z=function(e,t){var n=u.useState(S),r=Object(i.a)(n,2),a=r[0],o=r[1],s=function(){var e=u.useRef(null);function t(){R.a.cancel(e.current)}return u.useEffect((function(){return function(){t()}}),[]),[function n(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var i=Object(R.a)((function(){a<=1?r({isCanceled:function(){return i!==e.current}}):n(r,a-1)}));e.current=i},t]}(),c=Object(i.a)(s,2),l=c[0],f=c[1];return I((function(){if(a!==S&&a!==T){var e=P.indexOf(a),n=P[e+1],r=t(a);false===r?o(n):l((function(e){function t(){e.isCanceled()||o(n)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,a]),u.useEffect((function(){return function(){f()}}),[]),[function(){o(D)},a]};function L(e,t,n,o){var s=o.motionEnter,c=void 0===s||s,l=o.motionAppear,f=void 0===l||l,d=o.motionLeave,h=void 0===d||d,p=o.motionDeadline,v=o.motionLeaveImmediately,m=o.onAppearPrepare,g=o.onEnterPrepare,b=o.onLeavePrepare,y=o.onAppearStart,x=o.onEnterStart,_=o.onLeaveStart,k=o.onAppearActive,S=o.onEnterActive,T=o.onLeaveActive,R=o.onAppearEnd,P=o.onEnterEnd,L=o.onLeaveEnd,U=o.onVisibleChanged,W=M(),V=Object(i.a)(W,2),q=V[0],H=V[1],G=M(j),K=Object(i.a)(G,2),$=K[0],X=K[1],Y=M(null),J=Object(i.a)(Y,2),Q=J[0],Z=J[1],ee=Object(u.useRef)(!1),te=Object(u.useRef)(null),ne=Object(u.useRef)(!1),re=Object(u.useRef)(null);function ae(){return n()||re.current}var ie=Object(u.useRef)(!1);function oe(e){var t,n=ae();e&&!e.deadline&&e.target!==n||($===E&&ie.current?t=null===R||void 0===R?void 0:R(n,e):$===C&&ie.current?t=null===P||void 0===P?void 0:P(n,e):$===A&&ie.current&&(t=null===L||void 0===L?void 0:L(n,e)),!1===t||ne.current||(X(j),Z(null)))}var ue=function(e){var t=Object(u.useRef)(),n=Object(u.useRef)(e);n.current=e;var r=u.useCallback((function(e){n.current(e)}),[]);function a(e){e&&(e.removeEventListener(O,r),e.removeEventListener(w,r))}return u.useEffect((function(){return function(){a(t.current)}}),[]),[function(e){t.current&&t.current!==e&&a(t.current),e&&e!==t.current&&(e.addEventListener(O,r),e.addEventListener(w,r),t.current=e)},a]}(oe),se=Object(i.a)(ue,1)[0],ce=u.useMemo((function(){var e,t,n;switch($){case"appear":return e={},Object(r.a)(e,D,m),Object(r.a)(e,N,y),Object(r.a)(e,F,k),e;case"enter":return t={},Object(r.a)(t,D,g),Object(r.a)(t,N,x),Object(r.a)(t,F,S),t;case"leave":return n={},Object(r.a)(n,D,b),Object(r.a)(n,N,_),Object(r.a)(n,F,T),n;default:return{}}}),[$]),le=z($,(function(e){if(e===D){var t=ce.prepare;return!!t&&t(ae())}var n;he in ce&&Z((null===(n=ce[he])||void 0===n?void 0:n.call(ce,ae(),null))||null);return he===F&&(se(ae()),p>0&&(clearTimeout(te.current),te.current=setTimeout((function(){oe({deadline:!0})}),p))),true})),fe=Object(i.a)(le,2),de=fe[0],he=fe[1],pe=B(he);ie.current=pe,I((function(){if(H(t),e){var n,r=ee.current;ee.current=!0,!r&&t&&f&&(n=E),r&&t&&c&&(n=C),(r&&!t&&h||!r&&v&&!t&&h)&&(n=A),n&&(X(n),de())}}),[t]),Object(u.useEffect)((function(){($===E&&!f||$===C&&!c||$===A&&!h)&&X(j)}),[f,c,h]),Object(u.useEffect)((function(){return function(){clearTimeout(te.current),ne.current=!0}}),[]),Object(u.useEffect)((function(){void 0!==q&&$===j&&(null===U||void 0===U||U(q))}),[q,$]);var ve=Q;return ce.prepare&&he===N&&(ve=Object(a.a)({transition:"none"},ve)),[$,he,ve,null!==q&&void 0!==q?q:t]}var U=n(375),W=n(182),V=n(376),q=n(380),H=function(e){Object(V.a)(n,e);var t=Object(q.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(W.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(u.Component);var G=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===Object(o.a)(e)&&(t=e.transitionSupport);var l=u.forwardRef((function(e,t){var o=e.visible,l=void 0===o||o,d=e.removeOnLeave,h=void 0===d||d,p=e.forceRender,v=e.children,m=e.motionName,g=e.leavedClassName,b=e.eventProps,y=n(e),x=Object(u.useRef)(),_=Object(u.useRef)();var w=L(y,l,(function(){try{return Object(s.a)(x.current||_.current)}catch(e){return null}}),e),O=Object(i.a)(w,4),E=O[0],C=O[1],A=O[2],S=O[3],F=Object(u.useRef)(t);F.current=t;var T,M=u.useCallback((function(e){x.current=e,Object(c.b)(F.current,e)}),[]),I=Object(a.a)(Object(a.a)({},b),{},{visible:l});if(v)if(E!==j&&n(e)){var R,P;C===D?P="prepare":B(C)?P="active":C===N&&(P="start"),T=v(Object(a.a)(Object(a.a)({},I),{},{className:f()(k(m,E),(R={},Object(r.a)(R,k(m,"".concat(E,"-").concat(P)),P),Object(r.a)(R,m,"string"===typeof m),R)),style:A}),M)}else T=S?v(Object(a.a)({},I),M):h?p?v(Object(a.a)(Object(a.a)({},I),{},{style:{display:"none"}}),M):null:v(Object(a.a)(Object(a.a)({},I),{},{className:g}),M);else T=null;return u.createElement(H,{ref:_},T)}));return l.displayName="CSSMotion",l}(_),K=n(52),$="add",X="keep",Y="remove",J="removed";function Q(e){var t;return t=e&&"object"===Object(o.a)(e)&&"key"in e?e:{key:e},Object(a.a)(Object(a.a)({},t),{},{key:String(t.key)})}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(Q)}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,o=Z(e),u=Z(t);o.forEach((function(e){for(var t=!1,o=r;o<i;o+=1){var s=u[o];if(s.key===e.key){r<o&&(n=n.concat(u.slice(r,o).map((function(e){return Object(a.a)(Object(a.a)({},e),{},{status:$})}))),r=o),n.push(Object(a.a)(Object(a.a)({},s),{},{status:X})),r+=1,t=!0;break}}t||n.push(Object(a.a)(Object(a.a)({},e),{},{status:Y}))})),r<i&&(n=n.concat(u.slice(r).map((function(e){return Object(a.a)(Object(a.a)({},e),{},{status:$})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var c=Object.keys(s).filter((function(e){return s[e]>1}));return c.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Y}))).forEach((function(t){t.key===e&&(t.status=X)}))})),n}var te=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G,n=function(e){Object(V.a)(r,e);var n=Object(q.a)(r);function r(){var e;return Object(U.a)(this,r),(e=n.apply(this,arguments)).state={keyEntities:[]},e.removeKey=function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:Object(a.a)(Object(a.a)({},e),{},{status:J})}))}}))},e}return Object(W.a)(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,a=r.component,i=r.children,o=r.onVisibleChanged,s=Object(K.a)(r,["component","children","onVisibleChanged"]),c=a||u.Fragment,l={};return te.forEach((function(e){l[e]=s[e],delete s[e]})),delete s.keys,u.createElement(c,Object.assign({},s),n.map((function(n){var r=n.status,a=Object(K.a)(n,["status"]),s=r===$||r===X;return u.createElement(t,Object.assign({},l,{key:a.key,visible:s,eventProps:a,onVisibleChanged:function(t){null===o||void 0===o||o(t,{key:a.key}),t||e.removeKey(a.key)}}),i)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,a=Z(n);return{keyEntities:ee(r,a).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==J||e.status!==Y}))}}}]),r}(u.Component);n.defaultProps={component:"div"}})(_),t.a=G},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(285);var a=n(601),i=n(602);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(a.a)(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";var r=n(59),a=Object(r.a)((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));t.a=a;a.range},function(e,t,n){"use strict";var r=n(59),a=n(65),i=Object(r.a)((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*a.d)}),(function(e,t){return(t-e)/a.d}),(function(e){return e.getUTCSeconds()}));t.a=i;i.range},function(e,t,n){"use strict";var r=n(59),a=Object(r.a)((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));a.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Object(r.a)((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):a:null},t.a=a;a.range},function(e,t,n){"use strict";var r=n(59),a=Object(r.a)((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}));t.a=a;a.range},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r,a,i,o,u=n(447);o={thousands:",",grouping:[3],currency:["$",""]},r=Object(u.a)(o),a=r.format,i=r.formatPrefix},function(e,t,n){"use strict";function r(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return ma})),n.d(t,"d",(function(){return za})),n.d(t,"c",(function(){return La})),n.d(t,"a",(function(){return Ua}));var r={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return"number"===typeof e}function o(e){return e&&!0===e.constructor.prototype.isBigNumber||!1}function u(e){return e&&"object"===a(e)&&!0===Object.getPrototypeOf(e).isComplex||!1}function s(e){return e&&"object"===a(e)&&!0===Object.getPrototypeOf(e).isFraction||!1}function c(e){return e&&!0===e.constructor.prototype.isUnit||!1}function l(e){return"string"===typeof e}var f=Array.isArray;function d(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function h(e){return Array.isArray(e)||d(e)}function p(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function v(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function m(e){return e&&!0===e.constructor.prototype.isRange||!1}function g(e){return e&&!0===e.constructor.prototype.isIndex||!1}function b(e){return"boolean"===typeof e}function y(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function x(e){return e&&!0===e.constructor.prototype.isHelp||!1}function _(e){return"function"===typeof e}function w(e){return e instanceof Date}function O(e){return e instanceof RegExp}function k(e){return!(!e||"object"!==a(e)||e.constructor!==Object||u(e)||s(e))}function j(e){return null===e}function E(e){return void 0===e}function C(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function A(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function S(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function D(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function N(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function F(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function T(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function M(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function I(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function R(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function P(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function B(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function z(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function L(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function U(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function W(e){return e&&!0===e.constructor.prototype.isChain||!1}function V(e){var t=a(e);return"object"===t?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":o(e)?"BigNumber":u(e)?"Complex":s(e)?"Fraction":d(e)?"Matrix":c(e)?"Unit":g(e)?"Index":m(e)?"Range":y(e)?"ResultSet":R(e)?e.type:W(e)?"Chain":x(e)?"Help":"Object":"function"===t?"Function":t}function q(e){return(q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e){var t=q(e);if("number"===t||"string"===t||"boolean"===t||null===e||void 0===e)return e;if("function"===typeof e.clone)return e.clone();if(Array.isArray(e))return e.map((function(e){return H(e)}));if(e instanceof Date)return new Date(e.valueOf());if(o(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return G(e,H)}function G(e,t){var n={};for(var r in e)X(e,r)&&(n[r]=t(e[r]));return n}function K(e,t){for(var n in t)X(t,n)&&(e[n]=t[n]);return e}function $(e,t){var n,r,a;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(r=0,a=e.length;r<a;r++)if(!$(e[r],t[r]))return!1;return!0}if("function"===typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!$(e[n],t[n]))return!1;for(n in t)if(!(n in e)||!$(e[n],t[n]))return!1;return!0}return e===t}function X(e,t){return e&&Object.hasOwnProperty.call(e,t)}var Y=["Matrix","Array"],J=["number","BigNumber","Fraction"];function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Z=function(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(r)};function ee(e){return"boolean"===typeof e||!!isFinite(e)&&e===Math.round(e)}Q(Z,r,{MATRIX_OPTIONS:Y,NUMBER_OPTIONS:J});var te=Math.sign||function(e){return e>0?1:e<0?-1:0},ne=Math.log2||function(e){return Math.log(e)/Math.LN2},re=Math.log10||function(e){return Math.log(e)/Math.LN10},ae=(Math.log1p,Math.cbrt||function(e){if(0===e)return e;var t,n=e<0;return n&&(e=-e),t=isFinite(e)?(e/((t=Math.exp(Math.log(e)/3))*t)+2*t)/3:e,n?-t:t}),ie=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function oe(e,t){if("function"===typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n,r="auto";switch(t&&(t.notation&&(r=t.notation),i(t)?n=t:i(t.precision)&&(n=t.precision)),r){case"fixed":return se(e,n);case"exponential":return ce(e,n);case"engineering":return function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=le(ue(e),t),r=n.exponent,a=n.coefficients,o=r%3===0?r:r<0?r-3-r%3:r-r%3;if(i(t))for(;t>a.length||r-o+1>a.length;)a.push(0);else for(var u=Math.abs(r-o)-(a.length-1),s=0;s<u;s++)a.push(0);var c=Math.abs(r-o),l=1;for(;c>0;)l++,c--;var f=a.slice(l).join(""),d=i(t)&&f.length||f.match(/[1-9]/)?"."+f:"",h=a.slice(0,l).join("")+d+"e"+(r>=0?"+":"")+o.toString();return n.sign+h}(e,n);case"auto":return function(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var r=n&&void 0!==n.lowerExp?n.lowerExp:-3,a=n&&void 0!==n.upperExp?n.upperExp:5,i=ue(e),o=t?le(i,t):i;if(o.exponent<r||o.exponent>=a)return ce(e,t);var u=o.coefficients,s=o.exponent;u.length<t&&(u=u.concat(fe(t-u.length))),u=u.concat(fe(s-u.length+1+(u.length<t?t-u.length:0)));var c=s>0?s:0;return c<(u=fe(-s).concat(u)).length-1&&u.splice(c+1,0,"."),o.sign+u.join("")}(e,n,t&&t).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}function ue(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],a=parseFloat(t[4]||"0"),i=r.indexOf(".");a+=-1!==i?i-1:r.length-1;var o=r.replace(".","").replace(/^0*/,(function(e){return a-=e.length,""})).replace(/0*$/,"").split("").map((function(e){return parseInt(e)}));return 0===o.length&&(o.push(0),a++),{sign:n,coefficients:o,exponent:a}}function se(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=ue(e),r="number"===typeof t?le(n,n.exponent+1+t):n,a=r.coefficients,i=r.exponent+1,o=i+(t||0);return a.length<o&&(a=a.concat(fe(o-a.length))),i<0&&(a=fe(1-i).concat(a),i=1),i<a.length&&a.splice(i,0,0===i?"0.":"."),r.sign+a.join("")}function ce(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=ue(e),r=t?le(n,t):n,a=r.coefficients,i=r.exponent;a.length<t&&(a=a.concat(fe(t-a.length)));var o=a.shift();return r.sign+o+(a.length>0?"."+a.join(""):"")+"e"+(i>=0?"+":"")+i}function le(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t&&r.splice(t,r.length-t)[0]>=5){var a=t-1;for(r[a]++;10===r[a];)r.pop(),0===a&&(r.unshift(0),n.exponent++,a++),r[--a]++}return n}function fe(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}var de=Number.EPSILON||2220446049250313e-31;function he(e,t,n){if(null===n||void 0===n)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var r=Math.abs(e-t);return r<de||r<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}var pe=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},ve=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},me=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},ge=(Math.cosh,Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2});Math.tanh;function be(e,t){if("function"===typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n,r="auto";switch(void 0!==t&&(t.notation&&(r=t.notation),"number"===typeof t?n=t:t.precision&&(n=t.precision)),r){case"fixed":return function(e,t){return e.toFixed(t)}(e,n);case"exponential":return ye(e,n);case"engineering":return function(e,t){var n=e.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,a=e.mul(Math.pow(10,-r)),i=a.toPrecision(t);-1!==i.indexOf("e")&&(i=a.toString());return i+"e"+(n>=0?"+":"")+r.toString()}(e,n);case"auto":var a=t&&void 0!==t.lowerExp?t.lowerExp:-3,i=t&&void 0!==t.upperExp?t.upperExp:5;if(e.isZero())return"0";var o=e.toSignificantDigits(n),u=o.e;return(u>=a&&u<i?o.toFixed():ye(e,n)).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}function ye(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function xe(e){return(xe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){return"number"===typeof e?oe(e,t):o(e)?be(e,t):function(e){return e&&"object"===xe(e)&&"number"===typeof e.s&&"number"===typeof e.n&&"number"===typeof e.d||!1}(e)?t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d:Array.isArray(e)?we(e,t):l(e)?'"'+e+'"':"function"===typeof e?e.syntax?String(e.syntax):"function":e&&"object"===xe(e)?"function"===typeof e.format?e.format(t):e&&e.toString(t)!=={}.toString()?e.toString(t):"{"+Object.keys(e).map((function(n){return'"'+n+'": '+_e(e[n],t)})).join(", ")+"}":String(e)}function we(e,t){if(Array.isArray(e)){for(var n="[",r=e.length,a=0;a<r;a++)0!==a&&(n+=", "),n+=we(e[a],t);return n+="]"}return _e(e,t)}function Oe(e,t,n){if(!(this instanceof Oe))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function ke(e,t,n){if(!(this instanceof ke))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function je(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Ee(e,t,n){var r,a=e.length;if(a!==t[n])throw new Oe(a,t[n]);if(n<t.length-1){var i=n+1;for(r=0;r<a;r++){var o=e[r];if(!Array.isArray(o))throw new Oe(t.length-1,t.length,"<");Ee(e[r],t,i)}}else for(r=0;r<a;r++)if(Array.isArray(e[r]))throw new Oe(t.length+1,t.length,">")}function Ce(e,t){if(0===t.length){if(Array.isArray(e))throw new Oe(e.length,0)}else Ee(e,t,0)}function Ae(e,t){if(!i(e)||!ee(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"===typeof t&&e>=t)throw new ke(e,t)}function Se(e,t,n){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach((function(e){if(!i(e)||!ee(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+_e(t)+")")})),De(e,t,0,void 0!==n?n:0),e}function De(e,t,n,r){var a,i,o=e.length,u=t[n],s=Math.min(o,u);if(e.length=u,n<t.length-1){var c=n+1;for(a=0;a<s;a++)i=e[a],Array.isArray(i)||(i=[i],e[a]=i),De(i,t,c,r);for(a=s;a<u;a++)i=[],e[a]=i,De(i,t,c,r)}else{for(a=0;a<s;a++)for(;Array.isArray(e[a]);)e[a]=e[a][0];for(a=s;a<u;a++)e[a]=r}}function Ne(e,t){var n,r=Me(e);function a(e){return e.reduce((function(e,t){return e*t}))}if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Oe(0,a(je(e)),"!=");for(var i=1,o=0;o<t.length;o++)i*=t[o];if(r.length!==i)throw new Oe(a(t),a(je(e)),"!=");try{n=function(e,t){for(var n,r=e,a=t.length-1;a>0;a--){var i=t[a];n=[];for(var o=r.length/i,u=0;u<o;u++)n.push(r.slice(u*i,(u+1)*i));r=n}return r}(r,t)}catch(u){if(u instanceof Oe)throw new Oe(a(t),a(je(e)),"!=");throw u}return n}function Fe(e,t,n,r){var a=r||je(e);if(n)for(var i=0;i<n;i++)e=[e],a.unshift(1);for(e=Te(e,t,0);a.length<t;)a.push(1);return e}function Te(e,t,n){var r,a;if(Array.isArray(e)){var i=n+1;for(r=0,a=e.length;r<a;r++)e[r]=Te(e[r],t,i)}else for(var o=n;o<t;o++)e=[e];return e}function Me(e){if(!Array.isArray(e))return e;var t=[];return e.forEach((function e(n){Array.isArray(n)?n.forEach(e):t.push(n)})),t}function Ie(e,t){for(var n,r=0,a=0;a<e.length;a++){var i=e[a],o=Array.isArray(i);if(0===a&&o&&(r=i.length),o&&i.length!==r)return;var u=o?Ie(i,t):t(i);if(void 0===n)n=u;else if(n!==u)return"mixed"}return n}function Re(e,t,n,r){function a(r){var a=function(e,t){for(var n={},r=0;r<t.length;r++){var a=t[r],i=e[a];void 0!==i&&(n[a]=i)}return n}(r,t.map(Pe));return function(e,t,n){if(!t.filter((function(e){return!function(e){return e&&"?"===e[0]}(e)})).every((function(e){return void 0!==n[e]}))){var r=t.filter((function(e){return void 0===n[e]}));throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(r.map((function(e){return'"'.concat(e,'"')})).join(", "),"."))}}(e,t,r),n(a)}return a.isFactory=!0,a.fn=e,a.dependencies=t.slice().sort(),r&&(a.meta=r),a}function Pe(e){return e&&"?"===e[0]?e.slice(1):e}Oe.prototype=new RangeError,Oe.prototype.constructor=RangeError,Oe.prototype.name="DimensionError",Oe.prototype.isDimensionError=!0,ke.prototype=new RangeError,ke.prototype.constructor=RangeError,ke.prototype.name="IndexError",ke.prototype.isIndexError=!0;var Be=n(101),ze=n.n(Be);function Le(e){return(Le="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ue=Re("Complex",[],(function(){return ze.a.prototype.type="Complex",ze.a.prototype.isComplex=!0,ze.a.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},ze.a.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},ze.a.prototype.format=function(e){var t=this.im,n=this.re,r=oe(this.re,e),a=oe(this.im,e),o=i(e)?e:e?e.precision:null;if(null!==o){var u=Math.pow(10,-o);Math.abs(n/t)<u&&(n=0),Math.abs(t/n)<u&&(t=0)}return 0===t?r:0===n?1===t?"i":-1===t?"-i":a+"i":t<0?-1===t?r+" - i":r+" - "+a.substring(1)+"i":1===t?r+" + i":r+" + "+a+"i"},ze.a.fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"===Le(t))return ze()(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(i(n)){if(c(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),i(r))return new ze.a({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},ze.a.prototype.valueOf=ze.a.prototype.toString,ze.a.fromJSON=function(e){return new ze.a(e)},ze.a.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},ze.a}),{isClass:!0});function We(e){return(We="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){return function n(){"object"!==We(n.cache)&&(n.cache={});for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var i=t?t(r):JSON.stringify(r);return i in n.cache||(n.cache[i]=e.apply(e,r)),n.cache[i]}}Ve((function(e){return new e(1).exp()}),He),Ve((function(e){return new e(1).plus(new e(5).sqrt()).div(2)}),He);var qe=Ve((function(e){return e.acos(-1)}),He);Ve((function(e){return qe(e).times(2)}),He);function He(e){return e[0].precision}Math.PI,Math.PI,Math.E;var Ge=n(245),Ke=n.n(Ge),$e=Re("BigNumber",["?on","config"],(function(e){var t=e.on,n=e.config,r=Ke.a.clone({precision:n.precision,modulo:9});return r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(e){return new r(e.value)},t&&t("config",(function(e,t){e.precision!==t.precision&&r.config({precision:e.precision})})),r}),{isClass:!0}),Xe=Re("Matrix",[],(function(){function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e}),{isClass:!0});Ye("fineStructure",.0072973525693),Ye("weakMixingAngle",.2229),Ye("efimovFactor",22.7),Ye("sackurTetrode",-1.16487052358);function Ye(e,t){return Re(e,["config","BigNumber"],(function(e){var n=e.config,r=e.BigNumber;return"BigNumber"===n.number?new r(t):t}))}var Je=n(203),Qe=n.n(Je),Ze=Re("Fraction",[],(function(){return Qe.a.prototype.type="Fraction",Qe.a.prototype.isFraction=!0,Qe.a.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Qe.a.fromJSON=function(e){return new Qe.a(e)},Qe.a}),{isClass:!0}),et=Re("DenseMatrix",["Matrix"],(function(e){var t=e.Matrix;function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!l(t))throw new Error("Invalid datatype: "+t);if(d(e))"DenseMatrix"===e.type?(this._data=H(e._data),this._size=H(e._size),this._datatype=t||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=t||e._datatype);else if(e&&f(e.data)&&f(e.size))this._data=e.data,this._size=e.size,Ce(this._data,this._size),this._datatype=t||e.datatype;else if(f(e))this._data=v(e),this._size=je(this._data),Ce(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+V(e)+")");this._data=[],this._size=[0],this._datatype=t}}function r(e,t){if(!g(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var r=t.size();if(r.length!==e._size.length)throw new Oe(r.length,e._size.length);for(var i=t.min(),o=t.max(),u=0,s=e._size.length;u<s;u++)Ae(i[u],e._size[u]),Ae(o[u],e._size[u]);return new n(a(e._data,t,r.length,0),e._datatype)}function a(e,t,n,r){var i=r===n-1,o=t.dimension(r);return i?o.map((function(t){return Ae(t,e.length),e[t]})).valueOf():o.map((function(i){return Ae(i,e.length),a(e[i],t,n,r+1)})).valueOf()}function u(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var a,i=t.size(),o=t.isScalar();if(d(n)?(a=n.size(),n=n.valueOf()):a=je(n),o){if(0!==a.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(i.length<e._size.length)throw new Oe(i.length,e._size.length,"<");if(a.length<i.length){for(var u=0,c=0;1===i[u]&&1===a[u];)u++;for(;1===i[u];)c++,u++;n=Fe(n,i.length,c,a)}if(!$(i,a))throw new Oe(i,a,">");p(e,t.max().map((function(e){return e+1})),r);var l=i.length;s(e._data,t,n,l,0)}return e}function s(e,t,n,r,a){var i=a===r-1,o=t.dimension(a);i?o.forEach((function(t,r){Ae(t),e[t]=n[r[0]]})):o.forEach((function(i,o){Ae(i),s(e[i],t,n[o[0]],r,a+1)}))}function c(e,t,n){if(0===t.length){for(var r=e._data;f(r);)r=r[0];return r}return e._size=t.slice(0),e._data=Se(e._data,e._size,n),e}function p(e,t,n){for(var r=e._size.slice(0),a=!1;r.length<t.length;)r.push(0),a=!0;for(var i=0,o=t.length;i<o;i++)t[i]>r[i]&&(r[i]=t[i],a=!0);a&&c(e,r,n)}function v(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];f(r)?e[t]=v(r):r&&!0===r.isMatrix&&(e[t]=v(r.valueOf()))}return e}return n.prototype=new t,n.prototype.createDenseMatrix=function(e,t){return new n(e,t)},n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Ie(this._data,V)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(e,t){return new n(e,t)},n.prototype.subset=function(e,t,n){switch(arguments.length){case 1:return r(this,e);case 2:case 3:return u(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(e){if(!f(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new Oe(e.length,this._size.length);for(var t=0;t<e.length;t++)Ae(e[t],this._size[t]);for(var n=this._data,r=0,a=e.length;r<a;r++){var i=e[r];Ae(i,n.length),n=n[i]}return n},n.prototype.set=function(e,t,n){if(!f(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new Oe(e.length,this._size.length,"<");var r,a,i;p(this,e.map((function(e){return e+1})),n);var o=this._data;for(r=0,a=e.length-1;r<a;r++)Ae(i=e[r],o.length),o=o[i];return Ae(i=e[e.length-1],o.length),o[i]=t,this},n.prototype.resize=function(e,t,n){if(!h(e))throw new TypeError("Array or Matrix expected");var r=e.valueOf().map((function(e){return Array.isArray(e)&&1===e.length?e[0]:e}));return c(n?this.clone():this,r,t)},n.prototype.reshape=function(e,t){var n=t?this.clone():this;return n._data=Ne(n._data,e),n._size=e.slice(0),n},n.prototype.clone=function(){return new n({data:H(this._data),size:H(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(e){var t=this,r=function n(r,a){return f(r)?r.map((function(e,t){return n(e,a.concat(t))})):e(r,a,t)}(this._data,[]);return new n(r,void 0!==this._datatype?Ie(r,V):void 0)},n.prototype.forEach=function(e){var t=this;!function n(r,a){f(r)?r.forEach((function(e,t){n(e,a.concat(t))})):e(r,a,t)}(this._data,[])},n.prototype.toArray=function(){return H(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(e){return _e(this._data,e)},n.prototype.toString=function(){return _e(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(e){if(e){if(o(e)&&(e=e.toNumber()),!i(e)||!ee(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,r=e<0?-e:0,a=this._size[0],u=this._size[1],s=Math.min(a-r,u-t),c=[],l=0;l<s;l++)c[l]=this._data[l+r][l+t];return new n({data:c,size:[s],datatype:this._datatype})},n.diagonal=function(e,t,r,a){if(!f(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if(o(e)&&(e=e.toNumber()),!i(e)||!ee(e)||e<1)throw new Error("Size values must be positive integers");return e})),r){if(o(r)&&(r=r.toNumber()),!i(r)||!ee(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var u,s=r>0?r:0,c=r<0?-r:0,l=e[0],h=e[1],p=Math.min(l-c,h-s);if(f(t)){if(t.length!==p)throw new Error("Invalid value array length");u=function(e){return t[e]}}else if(d(t)){var v=t.size();if(1!==v.length||v[0]!==p)throw new Error("Invalid matrix length");u=function(e){return t.get([e])}}else u=function(){return t};a||(a=o(u(0))?u(0).mul(0):0);var m=[];if(e.length>0){m=Se(m,e,a);for(var g=0;g<p;g++)m[g+c][g+s]=u(g)}return new n({data:m,size:[l,h]})},n.fromJSON=function(e){return new n(e)},n.prototype.swapRows=function(e,t){if(!i(e)||!ee(e)||!i(t)||!ee(t))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Ae(e,this._size[0]),Ae(t,this._size[0]),n._swapRows(e,t,this._data),this},n._swapRows=function(e,t,n){var r=n[e];n[e]=n[t],n[t]=r},n}),{isClass:!0}),tt=n(433),nt=n.n(tt),rt=function(){return rt=nt.a.create,nt.a},at=Re("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(e){var t=e.BigNumber,n=e.Complex,r=e.DenseMatrix,a=e.Fraction,h=rt();return h.types=[{name:"number",test:i},{name:"Complex",test:u},{name:"BigNumber",test:o},{name:"Fraction",test:s},{name:"Unit",test:c},{name:"string",test:l},{name:"Chain",test:W},{name:"Array",test:f},{name:"Matrix",test:d},{name:"DenseMatrix",test:p},{name:"SparseMatrix",test:v},{name:"Range",test:m},{name:"Index",test:g},{name:"boolean",test:b},{name:"ResultSet",test:y},{name:"Help",test:x},{name:"function",test:_},{name:"Date",test:w},{name:"RegExp",test:O},{name:"null",test:j},{name:"undefined",test:E},{name:"AccessorNode",test:C},{name:"ArrayNode",test:A},{name:"AssignmentNode",test:S},{name:"BlockNode",test:D},{name:"ConditionalNode",test:N},{name:"ConstantNode",test:F},{name:"FunctionNode",test:M},{name:"FunctionAssignmentNode",test:T},{name:"IndexNode",test:I},{name:"Node",test:R},{name:"ObjectNode",test:P},{name:"OperatorNode",test:B},{name:"ParenthesisNode",test:z},{name:"RangeNode",test:L},{name:"SymbolNode",test:U},{name:"Object",test:k}],h.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(t||it(e),e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}},{from:"number",to:"Complex",convert:function(e){return n||ot(e),new n(e,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(e){return n||ot(e),new n(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return n||ot(e),new n(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){a||ut(e);var t=new a(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(e){t||it(e);try{return new t(e)}catch(n){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){a||ut(e);try{return new a(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){n||ot(e);try{return new n(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return t||it(e),new t(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return a||ut(e),new a(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],h}));function it(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function ot(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function ut(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}function st(e){for(var t=0;t<e.length;t++)if(h(e[t]))return!0;return!1}function ct(e,t){d(e)&&(e=e.valueOf());for(var n=0,r=e.length;n<r;n++){var a=e[n];Array.isArray(a)?ct(a,t):t(a)}}function lt(e,t,n){return e&&"function"===typeof e.map?e.map((function(e){return lt(e,t,n)})):t(e)}var ft="isInteger",dt=Re(ft,["typed"],(function(e){return(0,e.typed)(ft,{number:ee,BigNumber:function(e){return e.isInt()},Fraction:function(e){return 1===e.d&&isFinite(e.n)},"Array | Matrix":function(e){return lt(e,this)}})})),ht="isNumeric",pt=Re(ht,["typed"],(function(e){return(0,e.typed)(ht,{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(e){return lt(e,this)}})})),vt="number";function mt(e){return e<0}function gt(e){return e>0}function bt(e){return 0===e}function yt(e){return Number.isNaN(e)}mt.signature=vt,gt.signature=vt,bt.signature=vt,yt.signature=vt;var xt="isNaN",_t=Re(xt,["typed"],(function(e){return(0,e.typed)(xt,{number:yt,BigNumber:function(e){return e.isNaN()},Fraction:function(e){return!1},Complex:function(e){return e.isNaN()},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":function(e){return lt(e,Number.isNaN)}})}));function wt(e,t,n){if(null===n||void 0===n)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var r=e.minus(t).abs();if(r.isZero())return!0;var a=e.constructor.max(e.abs(),t.abs());return r.lte(a.times(n))}return!1}var Ot="equalScalar",kt=Re(Ot,["typed","config"],(function(e){var t=e.typed,n=e.config;return t(Ot,{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,t){return he(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.eq(t)||wt(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){return function(e,t,n){return he(e.re,t.re,n)&&he(e.im,t.im,n)}(e,t,n.epsilon)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)}})})),jt=(Re(Ot,["typed","config"],(function(e){var t=e.typed,n=e.config;return t(Ot,{"number, number":function(e,t){return he(e,t,n.epsilon)}})})),Re("number",["typed"],(function(e){var t=(0,e.typed)("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t=Number(e);if(isNaN(t))throw new SyntaxError('String "'+e+'" is no valid number');if(["0b","0o","0x"].includes(e.substring(0,2))){if(t>Math.pow(2,32)-1)throw new SyntaxError('String "'.concat(e,'" is out of range'));2147483648&t&&(t=-1*~(t-1))}return t},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return lt(e,this)}});return t.fromJSON=function(e){return parseFloat(e.value)},t}))),Et="number",Ct="number, number";function At(e){return Math.abs(e)}function St(e,t){return e+t}function Dt(e,t){return e*t}function Nt(e){return-e}function Ft(e){return e}function Tt(e){return ae(e)}function Mt(e){return Math.ceil(e)}function It(e){return e*e*e}function Rt(e){return Math.exp(e)}function Pt(e){return ie(e)}function Bt(e,t){if(!ee(e)||!ee(t))throw new Error("Parameters in function gcd must be integer numbers");for(var n;0!==t;)n=e%t,e=t,t=n;return e<0?-e:e}function zt(e,t){if(!ee(e)||!ee(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var n,r=e*t;0!==t;)t=e%(n=t),e=n;return Math.abs(r/e)}function Lt(e){return Math.log(e)}function Ut(e){return re(e)}function Wt(e){return ne(e)}function Vt(e,t){if(t>0)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor")}function qt(e,t){var n=t<0;if(n&&(t=-t),0===t)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!==1)throw new Error("Root must be odd when a is negative.");if(0===e)return n?1/0:0;if(!isFinite(e))return n?0:e;var r=Math.pow(Math.abs(e),1/t);return r=e<0?-r:r,n?1/r:r}function Ht(e){return te(e)}function Gt(e){return e*e}function Kt(e,t){var n,r,a,i=0,o=1,u=1,s=0;if(!ee(e)||!ee(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)a=e-(r=Math.floor(e/t))*t,n=i,i=o-r*i,o=n,n=u,u=s-r*u,s=n,e=t,t=a;return e<0?[-e,-o,-s]:[e,e?o:0,s]}function $t(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}function Xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(se(e,t))}At.signature=Et,St.signature=Ct,Dt.signature=Ct,Nt.signature=Et,Ft.signature=Et,Tt.signature=Et,Mt.signature=Et,It.signature=Et,Rt.signature=Et,Pt.signature=Et,Bt.signature=Ct,zt.signature=Ct,Lt.signature=Et,Ut.signature=Et,Wt.signature=Et,Vt.signature=Ct,qt.signature=Ct,Ht.signature=Et,Gt.signature=Et,Kt.signature=Ct,$t.signature=Ct,Xt.signature=Ct;var Yt="apply",Jt=Re(Yt,["typed","isInteger"],(function(e){var t=e.typed,n=e.isInteger;return t(Yt,{"Array | Matrix, number | BigNumber, function":function(e,t,r){if(!n(t))throw new TypeError("Integer number expected for dimension");var a=Array.isArray(e)?je(e):e.size();if(t<0||t>=a.length)throw new ke(t,a.length);return d(e)?e.create(Qt(e.valueOf(),t,r)):Qt(e,t,r)}})}));function Qt(e,t,n){var r,a,i;if(t<=0){if(Array.isArray(e[0])){for(i=function(e){var t,n,r=e.length,a=e[0].length,i=[];for(n=0;n<a;n++){var o=[];for(t=0;t<r;t++)o.push(e[t][n]);i.push(o)}return i}(e),a=[],r=0;r<i.length;r++)a[r]=Qt(i[r],t-1,n);return a}return n(e)}for(a=[],r=0;r<e.length;r++)a[r]=Qt(e[r],t-1,n);return a}var Zt=Re("multiplyScalar",["typed"],(function(e){return(0,e.typed)("multiplyScalar",{"number, number":Dt,"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(e,t){var n=t.clone();return n.value=null===n.value?n._normalize(e):this(n.value,e),n},"Unit, number | Fraction | BigNumber | Complex":function(e,t){var n=e.clone();return n.value=null===n.value?n._normalize(t):this(n.value,t),n},"Unit, Unit":function(e,t){return e.multiply(t)}})}));var en="number, number";function tn(e,t){if(!ee(e)||!ee(t))throw new Error("Integers expected in function bitAnd");return e&t}function nn(e){if(!ee(e))throw new Error("Integer expected in function bitNot");return~e}function rn(e,t){if(!ee(e)||!ee(t))throw new Error("Integers expected in function bitOr");return e|t}function an(e,t){if(!ee(e)||!ee(t))throw new Error("Integers expected in function bitXor");return e^t}function on(e,t){if(!ee(e)||!ee(t))throw new Error("Integers expected in function leftShift");return e<<t}function un(e,t){if(!ee(e)||!ee(t))throw new Error("Integers expected in function rightArithShift");return e>>t}function sn(e,t){if(!ee(e)||!ee(t))throw new Error("Integers expected in function rightLogShift");return e>>>t}tn.signature=en,nn.signature="number",rn.signature=en,an.signature=en,on.signature=en,un.signature=en,sn.signature=en;var cn="number, number";function ln(e){return!e}function fn(e,t){return!(!e&&!t)}function dn(e,t){return!!e!==!!t}function hn(e,t){return!(!e||!t)}ln.signature="number",fn.signature=cn,dn.signature=cn,hn.signature=cn;Math.pow(2,53);function pn(e){var t={2:"0b",8:"0o",16:"0x"}[e];return function(n){if(n>Math.pow(2,31)-1||n<-Math.pow(2,31))throw new Error("Value must be in range [-2^31, 2^31-1]");if(!ee(n))throw new Error("Value must be an integer");return n<0&&(n+=Math.pow(2,32)),"".concat(t).concat(n.toString(e))}}var vn=["typed"];function mn(e,t){return Re(e,vn,(function(n){return(0,n.typed)(e,{number:pn(t)})}))}mn("oct",8);var gn="number";function bn(e){return pe(e)}function yn(e){return Math.atan(1/e)}function xn(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function _n(e){return Math.asin(1/e)}function wn(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}function On(e){return Math.acos(1/e)}function kn(e){var t=1/e,n=Math.sqrt(t*t-1);return Math.log(n+t)}function jn(e){return ve(e)}function En(e){return me(e)}function Cn(e){return 1/Math.tan(e)}function An(e){var t=Math.exp(2*e);return(t+1)/(t-1)}function Sn(e){return 1/Math.sin(e)}function Dn(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*te(e)}function Nn(e){return 1/Math.cos(e)}function Fn(e){return 2/(Math.exp(e)+Math.exp(-e))}function Tn(e){return ge(e)}bn.signature=gn,yn.signature=gn,xn.signature=gn,_n.signature=gn,wn.signature=gn,On.signature=gn,kn.signature=gn,jn.signature=gn,En.signature=gn,Cn.signature=gn,An.signature=gn,Sn.signature=gn,Dn.signature=gn,Nn.signature=gn,Fn.signature=gn,Tn.signature=gn;function Mn(e,t){if(t<e)return 1;if(t===e)return t;var n=t+e>>1;return Mn(e,n)*Mn(n+1,t)}function In(e,t){if(!ee(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!ee(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");var n=e-t;return t<n?Mn(n+1,e)/Mn(1,t):Mn(t+1,e)/Mn(1,n)}In.signature="number, number";n(434);var Rn=Re("fraction",["typed","Fraction"],(function(e){var t=e.typed,n=e.Fraction;return t("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new n(e)},string:function(e){return new n(e)},"number, number":function(e,t){return new n(e,t)},null:function(e){return new n(0)},BigNumber:function(e){return new n(e.toString())},Fraction:function(e){return e},Object:function(e){return new n(e)},"Array | Matrix":function(e){return lt(e,this)}})})),Pn="unaryMinus",Bn=Re(Pn,["typed"],(function(e){return(0,e.typed)(Pn,{number:Nt,Complex:function(e){return e.neg()},BigNumber:function(e){return e.neg()},Fraction:function(e){return e.neg()},Unit:function(e){var t=e.clone();return t.value=this(e.value),t},"Array | Matrix":function(e){return lt(e,this,!0)}})})),zn="addScalar",Ln=Re(zn,["typed"],(function(e){return(0,e.typed)(zn,{"number, number":St,"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":function(e,t){if(null===e.value||void 0===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value||void 0===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var n=e.clone();return n.value=this(n.value,t.value),n.fixPrefix=!1,n}})})),Un=Re("sqrt",["config","typed","Complex"],(function(e){var t=e.config,n=e.typed,r=e.Complex;return n("sqrt",{number:a,Complex:function(e){return e.sqrt()},BigNumber:function(e){return!e.isNegative()||t.predictable?e.sqrt():a(e.toNumber())},"Array | Matrix":function(e){return lt(e,this,!0)},Unit:function(e){return e.pow(.5)}});function a(e){return isNaN(e)?NaN:e>=0||t.predictable?Math.sqrt(e):new r(e,0).sqrt()}})),Wn="conj",Vn=Re(Wn,["typed"],(function(e){return(0,e.typed)(Wn,{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.conjugate()},"Array | Matrix":function(e){return lt(e,this)}})})),qn="mode",Hn=Re(qn,["typed","isNaN","isNumeric"],(function(e){var t=e.typed,n=e.isNaN,r=e.isNumeric;return t(qn,{"Array | Matrix":a,"...":function(e){return a(e)}});function a(e){if(0===(e=Me(e.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var t={},a=[],i=0,o=0;o<e.length;o++){var u=e[o];if(r(u)&&n(u))throw new Error("Cannot calculate mode of an array containing NaN values");u in t||(t[u]=0),t[u]++,t[u]===i?a.push(u):t[u]>i&&(i=t[u],a=[u])}return a}}));mn("bin",2);var Gn=Re("SparseMatrix",["typed","equalScalar","Matrix"],(function(e){var t=e.typed,n=e.equalScalar,r=e.Matrix;function a(e,t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!l(t))throw new Error("Invalid datatype: "+t);if(d(e))!function(e,t,n){"SparseMatrix"===t.type?(e._values=t._values?H(t._values):void 0,e._index=H(t._index),e._ptr=H(t._ptr),e._size=H(t._size),e._datatype=n||t._datatype):u(e,t.valueOf(),n||t._datatype)}(this,e,t);else if(e&&f(e.index)&&f(e.ptr)&&f(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(f(e))u(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+V(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}}function u(e,r,a){e._values=[],e._index=[],e._ptr=[],e._datatype=a;var i=r.length,o=0,u=n,s=0;if(l(a)&&(u=t.find(n,[a,a])||n,s=t.convert(0,a)),i>0){var c=0;do{e._ptr.push(e._index.length);for(var d=0;d<i;d++){var h=r[d];if(f(h)){if(0===c&&o<h.length&&(o=h.length),c<h.length){var p=h[c];u(p,s)||(e._values.push(p),e._index.push(d))}}else 0===c&&o<1&&(o=1),u(h,s)||(e._values.push(h),e._index.push(d))}c++}while(c<o)}e._ptr.push(e._index.length),e._size=[i,o]}function s(e,t){if(!g(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var n,r,i,o,u=t.size();if(u.length!==e._size.length)throw new Oe(u.length,e._size.length);var s=t.min(),c=t.max();for(n=0,r=e._size.length;n<r;n++)Ae(s[n],e._size[n]),Ae(c[n],e._size[n]);var l=e._values,f=e._index,d=e._ptr,h=t.dimension(0),p=t.dimension(1),v=[],m=[];h.forEach((function(e,t){m[e]=t[0],v[e]=!0}));var b=l?[]:void 0,y=[],x=[];return p.forEach((function(e){for(x.push(y.length),i=d[e],o=d[e+1];i<o;i++)n=f[i],!0===v[n]&&(y.push(m[n]),b&&b.push(l[i]))})),x.push(y.length),new a({values:b,index:y,ptr:x,size:u,datatype:e._datatype})}function c(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var a,i=t.size(),o=t.isScalar();if(d(n)?(a=n.size(),n=n.toArray()):a=je(n),o){if(0!==a.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(1!==i.length&&2!==i.length)throw new Oe(i.length,e._size.length,"<");if(a.length<i.length){for(var u=0,s=0;1===i[u]&&1===a[u];)u++;for(;1===i[u];)s++,u++;n=Fe(n,i.length,s,a)}if(!$(i,a))throw new Oe(i,a,">");for(var c=t.min()[0],l=t.min()[1],f=a[0],h=a[1],p=0;p<f;p++)for(var v=0;v<h;v++){var m=n[p][v];e.set([p+c,v+l],m,r)}}return e}function p(e,t,n,r){if(n-t===0)return n;for(var a=t;a<n;a++)if(r[a]===e)return a;return t}function v(e,t,n,r,a,i,o){a.splice(e,0,r),i.splice(e,0,t);for(var u=n+1;u<o.length;u++)o[u]++}function m(e,r,a,i){var o=i||0,u=n,s=0;l(e._datatype)&&(u=t.find(n,[e._datatype,e._datatype])||n,s=t.convert(0,e._datatype),o=t.convert(o,e._datatype));var c,f,d,h=!u(o,s),p=e._size[0],v=e._size[1];if(a>v){for(f=v;f<a;f++)if(e._ptr[f]=e._values.length,h)for(c=0;c<p;c++)e._values.push(o),e._index.push(c);e._ptr[a]=e._values.length}else a<v&&(e._ptr.splice(a+1,v-a),e._values.splice(e._ptr[a],e._values.length),e._index.splice(e._ptr[a],e._index.length));if(v=a,r>p){if(h){var m=0;for(f=0;f<v;f++){e._ptr[f]=e._ptr[f]+m,d=e._ptr[f+1]+m;var g=0;for(c=p;c<r;c++,g++)e._values.splice(d+g,0,o),e._index.splice(d+g,0,c),m++}e._ptr[v]=e._values.length}}else if(r<p){var b=0;for(f=0;f<v;f++){e._ptr[f]=e._ptr[f]-b;var y=e._ptr[f],x=e._ptr[f+1]-b;for(d=y;d<x;d++)(c=e._index[d])>r-1&&(e._values.splice(d,1),e._index.splice(d,1),b++)}e._ptr[f]=e._values.length}return e._size[0]=r,e._size[1]=a,e}function b(e,t,n,r,a){var i,o,u=r[0],s=r[1],c=[];for(i=0;i<u;i++)for(c[i]=[],o=0;o<s;o++)c[i][o]=0;for(o=0;o<s;o++)for(var l=n[o],f=n[o+1],d=l;d<f;d++)c[i=t[d]][o]=e?a?H(e[d]):e[d]:1;return c}return a.prototype=new r,a.prototype.createSparseMatrix=function(e,t){return new a(e,t)},a.prototype.type="SparseMatrix",a.prototype.isSparseMatrix=!0,a.prototype.getDataType=function(){return Ie(this._values,V)},a.prototype.storage=function(){return"sparse"},a.prototype.datatype=function(){return this._datatype},a.prototype.create=function(e,t){return new a(e,t)},a.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},a.prototype.subset=function(e,t,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,e);case 2:case 3:return c(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}},a.prototype.get=function(e){if(!f(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new Oe(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],n=e[1];Ae(t,this._size[0]),Ae(n,this._size[1]);var r=p(t,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===t?this._values[r]:0},a.prototype.set=function(e,r,a){if(!f(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new Oe(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var i=e[0],o=e[1],u=this._size[0],s=this._size[1],c=n,d=0;l(this._datatype)&&(c=t.find(n,[this._datatype,this._datatype])||n,d=t.convert(0,this._datatype)),(i>u-1||o>s-1)&&(m(this,Math.max(i+1,u),Math.max(o+1,s),a),u=this._size[0],s=this._size[1]),Ae(i,u),Ae(o,s);var h=p(i,this._ptr[o],this._ptr[o+1],this._index);return h<this._ptr[o+1]&&this._index[h]===i?c(r,d)?function(e,t,n,r,a){n.splice(e,1),r.splice(e,1);for(var i=t+1;i<a.length;i++)a[i]--}(h,o,this._values,this._index,this._ptr):this._values[h]=r:v(h,i,o,r,this._values,this._index,this._ptr),this},a.prototype.resize=function(e,t,n){if(!h(e))throw new TypeError("Array or Matrix expected");var r=e.valueOf().map((function(e){return Array.isArray(e)&&1===e.length?e[0]:e}));if(2!==r.length)throw new Error("Only two dimensions matrix are supported");return r.forEach((function(e){if(!i(e)||!ee(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+_e(r)+")")})),m(n?this.clone():this,r[0],r[1],t)},a.prototype.reshape=function(e,t){if(!f(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(e.forEach((function(t){if(!i(t)||!ee(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+_e(e)+")")})),this._size[0]*this._size[1]!==e[0]*e[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var n=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return n;for(var r=[],a=0;a<n._ptr.length;a++)for(var o=0;o<n._ptr[a+1]-n._ptr[a];o++)r.push(a);for(var u=n._values.slice(),s=n._index.slice(),c=0;c<n._index.length;c++){var l=s[c],d=r[c],h=l*n._size[1]+d;r[c]=h%e[1],s[c]=Math.floor(h/e[1])}n._values.length=0,n._index.length=0,n._ptr.length=e[1]+1,n._size=e.slice();for(var m=0;m<n._ptr.length;m++)n._ptr[m]=0;for(var g=0;g<u.length;g++){var b=s[g],y=r[g],x=u[g];v(p(b,n._ptr[y],n._ptr[y+1],n._index),b,y,x,n._values,n._index,n._ptr)}return n},a.prototype.clone=function(){return new a({values:this._values?H(this._values):void 0,index:H(this._index),ptr:H(this._ptr),size:H(this._size),datatype:this._datatype})},a.prototype.size=function(){return this._size.slice(0)},a.prototype.map=function(e,r){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var i=this;return function(e,r,i,o,u,s,c){var f=[],d=[],h=[],p=n,v=0;l(e._datatype)&&(p=t.find(n,[e._datatype,e._datatype])||n,v=t.convert(0,e._datatype));for(var m=function(e,t,n){e=s(e,t,n),p(e,v)||(f.push(e),d.push(t))},g=o;g<=u;g++){h.push(f.length);var b=e._ptr[g],y=e._ptr[g+1];if(c)for(var x=b;x<y;x++){var _=e._index[x];_>=r&&_<=i&&m(e._values[x],_-r,g-o)}else{for(var w={},O=b;O<y;O++){w[e._index[O]]=e._values[O]}for(var k=r;k<=i;k++){m(k in w?w[k]:0,k-r,g-o)}}}return h.push(f.length),new a({values:f,index:d,ptr:h,size:[i-r+1,u-o+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(t,n,r){return e(t,[n,r],i)}),r)},a.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],r=this._size[1],a=0;a<r;a++){var i=this._ptr[a],o=this._ptr[a+1];if(t)for(var u=i;u<o;u++){var s=this._index[u];e(this._values[u],[s,a],this)}else{for(var c={},l=i;l<o;l++){c[this._index[l]]=this._values[l]}for(var f=0;f<n;f++){e(f in c?c[f]:0,[f,a],this)}}}},a.prototype.toArray=function(){return b(this._values,this._index,this._ptr,this._size,!0)},a.prototype.valueOf=function(){return b(this._values,this._index,this._ptr,this._size,!1)},a.prototype.format=function(e){for(var t=this._size[0],n=this._size[1],r=this.density(),a="Sparse Matrix ["+_e(t,e)+" x "+_e(n,e)+"] density: "+_e(r,e)+"\n",i=0;i<n;i++)for(var o=this._ptr[i],u=this._ptr[i+1],s=o;s<u;s++){a+="\n    ("+_e(this._index[s],e)+", "+_e(i,e)+") ==> "+(this._values?_e(this._values[s],e):"X")}return a},a.prototype.toString=function(){return _e(this.toArray())},a.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},a.prototype.diagonal=function(e){if(e){if(o(e)&&(e=e.toNumber()),!i(e)||!ee(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=e>0?e:0,n=e<0?-e:0,r=this._size[0],u=this._size[1],s=Math.min(r-n,u-t),c=[],l=[],f=[];f[0]=0;for(var d=t;d<u&&c.length<s;d++)for(var h=this._ptr[d],p=this._ptr[d+1],v=h;v<p;v++){var m=this._index[v];if(m===d-t+n){c.push(this._values[v]),l[c.length-1]=m-n;break}}return f.push(c.length),new a({values:c,index:l,ptr:f,size:[s,1]})},a.fromJSON=function(e){return new a(e)},a.diagonal=function(e,r,u,s,c){if(!f(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if(o(e)&&(e=e.toNumber()),!i(e)||!ee(e)||e<1)throw new Error("Size values must be positive integers");return e})),u){if(o(u)&&(u=u.toNumber()),!i(u)||!ee(u))throw new TypeError("The parameter k must be an integer number")}else u=0;var h=n,p=0;l(c)&&(h=t.find(n,[c,c])||n,p=t.convert(0,c));var v,m=u>0?u:0,g=u<0?-u:0,b=e[0],y=e[1],x=Math.min(b-g,y-m);if(f(r)){if(r.length!==x)throw new Error("Invalid value array length");v=function(e){return r[e]}}else if(d(r)){var _=r.size();if(1!==_.length||_[0]!==x)throw new Error("Invalid matrix length");v=function(e){return r.get([e])}}else v=function(){return r};for(var w=[],O=[],k=[],j=0;j<y;j++){k.push(w.length);var E=j-m;if(E>=0&&E<x){var C=v(E);h(C,p)||(O.push(E+g),w.push(C))}}return k.push(w.length),new a({values:w,index:O,ptr:k,size:[b,y]})},a.prototype.swapRows=function(e,t){if(!i(e)||!ee(e)||!i(t)||!ee(t))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Ae(e,this._size[0]),Ae(t,this._size[0]),a._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},a._forEachRow=function(e,t,n,r,a){for(var i=r[e],o=r[e+1],u=i;u<o;u++)a(n[u],t[u])},a._swapRows=function(e,t,n,r,a,i){for(var o=0;o<n;o++){var u=i[o],s=i[o+1],c=p(e,u,s,a),l=p(t,u,s,a);if(c<s&&l<s&&a[c]===e&&a[l]===t){if(r){var f=r[c];r[c]=r[l],r[l]=f}}else if(c<s&&a[c]===e&&(l>=s||a[l]!==t)){var d=r?r[c]:void 0;a.splice(l,0,t),r&&r.splice(l,0,d),a.splice(l<=c?c+1:c,1),r&&r.splice(l<=c?c+1:c,1)}else if(l<s&&a[l]===t&&(c>=s||a[c]!==e)){var h=r?r[l]:void 0;a.splice(c,0,e),r&&r.splice(c,0,h),a.splice(c<=l?l+1:l,1),r&&r.splice(c<=l?l+1:l,1)}}},a}),{isClass:!0}),Kn="matrix",$n=Re(Kn,["typed","Matrix","DenseMatrix","SparseMatrix"],(function(e){var t=e.typed,n=(e.Matrix,e.DenseMatrix),r=e.SparseMatrix;return t(Kn,{"":function(){return a([])},string:function(e){return a([],e)},"string, string":function(e,t){return a([],e,t)},Array:function(e){return a(e)},Matrix:function(e){return a(e,e.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(e,t,a){if("dense"===t||"default"===t||void 0===t)return new n(e,a);if("sparse"===t)return new r(e,a);throw new TypeError("Unknown matrix type "+JSON.stringify(t)+".")}})),Xn=Re("algorithm01",["typed"],(function(e){var t=e.typed;return function(e,n,r,a){var i=e._data,o=e._size,u=e._datatype,s=n._values,c=n._index,l=n._ptr,f=n._size,d=n._datatype;if(o.length!==f.length)throw new Oe(o.length,f.length);if(o[0]!==f[0]||o[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+f+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h,p,v=o[0],m=o[1],g="string"===typeof u&&u===d?u:void 0,b=g?t.find(r,[g,g]):r,y=[];for(h=0;h<v;h++)y[h]=[];var x=[],_=[];for(p=0;p<m;p++){for(var w=p+1,O=l[p],k=l[p+1],j=O;j<k;j++)x[h=c[j]]=a?b(s[j],i[h][p]):b(i[h][p],s[j]),_[h]=w;for(h=0;h<v;h++)_[h]===w?y[h][p]=x[h]:y[h][p]=i[h][p]}return e.createDenseMatrix({data:y,size:[v,m],datatype:g})}})),Yn=Re("algorithm04",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,a){var i=e._values,o=e._index,u=e._ptr,s=e._size,c=e._datatype,l=r._values,f=r._index,d=r._ptr,h=r._size,p=r._datatype;if(s.length!==h.length)throw new Oe(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");var v,m=s[0],g=s[1],b=n,y=0,x=a;"string"===typeof c&&c===p&&(v=c,b=t.find(n,[v,v]),y=t.convert(0,v),x=t.find(a,[v,v]));var _,w,O,k,j,E=i&&l?[]:void 0,C=[],A=[],S=i&&l?[]:void 0,D=i&&l?[]:void 0,N=[],F=[];for(w=0;w<g;w++){A[w]=C.length;var T=w+1;for(k=u[w],j=u[w+1],O=k;O<j;O++)_=o[O],C.push(_),N[_]=T,S&&(S[_]=i[O]);for(k=d[w],j=d[w+1],O=k;O<j;O++)if(N[_=f[O]]===T){if(S){var M=x(S[_],l[O]);b(M,y)?N[_]=null:S[_]=M}}else C.push(_),F[_]=T,D&&(D[_]=l[O]);if(S&&D)for(O=A[w];O<C.length;)N[_=C[O]]===T?(E[O]=S[_],O++):F[_]===T?(E[O]=D[_],O++):C.splice(O,1)}return A[g]=C.length,e.createSparseMatrix({values:E,index:C,ptr:A,size:[m,g],datatype:v})}})),Jn=Re("algorithm10",["typed","DenseMatrix"],(function(e){var t=e.typed,n=e.DenseMatrix;return function(e,r,a,i){var o=e._values,u=e._index,s=e._ptr,c=e._size,l=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,d=c[0],h=c[1],p=a;"string"===typeof l&&(f=l,r=t.convert(r,f),p=t.find(a,[f,f]));for(var v=[],m=[],g=[],b=0;b<h;b++){for(var y=b+1,x=s[b],_=s[b+1],w=x;w<_;w++){var O=u[w];m[O]=o[w],g[O]=y}for(var k=0;k<d;k++)0===b&&(v[k]=[]),g[k]===y?v[k][b]=i?p(r,m[k]):p(m[k],r):v[k][b]=r}return new n({data:v,size:[d,h],datatype:f})}})),Qn=Re("algorithm13",["typed"],(function(e){var t=e.typed;return function(e,r,a){var i,o=e._data,u=e._size,s=e._datatype,c=r._data,l=r._size,f=r._datatype,d=[];if(u.length!==l.length)throw new Oe(u.length,l.length);for(var h=0;h<u.length;h++){if(u[h]!==l[h])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+l+")");d[h]=u[h]}var p=a;"string"===typeof s&&s===f&&(i=s,p=t.find(a,[i,i]));var v=d.length>0?n(p,0,d,d[0],o,c):[];return e.createDenseMatrix({data:v,size:d,datatype:i})};function n(e,t,r,a,i,o){var u=[];if(t===r.length-1)for(var s=0;s<a;s++)u[s]=e(i[s],o[s]);else for(var c=0;c<a;c++)u[c]=n(e,t+1,r,r[t+1],i[c],o[c]);return u}})),Zn=Re("algorithm14",["typed"],(function(e){var t=e.typed;return function(e,r,a,i){var o,u=e._data,s=e._size,c=e._datatype,l=a;"string"===typeof c&&(o=c,r=t.convert(r,o),l=t.find(a,[o,o]));var f=s.length>0?n(l,0,s,s[0],u,r,i):[];return e.createDenseMatrix({data:f,size:H(s),datatype:o})};function n(e,t,r,a,i,o,u){var s=[];if(t===r.length-1)for(var c=0;c<a;c++)s[c]=u?e(o,i[c]):e(i[c],o);else for(var l=0;l<a;l++)s[l]=n(e,t+1,r,r[t+1],i[l],o,u);return s}})),er=Re("algorithm03",["typed"],(function(e){var t=e.typed;return function(e,n,r,a){var i=e._data,o=e._size,u=e._datatype,s=n._values,c=n._index,l=n._ptr,f=n._size,d=n._datatype;if(o.length!==f.length)throw new Oe(o.length,f.length);if(o[0]!==f[0]||o[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+f+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h,p=o[0],v=o[1],m=0,g=r;"string"===typeof u&&u===d&&(h=u,m=t.convert(0,h),g=t.find(r,[h,h]));for(var b=[],y=0;y<p;y++)b[y]=[];for(var x=[],_=[],w=0;w<v;w++){for(var O=w+1,k=l[w],j=l[w+1],E=k;E<j;E++){var C=c[E];x[C]=a?g(s[E],i[C][w]):g(i[C][w],s[E]),_[C]=O}for(var A=0;A<p;A++)_[A]===O?b[A][w]=x[A]:b[A][w]=a?g(m,i[A][w]):g(i[A][w],m)}return e.createDenseMatrix({data:b,size:[p,v],datatype:h})}})),tr=Re("algorithm05",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,a){var i=e._values,o=e._index,u=e._ptr,s=e._size,c=e._datatype,l=r._values,f=r._index,d=r._ptr,h=r._size,p=r._datatype;if(s.length!==h.length)throw new Oe(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");var v,m=s[0],g=s[1],b=n,y=0,x=a;"string"===typeof c&&c===p&&(v=c,b=t.find(n,[v,v]),y=t.convert(0,v),x=t.find(a,[v,v]));var _,w,O,k,j=i&&l?[]:void 0,E=[],C=[],A=j?[]:void 0,S=j?[]:void 0,D=[],N=[];for(w=0;w<g;w++){C[w]=E.length;var F=w+1;for(O=u[w],k=u[w+1];O<k;O++)_=o[O],E.push(_),D[_]=F,A&&(A[_]=i[O]);for(O=d[w],k=d[w+1];O<k;O++)D[_=f[O]]!==F&&E.push(_),N[_]=F,S&&(S[_]=l[O]);if(j)for(O=C[w];O<E.length;){var T=D[_=E[O]],M=N[_];if(T===F||M===F){var I=x(T===F?A[_]:y,M===F?S[_]:y);b(I,y)?E.splice(O,1):(j.push(I),O++)}}}return C[g]=E.length,e.createSparseMatrix({values:j,index:E,ptr:C,size:[m,g],datatype:v})}})),nr=Re("algorithm11",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,a,i){var o=e._values,u=e._index,s=e._ptr,c=e._size,l=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,d=c[0],h=c[1],p=n,v=0,m=a;"string"===typeof l&&(f=l,p=t.find(n,[f,f]),v=t.convert(0,f),r=t.convert(r,f),m=t.find(a,[f,f]));for(var g=[],b=[],y=[],x=0;x<h;x++){y[x]=b.length;for(var _=s[x],w=s[x+1],O=_;O<w;O++){var k=u[O],j=i?m(r,o[O]):m(o[O],r);p(j,v)||(b.push(k),g.push(j))}}return y[h]=b.length,e.createSparseMatrix({values:g,index:b,ptr:y,size:[d,h],datatype:f})}})),rr=Re("algorithm12",["typed","DenseMatrix"],(function(e){var t=e.typed,n=e.DenseMatrix;return function(e,r,a,i){var o=e._values,u=e._index,s=e._ptr,c=e._size,l=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,d=c[0],h=c[1],p=a;"string"===typeof l&&(f=l,r=t.convert(r,f),p=t.find(a,[f,f]));for(var v=[],m=[],g=[],b=0;b<h;b++){for(var y=b+1,x=s[b],_=s[b+1],w=x;w<_;w++){var O=u[w];m[O]=o[w],g[O]=y}for(var k=0;k<d;k++)0===b&&(v[k]=[]),g[k]===y?v[k][b]=i?p(r,m[k]):p(m[k],r):v[k][b]=i?p(r,0):p(0,r)}return new n({data:v,size:[d,h],datatype:f})}})),ar=Re("algorithm07",["typed","DenseMatrix"],(function(e){var t=e.typed,n=e.DenseMatrix;return function(e,a,i){var o=e._size,u=e._datatype,s=a._size,c=a._datatype;if(o.length!==s.length)throw new Oe(o.length,s.length);if(o[0]!==s[0]||o[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+s+")");var l,f,d,h=o[0],p=o[1],v=0,m=i;"string"===typeof u&&u===c&&(l=u,v=t.convert(0,l),m=t.find(i,[l,l]));var g=[];for(f=0;f<h;f++)g[f]=[];var b=[],y=[],x=[],_=[];for(d=0;d<p;d++){var w=d+1;for(r(e,d,x,b,w),r(a,d,_,y,w),f=0;f<h;f++){var O=x[f]===w?b[f]:v,k=_[f]===w?y[f]:v;g[f][d]=m(O,k)}}return new n({data:g,size:[h,p],datatype:l})};function r(e,t,n,r,a){for(var i=e._values,o=e._index,u=e._ptr,s=u[t],c=u[t+1];s<c;s++){var l=o[s];n[l]=a,r[l]=i[s]}}}));var ir="identity",or=Re(ir,["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix,a=e.BigNumber,i=e.DenseMatrix,u=e.SparseMatrix;return t(ir,{"":function(){return"Matrix"===n.matrix?r([]):[]},string:function(e){return r(e)},"number | BigNumber":function(e){return c(e,e,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, string":function(e,t){return c(e,e,t)},"number | BigNumber, number | BigNumber":function(e,t){return c(e,t,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,n){return c(e,t,n)},Array:function(e){return s(e)},"Array, string":function(e,t){return s(e,t)},Matrix:function(e){return s(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return s(e.valueOf(),t)}});function s(e,t){switch(e.length){case 0:return t?r(t):[];case 1:return c(e[0],e[0],t);case 2:return c(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function c(e,t,n){var r=o(e)||o(t)?a:null;if(o(e)&&(e=e.toNumber()),o(t)&&(t=t.toNumber()),!ee(e)||e<1)throw new Error("Parameters in function identity must be positive integers");if(!ee(t)||t<1)throw new Error("Parameters in function identity must be positive integers");var s=r?new a(1):1,c=r?new r(0):0,l=[e,t];if(n){if("sparse"===n)return u.diagonal(l,s,0,c);if("dense"===n)return i.diagonal(l,s,0,c);throw new TypeError('Unknown matrix type "'.concat(n,'"'))}for(var f=Se([],l,c),d=e<t?e:t,h=0;h<d;h++)f[h][h]=s;return f}}));function ur(){throw new Error('No "bignumber" implementation available')}function sr(){throw new Error('No "fraction" implementation available')}function cr(){throw new Error('No "matrix" implementation available')}var lr="size",fr=Re(lr,["typed","config","?matrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix;return t(lr,{Matrix:function(e){return e.create(e.size())},Array:je,string:function(e){return"Array"===n.matrix?[e.length]:r([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===n.matrix?[]:r?r([]):cr()}})}));mn("hex",16);var dr="compare",hr=Re(dr,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.equalScalar,a=e.matrix,i=e.BigNumber,o=e.Fraction,u=e.DenseMatrix,s=er({typed:t}),c=tr({typed:t,equalScalar:r}),l=rr({typed:t,DenseMatrix:u}),f=Qn({typed:t}),d=Zn({typed:t});return t(dr,{"boolean, boolean":function(e,t){return e===t?0:e>t?1:-1},"number, number":function(e,t){return he(e,t,n.epsilon)?0:e>t?1:-1},"BigNumber, BigNumber":function(e,t){return wt(e,t,n.epsilon)?new i(0):new i(e.cmp(t))},"Fraction, Fraction":function(e,t){return new o(e.compare(t))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,this)},"Array, Array":function(e,t){return this(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return this(a(e),t)},"Matrix, Array":function(e,t){return this(e,a(t))},"SparseMatrix, any":function(e,t){return l(e,t,this,!1)},"DenseMatrix, any":function(e,t){return d(e,t,this,!1)},"any, SparseMatrix":function(e,t){return l(t,e,this,!0)},"any, DenseMatrix":function(e,t){return d(t,e,this,!0)},"Array, any":function(e,t){return d(a(e),t,this,!1).valueOf()},"any, Array":function(e,t){return d(a(t),e,this,!0).valueOf()}})})),pr="smaller",vr=Re(pr,["typed","config","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix,a=e.DenseMatrix,i=er({typed:t}),o=ar({typed:t,DenseMatrix:a}),u=rr({typed:t,DenseMatrix:a}),s=Qn({typed:t}),c=Zn({typed:t});return t(pr,{"boolean, boolean":function(e,t){return e<t},"number, number":function(e,t){return e<t&&!he(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lt(t)&&!wt(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return-1===e.compare(t)},"Complex, Complex":function(e,t){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return u(e,t,this,!1)},"DenseMatrix, any":function(e,t){return c(e,t,this,!1)},"any, SparseMatrix":function(e,t){return u(t,e,this,!0)},"any, DenseMatrix":function(e,t){return c(t,e,this,!0)},"Array, any":function(e,t){return c(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,this,!0).valueOf()}})})),mr="larger",gr=Re(mr,["typed","config","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix,a=e.DenseMatrix,i=er({typed:t}),o=ar({typed:t,DenseMatrix:a}),u=rr({typed:t,DenseMatrix:a}),s=Qn({typed:t}),c=Zn({typed:t});return t(mr,{"boolean, boolean":function(e,t){return e>t},"number, number":function(e,t){return e>t&&!he(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gt(t)&&!wt(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return 1===e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return u(e,t,this,!1)},"DenseMatrix, any":function(e,t){return c(e,t,this,!1)},"any, SparseMatrix":function(e,t){return u(t,e,this,!0)},"any, DenseMatrix":function(e,t){return c(t,e,this,!0)},"Array, any":function(e,t){return c(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,this,!0).valueOf()}})})),br="unequal",yr=(Re(br,["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return t(br,{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:!n(e,t)}})})),Re("FibonacciHeap",["smaller","larger"],(function(e){var t=e.smaller,n=e.larger,r=1/Math.log((1+Math.sqrt(5))/2);function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function i(e,t,n){t.left.right=t.right,t.right.left=t.left,n.degree--,n.child===t&&(n.child=t.right),0===n.degree&&(n.child=null),t.left=e,t.right=e.right,e.right=t,t.right.left=t,t.parent=null,t.mark=!1}function o(e,t){var n=t.parent;n&&(t.mark?(i(e,t,n),o(n)):t.mark=!0)}a.prototype.type="FibonacciHeap",a.prototype.isFibonacciHeap=!0,a.prototype.insert=function(e,n){var r={key:e,value:n,degree:0};if(this._minimum){var a=this._minimum;r.left=a,r.right=a.right,a.right=r,r.right.left=r,t(e,a.key)&&(this._minimum=r)}else r.left=r,r.right=r,this._minimum=r;return this._size++,r},a.prototype.size=function(){return this._size},a.prototype.clear=function(){this._minimum=null,this._size=0},a.prototype.isEmpty=function(){return 0===this._size},a.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var a=this._minimum,i=e.degree,o=e.child;i>0;){var s=o.right;o.left.right=o.right,o.right.left=o.left,o.left=a,o.right=a.right,a.right=o,o.right.left=o,o.parent=null,o=s,i--}return e.left.right=e.right,e.right.left=e.left,a=e===e.right?null:function(e,a){var i,o=Math.floor(Math.log(a)*r)+1,s=new Array(o),c=0,l=e;if(l)for(c++,l=l.right;l!==e;)c++,l=l.right;for(;c>0;){for(var f=l.degree,d=l.right;i=s[f];){if(n(l.key,i.key)){var h=i;i=l,l=h}u(i,l),s[f]=null,f++}s[f]=l,l=d,c--}e=null;for(var p=0;p<o;p++)(i=s[p])&&(e?(i.left.right=i.right,i.right.left=i.left,i.left=e,i.right=e.right,e.right=i,i.right.left=i,t(i.key,e.key)&&(e=i)):e=i);return e}(a=e.right,this._size),this._size--,this._minimum=a,e},a.prototype.remove=function(e){this._minimum=function(e,n,r){n.key=r;var a=n.parent;a&&t(n.key,a.key)&&(i(e,n,a),o(e,a));t(n.key,e.key)&&(e=n);return e}(this._minimum,e,-1),this.extractMinimum()};var u=function(e,t){e.left.right=e.right,e.right.left=e.left,e.parent=t,t.child?(e.left=t.child,e.right=t.child.right,t.child.right=e,e.right.left=e):(t.child=e,e.right=e,e.left=e),t.degree++,e.mark=!1};return a}),{isClass:!0})),xr=Re("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.addScalar,a=e.equalScalar,i=e.DenseMatrix,o=(e.SparseMatrix,Xn({typed:t})),u=Yn({typed:t,equalScalar:a}),s=Jn({typed:t,DenseMatrix:i}),c=Qn({typed:t}),l=Zn({typed:t});return t("add",K({"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,r)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,r,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,r,!0)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,r)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"DenseMatrix, any":function(e,t){return l(e,t,r,!1)},"SparseMatrix, any":function(e,t){return s(e,t,r,!1)},"any, DenseMatrix":function(e,t){return l(t,e,r,!0)},"any, SparseMatrix":function(e,t){return s(t,e,r,!0)},"Array, any":function(e,t){return l(n(e),t,r,!1).valueOf()},"any, Array":function(e,t){return l(n(t),e,r,!0).valueOf()},"any, any":r,"any, any, ...any":function(e,t,n){for(var r=this(e,t),a=0;a<n.length;a++)r=this(r,n[a]);return r}},r.signatures))})),_r=Re("dot",["typed","addScalar","multiplyScalar","conj","size"],(function(e){var t=e.typed,n=e.addScalar,r=e.multiplyScalar,a=e.conj,i=e.size;return t("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(e,i){var s=o(e,i),c=d(e)?e._data:e,l=d(e)?e._datatype:void 0,f=d(i)?i._data:i,h=d(i)?i._datatype:void 0,p=2===u(e).length,v=2===u(i).length,m=n,g=r;if(l&&h&&l===h&&"string"===typeof l){var b=l;m=t.find(n,[b,b]),g=t.find(r,[b,b])}if(!p&&!v){for(var y=g(a(c[0]),f[0]),x=1;x<s;x++)y=m(y,g(a(c[x]),f[x]));return y}if(!p&&v){for(var _=g(a(c[0]),f[0][0]),w=1;w<s;w++)_=m(_,g(a(c[w]),f[w][0]));return _}if(p&&!v){for(var O=g(a(c[0][0]),f[0]),k=1;k<s;k++)O=m(O,g(a(c[k][0]),f[k]));return O}if(p&&v){for(var j=g(a(c[0][0]),f[0][0]),E=1;E<s;E++)j=m(j,g(a(c[E][0]),f[E][0]));return j}},"SparseMatrix, SparseMatrix":function(e,t){o(e,t);var a=e._index,i=e._values,u=t._index,s=t._values,c=0,l=n,f=r,d=0,h=0;for(;d<a.length&&h<u.length;){var p=a[d],v=u[h];p<v?d++:p>v?h++:p===v&&(c=l(c,f(i[d],s[h])),d++,h++)}return c}});function o(e,t){var n,r,a=u(e),i=u(t);if(1===a.length)n=a[0];else{if(2!==a.length||1!==a[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+a.join(", ")+")");n=a[0]}if(1===i.length)r=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");r=i[0]}if(n!==r)throw new RangeError("Vectors must have equal length ("+n+" != "+r+")");if(0===n)throw new RangeError("Cannot calculate the dot product of empty vectors");return n}function u(e){return d(e)?e.size():i(e)}})),wr=Re("abs",["typed"],(function(e){return(0,e.typed)("abs",{number:At,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},Fraction:function(e){return e.abs()},"Array | Matrix":function(e){return lt(e,this,!0)},Unit:function(e){return e.abs()}})}));var Or="multiply",kr=Re(Or,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],(function(e){var t=e.typed,n=e.matrix,r=e.addScalar,a=e.multiplyScalar,i=e.equalScalar,o=e.dot,u=nr({typed:t,equalScalar:i}),s=Zn({typed:t});function c(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}function l(e,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,n){var i,o=e._data,u=e._size,s=e._datatype,c=n._data,l=n._size,f=n._datatype,d=u[0],h=l[1],p=r,v=a;s&&f&&s===f&&"string"===typeof s&&(i=s,p=t.find(r,[i,i]),v=t.find(a,[i,i]));for(var m=[],g=0;g<h;g++){for(var b=v(o[0],c[0][g]),y=1;y<d;y++)b=p(b,v(o[y],c[y][g]));m[g]=b}return e.createDenseMatrix({data:m,size:[h],datatype:i})}(e,n)}var f=t("_multiplyMatrixVector",{"DenseMatrix, any":function(e,n){var i,o=e._data,u=e._size,s=e._datatype,c=n._data,l=n._datatype,f=u[0],d=u[1],h=r,p=a;s&&l&&s===l&&"string"===typeof s&&(i=s,h=t.find(r,[i,i]),p=t.find(a,[i,i]));for(var v=[],m=0;m<f;m++){for(var g=o[m],b=p(g[0],c[0]),y=1;y<d;y++)b=h(b,p(g[y],c[y]));v[m]=b}return e.createDenseMatrix({data:v,size:[f],datatype:i})},"SparseMatrix, any":function(e,n){var o=e._values,u=e._index,s=e._ptr,c=e._datatype;if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var l,f=n._data,d=n._datatype,h=e._size[0],p=n._size[0],v=[],m=[],g=[],b=r,y=a,x=i,_=0;c&&d&&c===d&&"string"===typeof c&&(l=c,b=t.find(r,[l,l]),y=t.find(a,[l,l]),x=t.find(i,[l,l]),_=t.convert(0,l));var w=[],O=[];g[0]=0;for(var k=0;k<p;k++){var j=f[k];if(!x(j,_))for(var E=s[k],C=s[k+1],A=E;A<C;A++){var S=u[A];O[S]?w[S]=b(w[S],y(j,o[A])):(O[S]=!0,m.push(S),w[S]=y(j,o[A]))}}for(var D=m.length,N=0;N<D;N++){var F=m[N];v[N]=w[F]}return g[1]=m.length,e.createSparseMatrix({values:v,index:m,ptr:g,size:[h,1],datatype:l})}}),h=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,n){var i,o=e._data,u=e._size,s=e._datatype,c=n._data,l=n._size,f=n._datatype,d=u[0],h=u[1],p=l[1],v=r,m=a;s&&f&&s===f&&"string"===typeof s&&(i=s,v=t.find(r,[i,i]),m=t.find(a,[i,i]));for(var g=[],b=0;b<d;b++){var y=o[b];g[b]=[];for(var x=0;x<p;x++){for(var _=m(y[0],c[0][x]),w=1;w<h;w++)_=v(_,m(y[w],c[w][x]));g[b][x]=_}}return e.createDenseMatrix({data:g,size:[d,p],datatype:i})},"DenseMatrix, SparseMatrix":function(e,n){var o=e._data,u=e._size,s=e._datatype,c=n._values,l=n._index,f=n._ptr,d=n._size,h=n._datatype;if(!c)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var p,v=u[0],m=d[1],g=r,b=a,y=i,x=0;s&&h&&s===h&&"string"===typeof s&&(p=s,g=t.find(r,[p,p]),b=t.find(a,[p,p]),y=t.find(i,[p,p]),x=t.convert(0,p));for(var _=[],w=[],O=[],k=n.createSparseMatrix({values:_,index:w,ptr:O,size:[v,m],datatype:p}),j=0;j<m;j++){O[j]=w.length;var E=f[j],C=f[j+1];if(C>E)for(var A=0,S=0;S<v;S++){for(var D=S+1,N=void 0,F=E;F<C;F++){var T=l[F];A!==D?(N=b(o[S][T],c[F]),A=D):N=g(N,b(o[S][T],c[F]))}A!==D||y(N,x)||(w.push(S),_.push(N))}}return O[m]=w.length,k},"SparseMatrix, DenseMatrix":function(e,n){var o=e._values,u=e._index,s=e._ptr,c=e._datatype;if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var l,f=n._data,d=n._datatype,h=e._size[0],p=n._size[0],v=n._size[1],m=r,g=a,b=i,y=0;c&&d&&c===d&&"string"===typeof c&&(l=c,m=t.find(r,[l,l]),g=t.find(a,[l,l]),b=t.find(i,[l,l]),y=t.convert(0,l));for(var x=[],_=[],w=[],O=e.createSparseMatrix({values:x,index:_,ptr:w,size:[h,v],datatype:l}),k=[],j=[],E=0;E<v;E++){w[E]=_.length;for(var C=E+1,A=0;A<p;A++){var S=f[A][E];if(!b(S,y))for(var D=s[A],N=s[A+1],F=D;F<N;F++){var T=u[F];j[T]!==C?(j[T]=C,_.push(T),k[T]=g(S,o[F])):k[T]=m(k[T],g(S,o[F]))}}for(var M=w[E],I=_.length,R=M;R<I;R++){var P=_[R];x[R]=k[P]}}return w[v]=_.length,O},"SparseMatrix, SparseMatrix":function(e,n){var i,o=e._values,u=e._index,s=e._ptr,c=e._datatype,l=n._values,f=n._index,d=n._ptr,h=n._datatype,p=e._size[0],v=n._size[1],m=o&&l,g=r,b=a;c&&h&&c===h&&"string"===typeof c&&(i=c,g=t.find(r,[i,i]),b=t.find(a,[i,i]));for(var y,x,_,w,O,k,j,E,C=m?[]:void 0,A=[],S=[],D=e.createSparseMatrix({values:C,index:A,ptr:S,size:[p,v],datatype:i}),N=m?[]:void 0,F=[],T=0;T<v;T++){S[T]=A.length;var M=T+1;for(O=d[T],k=d[T+1],w=O;w<k;w++)if(E=f[w],m)for(x=s[E],_=s[E+1],y=x;y<_;y++)j=u[y],F[j]!==M?(F[j]=M,A.push(j),N[j]=b(l[w],o[y])):N[j]=g(N[j],b(l[w],o[y]));else for(x=s[E],_=s[E+1],y=x;y<_;y++)j=u[y],F[j]!==M&&(F[j]=M,A.push(j));if(m)for(var I=S[T],R=A.length,P=I;P<R;P++){var B=A[P];C[P]=N[B]}}return S[v]=A.length,D}});return t(Or,K({"Array, Array":function(e,t){c(je(e),je(t));var r=this(n(e),n(t));return d(r)?r.valueOf():r},"Matrix, Matrix":function(e,t){var n=e.size(),r=t.size();return c(n,r),1===n.length?1===r.length?function(e,t,n){if(0===n)throw new Error("Cannot multiply two empty vectors");return o(e,t)}(e,t,n[0]):l(e,t):1===r.length?f(e,t):h(e,t)},"Matrix, Array":function(e,t){return this(e,n(t))},"Array, Matrix":function(e,t){return this(n(e,t.storage()),t)},"SparseMatrix, any":function(e,t){return u(e,t,a,!1)},"DenseMatrix, any":function(e,t){return s(e,t,a,!1)},"any, SparseMatrix":function(e,t){return u(t,e,a,!0)},"any, DenseMatrix":function(e,t){return s(t,e,a,!0)},"Array, any":function(e,t){return s(n(e),t,a,!1).valueOf()},"any, Array":function(e,t){return s(n(t),e,a,!0).valueOf()},"any, any":a,"any, any, ...any":function(e,t,n){for(var r=this(e,t),a=0;a<n.length;a++)r=this(r,n[a]);return r}},a.signatures))}));function jr(e,t,n,r){if(!(this instanceof jr))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+n+(void 0!==r&&null!==r?"-"+r:"")+" expected)",this.stack=(new Error).stack}jr.prototype=new Error,jr.prototype.constructor=Error,jr.prototype.name="ArgumentsError",jr.prototype.isArgumentsError=!0;n(204);var Er="partitionSelect",Cr=Re(Er,["typed","isNumeric","isNaN","compare"],(function(e){var t=e.typed,n=e.isNumeric,r=e.isNaN,a=e.compare,i=a,o=function(e,t){return-a(e,t)};return t(Er,{"Array | Matrix, number":function(e,t){return u(e,t,i)},"Array | Matrix, number, string":function(e,t,n){if("asc"===n)return u(e,t,i);if("desc"===n)return u(e,t,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":u});function u(e,t,n){if(!ee(t)||t<0)throw new Error("k must be a non-negative integer");if(d(e)){if(e.size().length>1)throw new Error("Only one dimensional matrices supported");return s(e.valueOf(),t,n)}if(Array.isArray(e))return s(e,t,n)}function s(e,t,a){if(t>=e.length)throw new Error("k out of bounds");for(var i=0;i<e.length;i++)if(n(e[i])&&r(e[i]))return e[i];for(var o=0,u=e.length-1;o<u;){for(var s=o,c=u,l=e[Math.floor(Math.random()*(u-o+1))+o];s<c;)if(a(e[s],l)>=0){var f=e[c];e[c]=e[s],e[s]=f,--c}else++s;a(e[s],l)>0&&--s,t<=s?u=s:o=s+1}return e[t]}}));function Ar(e){var t;if(ee(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:Mn(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*Ar(1-e));if(e>=171.35)return 1/0;if(e>85){var n=e*e,r=n*e,a=r*e,i=a*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*n)-139/(51840*r)-571/(2488320*a)+163879/(209018880*i)+5246819/(75246796800*i*e))}--e,t=Dr[0];for(var o=1;o<Dr.length;++o)t+=Dr[o]/(e+o);var u=e+Sr+.5;return Math.sqrt(2*Math.PI)*Math.pow(u,e+.5)*Math.exp(-u)*t}Ar.signature="number";var Sr=4.7421875,Dr=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],Nr=Re("bignumber",["typed","BigNumber"],(function(e){var t=e.typed,n=e.BigNumber;return t("bignumber",{"":function(){return new n(0)},number:function(e){return new n(e+"")},string:function(e){return new n(e)},BigNumber:function(e){return e},Fraction:function(e){return new n(e.n).div(e.d).times(e.s)},null:function(e){return new n(0)},"Array | Matrix":function(e){return lt(e,this)}})})),Fr=Re("numeric",["number","?bignumber","?fraction"],(function(e){var t=e.number,n=e.bignumber,r=e.fraction,a={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:function(e){return t(e)},BigNumber:n?function(e){return n(e)}:ur,Fraction:r?function(e){return r(e)}:sr};return function(e,t){var n=V(e);if(!(n in a))throw new TypeError("Cannot convert "+e+' of type "'+n+'"; valid input types are '+Object.keys(a).join(", "));if(!(t in i))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(i).join(", "));return t===n?e:i[t](e)}}));function Tr(e,t,n){var r;return-1!==String(e).indexOf("Unexpected type")?(r=arguments.length>2?" (type: "+V(n)+", value: "+JSON.stringify(n)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+r)):-1!==String(e).indexOf("complex numbers")?(r=arguments.length>2?" (type: "+V(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+r)):e}var Mr="subtract",Ir=Re(Mr,["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,a=e.addScalar,i=e.unaryMinus,o=e.DenseMatrix,u=Xn({typed:t}),s=er({typed:t}),c=tr({typed:t,equalScalar:r}),l=Jn({typed:t,DenseMatrix:o}),f=Qn({typed:t}),d=Zn({typed:t});return t(Mr,{"number, number":function(e,t){return e-t},"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":function(e,t){if(null===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var n=e.clone();return n.value=this(n.value,t.value),n.fixPrefix=!1,n},"SparseMatrix, SparseMatrix":function(e,t){return Rr(e,t),c(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return Rr(e,t),s(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return Rr(e,t),u(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return Rr(e,t),f(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return l(e,i(t),a)},"DenseMatrix, any":function(e,t){return d(e,t,this)},"any, SparseMatrix":function(e,t){return l(t,e,this,!0)},"any, DenseMatrix":function(e,t){return d(t,e,this,!0)},"Array, any":function(e,t){return d(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return d(n(t),e,this,!0).valueOf()}})}));function Rr(e,t){var n=e.size(),r=t.size();if(n.length!==r.length)throw new Oe(n.length,r.length)}var Pr="equal",Br=(Re(Pr,["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return t(Pr,{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:n(e,t)}})})),"divideScalar"),zr=Re(Br,["typed","numeric"],(function(e){var t=e.typed,n=e.numeric;return t(Br,{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Fraction | BigNumber":function(e,t){var r=e.clone(),a=n(1,V(t));return r.value=this(null===r.value?r._normalize(a):r.value,t),r},"number | Fraction | BigNumber, Unit":function(e,t){var r=t.clone();r=r.pow(-1);var a=n(1,V(e));return r.value=this(e,null===t.value?t._normalize(a):t.value),r},"Unit, Unit":function(e,t){return e.divide(t)}})}));var Lr=Re("Spa",["addScalar","equalScalar","FibonacciHeap"],(function(e){var t=e.addScalar,n=e.equalScalar,r=e.FibonacciHeap;function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return a.prototype.type="Spa",a.prototype.isSpa=!0,a.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var n=this._heap.insert(e,t);this._values[e]=n}},a.prototype.get=function(e){var t=this._values[e];return t?t.value:0},a.prototype.accumulate=function(e,n){var r=this._values[e];r?r.value=t(r.value,n):(r=this._heap.insert(e,n),this._values[e]=r)},a.prototype.forEach=function(e,t,r){var a=this._heap,i=this._values,o=[],u=a.extractMinimum();for(u&&o.push(u);u&&u.key<=t;)u.key>=e&&(n(u.value,0)||r(u.key,u.value,this)),(u=a.extractMinimum())&&o.push(u);for(var s=0;s<o.length;s++){var c=o[s];i[(u=a.insert(c.key,c.value)).key]=u}},a.prototype.swap=function(e,t){var n=this._values[e],r=this._values[t];if(!n&&r)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(n&&!r)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(n&&r){var a=n.value;n.value=r.value,r.value=a}},a}),{isClass:!0}),Ur=Re("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],(function(e){var t=e.typed,n=e.matrix,r=e.abs,a=e.addScalar,i=e.divideScalar,o=e.multiplyScalar,u=e.subtract,s=e.larger,c=e.equalScalar,l=e.unaryMinus,f=e.DenseMatrix,d=e.SparseMatrix,h=e.Spa;return t("lup",{DenseMatrix:function(e){return p(e)},SparseMatrix:function(e){return v(e)},Array:function(e){var t=p(n(e));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p}}});function p(e){var t,n,l,d=e._size[0],h=e._size[1],p=Math.min(d,h),v=H(e._data),m=[],g=[d,p],b=[],y=[p,h],x=[];for(t=0;t<d;t++)x[t]=t;for(n=0;n<h;n++){if(n>0)for(t=0;t<d;t++){var _=Math.min(t,n),w=0;for(l=0;l<_;l++)w=a(w,o(v[t][l],v[l][n]));v[t][n]=u(v[t][n],w)}var O=n,k=0,j=0;for(t=n;t<d;t++){var E=v[t][n],C=r(E);s(C,k)&&(O=t,k=C,j=E)}if(n!==O&&(x[n]=[x[O],x[O]=x[n]][0],f._swapRows(n,O,v)),n<d)for(t=n+1;t<d;t++){var A=v[t][n];c(A,0)||(v[t][n]=i(v[t][n],j))}}for(n=0;n<h;n++)for(t=0;t<d;t++)0===n&&(t<h&&(b[t]=[]),m[t]=[]),t<n?(t<h&&(b[t][n]=v[t][n]),n<d&&(m[t][n]=0)):t!==n?(t<h&&(b[t][n]=0),n<d&&(m[t][n]=v[t][n])):(t<h&&(b[t][n]=v[t][n]),n<d&&(m[t][n]=1));var S=new f({data:m,size:g}),D=new f({data:b,size:y}),N=[];for(t=0,p=x.length;t<p;t++)N[x[t]]=t;return{L:S,U:D,p:N,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}function v(e){var t,n,a,u=e._size[0],f=e._size[1],p=Math.min(u,f),v=e._values,m=e._index,g=e._ptr,b=[],y=[],x=[],_=[u,p],w=[],O=[],k=[],j=[p,f],E=[],C=[];for(t=0;t<u;t++)E[t]=t,C[t]=t;var A=function(){var e=new h;n<u&&(x.push(b.length),b.push(1),y.push(n)),k.push(w.length);var f=g[n],p=g[n+1];for(a=f;a<p;a++)t=m[a],e.set(E[t],v[a]);n>0&&e.forEach(0,n-1,(function(t,n){d._forEachRow(t,b,y,x,(function(r,a){r>t&&e.accumulate(r,l(o(a,n)))}))}));var A=n,S=e.get(n),D=r(S);e.forEach(n+1,u-1,(function(e,t){var n=r(t);s(n,D)&&(A=e,D=n,S=t)})),n!==A&&(d._swapRows(n,A,_[1],b,y,x),d._swapRows(n,A,j[1],w,O,k),e.swap(n,A),function(e,t){var n=C[e],r=C[t];E[n]=t,E[r]=e,C[e]=r,C[t]=n}(n,A)),e.forEach(0,u-1,(function(e,t){e<=n?(w.push(t),O.push(e)):(t=i(t,S),c(t,0)||(b.push(t),y.push(e)))}))};for(n=0;n<f;n++)A();return k.push(w.length),x.push(b.length),{L:new d({values:b,index:y,ptr:x,size:_}),U:new d({values:w,index:O,ptr:k,size:j}),p:E,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}));var Wr=Re("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],(function(e){var t=e.typed,n=e.matrix,r=e.subtract,a=e.multiply,i=e.unaryMinus,o=e.lup;return t("det",{any:function(e){return H(e)},"Array | Matrix":function(e){var t;switch((t=d(e)?e.size():Array.isArray(e)?(e=n(e)).size():[]).length){case 0:return H(e);case 1:if(1===t[0])return H(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+_e(t)+")");case 2:var u=t[0],s=t[1];if(u===s)return function(e,t,n){if(1===t)return H(e[0][0]);if(2===t)return r(a(e[0][0],e[1][1]),a(e[1][0],e[0][1]));for(var u=o(e),s=u.U[0][0],c=1;c<t;c++)s=a(s,u.U[c][c]);for(var l=0,f=0,d=[];;){for(;d[f];)f++;if(f>=t)break;for(var h=f,p=0;!d[u.p[h]];)d[u.p[h]]=!0,h=u.p[h],p++;p%2===0&&l++}return l%2===0?s:i(s)}(e.clone().valueOf(),u);throw new RangeError("Matrix must be square (size: "+_e(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+_e(t)+")")}}})}));var Vr=Re("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],(function(e){var t=e.typed,n=e.matrix,r=e.divideScalar,a=e.addScalar,i=e.multiply,o=e.unaryMinus,u=e.det,s=e.identity,c=e.abs;return t("inv",{"Array | Matrix":function(e){var t=d(e)?e.size():je(e);switch(t.length){case 1:if(1===t[0])return d(e)?n([r(1,e.valueOf()[0])]):[r(1,e[0])];throw new RangeError("Matrix must be square (size: "+_e(t)+")");case 2:var a=t[0],i=t[1];if(a===i)return d(e)?n(l(e.valueOf(),a,i),e.storage()):l(e,a,i);throw new RangeError("Matrix must be square (size: "+_e(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+_e(t)+")")}},any:function(e){return r(1,e)}});function l(e,t,n){var l,f,d,h,p;if(1===t){if(0===(h=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,h)]]}if(2===t){var v=u(e);if(0===v)throw Error("Cannot calculate inverse, determinant is zero");return[[r(e[1][1],v),r(o(e[0][1]),v)],[r(o(e[1][0]),v),r(e[0][0],v)]]}var m=e.concat();for(l=0;l<t;l++)m[l]=m[l].concat();for(var g=s(t).valueOf(),b=0;b<n;b++){var y=c(m[b][b]),x=b;for(l=b+1;l<t;)c(m[l][b])>y&&(y=c(m[l][b]),x=l),l++;if(0===y)throw Error("Cannot calculate inverse, determinant is zero");(l=x)!==b&&(p=m[b],m[b]=m[l],m[l]=p,p=g[b],g[b]=g[l],g[l]=p);var _=m[b],w=g[b];for(l=0;l<t;l++){var O=m[l],k=g[l];if(l!==b){if(0!==O[b]){for(d=r(o(O[b]),_[b]),f=b;f<n;f++)O[f]=a(O[f],i(d,_[f]));for(f=0;f<n;f++)k[f]=a(k[f],i(d,w[f]))}}else{for(d=_[b],f=b;f<n;f++)O[f]=r(O[f],d);for(f=0;f<n;f++)k[f]=r(k[f],d)}}}return g}})),qr=Re("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],(function(e){var t=e.typed,n=e.matrix,r=e.multiply,a=e.equalScalar,i=e.divideScalar,o=e.inv,u=nr({typed:t,equalScalar:a}),s=Zn({typed:t});return t("divide",K({"Array | Matrix, Array | Matrix":function(e,t){return r(e,o(t))},"DenseMatrix, any":function(e,t){return s(e,t,i,!1)},"SparseMatrix, any":function(e,t){return u(e,t,i,!1)},"Array, any":function(e,t){return s(n(e),t,i,!1).valueOf()},"any, Array | Matrix":function(e,t){return r(e,o(t))}},i.signatures))})),Hr="unbiased",Gr="variance",Kr=Re(Gr,["typed","add","subtract","multiply","divide","apply","isNaN"],(function(e){var t=e.typed,n=e.add,r=e.subtract,a=e.multiply,i=e.divide,u=e.apply,s=e.isNaN;return t(Gr,{"Array | Matrix":function(e){return c(e,Hr)},"Array | Matrix, string":c,"Array | Matrix, number | BigNumber":function(e,t){return l(e,t,Hr)},"Array | Matrix, number | BigNumber, string":l,"...":function(e){return c(e,Hr)}});function c(e,t){var u,c=0;if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(ct(e,(function(e){try{u=void 0===u?e:n(u,e),c++}catch(t){throw Tr(t,"variance",e)}})),0===c)throw new Error("Cannot calculate variance of an empty array");var l=i(u,c);if(u=void 0,ct(e,(function(e){var t=r(e,l);u=void 0===u?a(t,t):n(u,a(t,t))})),s(u))return u;switch(t){case"uncorrected":return i(u,c);case"biased":return i(u,c+1);case"unbiased":var f=o(u)?u.mul(0):0;return 1===c?f:i(u,c-1);default:throw new Error('Unknown normalization "'+t+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function l(e,t,n){try{if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return u(e,t,(function(e){return c(e,n)}))}catch(r){throw Tr(r,"variance")}}}));var $r=Re("std",["typed","sqrt","variance"],(function(e){var t=e.typed,n=e.sqrt,r=e.variance;return t("std",{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(e){return a(e)}});function a(e,t){if(0===e.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return n(r.apply(null,arguments))}catch(a){throw a instanceof TypeError&&-1!==a.message.indexOf(" variance")?new TypeError(a.message.replace(" variance"," std")):a}}}));var Xr="median",Yr=["typed","add","divide","compare","partitionSelect"],Jr=Re(Xr,Yr,(function(e){var t=e.typed,n=e.add,r=e.divide,a=e.compare,i=e.partitionSelect;function o(e){try{var t=(e=Me(e.valueOf())).length;if(0===t)throw new Error("Cannot calculate median of an empty array");if(t%2===0){for(var n=t/2-1,r=i(e,n+1),o=e[n],c=0;c<n;++c)a(e[c],o)>0&&(o=e[c]);return s(o,r)}var l=i(e,(t-1)/2);return u(l)}catch(f){throw Tr(f,"median")}}var u=t({"number | BigNumber | Complex | Unit":function(e){return e}}),s=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(e,t){return r(n(e,t),2)}});return t(Xr,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("median(A, dim) is not yet supported")},"...":function(e){if(st(e))throw new TypeError("Scalar values expected in function median");return o(e)}})})),Qr=Ue({}),Zr=$e({config:Z}),ea=Xe({}),ta=Ze({}),na=et({Matrix:ea}),ra=at({BigNumber:Zr,Complex:Qr,DenseMatrix:na,Fraction:ta}),aa=dt({typed:ra}),ia=pt({typed:ra}),oa=_t({typed:ra}),ua=kt({config:Z,typed:ra}),sa=jt({typed:ra}),ca=Jt({isInteger:aa,typed:ra}),la=Zt({typed:ra}),fa=Rn({Fraction:ta,typed:ra}),da=Bn({typed:ra}),ha=Ln({typed:ra}),pa=Un({Complex:Qr,config:Z,typed:ra}),va=Vn({typed:ra}),ma=Hn({isNaN:oa,isNumeric:ia,typed:ra}),ga=Gn({Matrix:ea,equalScalar:ua,typed:ra}),ba=$n({DenseMatrix:na,Matrix:ea,SparseMatrix:ga,typed:ra}),ya=or({BigNumber:Zr,DenseMatrix:na,SparseMatrix:ga,config:Z,matrix:ba,typed:ra}),xa=fr({matrix:ba,config:Z,typed:ra}),_a=hr({BigNumber:Zr,DenseMatrix:na,Fraction:ta,config:Z,equalScalar:ua,matrix:ba,typed:ra}),wa=vr({DenseMatrix:na,config:Z,matrix:ba,typed:ra}),Oa=gr({DenseMatrix:na,config:Z,matrix:ba,typed:ra}),ka=yr({larger:Oa,smaller:wa}),ja=xr({DenseMatrix:na,SparseMatrix:ga,addScalar:ha,equalScalar:ua,matrix:ba,typed:ra}),Ea=_r({addScalar:ha,conj:va,multiplyScalar:la,size:xa,typed:ra}),Ca=wr({typed:ra}),Aa=kr({addScalar:ha,dot:Ea,equalScalar:ua,matrix:ba,multiplyScalar:la,typed:ra}),Sa=Cr({compare:_a,isNaN:oa,isNumeric:ia,typed:ra}),Da=Nr({BigNumber:Zr,typed:ra}),Na=Fr({bignumber:Da,fraction:fa,number:sa}),Fa=Ir({DenseMatrix:na,addScalar:ha,equalScalar:ua,matrix:ba,typed:ra,unaryMinus:da}),Ta=zr({numeric:Na,typed:ra}),Ma=Lr({FibonacciHeap:ka,addScalar:ha,equalScalar:ua}),Ia=Ur({DenseMatrix:na,Spa:Ma,SparseMatrix:ga,abs:Ca,addScalar:ha,divideScalar:Ta,equalScalar:ua,larger:Oa,matrix:ba,multiplyScalar:la,subtract:Fa,typed:ra,unaryMinus:da}),Ra=Wr({lup:Ia,matrix:ba,multiply:Aa,subtract:Fa,typed:ra,unaryMinus:da}),Pa=Vr({abs:Ca,addScalar:ha,det:Ra,divideScalar:Ta,identity:ya,matrix:ba,multiply:Aa,typed:ra,unaryMinus:da}),Ba=qr({divideScalar:Ta,equalScalar:ua,inv:Pa,matrix:ba,multiply:Aa,typed:ra}),za=Kr({add:ja,apply:ca,divide:Ba,isNaN:oa,multiply:Aa,subtract:Fa,typed:ra}),La=$r({sqrt:pa,typed:ra,variance:za}),Ua=Jr({add:ja,compare:_a,divide:Ba,partitionSelect:Sa,typed:ra})},function(e,t,n){"use strict";var r=n(25),a=n(52),i=n(4),o=n.n(i),u=(n(26),n(109)),s=n(66),c=n(249),l=n(164),f=n(86),d=n(349),h=n(115);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=o.a.createContext(null);function g(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(i.isValidElement)(e)?t(e):e}(e)})),n}function b(e,t,n){return null!=n[t]?n[t]:e.props[t]}function y(e,t,n){var r=g(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,a=Object.create(null),i=[];for(var o in e)o in t?i.length&&(a[o]=i,i=[]):i.push(o);var u={};for(var s in t){if(a[s])for(r=0;r<a[s].length;r++){var c=a[s][r];u[a[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<i.length;r++)u[i[r]]=n(i[r]);return u}(t,r);return Object.keys(a).forEach((function(o){var u=a[o];if(Object(i.isValidElement)(u)){var s=o in t,c=o in r,l=t[o],f=Object(i.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&Object(i.isValidElement)(l)&&(a[o]=Object(i.cloneElement)(u,{onExited:n.bind(null,u),in:l.props.in,exit:b(u,"exit",e),enter:b(u,"enter",e)})):a[o]=Object(i.cloneElement)(u,{in:!1}):a[o]=Object(i.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:b(u,"exit",e),enter:b(u,"enter",e)})}})),a}var x=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},_=function(e){var t,n;function r(t,n){var r,a=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,v(t,n);var a=r.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n,r,a=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,g(n.children,(function(e){return Object(i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:b(e,"appear",n),enter:b(e,"enter",n),exit:b(e,"exit",n)})}))):y(e,a,o),firstRender:!1}},a.handleExited=function(e,t){var n=g(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=p({},t.children);return delete n[e.key],{children:n}})))},a.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["component","childFactory"]),a=this.state.contextValue,i=x(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o.a.createElement(m.Provider,{value:a},i):o.a.createElement(m.Provider,{value:a},o.a.createElement(t,r,i))},r}(o.a.Component);_.propTypes={},_.defaultProps={component:"div",childFactory:function(e){return e}};var w=_,O="undefined"===typeof window?i.useEffect:i.useLayoutEffect;var k=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,a=e.rippleX,o=e.rippleY,u=e.rippleSize,c=e.in,f=e.onExited,d=void 0===f?function(){}:f,h=e.timeout,p=i.useState(!1),v=p[0],m=p[1],g=Object(s.a)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),b={width:u,height:u,top:-u/2+o,left:-u/2+a},y=Object(s.a)(t.child,v&&t.childLeaving,r&&t.childPulsate),x=Object(l.a)(d);return O((function(){if(!c){m(!0);var e=setTimeout(x,h);return function(){clearTimeout(e)}}}),[x,c,h]),i.createElement("span",{className:g,style:b},i.createElement("span",{className:y}))},j=i.forwardRef((function(e,t){var n=e.center,o=void 0!==n&&n,u=e.classes,c=e.className,l=Object(a.a)(e,["center","classes","className"]),f=i.useState([]),d=f[0],p=f[1],v=i.useRef(0),m=i.useRef(null);i.useEffect((function(){m.current&&(m.current(),m.current=null)}),[d]);var g=i.useRef(!1),b=i.useRef(null),y=i.useRef(null),x=i.useRef(null);i.useEffect((function(){return function(){clearTimeout(b.current)}}),[]);var _=i.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,a=e.rippleSize,o=e.cb;p((function(e){return[].concat(Object(h.a)(e),[i.createElement(k,{key:v.current,classes:u,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:a})])})),v.current+=1,m.current=o}),[u]),O=i.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,a=void 0!==r&&r,i=t.center,u=void 0===i?o||t.pulsate:i,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&g.current)g.current=!1;else{"touchstart"===e.type&&(g.current=!0);var l,f,d,h=c?null:x.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,w=v.clientY;l=Math.round(m-p.left),f=Math.round(w-p.top)}if(u)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var O=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,k=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(O,2)+Math.pow(k,2))}e.touches?null===y.current&&(y.current=function(){_({pulsate:a,rippleX:l,rippleY:f,rippleSize:d,cb:n})},b.current=setTimeout((function(){y.current&&(y.current(),y.current=null)}),80)):_({pulsate:a,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[o,_]),j=i.useCallback((function(){O({},{pulsate:!0})}),[O]),E=i.useCallback((function(e,t){if(clearTimeout(b.current),"touchend"===e.type&&y.current)return e.persist(),y.current(),y.current=null,void(b.current=setTimeout((function(){E(e,t)})));y.current=null,p((function(e){return e.length>0?e.slice(1):e})),m.current=t}),[]);return i.useImperativeHandle(t,(function(){return{pulsate:j,start:O,stop:E}}),[j,O,E]),i.createElement("span",Object(r.a)({className:Object(s.a)(u.root,c),ref:x},l),i.createElement(w,{component:null,exit:!0},d))})),E=Object(f.a)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(i.memo(j)),C=i.forwardRef((function(e,t){var n=e.action,o=e.buttonRef,f=e.centerRipple,h=void 0!==f&&f,p=e.children,v=e.classes,m=e.className,g=e.component,b=void 0===g?"button":g,y=e.disabled,x=void 0!==y&&y,_=e.disableRipple,w=void 0!==_&&_,O=e.disableTouchRipple,k=void 0!==O&&O,j=e.focusRipple,C=void 0!==j&&j,A=e.focusVisibleClassName,S=e.onBlur,D=e.onClick,N=e.onFocus,F=e.onFocusVisible,T=e.onKeyDown,M=e.onKeyUp,I=e.onMouseDown,R=e.onMouseLeave,P=e.onMouseUp,B=e.onTouchEnd,z=e.onTouchMove,L=e.onTouchStart,U=e.onDragLeave,W=e.tabIndex,V=void 0===W?0:W,q=e.TouchRippleProps,H=e.type,G=void 0===H?"button":H,K=Object(a.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),$=i.useRef(null);var X=i.useRef(null),Y=i.useState(!1),J=Y[0],Q=Y[1];x&&J&&Q(!1);var Z=Object(d.a)(),ee=Z.isFocusVisible,te=Z.onBlurVisible,ne=Z.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;return Object(l.a)((function(r){return t&&t(r),!n&&X.current&&X.current[e](r),!0}))}i.useImperativeHandle(n,(function(){return{focusVisible:function(){Q(!0),$.current.focus()}}}),[]),i.useEffect((function(){J&&C&&!w&&X.current.pulsate()}),[w,C,J]);var ae=re("start",I),ie=re("stop",U),oe=re("stop",P),ue=re("stop",(function(e){J&&e.preventDefault(),R&&R(e)})),se=re("start",L),ce=re("stop",B),le=re("stop",z),fe=re("stop",(function(e){J&&(te(e),Q(!1)),S&&S(e)}),!1),de=Object(l.a)((function(e){$.current||($.current=e.currentTarget),ee(e)&&(Q(!0),F&&F(e)),N&&N(e)})),he=function(){var e=u.findDOMNode($.current);return b&&"button"!==b&&!("A"===e.tagName&&e.href)},pe=i.useRef(!1),ve=Object(l.a)((function(e){C&&!pe.current&&J&&X.current&&" "===e.key&&(pe.current=!0,e.persist(),X.current.stop(e,(function(){X.current.start(e)}))),e.target===e.currentTarget&&he()&&" "===e.key&&e.preventDefault(),T&&T(e),e.target===e.currentTarget&&he()&&"Enter"===e.key&&!x&&(e.preventDefault(),D&&D(e))})),me=Object(l.a)((function(e){C&&" "===e.key&&X.current&&J&&!e.defaultPrevented&&(pe.current=!1,e.persist(),X.current.stop(e,(function(){X.current.pulsate(e)}))),M&&M(e),D&&e.target===e.currentTarget&&he()&&" "===e.key&&!e.defaultPrevented&&D(e)})),ge=b;"button"===ge&&K.href&&(ge="a");var be={};"button"===ge?(be.type=G,be.disabled=x):("a"===ge&&K.href||(be.role="button"),be["aria-disabled"]=x);var ye=Object(c.a)(o,t),xe=Object(c.a)(ne,$),_e=Object(c.a)(ye,xe),we=i.useState(!1),Oe=we[0],ke=we[1];i.useEffect((function(){ke(!0)}),[]);var je=Oe&&!w&&!x;return i.createElement(ge,Object(r.a)({className:Object(s.a)(v.root,m,J&&[v.focusVisible,A],x&&v.disabled),onBlur:fe,onClick:D,onFocus:de,onKeyDown:ve,onKeyUp:me,onMouseDown:ae,onMouseLeave:ue,onMouseUp:oe,onDragLeave:ie,onTouchEnd:ce,onTouchMove:le,onTouchStart:se,ref:_e,tabIndex:x?-1:V},be,K),p,je?i.createElement(E,Object(r.a)({ref:X,center:h},q)):null)}));t.a=Object(f.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(C)},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(206),a=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;a=f("react.element"),i=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var y=b.prototype=new g;y.constructor=b,r(y,m.prototype),y.isPureReactComponent=!0;var x={current:null},_=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,i={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&!w.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:a,type:e,key:o,ref:u,props:i,_owner:x.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var j=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case i:s=!0}}if(s)return o=o(s=e),e=""===r?"."+E(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(j,"$&/")+"/"),C(o,t,n,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(j,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+E(u=e[c],c);s+=C(u,t,n,l,o)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,n,l=r+E(u,c++),o);else if("object"===u)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function A(e,t,n){if(null==e)return e;var r=[],a=0;return C(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function S(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var D={current:null};function N(){var e=D.current;if(null===e)throw Error(h(321));return e}var F={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(h(143));return e}},t.Component=m,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var i=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!w.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:u,props:i,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:S}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.1"},function(e,t,n){"use strict";var r=n(4),a=n(206),i=n(639);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!h.call(v,e)||!h.call(p,e)&&(d.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,O=60106,k=60107,j=60108,E=60114,C=60109,A=60110,S=60112,D=60113,N=60120,F=60115,T=60116,M=60121,I=60128,R=60129,P=60130,B=60131;if("function"===typeof Symbol&&Symbol.for){var z=Symbol.for;w=z("react.element"),O=z("react.portal"),k=z("react.fragment"),j=z("react.strict_mode"),E=z("react.profiler"),C=z("react.provider"),A=z("react.context"),S=z("react.forward_ref"),D=z("react.suspense"),N=z("react.suspense_list"),F=z("react.memo"),T=z("react.lazy"),M=z("react.block"),z("react.scope"),I=z("react.opaque.id"),R=z("react.debug_trace_mode"),P=z("react.offscreen"),B=z("react.legacy_hidden")}var L,U="function"===typeof Symbol&&Symbol.iterator;function W(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=U&&e[U]||e["@@iterator"])?e:null}function V(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var q=!1;function H(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var a=s.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,u=i.length-1;1<=o&&0<=u&&a[o]!==i[u];)u--;for(;1<=o&&0<=u;o--,u--)if(a[o]!==i[u]){if(1!==o||1!==u)do{if(o--,0>--u||a[o]!==i[u])return"\n"+a[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function G(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case O:return"Portal";case E:return"Profiler";case j:return"StrictMode";case D:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case F:return K(e.type);case M:return K(e._render);case T:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ie(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ce(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(ye).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Oe=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Oe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function je(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ae=null,Se=null;function De(e){if(e=ea(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=na(t),Ce(e.stateNode,e.type,t))}}function Ne(e){Ae?Se?Se.push(e):Se=[e]:Ae=e}function Fe(){if(Ae){var e=Ae,t=Se;if(Se=Ae=null,De(e),t)for(e=0;e<t.length;e++)De(t[e])}}function Te(e,t){return e(t)}function Me(e,t,n,r,a){return e(t,n,r,a)}function Ie(){}var Re=Te,Pe=!1,Be=!1;function ze(){null===Ae&&null===Se||(Ie(),Fe())}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=na(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ue=!1;if(f)try{var We={};Object.defineProperty(We,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch(me){Ue=!1}function Ve(e,t,n,r,a,i,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var qe=!1,He=null,Ge=!1,Ke=null,$e={onError:function(e){qe=!0,He=e}};function Xe(e,t,n,r,a,i,o,u,s){qe=!1,He=null,Ve.apply($e,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Qe(a),e;if(i===r)return Qe(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var u=!1,s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u){for(s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,at,it=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:a,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e=pt(t,n,r,a,i),null!==t&&(null!==(t=ea(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function gt(e){var t=Zr(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void at(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ea(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){bt(e)&&n.delete(t)}function xt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ea(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&bt(ut)&&(ut=null),null!==st&&bt(st)&&(st=null),null!==ct&&bt(ct)&&(ct=null),lt.forEach(yt),ft.forEach(yt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,xt)))}function wt(e){function t(t){return _t(t,e)}if(0<ot.length){_t(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&_t(ut,e),null!==st&&_t(st,e),null!==ct&&_t(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function Ot(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:Ot("Animation","AnimationEnd"),animationiteration:Ot("Animation","AnimationIteration"),animationstart:Ot("Animation","AnimationStart"),transitionend:Ot("Transition","TransitionEnd")},jt={},Et={};function Ct(e){if(jt[e])return jt[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return jt[e]=n[t];return e}f&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var At=Ct("animationend"),St=Ct("animationiteration"),Dt=Ct("animationstart"),Nt=Ct("transitionend"),Ft=new Map,Tt=new Map,Mt=["abort","abort",At,"animationEnd",St,"animationIteration",Dt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function It(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];a="on"+(a[0].toUpperCase()+a.slice(1)),Tt.set(r,t),Ft.set(r,a),c(a,[r])}}(0,i.unstable_now)();var Rt=8;function Pt(e){if(0!==(1&e))return Rt=15,1;if(0!==(2&e))return Rt=14,2;if(0!==(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!==(32&e)?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):0!==(256&e)?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):0!==(4096&e)?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!==(134217728&e)?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):0!==(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function Bt(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var r=0,a=0,i=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==i)r=i,a=Rt=15;else if(0!==(i=134217727&n)){var s=i&~o;0!==s?(r=Pt(s),a=Rt):0!==(u&=i)&&(r=Pt(u),a=Rt)}else 0!==(i=n&~o)?(r=Pt(i),a=Rt):0!==u&&(r=Pt(u),a=Rt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Pt(t),a<=Rt)return t;Rt=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-qt(t)),r|=e[n],t&=~a;return r}function zt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Lt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?Lt(10,t):e;case 10:return 0===(e=Ut(192&~t))?Lt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&(0===(e=Ut(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Ut(e){return e&-e}function Wt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Gt|0)|0},Ht=Math.log,Gt=Math.LN2;var Kt=i.unstable_UserBlockingPriority,$t=i.unstable_runWithPriority,Xt=!0;function Yt(e,t,n,r){Pe||Ie();var a=Qt,i=Pe;Pe=!0;try{Me(a,e,t,n,r)}finally{(Pe=i)||ze()}}function Jt(e,t,n,r){$t(Kt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var a;if(Xt)if((a=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var i=Zt(e,t,n,r);if(null===i)a&&vt(e,r);else{if(a){if(-1<ht.indexOf(e))return e=pt(i,e,t,n,r),void ot.push(e);if(function(e,t,n,r,a){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,a),!0;case"dragenter":return st=mt(st,e,t,n,r,a),!0;case"mouseover":return ct=mt(ct,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return lt.set(i,mt(lt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,ft.set(i,mt(ft.get(i)||null,e,t,n,r,a)),!0}return!1}(i,e,t,n,r))return;vt(e,r)}Fr(e,t,r,null,n)}}}function Zt(e,t,n,r){var a=Ee(r);if(null!==(a=Zr(a))){var i=Ye(a);if(null===i)a=null;else{var o=i.tag;if(13===o){if(null!==(a=Je(i)))return a;a=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return Fr(e,t,r,a,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,a="value"in en?en.value:en.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return nn=a.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?on:un,this.isPropagationStopped=un,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(dn),pn=a({},dn,{view:0,detail:0}),vn=sn(pn),mn=a({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=sn(mn),bn=sn(a({},mn,{dataTransfer:0})),yn=sn(a({},pn,{relatedTarget:0})),xn=sn(a({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=sn(a({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),wn=sn(a({},dn,{data:0})),On={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function Cn(){return En}var An=sn(a({},pn,{key:function(e){if(e.key){var t=On[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Sn=sn(a({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=sn(a({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=sn(a({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fn=sn(a({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Tn=[9,13,27,32],Mn=f&&"CompositionEvent"in window,In=null;f&&"documentMode"in document&&(In=document.documentMode);var Rn=f&&"TextEvent"in window&&!In,Pn=f&&(!Mn||In&&8<In&&11>=In),Bn=String.fromCharCode(32),zn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ne(r),0<(t=Mr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function $n(e){Er(e,0)}function Xn(e){if(J(ta(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(f){var Qn;if(f){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Qn=Zn}else Qn=!1;Jn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];if(Hn(t,Kn,e,Ee(e)),e=$n,Pe)e(t);else{Pe=!0;try{Te(e,t)}finally{Pe=!1,ze()}}}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function ir(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},sr=Object.prototype.hasOwnProperty;function cr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=f&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,br=null,yr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&cr(br,r)||(br=r,0<(r=Mr(gr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}It("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),It("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),It(Mt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wr=0;wr<_r.length;wr++)Tt.set(_r[wr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,u,s,c){if(Xe.apply(this,arguments),qe){if(!qe)throw Error(o(198));var l=He;qe=!1,He=null,Ge||(Ge=!0,Ke=l)}}(r,t,void 0,e),e.currentTarget=null}function Er(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==i&&a.isPropagationStopped())break e;jr(a,u,c),i=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==i&&a.isPropagationStopped())break e;jr(a,u,c),i=s}}}if(Ge)throw e=Ke,Ge=!1,Ke=null,e}function Cr(e,t){var n=ra(t),r=e+"__bubble";n.has(r)||(Nr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Sr(e){e[Ar]||(e[Ar]=!0,u.forEach((function(t){kr.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=n;if("selectionchange"===e&&9!==n.nodeType&&(i=n.ownerDocument),null!==r&&!t&&kr.has(e)){if("scroll"!==e)return;a|=2,i=r}var o=ra(i),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(a|=4),Nr(i,e,a,t),o.add(u))}function Nr(e,t,n,r){var a=Tt.get(t);switch(void 0===a?2:a){case 0:a=Yt;break;case 1:a=Jt;break;default:a=Qt}n=a.bind(null,t,n,e),a=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Fr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===a||8===u.nodeType&&u.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===a||8===s.nodeType&&s.parentNode===a))return;o=o.return}for(;null!==u;){if(null===(o=Zr(u)))return;if(5===(s=o.tag)||6===s){r=i=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Be)return e(t,n);Be=!0;try{Re(e,t,n)}finally{Be=!1,ze()}}((function(){var r=i,a=Ee(n),o=[];e:{var u=Ft.get(e);if(void 0!==u){var s=hn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Dn;break;case At:case St:case Dt:s=xn;break;case Nt:s=Nn;break;case"scroll":s=vn;break;case"wheel":s=Fn;break;case"copy":case"cut":case"paste":s=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Sn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Le(p,d))&&l.push(Tr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,a),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!Zr(c)&&!c[Jr])&&(s||u)&&(u=a.window===a?a:(u=a.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?Zr(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=gn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Sn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ta(s),h=null==c?u:ta(c),(u=new l(v,p+"leave",s,n,a)).target=f,u.relatedTarget=h,v=null,Zr(a)===r&&((l=new l(d,p+"enter",c,n,a)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Ir(h))p++;for(h=0,v=d;v;v=Ir(v))h++;for(;0<p-h;)l=Ir(l),p--;for(;0<h-p;)d=Ir(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Ir(l),d=Ir(d)}l=null}else l=null;null!==s&&Rr(o,u,s,l,!1),null!==c&&null!==f&&Rr(o,f,c,l,!0)}if("select"===(s=(u=r?ta(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(qn(u))if(Jn)m=or;else{m=ar;var g=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ir);switch(m&&(m=m(e,r))?Hn(o,m,n,a):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&ae(u,"number",u.value)),g=r?ta(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,br=null);break;case"focusout":br=gr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,xr(o,n,a);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":xr(o,n,a)}var b;if(Mn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Wn?Ln(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Pn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Wn&&(b=rn()):(tn="value"in(en=a)?en.value:en.textContent,Wn=!0)),0<(g=Mr(r,y)).length&&(y=new wn(y,e,null,n,a),o.push({event:y,listeners:g}),b?y.data=b:null!==(b=Un(n))&&(y.data=b))),(b=Rn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&Ln(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=b))}Er(o,t)}))}function Tr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Le(e,n))&&r.unshift(Tr(e,i,a)),null!=(i=Le(e,t))&&r.push(Tr(e,i,a))),e=e.return}return r}function Ir(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Rr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,a?null!=(s=Le(n,i))&&o.unshift(Tr(n,s,u)):a||null!=(s=Le(n,i))&&o.push(Tr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Pr(){}var Br=null,zr=null;function Lr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ur(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Vr="function"===typeof clearTimeout?clearTimeout:void 0;function qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Hr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Kr=0;var $r=Math.random().toString(36).slice(2),Xr="__reactFiber$"+$r,Yr="__reactProps$"+$r,Jr="__reactContainer$"+$r,Qr="__reactEvents$"+$r;function Zr(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jr]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Xr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ea(e){return!(e=e[Xr]||e[Jr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ta(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function na(e){return e[Yr]||null}function ra(e){var t=e[Qr];return void 0===t&&(t=e[Qr]=new Set),t}var aa=[],ia=-1;function oa(e){return{current:e}}function ua(e){0>ia||(e.current=aa[ia],aa[ia]=null,ia--)}function sa(e,t){ia++,aa[ia]=e.current,e.current=t}var ca={},la=oa(ca),fa=oa(!1),da=ca;function ha(e,t){var n=e.type.contextTypes;if(!n)return ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function pa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function va(){ua(fa),ua(la)}function ma(e,t,n){if(la.current!==ca)throw Error(o(168));sa(la,t),sa(fa,n)}function ga(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,K(t)||"Unknown",i));return a({},n,r)}function ba(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ca,da=la.current,sa(la,e),sa(fa,fa.current),!0}function ya(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ga(e,t,da),r.__reactInternalMemoizedMergedChildContext=e,ua(fa),ua(la),sa(la,e)):ua(fa),sa(fa,n)}var xa=null,_a=null,wa=i.unstable_runWithPriority,Oa=i.unstable_scheduleCallback,ka=i.unstable_cancelCallback,ja=i.unstable_shouldYield,Ea=i.unstable_requestPaint,Ca=i.unstable_now,Aa=i.unstable_getCurrentPriorityLevel,Sa=i.unstable_ImmediatePriority,Da=i.unstable_UserBlockingPriority,Na=i.unstable_NormalPriority,Fa=i.unstable_LowPriority,Ta=i.unstable_IdlePriority,Ma={},Ia=void 0!==Ea?Ea:function(){},Ra=null,Pa=null,Ba=!1,za=Ca(),La=1e4>za?Ca:function(){return Ca()-za};function Ua(){switch(Aa()){case Sa:return 99;case Da:return 98;case Na:return 97;case Fa:return 96;case Ta:return 95;default:throw Error(o(332))}}function Wa(e){switch(e){case 99:return Sa;case 98:return Da;case 97:return Na;case 96:return Fa;case 95:return Ta;default:throw Error(o(332))}}function Va(e,t){return e=Wa(e),wa(e,t)}function qa(e,t,n){return e=Wa(e),Oa(e,t,n)}function Ha(){if(null!==Pa){var e=Pa;Pa=null,ka(e)}Ga()}function Ga(){if(!Ba&&null!==Ra){Ba=!0;var e=0;try{var t=Ra;Va(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ra=null}catch(n){throw null!==Ra&&(Ra=Ra.slice(e+1)),Oa(Sa,Ha),n}finally{Ba=!1}}}var Ka=_.ReactCurrentBatchConfig;function $a(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xa=oa(null),Ya=null,Ja=null,Qa=null;function Za(){Qa=Ja=Ya=null}function ei(e){var t=Xa.current;ua(Xa),e.type._context._currentValue=t}function ti(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ni(e,t){Ya=e,Qa=Ja=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function ri(e,t){if(Qa!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Qa=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ja){if(null===Ya)throw Error(o(308));Ja=t,Ya.dependencies={lanes:0,firstContext:t,responders:null}}else Ja=Ja.next=t;return e._currentValue}var ai=!1;function ii(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function si(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ci(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function li(e,t,n,r){var i=e.updateQueue;ai=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==u&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(d=i.baseState,u=0,f=l=c=null;;){s=o.lane;var h=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,s);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(h,d,s):p)||void 0===s)break e;d=a({},d,s);break e;case 2:ai=!0}}null!==o.callback&&(e.flags|=32,null===(s=i.effects)?i.effects=[o]:s.push(o))}else h={eventTime:h,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=h,c=d):f=f.next=h,u|=s;if(null===(o=o.next)){if(null===(s=i.shared.pending))break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}null===f&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=d}}function fi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var di=(new r.Component).refs;function hi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pi={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cs(),a=ls(e),i=ui(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),si(e,i),fs(e,a,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cs(),a=ls(e),i=ui(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),si(e,i),fs(e,a,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cs(),r=ls(e),a=ui(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),si(e,a),fs(e,r,n)}};function vi(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(a,i))}function mi(e,t,n){var r=!1,a=ca,i=t.contextType;return"object"===typeof i&&null!==i?i=ri(i):(a=pa(t)?da:la.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?ha(e,a):ca),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function gi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pi.enqueueReplaceState(t,t.state,null)}function bi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=di,ii(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=ri(i):(i=pa(t)?da:la.current,a.context=ha(e,i)),li(e,n,a,r),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(hi(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&pi.enqueueReplaceState(a,a.state,null),li(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4)}var yi=Array.isArray;function xi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=r.refs;t===di&&(t=r.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _i(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function wi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Vs(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ks(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=xi(e,t,n),r.return=e,r):((r=qs(n.type,n.key,n.props,null,e.mode,r)).ref=xi(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$s(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Hs(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ks(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=qs(t.type,t.key,t.props,null,e.mode,n)).ref=xi(e,null,t),n.return=e,n;case O:return(t=$s(t,e.mode,n)).return=e,t}if(yi(t)||W(t))return(t=Hs(t,e.mode,n,null)).return=e,t;_i(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?n.type===k?f(e,t,n.props.children,r,a):c(e,t,n,r):null;case O:return n.key===a?l(e,t,n,r):null}if(yi(n)||W(n))return null!==a?null:f(e,t,n,r,null);_i(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===k?f(t,e,r.props.children,a,r.key):c(t,e,r,a);case O:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(yi(r)||W(r))return f(t,e=e.get(n)||null,r,a,null);_i(t,r)}return null}function v(a,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(a,f,u[v],s);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(a,f),o=i(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===u.length)return n(a,f),c;if(null===f){for(;v<u.length;v++)null!==(f=d(a,u[v],s))&&(o=i(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(a,f);v<u.length;v++)null!==(m=p(f,a,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=i(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(a,e)})),c}function m(a,u,s,c){var l=W(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,g=null,b=s.next();null!==v&&!b.done;m++,b=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var y=h(a,v,b.value,c);if(null===y){null===v&&(v=g);break}e&&v&&null===y.alternate&&t(a,v),u=i(y,u,m),null===f?l=y:f.sibling=y,f=y,v=g}if(b.done)return n(a,v),l;if(null===v){for(;!b.done;m++,b=s.next())null!==(b=d(a,b.value,c))&&(u=i(b,u,m),null===f?l=b:f.sibling=b,f=b);return l}for(v=r(a,v);!b.done;m++,b=s.next())null!==(b=p(v,a,m,b.value,c))&&(e&&null!==b.alternate&&v.delete(null===b.key?m:b.key),u=i(b,u,m),null===f?l=b:f.sibling=b,f=b);return e&&v.forEach((function(e){return t(a,e)})),l}return function(e,r,i,s){var c="object"===typeof i&&null!==i&&i.type===k&&null===i.key;c&&(i=i.props.children);var l="object"===typeof i&&null!==i;if(l)switch(i.$$typeof){case w:e:{for(l=i.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(i.type===k){n(e,c.sibling),(r=a(c,i.props.children)).return=e,e=r;break e}break;default:if(c.elementType===i.type){n(e,c.sibling),(r=a(c,i.props)).ref=xi(e,c,i),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}i.type===k?((r=Hs(i.props.children,e.mode,s,i.key)).return=e,e=r):((s=qs(i.type,i.key,i.props,null,e.mode,s)).ref=xi(e,r,i),s.return=e,e=s)}return u(e);case O:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=a(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$s(i,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,i)).return=e,e=r):(n(e,r),(r=Ks(i,e.mode,s)).return=e,e=r),u(e);if(yi(i))return v(e,r,i,s);if(W(i))return m(e,r,i,s);if(l&&_i(e,i),"undefined"===typeof i&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,K(e.type)||"Component"))}return n(e,r)}}var Oi=wi(!0),ki=wi(!1),ji={},Ei=oa(ji),Ci=oa(ji),Ai=oa(ji);function Si(e){if(e===ji)throw Error(o(174));return e}function Di(e,t){switch(sa(Ai,t),sa(Ci,e),sa(Ei,ji),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ua(Ei),sa(Ei,t)}function Ni(){ua(Ei),ua(Ci),ua(Ai)}function Fi(e){Si(Ai.current);var t=Si(Ei.current),n=pe(t,e.type);t!==n&&(sa(Ci,e),sa(Ei,n))}function Ti(e){Ci.current===e&&(ua(Ei),ua(Ci))}var Mi=oa(0);function Ii(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ri=null,Pi=null,Bi=!1;function zi(e,t){var n=Us(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ui(e){if(Bi){var t=Pi;if(t){var n=t;if(!Li(e,t)){if(!(t=Hr(n.nextSibling))||!Li(e,t))return e.flags=-1025&e.flags|2,Bi=!1,void(Ri=e);zi(Ri,n)}Ri=e,Pi=Hr(t.firstChild)}else e.flags=-1025&e.flags|2,Bi=!1,Ri=e}}function Wi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ri=e}function Vi(e){if(e!==Ri)return!1;if(!Bi)return Wi(e),Bi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ur(t,e.memoizedProps))for(t=Pi;t;)zi(e,t),t=Hr(t.nextSibling);if(Wi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Pi=Hr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Pi=null}}else Pi=Ri?Hr(e.stateNode.nextSibling):null;return!0}function qi(){Pi=Ri=null,Bi=!1}var Hi=[];function Gi(){for(var e=0;e<Hi.length;e++)Hi[e]._workInProgressVersionPrimary=null;Hi.length=0}var Ki=_.ReactCurrentDispatcher,$i=_.ReactCurrentBatchConfig,Xi=0,Yi=null,Ji=null,Qi=null,Zi=!1,eo=!1;function to(){throw Error(o(321))}function no(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function ro(e,t,n,r,a,i){if(Xi=i,Yi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ki.current=null===e||null===e.memoizedState?Do:No,e=n(r,a),eo){i=0;do{if(eo=!1,!(25>i))throw Error(o(301));i+=1,Qi=Ji=null,t.updateQueue=null,Ki.current=Fo,e=n(r,a)}while(eo)}if(Ki.current=So,t=null!==Ji&&null!==Ji.next,Xi=0,Qi=Ji=Yi=null,Zi=!1,t)throw Error(o(300));return e}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qi?Yi.memoizedState=Qi=e:Qi=Qi.next=e,Qi}function io(){if(null===Ji){var e=Yi.alternate;e=null!==e?e.memoizedState:null}else e=Ji.next;var t=null===Qi?Yi.memoizedState:Qi.next;if(null!==t)Qi=t,Ji=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ji=e).memoizedState,baseState:Ji.baseState,baseQueue:Ji.baseQueue,queue:Ji.queue,next:null},null===Qi?Yi.memoizedState=Qi=e:Qi=Qi.next=e}return Qi}function oo(e,t){return"function"===typeof t?t(e):t}function uo(e){var t=io(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ji,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var u=a.next;a.next=i.next,i.next=u}r.baseQueue=a=i,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var s=u=i=null,c=a;do{var l=c.lane;if((Xi&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,i=r):s=s.next=f,Yi.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==a);null===s?i=r:s.next=u,ur(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function so(e){var t=io(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var u=a=a.next;do{i=e(i,u.action),u=u.next}while(u!==a);ur(i,t.memoizedState)||(Mo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function co(e,t,n){var r=t._getVersion;r=r(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===r:(e=e.mutableReadLanes,(e=(Xi&e)===e)&&(t._workInProgressVersionPrimary=r,Hi.push(t))),e)return n(t._source);throw Hi.push(t),Error(o(350))}function lo(e,t,n,r){var a=Du;if(null===a)throw Error(o(349));var i=t._getVersion,u=i(t._source),s=Ki.current,c=s.useState((function(){return co(a,t,n)})),l=c[1],f=c[0];c=Qi;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,v=d.source;d=d.subscribe;var m=Yi;return e.memoizedState={refs:h,source:t,subscribe:r},s.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=i(t._source);if(!ur(u,e)){e=n(t._source),ur(f,e)||(l(e),e=ls(m),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,o=e;0<o;){var s=31-qt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=ls(m);a.mutableReadLanes|=r&a.pendingLanes}catch(i){n((function(){throw i}))}}))}),[t,r]),ur(p,n)&&ur(v,t)&&ur(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:f}).dispatch=l=Ao.bind(null,Yi,e),c.queue=e,c.baseQueue=null,f=co(a,t,n),c.memoizedState=c.baseState=f),f}function fo(e,t,n){return lo(io(),e,t,n)}function ho(e){var t=ao();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e}).dispatch=Ao.bind(null,Yi,e),[t.memoizedState,e]}function po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Yi.updateQueue)?(t={lastEffect:null},Yi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vo(e){return e={current:e},ao().memoizedState=e}function mo(){return io().memoizedState}function go(e,t,n,r){var a=ao();Yi.flags|=e,a.memoizedState=po(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var a=io();r=void 0===r?null:r;var i=void 0;if(null!==Ji){var o=Ji.memoizedState;if(i=o.destroy,null!==r&&no(r,o.deps))return void po(t,n,i,r)}Yi.flags|=e,a.memoizedState=po(1|t,n,i,r)}function yo(e,t){return go(516,4,e,t)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return bo(4,2,e,t)}function wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Oo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,wo.bind(null,t,e),n)}function ko(){}function jo(e,t){var n=io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Eo(e,t){var n=io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Co(e,t){var n=Ua();Va(98>n?98:n,(function(){e(!0)})),Va(97<n?97:n,(function(){var n=$i.transition;$i.transition=1;try{e(!1),t()}finally{$i.transition=n}}))}function Ao(e,t,n){var r=cs(),a=ls(e),i={lane:a,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Yi||null!==o&&o===Yi)eo=Zi=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(i.eagerReducer=o,i.eagerState=s,ur(s,u))return}catch(c){}fs(e,a,r)}}var So={readContext:ri,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useLayoutEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useMutableSource:to,useOpaqueIdentifier:to,unstable_isNewReconciler:!1},Do={readContext:ri,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:ri,useEffect:yo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,go(4,2,wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4,2,e,t)},useMemo:function(e,t){var n=ao();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ao();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ao.bind(null,Yi,e),[r.memoizedState,e]},useRef:vo,useState:ho,useDebugValue:ko,useDeferredValue:function(e){var t=ho(e),n=t[0],r=t[1];return yo((function(){var t=$i.transition;$i.transition=1;try{r(e)}finally{$i.transition=t}}),[e]),n},useTransition:function(){var e=ho(!1),t=e[0];return vo(e=Co.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ao();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},lo(r,e,t,n)},useOpaqueIdentifier:function(){if(Bi){var e=!1,t=function(e){return{$$typeof:I,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Kr++).toString(36))),Error(o(355))})),n=ho(t)[1];return 0===(2&Yi.mode)&&(Yi.flags|=516,po(5,(function(){n("r:"+(Kr++).toString(36))}),void 0,null)),t}return ho(t="r:"+(Kr++).toString(36)),t},unstable_isNewReconciler:!1},No={readContext:ri,useCallback:jo,useContext:ri,useEffect:xo,useImperativeHandle:Oo,useLayoutEffect:_o,useMemo:Eo,useReducer:uo,useRef:mo,useState:function(){return uo(oo)},useDebugValue:ko,useDeferredValue:function(e){var t=uo(oo),n=t[0],r=t[1];return xo((function(){var t=$i.transition;$i.transition=1;try{r(e)}finally{$i.transition=t}}),[e]),n},useTransition:function(){var e=uo(oo)[0];return[mo().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return uo(oo)[0]},unstable_isNewReconciler:!1},Fo={readContext:ri,useCallback:jo,useContext:ri,useEffect:xo,useImperativeHandle:Oo,useLayoutEffect:_o,useMemo:Eo,useReducer:so,useRef:mo,useState:function(){return so(oo)},useDebugValue:ko,useDeferredValue:function(e){var t=so(oo),n=t[0],r=t[1];return xo((function(){var t=$i.transition;$i.transition=1;try{r(e)}finally{$i.transition=t}}),[e]),n},useTransition:function(){var e=so(oo)[0];return[mo().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return so(oo)[0]},unstable_isNewReconciler:!1},To=_.ReactCurrentOwner,Mo=!1;function Io(e,t,n,r){t.child=null===e?ki(t,null,n,r):Oi(t,e.child,n,r)}function Ro(e,t,n,r,a){n=n.render;var i=t.ref;return ni(t,a),r=ro(e,t,n,r,i,a),null===e||Mo?(t.flags|=1,Io(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,nu(e,t,a))}function Po(e,t,n,r,a,i){if(null===e){var o=n.type;return"function"!==typeof o||Ws(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qs(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,a,i))}return o=e.child,0===(a&i)&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)?nu(e,t,i):(t.flags|=1,(e=Vs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,a,i){if(null!==e&&cr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(i&a))return t.lanes=e.lanes,nu(e,t,i);0!==(16384&e.flags)&&(Mo=!0)}return Uo(e,t,n,r,i)}function zo(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},ys(t,n);else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ys(t,e),null;t.memoizedState={baseLanes:0},ys(t,null!==i?i.baseLanes:n)}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,ys(t,r);return Io(e,t,a,n),t.child}function Lo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Uo(e,t,n,r,a){var i=pa(n)?da:la.current;return i=ha(t,i),ni(t,a),n=ro(e,t,n,r,i,a),null===e||Mo?(t.flags|=1,Io(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,nu(e,t,a))}function Wo(e,t,n,r,a){if(pa(n)){var i=!0;ba(t)}else i=!1;if(ni(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),mi(t,n,r),bi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ri(c):c=ha(t,c=pa(n)?da:la.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&gi(t,o,r,c),ai=!1;var d=t.memoizedState;o.state=d,li(t,r,o,a),s=t.memoizedState,u!==r||d!==s||fa.current||ai?("function"===typeof l&&(hi(t,n,l,r),s=t.memoizedState),(u=ai||vi(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,oi(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:$a(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=ri(s):s=ha(t,s=pa(n)?da:la.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&gi(t,o,r,s),ai=!1,d=t.memoizedState,o.state=d,li(t,r,o,a);var p=t.memoizedState;u!==f||d!==p||fa.current||ai?("function"===typeof h&&(hi(t,n,h,r),p=t.memoizedState),(c=ai||vi(t,n,c,r,d,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Vo(e,t,n,r,i,a)}function Vo(e,t,n,r,a,i){Lo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return a&&ya(t,n,!1),nu(e,t,i);r=t.stateNode,To.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Oi(t,e.child,null,i),t.child=Oi(t,null,u,i)):Io(e,t,u,i),t.memoizedState=r.state,a&&ya(t,n,!0),t.child}function qo(e){var t=e.stateNode;t.pendingContext?ma(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ma(0,t.context,!1),Di(e,t.containerInfo)}var Ho,Go,Ko,$o={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,a=t.pendingProps,i=Mi.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(i|=1),sa(Mi,1&i),null===e?(void 0!==a.fallback&&Ui(t),e=a.children,i=a.fallback,o?(e=Yo(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof a.unstable_expectedLoadTime?(e=Yo(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Gs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(a=Qo(e,t,a.children,a.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,a):(n=Jo(e,t,a.children,n),t.memoizedState=null,n))}function Yo(e,t,n,r){var a=e.mode,i=e.child;return t={mode:"hidden",children:t},0===(2&a)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=Gs(t,a,0,null),n=Hs(n,a,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function Jo(e,t,n,r){var a=e.child;return e=a.sibling,n=Vs(a,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Qo(e,t,n,r,a){var i=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&i)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Vs(o,u),null!==e?r=Vs(e,r):(r=Hs(r,i,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Zo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ti(e.return,t)}function eu(e,t,n,r,a,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,lastEffect:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a,o.lastEffect=i)}function tu(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Io(e,t,r.children,n),0!==(2&(r=Mi.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zo(e,n);else if(19===e.tag)Zo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(sa(Mi,r),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Ii(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),eu(t,!1,a,n,i,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Ii(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}eu(t,!0,n,null,i,t.lastEffect);break;case"together":eu(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function nu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Vs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ru(e,t){if(!Bi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function au(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pa(t.type)&&va(),null;case 3:return Ni(),ua(fa),ua(la),Gi(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Vi(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ti(t);var i=Si(Ai.current);if(n=t.type,null!==e&&null!=t.stateNode)Go(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Si(Ei.current),Vi(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Xr]=t,r[Yr]=u,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(e=0;e<Or.length;e++)Cr(Or[e],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":ee(r,u),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Cr("invalid",r);break;case"textarea":se(r,u),Cr("invalid",r)}for(var c in ke(n,u),e=null,u)u.hasOwnProperty(c)&&(i=u[c],"children"===c?"string"===typeof i?r.textContent!==i&&(e=["children",i]):"number"===typeof i&&r.textContent!==""+i&&(e=["children",""+i]):s.hasOwnProperty(c)&&null!=i&&"onScroll"===c&&Cr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Pr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===i.nodeType?i:i.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Yr]=r,Ho(e,t),t.stateNode=e,c=je(n,r),n){case"dialog":Cr("cancel",e),Cr("close",e),i=r;break;case"iframe":case"object":case"embed":Cr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Cr(Or[i],e);i=r;break;case"source":Cr("error",e),i=r;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),i=r;break;case"details":Cr("toggle",e),i=r;break;case"input":ee(e,r),i=Z(e,r),Cr("invalid",e);break;case"option":i=ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=a({},r,{value:void 0}),Cr("invalid",e);break;case"textarea":se(e,r),i=ue(e,r),Cr("invalid",e);break;default:i=r}ke(n,i);var l=i;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?we(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&be(e,f):"number"===typeof f&&be(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Cr("scroll",e):null!=f&&x(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Pr)}Lr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ko(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Si(Ai.current),Si(Ei.current),Vi(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return ua(Mi),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Vi(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Mi.current)?0===Iu&&(Iu=3):(0!==Iu&&3!==Iu||(Iu=4),null===Du||0===(134217727&Bu)&&0===(134217727&zu)||vs(Du,Fu))),(r||n)&&(t.flags|=4),null);case 4:return Ni(),null===e&&Sr(t.stateNode.containerInfo),null;case 10:return ei(t),null;case 17:return pa(t.type)&&va(),null;case 19:if(ua(Mi),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ru(r,!1);else{if(0!==Iu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ii(e))){for(t.flags|=64,ru(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return sa(Mi,1&Mi.current|2),t.child}e=e.sibling}null!==r.tail&&La()>Vu&&(t.flags|=64,u=!0,ru(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ii(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ru(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Bi)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*La()-r.renderingStartTime>Vu&&1073741824!==n&&(t.flags|=64,u=!0,ru(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=La(),n.sibling=null,t=Mi.current,sa(Mi,u?1&t|2:1&t),n):null;case 23:case 24:return xs(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function iu(e){switch(e.tag){case 1:pa(e.type)&&va();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ni(),ua(fa),ua(la),Gi(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ti(e),null;case 13:return ua(Mi),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ua(Mi),null;case 4:return Ni(),null;case 10:return ei(e),null;case 23:case 24:return xs(),null;default:return null}}function ou(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ho=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Go=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Si(Ei.current);var o,u=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),u=[];break;case"option":i=ie(e,i),r=ie(e,r),u=[];break;case"select":i=a({},i,{value:void 0}),r=a({},r,{value:void 0}),u=[];break;case"textarea":i=ue(e,i),r=ue(e,r),u=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Pr)}for(f in ke(n,r),n=null,i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&null!=i[f])if("style"===f){var c=i[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=i?i[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Cr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===I?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Ko=function(e,t,n,r){n!==r&&(t.flags|=4)};var su="function"===typeof WeakMap?WeakMap:Map;function cu(e,t,n){(n=ui(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,$u=r),uu(0,t)},n}function lu(e,t,n){(n=ui(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return uu(0,t),r(a)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this),uu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var fu="function"===typeof WeakSet?WeakSet:Set;function du(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ps(e,n)}else t.current=null}function hu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$a(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function pu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;r=a.next,0!==(4&(a=a.tag))&&0!==(1&a)&&(Ms(n,e),Ts(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$a(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fi(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fi(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Lr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function vu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var a=n.memoizedProps.style;a=void 0!==a&&null!==a&&a.hasOwnProperty("display")?a.display:null,r.style.display=_e("display",a)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function mu(e,t){if(_a&&"function"===typeof _a.onCommitFiberUnmount)try{_a.onCommitFiberUnmount(xa,t)}catch(i){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,a=r.destroy;if(r=r.tag,void 0!==a)if(0!==(4&r))Ms(t,n);else{r=t;try{a()}catch(i){Ps(r,i)}}n=n.next}while(n!==e)}break;case 1:if(du(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Ps(t,i)}break;case 5:du(t);break;case 4:wu(e,t)}}function gu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bu(e){return 5===e.tag||3===e.tag||4===e.tag}function yu(e){e:{for(var t=e.return;null!==t;){if(bu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(be(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xu(e,n,t):_u(e,n,t)}function xu(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Pr));else if(4!==r&&null!==(e=e.child))for(xu(e,t,n),e=e.sibling;null!==e;)xu(e,t,n),e=e.sibling}function _u(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function wu(e,t){for(var n,r,a=t,i=!1;;){if(!i){i=a.return;e:for(;;){if(null===i)throw Error(o(160));switch(n=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===a.tag||6===a.tag){e:for(var u=e,s=a,c=s;;)if(mu(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=a.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(mu(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(i=!1)}a.sibling.return=a.return,a=a.sibling}}function Ou(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var a=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[Yr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),je(e,a),t=je(e,r),a=0;a<i.length;a+=2){var u=i[a],s=i[a+1];"style"===u?we(n,s):"dangerouslySetInnerHTML"===u?ge(n,s):"children"===u?be(n,s):x(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?oe(n,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Wu=La(),vu(t.child,!0)),void ku(t);case 19:return void ku(t);case 17:return;case 23:case 24:return void vu(t,null!==t.memoizedState)}throw Error(o(163))}function ku(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ju(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Eu=Math.ceil,Cu=_.ReactCurrentDispatcher,Au=_.ReactCurrentOwner,Su=0,Du=null,Nu=null,Fu=0,Tu=0,Mu=oa(0),Iu=0,Ru=null,Pu=0,Bu=0,zu=0,Lu=0,Uu=null,Wu=0,Vu=1/0;function qu(){Vu=La()+500}var Hu,Gu=null,Ku=!1,$u=null,Xu=null,Yu=!1,Ju=null,Qu=90,Zu=[],es=[],ts=null,ns=0,rs=null,as=-1,is=0,os=0,us=null,ss=!1;function cs(){return 0!==(48&Su)?La():-1!==as?as:as=La()}function ls(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ua()?1:2;if(0===is&&(is=Pu),0!==Ka.transition){0!==os&&(os=null!==Uu?Uu.pendingLanes:0),e=is;var t=4186112&~os;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ua(),0!==(4&Su)&&98===e?e=Lt(12,is):e=Lt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),is),e}function fs(e,t,n){if(50<ns)throw ns=0,rs=null,Error(o(185));if(null===(e=ds(e,t)))return null;Vt(e,t,n),e===Du&&(zu|=t,4===Iu&&vs(e,Fu));var r=Ua();1===t?0!==(8&Su)&&0===(48&Su)?ms(e):(hs(e,n),0===Su&&(qu(),Ha())):(0===(4&Su)||98!==r&&99!==r||(null===ts?ts=new Set([e]):ts.add(e)),hs(e,n)),Uu=e}function ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function hs(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-qt(u),c=1<<s,l=i[s];if(-1===l){if(0===(c&r)||0!==(c&a)){l=t,Pt(c);var f=Rt;i[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Bt(e,e===Du?Fu:0),t=Rt,0===r)null!==n&&(n!==Ma&&ka(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ma&&ka(n)}15===t?(n=ms.bind(null,e),null===Ra?(Ra=[n],Pa=Oa(Sa,Ga)):Ra.push(n),n=Ma):14===t?n=qa(99,ms.bind(null,e)):n=qa(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),ps.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function ps(e){if(as=-1,os=is=0,0!==(48&Su))throw Error(o(327));var t=e.callbackNode;if(Fs()&&e.callbackNode!==t)return null;var n=Bt(e,e===Du?Fu:0);if(0===n)return null;var r=n,a=Su;Su|=16;var i=Os();for(Du===e&&Fu===r||(qu(),_s(e,r));;)try{Es();break}catch(s){ws(e,s)}if(Za(),Cu.current=i,Su=a,null!==Nu?r=0:(Du=null,Fu=0,r=Iu),0!==(Pu&zu))_s(e,0);else if(0!==r){if(2===r&&(Su|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=zt(e))&&(r=ks(e,n))),1===r)throw t=Ru,_s(e,0),vs(e,n),hs(e,La()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:Ss(e);break;case 3:if(vs(e,n),(62914560&n)===n&&10<(r=Wu+500-La())){if(0!==Bt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){cs(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Wr(Ss.bind(null,e),r);break}Ss(e);break;case 4:if(vs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,a=-1;0<n;){var u=31-qt(n);i=1<<u,(u=r[u])>a&&(a=u),n&=~i}if(n=a,10<(n=(120>(n=La()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Eu(n/1960))-n)){e.timeoutHandle=Wr(Ss.bind(null,e),n);break}Ss(e);break;case 5:Ss(e);break;default:throw Error(o(329))}}return hs(e,La()),e.callbackNode===t?ps.bind(null,e):null}function vs(e,t){for(t&=~Lu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function ms(e){if(0!==(48&Su))throw Error(o(327));if(Fs(),e===Du&&0!==(e.expiredLanes&Fu)){var t=Fu,n=ks(e,t);0!==(Pu&zu)&&(n=ks(e,t=Bt(e,t)))}else n=ks(e,t=Bt(e,0));if(0!==e.tag&&2===n&&(Su|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=zt(e))&&(n=ks(e,t))),1===n)throw n=Ru,_s(e,0),vs(e,t),hs(e,La()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ss(e),hs(e,La()),null}function gs(e,t){var n=Su;Su|=1;try{return e(t)}finally{0===(Su=n)&&(qu(),Ha())}}function bs(e,t){var n=Su;Su&=-2,Su|=8;try{return e(t)}finally{0===(Su=n)&&(qu(),Ha())}}function ys(e,t){sa(Mu,Tu),Tu|=t,Pu|=t}function xs(){Tu=Mu.current,ua(Mu)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&va();break;case 3:Ni(),ua(fa),ua(la),Gi();break;case 5:Ti(r);break;case 4:Ni();break;case 13:case 19:ua(Mi);break;case 10:ei(r);break;case 23:case 24:xs()}n=n.return}Du=e,Nu=Vs(e.current,null),Fu=Tu=Pu=t,Iu=0,Ru=null,Lu=zu=Bu=0}function ws(e,t){for(;;){var n=Nu;try{if(Za(),Ki.current=So,Zi){for(var r=Yi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}Zi=!1}if(Xi=0,Qi=Ji=Yi=null,eo=!1,Au.current=null,null===n||null===n.return){Iu=1,Ru=t,Nu=null;break}e:{var i=e,o=n.return,u=n,s=t;if(t=Fu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Mi.current),d=o;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=d.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(h){var m=d.updateQueue;if(null===m){var g=new Set;g.add(c),d.updateQueue=g}else m.add(c);if(0===(2&d.mode)){if(d.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var b=ui(-1,1);b.tag=2,si(u,b)}u.lanes|=1;break e}s=void 0,u=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new su,s=new Set,y.set(c,s)):void 0===(s=y.get(c))&&(s=new Set,y.set(c,s)),!s.has(u)){s.add(u);var x=Bs.bind(null,i,c,u);c.then(x,x)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);s=Error((K(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Iu&&(Iu=2),s=ou(s,u),d=o;do{switch(d.tag){case 3:i=s,d.flags|=4096,t&=-t,d.lanes|=t,ci(d,cu(0,i,t));break e;case 1:i=s;var _=d.type,w=d.stateNode;if(0===(64&d.flags)&&("function"===typeof _.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Xu||!Xu.has(w)))){d.flags|=4096,t&=-t,d.lanes|=t,ci(d,lu(d,i,t));break e}}d=d.return}while(null!==d)}As(n)}catch(O){t=O,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function Os(){var e=Cu.current;return Cu.current=So,null===e?So:e}function ks(e,t){var n=Su;Su|=16;var r=Os();for(Du===e&&Fu===t||_s(e,t);;)try{js();break}catch(a){ws(e,a)}if(Za(),Su=n,Cu.current=r,null!==Nu)throw Error(o(261));return Du=null,Fu=0,Iu}function js(){for(;null!==Nu;)Cs(Nu)}function Es(){for(;null!==Nu&&!ja();)Cs(Nu)}function Cs(e){var t=Hu(e.alternate,e,Tu);e.memoizedProps=e.pendingProps,null===t?As(e):Nu=t,Au.current=null}function As(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=au(n,t,Tu)))return void(Nu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Tu)||0===(4&n.mode)){for(var r=0,a=n.child;null!==a;)r|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=iu(t)))return n.flags&=2047,void(Nu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Iu&&(Iu=5)}function Ss(e){var t=Ua();return Va(99,Ds.bind(null,e,t)),null}function Ds(e,t){do{Fs()}while(null!==Ju);if(0!==(48&Su))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,a=r,i=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<i;){var c=31-qt(i),l=1<<c;a[c]=0,u[c]=-1,s[c]=-1,i&=~l}if(null!==ts&&0===(24&r)&&ts.has(e)&&ts.delete(e),e===Du&&(Nu=Du=null,Fu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(a=Su,Su|=32,Au.current=null,Br=Xt,pr(u=hr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,i=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(E){s=null;break e}var f=0,d=-1,h=-1,p=0,v=0,m=u,g=null;t:for(;;){for(var b;m!==s||0!==i&&3!==m.nodeType||(d=f+i),m!==c||0!==l&&3!==m.nodeType||(h=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(b=m.firstChild);)g=m,m=b;for(;;){if(m===u)break t;if(g===s&&++p===i&&(d=f),g===c&&++v===l&&(h=f),null!==(b=m.nextSibling))break;g=(m=g).parentNode}m=b}s=-1===d||-1===h?null:{start:d,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;zr={focusedElem:u,selectionRange:s},Xt=!1,us=null,ss=!1,Gu=r;do{try{Ns()}catch(E){if(null===Gu)throw Error(o(330));Ps(Gu,E),Gu=Gu.nextEffect}}while(null!==Gu);us=null,Gu=r;do{try{for(u=e;null!==Gu;){var y=Gu.flags;if(16&y&&be(Gu.stateNode,""),128&y){var x=Gu.alternate;if(null!==x){var _=x.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&y){case 2:yu(Gu),Gu.flags&=-3;break;case 6:yu(Gu),Gu.flags&=-3,Ou(Gu.alternate,Gu);break;case 1024:Gu.flags&=-1025;break;case 1028:Gu.flags&=-1025,Ou(Gu.alternate,Gu);break;case 4:Ou(Gu.alternate,Gu);break;case 8:wu(u,s=Gu);var w=s.alternate;gu(s),null!==w&&gu(w)}Gu=Gu.nextEffect}}catch(E){if(null===Gu)throw Error(o(330));Ps(Gu,E),Gu=Gu.nextEffect}}while(null!==Gu);if(_=zr,x=hr(),y=_.focusedElem,u=_.selectionRange,x!==y&&y&&y.ownerDocument&&dr(y.ownerDocument.documentElement,y)){null!==u&&pr(y)&&(x=u.start,void 0===(_=u.end)&&(_=x),"selectionStart"in y?(y.selectionStart=x,y.selectionEnd=Math.min(_,y.value.length)):(_=(x=y.ownerDocument||document)&&x.defaultView||window).getSelection&&(_=_.getSelection(),s=y.textContent.length,w=Math.min(u.start,s),u=void 0===u.end?w:Math.min(u.end,s),!_.extend&&w>u&&(s=u,u=w,w=s),s=fr(y,w),i=fr(y,u),s&&i&&(1!==_.rangeCount||_.anchorNode!==s.node||_.anchorOffset!==s.offset||_.focusNode!==i.node||_.focusOffset!==i.offset)&&((x=x.createRange()).setStart(s.node,s.offset),_.removeAllRanges(),w>u?(_.addRange(x),_.extend(i.node,i.offset)):(x.setEnd(i.node,i.offset),_.addRange(x))))),x=[];for(_=y;_=_.parentNode;)1===_.nodeType&&x.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof y.focus&&y.focus(),y=0;y<x.length;y++)(_=x[y]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Xt=!!Br,zr=Br=null,e.current=n,Gu=r;do{try{for(y=e;null!==Gu;){var O=Gu.flags;if(36&O&&pu(y,Gu.alternate,Gu),128&O){x=void 0;var k=Gu.ref;if(null!==k){var j=Gu.stateNode;switch(Gu.tag){case 5:x=j;break;default:x=j}"function"===typeof k?k(x):k.current=x}}Gu=Gu.nextEffect}}catch(E){if(null===Gu)throw Error(o(330));Ps(Gu,E),Gu=Gu.nextEffect}}while(null!==Gu);Gu=null,Ia(),Su=a}else e.current=n;if(Yu)Yu=!1,Ju=e,Qu=t;else for(Gu=r;null!==Gu;)t=Gu.nextEffect,Gu.nextEffect=null,8&Gu.flags&&((O=Gu).sibling=null,O.stateNode=null),Gu=t;if(0===(r=e.pendingLanes)&&(Xu=null),1===r?e===rs?ns++:(ns=0,rs=e):ns=0,n=n.stateNode,_a&&"function"===typeof _a.onCommitFiberRoot)try{_a.onCommitFiberRoot(xa,n,void 0,64===(64&n.current.flags))}catch(E){}if(hs(e,La()),Ku)throw Ku=!1,e=$u,$u=null,e;return 0!==(8&Su)||Ha(),null}function Ns(){for(;null!==Gu;){var e=Gu.alternate;ss||null===us||(0!==(8&Gu.flags)?et(Gu,us)&&(ss=!0):13===Gu.tag&&ju(e,Gu)&&et(Gu,us)&&(ss=!0));var t=Gu.flags;0!==(256&t)&&hu(e,Gu),0===(512&t)||Yu||(Yu=!0,qa(97,(function(){return Fs(),null}))),Gu=Gu.nextEffect}}function Fs(){if(90!==Qu){var e=97<Qu?97:Qu;return Qu=90,Va(e,Is)}return!1}function Ts(e,t){Zu.push(t,e),Yu||(Yu=!0,qa(97,(function(){return Fs(),null})))}function Ms(e,t){es.push(t,e),Yu||(Yu=!0,qa(97,(function(){return Fs(),null})))}function Is(){if(null===Ju)return!1;var e=Ju;if(Ju=null,0!==(48&Su))throw Error(o(331));var t=Su;Su|=32;var n=es;es=[];for(var r=0;r<n.length;r+=2){var a=n[r],i=n[r+1],u=a.destroy;if(a.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===i)throw Error(o(330));Ps(i,c)}}for(n=Zu,Zu=[],r=0;r<n.length;r+=2){a=n[r],i=n[r+1];try{var s=a.create;a.destroy=s()}catch(c){if(null===i)throw Error(o(330));Ps(i,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Su=t,Ha(),!0}function Rs(e,t,n){si(e,t=cu(0,t=ou(n,t),1)),t=cs(),null!==(e=ds(e,1))&&(Vt(e,1,t),hs(e,t))}function Ps(e,t){if(3===e.tag)Rs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Rs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){var a=lu(n,e=ou(t,e),1);if(si(n,a),a=cs(),null!==(n=ds(n,1)))Vt(n,1,a),hs(n,a);else if("function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r)))try{r.componentDidCatch(t,e)}catch(i){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cs(),e.pingedLanes|=e.suspendedLanes&n,Du===e&&(Fu&n)===n&&(4===Iu||3===Iu&&(62914560&Fu)===Fu&&500>La()-Wu?_s(e,0):Lu|=n),hs(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ua()?1:2:(0===is&&(is=Pu),0===(t=Ut(62914560&~is))&&(t=4194304))),n=cs(),null!==(e=ds(e,t))&&(Vt(e,t,n),hs(e,n))}function Ls(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Us(e,t,n,r){return new Ls(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vs(e,t){var n=e.alternate;return null===n?((n=Us(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qs(e,t,n,r,a,i){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case k:return Hs(n.children,a,i,t);case R:u=8,a|=16;break;case j:u=8,a|=1;break;case E:return(e=Us(12,n,t,8|a)).elementType=E,e.type=E,e.lanes=i,e;case D:return(e=Us(13,n,t,a)).type=D,e.elementType=D,e.lanes=i,e;case N:return(e=Us(19,n,t,a)).elementType=N,e.lanes=i,e;case P:return Gs(n,a,i,t);case B:return(e=Us(24,n,t,a)).elementType=B,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:u=10;break e;case A:u=9;break e;case S:u=11;break e;case F:u=14;break e;case T:u=16,r=null;break e;case M:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Us(u,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Hs(e,t,n,r){return(e=Us(7,e,r,t)).lanes=n,e}function Gs(e,t,n,r){return(e=Us(23,e,r,t)).elementType=P,e.lanes=n,e}function Ks(e,t,n){return(e=Us(6,e,null,t)).lanes=n,e}function $s(e,t,n){return(t=Us(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Wt(0),this.expirationTimes=Wt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wt(0),this.mutableSourceEagerHydrationData=null}function Ys(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:O,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Js(e,t,n,r){var a=t.current,i=cs(),u=ls(a);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(pa(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(pa(c)){n=ga(n,c,s);break e}}n=s}else n=ca;return null===t.context?t.context=n:t.pendingContext=n,(t=ui(i,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),si(a,t),fs(a,u,i),u}function Qs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Zs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ec(e,t){Zs(e,t),(e=e.alternate)&&Zs(e,t)}function tc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xs(e,t,null!=n&&!0===n.hydrate),t=Us(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ii(t),e[Jr]=n.current,Sr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var a=(t=r[e])._getVersion;a=a(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=n}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i._internalRoot;if("function"===typeof a){var u=a;a=function(){var e=Qs(o);u.call(e)}}Js(t,o,e,a)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=i._internalRoot,"function"===typeof a){var s=a;a=function(){var e=Qs(o);s.call(e)}}bs((function(){Js(t,o,e,a)}))}return Qs(o)}function ac(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(o(200));return Ys(e,t,null,n)}Hu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fa.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:qo(t),qi();break;case 5:Fi(t);break;case 1:pa(t.type)&&ba(t);break;case 4:Di(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var a=t.type._context;sa(Xa,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(sa(Mi,1&Mi.current),null!==(t=nu(e,t,n))?t.sibling:null);sa(Mi,1&Mi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return tu(e,t,n);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),sa(Mi,Mi.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return nu(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=ha(t,la.current),ni(t,n),a=ro(null,t,r,e,a,n),t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pa(r)){var i=!0;ba(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ii(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&hi(t,r,u,e),a.updater=pi,t.stateNode=a,a._reactInternals=t,bi(t,r,e,n),t=Vo(null,t,r,!0,i,n)}else t.tag=0,Io(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(i=a._init)(a._payload),t.type=a,i=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===F)return 14}return 2}(a),e=$a(a,e),i){case 0:t=Uo(null,t,a,e,n);break e;case 1:t=Wo(null,t,a,e,n);break e;case 11:t=Ro(null,t,a,e,n);break e;case 14:t=Po(null,t,a,$a(a.type,e),r,n);break e}throw Error(o(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Uo(e,t,r,a=t.elementType===r?a:$a(r,a),n);case 1:return r=t.type,a=t.pendingProps,Wo(e,t,r,a=t.elementType===r?a:$a(r,a),n);case 3:if(qo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,oi(e,t),li(t,r,null,n),(r=t.memoizedState.element)===a)qi(),t=nu(e,t,n);else{if((i=(a=t.stateNode).hydrate)&&(Pi=Hr(t.stateNode.containerInfo.firstChild),Ri=t,i=Bi=!0),i){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(i=e[a])._workInProgressVersionPrimary=e[a+1],Hi.push(i);for(n=ki(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Io(e,t,r,n),qi();t=t.child}return t;case 5:return Fi(t),null===e&&Ui(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,u=a.children,Ur(r,a)?u=null:null!==i&&Ur(r,i)&&(t.flags|=16),Lo(e,t),Io(e,t,u,n),t.child;case 6:return null===e&&Ui(t),null;case 13:return Xo(e,t,n);case 4:return Di(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Oi(t,null,r,n):Io(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Ro(e,t,r,a=t.elementType===r?a:$a(r,a),n);case 7:return Io(e,t,t.pendingProps,n),t.child;case 8:case 12:return Io(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,u=t.memoizedProps,i=a.value;var s=t.type._context;if(sa(Xa,s._currentValue),s._currentValue=i,null!==u)if(s=u.value,0===(i=ur(s,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,i):1073741823))){if(u.children===a.children&&!fa.current){t=nu(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&i)){1===s.tag&&((l=ui(-1,n&-n)).tag=2,si(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ti(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Io(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,ni(t,n),r=r(a=ri(a,i.unstable_observedBits)),t.flags|=1,Io(e,t,r,n),t.child;case 14:return i=$a(a=t.type,t.pendingProps),Po(e,t,a,i=$a(a.type,i),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:$a(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pa(r)?(e=!0,ba(t)):e=!1,ni(t,n),mi(t,r,a),bi(t,r,a,n),Vo(null,t,r,!0,e,n);case 19:return tu(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},tc.prototype.render=function(e){Js(e,this._internalRoot,null,null)},tc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Js(null,e,null,(function(){t[Jr]=null}))},tt=function(e){13===e.tag&&(fs(e,4,cs()),ec(e,4))},nt=function(e){13===e.tag&&(fs(e,67108864,cs()),ec(e,67108864))},rt=function(e){if(13===e.tag){var t=cs(),n=ls(e);fs(e,n,t),ec(e,n)}},at=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=na(r);if(!a)throw Error(o(90));J(r),ne(r,a)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Te=gs,Me=function(e,t,n,r,a){var i=Su;Su|=4;try{return Va(98,e.bind(null,t,n,r,a))}finally{0===(Su=i)&&(qu(),Ha())}},Ie=function(){0===(49&Su)&&(function(){if(null!==ts){var e=ts;ts=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,hs(e,La())}))}Ha()}(),Fs())},Re=function(e,t){var n=Su;Su|=2;try{return e(t)}finally{0===(Su=n)&&(qu(),Ha())}};var ic={Events:[ea,ta,na,Ne,Fe,Fs,{current:!1}]},oc={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uc={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{xa=sc.inject(uc),_a=sc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ic,t.createPortal=ac,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Su;if(0!==(48&n))return e(t);Su|=1;try{if(e)return Va(99,e.bind(null,t))}finally{Su=n,Ha()}},t.hydrate=function(e,t,n){if(!nc(t))throw Error(o(200));return rc(null,e,t,!0,n)},t.render=function(e,t,n){if(!nc(t))throw Error(o(200));return rc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(o(40));return!!e._reactRootContainer&&(bs((function(){rc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Jr]=null}))})),!0)},t.unstable_batchedUpdates=gs,t.unstable_createPortal=function(e,t){return ac(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return rc(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(640)},function(e,t,n){"use strict";var r,a,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var u=performance;t.unstable_now=function(){return u.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,f=null,d=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(d,0))},a=function(e,t){f=setTimeout(e,t)},i=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,b=-1,y=5,x=0;t.unstable_shouldYield=function(){return t.unstable_now()>=x},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,w=_.port2;_.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();x=e+y;try{g(!0,e)?w.postMessage(null):(m=!1,g=null)}catch(n){throw w.postMessage(null),n}}else m=!1},r=function(e){g=e,m||(m=!0,w.postMessage(null))},a=function(e,n){b=h((function(){e(t.unstable_now())}),n)},i=function(){p(b),b=-1}}function O(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<E(a,t)))break e;e[r]=t,e[n]=a,n=r}}function k(e){return void 0===(e=e[0])?null:e}function j(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var i=2*(r+1)-1,o=e[i],u=i+1,s=e[u];if(void 0!==o&&0>E(o,n))void 0!==s&&0>E(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[i]=n,r=i);else{if(!(void 0!==s&&0>E(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],A=[],S=1,D=null,N=3,F=!1,T=!1,M=!1;function I(e){for(var t=k(A);null!==t;){if(null===t.callback)j(A);else{if(!(t.startTime<=e))break;j(A),t.sortIndex=t.expirationTime,O(C,t)}t=k(A)}}function R(e){if(M=!1,I(e),!T)if(null!==k(C))T=!0,r(P);else{var t=k(A);null!==t&&a(R,t.startTime-e)}}function P(e,n){T=!1,M&&(M=!1,i()),F=!0;var r=N;try{for(I(n),D=k(C);null!==D&&(!(D.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=D.callback;if("function"===typeof o){D.callback=null,N=D.priorityLevel;var u=o(D.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?D.callback=u:D===k(C)&&j(C),I(n)}else j(C);D=k(C)}if(null!==D)var s=!0;else{var c=k(A);null!==c&&a(R,c.startTime-n),s=!1}return s}finally{D=null,N=r,F=!1}}var B=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){T||F||(T=!0,r(P))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return k(C)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,n,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:S++,callback:n,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,O(A,e),null===k(C)&&e===k(A)&&(M?i():M=!0,a(R,o-u))):(e.sortIndex=s,O(C,e),T||F||(T=!0,r(P))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},,,function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),o=new A(r||[]);return i._invoke=function(e,t,n){var r=f;return function(a,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===a)throw i;return D()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var u=j(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:d,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function m(){}function g(){}function b(){}var y={};y[i]=function(){return this};var x=Object.getPrototypeOf,_=x&&x(x(S([])));_&&_!==n&&r.call(_,i)&&(y=_);var w=b.prototype=m.prototype=Object.create(y);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,i,o,u){var s=l(e[a],e,i);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var a;this._invoke=function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}}function j(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=l(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function S(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:D}}function D(){return{value:t,done:!0}}return g.prototype=w.constructor=b,b.constructor=g,g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},O(k.prototype),k.prototype[o]=function(){return this},e.AsyncIterator=k,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new k(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(w),s(w,u,"Generator"),w[i]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return u.type="throw",u.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],u=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:S(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(a){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";n(206);var r=n(4),a=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var i=Symbol.for;a=i("react.element"),t.Fragment=i("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:l,props:i,_owner:o.current}}t.jsx=c,t.jsxs=c},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),o=r[0],u=r[1],s=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,u)),l=0,f=u>0?o-4:o;for(n=0;n<f;n+=4)t=a[e.charCodeAt(n)]<<18|a[e.charCodeAt(n+1)]<<12|a[e.charCodeAt(n+2)]<<6|a[e.charCodeAt(n+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;2===u&&(t=a[e.charCodeAt(n)]<<2|a[e.charCodeAt(n+1)]>>4,s[l++]=255&t);1===u&&(t=a[e.charCodeAt(n)]<<10|a[e.charCodeAt(n+1)]<<4|a[e.charCodeAt(n+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,a=n%3,i=[],o=16383,u=0,s=n-a;u<s;u+=o)i.push(l(e,u,u+o>s?s:u+o));1===a?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===a&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],a=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=o.length;u<s;++u)r[u]=o[u],a[o.charCodeAt(u)]=u;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var a,i,o=[],u=t;u<n;u+=3)a=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),o.push(r[(i=a)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,a){var i,o,u=8*a-r-1,s=(1<<u)-1,c=s>>1,l=-7,f=n?a-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-l)-1,h>>=-l,l+=u;l>0;i=256*i+e[t+f],f+=d,l-=8);for(o=i&(1<<-l)-1,i>>=-l,l+=r;l>0;o=256*o+e[t+f],f+=d,l-=8);if(0===i)i=1-c;else{if(i===s)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),i-=c}return(h?-1:1)*o*Math.pow(2,i-r)},t.write=function(e,t,n,r,a,i){var o,u,s,c=8*i-a-1,l=(1<<c)-1,f=l>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-o))<1&&(o--,s*=2),(t+=o+f>=1?d/s:d*Math.pow(2,1-f))*s>=2&&(o++,s/=2),o+f>=l?(u=0,o=l):o+f>=1?(u=(t*s-1)*Math.pow(2,a),o+=f):(u=t*Math.pow(2,f-1)*Math.pow(2,a),o=0));a>=8;e[n+h]=255&u,h+=p,u/=256,a-=8);for(o=o<<a|u,c+=a;c>0;e[n+h]=255&o,h+=p,o/=256,c-=8);e[n+h-p]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";(function(e){var t,r=n(3),a=n(9),i=n(42),o=function(){return n(649)};var u=function(){function u(){Object(r.a)(this,u),this.util=n(650),this.textEncoder=new this.util.TextEncoder}return Object(a.a)(u,[{key:"fetch",value:function(e,n){return null!=Object(i.c)().global.fetch?Object(i.c)().global.fetch(e,n):(null==t&&(t=o()),t(e,n))}},{key:"now",value:function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}]),u}();Object(i.c)().get("IS_NODE")&&Object(i.c)().setPlatform("node",new u)}).call(this,n(185))},,,function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function u(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function s(e,t){var n=new o(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n(119)&&n(207)?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.alea=s}(0,e,n(119))}).call(this,n(118)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function u(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function s(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n(119)&&n(207)?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xor128=s}(0,e,n(119))}).call(this,n(118)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function u(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function s(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n(119)&&n(207)?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xorwow=s}(0,e,n(119))}).call(this,n(118)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function u(e,t){return t.x=e.x.slice(),t.i=e.i,t}function s(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n(119)&&n(207)?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xorshift7=s}(0,e,n(119))}).call(this,n(118)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,i=t.i;return t.w=r=r+1640531527|0,n=a[i+34&127],e=a[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,a,i,o,u=[],s=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,s=Math.max(s,t.length)),a=0,i=-32;i<s;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(o=o+1640531527|0,a=0==(n=u[127&i]^=r+o)?a+1:0);for(a>=128&&(u[127&(t&&t.length||0)]=-1),a=127,i=512;i>0;--i)r=u[a+34&127],n=u[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,u[a]=r^n;e.w=o,e.X=u,e.i=a}(t,e)}function u(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function s(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n(119)&&n(207)?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xor4096=s}(0,e,n(119))}).call(this,n(118)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function u(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function s(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n(119)&&n(207)?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.tychei=s}(0,e,n(119))}).call(this,n(118)(e))},function(e,t,n){var r;!function(a,i){var o,u=this,s=256,c=i.pow(s,6),l=i.pow(2,52),f=2*l,d=255;function h(e,t,n){var r=[],d=g(m((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(a)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(s):(e=new Uint8Array(s),(u.crypto||u.msCrypto).getRandomValues(e)),b(e)}catch(r){var t=u.navigator,n=t&&t.plugins;return[+new Date,u,n,u.screen,b(a)]}}():e,3),r),h=new p(r),y=function(){for(var e=h.g(6),t=c,n=0;e<l;)e=(e+n)*s,t*=s,n=h.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return y.int32=function(){return 0|h.g(4)},y.quick=function(){return h.g(4)/4294967296},y.double=y,g(b(h.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&v(r,h),e.state=function(){return v(h,{})}),n?(i.random=e,t):e})(y,d,"global"in t?t.global:this==i,t.state)}function p(e){var t,n=e.length,r=this,a=0,i=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);a<s;)o[a]=a++;for(a=0;a<s;a++)o[a]=o[i=d&i+e[a%n]+(t=o[a])],o[i]=t;(r.g=function(e){for(var t,n=0,a=r.i,i=r.j,o=r.S;e--;)t=o[a=d&a+1],n=n*s+o[d&(o[a]=o[i=d&i+t])+(o[i]=t)];return r.i=a,r.j=i,n})(s)}function v(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(m(e[n],t-1))}catch(i){}return r.length?r:"string"==a?e:e+"\0"}function g(e,t){for(var n,r=e+"",a=0;a<r.length;)t[d&a]=d&(n^=19*t[d&a])+r.charCodeAt(a++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(i.seedrandom=h,g(i.random(),a),e.exports){e.exports=h;try{o=n(658)}catch(y){}}else void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}([],Math)},,function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,a=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(a.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(660),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(106))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,a=1,i={},o=!1,u=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;r=function(t){var n=u.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},s.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return i[a]=o,r(a),a++},s.clearImmediate=c}function c(e){delete i[e]}function l(e){if(o)setTimeout(l,0,e);else{var t=i[e];if(t){o=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{c(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(106),n(185))},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=h(n(664)),a=h(n(492)),i=h(n(671)),o=h(n(517)),u=h(n(522)),s=h(n(523)),c=h(n(524)),l=h(n(751)),f=h(n(525)),d=h(n(526));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,l.default)(e),t=(0,f.default)(e);var h=(0,i.default)(t,n);t=(0,d.default)(e,h);var p=(0,o.default)(t,h);t=(0,u.default)(t,p,h),t=(0,s.default)(t,h),t=(0,c.default)(t,h);var v=(0,a.default)(t[0]);return(0,r.default)(t,h.border,v,p,h.drawHorizontalLine,h.singleLine)};t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(490),i=(r=n(491))&&r.__esModule?r:{default:r};var o=function(e,t,n,r,o,u){var s,c,l,f=e.length;return s="",o(c=0,f)&&(s+=(0,a.drawBorderTop)(n,t)),e.forEach((function(e,d){s+=(0,i.default)(e,t),l||(l=r[c],c++),l--,!u&&0===l&&d!==f-1&&o(c,f)&&(s+=(0,a.drawBorderJoin)(n,t))})),o(c,f)&&(s+=(0,a.drawBorderBottom)(n,t)),s};t.default=o},function(e,t,n){var r=n(493);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";var r=n(669),a=function(e){return"string"===typeof e?e.replace(r(),""):e};e.exports=a,e.exports.default=a},function(e,t,n){"use strict";e.exports=function(e){e=Object.assign({onlyFirst:!1},e);var t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e.onlyFirst?void 0:"g")}},function(e,t,n){"use strict";e.exports=function(){return/\uD83C\uDFF4(?:\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74)\uDB40\uDC7F|\u200D\u2620\uFE0F)|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|\uD83D\uDC69\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83D\uDC69\u200D[\u2695\u2696\u2708])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC68(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDD1-\uDDDD])/g}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(392)),a=c(n(512)),i=c(n(404)),o=c(n(406)),u=c(n(516)),s=c(n(731));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},(0,o.default)("honeywell"),e)},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,s.default)(e);return(0,i.default)(e[0].length,(function(e){(0,a.default)(t[e])&&(t[e]={}),t[e]=Object.assign({alignment:"left",paddingLeft:1,paddingRight:1,truncate:1/0,width:r[e],wrapWord:!1},n,t[e])})),t},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,u.default)("config.json",t);var n=(0,r.default)(t);return n.border=l(n.border),n.columns=f(e,n.columns,n.columnDefault),n.drawHorizontalLine||(n.drawHorizontalLine=function(){return!0}),void 0===n.singleLine&&(n.singleLine=!1),n};t.default=d},function(e,t,n){var r=n(293),a=n(497),i=n(498),o=n(701),u=n(707),s=n(503),c=n(504),l=n(710),f=n(712),d=n(507),h=n(713),p=n(303),v=n(718),m=n(719),g=n(511),b=n(102),y=n(300),x=n(724),_=n(107),w=n(726),O=n(210),k=n(266),j="[object Arguments]",E="[object Function]",C="[object Object]",A={};A[j]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[C]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[E]=A["[object WeakMap]"]=!1,e.exports=function e(t,n,S,D,N,F){var T,M=1&n,I=2&n,R=4&n;if(S&&(T=N?S(t,D,N,F):S(t)),void 0!==T)return T;if(!_(t))return t;var P=b(t);if(P){if(T=v(t),!M)return c(t,T)}else{var B=p(t),z=B==E||"[object GeneratorFunction]"==B;if(y(t))return s(t,M);if(B==C||B==j||z&&!N){if(T=I||z?{}:g(t),!M)return I?f(t,u(T,t)):l(t,o(T,t))}else{if(!A[B])return N?t:{};T=m(t,B,M)}}F||(F=new r);var L=F.get(t);if(L)return L;F.set(t,T),w(t)?t.forEach((function(r){T.add(e(r,n,S,r,t,F))})):x(t)&&t.forEach((function(r,a){T.set(a,e(r,n,S,a,t,F))}));var U=P?void 0:(R?I?h:d:I?k:O)(t);return a(U||t,(function(r,a){U&&(r=t[a=r]),i(T,a,e(r,n,S,a,t,F))})),T}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(295),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(295);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(295);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(295);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},function(e,t,n){var r=n(294);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(294),a=n(393),i=n(395);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(o)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(394),a=n(686),i=n(107),o=n(496),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(r(e)?d:u).test(o(e))}},function(e,t,n){var r=n(209),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(s){}var a=o.call(e);return r&&(t?e[u]=n:delete e[u]),a}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(687),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},function(e,t,n){var r=n(129)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(690),a=n(294),i=n(393);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},function(e,t,n){var r=n(691),a=n(692),i=n(693),o=n(694),u=n(695);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=o,s.prototype.set=u,e.exports=s},function(e,t,n){var r=n(296);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(296),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(296),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},function(e,t,n){var r=n(296);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(297);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(297);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(297);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(297);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},function(e,t,n){var r=n(265),a=n(210);e.exports=function(e,t){return e&&r(t,a(t),e)}},function(e,t,n){var r=n(146),a=n(108);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(146),a=n(398),i=n(108),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!o[r(e)]}},function(e,t,n){var r=n(399),a=n(706),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(502)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(265),a=n(266);e.exports=function(e,t){return e&&r(t,a(t),e)}},function(e,t,n){var r=n(107),a=n(399),i=n(709),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=a(e),n=[];for(var u in e)("constructor"!=u||!t&&o.call(e,u))&&n.push(u);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(265),a=n(400);e.exports=function(e,t){return r(e,a(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}},function(e,t,n){var r=n(265),a=n(506);e.exports=function(e,t){return r(e,a(e),t)}},function(e,t,n){var r=n(508),a=n(506),i=n(266);e.exports=function(e){return r(e,i,a)}},function(e,t,n){var r=n(186)(n(129),"DataView");e.exports=r},function(e,t,n){var r=n(186)(n(129),"Promise");e.exports=r},function(e,t,n){var r=n(186)(n(129),"Set");e.exports=r},function(e,t,n){var r=n(186)(n(129),"WeakMap");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(403),a=n(720),i=n(721),o=n(722),u=n(510);e.exports=function(e,t,n){var s=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return a(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(e,n);case"[object Map]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return i(e);case"[object Set]":return new s;case"[object Symbol]":return o(e)}}},function(e,t,n){var r=n(403);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(209),a=r?r.prototype:void 0,i=a?a.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,n){var r=n(107),a=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(725),a=n(301),i=n(302),o=i&&i.isMap,u=o?a(o):r;e.exports=u},function(e,t,n){var r=n(303),a=n(108);e.exports=function(e){return a(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(727),a=n(301),i=n(302),o=i&&i.isSet,u=o?a(o):r;e.exports=u},function(e,t,n){var r=n(303),a=n(108);e.exports=function(e){return a(e)&&"[object Set]"==r(e)}},function(e,t,n){var r=n(514),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},function(e,t,n){var r=n(515),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},function(e,t,n){"use strict";e.exports=n(429)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(492))&&r.__esModule?r:{default:r};var i=function(e){if(!e[0])throw new Error("Dataset must have at least one row.");var t=new Array(e[0].length).fill(0);return e.forEach((function(e){(0,a.default)(e).forEach((function(e,n){t[n]<e&&(t[n]=e)}))})),t};t.default=i},function(e,t,n){var r=n(733),a=n(734),i=n(267);e.exports=function(e){return e&&e.length?r(e,i,a):void 0}},function(e,t,n){var r=n(268);e.exports=function(e,t,n){for(var a=-1,i=e.length;++a<i;){var o=e[a],u=t(o);if(null!=u&&(void 0===s?u===u&&!r(u):n(u,s)))var s=u,c=o}return c}},function(e,t){e.exports=function(e,t){return e>t}},function(e,t,n){var r=n(146),a=n(108);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(407)),a=i(n(519));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(0,r.default)(e))throw new TypeError("Value must be a string.");if(!Number.isInteger(t))throw new TypeError("Column width must be an integer.");if(t<1)throw new Error("Column width must be greater than 0.");return(0,a.default)(e,t,n).length};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(520)),a=i(n(263));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t){var n;n=e;var i=[];do{i.push((0,r.default)(n,0,t)),n=(0,r.default)(n,t).trim()}while((0,a.default)(n));return i};t.default=o},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,i=s}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";var r="[\ud800-\udbff][\udc00-\udfff]";e.exports=function(e){return e&&e.exact?new RegExp("^".concat(r,"$")):new RegExp(r,"g")}},function(e,t,n){"use strict";(function(e){var t=n(743),r=function(e,n){return function(){var r=e.apply(t,arguments);return"\x1b[".concat(r+n,"m")}},a=function(e,n){return function(){var r=e.apply(t,arguments);return"\x1b[".concat(38+n,";5;").concat(r,"m")}},i=function(e,n){return function(){var r=e.apply(t,arguments);return"\x1b[".concat(38+n,";2;").concat(r[0],";").concat(r[1],";").concat(r[2],"m")}};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){var e=new Map,n={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};n.color.grey=n.color.gray;for(var o=0,u=Object.keys(n);o<u.length;o++){for(var s=u[o],c=n[s],l=0,f=Object.keys(c);l<f.length;l++){var d=f[l],h=c[d];n[d]={open:"\x1b[".concat(h[0],"m"),close:"\x1b[".concat(h[1],"m")},c[d]=n[d],e.set(h[0],h[1])}Object.defineProperty(n,s,{value:c,enumerable:!1}),Object.defineProperty(n,"codes",{value:e,enumerable:!1})}var p=function(e){return e},v=function(e,t,n){return[e,t,n]};n.color.close="\x1b[39m",n.bgColor.close="\x1b[49m",n.color.ansi={ansi:r(p,0)},n.color.ansi256={ansi256:a(p,0)},n.color.ansi16m={rgb:i(v,0)},n.bgColor.ansi={ansi:r(p,10)},n.bgColor.ansi256={ansi256:a(p,10)},n.bgColor.ansi16m={rgb:i(v,10)};for(var m=0,g=Object.keys(t);m<g.length;m++){var b=g[m];if("object"===typeof t[b]){var y=t[b];"ansi16"===b&&(b="ansi"),"ansi16"in y&&(n.color.ansi[b]=r(y.ansi16,0),n.bgColor.ansi[b]=r(y.ansi16,10)),"ansi256"in y&&(n.color.ansi256[b]=a(y.ansi256,0),n.bgColor.ansi256[b]=a(y.ansi256,10)),"rgb"in y&&(n.color.ansi16m[b]=i(y.rgb,0),n.bgColor.ansi16m[b]=i(y.rgb,10))}}return n}})}).call(this,n(118)(e))},function(e,t,n){var r=n(521),a=n(745),i={};Object.keys(r).forEach((function(e){i[e]={},Object.defineProperty(i[e],"channels",{value:r[e].channels}),Object.defineProperty(i[e],"labels",{value:r[e].labels});var t=a(e);Object.keys(t).forEach((function(n){var r=t[n];i[e][n]=function(e){var t=function(t){if(void 0===t||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"===typeof n)for(var r=n.length,a=0;a<r;a++)n[a]=Math.round(n[a]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(r),i[e][n].raw=function(e){var t=function(t){return void 0===t||null===t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=i},function(e,t,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,n){var r=n(521);function a(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,a=0;a<n;a++)e[t[a]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var a=n.pop(),i=Object.keys(r[a]),o=i.length,u=0;u<o;u++){var s=i[u],c=t[s];-1===c.distance&&(c.distance=t[a].distance+1,c.parent=a,n.unshift(s))}return t}function i(e,t){return function(n){return t(e(n))}}function o(e,t){for(var n=[t[e].parent,e],a=r[t[e].parent][e],o=t[e].parent;t[o].parent;)n.unshift(t[o].parent),a=i(r[t[o].parent][o],a),o=t[o].parent;return a.conversion=n,a}e.exports=function(e){for(var t=a(e),n={},r=Object.keys(t),i=r.length,u=0;u<i;u++){var s=r[u];null!==t[s].parent&&(n[s]=o(s,t))}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(520)),a=i(n(263));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t){var n;n=e;var i=[],o=new RegExp("(^.{1,"+t+"}(\\s+|$))|(^.{1,"+(t-1)+"}(\\\\|/|_|\\.|,|;|-))");do{var u=void 0;(u=n.match(o))?(u=u[0],n=(0,r.default)(n,(0,a.default)(u)),u=u.trim()):(u=(0,r.default)(n,0,t),n=(0,r.default)(n,t)),i.push(u)}while((0,a.default)(n));return i};t.default=o},function(e,t,n){var r=n(748);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},function(e,t,n){var r=n(401),a=n(749);e.exports=function e(t,n,i,o,u){var s=-1,c=t.length;for(i||(i=a),u||(u=[]);++s<c;){var l=t[s];n>0&&i(l)?n>1?e(l,n-1,i,o,u):r(u,l):o||(u[u.length]=l)}return u}},function(e,t,n){var r=n(209),a=n(299),i=n(102),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||a(e)||!!(o&&e&&e[o])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(518)),a=o(n(407)),i=o(n(263));function o(e){return e&&e.__esModule?e:{default:e}}var u=["left","right","center"],s=function(e,t,n){if(!(0,a.default)(e))throw new TypeError("Subject parameter value must be a string.");if(!(0,r.default)(t))throw new TypeError("Container width parameter value must be a number.");var o=(0,i.default)(e);if(o>t)throw new Error("Subject parameter value width cannot be greater than the container width.");if(!(0,a.default)(n))throw new TypeError("Alignment parameter value must be a string.");if(!u.includes(n))throw new Error("Alignment parameter value must be a known alignment parameter value (left, right, center).");if(0===o)return" ".repeat(t);var s=t-o;return"left"===n?function(e,t){return e+" ".repeat(t)}(e,s):"right"===n?function(e,t){return" ".repeat(t)+e}(e,s):function(e,t){var n;return(n=t/2)%2===0?" ".repeat(n)+e+" ".repeat(n):(n=Math.floor(n)," ".repeat(n)+e+" ".repeat(n+1))}(e,s)};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(!Array.isArray(e))throw new TypeError("Table data must be an array.");if(0===e.length)throw new Error("Table must define at least one row.");if(0===e[0].length)throw new Error("Table must define at least one column.");var t=e[0].length,n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var u=i.value;if(!Array.isArray(u))throw new TypeError("Table row data must be an array.");if(u.length!==t)throw new Error("Table must have a consistent number of cells.");var s=!0,c=!1,l=void 0;try{for(var f,d=u[Symbol.iterator]();!(s=(f=d.next()).done);s=!0){var h=f.value;if(/[\u0001-\u0006\u0008-\u0009\u000B-\u001A]/.test(h))throw new Error("Table data must not contain control characters.")}}catch(p){c=!0,l=p}finally{try{s||null==d.return||d.return()}finally{if(c)throw l}}}}catch(p){r=!0,a=p}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}};t.default=r},function(e,t,n){var r=n(408),a=n(527),i=n(410),o=n(107),u=n(754),s=n(756),c=n(529),l=n(513),f=n(411),d=/\w*$/;e.exports=function(e,t){var n=30,h="...";if(o(t)){var p="separator"in t?t.separator:p;n="length"in t?l(t.length):n,h="omission"in t?r(t.omission):h}var v=(e=f(e)).length;if(i(e)){var m=c(e);v=m.length}if(n>=v)return e;var g=n-s(h);if(g<1)return h;var b=m?a(m,0,g).join(""):e.slice(0,g);if(void 0===p)return b+h;if(m&&(g+=b.length-g),u(p)){if(e.slice(g).search(p)){var y,x=b;for(p.global||(p=RegExp(p.source,f(d.exec(p))+"g")),p.lastIndex=0;y=p.exec(x);)var _=y.index;b=b.slice(0,void 0===_?g:_)}}else if(e.indexOf(r(p),g)!=g){var w=b.lastIndexOf(p);w>-1&&(b=b.slice(0,w))}return b+h}},function(e,t){e.exports=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}},function(e,t,n){var r=n(755),a=n(301),i=n(302),o=i&&i.isRegExp,u=o?a(o):r;e.exports=u},function(e,t,n){var r=n(146),a=n(108);e.exports=function(e){return a(e)&&"[object RegExp]"==r(e)}},function(e,t,n){var r=n(757),a=n(410),i=n(758);e.exports=function(e){return a(e)?i(e):r(e)}},function(e,t,n){var r=n(528)("length");e.exports=r},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+r+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",l=c+s+("(?:\\u200d(?:"+[i,o,u].join("|")+")"+c+s+")*"),f="(?:"+[i+r+"?",r,o,u,n].join("|")+")",d=RegExp(a+"(?="+a+")|"+f+l,"g");e.exports=function(e){for(var t=d.lastIndex=0;d.test(e);)++t;return t}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+r+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",l=c+s+("(?:\\u200d(?:"+[i,o,u].join("|")+")"+c+s+")*"),f="(?:"+[i+r+"?",r,o,u,n].join("|")+")",d=RegExp(a+"(?="+a+")|"+f+l,"g");e.exports=function(e){return e.match(d)||[]}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=v(n(762)),a=v(n(787)),i=v(n(789)),o=v(n(795)),u=v(n(491)),s=n(490),c=v(n(525)),l=v(n(526)),f=v(n(522)),d=v(n(523)),h=v(n(524)),p=v(n(517));function v(e){return e&&e.__esModule?e:{default:e}}var m=function(e,t){var n;n=(0,c.default)(e),n=(0,l.default)(e,t);var r=(0,p.default)(n,t);return n=(0,f.default)(n,r,t),n=(0,d.default)(n,t),n=(0,h.default)(n,t)},g=function(t,n,r){var a,o=m([t],r).map((function(e){return(0,u.default)(e,r.border)})).join("");a="",a+=(0,s.drawBorderTop)(n,r.border),a+=o,a+=(0,s.drawBorderBottom)(n,r.border),a=(0,i.default)(a),e.stdout.write(a)},b=function(t,n,r){var a=m([t],r).map((function(e){return(0,u.default)(e,r.border)})).join(""),o="",c=(0,s.drawBorderBottom)(n,r.border);"\n"!==c&&(o="\r\x1b[K"),o+=(0,s.drawBorderJoin)(n,r.border),o+=a,o+=c,o=(0,i.default)(o),e.stdout.write(o)},y=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,o.default)(t),i=(0,a.default)((0,r.default)(n.columns,(function(e){return e.width+e.paddingLeft+e.paddingRight})));return e=!0,{write:function(t){if(t.length!==n.columnCount)throw new Error("Row cell count does not match the config.columnCount.");return e?(e=!1,g(t,i,n)):b(t,i,n)}}};t.default=y}).call(this,n(185))},function(e,t,n){var r=n(298),a=n(412),i=n(531);e.exports=function(e,t){var n={};return t=i(t,3),a(e,(function(e,a,i){r(n,a,t(e,a,i))})),n}},function(e,t){e.exports=function(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),u=o.length;u--;){var s=o[e?u:++a];if(!1===n(i[s],s,i))break}return t}}},function(e,t,n){var r=n(765),a=n(776),i=n(535);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(293),a=n(532);e.exports=function(e,t,n,i){var o=n.length,u=o,s=!i;if(null==e)return!u;for(e=Object(e);o--;){var c=n[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<u;){var l=(c=n[o])[0],f=e[l],d=c[1];if(s&&c[2]){if(void 0===f&&!(l in e))return!1}else{var h=new r;if(i)var p=i(f,d,l,e,t,h);if(!(void 0===p?a(d,f,3,i,h):p))return!1}}return!0}},function(e,t,n){var r=n(293),a=n(533),i=n(772),o=n(775),u=n(303),s=n(102),c=n(300),l=n(397),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,g){var b=s(e),y=s(t),x=b?d:u(e),_=y?d:u(t),w=(x=x==f?h:x)==h,O=(_=_==f?h:_)==h,k=x==_;if(k&&c(e)){if(!c(t))return!1;b=!0,w=!1}if(k&&!w)return g||(g=new r),b||l(e)?a(e,t,n,v,m,g):i(e,t,x,n,v,m,g);if(!(1&n)){var j=w&&p.call(e,"__wrapped__"),E=O&&p.call(t,"__wrapped__");if(j||E){var C=j?e.value():e,A=E?t.value():t;return g||(g=new r),m(C,A,n,v,g)}}return!!k&&(g||(g=new r),o(e,t,n,v,m,g))}},function(e,t,n){var r=n(395),a=n(768),i=n(769);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,e.exports=o},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(209),a=n(509),i=n(264),o=n(533),u=n(773),s=n(774),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=u;case"[object Set]":var p=1&r;if(h||(h=s),e.size!=t.size&&!p)return!1;var v=d.get(e);if(v)return v==t;r|=2,d.set(e,t);var m=o(h(e),h(t),r,c,f,d);return d.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(507),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,o,u){var s=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!s)return!1;for(var f=l;f--;){var d=c[f];if(!(s?d in t:a.call(t,d)))return!1}var h=u.get(e),p=u.get(t);if(h&&p)return h==t&&p==e;var v=!0;u.set(e,t),u.set(t,e);for(var m=s;++f<l;){var g=e[d=c[f]],b=t[d];if(i)var y=s?i(b,g,d,t,e,u):i(g,b,d,e,t,u);if(!(void 0===y?g===b||o(g,b,n,i,u):y)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var x=e.constructor,_=t.constructor;x==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof _&&_ instanceof _||(v=!1)}return u.delete(e),u.delete(t),v}},function(e,t,n){var r=n(534),a=n(210);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,r(o)]}return t}},function(e,t,n){var r=n(532),a=n(778),i=n(782),o=n(413),u=n(534),s=n(535),c=n(305);e.exports=function(e,t){return o(e)&&u(t)?s(c(e),t):function(n){var o=a(n,e);return void 0===o&&o===t?i(n,e):r(t,o,3)}}},function(e,t,n){var r=n(536);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},function(e,t,n){var r=n(780),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,n,r,a){t.push(r?a.replace(i,"$1"):n||e)})),t}));e.exports=o},function(e,t,n){var r=n(781);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(395);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},function(e,t,n){var r=n(783),a=n(784);e.exports=function(e,t){return null!=e&&a(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(537),a=n(299),i=n(102),o=n(396),u=n(398),s=n(305);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var d=s(t[c]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&u(l)&&o(d,l)&&(i(e)||a(e))}},function(e,t,n){var r=n(528),a=n(786),i=n(413),o=n(305);e.exports=function(e){return i(e)?r(o(e)):a(e)}},function(e,t,n){var r=n(536);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(788),a=n(210);e.exports=function(e){return null==e?[]:r(e,a(e))}},function(e,t,n){var r=n(409);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},function(e,t,n){var r=n(408),a=n(527),i=n(790),o=n(529),u=n(411),s=n(515);e.exports=function(e,t,n){if((e=u(e))&&(n||void 0===t))return e.slice(0,s(e)+1);if(!e||!(t=r(t)))return e;var c=o(e),l=i(c,o(t))+1;return a(c,0,l).join("")}},function(e,t,n){var r=n(791);e.exports=function(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}},function(e,t,n){var r=n(792),a=n(793),i=n(794);e.exports=function(e,t,n){return t===t?i(e,t,n):r(e,a,n)}},function(e,t){e.exports=function(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}},function(e,t){e.exports=function(e){return e!==e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(392)),a=s(n(512)),i=s(n(404)),o=s(n(406)),u=s(n(516));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},(0,o.default)("honeywell"),e)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,i.default)(e,(function(e){(0,a.default)(t[e])&&(t[e]={}),t[e]=Object.assign({alignment:"left",paddingLeft:1,paddingRight:1,truncate:1/0,wrapWord:!1},n,t[e])})),t},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)("streamConfig.json",e);var t=(0,r.default)(e);if(!t.columnDefault||!t.columnDefault.width)throw new Error("Must provide config.columnDefault.width when creating a stream.");if(!t.columnCount)throw new Error("Must provide config.columnCount.");return t.border=c(t.border),t.columns=l(t.columnCount,t.columns,t.columnDefault),t};t.default=f},function(e,t){},function(e,t,n){"use strict";var r=n(2),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(214)),u=n(168),s=n(132);t.barchart=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(this,void 0,void 0,r.mark((function a(){var i,f,d,h,p,v,m,g,b,y,x,_,w,O,k,j;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=s.getDrawArea(e),f=t,d=Object.assign({},c,n),!l.has(i)){r.next=13;break}if(h=l.get(i),!s.shallowEquals(d,h.lastOptions)){r.next=13;break}return r.next=8,s.nextFrame();case 8:return p=h.view,v=p.changeset().remove((function(){return!0})).insert(f),r.next=12,p.change("values",v).runAsync();case 12:return r.abrupt("return");case 13:return m=d.xLabel,g=d.yLabel,b=d.xType,y=d.yType,x=null,null!=m&&(x={title:m}),_=null,null!=g&&(_={title:g}),w={actions:!1,mode:"vega-lite",defaultStyle:!1},O=null!=d.color?Array.isArray(d.color)?{field:"index",type:"nominal",scale:{range:d.color}}:{value:d.color}:{value:"#4C78A0"},k={width:d.width||u.getDefaultWidth(i),height:d.height||u.getDefaultHeight(i),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:d.fontSize,titleFontSize:d.fontSize},text:{fontSize:d.fontSize},legend:{labelFontSize:d.fontSize,titleFontSize:d.fontSize}},data:{values:f,name:"values"},mark:{type:"bar",tooltip:!0},encoding:{x:{field:"index",type:b,axis:x},y:{field:"value",type:y,axis:_},color:O}},r.next=23,s.nextFrame();case 23:return r.next=25,o.default(i,k,w);case 25:j=r.sent,l.set(i,{view:j.view,lastOptions:d});case 27:case"end":return r.stop()}}),a)})))};var c={xLabel:"",yLabel:"",xType:"ordinal",yType:"quantitative",fontSize:11},l=new Map},function(e,t,n){var r=n(213);e.exports=function(e,t){var n=r(e,t);return n?n.version:null}},function(e,t,n){var r=n(213);e.exports=function(e,t){var n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},function(e,t,n){var r=n(98);e.exports=function(e,t,n,a){"string"===typeof n&&(a=n,n=void 0);try{return new r(e,n).inc(t,a).version}catch(i){return null}}},function(e,t,n){var r=n(213),a=n(415);e.exports=function(e,t){if(a(e,t))return null;var n=r(e),i=r(t),o=n.prerelease.length||i.prerelease.length,u=o?"pre":"",s=o?"prerelease":"";for(var c in n)if(("major"===c||"minor"===c||"patch"===c)&&n[c]!==i[c])return u+c;return s}},function(e,t,n){var r=n(98);e.exports=function(e,t){return new r(e,t).major}},function(e,t,n){var r=n(98);e.exports=function(e,t){return new r(e,t).minor}},function(e,t,n){var r=n(98);e.exports=function(e,t){return new r(e,t).patch}},function(e,t,n){var r=n(213);e.exports=function(e,t){var n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},function(e,t,n){var r=n(130);e.exports=function(e,t,n){return r(t,e,n)}},function(e,t,n){var r=n(130);e.exports=function(e,t){return r(e,t,!0)}},function(e,t,n){var r=n(416);e.exports=function(e,t){return e.sort((function(e,n){return r(e,n,t)}))}},function(e,t,n){var r=n(416);e.exports=function(e,t){return e.sort((function(e,n){return r(n,e,t)}))}},function(e,t,n){var r=n(98),a=n(213),i=n(212),o=i.re,u=i.t;e.exports=function(e,t){if(e instanceof r)return e;if("number"===typeof e&&(e=String(e)),"string"!==typeof e)return null;var n=null;if((t=t||{}).rtl){for(var i;(i=o[u.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&i.index+i[0].length===n.index+n[0].length||(n=i),o[u.COERCERTL].lastIndex=i.index+i[1].length+i[2].length;o[u.COERCERTL].lastIndex=-1}else n=e.match(o[u.COERCE]);return null===n?null:a("".concat(n[2],".").concat(n[3]||"0",".").concat(n[4]||"0"),t)}},function(e,t,n){"use strict";var r=n(166),a=n(167),i=n(812),o=Symbol("max"),u=Symbol("length"),s=Symbol("lengthCalculator"),c=Symbol("allowStale"),l=Symbol("maxAge"),f=Symbol("dispose"),d=Symbol("noDisposeOnSet"),h=Symbol("lruList"),p=Symbol("cache"),v=Symbol("updateAgeOnGet"),m=function(){return 1},g=function(){function e(t){if(r(this,e),"number"===typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!==typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[o]=t.max||1/0;var n=t.length||m;if(this[s]="function"!==typeof n?m:n,this[c]=t.stale||!1,t.maxAge&&"number"!==typeof t.maxAge)throw new TypeError("maxAge must be a number");this[l]=t.maxAge||0,this[f]=t.dispose,this[d]=t.noDisposeOnSet||!1,this[v]=t.updateAgeOnGet||!1,this.reset()}return a(e,[{key:"max",get:function(){return this[o]},set:function(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,x(this)}},{key:"allowStale",get:function(){return this[c]},set:function(e){this[c]=!!e}},{key:"maxAge",get:function(){return this[l]},set:function(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,x(this)}},{key:"lengthCalculator",get:function(){return this[s]},set:function(e){var t=this;"function"!==typeof e&&(e=m),e!==this[s]&&(this[s]=e,this[u]=0,this[h].forEach((function(e){e.length=t[s](e.value,e.key),t[u]+=e.length}))),x(this)}},{key:"length",get:function(){return this[u]}},{key:"itemCount",get:function(){return this[h].length}},{key:"rforEach",value:function(e,t){t=t||this;for(var n=this[h].tail;null!==n;){var r=n.prev;O(this,e,n,t),n=r}}},{key:"forEach",value:function(e,t){t=t||this;for(var n=this[h].head;null!==n;){var r=n.next;O(this,e,n,t),n=r}}},{key:"keys",value:function(){return this[h].toArray().map((function(e){return e.key}))}},{key:"values",value:function(){return this[h].toArray().map((function(e){return e.value}))}},{key:"reset",value:function(){var e=this;this[f]&&this[h]&&this[h].length&&this[h].forEach((function(t){return e[f](t.key,t.value)})),this[p]=new Map,this[h]=new i,this[u]=0}},{key:"dump",value:function(){var e=this;return this[h].map((function(t){return!y(e,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}})).toArray().filter((function(e){return e}))}},{key:"dumpLru",value:function(){return this[h]}},{key:"set",value:function(e,t,n){if((n=n||this[l])&&"number"!==typeof n)throw new TypeError("maxAge must be a number");var r=n?Date.now():0,a=this[s](t,e);if(this[p].has(e)){if(a>this[o])return _(this,this[p].get(e)),!1;var i=this[p].get(e).value;return this[f]&&(this[d]||this[f](e,i.value)),i.now=r,i.maxAge=n,i.value=t,this[u]+=a-i.length,i.length=a,this.get(e),x(this),!0}var c=new w(e,t,a,r,n);return c.length>this[o]?(this[f]&&this[f](e,t),!1):(this[u]+=c.length,this[h].unshift(c),this[p].set(e,this[h].head),x(this),!0)}},{key:"has",value:function(e){if(!this[p].has(e))return!1;var t=this[p].get(e).value;return!y(this,t)}},{key:"get",value:function(e){return b(this,e,!0)}},{key:"peek",value:function(e){return b(this,e,!1)}},{key:"pop",value:function(){var e=this[h].tail;return e?(_(this,e),e.value):null}},{key:"del",value:function(e){_(this,this[p].get(e))}},{key:"load",value:function(e){this.reset();for(var t=Date.now(),n=e.length-1;n>=0;n--){var r=e[n],a=r.e||0;if(0===a)this.set(r.k,r.v);else{var i=a-t;i>0&&this.set(r.k,r.v,i)}}}},{key:"prune",value:function(){var e=this;this[p].forEach((function(t,n){return b(e,n,!1)}))}}]),e}(),b=function(e,t,n){var r=e[p].get(t);if(r){var a=r.value;if(y(e,a)){if(_(e,r),!e[c])return}else n&&(e[v]&&(r.value.now=Date.now()),e[h].unshiftNode(r));return a.value}},y=function(e,t){if(!t||!t.maxAge&&!e[l])return!1;var n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[l]&&n>e[l]},x=function(e){if(e[u]>e[o])for(var t=e[h].tail;e[u]>e[o]&&null!==t;){var n=t.prev;_(e,t),t=n}},_=function(e,t){if(t){var n=t.value;e[f]&&e[f](n.key,n.value),e[u]-=n.length,e[p].delete(n.key),e[h].removeNode(t)}},w=function e(t,n,a,i,o){r(this,e),this.key=t,this.value=n,this.length=a,this.now=i,this.maxAge=o||0},O=function(e,t,n,r){var a=n.value;y(e,a)&&(_(e,n),e[c]||(a=void 0)),a&&t.call(r,a.value,a.key,e)};e.exports=g},function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,a=arguments.length;n<a;n++)t.push(arguments[n]);return t}function a(e,t,n){var r=t===e.head?new u(n,null,t,e):new u(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function i(e,t){e.tail=new u(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new u(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function u(e,t,n,r){if(!(this instanceof u))return new u(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=u,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,a=this.head;null!==a;)n.push(e.call(t,a.value,this)),a=a.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,a=this.tail;null!==a;)n.push(e.call(t,a.value,this)),a=a.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var a=0;null!==r;a++)n=e(n,r.value,a),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var a=this.length-1;null!==r;a--)n=e(n,r.value,a),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var a=0,i=this.head;null!==i&&a<e;a++)i=i.next;for(;null!==i&&a<t;a++,i=i.next)n.push(i.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var a=this.length,i=this.tail;null!==i&&a>t;a--)i=i.prev;for(;null!==i&&a>e;a--,i=i.prev)n.push(i.value);return n},r.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;null!==r&&n<e;n++)r=r.next;var i=[];for(n=0;r&&n<t;n++)i.push(r.value),r=this.removeNode(r);null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(n=0;n<(arguments.length<=2?0:arguments.length-2);n++)r=a(this,r,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return i},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(813)(r)}catch(s){}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e){e.prototype[Symbol.iterator]=r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))}},function(e,t,n){var r=n(131);e.exports=function(e,t){return new r(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))}},function(e,t,n){var r=n(98),a=n(131);e.exports=function(e,t,n){var i=null,o=null,u=null;try{u=new a(t,n)}catch(s){return null}return e.forEach((function(e){u.test(e)&&(i&&-1!==o.compare(e)||(o=new r(i=e,n)))})),i}},function(e,t,n){var r=n(98),a=n(131);e.exports=function(e,t,n){var i=null,o=null,u=null;try{u=new a(t,n)}catch(s){return null}return e.forEach((function(e){u.test(e)&&(i&&1!==o.compare(e)||(o=new r(i=e,n)))})),i}},function(e,t,n){var r=n(98),a=n(131),i=n(309);e.exports=function(e,t){e=new a(e,t);var n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(var o=function(t){var a=e.set[t],o=null;a.forEach((function(e){var t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":o&&!i(t,o)||(o=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(e.operator))}})),!o||n&&!i(n,o)||(n=o)},u=0;u<e.set.length;++u)o(u);return n&&e.test(n)?n:null}},function(e,t,n){var r=n(131);e.exports=function(e,t){try{return new r(e,t).range||"*"}catch(n){return null}}},function(e,t,n){var r=n(420);e.exports=function(e,t,n){return r(e,t,">",n)}},function(e,t,n){var r=n(420);e.exports=function(e,t,n){return r(e,t,"<",n)}},function(e,t,n){var r=n(131);e.exports=function(e,t,n){return e=new r(e,n),t=new r(t,n),e.intersects(t)}},function(e,t,n){var r=n(304),a=n(187),i=n(311),o=n(130);e.exports=function(e,t,n){var u,s=[],c=null,l=null,f=e.sort((function(e,t){return o(e,t,n)})),d=a(f);try{for(d.s();!(u=d.n()).done;){var h=u.value;i(h,t,n)?(l=h,c||(c=h)):(l&&s.push([c,l]),l=null,c=null)}}catch(w){d.e(w)}finally{d.f()}c&&s.push([c,null]);for(var p=[],v=0,m=s;v<m.length;v++){var g=r(m[v],2),b=g[0],y=g[1];b===y?p.push(b):y||b!==f[0]?y?b===f[0]?p.push("<=".concat(y)):p.push("".concat(b," - ").concat(y)):p.push(">=".concat(b)):p.push("*")}var x=p.join(" || "),_="string"===typeof t.raw?t.raw:String(t);return x.length<_.length?x:t}},function(e,t,n){var r=n(187),a=n(131),i=n(310).ANY,o=n(311),u=n(130),s=function(e,t,n){if(e===t)return!0;if(1===e.length&&e[0].semver===i)return 1===t.length&&t[0].semver===i;var a,s,f,d,h=new Set,p=r(e);try{for(p.s();!(f=p.n()).done;){var v=f.value;">"===v.operator||">="===v.operator?a=c(a,v,n):"<"===v.operator||"<="===v.operator?s=l(s,v,n):h.add(v.semver)}}catch(S){p.e(S)}finally{p.f()}if(h.size>1)return null;if(a&&s){if((d=u(a.semver,s.semver,n))>0)return null;if(0===d&&(">="!==a.operator||"<="!==s.operator))return null}var m,g,b,y,x,_=r(h);try{for(_.s();!(m=_.n()).done;){var w=m.value;if(a&&!o(w,String(a),n))return null;if(s&&!o(w,String(s),n))return null;var O,k=r(t);try{for(k.s();!(O=k.n()).done;){var j=O.value;if(!o(w,String(j),n))return!1}}catch(S){k.e(S)}finally{k.f()}return!0}}catch(S){_.e(S)}finally{_.f()}var E,C=r(t);try{for(C.s();!(E=C.n()).done;){var A=E.value;if(x=x||">"===A.operator||">="===A.operator,y=y||"<"===A.operator||"<="===A.operator,a)if(">"===A.operator||">="===A.operator){if((g=c(a,A,n))===A&&g!==a)return!1}else if(">="===a.operator&&!o(a.semver,String(A),n))return!1;if(s)if("<"===A.operator||"<="===A.operator){if((b=l(s,A,n))===A&&b!==s)return!1}else if("<="===s.operator&&!o(s.semver,String(A),n))return!1;if(!A.operator&&(s||a)&&0!==d)return!1}}catch(S){C.e(S)}finally{C.f()}return!(a&&y&&!s&&0!==d)&&!(s&&x&&!a&&0!==d)},c=function(e,t,n){if(!e)return t;var r=u(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},l=function(e,t,n){if(!e)return t;var r=u(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=function(e,t,n){if(e===t)return!0;e=new a(e,n),t=new a(t,n);var i,o=!1,u=r(e.set);try{e:for(u.s();!(i=u.n()).done;){var c,l=i.value,f=r(t.set);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=s(l,d,n);if(o=o||null!==h,h)continue e}}catch(p){f.e(p)}finally{f.f()}if(o)return!1}}catch(p){u.e(p)}finally{u.f()}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleSheet=d;var r,a=n(206),i=(r=a)&&r.__esModule?r:{default:r};function o(e){return e[e.length-1]}function u(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}var s="undefined"!==typeof window,c=!1,l=function(){if(s){var e=document.createElement("div");return e.innerHTML="\x3c!--[if lt IE 10]><i></i><![endif]--\x3e",1===e.getElementsByTagName("i").length}}();function f(){var e=document.createElement("style");return e.type="text/css",e.setAttribute("data-glamor",""),e.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(e),e}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.speedy,n=void 0===t||t,r=e.maxLength,a=void 0===r?s&&l?4e3:65e3:r;this.isSpeedy=n,this.sheet=void 0,this.tags=[],this.maxLength=a,this.ctr=0}(0,i.default)(d.prototype,{getSheet:function(){return u(o(this.tags))},inject:function(){var e=this;if(this.injected)throw new Error("already injected stylesheet!");s?this.tags[0]=f():this.sheet={cssRules:[],insertRule:function(t){e.sheet.cssRules.push({cssText:t})}},this.injected=!0},speedy:function(e){if(0!==this.ctr)throw new Error("cannot change speedy mode after inserting any rule to sheet. Either call speedy("+e+") earlier in your app, or call flush() before speedy("+e+")");this.isSpeedy=!!e},_insert:function(e){try{var t=this.getSheet();t.insertRule(e,-1!==e.indexOf("@import")?0:t.cssRules.length)}catch(n){c}},insert:function(e){if(s)if(this.isSpeedy&&this.getSheet().insertRule)this._insert(e);else if(-1!==e.indexOf("@import")){var t=o(this.tags);t.insertBefore(document.createTextNode(e),t.firstChild)}else o(this.tags).appendChild(document.createTextNode(e));else this.sheet.insertRule(e,-1!==e.indexOf("@import")?0:this.sheet.cssRules.length);return this.ctr++,s&&this.ctr%this.maxLength===0&&this.tags.push(f()),this.ctr-1},delete:function(e){return this.replace(e,"")},flush:function(){s?(this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.sheet=null,this.ctr=0):this.sheet.cssRules=[],this.injected=!1},rules:function(){if(!s)return this.sheet.cssRules;var e=[];return this.tags.forEach((function(t){return e.splice.apply(e,[e.length,0].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array.from(u(t).cssRules))))})),e}})},function(e,t,n){"use strict";var r=n(826),a=/^-ms-/;e.exports=function(e){return r(e.replace(a,"ms-"))}},function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function(e){return e.replace(r,(function(e,t){return t.toUpperCase()}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(828));a(n(543));function a(e){return e&&e.__esModule?e:{default:e}}var i=r.default.isUnitlessNumber;t.default=function(e,t,n){return null==t||"boolean"===typeof t||""===t?"":isNaN(t)||0===t||i.hasOwnProperty(e)&&i[e]?""+t:("string"===typeof t&&(t=t.trim()),t+"px")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowStart:!0,gridRowEnd:!0,gridColumn:!0,gridColumnStart:!0,gridColumnEnd:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var a=["Webkit","ms","Moz","O"];Object.keys(r).forEach((function(e){a.forEach((function(t){r[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=r[e]}))}));var i={isUnitlessNumber:r,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}};t.default=i},function(e,t,n){"use strict";function r(e){return function(){return e}}var a=function(){};a.thatReturns=r,a.thatReturnsFalse=r(!1),a.thatReturnsTrue=r(!0),a.thatReturnsNull=r(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(e){return e},e.exports=a},function(e,t,n){"use strict";var r=n(831),a=/^ms-/;e.exports=function(e){return r(e).replace(a,"-ms-")}},function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},function(e,t,n){"use strict";e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(function(e){return null===e||void 0===e||!1===e||"object"===("undefined"===typeof e?"undefined":r(e))&&0===Object.keys(e).length}(e))return null;if("object"!==("undefined"===typeof e?"undefined":r(e)))return e;for(var t={},n=Object.keys(e),a=!1,o=0;o<n.length;o++){var u=e[n[o]],s=i(u);null!==s&&s===u||(a=!0),null!==s&&(t[n[o]]=s)}return 0===Object.keys(t).length?null:a?t:e}function i(e){return Array.isArray(e)?function(e){var t=!1,n=[];return e.forEach((function(e){var r=i(e);null!==r&&r===e||(t=!0),null!==r&&n.push(r)})),0==n.length?null:t?n:e}(e):a(e)}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.PluginSet=s,t.fallbacks=function(e){if(Object.keys(e.style).map((function(t){return Array.isArray(e.style[t])})).indexOf(!0)>=0){var t=e.style,n=Object.keys(t).reduce((function(e,n){return e[n]=Array.isArray(t[n])?t[n].join("; "+(0,i.processStyleName)(n)+": "):t[n],e}),{});return(0,a.default)({},e,{style:n})}return e},t.contentWrap=function(e){if(e.style.content){var t=e.style.content;return c.indexOf(t)>=0||/^(attr|calc|counters?|url)\(/.test(t)?e:t.charAt(0)!==t.charAt(t.length-1)||'"'!==t.charAt(0)&&"'"!==t.charAt(0)?r({},e,{style:r({},e.style,{content:'"'+t+'"'})}):e}return e},t.prefixes=function(e){return(0,a.default)({},e,{style:(0,o.default)(r({},e.style))})};var a=u(n(206)),i=n(542),o=u(n(835));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){this.fns=e||[]}(0,a.default)(s.prototype,{add:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e.fns.indexOf(t)>=0||(e.fns=[t].concat(e.fns))}))},remove:function(e){this.fns=this.fns.filter((function(t){return t!==e}))},clear:function(){this.fns=[]},transform:function(e){return this.fns.reduce((function(e,t){return t(e)}),e)}});var c=["normal","none","counter","open-quote","close-quote","no-open-quote","no-close-quote","initial","inherit"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t in e){var n=e[t],r=(0,i.default)(g,t,n,e,b);r&&(e[t]=r),(0,a.default)(b,t,e)}return e};var r=m(n(836)),a=m(n(837)),i=m(n(838)),o=m(n(839)),u=m(n(840)),s=m(n(841)),c=m(n(842)),l=m(n(843)),f=m(n(844)),d=m(n(845)),h=m(n(846)),p=m(n(847)),v=m(n(848));function m(e){return e&&e.__esModule?e:{default:e}}var g=[u.default,o.default,s.default,l.default,f.default,d.default,h.default,p.default,v.default,c.default],b=r.default.prefixMap},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["Webkit"],a=["Moz"],i=["ms"],o=["Webkit","Moz"],u=["Webkit","ms"],s=["Webkit","Moz","ms"];t.default={plugins:[],prefixMap:{appearance:o,userSelect:s,textEmphasisPosition:r,textEmphasis:r,textEmphasisStyle:r,textEmphasisColor:r,boxDecorationBreak:r,clipPath:r,maskImage:r,maskMode:r,maskRepeat:r,maskPosition:r,maskClip:r,maskOrigin:r,maskSize:r,maskComposite:r,mask:r,maskBorderSource:r,maskBorderMode:r,maskBorderSlice:r,maskBorderWidth:r,maskBorderOutset:r,maskBorderRepeat:r,maskBorder:r,maskType:r,textDecorationStyle:r,textDecorationSkip:r,textDecorationLine:r,textDecorationColor:r,filter:r,fontFeatureSettings:r,breakAfter:s,breakBefore:s,breakInside:s,columnCount:o,columnFill:o,columnGap:o,columnRule:o,columnRuleColor:o,columnRuleStyle:o,columnRuleWidth:o,columns:o,columnSpan:o,columnWidth:o,writingMode:u,flex:r,flexBasis:r,flexDirection:r,flexGrow:r,flexFlow:r,flexShrink:r,flexWrap:r,alignContent:r,alignItems:r,alignSelf:r,justifyContent:r,order:r,transform:r,transformOrigin:r,transformOriginX:r,transformOriginY:r,backfaceVisibility:r,perspective:r,perspectiveOrigin:r,transformStyle:r,transformOriginZ:r,animation:r,animationDelay:r,animationDirection:r,animationFillMode:r,animationDuration:r,animationIterationCount:r,animationName:r,animationPlayState:r,animationTimingFunction:r,backdropFilter:r,fontKerning:r,scrollSnapType:u,scrollSnapPointsX:u,scrollSnapPointsY:u,scrollSnapDestination:u,scrollSnapCoordinate:u,shapeImageThreshold:r,shapeImageMargin:r,shapeImageOutside:r,hyphens:s,flowInto:u,flowFrom:u,regionFragment:u,textAlignLast:a,tabSize:a,wrapFlow:i,wrapThrough:i,wrapMargin:i,gridTemplateColumns:i,gridTemplateRows:i,gridTemplateAreas:i,gridTemplate:i,gridAutoColumns:i,gridAutoRows:i,gridAutoFlow:i,grid:i,gridRowStart:i,gridColumnStart:i,gridRowEnd:i,gridRow:i,gridColumn:i,gridColumnEnd:i,gridColumnGap:i,gridRowGap:i,gridArea:i,gridGap:i,textSizeAdjust:u,borderImage:r,borderImageOutset:r,borderImageRepeat:r,borderImageSlice:r,borderImageSource:r,borderImageWidth:r,transitionDelay:r,transitionDuration:r,transitionProperty:r,transitionTimingFunction:r}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e.hasOwnProperty(t))for(var r=e[t],a=0,o=r.length;a<o;++a)n[r[a]+(0,i.default)(t)]=n[t]};var r,a=n(544),i=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,a){for(var i=0,o=e.length;i<o;++i){var u=e[i](t,n,r,a);if(u)return u}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&a.hasOwnProperty(t))return r.map((function(e){return e+t}))};var r=["-webkit-","-moz-",""],a={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,i.default)(t)&&t.indexOf("cross-fade(")>-1)return o.map((function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")}))};var r,a=n(270),i=(r=a)&&r.__esModule?r:{default:r};var o=["-webkit-",""];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,i.default)(t)&&t.indexOf("filter(")>-1)return o.map((function(e){return t.replace(/filter\(/g,e+"filter(")}))};var r,a=n(270),i=(r=a)&&r.__esModule?r:{default:r};var o=["-webkit-",""];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&r.hasOwnProperty(t))return r[t]};var r={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){"flexDirection"===e&&"string"===typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal");a.hasOwnProperty(e)&&(n[a[e]]=r[t]||t)};var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},a={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,i.default)(t)&&u.test(t))return o.map((function(e){return e+t}))};var r,a=n(270),i=(r=a)&&r.__esModule?r:{default:r};var o=["-webkit-","-moz-",""],u=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,i.default)(t)&&t.indexOf("image-set(")>-1)return o.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r,a=n(270),i=(r=a)&&r.__esModule?r:{default:r};var o=["-webkit-",""];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(a.hasOwnProperty(e)&&i.hasOwnProperty(t))return r.map((function(e){return e+t}))};var r=["-webkit-","-moz-",""],a={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){if("string"===typeof t&&u.hasOwnProperty(e)){var c=function(e,t){if((0,a.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),i=0,o=n.length;i<o;++i){var u=n[i],c=[u];for(var l in t){var f=(0,r.default)(l);if(u.indexOf(f)>-1&&"order"!==f)for(var d=t[l],h=0,p=d.length;h<p;++h)c.unshift(u.replace(f,s[d[h]]+f))}n[i]=c.join(",")}return n.join(",")}(t,o),l=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return l;var f=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?f:(n["Webkit"+(0,i.default)(e)]=l,n["Moz"+(0,i.default)(e)]=f,c)}};var r=o(n(849)),a=o(n(270)),i=o(n(544));function o(e){return e&&e.__esModule?e:{default:e}}var u={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},s={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e)};var r,a=n(369),i=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)+(e.charCodeAt(t++)<<16)+(e.charCodeAt(t)<<24)}function a(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)}function i(e,t){return(65535&(e|=0))*(t|=0)+(((e>>>16)*t&65535)<<16)|0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=1540483477,o=t^e.length,u=e.length,s=0;for(;u>=4;){var c=r(e,s);c=i(c,n),c=i(c^=c>>>24,n),o=i(o,n),o^=c,s+=4,u-=4}switch(u){case 3:o^=a(e,s),o=i(o^=e.charCodeAt(s+2)<<16,n);break;case 2:o=i(o^=a(e,s),n);break;case 1:o=i(o^=e.charCodeAt(s),n)}return o=i(o^=o>>>13,n),(o^=o>>>15)>>>0}},function(e,t,n){"use strict";var r=n(187),a=n(166),i=n(167),o=n(547),u=n(421),s=n(422);Object.defineProperty(t,"__esModule",{value:!0});var c=n(423),l=n(269),f=n(857),d=n(858),h=function(e){u(n,e);var t=s(n);function n(e){var r;a(this,n),(r=t.call(this,e)).surfaces=new Map;var i=null==e.startOpen||e.startOpen;return r.state={isOpen:i,isFullscreen:!1,activeTab:null,tabs:new Set},r.keyHandler=r.keyHandler.bind(o(r)),r}return i(n,[{key:"close",value:function(){this.setState({isOpen:!1})}},{key:"open",value:function(){this.setState({isOpen:!0})}},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"toggleFullScreen",value:function(){this.setState({isFullscreen:!this.state.isFullscreen})}},{key:"isOpen",value:function(){return this.state.isOpen}},{key:"isFullscreen",value:function(){return this.state.isFullscreen}},{key:"getSurface",value:function(e,t){var n,r=this.surfaceId(e,t);if(!this.surfaces.has(r))throw Error("Surface not found with id: ".concat(r));return{container:(n=this.surfaces.get(r)).container,label:n.label,drawArea:n.drawArea}}},{key:"bindKeys",value:function(){document.addEventListener("keydown",this.keyHandler,!1)}},{key:"unbindKeys",value:function(){document.removeEventListener("keydown",this.keyHandler)}},{key:"surfaceId",value:function(e,t){return e+t}},{key:"setTabs",value:function(e){var t,n,a=e.map((function(e){return e.tab})),i=this.state.tabs,o=r(a);try{for(o.s();!(n=o.n()).done;){var u=n.value;i.has(u)||(i.add(u),t=u)}}catch(s){o.e(s)}finally{o.f()}null!=t&&this.setState({tabs:i,activeTab:t})}},{key:"getTabs",value:function(){return this.state.tabs}},{key:"registerSurface",value:function(e,t,n){var r=this.surfaceId(e,t);this.surfaces.set(r,n)}},{key:"keyHandler",value:function(e){192===e.keyCode&&(e.shiftKey?this.toggleFullScreen():this.toggle())}},{key:"setActiveTab",value:function(e){this.setState({activeTab:e})}},{key:"componentDidMount",value:function(){this.bindKeys()}},{key:"componentWillMount",value:function(){this.setTabs(this.props.surfaceList)}},{key:"componentWillReceiveProps",value:function(e){this.setTabs(e.surfaceList)}},{key:"render",value:function(){var e=this,t=this.state,n=t.isOpen,r=t.isFullscreen,a=t.activeTab,i=this.props.surfaceList,o=Array.from(this.getTabs().values()),u=r?"90vw":"550px",s=l.css({width:u,height:"100%",backgroundColor:"#fafafa",boxSizing:"border-box",padding:"10px",position:"fixed",top:"0px",transition:"right 0.5s cubic-bezier(0.645, 0.045, 0.355, 1), width 0.5s cubic-bezier(0.645, 0.045, 0.355, 1)",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.12), 0 2px 5px rgba(0, 0, 0, 0.24)",overflow:"auto",fontFamily:"sans-serif",fontSize:"14px",zIndex:1e3}),h=l.css({right:"0"}),v=l.css({right:"calc(-".concat(u," - 10px)")}),m=n?h:v,g=l.css({});return c.h("div",{className:"".concat(s," ").concat(m," visor"),"data-isopen":n,"data-isfullscreen":r},c.h(p,{fullScreenHandler:this.toggleFullScreen.bind(this),closeHandler:this.close.bind(this),isFullScreen:r}),c.h(d.Tabs,{tabNames:o,activeTab:a,handleClick:this.setActiveTab.bind(this)}),c.h("div",{className:"".concat(g," visor-surfaces")},i.map((function(t){return c.h(f.SurfaceComponent,{key:t.name+t.tab,name:t.name,tab:t.tab,styles:t.styles,registerSurface:e.registerSurface.bind(e),visible:a===t.tab})}))))}}],[{key:"render",value:function(e,t,r){return c.render(c.h(n,Object.assign({},r)),e,t)}}]),n}(c.Component);function p(e){var t=e.isFullScreen,n=e.fullScreenHandler,r=e.closeHandler,a=l.css({display:"flex",backgroundColor:"white",border:"1px solid white",padding:"6px",paddingTop:"10px",marginBottom:"10px",borderRadius:"6px",marginTop:"-16px"}),i=l.css({fontSize:".875rem",borderRadius:".25rem",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:".5rem",paddingBottom:".5rem",textDecoration:"none",transition:"color .15s ease-in",color:"#111"}),o=l.css({marginLeft:"auto"});return c.h("div",{className:"".concat(a," visor-controls")},c.h("button",{className:"".concat(i),onClick:n},t?"Minimize":"Maximize"),c.h("button",{className:"".concat(i," ").concat(o),onClick:r},"Hide"))}t.VisorComponent=h},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var r=n(856),a=n(547);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?a(e):t}},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){"use strict";var r=n(166),a=n(167),i=n(421),o=n(422);Object.defineProperty(t,"__esModule",{value:!0});var u=n(423),s=n(269),c=function(e){i(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.name,n=e.tab;this.props.registerSurface(t,n,this)}},{key:"componentDidUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this,t=this.props,r=t.name,a=t.visible,i=t.styles,o=Object.assign({},n.defaultStyles,i),c=o.width,l=o.height,f=o.maxHeight,d=o.maxWidth;f=l===n.defaultStyles.height?f:l,d=c===n.defaultStyles.width?d:c;var h=s.css({display:a?"block":"none",backgroundColor:"white",marginTop:"10px",marginBottom:"10px",boxShadow:"0 0 6px -3px #777",padding:"10px !important",height:l,width:c,maxHeight:f,maxWidth:d,overflow:"auto"}),p=s.css({backgroundColor:"white",boxSizing:"border-box",borderBottom:"1px solid #357EDD",lineHeight:"2em",marginBottom:"20px",fontWeight:"600",textAlign:"center"}),v=s.css({boxSizing:"border-box"});return u.h("div",{className:"".concat(h," tf-surface"),ref:function(t){return e.container=t},"data-visible":a},u.h("div",{className:"".concat(p," tf-label"),ref:function(t){return e.label=t}},r),u.h("div",{className:"".concat(v," tf-draw-area"),ref:function(t){return e.drawArea=t}}))}}]),n}(u.Component);c.defaultStyles={maxWidth:"550px",maxHeight:"580px",height:"auto",width:"auto"},t.SurfaceComponent=c},function(e,t,n){"use strict";var r=n(166),a=n(167),i=n(421),o=n(422);Object.defineProperty(t,"__esModule",{value:!0});var u=n(423),s=n(269),c=function(e){i(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){var e=this.props,t=e.tabNames,n=e.activeTab,r=e.handleClick,a=t.length>0?t.map((function(e){return u.h(l,{key:e,id:e,handleClick:r,isActive:e===n},e)})):null,i=s.css({overflowX:"scroll",overflowY:"hidden",whiteSpace:"nowrap",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"#eee",paddingBottom:"1rem",marginTop:"1rem"});return u.h("div",{className:"".concat(i," visor-tabs")},a)}}]),n}(u.Component);t.Tabs=c;var l=function(e){i(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isActive,r=e.handleClick,a=e.id,i=s.css({borderBottomColor:n?"#357EDD":"#AAAAAA",borderBottomWidth:"1px",borderBottomStyle:"solid",cursor:"pointer",":hover":{color:"#357EDD"},display:"inline-block",marginRight:"1rem",padding:".5rem",fontSize:"1rem",fontWeight:"bold"});return u.h("a",{className:"".concat(i," tf-tab"),"data-isactive":n,onClick:function(){return r(a)}},t)}}]),n}(u.Component)},function(e,t,n){"use strict";var r=n(2),a=n(187),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(214)),s=n(168),c=n(132);t.confusionMatrix=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,void 0,void 0,r.mark((function i(){var o,f,d,h,p,v,m,g,b,y,x,_,w,O,k,j,E,C;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(o=Object.assign({},l,n),f=c.getDrawArea(e),d=[],h=t.values,p=t.tickLabels||[],v=0===p.length,m=!0,g=0;g<h.length;g++)for(b=v?"Class ".concat(g):p[g],v&&p.push(b),y=0;y<h[g].length;y++)x=v?"Class ".concat(y):p[y],_=h[g][y],g!==y||o.shadeDiagonal?(d.push({label:b,prediction:x,count:_,scaleCount:_}),0!==_&&(m=!1)):d.push({label:b,prediction:x,count:_,noFill:!0});if(!o.shadeDiagonal&&m){w=a(d);try{for(w.s();!(O=w.n()).done;)!0===(k=O.value).noFill&&(k.noFill=!1,k.scaleCount=k.count)}catch(i){w.e(i)}finally{w.f()}}return j={actions:!1,mode:"vega-lite",defaultStyle:!1},E={width:o.width||s.getDefaultWidth(f),height:o.height||s.getDefaultHeight(f),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:o.fontSize,titleFontSize:o.fontSize},text:{fontSize:o.fontSize},legend:{labelFontSize:o.fontSize,titleFontSize:o.fontSize}},data:{values:d},encoding:{x:{field:"prediction",type:"ordinal",title:o.xLabel||"prediction",scale:{domain:p}},y:{field:"label",type:"ordinal",title:o.yLabel||"label",scale:{domain:p}}},layer:[{transform:[{filter:"datum.noFill != true"}],mark:{type:"rect"},encoding:{color:{field:"scaleCount",type:"quantitative",scale:{range:o.colorMap}},tooltip:[{field:"label",type:"nominal"},{field:"prediction",type:"nominal"},{field:"count",type:"quantitative"}]}}]},!1===o.shadeDiagonal&&E.layer.push({transform:[{filter:"datum.noFill == true"}],mark:{type:"rect",fill:"white"},encoding:{tooltip:[{field:"label",type:"nominal"},{field:"prediction",type:"nominal"},{field:"count",type:"quantitative"}]}}),o.showTextOverlay&&E.layer.push({mark:{type:"text",baseline:"middle"},encoding:{text:{field:"count",type:"nominal"}}}),C="string"===typeof o.colorMap?{scheme:o.colorMap}:o.colorMap,E.layer[0].encoding.color.scale.range=C,r.next=17,u.default(f,E,j);case 17:case"end":return r.stop()}}),i)})))};var l={xLabel:null,yLabel:null,xType:"nominal",yType:"nominal",shadeDiagonal:!0,fontSize:12,showTextOverlay:!0,height:400,colorMap:["#f7fbff","#4292c6"]}},function(e,t,n){"use strict";var r=n(2),a=n(304),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(0)),c=u(n(214)),l=n(168),f=n(312),d=n(132);function h(e){return i(this,void 0,void 0,r.mark((function t(){var n,a,i,o;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e instanceof s.Tensor?(n=e.shape,a=e.transpose()):(n=[e.length,e[0].length],a=s.tidy((function(){return s.tensor2d(e).transpose()}))),f.assert(2===a.rank,"Input to renderHeatmap must be a 2d array or Tensor2d"),t.next=4,a.array();case 4:return i=t.sent,a.dispose(),o=[i.length,i[0].length],f.assert(n[0]===o[1]&&n[1]===o[0],"Unexpected transposed shape. Original ".concat(n," : Transposed ").concat(o)),t.abrupt("return",i);case 9:case"end":return t.stop()}}),t)})))}function p(e,t,n){var r=e instanceof s.Tensor?e.shape:[e.length,e[0].length];0===n?f.assert(r[0]===t.length,"Length of xTickLabels (".concat(t.length,") must match number of rows")+" (".concat(r[0],")")):1===n&&f.assert(r[1]===t.length,"Length of yTickLabels (".concat(t.length,") must match number of columns (").concat(r[1],")"))}t.heatmap=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,void 0,void 0,r.mark((function i(){var o,u,m,g,b,y,x,_,w,O,k,j,E,C,A,S,D,N,F,T,M,I,R,P,B,z,L,U;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=Object.assign({},v,n),u=d.getDrawArea(e),m=t.values,!o.rowMajor){r.next=7;break}return r.next=6,h(t.values);case 6:m=r.sent;case 7:if(g=t.xTickLabels,b=t.yTickLabels,null!=g&&(0,p(m,g,0)),null!=b&&(1,p(m,b,1)),y="@tfidx@",x=[],!(m instanceof s.Tensor)){r.next=21;break}return f.assert(2===m.rank,"Input to renderHeatmap must be a 2d array or Tensor2d"),r.next=16,m.data();case 16:for(_=r.sent,w=a(m.shape,2),O=w[0],k=w[1],j=0;j<O;j++)for(E=g?"".concat(g[j]).concat(y).concat(j):j,C=0;C<k;C++)A=b?"".concat(b[C]).concat(y).concat(C):C,S=_[j*k+C],x.push({x:E,y:A,value:S});r.next=23;break;case 21:for(D=m,N=0;N<D.length;N++)for(F=g?"".concat(g[N]).concat(y).concat(N):N,T=0;T<D[N].length;T++)M=b?"".concat(b[T]).concat(y).concat(T):T,I=D[N][T],x.push({x:F,y:M,value:I});case 23:R={actions:!1,mode:"vega-lite",defaultStyle:!1},P={width:o.width||l.getDefaultWidth(u),height:o.height||l.getDefaultHeight(u),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:o.fontSize,titleFontSize:o.fontSize},text:{fontSize:o.fontSize},legend:{labelFontSize:o.fontSize,titleFontSize:o.fontSize},scale:{bandPaddingInner:0,bandPaddingOuter:0}},data:{values:x},mark:{type:"rect",tooltip:!0},encoding:{x:{field:"x",type:o.xType,title:o.xLabel,sort:!1},y:{field:"y",type:o.yType,title:o.yLabel,sort:!1},fill:{field:"value",type:"quantitative"}}},B="".concat(y,"\\d+$"),z=new RegExp(B),g&&(P.encoding.x.axis={labelExpr:"replace(datum.value, regexp(/".concat(B,"/), '')")}),b&&(P.encoding.y.axis={labelExpr:"replace(datum.value, regexp(/".concat(B,"/), '')")}),(g||b)&&(R.tooltip={sanitize:function(e){return String(e).replace(z,"")}}),r.t0=o.colorMap,r.next="blues"===r.t0?33:"greyscale"===r.t0?35:(r.t0,37);break;case 33:return L=["#f7fbff","#4292c6"],r.abrupt("break",39);case 35:return L=["#000000","#ffffff"],r.abrupt("break",39);case 37:return L="viridis",r.abrupt("break",39);case 39:return"viridis"!==L&&(P.encoding.fill.scale={range:L}),o.domain&&(null!=(U=P.encoding.fill).scale?U.scale=Object.assign({},U.scale,{domain:o.domain}):U.scale={domain:o.domain}),r.next=43,c.default(u,P,R);case 43:case"end":return r.stop()}}),i)})))};var v={xLabel:null,yLabel:null,xType:"ordinal",yType:"ordinal",colorMap:"viridis",fontSize:12,domain:null,rowMajor:!1}},function(e,t,n){"use strict";var r=n(2),a=n(208),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(214)),s=n(168),c=n(312),l=n(132);t.scatterplot=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,void 0,void 0,r.mark((function i(){var o,d,h,p,v,m,g,b,y;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t.values,d=null==t.series?[]:t.series,o=Array.isArray(o[0])?o:[o],h=[],o.forEach((function(e,t){var n=null!=d[t]?d[t]:"Series ".concat(t+1),r=e.map((function(e){return Object.assign({},e,{series:n})}));h.push.apply(h,a(r))})),null!=n.seriesColors&&c.assert(n.seriesColors.length===o.length,"Must have an equal number of series colors as there are data series"),p=l.getDrawArea(e),v=Object.assign({},f,n),m={actions:!1,mode:"vega-lite",defaultStyle:!1},g=function(){return v.zoomToFit?{zero:!1}:null!=v.xAxisDomain?{domain:v.xAxisDomain}:void 0},b=function(){return v.zoomToFit?{zero:!1}:null!=v.yAxisDomain?{domain:v.yAxisDomain}:void 0},y={width:v.width||s.getDefaultWidth(p),height:v.height||s.getDefaultHeight(p),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:v.fontSize,titleFontSize:v.fontSize},text:{fontSize:v.fontSize},legend:{labelFontSize:v.fontSize,titleFontSize:v.fontSize}},data:{values:h},mark:{type:"point",clip:!0,tooltip:{content:"data"}},encoding:{x:{field:"x",type:v.xType,title:v.xLabel,scale:g()},y:{field:"y",type:v.yType,title:v.yLabel,scale:b()},color:{field:"series",type:"nominal",scale:{range:v.seriesColors}},shape:{field:"series",type:"nominal"}}},r.next=14,u.default(p,y,m);case 14:return r.abrupt("return",Promise.resolve());case 15:case"end":return r.stop()}}),i)})))};var f={xLabel:"x",yLabel:"y",xType:"quantitative",yType:"quantitative",zoomToFit:!1,fontSize:11}},function(e,t,n){"use strict";var r=n(863),a=n(2),i=n(187),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=n(548),s=n(132),c=n(168);function l(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o(this,void 0,void 0,a.mark((function o(){var l,h,p,v,m,g,b,y,x,_,w,O,k,j,E,C,A,S;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:l=s.getDrawArea(e),h={},p=i(n);try{for(p.s();!(v=p.n()).done;)m=v.value,/val_/.test(m)?(b=m.replace("val_",""),f(h,b),y=d(t,m,n.indexOf(m)),h[b].series.push(m),h[b].values.push(y)):(g=d(t,m,n.indexOf(m)),f(h,m),h[m].series.push(m),h[m].values.push(g))}catch(o){p.e(o)}finally{p.f()}for(x=Object.keys(h),_=Object.assign({},{xLabel:"Iteration",yLabel:"Value"},r),w=[],O=0,k=x;O<k.length;O++)j=k[O],E=c.subSurface(l,j),C=h[j].series,A=h[j].values,C.every((function(e){return Boolean(e.match("acc"))}))&&(_.zoomToFitAccuracy?_.zoomToFit=!0:(_.yAxisDomain=[0,1],delete _.zoomToFit)),S=u.linechart(E,{values:A,series:C},_),w.push(S);return a.next=10,Promise.all(w);case 10:case"end":return a.stop()}}),o)})))}function f(e,t){null==e[t]&&(e[t]={series:[],values:[]})}function d(e,t,n){if(Array.isArray(e)){for(var r=Array.isArray(e[0])?e[n]:e,a=[],i=0;i<r.length;i++){var o=r[i];a.push({x:i,y:o[t]})}return a}return e.history[t].map((function(e,t){return{x:t,y:e}}))}function h(e,t,n){return null==e[t]&&(e[t]={}),null==e[t][n]&&(e[t][n]=[]),e[t][n]}t.history=l,t.fitCallbacks=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u={},f=n.callbacks||["onEpochEnd","onBatchEnd"],d=s.getDrawArea(e),p=Object.assign({},n);function v(e){var n=this;return function(f,v){return o(n,void 0,void 0,a.mark((function n(){var o,f,m,g,b,y;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:/batch/i.test(e)?p.xLabel="Batch":/epoch/i.test(e)&&(p.xLabel="Epoch"),o=[],f=[],m=i(t);try{for(m.s();!(g=m.n()).done;)b=g.value,null!=v[b]&&(f.push(b),(y=h(u,e,b)).push(r({},b,v[b])),o.push(y))}catch(a){m.e(a)}finally{m.f()}return l(c.subSurface(d,e,{title:e}),o,f,p),n.next=9,s.nextFrame();case 9:case"end":return n.stop()}}),n)})))}}delete p.callbacks;var m={};return f.forEach((function(e){m[e]=v(e)})),m}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r=n(2),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(424),o=n(132),u=n(314),s=n(168),c=n(313);function l(e){return{layers:e.layers.map(f)}}function f(e){var t;if(Array.isArray(e.outputShape[0])){var n=e.outputShape.map((function(e){return h(e)}));t="[".concat(n.join(", "),"]")}else t=h(e.outputShape);return{name:e.name,trainable:e.trainable,parameters:e.countParams(),outputShape:t}}function d(e){return a(this,void 0,void 0,r.mark((function t(){var n,a,i,o,u;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getWeights(),a=e.weights,i=n.map(c.tensorStats),t.next=5,Promise.all(i);case 5:return o=t.sent,u=n.map((function(e){return e.shape})),t.abrupt("return",n.map((function(e,t){return{name:a[t].name,stats:o[t],shape:h(u[t]),weight:e}})));case 8:case"end":return t.stop()}}),t)})))}function h(e){var t=e.slice();return 0===t.length?"Scalar":(null===t[0]&&(t[0]="batch"),"[".concat(t.join(","),"]"))}function p(e,t,n){var r="\n    <select>\n      ".concat(e.map((function(e){return"<option value=".concat(e,">").concat(e,"</option>")})),"\n    </select>\n  "),a="<div>".concat("<button>Show Values Distribution for:</button>").concat(r,"</div>");t.innerHTML=a;var i=t.querySelector("button"),o=t.querySelector("select");i.addEventListener("click",(function(){n(o.selectedOptions[0].label)}))}t.modelSummary=function(e,t){return a(this,void 0,void 0,r.mark((function n(){var a,i,s,c;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=o.getDrawArea(e),i=l(t),s=["Layer Name","Output Shape","# Of Params","Trainable"],c=i.layers.map((function(e){return[e.name,e.outputShape,e.parameters,e.trainable]})),u.table(a,{headers:s,values:c});case 5:case"end":return n.stop()}}),n)})))},t.layer=function(e,t){return a(this,void 0,void 0,r.mark((function n(){var c,l,f,h,v,m,g,b,y=this;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=o.getDrawArea(e),n.next=3,d(t);case 3:l=n.sent,f=["Weight Name","Shape","Min","Max","# Params","# Zeros","# NaNs","# Infinity"],h=s.subSurface(c,"layer-weights-info"),v=l.map((function(e){return[e.name,e.shape,e.stats.min,e.stats.max,e.weight.size,e.stats.numZeros,e.stats.numNans,e.stats.numInfs]})),u.table(h,{headers:f,values:v}),m=s.subSurface(c,"select-layer"),g=s.subSurface(c,"param-distribution"),b=function(e){return a(y,void 0,void 0,r.mark((function t(){var n,a;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.filter((function(t){return t.name===e}))[0],t.next=3,n.weight.data();case 3:a=t.sent,i.histogram(g,a,{height:150,width:460,stats:!1});case 5:case"end":return t.stop()}}),t)})))},p(l.map((function(e){return e.name})),m,b);case 12:case"end":return n.stop()}}),n)})))}},function(e,t,n){"use strict";var r=n(2),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(132),o=n(314);t.perClassAccuracy=function(e,t,n){return a(this,void 0,void 0,r.mark((function a(){var u,s,c,l,f,d;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(u=i.getDrawArea(e),s=["Class","Accuracy","# Samples"],c=[],l=0;l<t.length;l++)f=n?n[l]:l.toString(),d=t[l],c.push([f,d.accuracy,d.count]);return r.abrupt("return",o.table(u,{headers:s,values:c}));case 5:case"end":return r.stop()}}),a)})))}},function(e,t,n){"use strict";var r=n(2),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,u)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(424),o=n(132),u=n(313);t.valuesDistribution=function(e,t){return a(this,void 0,void 0,r.mark((function n(){var a,s,c;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=o.getDrawArea(e),n.next=3,u.tensorStats(t);case 3:return s=n.sent,n.next=6,t.data();case 6:c=n.sent,i.histogram(a,c,{height:150,stats:s});case 8:case"end":return n.stop()}}),n)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.version="1.5.0"},function(e,t,n){},function(e,t,n){"use strict";var r=n(870);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,a=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,x=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case f:case d:case o:case s:case u:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case m:case c:return e;default:return t}}case i:return t}}}function O(e){return w(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=a,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=u,t.Suspense=p,t.isAsyncMode=function(e){return O(e)||w(e)===f},t.isConcurrentMode=O,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===u},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===u||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===y||e.$$typeof===x||e.$$typeof===_||e.$$typeof===b)},t.typeOf=w},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(430).default;function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=i?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(939)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,r,a,i){var o=r||"<<anonymous>>",u=i||n;if(null==t[n])return new Error("The "+a+" `"+u+"` is required to make `"+o+"` accessible for users of assistive technologies such as screen readers.");for(var s=arguments.length,c=Array(s>5?s-5:0),l=5;l<s;l++)c[l-5]=arguments[l];return e.apply(void 0,[t,n,r,a,i].concat(c))}},e.exports=t.default},function(e,t,n){"use strict";e.exports=n(877)},function(e,t,n){"use strict";var r=60103,a=60106,i=60107,o=60108,u=60114,s=60109,c=60110,l=60112,f=60113,d=60120,h=60115,p=60116,v=60121,m=60122,g=60117,b=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var x=Symbol.for;r=x("react.element"),a=x("react.portal"),i=x("react.fragment"),o=x("react.strict_mode"),u=x("react.profiler"),s=x("react.provider"),c=x("react.context"),l=x("react.forward_ref"),f=x("react.suspense"),d=x("react.suspense_list"),h=x("react.memo"),p=x("react.lazy"),v=x("react.block"),m=x("react.server.block"),g=x("react.fundamental"),b=x("react.debug_trace_mode"),y=x("react.legacy_hidden")}function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case u:case o:case f:case d:return e;default:switch(e=e&&e.$$typeof){case c:case l:case p:case h:case s:return e;default:return t}}case a:return t}}}var w=s,O=r,k=l,j=i,E=p,C=h,A=a,S=u,D=o,N=f;t.ContextConsumer=c,t.ContextProvider=w,t.Element=O,t.ForwardRef=k,t.Fragment=j,t.Lazy=E,t.Memo=C,t.Portal=A,t.Profiler=S,t.StrictMode=D,t.Suspense=N,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===l},t.isFragment=function(e){return _(e)===i},t.isLazy=function(e){return _(e)===p},t.isMemo=function(e){return _(e)===h},t.isPortal=function(e){return _(e)===a},t.isProfiler=function(e){return _(e)===u},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===u||e===b||e===o||e===f||e===d||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===s||e.$$typeof===c||e.$$typeof===l||e.$$typeof===g||e.$$typeof===v||e[0]===m)},t.typeOf=_},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),o=l(i),u=l(n(188)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(891)),c=l(n(427));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=t.Alpha=function(e){function t(){var e,n,r;f(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleChange=function(e){var t=s.calculateChange(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&"function"===typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},d(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,u.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:r({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return o.default.createElement("div",{style:n.alpha},o.default.createElement("div",{style:n.checkboard},o.default.createElement(c.default,{renderers:this.props.renderers})),o.default.createElement("div",{style:n.gradient}),o.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("div",{style:n.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:n.slider}))))}}]),t}(i.PureComponent||i.Component);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=u(n(407)),a=u(n(426)),i=u(n(549)),o=u(n(883));function u(e){return e&&e.__esModule?e:{default:e}}var s=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,o.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,i.default)(t)?(0,a.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=s},function(e,t,n){var r=n(409),a=n(531),i=n(884),o=n(102);e.exports=function(e,t){return(o(e)?r:i)(e,a(t,3))}},function(e,t,n){var r=n(550),a=n(211);e.exports=function(e,t){var n=-1,i=a(e)?Array(e.length):[];return r(e,(function(e,r,a){i[++n]=t(e,r,a)})),i}},function(e,t,n){var r=n(211);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var i=n.length,o=t?i:-1,u=Object(n);(t?o--:++o<i)&&!1!==a(u[o],o,u););return n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=o(n(426)),a=o(n(392)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e){return e&&e.__esModule?e:{default:e}}var u=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,a.default)(e.default)||{};return t.map((function(t){var a=e[t];return a&&(0,r.default)(a,(function(e,t){n[t]||(n[t]={}),n[t]=i({},n[t],a[t])})),t})),n};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,a=n(426),i=(r=a)&&r.__esModule?r:{default:r},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var u={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},s=t.autoprefix=function(e){var t={};return(0,i.default)(e,(function(e,n){var r={};(0,i.default)(e,(function(e,t){var n=u[t];n?r=o({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(4),o=(r=i)&&r.__esModule?r:{default:r};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,i,c;u(this,r);for(var l=arguments.length,f=Array(l),d=0;d<l;d++)f[d]=arguments[d];return i=c=s(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),c.state={hover:!1},c.handleMouseOver=function(){return c.setState({hover:!0})},c.handleMouseOut=function(){return c.setState({hover:!1})},c.render=function(){return o.default.createElement(t,{onMouseOver:c.handleMouseOver,onMouseOut:c.handleMouseOut},o.default.createElement(e,a({},c.props,c.state)))},s(c,i)}return c(r,n),r}(o.default.Component)};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(4),o=(r=i)&&r.__esModule?r:{default:r};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,i,c;u(this,r);for(var l=arguments.length,f=Array(l),d=0;d<l;d++)f[d]=arguments[d];return i=c=s(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),c.state={active:!1},c.handleMouseDown=function(){return c.setState({active:!0})},c.handleMouseUp=function(){return c.setState({active:!1})},c.render=function(){return o.default.createElement(t,{onMouseDown:c.handleMouseDown,onMouseUp:c.handleMouseUp},o.default.createElement(e,a({},c.props,c.state)))},s(c,i)}return c(r,n),r}(o.default.Component)};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2===0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r,a){var i=a.clientWidth,o=a.clientHeight,u="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,c=u-(a.getBoundingClientRect().left+window.pageXOffset),l=s-(a.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var f=void 0;if(f=l<0?0:l>o?1:Math.round(100*l/o)/100,t.a!==f)return{h:t.h,s:t.s,l:t.l,a:f,source:"rgb"}}else{var d=void 0;if(r!==(d=c<0?0:c>i?1:Math.round(100*c/i)/100))return{h:t.h,s:t.s,l:t.l,a:d,source:"rgb"}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},a=t.render=function(e,t,n,r){if("undefined"===typeof document&&!r)return null;var a=r?new r:document.createElement("canvas");a.width=2*n,a.height=2*n;var i=a.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,a.width,a.height),i.fillStyle=t,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),a.toDataURL()):null};t.get=function(e,t,n,i){var o=e+"-"+t+"-"+n+(i?"-server":"");if(r[o])return r[o];var u=a(e,t,n,i);return r[o]=u,u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),i=u(a),o=u(n(188));function u(e){return e&&e.__esModule?e:{default:e}}var s=[38,40],c=1,l=t.EditableInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t,r=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(r)&&(t=e.keyCode,s.indexOf(t)>-1)){var a=n.getArrowOffset(),i=38===e.keyCode?r+a:r-a;n.setUpdatedValue(i,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId="rc-editable-input-"+c++,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=(0,o.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return i.default.createElement("div",{style:t.wrap},i.default.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?i.default.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(a.PureComponent||a.Component);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),i=s(a),o=s(n(188)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(895));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=t.Hue=function(e){function t(){var e,n,r;c(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleChange=function(e){var t=u.calculateChange(e,r.props.direction,r.props.hsl,r.container);t&&"function"===typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},l(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,o.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return i.default.createElement("div",{style:r.hue},i.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),i.default.createElement("div",{style:r.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:r.slider}))))}}]),t}(a.PureComponent||a.Component);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){var a=r.clientWidth,i=r.clientHeight,o="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,s=o-(r.getBoundingClientRect().left+window.pageXOffset),c=u-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var l=void 0;if(c<0)l=359;else if(c>i)l=0;else{l=360*(-100*c/i+100)/100}if(n.h!==l)return{h:l,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var f=void 0;if(s<0)f=0;else if(s>a)f=359;else{f=360*(100*s/a)/100}if(n.h!==f)return{h:f,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var r=u(n(4)),a=u(n(26)),i=u(n(188)),o=u(n(897));function u(e){return e&&e.__esModule?e:{default:e}}var s=t.Raised=function(e){var t=e.zDepth,n=e.radius,a=e.background,u=e.children,s=e.styles,c=void 0===s?{}:s,l=(0,i.default)((0,o.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:a}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},c),{"zDepth-1":1===t});return r.default.createElement("div",{style:l.wrap},r.default.createElement("div",{style:l.bg}),r.default.createElement("div",{style:l.content},u))};s.propTypes={background:a.default.string,zDepth:a.default.oneOf([0,1,2,3,4,5]),radius:a.default.number,styles:a.default.object},s.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},t.default=s},function(e,t,n){var r=n(898),a=n(902)((function(e,t,n){r(e,t,n)}));e.exports=a},function(e,t,n){var r=n(293),a=n(551),i=n(530),o=n(899),u=n(107),s=n(266),c=n(552);e.exports=function e(t,n,l,f,d){t!==n&&i(n,(function(i,s){if(d||(d=new r),u(i))o(t,n,s,l,e,f,d);else{var h=f?f(c(t,s),i,s+"",t,n,d):void 0;void 0===h&&(h=i),a(t,s,h)}}),s)}},function(e,t,n){var r=n(551),a=n(503),i=n(510),o=n(504),u=n(511),s=n(299),c=n(102),l=n(900),f=n(300),d=n(394),h=n(107),p=n(549),v=n(397),m=n(552),g=n(901);e.exports=function(e,t,n,b,y,x,_){var w=m(e,n),O=m(t,n),k=_.get(O);if(k)r(e,n,k);else{var j=x?x(w,O,n+"",e,t,_):void 0,E=void 0===j;if(E){var C=c(O),A=!C&&f(O),S=!C&&!A&&v(O);j=O,C||A||S?c(w)?j=w:l(w)?j=o(w):A?(E=!1,j=a(O,!0)):S?(E=!1,j=i(O,!0)):j=[]:p(O)||s(O)?(j=w,s(w)?j=g(w):h(w)&&!d(w)||(j=u(O))):E=!1}E&&(_.set(O,j),y(j,O,b,x,_),_.delete(O)),r(e,n,j)}}},function(e,t,n){var r=n(211),a=n(108);e.exports=function(e){return a(e)&&r(e)}},function(e,t,n){var r=n(265),a=n(266);e.exports=function(e){return r(e,a(e))}},function(e,t,n){var r=n(903),a=n(910);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,u&&a(n[0],n[1],u)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))}},function(e,t,n){var r=n(267),a=n(904),i=n(906);e.exports=function(e,t){return i(a(e,t,r),e+"")}},function(e,t,n){var r=n(905),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,u=a(i.length-t,0),s=Array(u);++o<u;)s[o]=i[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=i[o];return c[t]=n(s),r(e,this,c)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(907),a=n(909)(r);e.exports=a},function(e,t,n){var r=n(908),a=n(499),i=n(267),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=o},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var a=n(),i=16-(a-r);if(r=a,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(264),a=n(211),i=n(396),o=n(107);e.exports=function(e,t,n){if(!o(n))return!1;var u=typeof t;return!!("number"==u?a(n)&&i(t,n.length):"string"==u&&t in n)&&r(n[t],e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),i=c(a),o=c(n(188)),u=c(n(912)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(914));function c(e){return e&&e.__esModule?e:{default:e}}var l=t.Saturation=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){"function"===typeof n.props.onChange&&n.throttle(n.props.onChange,s.calculateChange(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener("mousemove",n.handleChange),t.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,u.default)((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,a=t.black,u=t.pointer,s=t.circle,c=(0,o.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:a,pointer:u,circle:s}},{custom:!!this.props.style});return i.default.createElement("div",{style:c.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),i.default.createElement("div",{style:c.white,className:"saturation-white"},i.default.createElement("div",{style:c.black,className:"saturation-black"}),i.default.createElement("div",{style:c.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:c.circle}))))}}]),t}(a.PureComponent||a.Component);t.default=l},function(e,t,n){var r=n(553),a=n(107);e.exports=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:i,maxWait:t,trailing:o})}},function(e,t,n){var r=n(129);e.exports=function(){return r.Date.now()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n){var r=n.getBoundingClientRect(),a=r.width,i=r.height,o="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,s=o-(n.getBoundingClientRect().left+window.pageXOffset),c=u-(n.getBoundingClientRect().top+window.pageYOffset);s<0?s=0:s>a&&(s=a),c<0?c=0:c>i&&(c=i);var l=s/a,f=1-c/i;return{h:t.h,s:l,v:f,a:t.a,source:"hsv"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),o=c(i),u=c(n(553)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(432));function c(e){return e&&e.__esModule?e:{default:e}}var l=t.ColorWrap=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(s.simpleCheckForValidColor(e)){var r=s.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(s.simpleCheckForValidColor(e)){var r=s.toState(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=r({},s.toState(e.color,0)),t.debounce=(0,u.default)((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),a(n,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),o.default.createElement(e,r({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return r({},s.toState(e.color,t.oldHue))}}]),n}(i.PureComponent||i.Component);return t.propTypes=r({},e.propTypes),t.defaultProps=r({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=l},function(e,t,n){e.exports=n(917)},function(e,t,n){var r=n(497),a=n(550),i=n(405),o=n(102);e.exports=function(e,t){return(o(e)?r:a)(e,i(t))}},function(e,t,n){var r;!function(a){var i=/^\s+/,o=/\s+$/,u=0,s=a.round,c=a.min,l=a.max,f=a.random;function d(e,t){if(t=t||{},(e=e||"")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,u=null,s=null,f=!1,d=!1;"string"==typeof e&&(e=function(e){e=e.replace(i,"").replace(o,"").toLowerCase();var t,n=!1;if(D[e])e=D[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=L.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=L.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=L.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=L.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=L.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=L.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=L.hex8.exec(e))return{r:I(t[1]),g:I(t[2]),b:I(t[3]),a:z(t[4]),format:n?"name":"hex8"};if(t=L.hex6.exec(e))return{r:I(t[1]),g:I(t[2]),b:I(t[3]),format:n?"name":"hex"};if(t=L.hex4.exec(e))return{r:I(t[1]+""+t[1]),g:I(t[2]+""+t[2]),b:I(t[3]+""+t[3]),a:z(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=L.hex3.exec(e))return{r:I(t[1]+""+t[1]),g:I(t[2]+""+t[2]),b:I(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(U(e.r)&&U(e.g)&&U(e.b)?(h=e.r,p=e.g,v=e.b,t={r:255*T(h,255),g:255*T(p,255),b:255*T(v,255)},f=!0,d="%"===String(e.r).substr(-1)?"prgb":"rgb"):U(e.h)&&U(e.s)&&U(e.v)?(r=P(e.s),u=P(e.v),t=function(e,t,n){e=6*T(e,360),t=T(t,100),n=T(n,100);var r=a.floor(e),i=e-r,o=n*(1-t),u=n*(1-i*t),s=n*(1-(1-i)*t),c=r%6;return{r:255*[n,u,o,o,s,n][c],g:255*[s,n,n,u,o,o][c],b:255*[o,o,s,n,n,u][c]}}(e.h,r,u),f=!0,d="hsv"):U(e.h)&&U(e.s)&&U(e.l)&&(r=P(e.s),s=P(e.l),t=function(e,t,n){var r,a,i;function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=T(e,360),t=T(t,100),n=T(n,100),0===t)r=a=i=n;else{var u=n<.5?n*(1+t):n+t-n*t,s=2*n-u;r=o(s,u,e+1/3),a=o(s,u,e),i=o(s,u,e-1/3)}return{r:255*r,g:255*a,b:255*i}}(e.h,r,s),f=!0,d="hsl"),e.hasOwnProperty("a")&&(n=e.a));var h,p,v;return n=F(n),{ok:f,format:e.format||d,r:c(255,l(t.r,0)),g:c(255,l(t.g,0)),b:c(255,l(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=s(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=s(this._r)),this._g<1&&(this._g=s(this._g)),this._b<1&&(this._b=s(this._b)),this._ok=n.ok,this._tc_id=u++}function h(e,t,n){e=T(e,255),t=T(t,255),n=T(n,255);var r,a,i=l(e,t,n),o=c(e,t,n),u=(i+o)/2;if(i==o)r=a=0;else{var s=i-o;switch(a=u>.5?s/(2-i-o):s/(i+o),i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:a,l:u}}function p(e,t,n){e=T(e,255),t=T(t,255),n=T(n,255);var r,a,i=l(e,t,n),o=c(e,t,n),u=i,s=i-o;if(a=0===i?0:s/i,i==o)r=0;else{switch(i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:a,v:u}}function v(e,t,n,r){var a=[R(s(e).toString(16)),R(s(t).toString(16)),R(s(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function m(e,t,n,r){return[R(B(r)),R(s(e).toString(16)),R(s(t).toString(16)),R(s(n).toString(16))].join("")}function g(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=M(n.s),d(n)}function b(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=M(n.s),d(n)}function y(e){return d(e).desaturate(100)}function x(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=M(n.l),d(n)}function _(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=l(0,c(255,n.r-s(-t/100*255))),n.g=l(0,c(255,n.g-s(-t/100*255))),n.b=l(0,c(255,n.b-s(-t/100*255))),d(n)}function w(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=M(n.l),d(n)}function O(e,t){var n=d(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,d(n)}function k(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function j(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function E(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function C(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function A(e,t,n){t=t||6,n=n||30;var r=d(e).toHsl(),a=360/n,i=[d(e)];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,i.push(d(r));return i}function S(e,t){t=t||6;for(var n=d(e).toHsv(),r=n.h,a=n.s,i=n.v,o=[],u=1/t;t--;)o.push(d({h:r,s:a,v:i})),i=(i+u)%1;return o}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:a.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:a.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:a.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=F(e),this._roundA=s(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=s(360*e.h),n=s(100*e.s),r=s(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h(this._r,this._g,this._b),t=s(360*e.h),n=s(100*e.s),r=s(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return v(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,a){var i=[R(s(e).toString(16)),R(s(t).toString(16)),R(s(n).toString(16)),R(B(r))];if(a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(100*T(this._r,255))+"%",g:s(100*T(this._g,255))+"%",b:s(100*T(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+s(100*T(this._r,255))+"%, "+s(100*T(this._g,255))+"%, "+s(100*T(this._b,255))+"%)":"rgba("+s(100*T(this._r,255))+"%, "+s(100*T(this._g,255))+"%, "+s(100*T(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(N[v(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+m(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var a=d(e);n="#"+m(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(O,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(A,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(j,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:P(e[r]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:f(),g:f(),b:f()})},d.mix=function(e,t,n){n=0===n?0:n||50;var r=d(e).toRgb(),a=d(t).toRgb(),i=n/100;return d({r:(a.r-r.r)*i+r.r,g:(a.g-r.g)*i+r.g,b:(a.b-r.b)*i+r.b,a:(a.a-r.a)*i+r.a})},d.readability=function(e,t){var n=d(e),r=d(t);return(a.max(n.getLuminance(),r.getLuminance())+.05)/(a.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(e,t,n){var r,a,i=d.readability(e,t);switch(a=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":a=i>=4.5;break;case"AAlarge":a=i>=3;break;case"AAAsmall":a=i>=7}return a},d.mostReadable=function(e,t,n){var r,a,i,o,u=null,s=0;a=(n=n||{}).includeFallbackColors,i=n.level,o=n.size;for(var c=0;c<t.length;c++)(r=d.readability(e,t[c]))>s&&(s=r,u=d(t[c]));return d.isReadable(e,u,{level:i,size:o})||!a?u:(n.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],n))};var D=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=d.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(D);function F(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function T(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=c(t,l(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),a.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function M(e){return c(1,l(0,e))}function I(e){return parseInt(e,16)}function R(e){return 1==e.length?"0"+e:""+e}function P(e){return e<=1&&(e=100*e+"%"),e}function B(e){return a.round(255*parseFloat(e)).toString(16)}function z(e){return I(e)/255}var L=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function U(e){return!!L.CSS_UNIT.exec(e)}e.exports?e.exports=d:void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}(Math)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(4)),i=s(n(188)),o=n(920),u=s(n(427));function s(e){return e&&e.__esModule?e:{default:e}}var c=t.Swatch=function(e){var t=e.color,n=e.style,o=e.onClick,s=void 0===o?function(){}:o,c=e.onHover,l=e.title,f=void 0===l?t:l,d=e.children,h=e.focus,p=e.focusStyle,v=void 0===p?{}:p,m="transparent"===t,g=(0,i.default)({default:{swatch:r({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,h?v:{})}}),b={};return c&&(b.onMouseOver=function(e){return c(t,e)}),a.default.createElement("div",r({style:g.swatch,onClick:function(e){return s(t,e)},title:f,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&s(t,e)}},b),d,m&&a.default.createElement(u.default,{borderRadius:g.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,o.handleFocus)(c)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),u=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;s(this,r);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=n=c(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(i))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},c(n,t)}return l(r,n),i(r,[{key:"render",value:function(){return u.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},u.default.createElement(e,a({},this.props,this.state)))}}]),r}(u.default.Component)}},function(e,t,n){var r=n(554);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t,n){var r=n(554);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(927);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(555),a=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;a=f("react.element"),i=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var y=b.prototype=new g;y.constructor=b,r(y,m.prototype),y.isPureReactComponent=!0;var x={current:null},_=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,i={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&!w.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:a,type:e,key:o,ref:u,props:i,_owner:x.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var j=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case i:s=!0}}if(s)return o=o(s=e),e=""===r?"."+E(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(j,"$&/")+"/"),C(o,t,n,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(j,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+E(u=e[c],c);s+=C(u,t,n,l,o)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,n,l=r+E(u,c++),o);else if("object"===u)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function A(e,t,n){if(null==e)return e;var r=[],a=0;return C(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function S(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var D={current:null};function N(){var e=D.current;if(null===e)throw Error(h(321));return e}var F={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(h(143));return e}},t.Component=m,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var i=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!w.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:u,props:i,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:S}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(27),a=n(555),i=n(932);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!h.call(v,e)||!h.call(p,e)&&(d.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,O=60106,k=60107,j=60108,E=60114,C=60109,A=60110,S=60112,D=60113,N=60120,F=60115,T=60116,M=60121,I=60128,R=60129,P=60130,B=60131;if("function"===typeof Symbol&&Symbol.for){var z=Symbol.for;w=z("react.element"),O=z("react.portal"),k=z("react.fragment"),j=z("react.strict_mode"),E=z("react.profiler"),C=z("react.provider"),A=z("react.context"),S=z("react.forward_ref"),D=z("react.suspense"),N=z("react.suspense_list"),F=z("react.memo"),T=z("react.lazy"),M=z("react.block"),z("react.scope"),I=z("react.opaque.id"),R=z("react.debug_trace_mode"),P=z("react.offscreen"),B=z("react.legacy_hidden")}var L,U="function"===typeof Symbol&&Symbol.iterator;function W(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=U&&e[U]||e["@@iterator"])?e:null}function V(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var q=!1;function H(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var a=s.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,u=i.length-1;1<=o&&0<=u&&a[o]!==i[u];)u--;for(;1<=o&&0<=u;o--,u--)if(a[o]!==i[u]){if(1!==o||1!==u)do{if(o--,0>--u||a[o]!==i[u])return"\n"+a[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function G(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case O:return"Portal";case E:return"Profiler";case j:return"StrictMode";case D:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case F:return K(e.type);case M:return K(e._render);case T:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ie(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ce(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(ye).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Oe=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Oe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function je(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ae=null,Se=null;function De(e){if(e=ea(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=na(t),Ce(e.stateNode,e.type,t))}}function Ne(e){Ae?Se?Se.push(e):Se=[e]:Ae=e}function Fe(){if(Ae){var e=Ae,t=Se;if(Se=Ae=null,De(e),t)for(e=0;e<t.length;e++)De(t[e])}}function Te(e,t){return e(t)}function Me(e,t,n,r,a){return e(t,n,r,a)}function Ie(){}var Re=Te,Pe=!1,Be=!1;function ze(){null===Ae&&null===Se||(Ie(),Fe())}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=na(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ue=!1;if(f)try{var We={};Object.defineProperty(We,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch(me){Ue=!1}function Ve(e,t,n,r,a,i,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var qe=!1,He=null,Ge=!1,Ke=null,$e={onError:function(e){qe=!0,He=e}};function Xe(e,t,n,r,a,i,o,u,s){qe=!1,He=null,Ve.apply($e,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Qe(a),e;if(i===r)return Qe(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var u=!1,s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u){for(s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,at,it=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:a,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e=pt(t,n,r,a,i),null!==t&&(null!==(t=ea(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function gt(e){var t=Zr(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void at(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ea(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){bt(e)&&n.delete(t)}function xt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ea(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&bt(ut)&&(ut=null),null!==st&&bt(st)&&(st=null),null!==ct&&bt(ct)&&(ct=null),lt.forEach(yt),ft.forEach(yt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,xt)))}function wt(e){function t(t){return _t(t,e)}if(0<ot.length){_t(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&_t(ut,e),null!==st&&_t(st,e),null!==ct&&_t(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function Ot(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:Ot("Animation","AnimationEnd"),animationiteration:Ot("Animation","AnimationIteration"),animationstart:Ot("Animation","AnimationStart"),transitionend:Ot("Transition","TransitionEnd")},jt={},Et={};function Ct(e){if(jt[e])return jt[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return jt[e]=n[t];return e}f&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var At=Ct("animationend"),St=Ct("animationiteration"),Dt=Ct("animationstart"),Nt=Ct("transitionend"),Ft=new Map,Tt=new Map,Mt=["abort","abort",At,"animationEnd",St,"animationIteration",Dt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function It(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];a="on"+(a[0].toUpperCase()+a.slice(1)),Tt.set(r,t),Ft.set(r,a),c(a,[r])}}(0,i.unstable_now)();var Rt=8;function Pt(e){if(0!==(1&e))return Rt=15,1;if(0!==(2&e))return Rt=14,2;if(0!==(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!==(32&e)?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):0!==(256&e)?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):0!==(4096&e)?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!==(134217728&e)?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):0!==(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function Bt(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var r=0,a=0,i=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==i)r=i,a=Rt=15;else if(0!==(i=134217727&n)){var s=i&~o;0!==s?(r=Pt(s),a=Rt):0!==(u&=i)&&(r=Pt(u),a=Rt)}else 0!==(i=n&~o)?(r=Pt(i),a=Rt):0!==u&&(r=Pt(u),a=Rt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Pt(t),a<=Rt)return t;Rt=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-qt(t)),r|=e[n],t&=~a;return r}function zt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Lt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?Lt(10,t):e;case 10:return 0===(e=Ut(192&~t))?Lt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&(0===(e=Ut(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Ut(e){return e&-e}function Wt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Gt|0)|0},Ht=Math.log,Gt=Math.LN2;var Kt=i.unstable_UserBlockingPriority,$t=i.unstable_runWithPriority,Xt=!0;function Yt(e,t,n,r){Pe||Ie();var a=Qt,i=Pe;Pe=!0;try{Me(a,e,t,n,r)}finally{(Pe=i)||ze()}}function Jt(e,t,n,r){$t(Kt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var a;if(Xt)if((a=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var i=Zt(e,t,n,r);if(null===i)a&&vt(e,r);else{if(a){if(-1<ht.indexOf(e))return e=pt(i,e,t,n,r),void ot.push(e);if(function(e,t,n,r,a){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,a),!0;case"dragenter":return st=mt(st,e,t,n,r,a),!0;case"mouseover":return ct=mt(ct,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return lt.set(i,mt(lt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,ft.set(i,mt(ft.get(i)||null,e,t,n,r,a)),!0}return!1}(i,e,t,n,r))return;vt(e,r)}Fr(e,t,r,null,n)}}}function Zt(e,t,n,r){var a=Ee(r);if(null!==(a=Zr(a))){var i=Ye(a);if(null===i)a=null;else{var o=i.tag;if(13===o){if(null!==(a=Je(i)))return a;a=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return Fr(e,t,r,a,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,a="value"in en?en.value:en.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return nn=a.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?on:un,this.isPropagationStopped=un,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(dn),pn=a({},dn,{view:0,detail:0}),vn=sn(pn),mn=a({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=sn(mn),bn=sn(a({},mn,{dataTransfer:0})),yn=sn(a({},pn,{relatedTarget:0})),xn=sn(a({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=sn(a({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),wn=sn(a({},dn,{data:0})),On={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function Cn(){return En}var An=sn(a({},pn,{key:function(e){if(e.key){var t=On[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Sn=sn(a({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=sn(a({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=sn(a({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fn=sn(a({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Tn=[9,13,27,32],Mn=f&&"CompositionEvent"in window,In=null;f&&"documentMode"in document&&(In=document.documentMode);var Rn=f&&"TextEvent"in window&&!In,Pn=f&&(!Mn||In&&8<In&&11>=In),Bn=String.fromCharCode(32),zn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ne(r),0<(t=Mr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function $n(e){Er(e,0)}function Xn(e){if(J(ta(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(f){var Qn;if(f){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Qn=Zn}else Qn=!1;Jn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];if(Hn(t,Kn,e,Ee(e)),e=$n,Pe)e(t);else{Pe=!0;try{Te(e,t)}finally{Pe=!1,ze()}}}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function ir(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},sr=Object.prototype.hasOwnProperty;function cr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=f&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,br=null,yr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&cr(br,r)||(br=r,0<(r=Mr(gr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}It("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),It("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),It(Mt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wr=0;wr<_r.length;wr++)Tt.set(_r[wr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,u,s,c){if(Xe.apply(this,arguments),qe){if(!qe)throw Error(o(198));var l=He;qe=!1,He=null,Ge||(Ge=!0,Ke=l)}}(r,t,void 0,e),e.currentTarget=null}function Er(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==i&&a.isPropagationStopped())break e;jr(a,u,c),i=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==i&&a.isPropagationStopped())break e;jr(a,u,c),i=s}}}if(Ge)throw e=Ke,Ge=!1,Ke=null,e}function Cr(e,t){var n=ra(t),r=e+"__bubble";n.has(r)||(Nr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Sr(e){e[Ar]||(e[Ar]=!0,u.forEach((function(t){kr.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=n;if("selectionchange"===e&&9!==n.nodeType&&(i=n.ownerDocument),null!==r&&!t&&kr.has(e)){if("scroll"!==e)return;a|=2,i=r}var o=ra(i),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(a|=4),Nr(i,e,a,t),o.add(u))}function Nr(e,t,n,r){var a=Tt.get(t);switch(void 0===a?2:a){case 0:a=Yt;break;case 1:a=Jt;break;default:a=Qt}n=a.bind(null,t,n,e),a=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Fr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===a||8===u.nodeType&&u.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===a||8===s.nodeType&&s.parentNode===a))return;o=o.return}for(;null!==u;){if(null===(o=Zr(u)))return;if(5===(s=o.tag)||6===s){r=i=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Be)return e(t,n);Be=!0;try{Re(e,t,n)}finally{Be=!1,ze()}}((function(){var r=i,a=Ee(n),o=[];e:{var u=Ft.get(e);if(void 0!==u){var s=hn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Dn;break;case At:case St:case Dt:s=xn;break;case Nt:s=Nn;break;case"scroll":s=vn;break;case"wheel":s=Fn;break;case"copy":case"cut":case"paste":s=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Sn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Le(p,d))&&l.push(Tr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,a),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!Zr(c)&&!c[Jr])&&(s||u)&&(u=a.window===a?a:(u=a.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?Zr(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=gn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Sn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ta(s),h=null==c?u:ta(c),(u=new l(v,p+"leave",s,n,a)).target=f,u.relatedTarget=h,v=null,Zr(a)===r&&((l=new l(d,p+"enter",c,n,a)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Ir(h))p++;for(h=0,v=d;v;v=Ir(v))h++;for(;0<p-h;)l=Ir(l),p--;for(;0<h-p;)d=Ir(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Ir(l),d=Ir(d)}l=null}else l=null;null!==s&&Rr(o,u,s,l,!1),null!==c&&null!==f&&Rr(o,f,c,l,!0)}if("select"===(s=(u=r?ta(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(qn(u))if(Jn)m=or;else{m=ar;var g=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ir);switch(m&&(m=m(e,r))?Hn(o,m,n,a):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&ae(u,"number",u.value)),g=r?ta(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,br=null);break;case"focusout":br=gr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,xr(o,n,a);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":xr(o,n,a)}var b;if(Mn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Wn?Ln(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Pn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Wn&&(b=rn()):(tn="value"in(en=a)?en.value:en.textContent,Wn=!0)),0<(g=Mr(r,y)).length&&(y=new wn(y,e,null,n,a),o.push({event:y,listeners:g}),b?y.data=b:null!==(b=Un(n))&&(y.data=b))),(b=Rn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&Ln(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=b))}Er(o,t)}))}function Tr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Le(e,n))&&r.unshift(Tr(e,i,a)),null!=(i=Le(e,t))&&r.push(Tr(e,i,a))),e=e.return}return r}function Ir(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Rr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,a?null!=(s=Le(n,i))&&o.unshift(Tr(n,s,u)):a||null!=(s=Le(n,i))&&o.push(Tr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Pr(){}var Br=null,zr=null;function Lr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ur(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Vr="function"===typeof clearTimeout?clearTimeout:void 0;function qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Hr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Kr=0;var $r=Math.random().toString(36).slice(2),Xr="__reactFiber$"+$r,Yr="__reactProps$"+$r,Jr="__reactContainer$"+$r,Qr="__reactEvents$"+$r;function Zr(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jr]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Xr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ea(e){return!(e=e[Xr]||e[Jr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ta(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function na(e){return e[Yr]||null}function ra(e){var t=e[Qr];return void 0===t&&(t=e[Qr]=new Set),t}var aa=[],ia=-1;function oa(e){return{current:e}}function ua(e){0>ia||(e.current=aa[ia],aa[ia]=null,ia--)}function sa(e,t){ia++,aa[ia]=e.current,e.current=t}var ca={},la=oa(ca),fa=oa(!1),da=ca;function ha(e,t){var n=e.type.contextTypes;if(!n)return ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function pa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function va(){ua(fa),ua(la)}function ma(e,t,n){if(la.current!==ca)throw Error(o(168));sa(la,t),sa(fa,n)}function ga(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,K(t)||"Unknown",i));return a({},n,r)}function ba(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ca,da=la.current,sa(la,e),sa(fa,fa.current),!0}function ya(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ga(e,t,da),r.__reactInternalMemoizedMergedChildContext=e,ua(fa),ua(la),sa(la,e)):ua(fa),sa(fa,n)}var xa=null,_a=null,wa=i.unstable_runWithPriority,Oa=i.unstable_scheduleCallback,ka=i.unstable_cancelCallback,ja=i.unstable_shouldYield,Ea=i.unstable_requestPaint,Ca=i.unstable_now,Aa=i.unstable_getCurrentPriorityLevel,Sa=i.unstable_ImmediatePriority,Da=i.unstable_UserBlockingPriority,Na=i.unstable_NormalPriority,Fa=i.unstable_LowPriority,Ta=i.unstable_IdlePriority,Ma={},Ia=void 0!==Ea?Ea:function(){},Ra=null,Pa=null,Ba=!1,za=Ca(),La=1e4>za?Ca:function(){return Ca()-za};function Ua(){switch(Aa()){case Sa:return 99;case Da:return 98;case Na:return 97;case Fa:return 96;case Ta:return 95;default:throw Error(o(332))}}function Wa(e){switch(e){case 99:return Sa;case 98:return Da;case 97:return Na;case 96:return Fa;case 95:return Ta;default:throw Error(o(332))}}function Va(e,t){return e=Wa(e),wa(e,t)}function qa(e,t,n){return e=Wa(e),Oa(e,t,n)}function Ha(){if(null!==Pa){var e=Pa;Pa=null,ka(e)}Ga()}function Ga(){if(!Ba&&null!==Ra){Ba=!0;var e=0;try{var t=Ra;Va(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ra=null}catch(n){throw null!==Ra&&(Ra=Ra.slice(e+1)),Oa(Sa,Ha),n}finally{Ba=!1}}}var Ka=_.ReactCurrentBatchConfig;function $a(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xa=oa(null),Ya=null,Ja=null,Qa=null;function Za(){Qa=Ja=Ya=null}function ei(e){var t=Xa.current;ua(Xa),e.type._context._currentValue=t}function ti(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ni(e,t){Ya=e,Qa=Ja=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function ri(e,t){if(Qa!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Qa=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ja){if(null===Ya)throw Error(o(308));Ja=t,Ya.dependencies={lanes:0,firstContext:t,responders:null}}else Ja=Ja.next=t;return e._currentValue}var ai=!1;function ii(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function si(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ci(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function li(e,t,n,r){var i=e.updateQueue;ai=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==u&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(d=i.baseState,u=0,f=l=c=null;;){s=o.lane;var h=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,s);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(h,d,s):p)||void 0===s)break e;d=a({},d,s);break e;case 2:ai=!0}}null!==o.callback&&(e.flags|=32,null===(s=i.effects)?i.effects=[o]:s.push(o))}else h={eventTime:h,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=h,c=d):f=f.next=h,u|=s;if(null===(o=o.next)){if(null===(s=i.shared.pending))break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}null===f&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=d}}function fi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var di=(new r.Component).refs;function hi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pi={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cs(),a=ls(e),i=ui(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),si(e,i),fs(e,a,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cs(),a=ls(e),i=ui(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),si(e,i),fs(e,a,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cs(),r=ls(e),a=ui(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),si(e,a),fs(e,r,n)}};function vi(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(a,i))}function mi(e,t,n){var r=!1,a=ca,i=t.contextType;return"object"===typeof i&&null!==i?i=ri(i):(a=pa(t)?da:la.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?ha(e,a):ca),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function gi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pi.enqueueReplaceState(t,t.state,null)}function bi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=di,ii(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=ri(i):(i=pa(t)?da:la.current,a.context=ha(e,i)),li(e,n,a,r),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(hi(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&pi.enqueueReplaceState(a,a.state,null),li(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4)}var yi=Array.isArray;function xi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=r.refs;t===di&&(t=r.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _i(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function wi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Vs(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ks(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=xi(e,t,n),r.return=e,r):((r=qs(n.type,n.key,n.props,null,e.mode,r)).ref=xi(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$s(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Hs(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ks(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=qs(t.type,t.key,t.props,null,e.mode,n)).ref=xi(e,null,t),n.return=e,n;case O:return(t=$s(t,e.mode,n)).return=e,t}if(yi(t)||W(t))return(t=Hs(t,e.mode,n,null)).return=e,t;_i(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?n.type===k?f(e,t,n.props.children,r,a):c(e,t,n,r):null;case O:return n.key===a?l(e,t,n,r):null}if(yi(n)||W(n))return null!==a?null:f(e,t,n,r,null);_i(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===k?f(t,e,r.props.children,a,r.key):c(t,e,r,a);case O:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(yi(r)||W(r))return f(t,e=e.get(n)||null,r,a,null);_i(t,r)}return null}function v(a,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(a,f,u[v],s);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(a,f),o=i(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===u.length)return n(a,f),c;if(null===f){for(;v<u.length;v++)null!==(f=d(a,u[v],s))&&(o=i(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(a,f);v<u.length;v++)null!==(m=p(f,a,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=i(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(a,e)})),c}function m(a,u,s,c){var l=W(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,g=null,b=s.next();null!==v&&!b.done;m++,b=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var y=h(a,v,b.value,c);if(null===y){null===v&&(v=g);break}e&&v&&null===y.alternate&&t(a,v),u=i(y,u,m),null===f?l=y:f.sibling=y,f=y,v=g}if(b.done)return n(a,v),l;if(null===v){for(;!b.done;m++,b=s.next())null!==(b=d(a,b.value,c))&&(u=i(b,u,m),null===f?l=b:f.sibling=b,f=b);return l}for(v=r(a,v);!b.done;m++,b=s.next())null!==(b=p(v,a,m,b.value,c))&&(e&&null!==b.alternate&&v.delete(null===b.key?m:b.key),u=i(b,u,m),null===f?l=b:f.sibling=b,f=b);return e&&v.forEach((function(e){return t(a,e)})),l}return function(e,r,i,s){var c="object"===typeof i&&null!==i&&i.type===k&&null===i.key;c&&(i=i.props.children);var l="object"===typeof i&&null!==i;if(l)switch(i.$$typeof){case w:e:{for(l=i.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(i.type===k){n(e,c.sibling),(r=a(c,i.props.children)).return=e,e=r;break e}break;default:if(c.elementType===i.type){n(e,c.sibling),(r=a(c,i.props)).ref=xi(e,c,i),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}i.type===k?((r=Hs(i.props.children,e.mode,s,i.key)).return=e,e=r):((s=qs(i.type,i.key,i.props,null,e.mode,s)).ref=xi(e,r,i),s.return=e,e=s)}return u(e);case O:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=a(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$s(i,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,i)).return=e,e=r):(n(e,r),(r=Ks(i,e.mode,s)).return=e,e=r),u(e);if(yi(i))return v(e,r,i,s);if(W(i))return m(e,r,i,s);if(l&&_i(e,i),"undefined"===typeof i&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,K(e.type)||"Component"))}return n(e,r)}}var Oi=wi(!0),ki=wi(!1),ji={},Ei=oa(ji),Ci=oa(ji),Ai=oa(ji);function Si(e){if(e===ji)throw Error(o(174));return e}function Di(e,t){switch(sa(Ai,t),sa(Ci,e),sa(Ei,ji),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ua(Ei),sa(Ei,t)}function Ni(){ua(Ei),ua(Ci),ua(Ai)}function Fi(e){Si(Ai.current);var t=Si(Ei.current),n=pe(t,e.type);t!==n&&(sa(Ci,e),sa(Ei,n))}function Ti(e){Ci.current===e&&(ua(Ei),ua(Ci))}var Mi=oa(0);function Ii(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ri=null,Pi=null,Bi=!1;function zi(e,t){var n=Us(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ui(e){if(Bi){var t=Pi;if(t){var n=t;if(!Li(e,t)){if(!(t=Hr(n.nextSibling))||!Li(e,t))return e.flags=-1025&e.flags|2,Bi=!1,void(Ri=e);zi(Ri,n)}Ri=e,Pi=Hr(t.firstChild)}else e.flags=-1025&e.flags|2,Bi=!1,Ri=e}}function Wi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ri=e}function Vi(e){if(e!==Ri)return!1;if(!Bi)return Wi(e),Bi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ur(t,e.memoizedProps))for(t=Pi;t;)zi(e,t),t=Hr(t.nextSibling);if(Wi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Pi=Hr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Pi=null}}else Pi=Ri?Hr(e.stateNode.nextSibling):null;return!0}function qi(){Pi=Ri=null,Bi=!1}var Hi=[];function Gi(){for(var e=0;e<Hi.length;e++)Hi[e]._workInProgressVersionPrimary=null;Hi.length=0}var Ki=_.ReactCurrentDispatcher,$i=_.ReactCurrentBatchConfig,Xi=0,Yi=null,Ji=null,Qi=null,Zi=!1,eo=!1;function to(){throw Error(o(321))}function no(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function ro(e,t,n,r,a,i){if(Xi=i,Yi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ki.current=null===e||null===e.memoizedState?Do:No,e=n(r,a),eo){i=0;do{if(eo=!1,!(25>i))throw Error(o(301));i+=1,Qi=Ji=null,t.updateQueue=null,Ki.current=Fo,e=n(r,a)}while(eo)}if(Ki.current=So,t=null!==Ji&&null!==Ji.next,Xi=0,Qi=Ji=Yi=null,Zi=!1,t)throw Error(o(300));return e}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qi?Yi.memoizedState=Qi=e:Qi=Qi.next=e,Qi}function io(){if(null===Ji){var e=Yi.alternate;e=null!==e?e.memoizedState:null}else e=Ji.next;var t=null===Qi?Yi.memoizedState:Qi.next;if(null!==t)Qi=t,Ji=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ji=e).memoizedState,baseState:Ji.baseState,baseQueue:Ji.baseQueue,queue:Ji.queue,next:null},null===Qi?Yi.memoizedState=Qi=e:Qi=Qi.next=e}return Qi}function oo(e,t){return"function"===typeof t?t(e):t}function uo(e){var t=io(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ji,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var u=a.next;a.next=i.next,i.next=u}r.baseQueue=a=i,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var s=u=i=null,c=a;do{var l=c.lane;if((Xi&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,i=r):s=s.next=f,Yi.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==a);null===s?i=r:s.next=u,ur(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function so(e){var t=io(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var u=a=a.next;do{i=e(i,u.action),u=u.next}while(u!==a);ur(i,t.memoizedState)||(Mo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function co(e,t,n){var r=t._getVersion;r=r(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===r:(e=e.mutableReadLanes,(e=(Xi&e)===e)&&(t._workInProgressVersionPrimary=r,Hi.push(t))),e)return n(t._source);throw Hi.push(t),Error(o(350))}function lo(e,t,n,r){var a=Du;if(null===a)throw Error(o(349));var i=t._getVersion,u=i(t._source),s=Ki.current,c=s.useState((function(){return co(a,t,n)})),l=c[1],f=c[0];c=Qi;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,v=d.source;d=d.subscribe;var m=Yi;return e.memoizedState={refs:h,source:t,subscribe:r},s.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=i(t._source);if(!ur(u,e)){e=n(t._source),ur(f,e)||(l(e),e=ls(m),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,o=e;0<o;){var s=31-qt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=ls(m);a.mutableReadLanes|=r&a.pendingLanes}catch(i){n((function(){throw i}))}}))}),[t,r]),ur(p,n)&&ur(v,t)&&ur(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:f}).dispatch=l=Ao.bind(null,Yi,e),c.queue=e,c.baseQueue=null,f=co(a,t,n),c.memoizedState=c.baseState=f),f}function fo(e,t,n){return lo(io(),e,t,n)}function ho(e){var t=ao();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e}).dispatch=Ao.bind(null,Yi,e),[t.memoizedState,e]}function po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Yi.updateQueue)?(t={lastEffect:null},Yi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vo(e){return e={current:e},ao().memoizedState=e}function mo(){return io().memoizedState}function go(e,t,n,r){var a=ao();Yi.flags|=e,a.memoizedState=po(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var a=io();r=void 0===r?null:r;var i=void 0;if(null!==Ji){var o=Ji.memoizedState;if(i=o.destroy,null!==r&&no(r,o.deps))return void po(t,n,i,r)}Yi.flags|=e,a.memoizedState=po(1|t,n,i,r)}function yo(e,t){return go(516,4,e,t)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return bo(4,2,e,t)}function wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Oo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,wo.bind(null,t,e),n)}function ko(){}function jo(e,t){var n=io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Eo(e,t){var n=io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Co(e,t){var n=Ua();Va(98>n?98:n,(function(){e(!0)})),Va(97<n?97:n,(function(){var n=$i.transition;$i.transition=1;try{e(!1),t()}finally{$i.transition=n}}))}function Ao(e,t,n){var r=cs(),a=ls(e),i={lane:a,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Yi||null!==o&&o===Yi)eo=Zi=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(i.eagerReducer=o,i.eagerState=s,ur(s,u))return}catch(c){}fs(e,a,r)}}var So={readContext:ri,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useLayoutEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useMutableSource:to,useOpaqueIdentifier:to,unstable_isNewReconciler:!1},Do={readContext:ri,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:ri,useEffect:yo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,go(4,2,wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4,2,e,t)},useMemo:function(e,t){var n=ao();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ao();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ao.bind(null,Yi,e),[r.memoizedState,e]},useRef:vo,useState:ho,useDebugValue:ko,useDeferredValue:function(e){var t=ho(e),n=t[0],r=t[1];return yo((function(){var t=$i.transition;$i.transition=1;try{r(e)}finally{$i.transition=t}}),[e]),n},useTransition:function(){var e=ho(!1),t=e[0];return vo(e=Co.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ao();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},lo(r,e,t,n)},useOpaqueIdentifier:function(){if(Bi){var e=!1,t=function(e){return{$$typeof:I,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Kr++).toString(36))),Error(o(355))})),n=ho(t)[1];return 0===(2&Yi.mode)&&(Yi.flags|=516,po(5,(function(){n("r:"+(Kr++).toString(36))}),void 0,null)),t}return ho(t="r:"+(Kr++).toString(36)),t},unstable_isNewReconciler:!1},No={readContext:ri,useCallback:jo,useContext:ri,useEffect:xo,useImperativeHandle:Oo,useLayoutEffect:_o,useMemo:Eo,useReducer:uo,useRef:mo,useState:function(){return uo(oo)},useDebugValue:ko,useDeferredValue:function(e){var t=uo(oo),n=t[0],r=t[1];return xo((function(){var t=$i.transition;$i.transition=1;try{r(e)}finally{$i.transition=t}}),[e]),n},useTransition:function(){var e=uo(oo)[0];return[mo().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return uo(oo)[0]},unstable_isNewReconciler:!1},Fo={readContext:ri,useCallback:jo,useContext:ri,useEffect:xo,useImperativeHandle:Oo,useLayoutEffect:_o,useMemo:Eo,useReducer:so,useRef:mo,useState:function(){return so(oo)},useDebugValue:ko,useDeferredValue:function(e){var t=so(oo),n=t[0],r=t[1];return xo((function(){var t=$i.transition;$i.transition=1;try{r(e)}finally{$i.transition=t}}),[e]),n},useTransition:function(){var e=so(oo)[0];return[mo().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return so(oo)[0]},unstable_isNewReconciler:!1},To=_.ReactCurrentOwner,Mo=!1;function Io(e,t,n,r){t.child=null===e?ki(t,null,n,r):Oi(t,e.child,n,r)}function Ro(e,t,n,r,a){n=n.render;var i=t.ref;return ni(t,a),r=ro(e,t,n,r,i,a),null===e||Mo?(t.flags|=1,Io(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,nu(e,t,a))}function Po(e,t,n,r,a,i){if(null===e){var o=n.type;return"function"!==typeof o||Ws(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qs(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,a,i))}return o=e.child,0===(a&i)&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)?nu(e,t,i):(t.flags|=1,(e=Vs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,a,i){if(null!==e&&cr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(i&a))return t.lanes=e.lanes,nu(e,t,i);0!==(16384&e.flags)&&(Mo=!0)}return Uo(e,t,n,r,i)}function zo(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},ys(t,n);else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ys(t,e),null;t.memoizedState={baseLanes:0},ys(t,null!==i?i.baseLanes:n)}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,ys(t,r);return Io(e,t,a,n),t.child}function Lo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Uo(e,t,n,r,a){var i=pa(n)?da:la.current;return i=ha(t,i),ni(t,a),n=ro(e,t,n,r,i,a),null===e||Mo?(t.flags|=1,Io(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,nu(e,t,a))}function Wo(e,t,n,r,a){if(pa(n)){var i=!0;ba(t)}else i=!1;if(ni(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),mi(t,n,r),bi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ri(c):c=ha(t,c=pa(n)?da:la.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&gi(t,o,r,c),ai=!1;var d=t.memoizedState;o.state=d,li(t,r,o,a),s=t.memoizedState,u!==r||d!==s||fa.current||ai?("function"===typeof l&&(hi(t,n,l,r),s=t.memoizedState),(u=ai||vi(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,oi(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:$a(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=ri(s):s=ha(t,s=pa(n)?da:la.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&gi(t,o,r,s),ai=!1,d=t.memoizedState,o.state=d,li(t,r,o,a);var p=t.memoizedState;u!==f||d!==p||fa.current||ai?("function"===typeof h&&(hi(t,n,h,r),p=t.memoizedState),(c=ai||vi(t,n,c,r,d,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Vo(e,t,n,r,i,a)}function Vo(e,t,n,r,a,i){Lo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return a&&ya(t,n,!1),nu(e,t,i);r=t.stateNode,To.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Oi(t,e.child,null,i),t.child=Oi(t,null,u,i)):Io(e,t,u,i),t.memoizedState=r.state,a&&ya(t,n,!0),t.child}function qo(e){var t=e.stateNode;t.pendingContext?ma(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ma(0,t.context,!1),Di(e,t.containerInfo)}var Ho,Go,Ko,$o={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,a=t.pendingProps,i=Mi.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(i|=1),sa(Mi,1&i),null===e?(void 0!==a.fallback&&Ui(t),e=a.children,i=a.fallback,o?(e=Yo(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof a.unstable_expectedLoadTime?(e=Yo(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Gs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(a=Qo(e,t,a.children,a.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,a):(n=Jo(e,t,a.children,n),t.memoizedState=null,n))}function Yo(e,t,n,r){var a=e.mode,i=e.child;return t={mode:"hidden",children:t},0===(2&a)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=Gs(t,a,0,null),n=Hs(n,a,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function Jo(e,t,n,r){var a=e.child;return e=a.sibling,n=Vs(a,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Qo(e,t,n,r,a){var i=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&i)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Vs(o,u),null!==e?r=Vs(e,r):(r=Hs(r,i,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Zo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ti(e.return,t)}function eu(e,t,n,r,a,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,lastEffect:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a,o.lastEffect=i)}function tu(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Io(e,t,r.children,n),0!==(2&(r=Mi.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zo(e,n);else if(19===e.tag)Zo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(sa(Mi,r),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Ii(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),eu(t,!1,a,n,i,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Ii(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}eu(t,!0,n,null,i,t.lastEffect);break;case"together":eu(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function nu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Vs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ru(e,t){if(!Bi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function au(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pa(t.type)&&va(),null;case 3:return Ni(),ua(fa),ua(la),Gi(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Vi(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ti(t);var i=Si(Ai.current);if(n=t.type,null!==e&&null!=t.stateNode)Go(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Si(Ei.current),Vi(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Xr]=t,r[Yr]=u,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(e=0;e<Or.length;e++)Cr(Or[e],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":ee(r,u),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Cr("invalid",r);break;case"textarea":se(r,u),Cr("invalid",r)}for(var c in ke(n,u),e=null,u)u.hasOwnProperty(c)&&(i=u[c],"children"===c?"string"===typeof i?r.textContent!==i&&(e=["children",i]):"number"===typeof i&&r.textContent!==""+i&&(e=["children",""+i]):s.hasOwnProperty(c)&&null!=i&&"onScroll"===c&&Cr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Pr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===i.nodeType?i:i.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Yr]=r,Ho(e,t),t.stateNode=e,c=je(n,r),n){case"dialog":Cr("cancel",e),Cr("close",e),i=r;break;case"iframe":case"object":case"embed":Cr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Cr(Or[i],e);i=r;break;case"source":Cr("error",e),i=r;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),i=r;break;case"details":Cr("toggle",e),i=r;break;case"input":ee(e,r),i=Z(e,r),Cr("invalid",e);break;case"option":i=ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=a({},r,{value:void 0}),Cr("invalid",e);break;case"textarea":se(e,r),i=ue(e,r),Cr("invalid",e);break;default:i=r}ke(n,i);var l=i;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?we(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&be(e,f):"number"===typeof f&&be(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Cr("scroll",e):null!=f&&x(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Pr)}Lr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ko(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Si(Ai.current),Si(Ei.current),Vi(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return ua(Mi),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Vi(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Mi.current)?0===Iu&&(Iu=3):(0!==Iu&&3!==Iu||(Iu=4),null===Du||0===(134217727&Bu)&&0===(134217727&zu)||vs(Du,Fu))),(r||n)&&(t.flags|=4),null);case 4:return Ni(),null===e&&Sr(t.stateNode.containerInfo),null;case 10:return ei(t),null;case 17:return pa(t.type)&&va(),null;case 19:if(ua(Mi),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ru(r,!1);else{if(0!==Iu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ii(e))){for(t.flags|=64,ru(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return sa(Mi,1&Mi.current|2),t.child}e=e.sibling}null!==r.tail&&La()>Vu&&(t.flags|=64,u=!0,ru(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ii(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ru(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Bi)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*La()-r.renderingStartTime>Vu&&1073741824!==n&&(t.flags|=64,u=!0,ru(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=La(),n.sibling=null,t=Mi.current,sa(Mi,u?1&t|2:1&t),n):null;case 23:case 24:return xs(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function iu(e){switch(e.tag){case 1:pa(e.type)&&va();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ni(),ua(fa),ua(la),Gi(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ti(e),null;case 13:return ua(Mi),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ua(Mi),null;case 4:return Ni(),null;case 10:return ei(e),null;case 23:case 24:return xs(),null;default:return null}}function ou(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ho=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Go=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Si(Ei.current);var o,u=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),u=[];break;case"option":i=ie(e,i),r=ie(e,r),u=[];break;case"select":i=a({},i,{value:void 0}),r=a({},r,{value:void 0}),u=[];break;case"textarea":i=ue(e,i),r=ue(e,r),u=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Pr)}for(f in ke(n,r),n=null,i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&null!=i[f])if("style"===f){var c=i[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=i?i[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Cr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===I?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Ko=function(e,t,n,r){n!==r&&(t.flags|=4)};var su="function"===typeof WeakMap?WeakMap:Map;function cu(e,t,n){(n=ui(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,$u=r),uu(0,t)},n}function lu(e,t,n){(n=ui(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return uu(0,t),r(a)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this),uu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var fu="function"===typeof WeakSet?WeakSet:Set;function du(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ps(e,n)}else t.current=null}function hu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$a(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function pu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;r=a.next,0!==(4&(a=a.tag))&&0!==(1&a)&&(Ms(n,e),Ts(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$a(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fi(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fi(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Lr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function vu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var a=n.memoizedProps.style;a=void 0!==a&&null!==a&&a.hasOwnProperty("display")?a.display:null,r.style.display=_e("display",a)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function mu(e,t){if(_a&&"function"===typeof _a.onCommitFiberUnmount)try{_a.onCommitFiberUnmount(xa,t)}catch(i){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,a=r.destroy;if(r=r.tag,void 0!==a)if(0!==(4&r))Ms(t,n);else{r=t;try{a()}catch(i){Ps(r,i)}}n=n.next}while(n!==e)}break;case 1:if(du(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Ps(t,i)}break;case 5:du(t);break;case 4:wu(e,t)}}function gu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bu(e){return 5===e.tag||3===e.tag||4===e.tag}function yu(e){e:{for(var t=e.return;null!==t;){if(bu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(be(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xu(e,n,t):_u(e,n,t)}function xu(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Pr));else if(4!==r&&null!==(e=e.child))for(xu(e,t,n),e=e.sibling;null!==e;)xu(e,t,n),e=e.sibling}function _u(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function wu(e,t){for(var n,r,a=t,i=!1;;){if(!i){i=a.return;e:for(;;){if(null===i)throw Error(o(160));switch(n=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===a.tag||6===a.tag){e:for(var u=e,s=a,c=s;;)if(mu(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=a.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(mu(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(i=!1)}a.sibling.return=a.return,a=a.sibling}}function Ou(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var a=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[Yr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),je(e,a),t=je(e,r),a=0;a<i.length;a+=2){var u=i[a],s=i[a+1];"style"===u?we(n,s):"dangerouslySetInnerHTML"===u?ge(n,s):"children"===u?be(n,s):x(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?oe(n,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Wu=La(),vu(t.child,!0)),void ku(t);case 19:return void ku(t);case 17:return;case 23:case 24:return void vu(t,null!==t.memoizedState)}throw Error(o(163))}function ku(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ju(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Eu=Math.ceil,Cu=_.ReactCurrentDispatcher,Au=_.ReactCurrentOwner,Su=0,Du=null,Nu=null,Fu=0,Tu=0,Mu=oa(0),Iu=0,Ru=null,Pu=0,Bu=0,zu=0,Lu=0,Uu=null,Wu=0,Vu=1/0;function qu(){Vu=La()+500}var Hu,Gu=null,Ku=!1,$u=null,Xu=null,Yu=!1,Ju=null,Qu=90,Zu=[],es=[],ts=null,ns=0,rs=null,as=-1,is=0,os=0,us=null,ss=!1;function cs(){return 0!==(48&Su)?La():-1!==as?as:as=La()}function ls(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ua()?1:2;if(0===is&&(is=Pu),0!==Ka.transition){0!==os&&(os=null!==Uu?Uu.pendingLanes:0),e=is;var t=4186112&~os;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ua(),0!==(4&Su)&&98===e?e=Lt(12,is):e=Lt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),is),e}function fs(e,t,n){if(50<ns)throw ns=0,rs=null,Error(o(185));if(null===(e=ds(e,t)))return null;Vt(e,t,n),e===Du&&(zu|=t,4===Iu&&vs(e,Fu));var r=Ua();1===t?0!==(8&Su)&&0===(48&Su)?ms(e):(hs(e,n),0===Su&&(qu(),Ha())):(0===(4&Su)||98!==r&&99!==r||(null===ts?ts=new Set([e]):ts.add(e)),hs(e,n)),Uu=e}function ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function hs(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-qt(u),c=1<<s,l=i[s];if(-1===l){if(0===(c&r)||0!==(c&a)){l=t,Pt(c);var f=Rt;i[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Bt(e,e===Du?Fu:0),t=Rt,0===r)null!==n&&(n!==Ma&&ka(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ma&&ka(n)}15===t?(n=ms.bind(null,e),null===Ra?(Ra=[n],Pa=Oa(Sa,Ga)):Ra.push(n),n=Ma):14===t?n=qa(99,ms.bind(null,e)):n=qa(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),ps.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function ps(e){if(as=-1,os=is=0,0!==(48&Su))throw Error(o(327));var t=e.callbackNode;if(Fs()&&e.callbackNode!==t)return null;var n=Bt(e,e===Du?Fu:0);if(0===n)return null;var r=n,a=Su;Su|=16;var i=Os();for(Du===e&&Fu===r||(qu(),_s(e,r));;)try{Es();break}catch(s){ws(e,s)}if(Za(),Cu.current=i,Su=a,null!==Nu?r=0:(Du=null,Fu=0,r=Iu),0!==(Pu&zu))_s(e,0);else if(0!==r){if(2===r&&(Su|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=zt(e))&&(r=ks(e,n))),1===r)throw t=Ru,_s(e,0),vs(e,n),hs(e,La()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:Ss(e);break;case 3:if(vs(e,n),(62914560&n)===n&&10<(r=Wu+500-La())){if(0!==Bt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){cs(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Wr(Ss.bind(null,e),r);break}Ss(e);break;case 4:if(vs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,a=-1;0<n;){var u=31-qt(n);i=1<<u,(u=r[u])>a&&(a=u),n&=~i}if(n=a,10<(n=(120>(n=La()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Eu(n/1960))-n)){e.timeoutHandle=Wr(Ss.bind(null,e),n);break}Ss(e);break;case 5:Ss(e);break;default:throw Error(o(329))}}return hs(e,La()),e.callbackNode===t?ps.bind(null,e):null}function vs(e,t){for(t&=~Lu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function ms(e){if(0!==(48&Su))throw Error(o(327));if(Fs(),e===Du&&0!==(e.expiredLanes&Fu)){var t=Fu,n=ks(e,t);0!==(Pu&zu)&&(n=ks(e,t=Bt(e,t)))}else n=ks(e,t=Bt(e,0));if(0!==e.tag&&2===n&&(Su|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=zt(e))&&(n=ks(e,t))),1===n)throw n=Ru,_s(e,0),vs(e,t),hs(e,La()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ss(e),hs(e,La()),null}function gs(e,t){var n=Su;Su|=1;try{return e(t)}finally{0===(Su=n)&&(qu(),Ha())}}function bs(e,t){var n=Su;Su&=-2,Su|=8;try{return e(t)}finally{0===(Su=n)&&(qu(),Ha())}}function ys(e,t){sa(Mu,Tu),Tu|=t,Pu|=t}function xs(){Tu=Mu.current,ua(Mu)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&va();break;case 3:Ni(),ua(fa),ua(la),Gi();break;case 5:Ti(r);break;case 4:Ni();break;case 13:case 19:ua(Mi);break;case 10:ei(r);break;case 23:case 24:xs()}n=n.return}Du=e,Nu=Vs(e.current,null),Fu=Tu=Pu=t,Iu=0,Ru=null,Lu=zu=Bu=0}function ws(e,t){for(;;){var n=Nu;try{if(Za(),Ki.current=So,Zi){for(var r=Yi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}Zi=!1}if(Xi=0,Qi=Ji=Yi=null,eo=!1,Au.current=null,null===n||null===n.return){Iu=1,Ru=t,Nu=null;break}e:{var i=e,o=n.return,u=n,s=t;if(t=Fu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Mi.current),d=o;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=d.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(h){var m=d.updateQueue;if(null===m){var g=new Set;g.add(c),d.updateQueue=g}else m.add(c);if(0===(2&d.mode)){if(d.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var b=ui(-1,1);b.tag=2,si(u,b)}u.lanes|=1;break e}s=void 0,u=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new su,s=new Set,y.set(c,s)):void 0===(s=y.get(c))&&(s=new Set,y.set(c,s)),!s.has(u)){s.add(u);var x=Bs.bind(null,i,c,u);c.then(x,x)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);s=Error((K(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Iu&&(Iu=2),s=ou(s,u),d=o;do{switch(d.tag){case 3:i=s,d.flags|=4096,t&=-t,d.lanes|=t,ci(d,cu(0,i,t));break e;case 1:i=s;var _=d.type,w=d.stateNode;if(0===(64&d.flags)&&("function"===typeof _.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Xu||!Xu.has(w)))){d.flags|=4096,t&=-t,d.lanes|=t,ci(d,lu(d,i,t));break e}}d=d.return}while(null!==d)}As(n)}catch(O){t=O,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function Os(){var e=Cu.current;return Cu.current=So,null===e?So:e}function ks(e,t){var n=Su;Su|=16;var r=Os();for(Du===e&&Fu===t||_s(e,t);;)try{js();break}catch(a){ws(e,a)}if(Za(),Su=n,Cu.current=r,null!==Nu)throw Error(o(261));return Du=null,Fu=0,Iu}function js(){for(;null!==Nu;)Cs(Nu)}function Es(){for(;null!==Nu&&!ja();)Cs(Nu)}function Cs(e){var t=Hu(e.alternate,e,Tu);e.memoizedProps=e.pendingProps,null===t?As(e):Nu=t,Au.current=null}function As(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=au(n,t,Tu)))return void(Nu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Tu)||0===(4&n.mode)){for(var r=0,a=n.child;null!==a;)r|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=iu(t)))return n.flags&=2047,void(Nu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Iu&&(Iu=5)}function Ss(e){var t=Ua();return Va(99,Ds.bind(null,e,t)),null}function Ds(e,t){do{Fs()}while(null!==Ju);if(0!==(48&Su))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,a=r,i=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<i;){var c=31-qt(i),l=1<<c;a[c]=0,u[c]=-1,s[c]=-1,i&=~l}if(null!==ts&&0===(24&r)&&ts.has(e)&&ts.delete(e),e===Du&&(Nu=Du=null,Fu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(a=Su,Su|=32,Au.current=null,Br=Xt,pr(u=hr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,i=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(E){s=null;break e}var f=0,d=-1,h=-1,p=0,v=0,m=u,g=null;t:for(;;){for(var b;m!==s||0!==i&&3!==m.nodeType||(d=f+i),m!==c||0!==l&&3!==m.nodeType||(h=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(b=m.firstChild);)g=m,m=b;for(;;){if(m===u)break t;if(g===s&&++p===i&&(d=f),g===c&&++v===l&&(h=f),null!==(b=m.nextSibling))break;g=(m=g).parentNode}m=b}s=-1===d||-1===h?null:{start:d,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;zr={focusedElem:u,selectionRange:s},Xt=!1,us=null,ss=!1,Gu=r;do{try{Ns()}catch(E){if(null===Gu)throw Error(o(330));Ps(Gu,E),Gu=Gu.nextEffect}}while(null!==Gu);us=null,Gu=r;do{try{for(u=e;null!==Gu;){var y=Gu.flags;if(16&y&&be(Gu.stateNode,""),128&y){var x=Gu.alternate;if(null!==x){var _=x.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&y){case 2:yu(Gu),Gu.flags&=-3;break;case 6:yu(Gu),Gu.flags&=-3,Ou(Gu.alternate,Gu);break;case 1024:Gu.flags&=-1025;break;case 1028:Gu.flags&=-1025,Ou(Gu.alternate,Gu);break;case 4:Ou(Gu.alternate,Gu);break;case 8:wu(u,s=Gu);var w=s.alternate;gu(s),null!==w&&gu(w)}Gu=Gu.nextEffect}}catch(E){if(null===Gu)throw Error(o(330));Ps(Gu,E),Gu=Gu.nextEffect}}while(null!==Gu);if(_=zr,x=hr(),y=_.focusedElem,u=_.selectionRange,x!==y&&y&&y.ownerDocument&&dr(y.ownerDocument.documentElement,y)){null!==u&&pr(y)&&(x=u.start,void 0===(_=u.end)&&(_=x),"selectionStart"in y?(y.selectionStart=x,y.selectionEnd=Math.min(_,y.value.length)):(_=(x=y.ownerDocument||document)&&x.defaultView||window).getSelection&&(_=_.getSelection(),s=y.textContent.length,w=Math.min(u.start,s),u=void 0===u.end?w:Math.min(u.end,s),!_.extend&&w>u&&(s=u,u=w,w=s),s=fr(y,w),i=fr(y,u),s&&i&&(1!==_.rangeCount||_.anchorNode!==s.node||_.anchorOffset!==s.offset||_.focusNode!==i.node||_.focusOffset!==i.offset)&&((x=x.createRange()).setStart(s.node,s.offset),_.removeAllRanges(),w>u?(_.addRange(x),_.extend(i.node,i.offset)):(x.setEnd(i.node,i.offset),_.addRange(x))))),x=[];for(_=y;_=_.parentNode;)1===_.nodeType&&x.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof y.focus&&y.focus(),y=0;y<x.length;y++)(_=x[y]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Xt=!!Br,zr=Br=null,e.current=n,Gu=r;do{try{for(y=e;null!==Gu;){var O=Gu.flags;if(36&O&&pu(y,Gu.alternate,Gu),128&O){x=void 0;var k=Gu.ref;if(null!==k){var j=Gu.stateNode;switch(Gu.tag){case 5:x=j;break;default:x=j}"function"===typeof k?k(x):k.current=x}}Gu=Gu.nextEffect}}catch(E){if(null===Gu)throw Error(o(330));Ps(Gu,E),Gu=Gu.nextEffect}}while(null!==Gu);Gu=null,Ia(),Su=a}else e.current=n;if(Yu)Yu=!1,Ju=e,Qu=t;else for(Gu=r;null!==Gu;)t=Gu.nextEffect,Gu.nextEffect=null,8&Gu.flags&&((O=Gu).sibling=null,O.stateNode=null),Gu=t;if(0===(r=e.pendingLanes)&&(Xu=null),1===r?e===rs?ns++:(ns=0,rs=e):ns=0,n=n.stateNode,_a&&"function"===typeof _a.onCommitFiberRoot)try{_a.onCommitFiberRoot(xa,n,void 0,64===(64&n.current.flags))}catch(E){}if(hs(e,La()),Ku)throw Ku=!1,e=$u,$u=null,e;return 0!==(8&Su)||Ha(),null}function Ns(){for(;null!==Gu;){var e=Gu.alternate;ss||null===us||(0!==(8&Gu.flags)?et(Gu,us)&&(ss=!0):13===Gu.tag&&ju(e,Gu)&&et(Gu,us)&&(ss=!0));var t=Gu.flags;0!==(256&t)&&hu(e,Gu),0===(512&t)||Yu||(Yu=!0,qa(97,(function(){return Fs(),null}))),Gu=Gu.nextEffect}}function Fs(){if(90!==Qu){var e=97<Qu?97:Qu;return Qu=90,Va(e,Is)}return!1}function Ts(e,t){Zu.push(t,e),Yu||(Yu=!0,qa(97,(function(){return Fs(),null})))}function Ms(e,t){es.push(t,e),Yu||(Yu=!0,qa(97,(function(){return Fs(),null})))}function Is(){if(null===Ju)return!1;var e=Ju;if(Ju=null,0!==(48&Su))throw Error(o(331));var t=Su;Su|=32;var n=es;es=[];for(var r=0;r<n.length;r+=2){var a=n[r],i=n[r+1],u=a.destroy;if(a.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===i)throw Error(o(330));Ps(i,c)}}for(n=Zu,Zu=[],r=0;r<n.length;r+=2){a=n[r],i=n[r+1];try{var s=a.create;a.destroy=s()}catch(c){if(null===i)throw Error(o(330));Ps(i,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Su=t,Ha(),!0}function Rs(e,t,n){si(e,t=cu(0,t=ou(n,t),1)),t=cs(),null!==(e=ds(e,1))&&(Vt(e,1,t),hs(e,t))}function Ps(e,t){if(3===e.tag)Rs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Rs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){var a=lu(n,e=ou(t,e),1);if(si(n,a),a=cs(),null!==(n=ds(n,1)))Vt(n,1,a),hs(n,a);else if("function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r)))try{r.componentDidCatch(t,e)}catch(i){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cs(),e.pingedLanes|=e.suspendedLanes&n,Du===e&&(Fu&n)===n&&(4===Iu||3===Iu&&(62914560&Fu)===Fu&&500>La()-Wu?_s(e,0):Lu|=n),hs(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ua()?1:2:(0===is&&(is=Pu),0===(t=Ut(62914560&~is))&&(t=4194304))),n=cs(),null!==(e=ds(e,t))&&(Vt(e,t,n),hs(e,n))}function Ls(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Us(e,t,n,r){return new Ls(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vs(e,t){var n=e.alternate;return null===n?((n=Us(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qs(e,t,n,r,a,i){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case k:return Hs(n.children,a,i,t);case R:u=8,a|=16;break;case j:u=8,a|=1;break;case E:return(e=Us(12,n,t,8|a)).elementType=E,e.type=E,e.lanes=i,e;case D:return(e=Us(13,n,t,a)).type=D,e.elementType=D,e.lanes=i,e;case N:return(e=Us(19,n,t,a)).elementType=N,e.lanes=i,e;case P:return Gs(n,a,i,t);case B:return(e=Us(24,n,t,a)).elementType=B,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:u=10;break e;case A:u=9;break e;case S:u=11;break e;case F:u=14;break e;case T:u=16,r=null;break e;case M:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Us(u,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Hs(e,t,n,r){return(e=Us(7,e,r,t)).lanes=n,e}function Gs(e,t,n,r){return(e=Us(23,e,r,t)).elementType=P,e.lanes=n,e}function Ks(e,t,n){return(e=Us(6,e,null,t)).lanes=n,e}function $s(e,t,n){return(t=Us(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Wt(0),this.expirationTimes=Wt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wt(0),this.mutableSourceEagerHydrationData=null}function Ys(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:O,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Js(e,t,n,r){var a=t.current,i=cs(),u=ls(a);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(pa(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(pa(c)){n=ga(n,c,s);break e}}n=s}else n=ca;return null===t.context?t.context=n:t.pendingContext=n,(t=ui(i,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),si(a,t),fs(a,u,i),u}function Qs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Zs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ec(e,t){Zs(e,t),(e=e.alternate)&&Zs(e,t)}function tc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xs(e,t,null!=n&&!0===n.hydrate),t=Us(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ii(t),e[Jr]=n.current,Sr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var a=(t=r[e])._getVersion;a=a(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=n}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i._internalRoot;if("function"===typeof a){var u=a;a=function(){var e=Qs(o);u.call(e)}}Js(t,o,e,a)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=i._internalRoot,"function"===typeof a){var s=a;a=function(){var e=Qs(o);s.call(e)}}bs((function(){Js(t,o,e,a)}))}return Qs(o)}function ac(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(o(200));return Ys(e,t,null,n)}Hu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fa.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:qo(t),qi();break;case 5:Fi(t);break;case 1:pa(t.type)&&ba(t);break;case 4:Di(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var a=t.type._context;sa(Xa,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(sa(Mi,1&Mi.current),null!==(t=nu(e,t,n))?t.sibling:null);sa(Mi,1&Mi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return tu(e,t,n);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),sa(Mi,Mi.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return nu(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=ha(t,la.current),ni(t,n),a=ro(null,t,r,e,a,n),t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pa(r)){var i=!0;ba(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ii(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&hi(t,r,u,e),a.updater=pi,t.stateNode=a,a._reactInternals=t,bi(t,r,e,n),t=Vo(null,t,r,!0,i,n)}else t.tag=0,Io(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(i=a._init)(a._payload),t.type=a,i=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===F)return 14}return 2}(a),e=$a(a,e),i){case 0:t=Uo(null,t,a,e,n);break e;case 1:t=Wo(null,t,a,e,n);break e;case 11:t=Ro(null,t,a,e,n);break e;case 14:t=Po(null,t,a,$a(a.type,e),r,n);break e}throw Error(o(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Uo(e,t,r,a=t.elementType===r?a:$a(r,a),n);case 1:return r=t.type,a=t.pendingProps,Wo(e,t,r,a=t.elementType===r?a:$a(r,a),n);case 3:if(qo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,oi(e,t),li(t,r,null,n),(r=t.memoizedState.element)===a)qi(),t=nu(e,t,n);else{if((i=(a=t.stateNode).hydrate)&&(Pi=Hr(t.stateNode.containerInfo.firstChild),Ri=t,i=Bi=!0),i){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(i=e[a])._workInProgressVersionPrimary=e[a+1],Hi.push(i);for(n=ki(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Io(e,t,r,n),qi();t=t.child}return t;case 5:return Fi(t),null===e&&Ui(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,u=a.children,Ur(r,a)?u=null:null!==i&&Ur(r,i)&&(t.flags|=16),Lo(e,t),Io(e,t,u,n),t.child;case 6:return null===e&&Ui(t),null;case 13:return Xo(e,t,n);case 4:return Di(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Oi(t,null,r,n):Io(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Ro(e,t,r,a=t.elementType===r?a:$a(r,a),n);case 7:return Io(e,t,t.pendingProps,n),t.child;case 8:case 12:return Io(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,u=t.memoizedProps,i=a.value;var s=t.type._context;if(sa(Xa,s._currentValue),s._currentValue=i,null!==u)if(s=u.value,0===(i=ur(s,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,i):1073741823))){if(u.children===a.children&&!fa.current){t=nu(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&i)){1===s.tag&&((l=ui(-1,n&-n)).tag=2,si(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ti(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Io(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,ni(t,n),r=r(a=ri(a,i.unstable_observedBits)),t.flags|=1,Io(e,t,r,n),t.child;case 14:return i=$a(a=t.type,t.pendingProps),Po(e,t,a,i=$a(a.type,i),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:$a(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pa(r)?(e=!0,ba(t)):e=!1,ni(t,n),mi(t,r,a),bi(t,r,a,n),Vo(null,t,r,!0,e,n);case 19:return tu(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},tc.prototype.render=function(e){Js(e,this._internalRoot,null,null)},tc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Js(null,e,null,(function(){t[Jr]=null}))},tt=function(e){13===e.tag&&(fs(e,4,cs()),ec(e,4))},nt=function(e){13===e.tag&&(fs(e,67108864,cs()),ec(e,67108864))},rt=function(e){if(13===e.tag){var t=cs(),n=ls(e);fs(e,n,t),ec(e,n)}},at=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=na(r);if(!a)throw Error(o(90));J(r),ne(r,a)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Te=gs,Me=function(e,t,n,r,a){var i=Su;Su|=4;try{return Va(98,e.bind(null,t,n,r,a))}finally{0===(Su=i)&&(qu(),Ha())}},Ie=function(){0===(49&Su)&&(function(){if(null!==ts){var e=ts;ts=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,hs(e,La())}))}Ha()}(),Fs())},Re=function(e,t){var n=Su;Su|=2;try{return e(t)}finally{0===(Su=n)&&(qu(),Ha())}};var ic={Events:[ea,ta,na,Ne,Fe,Fs,{current:!1}]},oc={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uc={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{xa=sc.inject(uc),_a=sc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ic,t.createPortal=ac,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Su;if(0!==(48&n))return e(t);Su|=1;try{if(e)return Va(99,e.bind(null,t))}finally{Su=n,Ha()}},t.hydrate=function(e,t,n){if(!nc(t))throw Error(o(200));return rc(null,e,t,!0,n)},t.render=function(e,t,n){if(!nc(t))throw Error(o(200));return rc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(o(40));return!!e._reactRootContainer&&(bs((function(){rc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Jr]=null}))})),!0)},t.unstable_batchedUpdates=gs,t.unstable_createPortal=function(e,t){return ac(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return rc(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(933)},function(e,t,n){"use strict";var r,a,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var u=performance;t.unstable_now=function(){return u.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,f=null,d=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(d,0))},a=function(e,t){f=setTimeout(e,t)},i=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,b=-1,y=5,x=0;t.unstable_shouldYield=function(){return t.unstable_now()>=x},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,w=_.port2;_.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();x=e+y;try{g(!0,e)?w.postMessage(null):(m=!1,g=null)}catch(n){throw w.postMessage(null),n}}else m=!1},r=function(e){g=e,m||(m=!0,w.postMessage(null))},a=function(e,n){b=h((function(){e(t.unstable_now())}),n)},i=function(){p(b),b=-1}}function O(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<E(a,t)))break e;e[r]=t,e[n]=a,n=r}}function k(e){return void 0===(e=e[0])?null:e}function j(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var i=2*(r+1)-1,o=e[i],u=i+1,s=e[u];if(void 0!==o&&0>E(o,n))void 0!==s&&0>E(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[i]=n,r=i);else{if(!(void 0!==s&&0>E(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],A=[],S=1,D=null,N=3,F=!1,T=!1,M=!1;function I(e){for(var t=k(A);null!==t;){if(null===t.callback)j(A);else{if(!(t.startTime<=e))break;j(A),t.sortIndex=t.expirationTime,O(C,t)}t=k(A)}}function R(e){if(M=!1,I(e),!T)if(null!==k(C))T=!0,r(P);else{var t=k(A);null!==t&&a(R,t.startTime-e)}}function P(e,n){T=!1,M&&(M=!1,i()),F=!0;var r=N;try{for(I(n),D=k(C);null!==D&&(!(D.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=D.callback;if("function"===typeof o){D.callback=null,N=D.priorityLevel;var u=o(D.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?D.callback=u:D===k(C)&&j(C),I(n)}else j(C);D=k(C)}if(null!==D)var s=!0;else{var c=k(A);null!==c&&a(R,c.startTime-n),s=!1}return s}finally{D=null,N=r,F=!1}}var B=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){T||F||(T=!0,r(P))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return k(C)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,n,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:S++,callback:n,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,O(A,e),null===k(C)&&e===k(A)&&(M?i():M=!0,a(R,o-u))):(e.sortIndex=s,O(C,e),T||F||(T=!0,r(P))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},,function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},,function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return be})),n.d(t,"creator",(function(){return s})),n.d(t,"local",(function(){return xe})),n.d(t,"matcher",(function(){return m})),n.d(t,"mouse",(function(){return ke})),n.d(t,"namespace",(function(){return i})),n.d(t,"namespaces",(function(){return a})),n.d(t,"clientPoint",(function(){return Oe})),n.d(t,"select",(function(){return ge})),n.d(t,"selectAll",(function(){return je})),n.d(t,"selection",(function(){return me})),n.d(t,"selector",(function(){return l})),n.d(t,"selectorAll",(function(){return d})),n.d(t,"style",(function(){return F})),n.d(t,"touch",(function(){return Ee})),n.d(t,"touches",(function(){return Ce})),n.d(t,"window",(function(){return A})),n.d(t,"event",(function(){return re})),n.d(t,"customEvent",(function(){return ce}));var r="http://www.w3.org/1999/xhtml",a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},i=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),a.hasOwnProperty(t)?{space:a[t],local:e}:e};function o(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===r&&t.documentElement.namespaceURI===r?t.createElement(e):t.createElementNS(n,e)}}function u(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var s=function(e){var t=i(e);return(t.local?u:o)(t)};function c(){}var l=function(e){return null==e?c:function(){return this.querySelector(e)}};function f(){return[]}var d=function(e){return null==e?f:function(){return this.querySelectorAll(e)}},h=function(e){return function(){return this.matches(e)}};if("undefined"!==typeof document){var p=document.documentElement;if(!p.matches){var v=p.webkitMatchesSelector||p.msMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector;h=function(e){return function(){return v.call(this,e)}}}}var m=h,g=function(e){return new Array(e.length)};function b(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}b.prototype={constructor:b,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function y(e,t,n,r,a,i){for(var o,u=0,s=t.length,c=i.length;u<c;++u)(o=t[u])?(o.__data__=i[u],r[u]=o):n[u]=new b(e,i[u]);for(;u<s;++u)(o=t[u])&&(a[u]=o)}function x(e,t,n,r,a,i,o){var u,s,c,l={},f=t.length,d=i.length,h=new Array(f);for(u=0;u<f;++u)(s=t[u])&&(h[u]=c="$"+o.call(s,s.__data__,u,t),c in l?a[u]=s:l[c]=s);for(u=0;u<d;++u)(s=l[c="$"+o.call(e,i[u],u,i)])?(r[u]=s,s.__data__=i[u],l[c]=null):n[u]=new b(e,i[u]);for(u=0;u<f;++u)(s=t[u])&&l[h[u]]===s&&(a[u]=s)}function _(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function w(e){return function(){this.removeAttribute(e)}}function O(e){return function(){this.removeAttributeNS(e.space,e.local)}}function k(e,t){return function(){this.setAttribute(e,t)}}function j(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function E(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function C(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var A=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function S(e){return function(){this.style.removeProperty(e)}}function D(e,t,n){return function(){this.style.setProperty(e,t,n)}}function N(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function F(e,t){return e.style.getPropertyValue(t)||A(e).getComputedStyle(e,null).getPropertyValue(t)}function T(e){return function(){delete this[e]}}function M(e,t){return function(){this[e]=t}}function I(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function R(e){return e.trim().split(/^|\s+/)}function P(e){return e.classList||new B(e)}function B(e){this._node=e,this._names=R(e.getAttribute("class")||"")}function z(e,t){for(var n=P(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function L(e,t){for(var n=P(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function U(e){return function(){z(this,e)}}function W(e){return function(){L(this,e)}}function V(e,t){return function(){(t.apply(this,arguments)?z:L)(this,e)}}B.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function q(){this.textContent=""}function H(e){return function(){this.textContent=e}}function G(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function K(){this.innerHTML=""}function $(e){return function(){this.innerHTML=e}}function X(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Y(){this.nextSibling&&this.parentNode.appendChild(this)}function J(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Q(){return null}function Z(){var e=this.parentNode;e&&e.removeChild(this)}function ee(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function te(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var ne={},re=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(ne={mouseenter:"mouseover",mouseleave:"mouseout"}));function ae(e,t,n){return e=ie(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function ie(e,t,n){return function(r){var a=re;re=r;try{e.call(this,this.__data__,t,n)}finally{re=a}}}function oe(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function ue(e){return function(){var t=this.__on;if(t){for(var n,r=0,a=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++a]=n:this.removeEventListener(n.type,n.listener,n.capture);++a?t.length=a:delete this.__on}}}function se(e,t,n){var r=ne.hasOwnProperty(e.type)?ae:ie;return function(a,i,o){var u,s=this.__on,c=r(t,i,o);if(s)for(var l=0,f=s.length;l<f;++l)if((u=s[l]).type===e.type&&u.name===e.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=n),void(u.value=t);this.addEventListener(e.type,c,n),u={type:e.type,name:e.name,value:t,listener:c,capture:n},s?s.push(u):this.__on=[u]}}function ce(e,t,n,r){var a=re;e.sourceEvent=re,re=e;try{return t.apply(n,r)}finally{re=a}}function le(e,t,n){var r=A(e),a=r.CustomEvent;"function"===typeof a?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function fe(e,t){return function(){return le(this,e,t)}}function de(e,t){return function(){return le(this,e,t.apply(this,arguments))}}var he=[null];function pe(e,t){this._groups=e,this._parents=t}function ve(){return new pe([[document.documentElement]],he)}pe.prototype=ve.prototype={constructor:pe,select:function(e){"function"!==typeof e&&(e=l(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i,o,u=t[a],s=u.length,c=r[a]=new Array(s),f=0;f<s;++f)(i=u[f])&&(o=e.call(i,i.__data__,f,u))&&("__data__"in i&&(o.__data__=i.__data__),c[f]=o);return new pe(r,this._parents)},selectAll:function(e){"function"!==typeof e&&(e=d(e));for(var t=this._groups,n=t.length,r=[],a=[],i=0;i<n;++i)for(var o,u=t[i],s=u.length,c=0;c<s;++c)(o=u[c])&&(r.push(e.call(o,o.__data__,c,u)),a.push(o));return new pe(r,a)},filter:function(e){"function"!==typeof e&&(e=m(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i,o=t[a],u=o.length,s=r[a]=[],c=0;c<u;++c)(i=o[c])&&e.call(i,i.__data__,c,o)&&s.push(i);return new pe(r,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),l=-1,this.each((function(e){p[++l]=e})),p;var n,r=t?x:y,a=this._parents,i=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var o=i.length,u=new Array(o),s=new Array(o),c=new Array(o),l=0;l<o;++l){var f=a[l],d=i[l],h=d.length,p=e.call(f,f&&f.__data__,l,a),v=p.length,m=s[l]=new Array(v),g=u[l]=new Array(v);r(f,d,m,g,c[l]=new Array(h),p,t);for(var b,_,w=0,O=0;w<v;++w)if(b=m[w]){for(w>=O&&(O=w+1);!(_=g[O])&&++O<v;);b._next=_||null}}return(u=new pe(u,a))._enter=s,u._exit=c,u},enter:function(){return new pe(this._enter||this._groups.map(g),this._parents)},exit:function(){return new pe(this._exit||this._groups.map(g),this._parents)},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),u=0;u<i;++u)for(var s,c=t[u],l=n[u],f=c.length,d=o[u]=new Array(f),h=0;h<f;++h)(s=c[h]||l[h])&&(d[h]=s);for(;u<r;++u)o[u]=t[u];return new pe(o,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,a=e[t],i=a.length-1,o=a[i];--i>=0;)(r=a[i])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=_);for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o,u=n[i],s=u.length,c=a[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(c[l]=o);c.sort(t)}return new pe(a,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a,i=t[n],o=0,u=i.length;o<u;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this},attr:function(e,t){var n=i(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?O:w:"function"===typeof t?n.local?C:E:n.local?j:k)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?S:"function"===typeof t?N:D)(e,t,null==n?"":n)):F(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?T:"function"===typeof t?I:M)(e,t)):this.node()[e]},classed:function(e,t){var n=R(e+"");if(arguments.length<2){for(var r=P(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"===typeof t?V:t?U:W)(n,t))},text:function(e){return arguments.length?this.each(null==e?q:("function"===typeof e?G:H)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?K:("function"===typeof e?X:$)(e)):this.node().innerHTML},raise:function(){return this.each(Y)},lower:function(){return this.each(J)},append:function(e){var t="function"===typeof e?e:s(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:s(e),r=null==t?Q:"function"===typeof t?t:l(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Z)},clone:function(e){return this.select(e?te:ee)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,a,i=oe(e+""),o=i.length;if(!(arguments.length<2)){for(u=t?se:ue,null==n&&(n=!1),r=0;r<o;++r)this.each(u(i[r],t,n));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<o;++r)if((a=i[r]).type===s.type&&a.name===s.name)return s.value},dispatch:function(e,t){return this.each(("function"===typeof t?de:fe)(e,t))}};var me=ve,ge=function(e){return"string"===typeof e?new pe([[document.querySelector(e)]],[document.documentElement]):new pe([[e]],he)},be=function(e){return ge(s(e).call(document.documentElement))},ye=0;function xe(){return new _e}function _e(){this._="@"+(++ye).toString(36)}_e.prototype=xe.prototype={constructor:_e,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var we=function(){for(var e,t=re;e=t.sourceEvent;)t=e;return t},Oe=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]},ke=function(e){var t=we();return t.changedTouches&&(t=t.changedTouches[0]),Oe(e,t)},je=function(e){return"string"===typeof e?new pe([document.querySelectorAll(e)],[document.documentElement]):new pe([null==e?[]:e],he)},Ee=function(e,t,n){arguments.length<3&&(n=t,t=we().changedTouches);for(var r,a=0,i=t?t.length:0;a<i;++a)if((r=t[a]).identifier===n)return Oe(e,r);return null},Ce=function(e,t){null==t&&(t=we().touches);for(var n=0,r=t?t.length:0,a=new Array(r);n<r;++n)a[n]=Oe(e,t[n]);return a}},,function(e,t,n){"use strict";n.r(t),n.d(t,"capitalize",(function(){return r.a})),n.d(t,"createChainedFunction",(function(){return a})),n.d(t,"createSvgIcon",(function(){return h})),n.d(t,"debounce",(function(){return p.a})),n.d(t,"deprecatedPropType",(function(){return v})),n.d(t,"isMuiElement",(function(){return m.a})),n.d(t,"ownerDocument",(function(){return g})),n.d(t,"ownerWindow",(function(){return b})),n.d(t,"requirePropFactory",(function(){return y.a})),n.d(t,"setRef",(function(){return x.a})),n.d(t,"unsupportedProp",(function(){return _})),n.d(t,"useControlled",(function(){return w})),n.d(t,"useEventCallback",(function(){return O.a})),n.d(t,"useForkRef",(function(){return k.a})),n.d(t,"unstable_useId",(function(){return j})),n.d(t,"useIsFocusVisible",(function(){return E.a}));var r=n(95);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var i=n(25),o=n(4),u=n.n(o),s=n(52),c=(n(26),n(66)),l=n(86),f=o.forwardRef((function(e,t){var n=e.children,a=e.classes,u=e.className,l=e.color,f=void 0===l?"inherit":l,d=e.component,h=void 0===d?"svg":d,p=e.fontSize,v=void 0===p?"default":p,m=e.htmlColor,g=e.titleAccess,b=e.viewBox,y=void 0===b?"0 0 24 24":b,x=Object(s.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(h,Object(i.a)({className:Object(c.a)(a.root,u,"inherit"!==f&&a["color".concat(Object(r.a)(f))],"default"!==v&&a["fontSize".concat(Object(r.a)(v))]),focusable:"false",viewBox:y,color:m,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},x),n,g?o.createElement("title",null,g):null)}));f.muiName="SvgIcon";var d=Object(l.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(f);function h(e,t){var n=function(t,n){return u.a.createElement(d,Object(i.a)({ref:n},t),e)};return n.muiName=d.muiName,u.a.memo(u.a.forwardRef(n))}var p=n(351);function v(e,t){return function(){return null}}var m=n(352);function g(e){return e&&e.ownerDocument||document}function b(e){return g(e).defaultView||window}var y=n(425),x=n(276);function _(e,t,n,r,a){return null}function w(e){var t=e.controlled,n=e.default,r=(e.name,e.state,o.useRef(void 0!==t).current),a=o.useState(n),i=a[0],u=a[1];return[r?t:i,o.useCallback((function(e){r||u(e)}),[])]}var O=n(164),k=n(249);function j(e){var t=o.useState(e),n=t[0],r=t[1],a=e||n;return o.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),a}var E=n(349)},function(e,t,n){"use strict";var r={},a={};function i(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function o(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function u(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function s(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),a=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+u(-t,6):t>9999?"+"+u(t,6):u(t,4))+"-"+u(e.getUTCMonth()+1,2)+"-"+u(e.getUTCDate(),2)+(i?"T"+u(n,2)+":"+u(r,2)+":"+u(a,2)+"."+u(i,3)+"Z":a?"T"+u(n,2)+":"+u(r,2)+":"+u(a,2)+"Z":r||n?"T"+u(n,2)+":"+u(r,2)+"Z":"")}t.a=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function u(e,t){var i,o=[],u=e.length,s=0,c=0,l=u<=0,f=!1;function d(){if(l)return a;if(f)return f=!1,r;var t,i,o=s;if(34===e.charCodeAt(o)){for(;s++<u&&34!==e.charCodeAt(s)||34===e.charCodeAt(++s););return(t=s)>=u?l=!0:10===(i=e.charCodeAt(s++))?f=!0:13===i&&(f=!0,10===e.charCodeAt(s)&&++s),e.slice(o+1,t-1).replace(/""/g,'"')}for(;s<u;){if(10===(i=e.charCodeAt(t=s++)))f=!0;else if(13===i)f=!0,10===e.charCodeAt(s)&&++s;else if(i!==n)continue;return e.slice(o,t)}return l=!0,e.slice(o,u)}for(10===e.charCodeAt(u-1)&&--u,13===e.charCodeAt(u-1)&&--u;(i=d())!==a;){for(var h=[];i!==r&&i!==a;)h.push(i),i=d();t&&null==(h=t(h,c++))||o.push(h)}return o}function c(t,n){return t.map((function(t){return n.map((function(e){return f(t[e])})).join(e)}))}function l(t){return t.map(f).join(e)}function f(e){return null==e?"":e instanceof Date?s(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,r,a=u(e,(function(e,a){if(n)return n(e,a-1);r=e,n=t?function(e,t){var n=i(e);return function(r,a){return t(n(r),a,e)}}(e,t):i(e)}));return a.columns=r||[],a},parseRows:u,format:function(t,n){return null==n&&(n=o(t)),[n.map(f).join(e)].concat(c(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=o(e)),c(e,t).join("\n")},formatRows:function(e){return e.map(l).join("\n")},formatRow:l,formatValue:f}}},function(e,t,n){"use strict";var r=n(59),a=n(65),i=Object(r.a)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*a.d-e.getMinutes()*a.c)}),(function(e,t){e.setTime(+e+t*a.b)}),(function(e,t){return(t-e)/a.b}),(function(e){return e.getHours()}));t.a=i;i.range},function(e,t,n){"use strict";var r=n(59),a=n(65),i=Object(r.a)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*a.d)}),(function(e,t){e.setTime(+e+t*a.c)}),(function(e,t){return(t-e)/a.c}),(function(e){return e.getMinutes()}));t.a=i;i.range},function(e,t,n){"use strict";var r=n(59),a=n(65),i=Object(r.a)((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*a.b)}),(function(e,t){return(t-e)/a.b}),(function(e){return e.getUTCHours()}));t.a=i;i.range},function(e,t,n){"use strict";var r=n(59),a=n(65),i=Object(r.a)((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*a.c)}),(function(e,t){return(t-e)/a.c}),(function(e){return e.getUTCMinutes()}));t.a=i;i.range},function(e,t,n){"use strict";var r=n(157);t.a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(t)/3)))-Object(r.a)(Math.abs(e)))}},function(e,t,n){"use strict";var r=n(157);t.a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Object(r.a)(t)-Object(r.a)(e))+1}},function(e,t,n){"use strict";var r=n(157);t.a=function(e){return Math.max(0,-Object(r.a)(Math.abs(e)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),a=n(136);function i(e){return e&&"object"===Object(a.a)(e)&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},a=n.clone?Object(r.a)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e?a[r]=o(e[r],t[r],n):a[r]=t[r])})),a}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(247),a=n(248),i=n(4),o=n.n(i),u=n(26),s=n.n(u),c=n(196),l=n.n(c),f=n(137),d={tag:f.c,fluid:s.a.oneOfType([s.a.bool,s.a.string]),className:s.a.string,cssModule:s.a.object},h=function(e){var t=e.className,n=e.cssModule,i=e.fluid,u=e.tag,s=Object(a.a)(e,["className","cssModule","fluid","tag"]),c="container";!0===i?c="container-fluid":i&&(c="container-"+i);var d=Object(f.b)(l()(t,c),n);return o.a.createElement(u,Object(r.a)({},s,{className:d}))};h.propTypes=d,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){"use strict";var r=n(247),a=n(248),i=n(4),o=n.n(i),u=n(26),s=n.n(u),c=n(196),l=n.n(c),f=n(137),d=s.a.oneOfType([s.a.number,s.a.string]),h={tag:f.c,noGutters:s.a.bool,className:s.a.string,cssModule:s.a.object,form:s.a.bool,xs:d,sm:d,md:d,lg:d,xl:d},p={tag:"div",widths:["xs","sm","md","lg","xl"]},v=function(e){var t=e.className,n=e.cssModule,i=e.noGutters,u=e.tag,s=e.form,c=e.widths,d=Object(a.a)(e,["className","cssModule","noGutters","tag","form","widths"]),h=[];c.forEach((function(t,n){var r=e[t];if(delete d[t],r){var a=!n;h.push(a?"row-cols-"+r:"row-cols-"+t+"-"+r)}}));var p=Object(f.b)(l()(t,i?"no-gutters":null,s?"form-row":"row",h),n);return o.a.createElement(u,Object(r.a)({},d,{className:p}))};v.propTypes=h,v.defaultProps=p,t.a=v},function(e,t,n){"use strict";var r=n(247),a=n(248),i=n(4),o=n.n(i),u=n(26),s=n.n(u),c=n(196),l=n.n(c),f=n(137),d=s.a.oneOfType([s.a.number,s.a.string]),h=s.a.oneOfType([s.a.bool,s.a.number,s.a.string,s.a.shape({size:s.a.oneOfType([s.a.bool,s.a.number,s.a.string]),order:d,offset:d})]),p={tag:f.c,xs:h,sm:h,md:h,lg:h,xl:h,className:s.a.string,cssModule:s.a.object,widths:s.a.array},v={tag:"div",widths:["xs","sm","md","lg","xl"]},m=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},g=function(e){var t=e.className,n=e.cssModule,i=e.widths,u=e.tag,s=Object(a.a)(e,["className","cssModule","widths","tag"]),c=[];i.forEach((function(t,r){var a=e[t];if(delete s[t],a||""===a){var i=!r;if(Object(f.a)(a)){var o,u=i?"-":"-"+t+"-",d=m(i,t,a.size);c.push(Object(f.b)(l()(((o={})[d]=a.size||""===a.size,o["order"+u+a.order]=a.order||0===a.order,o["offset"+u+a.offset]=a.offset||0===a.offset,o)),n))}else{var h=m(i,t,a);c.push(h)}}})),c.length||c.push("col");var d=Object(f.b)(l()(t,c),n);return o.a.createElement(u,Object(r.a)({},s,{className:d}))};g.propTypes=p,g.defaultProps=v,t.a=g},function(e,t,n){"use strict";var r=n(25),a=n(52),i=n(4),o=(n(26),n(66)),u=n(86),s=n(96),c=n(620),l=n(95),f=i.forwardRef((function(e,t){var n=e.edge,u=void 0!==n&&n,s=e.children,f=e.classes,d=e.className,h=e.color,p=void 0===h?"default":h,v=e.disabled,m=void 0!==v&&v,g=e.disableFocusRipple,b=void 0!==g&&g,y=e.size,x=void 0===y?"medium":y,_=Object(a.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return i.createElement(c.a,Object(r.a)({className:Object(o.a)(f.root,d,"default"!==p&&f["color".concat(Object(l.a)(p))],m&&f.disabled,"small"===x&&f["size".concat(Object(l.a)(x))],{start:f.edgeStart,end:f.edgeEnd}[u]),centerRipple:!0,focusRipple:!b,disabled:m,ref:t},_),i.createElement("span",{className:f.label},s))}));t.a=Object(u.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(s.b)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(s.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(s.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(f)},function(e,t,n){"use strict";var r=n(25),a=n(53),i=n(94),o=n.n(i),u=n(4),s=n.n(u),c=n(26),l=n.n(c),f=n(89),d=(l.a.string,l.a.bool,l.a.bool,l.a.bool,l.a.bool,s.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,u=e.fluid,c=e.rounded,l=e.roundedCircle,d=e.thumbnail,h=Object(a.a)(e,["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"]);n=Object(f.a)(n,"img");var p=o()(u&&n+"-fluid",c&&"rounded",l&&"rounded-circle",d&&n+"-thumbnail");return s.a.createElement("img",Object(r.a)({ref:t},h,{className:o()(i,p)}))})));d.displayName="Image",d.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},t.a=d},function(e,t,n){"use strict";var r=n(52),a=n(25),i=n(4),o=(n(26),n(66)),u=n(86),s=[0,1,2,3,4,5,6,7,8,9,10],c=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var f=i.forwardRef((function(e,t){var n=e.alignContent,u=void 0===n?"stretch":n,s=e.alignItems,c=void 0===s?"stretch":s,l=e.classes,f=e.className,d=e.component,h=void 0===d?"div":d,p=e.container,v=void 0!==p&&p,m=e.direction,g=void 0===m?"row":m,b=e.item,y=void 0!==b&&b,x=e.justify,_=void 0===x?"flex-start":x,w=e.lg,O=void 0!==w&&w,k=e.md,j=void 0!==k&&k,E=e.sm,C=void 0!==E&&E,A=e.spacing,S=void 0===A?0:A,D=e.wrap,N=void 0===D?"wrap":D,F=e.xl,T=void 0!==F&&F,M=e.xs,I=void 0!==M&&M,R=e.zeroMinWidth,P=void 0!==R&&R,B=Object(r.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),z=Object(o.a)(l.root,f,v&&[l.container,0!==S&&l["spacing-xs-".concat(String(S))]],y&&l.item,P&&l.zeroMinWidth,"row"!==g&&l["direction-xs-".concat(String(g))],"wrap"!==N&&l["wrap-xs-".concat(String(N))],"stretch"!==c&&l["align-items-xs-".concat(String(c))],"stretch"!==u&&l["align-content-xs-".concat(String(u))],"flex-start"!==_&&l["justify-xs-".concat(String(_))],!1!==I&&l["grid-xs-".concat(String(I))],!1!==C&&l["grid-sm-".concat(String(C))],!1!==j&&l["grid-md-".concat(String(j))],!1!==O&&l["grid-lg-".concat(String(O))],!1!==T&&l["grid-xl-".concat(String(T))]);return i.createElement(h,Object(a.a)({className:z,ref:t},B))})),d=Object(u.a)((function(e){return Object(a.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return s.forEach((function(r){var a=e.spacing(r);0!==a&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(l(a,2)),width:"calc(100% + ".concat(l(a),")"),"& > $item":{padding:l(a,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};c.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var a="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:a,flexGrow:0,maxWidth:a}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(a.a)(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(f);t.a=d},function(e,t,n){"use strict";var r=n(25),a=n(53),i=n(4),o=n.n(i),u=n(26),s=n.n(u),c=n(610),l=n(383),f=n(286),d={id:s.a.any,href:s.a.string,onClick:s.a.func,title:s.a.node.isRequired,disabled:s.a.bool,menuAlign:f.a,menuRole:s.a.string,renderMenuOnMount:s.a.bool,rootCloseEvent:s.a.string,bsPrefix:s.a.string,variant:s.a.string,size:s.a.string},h=o.a.forwardRef((function(e,t){var n=e.title,i=e.children,u=e.bsPrefix,s=e.rootCloseEvent,d=e.variant,h=e.size,p=e.menuAlign,v=e.menuRole,m=e.renderMenuOnMount,g=e.disabled,b=e.href,y=e.id,x=Object(a.a)(e,["title","children","bsPrefix","rootCloseEvent","variant","size","menuAlign","menuRole","renderMenuOnMount","disabled","href","id"]);return o.a.createElement(c.a,Object(r.a)({ref:t},x),o.a.createElement(l.a,{id:y,href:b,size:h,variant:d,disabled:g,childBsPrefix:u},n),o.a.createElement(f.b,{align:p,role:v,renderOnMount:m,rootCloseEvent:s},i))}));h.displayName="DropdownButton",h.propTypes=d,t.a=h},function(e,t,n){"use strict";var r=n(52),a=n(25),i=n(4),o=(n(26),n(66)),u=n(86),s=n(96),c=n(620),l=n(95),f=i.forwardRef((function(e,t){var n=e.children,u=e.classes,s=e.className,f=e.color,d=void 0===f?"default":f,h=e.component,p=void 0===h?"button":h,v=e.disabled,m=void 0!==v&&v,g=e.disableElevation,b=void 0!==g&&g,y=e.disableFocusRipple,x=void 0!==y&&y,_=e.endIcon,w=e.focusVisibleClassName,O=e.fullWidth,k=void 0!==O&&O,j=e.size,E=void 0===j?"medium":j,C=e.startIcon,A=e.type,S=void 0===A?"button":A,D=e.variant,N=void 0===D?"text":D,F=Object(r.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),T=C&&i.createElement("span",{className:Object(o.a)(u.startIcon,u["iconSize".concat(Object(l.a)(E))])},C),M=_&&i.createElement("span",{className:Object(o.a)(u.endIcon,u["iconSize".concat(Object(l.a)(E))])},_);return i.createElement(c.a,Object(a.a)({className:Object(o.a)(u.root,u[N],s,"inherit"===d?u.colorInherit:"default"!==d&&u["".concat(N).concat(Object(l.a)(d))],"medium"!==E&&[u["".concat(N,"Size").concat(Object(l.a)(E))],u["size".concat(Object(l.a)(E))]],b&&u.disableElevation,m&&u.disabled,k&&u.fullWidth),component:p,disabled:m,focusRipple:!x,focusVisibleClassName:Object(o.a)(u.focusVisible,w),ref:t,type:S},F),i.createElement("span",{className:u.label},T,n,M))}));t.a=Object(u.a)((function(e){return{root:Object(a.a)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(s.b)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(s.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(s.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(s.b)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(s.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(s.b)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(s.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(f)},function(e,t,n){"use strict";var r=n(25),a=n(52),i=n(4),o=(n(876),n(26),n(66)),u=n(86),s=i.forwardRef((function(e,t){var n=e.cellHeight,u=void 0===n?180:n,s=e.children,c=e.classes,l=e.className,f=e.cols,d=void 0===f?2:f,h=e.component,p=void 0===h?"ul":h,v=e.spacing,m=void 0===v?4:v,g=e.style,b=Object(a.a)(e,["cellHeight","children","classes","className","cols","component","spacing","style"]);return i.createElement(p,Object(r.a)({className:Object(o.a)(c.root,l),ref:t,style:Object(r.a)({margin:-m/2},g)},b),i.Children.map(s,(function(e){if(!i.isValidElement(e))return null;var t=e.props.cols||1,n=e.props.rows||1;return i.cloneElement(e,{style:Object(r.a)({width:"".concat(100/d*t,"%"),height:"auto"===u?"auto":u*n+m,padding:m/2},e.props.style)})})))}));t.a=Object(u.a)({root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},{name:"MuiGridList"})(s)},function(e,t,n){"use strict";var r=n(25),a=n(52),i=n(115),o=n(4),u=(n(26),n(66)),s=n(351),c=n(86),l=n(352),f=function(e,t){var n,r,a,o;e&&e.complete&&(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight?((n=e.classList).remove.apply(n,Object(i.a)(t.imgFullWidth.split(" "))),(r=e.classList).add.apply(r,Object(i.a)(t.imgFullHeight.split(" ")))):((a=e.classList).remove.apply(a,Object(i.a)(t.imgFullHeight.split(" "))),(o=e.classList).add.apply(o,Object(i.a)(t.imgFullWidth.split(" ")))))};var d=o.forwardRef((function(e,t){var n=e.children,i=e.classes,c=e.className,d=(e.cols,e.component),h=void 0===d?"li":d,p=(e.rows,Object(a.a)(e,["children","classes","className","cols","component","rows"])),v=o.useRef(null);return o.useEffect((function(){!function(e,t){e&&(e.complete?f(e,t):e.addEventListener("load",(function(){f(e,t)})))}(v.current,i)})),o.useEffect((function(){var e=Object(s.a)((function(){f(v.current,i)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[i]),o.createElement(h,Object(r.a)({className:Object(u.a)(i.root,c),ref:t},p),o.createElement("div",{className:i.tile},o.Children.map(n,(function(e){return o.isValidElement(e)?"img"===e.type||Object(l.a)(e,["Image"])?o.cloneElement(e,{ref:v}):e:null}))))}));t.a=Object(c.a)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(d)},function(e,t,n){"use strict";var r=n(25),a=n(52),i=n(64),o=n(4),u=(n(26),n(66)),s=n(86),c=n(95),l=o.forwardRef((function(e,t){var n=e.classes,i=e.className,s=e.component,l=void 0===s?"div":s,f=e.disableGutters,d=void 0!==f&&f,h=e.fixed,p=void 0!==h&&h,v=e.maxWidth,m=void 0===v?"lg":v,g=Object(a.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return o.createElement(l,Object(r.a)({className:Object(u.a)(n.root,i,p&&n.fixed,d&&n.disableGutters,!1!==m&&n["maxWidth".concat(Object(c.a)(String(m)))]),ref:t},g))}));t.a=Object(s.a)((function(e){return{root:Object(i.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:r}),t}),{}),maxWidthXs:Object(i.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(i.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(i.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(i.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(i.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(l)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(63);function a(e,t,n,a){var i=Array.from(e),o=Array.from(t),u=r.b(i.splice(n,1),1)[0];return o.splice(a,0,u),[i,o]}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(591);var o=n(592),u=n(593);function s(e,t){return Object(i.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,i=s}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}}(e,t)||Object(o.a)(e,t)||Object(u.a)()}function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=n(4),f=n.n(l),d=n(252),h=n.n(d),p=n(594);function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=n(596),w=n.n(_);function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return!t||"object"!==w()(t)&&"function"!==typeof t?O(e):t}function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var a=x(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return k(this,n)}}var E={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},C={lang:r({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:r({},E)},A="${label} is not a valid ${type}",S={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},DatePicker:C,TimePicker:E,Calendar:C,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:A,method:A,array:A,object:A,number:A,date:A,boolean:A,integer:A,float:A,regexp:A,email:A,url:A,hex:A},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},D=Object(l.createContext)(void 0),N=function(e){y(n,e);var t=j(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||S[t||"global"],a=this.context,i=t&&a?a[t]:{};return r(r({},"function"===typeof n?n():n),i||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?S.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(l.Component);N.defaultProps={componentName:"global"},N.contextType=D;var F=function(){var e=(0,l.useContext(L).getPrefixCls)("empty-img-default");return l.createElement("svg",{className:e,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("g",{transform:"translate(24 31.67)"},l.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),l.createElement("path",{className:"".concat(e,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),l.createElement("path",{className:"".concat(e,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),l.createElement("path",{className:"".concat(e,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),l.createElement("path",{className:"".concat(e,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),l.createElement("path",{className:"".concat(e,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),l.createElement("g",{className:"".concat(e,"-g"),transform:"translate(149.65 15.383)"},l.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),l.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},T=function(){var e=(0,l.useContext(L).getPrefixCls)("empty-img-simple");return l.createElement("svg",{className:e,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},l.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},l.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),l.createElement("g",{className:"".concat(e,"-g"),fillRule:"nonzero"},l.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),l.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(e,"-path")}))))},M=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},I=l.createElement(F,null),R=l.createElement(T,null),P=function(e){var t=e.className,n=e.prefixCls,i=e.image,o=void 0===i?I:i,u=e.description,s=e.children,c=e.imageStyle,f=M(e,["className","prefixCls","image","description","children","imageStyle"]),d=l.useContext(L),p=d.getPrefixCls,v=d.direction;return l.createElement(N,{componentName:"Empty"},(function(e){var i,d=p("empty",n),m="undefined"!==typeof u?u:e.description,g="string"===typeof m?m:"empty",b=null;return b="string"===typeof o?l.createElement("img",{alt:g,src:o}):o,l.createElement("div",r({className:h()(d,(i={},a(i,"".concat(d,"-normal"),o===R),a(i,"".concat(d,"-rtl"),"rtl"===v),i),t)},f),l.createElement("div",{className:"".concat(d,"-image"),style:c},b),m&&l.createElement("div",{className:"".concat(d,"-description")},m),s&&l.createElement("div",{className:"".concat(d,"-footer")},s))}))};P.PRESENTED_IMAGE_DEFAULT=I,P.PRESENTED_IMAGE_SIMPLE=R;var B=P,z=function(e){return l.createElement(U,null,(function(t){var n=(0,t.getPrefixCls)("empty");switch(e){case"Table":case"List":return l.createElement(B,{image:B.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return l.createElement(B,{image:B.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return l.createElement(B,null)}}))},L=l.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:z}),U=L.Consumer;var W=function e(t){return v(this,e),new Error("unreachable case: ".concat(JSON.stringify(t)))},V=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},q=function(e){return l.createElement(U,null,(function(t){var n,i=t.getPrefixCls,o=t.direction,u=e.prefixCls,s=e.size,c=e.className,f=V(e,["prefixCls","size","className"]),d=i("btn-group",u),p="";switch(s){case"large":p="lg";break;case"small":p="sm";break;case"middle":case void 0:break;default:console.warn(new W(s))}var v=h()(d,(a(n={},"".concat(d,"-").concat(p),p),a(n,"".concat(d,"-rtl"),"rtl"===o),n),c);return l.createElement("div",r({},f,{className:v}))}))},H=n(612),G=n(198),K="rc-util-key";function $(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function X(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object(G.a)())return null;var r,a=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(a.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);a.innerHTML=e;var i=$(n),o=i.firstChild;return n.prepend&&o?i.insertBefore(a,o):i.appendChild(a),a}var Y=new Map;function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=$(n);if(!Y.has(r)){var a=X("",n),i=a.parentElement;Y.set(r,i),i.removeChild(a)}var o=Object(H.a)(Y.get(r).children).find((function(e){return"STYLE"===e.tagName&&e[K]===t}));if(o){var u,s,c;if((null===(u=n.csp)||void 0===u?void 0:u.nonce)&&o.nonce!==(null===(s=n.csp)||void 0===s?void 0:s.nonce))o.nonce=null===(c=n.csp)||void 0===c?void 0:c.nonce;return o.innerHTML!==e&&(o.innerHTML=e),o}var l=X(e,n);return l[K]=t,l}var Q=n(284),Z=n(200),ee=0,te={};function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=ee++,r=t;function a(){(r-=1)<=0?(e(),delete te[n]):te[n]=Object(Z.a)(a)}return te[n]=Object(Z.a)(a),n}ne.cancel=function(e){void 0!==e&&(Z.a.cancel(te[e]),delete te[e])},ne.ids=te;var re,ae=l.isValidElement;function ie(e,t){return function(e,t,n){return ae(e)?l.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t}(e,e,t)}function oe(e){return!e||null===e.offsetParent||e.hidden}function ue(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}var se=function(e){y(n,e);var t=j(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).containerRef=l.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,a;if(!(!t||oe(t)||t.className.indexOf("-leave")>=0)){var i=e.props.insertExtraNode;e.extraNode=document.createElement("div");var o=O(e).extraNode,u=e.context.getPrefixCls;o.className="".concat(u(""),"-click-animating-node");var s=e.getAttributeName();if(t.setAttribute(s,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&ue(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){o.style.borderColor=n;var c=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,l=c instanceof Document?c.body:null!==(a=c.firstChild)&&void 0!==a?a:c;re=J("\n      [".concat(u(""),"-click-animating-without-extra-node='true']::after, .").concat(u(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:l})}i&&t.appendChild(o),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!oe(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),ne.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=ne((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(t){var n=t.csp,r=e.props.children;if(e.csp=n,!l.isValidElement(r))return r;var a=e.containerRef;return Object(Q.c)(r)&&(a=Object(Q.a)(r.ref,e.containerRef)),ie(r,{ref:a})},e}return g(n,[{key:"componentDidMount",value:function(){var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),re&&(re.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return l.createElement(U,null,this.renderWave)}}]),n}(l.Component);se.contextType=L;var ce=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},le=n(278),fe=function(e,t,n){Object(le.a)(e,"[antd: ".concat(t,"] ").concat(n))},de=l.createContext(void 0),he=de,pe=n(611),ve={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,i=s}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var xe=n(600),_e=n.n(xe),we=Object(l.createContext)({});function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e){return(je="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function Ce(e){return e<=1?100*Number(e)+"%":e}function Ae(e){return 1===e.length?"0"+e:String(e)}function Se(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function De(e){return Ne(e)/255}function Ne(e){return parseInt(e,16)}var Fe={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Te(e){var t,n,r,a={r:0,g:0,b:0},i=1,o=null,u=null,s=null,c=!1,l=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(Fe[e])e=Fe[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=Pe.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=Pe.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=Pe.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=Pe.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=Pe.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=Pe.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=Pe.hex8.exec(e))return{r:Ne(n[1]),g:Ne(n[2]),b:Ne(n[3]),a:De(n[4]),format:t?"name":"hex8"};if(n=Pe.hex6.exec(e))return{r:Ne(n[1]),g:Ne(n[2]),b:Ne(n[3]),format:t?"name":"hex"};if(n=Pe.hex4.exec(e))return{r:Ne(n[1]+n[1]),g:Ne(n[2]+n[2]),b:Ne(n[3]+n[3]),a:De(n[4]+n[4]),format:t?"name":"hex8"};if(n=Pe.hex3.exec(e))return{r:Ne(n[1]+n[1]),g:Ne(n[2]+n[2]),b:Ne(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(Be(e.r)&&Be(e.g)&&Be(e.b)?(t=e.r,n=e.g,r=e.b,a={r:255*Ee(t,255),g:255*Ee(n,255),b:255*Ee(r,255)},c=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):Be(e.h)&&Be(e.s)&&Be(e.v)?(o=Ce(e.s),u=Ce(e.v),a=function(e,t,n){e=6*Ee(e,360),t=Ee(t,100),n=Ee(n,100);var r=Math.floor(e),a=e-r,i=n*(1-t),o=n*(1-a*t),u=n*(1-(1-a)*t),s=r%6;return{r:255*[n,o,i,i,u,n][s],g:255*[u,n,n,o,i,i][s],b:255*[i,i,u,n,n,o][s]}}(e.h,o,u),c=!0,l="hsv"):Be(e.h)&&Be(e.s)&&Be(e.l)&&(o=Ce(e.s),s=Ce(e.l),a=function(e,t,n){var r,a,i;if(e=Ee(e,360),t=Ee(t,100),n=Ee(n,100),0===t)a=n,i=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,u=2*n-o;r=Se(u,o,e+1/3),a=Se(u,o,e),i=Se(u,o,e-1/3)}return{r:255*r,g:255*a,b:255*i}}(e.h,o,s),c=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(i=e.a)),i=function(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}(i),{ok:c,format:e.format||l,r:Math.min(255,Math.max(a.r,0)),g:Math.min(255,Math.max(a.g,0)),b:Math.min(255,Math.max(a.b,0)),a:i}}var Me="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",Ie="[\\s|\\(]+("+Me+")[,|\\s]+("+Me+")[,|\\s]+("+Me+")\\s*\\)?",Re="[\\s|\\(]+("+Me+")[,|\\s]+("+Me+")[,|\\s]+("+Me+")[,|\\s]+("+Me+")\\s*\\)?",Pe={CSS_UNIT:new RegExp(Me),rgb:new RegExp("rgb"+Ie),rgba:new RegExp("rgba"+Re),hsl:new RegExp("hsl"+Ie),hsla:new RegExp("hsla"+Re),hsv:new RegExp("hsv"+Ie),hsva:new RegExp("hsva"+Re),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Be(e){return Boolean(Pe.CSS_UNIT.exec(String(e)))}var ze=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Le(e){var t=function(e,t,n){e=Ee(e,255),t=Ee(t,255),n=Ee(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),i=0,o=r,u=r-a,s=0===r?0:u/r;if(r===a)i=0;else{switch(r){case e:i=(t-n)/u+(t<n?6:0);break;case t:i=(n-e)/u+2;break;case n:i=(e-t)/u+4}i/=6}return{h:i,s:s,v:o}}(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function Ue(e){var t=e.r,n=e.g,r=e.b;return"#".concat(function(e,t,n,r){var a=[Ae(Math.round(e).toString(16)),Ae(Math.round(t).toString(16)),Ae(Math.round(n).toString(16))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}(t,n,r,!1))}function We(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function Ve(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function qe(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function He(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function Ge(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Te(e),a=5;a>0;a-=1){var i=Le(r),o=Ue(Te({h:Ve(i,a,!0),s:qe(i,a,!0),v:He(i,a,!0)}));n.push(o)}n.push(Ue(r));for(var u=1;u<=4;u+=1){var s=Le(r),c=Ue(Te({h:Ve(s,u),s:qe(s,u),v:He(s,u)}));n.push(c)}return"dark"===t.theme?ze.map((function(e){var r=e.index,a=e.opacity;return Ue(We(Te(t.backgroundColor||"#141414"),Te(n[r]),100*a))})):n}var Ke={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},$e={},Xe={};Object.keys(Ke).forEach((function(e){$e[e]=Ge(Ke[e]),$e[e].primary=$e[e][5],Xe[e]=Ge(Ke[e],{theme:"dark",backgroundColor:"#141414"}),Xe[e].primary=Xe[e][5]}));$e.red,$e.volcano,$e.gold,$e.orange,$e.yellow,$e.lime,$e.green,$e.cyan,$e.blue,$e.geekblue,$e.purple,$e.magenta,$e.grey;function Ye(e){return"object"===je(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===je(e.icon)||"function"===typeof e.icon)}function Je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];switch(n){case"class":t.className=r,delete t.class;break;default:t[n]=r}return t}),{})}function Qe(e,t,n){return n?f.a.createElement(e.tag,ke(ke({key:t},Je(e.attrs)),n),(e.children||[]).map((function(n,r){return Qe(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):f.a.createElement(e.tag,ke({key:t},Je(e.attrs)),(e.children||[]).map((function(n,r){return Qe(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function Ze(e){return Ge(e)[0]}function et(e){return e?Array.isArray(e)?e:[e]:[]}var tt="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",nt={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var rt=function(e){var t,n,r=e.icon,a=e.className,i=e.onClick,o=e.style,u=e.primaryColor,s=e.secondaryColor,c=ye(e,["icon","className","onClick","style","primaryColor","secondaryColor"]),f=nt;if(u&&(f={primaryColor:u,secondaryColor:s||Ze(u)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=Object(l.useContext)(we).csp;Object(l.useEffect)((function(){J(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),t=Ye(r),n="icon should be icon definiton, but got ".concat(r),Object(le.a)(t,"[@ant-design/icons] ".concat(n)),!Ye(r))return null;var d=r;return d&&"function"===typeof d.icon&&(d=ke(ke({},d),{},{icon:d.icon(f.primaryColor,f.secondaryColor)})),Qe(d.icon,"svg-".concat(d.name),ke({className:a,onClick:i,style:o,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c))};rt.displayName="IconReact",rt.getTwoToneColors=function(){return ke({},nt)},rt.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;nt.primaryColor=t,nt.secondaryColor=n||Ze(t),nt.calculated=!!n};var at=rt;function it(e){var t=ge(et(e),2),n=t[0],r=t[1];return at.setTwoToneColors({primaryColor:n,secondaryColor:r})}it("#1890ff");var ot=l.forwardRef((function(e,t){var n,r=e.className,a=e.icon,i=e.spin,o=e.rotate,u=e.tabIndex,s=e.onClick,c=e.twoToneColor,f=ye(e,["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"]),d=l.useContext(we).prefixCls,h=void 0===d?"anticon":d,p=_e()(h,(be(n={},"".concat(h,"-").concat(a.name),!!a.name),be(n,"".concat(h,"-spin"),!!i||"loading"===a.name),n),r),v=u;void 0===v&&s&&(v=-1);var m=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,g=ge(et(c),2),b=g[0],y=g[1];return l.createElement("span",Object.assign({role:"img","aria-label":a.name},f,{ref:t,tabIndex:v,onClick:s,className:p}),l.createElement(at,{icon:a,primaryColor:b,secondaryColor:y,style:m}))}));ot.displayName="AntdIcon",ot.getTwoToneColor=function(){var e=at.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},ot.setTwoToneColor=it;var ut=ot,st=function(e,t){return l.createElement(ut,Object.assign({},e,{ref:t,icon:ve}))};st.displayName="LoadingOutlined";var ct=l.forwardRef(st),lt=function(){return{width:0,opacity:0,transform:"scale(0)"}},ft=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},dt=function(e){var t=e.prefixCls,n=!!e.loading;return e.existIcon?f.a.createElement("span",{className:"".concat(t,"-loading-icon")},f.a.createElement(ct,null)):f.a.createElement(pe.a,{visible:n,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:lt,onAppearActive:ft,onEnterStart:lt,onEnterActive:ft,onLeaveStart:ft,onLeaveActive:lt},(function(e,n){var r=e.className,a=e.style;return f.a.createElement("span",{className:"".concat(t,"-loading-icon"),style:a,ref:n},f.a.createElement(ct,{className:r}))}))},ht=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},pt=/^[\u4e00-\u9fa5]{2}$/,vt=pt.test.bind(pt);function mt(e){return"text"===e||"link"===e}function gt(e,t){var n=!1,r=[];return l.Children.forEach(e,(function(e){var t=c(e),a="string"===t||"number"===t;if(n&&a){var i=r.length-1,o=r[i];r[i]="".concat(o).concat(e)}else r.push(e);n=a})),l.Children.map(r,(function(e){return function(e,t){if(null!=e){var n=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&vt(e.props.children)?ie(e,{children:e.props.children.split("").join(n)}):"string"===typeof e?(vt(e)&&(e=e.split("").join(n)),l.createElement("span",null,e)):e}}(e,t)}))}ce("default","primary","ghost","dashed","link","text"),ce("circle","round"),ce("submit","button","reset");var bt=function(e,t){var n,i,o=e.loading,u=void 0!==o&&o,f=e.prefixCls,d=e.type,v=e.danger,m=e.shape,g=e.size,b=e.className,y=e.children,x=e.icon,_=e.ghost,w=void 0!==_&&_,O=e.block,k=void 0!==O&&O,j=e.htmlType,E=void 0===j?"button":j,C=ht(e,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),A=l.useContext(he),S=s(l.useState(!!u),2),D=S[0],N=S[1],F=s(l.useState(!1),2),T=F[0],M=F[1],I=l.useContext(L),R=I.getPrefixCls,P=I.autoInsertSpaceInButton,B=I.direction,z=t||l.createRef(),U=l.useRef(),W=function(){return 1===l.Children.count(y)&&!x&&!mt(d)};i="object"===c(u)&&u.delay?u.delay||!0:!!u,l.useEffect((function(){clearTimeout(U.current),"number"===typeof i?U.current=window.setTimeout((function(){N(i)}),i):N(i)}),[i]),l.useEffect((function(){if(z&&z.current&&!1!==P){var e=z.current.textContent;W()&&vt(e)?T||M(!0):T&&M(!1)}}),[z]);var V=function(t){var n,r=e.onClick;D||null===(n=r)||void 0===n||n(t)};fe(!("string"===typeof x&&x.length>2),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(x,"` at https://ant.design/components/icon")),fe(!(w&&mt(d)),"Button","`link` or `text` button can't be a `ghost` button.");var q=R("btn",f),H=!1!==P,G="";switch(g||A){case"large":G="lg";break;case"small":G="sm"}var K=D?"loading":x,$=h()(q,(a(n={},"".concat(q,"-").concat(d),d),a(n,"".concat(q,"-").concat(m),m),a(n,"".concat(q,"-").concat(G),G),a(n,"".concat(q,"-icon-only"),!y&&0!==y&&!!K),a(n,"".concat(q,"-background-ghost"),w&&!mt(d)),a(n,"".concat(q,"-loading"),D),a(n,"".concat(q,"-two-chinese-chars"),T&&H),a(n,"".concat(q,"-block"),k),a(n,"".concat(q,"-dangerous"),!!v),a(n,"".concat(q,"-rtl"),"rtl"===B),n),b),X=x&&!D?x:l.createElement(dt,{existIcon:!!x,prefixCls:q,loading:!!D}),Y=y||0===y?gt(y,W()&&H):null,J=Object(p.a)(C,["navigate"]);if(void 0!==J.href)return l.createElement("a",r({},J,{className:$,onClick:V,ref:z}),X,Y);var Q=l.createElement("button",r({},C,{type:E,className:$,onClick:V,ref:z}),X,Y);return mt(d)?Q:l.createElement(se,null,Q)},yt=l.forwardRef(bt);yt.displayName="Button",yt.Group=q,yt.__ANT_BUTTON=!0;var xt=yt;t.a=xt},function(e,t,n){"use strict";n.d(t,"a",(function(){return fn}));var r=n(52),a=n(25),i=n(4),o=n.n(i),u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s="object"===("undefined"===typeof window?"undefined":u(window))&&"object"===("undefined"===typeof document?"undefined":u(document))&&9===document.nodeType,c=(n(161),n(182)),l=n(282),f=n(283),d=n(53),h={}.constructor;function p(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(p);if(e.constructor!==h)return e;var t={};for(var n in e)t[n]=p(e[n]);return t}function v(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,a=p(t),i=r.plugins.onCreateRule(e,a,n);return i||(e[0],null)}var m=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},g=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=m(e[r]," ");else n=m(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function b(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function y(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var a=n.indent,i=void 0===a?0:a,o=t.fallbacks;if(e&&i++,o)if(Array.isArray(o))for(var u=0;u<o.length;u++){var s=o[u];for(var c in s){var l=s[c];null!=l&&(r&&(r+="\n"),r+=""+b(c+": "+g(l)+";",i))}}else for(var f in o){var d=o[f];null!=d&&(r&&(r+="\n"),r+=""+b(f+": "+g(d)+";",i))}for(var h in t){var p=t[h];null!=p&&"fallbacks"!==h&&(r&&(r+="\n"),r+=""+b(h+": "+g(p)+";",i))}return(r||n.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),b(e+" {"+r,--i)+b("}",i)):r}var x=/([[\].#*$><+~=|^:(),"'`\s])/g,_="undefined"!==typeof CSS&&CSS.escape,w=function(e){return _?_(e):e.replace(x,"\\$1")},O=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,a=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:a&&(this.renderer=new a)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var a=t;n&&!1===n.process||(a=this.options.jss.plugins.onChangeValue(t,e,this));var i=null==a||!1===a,o=e in this.style;if(i&&!o&&!r)return this;var u=i&&o;if(u?delete this.style[e]:this.style[e]=a,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,a),this;var s=this.options.sheet;return s&&s.attached,this},e}(),k=function(e){function t(t,n,r){var a;(a=e.call(this,t,n,r)||this).selectorText=void 0,a.id=void 0,a.renderable=void 0;var i=r.selector,o=r.scoped,u=r.sheet,s=r.generateId;return i?a.selectorText=i:!1!==o&&(a.id=s(Object(f.a)(Object(f.a)(a)),u),a.selectorText="."+w(a.id)),a}Object(l.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=g(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(a.a)({},e,{allowEmpty:!0}):e;return y(this.selectorText,this.style,n)},Object(c.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(O),j={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new k(e,t,n)}},E={indent:1,children:!0},C=/@([\w-]+)/,A=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e;var r=e.match(C);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new J(Object(a.a)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=E),null==e.indent&&(e.indent=E.indent),null==e.children&&(e.children=E.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),S=/@media|@supports\s+/,D={onCreateRule:function(e,t,n){return S.test(e)?new A(e,t,n):null}},N={indent:1,children:!0},F=/@keyframes\s+([\w-]+)/,T=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var r=e.match(F);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,o=n.sheet,u=n.generateId;for(var s in this.id=!1===i?this.name:w(u(this,o)),this.rules=new J(Object(a.a)({},n,{parent:this})),t)this.rules.add(s,t[s],Object(a.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=N),null==e.indent&&(e.indent=N.indent),null==e.children&&(e.children=N.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),M=/@keyframes\s+/,I=/\$([\w-]+)/g,R=function(e,t){return"string"===typeof e?e.replace(I,(function(e,n){return n in t?t[n]:e})):e},P=function(e,t,n){var r=e[t],a=R(r,n);a!==r&&(e[t]=a)},B={onCreateRule:function(e,t,n){return"string"===typeof e&&M.test(e)?new T(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&P(e,"animation-name",n.keyframes),"animation"in e&&P(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return R(e,r.keyframes);default:return e}}},z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return Object(l.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(a.a)({},e,{allowEmpty:!0}):e;return y(this.key,this.style,n)},t}(O),L={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new z(e,t,n):null}},U=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=y(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return y(this.at,this.style,e)},e}(),W=/@font-face/,V={onCreateRule:function(e,t,n){return W.test(e)?new U(e,t,n):null}},q=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return y(this.key,this.style,e)},e}(),H={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new q(e,t,n):null}},G=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),K={"@charset":!0,"@import":!0,"@namespace":!0},$=[j,D,B,L,V,H,{onCreateRule:function(e,t,n){return e in K?new G(e,t,n):null}}],X={process:!0},Y={force:!0,process:!0},J=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,o=r.sheet,u=r.jss,s=r.Renderer,c=r.generateId,l=r.scoped,f=Object(a.a)({classes:this.classes,parent:i,sheet:o,jss:u,Renderer:s,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(f.selector="."+w(this.classes[d]));var h=v(d,t,f);if(!h)return null;this.register(h);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,h),h},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof k?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof T&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof k?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof T&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=X);var a=this.options,i=a.jss.plugins,o=a.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t,s=u.style;if(i.onUpdate(n,t,o,r),r.process&&s&&s!==u.style){for(var c in i.onProcessStyle(u.style,u,o),u.style){var l=u.style[c];l!==s[c]&&u.prop(c,l,Y)}for(var f in s){var d=u.style[f],h=s[f];null==d&&d!==h&&u.prop(f,null,Y)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,a=0;a<this.index.length;a++){var i=this.index[a].toString(e);(i||r)&&(t&&(t+="\n"),t+=i)}return t},e}(),Q=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(a.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new J(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var a=this.rules.add(e,t,n);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?this.deployed?(r?r.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),a):a:(this.deployed=!1,a)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var a=this.addRule(r,e[r],t);a&&n.push(a)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Z=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var a=this.registry.onCreateRule[r](e,t,n);if(a)return a}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,a=0;a<this.registry.onChangeValue.length;a++)r=this.registry.onChangeValue[a](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ee=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(d.a)(t,["attached"]),a="",i=0;i<this.registry.length;i++){var o=this.registry[i];null!=n&&o.attached!==n||(a&&(a+="\n"),a+=o.toString(r))}return a},Object(c.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),te="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ne="2f1acc6c3a606b082e5eef5e54414ffb";null==te[ne]&&(te[ne]=0);var re=te[ne]++,ae=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var a="",i="";return r&&(r.options.classNamePrefix&&(i=r.options.classNamePrefix),null!=r.options.jss.id&&(a=String(r.options.jss.id))),e.minify?""+(i||"c")+re+a+t:i+n.key+"-"+re+(a?"-"+a:"")+"-"+t}},ie=function(e){var t;return function(){return t||(t=e()),t}},oe=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ue=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=g(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(a){return!1}return!0},se=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},ce=function(e,t){return e.selectorText=t,e.selectorText===t},le=ie((function(){return document.querySelector("head")}));function fe(e){var t=ee.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var a=function(e){for(var t=le(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(a)return{parent:a.parentNode,node:a.nextSibling}}return!1}var de=ie((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),he=function(e,t,n){try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(r){return!1}return e.cssRules[n]},pe=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ve=function(){function e(e){this.getPropertyValue=oe,this.setProperty=ue,this.removeProperty=se,this.setSelector=ce,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],e&&ee.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,a=t.element;this.element=a||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var i=de();i&&this.element.setAttribute("nonce",i)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=fe(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var a=n,i=a.parentNode;i&&i.insertBefore(e,a.nextSibling)}else le().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,a=n;if("conditional"===e.type||"keyframes"===e.type){var i=pe(n,t);if(!1===(a=he(n,r.toString({children:!1}),i)))return!1;this.refCssRule(e,i,a)}return this.insertRules(r.rules,a),a}var o=e.toString();if(!o)return!1;var u=pe(n,t),s=he(n,o,u);return!1!==s&&(this.hasInsertedRules=!0,this.refCssRule(e,u,s),s)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Q&&(this.cssRules[t]=n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),me=0,ge=function(){function e(e){this.id=me++,this.version="10.6.0",this.plugins=new Z,this.options={id:{minify:!1},createGenerateId:ae,Renderer:s?ve:null,plugins:[]},this.generateId=ae({minify:!1});for(var t=0;t<$.length;t++)this.plugins.use($[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(a.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ee.index?0:ee.index+1);var r=new Q(e,Object(a.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ee.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=Object(a.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=v(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}();function be(e){var t=null;for(var n in e){var r=e[n],a=typeof r;if("function"===a)t||(t={}),t[n]=r;else if("object"===a&&null!==r&&!Array.isArray(r)){var i=be(r);i&&(t||(t={}),t[n]=i)}}return t}var ye="object"===typeof CSS&&null!=CSS&&"number"in CSS,xe=function(e){return new ge(e)};xe();function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=Object(a.a)({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var we={set:function(e,t,n,r){var a=e.get(t);a||(a=new Map,e.set(t,a)),a.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Oe=n(992),ke=(n(26),"function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__"),je=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Ee=Date.now(),Ce="fnValues"+Ee,Ae="fnStyle"+ ++Ee,Se=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=v(e,{},n);return r[Ae]=t,r},onProcessStyle:function(e,t){if(Ce in t||Ae in t)return e;var n={};for(var r in e){var a=e[r];"function"===typeof a&&(delete e[r],n[r]=a)}return t[Ce]=n,e},onUpdate:function(e,t,n,r){var a=t,i=a[Ae];i&&(a.style=i(e)||{});var o=a[Ce];if(o)for(var u in o)a.prop(u,o[u](e),r)}}},De="@global",Ne="@global ",Fe=function(){function e(e,t,n){for(var r in this.type="global",this.at=De,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new J(Object(a.a)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),Te=function(){function e(e,t,n){this.type="global",this.at=De,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var r=e.substr(Ne.length);this.rule=n.jss.createRule(r,t,Object(a.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Me=/\s*,\s*/g;function Ie(e,t){for(var n=e.split(Me),r="",a=0;a<n.length;a++)r+=t+" "+n[a].trim(),n[a+1]&&(r+=", ");return r}var Re=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===De)return new Fe(e,t,n);if("@"===e[0]&&e.substr(0,Ne.length)===Ne)return new Te(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[De]:null;if(i){for(var o in i)t.addRule(o,i[o],Object(a.a)({},n,{selector:Ie(o,e.selector)}));delete r[De]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,De.length)===De){var o=Ie(i.substr(De.length),e.selector);t.addRule(o,r[i],Object(a.a)({},n,{selector:o})),delete r[i]}}(e,t))}}},Pe=/\s*,\s*/g,Be=/&/g,ze=/\$([\w-]+)/g;var Le=function(){function e(e,t){return function(n,r){var a=e.getRule(r)||t&&t.getRule(r);return a?(a=a).selector:r}}function t(e,t){for(var n=t.split(Pe),r=e.split(Pe),a="",i=0;i<n.length;i++)for(var o=n[i],u=0;u<r.length;u++){var s=r[u];a&&(a+=", "),a+=-1!==s.indexOf("&")?s.replace(Be,o):o+" "+s}return a}function n(e,t,n){if(n)return Object(a.a)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=Object(a.a)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,o){if("style"!==i.type)return r;var u,s,c=i,l=c.options.parent;for(var f in r){var d=-1!==f.indexOf("&"),h="@"===f[0];if(d||h){if(u=n(c,l,u),d){var p=t(f,c.selector);s||(s=e(l,o)),p=p.replace(ze,s),l.addRule(p,r[f],Object(a.a)({},u,{selector:p}))}else h&&l.addRule(f,{},u).addRule(c.key,r[f],{selector:c.selector});delete r[f]}}return r}}},Ue=n(369);function We(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Object(Ue.default)(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(We):t.fallbacks=We(e.fallbacks)),t}var Ve=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=We(e[t]);return e}return We(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Object(Ue.default)(t);return t===r?e:(n.prop(r,e),null)}}},qe=ye&&CSS?CSS.px:"px",He=ye&&CSS?CSS.ms:"ms",Ge=ye&&CSS?CSS.percent:"%";function Ke(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var a in e)r[a]=e[a],r[a.replace(t,n)]=e[a];return r}var $e=Ke({"animation-delay":He,"animation-duration":He,"background-position":qe,"background-position-x":qe,"background-position-y":qe,"background-size":qe,border:qe,"border-bottom":qe,"border-bottom-left-radius":qe,"border-bottom-right-radius":qe,"border-bottom-width":qe,"border-left":qe,"border-left-width":qe,"border-radius":qe,"border-right":qe,"border-right-width":qe,"border-top":qe,"border-top-left-radius":qe,"border-top-right-radius":qe,"border-top-width":qe,"border-width":qe,"border-block":qe,"border-block-end":qe,"border-block-end-width":qe,"border-block-start":qe,"border-block-start-width":qe,"border-block-width":qe,"border-inline":qe,"border-inline-end":qe,"border-inline-end-width":qe,"border-inline-start":qe,"border-inline-start-width":qe,"border-inline-width":qe,"border-start-start-radius":qe,"border-start-end-radius":qe,"border-end-start-radius":qe,"border-end-end-radius":qe,margin:qe,"margin-bottom":qe,"margin-left":qe,"margin-right":qe,"margin-top":qe,"margin-block":qe,"margin-block-end":qe,"margin-block-start":qe,"margin-inline":qe,"margin-inline-end":qe,"margin-inline-start":qe,padding:qe,"padding-bottom":qe,"padding-left":qe,"padding-right":qe,"padding-top":qe,"padding-block":qe,"padding-block-end":qe,"padding-block-start":qe,"padding-inline":qe,"padding-inline-end":qe,"padding-inline-start":qe,"mask-position-x":qe,"mask-position-y":qe,"mask-size":qe,height:qe,width:qe,"min-height":qe,"max-height":qe,"min-width":qe,"max-width":qe,bottom:qe,left:qe,top:qe,right:qe,inset:qe,"inset-block":qe,"inset-block-end":qe,"inset-block-start":qe,"inset-inline":qe,"inset-inline-end":qe,"inset-inline-start":qe,"box-shadow":qe,"text-shadow":qe,"column-gap":qe,"column-rule":qe,"column-rule-width":qe,"column-width":qe,"font-size":qe,"font-size-delta":qe,"letter-spacing":qe,"text-decoration-thickness":qe,"text-indent":qe,"text-stroke":qe,"text-stroke-width":qe,"word-spacing":qe,motion:qe,"motion-offset":qe,outline:qe,"outline-offset":qe,"outline-width":qe,perspective:qe,"perspective-origin-x":Ge,"perspective-origin-y":Ge,"transform-origin":Ge,"transform-origin-x":Ge,"transform-origin-y":Ge,"transform-origin-z":Ge,"transition-delay":He,"transition-duration":He,"vertical-align":qe,"flex-basis":qe,"shape-margin":qe,size:qe,gap:qe,grid:qe,"grid-gap":qe,"row-gap":qe,"grid-row-gap":qe,"grid-column-gap":qe,"grid-template-rows":qe,"grid-template-columns":qe,"grid-auto-rows":qe,"grid-auto-columns":qe,"box-shadow-x":qe,"box-shadow-y":qe,"box-shadow-blur":qe,"box-shadow-spread":qe,"font-line-height":qe,"text-shadow-x":qe,"text-shadow-y":qe,"text-shadow-blur":qe});function Xe(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=Xe(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var a in t)t[a]=Xe(a,t[a],n);else for(var i in t)t[i]=Xe(e+"-"+i,t[i],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||$e[e];return!o||0===t&&o===qe?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var Ye=function(e){void 0===e&&(e={});var t=Ke(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=Xe(r,e[r],t);return e},onChangeValue:function(e,n){return Xe(n,e,t)}}},Je=n(115),Qe="",Ze="",et="",tt="",nt=s&&"ontouchstart"in document.documentElement;if(s){var rt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},at=document.createElement("p").style;for(var it in rt)if(it+"Transform"in at){Qe=it,Ze=rt[it];break}"Webkit"===Qe&&"msHyphens"in at&&(Qe="ms",Ze=rt.ms,tt="edge"),"Webkit"===Qe&&"-apple-trailing-word"in at&&(et="apple")}var ot=Qe,ut=Ze,st=et,ct=tt,lt=nt;var ft={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ot?"-webkit-"+e:ut+e)}},dt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ot?ut+"print-"+e:e)}},ht=/[-\s]+(.)?/g;function pt(e,t){return t?t.toUpperCase():""}function vt(e){return e.replace(ht,pt)}function mt(e){return vt("-"+e)}var gt,bt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ot){var n="mask-image";if(vt(n)in t)return e;if(ot+mt(n)in t)return ut+e}return e}},yt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==st||lt?e:ut+e)}},xt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:ut+e)}},_t={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:ut+e)}},wt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ot||"ms"===ot&&"edge"!==ct?ut+e:e)}},Ot={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ot||"ms"===ot||"apple"===st?ut+e:e)}},kt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ot?"WebkitColumn"+mt(e)in t&&ut+"column-"+e:"Moz"===ot&&("page"+mt(e)in t&&"page-"+e))}},jt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ot)return e;var n=e.replace("-inline","");return ot+mt(n)in t&&ut+n}},Et={supportedProperty:function(e,t){return vt(e)in t&&e}},Ct={supportedProperty:function(e,t){var n=mt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ot+n in t?ut+e:"Webkit"!==ot&&"Webkit"+n in t&&"-webkit-"+e}},At={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ot?""+ut+e:e)}},St={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ot?ut+"scroll-chaining":e)}},Dt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Nt={supportedProperty:function(e,t){var n=Dt[e];return!!n&&(ot+mt(n)in t&&ut+n)}},Ft={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Tt=Object.keys(Ft),Mt=function(e){return ut+e},It=[ft,dt,bt,yt,xt,_t,wt,Ot,kt,jt,Et,Ct,At,St,Nt,{supportedProperty:function(e,t,n){var r=n.multiple;if(Tt.indexOf(e)>-1){var a=Ft[e];if(!Array.isArray(a))return ot+mt(a)in t&&ut+a;if(!r)return!1;for(var i=0;i<a.length;i++)if(!(ot+mt(a[0])in t))return!1;return a.map(Mt)}return!1}}],Rt=It.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Pt=It.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Object(Je.a)(t.noPrefill)),e}),[]),Bt={};if(s){gt=document.createElement("p");var zt=window.getComputedStyle(document.documentElement,"");for(var Lt in zt)isNaN(Lt)||(Bt[zt[Lt]]=zt[Lt]);Pt.forEach((function(e){return delete Bt[e]}))}function Ut(e,t){if(void 0===t&&(t={}),!gt)return e;if(null!=Bt[e])return Bt[e];"transition"!==e&&"transform"!==e||(t[e]=e in gt.style);for(var n=0;n<Rt.length&&(Bt[e]=Rt[n](e,gt.style,t),!Bt[e]);n++);try{gt.style[e]=""}catch(r){return!1}return Bt[e]}var Wt,Vt={},qt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Ht=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Gt(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Ut(t):", "+Ut(n);return r||(t||n)}function Kt(e,t){var n=t;if(!Wt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Vt[r])return Vt[r];try{Wt.style[e]=n}catch(a){return Vt[r]=!1,!1}if(qt[e])n=n.replace(Ht,Gt);else if(""===Wt.style[e]&&("-ms-flex"===(n=ut+n)&&(Wt.style[e]="-ms-flexbox"),Wt.style[e]=n,""===Wt.style[e]))return Vt[r]=!1,!1;return Wt.style[e]="",Vt[r]=n,Vt[r]}s&&(Wt=document.createElement("p"));var $t=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var a=!1,i=Ut(n);i&&i!==n&&(a=!0);var o=!1,u=Kt(i,g(r));u&&u!==r&&(o=!0),(a||o)&&(a&&delete t[n],t[i||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===ot?n:"@"+ut+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Kt(t,g(e))||e}}};var Xt=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},a=Object.keys(t).sort(e),i=0;i<a.length;i++)r[a[i]]=t[a[i]];return r}}};function Yt(){return{plugins:[Se(),Re(),Le(),Ve(),Ye(),"undefined"===typeof window?null:$t(),Xt()]}}var Jt=xe(Yt()),Qt={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,a=void 0===r?"jss":r,i=e.seed,o=void 0===i?"":i,u=""===o?"":"".concat(o,"-"),s=0,c=function(){return s+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==je.indexOf(e.key))return"Mui-".concat(e.key);var i="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[ke]&&""===o?"".concat(i,"-").concat(c()):i}return"".concat(u).concat(a).concat(c())}}(),jss:Jt,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},Zt=o.a.createContext(Qt);var en=-1e9;function tn(){return en+=1}n(136);var nn=n(948);function rn(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(s){throw s}if(!r||!n.overrides||!n.overrides[r])return i;var o=n.overrides[r],u=Object(a.a)({},i);return Object.keys(o).forEach((function(e){u[e]=Object(nn.a)(u[e],o[e])})),u},options:{}}}var an={};function on(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var a=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,a=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,a=!0),a&&(r.cacheClasses.value=_e({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function un(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,o=e.stylesCreator,u=e.name;if(!i.disableGeneration){var s=we.get(i.sheetsManager,o,r);s||(s={refs:0,staticSheet:null,dynamicStyles:null},we.set(i.sheetsManager,o,r,s));var c=Object(a.a)({},o.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=i.sheetsRegistry;if(0===s.refs){var f;i.sheetsCache&&(f=we.get(i.sheetsCache,o,r));var d=o.create(r,u);f||((f=i.jss.createStyleSheet(d,Object(a.a)({link:!1},c))).attach(),i.sheetsCache&&we.set(i.sheetsCache,o,r,f)),l&&l.add(f),s.staticSheet=f,s.dynamicStyles=be(d)}if(s.dynamicStyles){var h=i.jss.createStyleSheet(s.dynamicStyles,Object(a.a)({link:!0},c));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=_e({baseClasses:s.staticSheet.classes,newClasses:h.classes}),l&&l.add(h)}else n.classes=s.staticSheet.classes;s.refs+=1}}function sn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function cn(e){var t=e.state,n=e.theme,r=e.stylesOptions,a=e.stylesCreator;if(!r.disableGeneration){var i=we.get(r.sheetsManager,a,n);i.refs-=1;var o=r.sheetsRegistry;0===i.refs&&(we.delete(r.sheetsManager,a,n),r.jss.removeStyleSheet(i.staticSheet),o&&o.remove(i.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function ln(e,t){var n,r=o.a.useRef([]),a=o.a.useMemo((function(){return{}}),t);r.current!==a&&(r.current=a,n=e()),o.a.useEffect((function(){return function(){n&&n()}}),[a])}function fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,i=t.classNamePrefix,u=t.Component,s=t.defaultTheme,c=void 0===s?an:s,l=Object(r.a)(t,["name","classNamePrefix","Component","defaultTheme"]),f=rn(e),d=n||i||"makeStyles";f.options={index:tn(),name:n,meta:d,classNamePrefix:d};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Oe.a)()||c,r=Object(a.a)({},o.a.useContext(Zt),l),i=o.a.useRef(),s=o.a.useRef();ln((function(){var a={name:n,state:{},stylesCreator:f,stylesOptions:r,theme:t};return un(a,e),s.current=!1,i.current=a,function(){cn(a)}}),[t,f]),o.a.useEffect((function(){s.current&&sn(i.current,e),s.current=!0}));var d=on(i.current,e.classes,u);return d};return h}},function(e,t,n){"use strict";var r=n(115),a=n(25),i=(n(26),n(181));var o=function(e){var t=function(t){var n=e(t);return t.css?Object(a.a)({},Object(i.a)(n,e(Object(a.a)({theme:t.theme},t.css))),function(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(t.css,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css"].concat(Object(r.a)(e.filterProps)),t};var u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?Object(i.a)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},s=n(64),c=n(372);function l(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var f=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,a=e.themeKey,i=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=l(e.theme,a)||{};return Object(c.a)(e,n,(function(e){var t;return"function"===typeof o?t=o(e):Array.isArray(o)?t=o[e]||e:(t=l(o,e)||e,i&&(t=i(t))),!1===r?t:Object(s.a)({},r,t)}))};return o.propTypes={},o.filterProps=[t],o};function d(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var h=u(f({prop:"border",themeKey:"borders",transform:d}),f({prop:"borderTop",themeKey:"borders",transform:d}),f({prop:"borderRight",themeKey:"borders",transform:d}),f({prop:"borderBottom",themeKey:"borders",transform:d}),f({prop:"borderLeft",themeKey:"borders",transform:d}),f({prop:"borderColor",themeKey:"palette"}),f({prop:"borderRadius",themeKey:"shape"})),p=u(f({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),f({prop:"display"}),f({prop:"overflow"}),f({prop:"textOverflow"}),f({prop:"visibility"}),f({prop:"whiteSpace"})),v=u(f({prop:"flexBasis"}),f({prop:"flexDirection"}),f({prop:"flexWrap"}),f({prop:"justifyContent"}),f({prop:"alignItems"}),f({prop:"alignContent"}),f({prop:"order"}),f({prop:"flex"}),f({prop:"flexGrow"}),f({prop:"flexShrink"}),f({prop:"alignSelf"}),f({prop:"justifyItems"}),f({prop:"justifySelf"})),m=u(f({prop:"gridGap"}),f({prop:"gridColumnGap"}),f({prop:"gridRowGap"}),f({prop:"gridColumn"}),f({prop:"gridRow"}),f({prop:"gridAutoFlow"}),f({prop:"gridAutoColumns"}),f({prop:"gridAutoRows"}),f({prop:"gridTemplateColumns"}),f({prop:"gridTemplateRows"}),f({prop:"gridTemplateAreas"}),f({prop:"gridArea"})),g=u(f({prop:"position"}),f({prop:"zIndex",themeKey:"zIndex"}),f({prop:"top"}),f({prop:"right"}),f({prop:"bottom"}),f({prop:"left"})),b=u(f({prop:"color",themeKey:"palette"}),f({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),y=f({prop:"boxShadow",themeKey:"shadows"});function x(e){return e<=1?"".concat(100*e,"%"):e}var _=f({prop:"width",transform:x}),w=f({prop:"maxWidth",transform:x}),O=f({prop:"minWidth",transform:x}),k=f({prop:"height",transform:x}),j=f({prop:"maxHeight",transform:x}),E=f({prop:"minHeight",transform:x}),C=(f({prop:"size",cssProperty:"width",transform:x}),f({prop:"size",cssProperty:"height",transform:x}),u(_,w,O,k,j,E,f({prop:"boxSizing"}))),A=n(993),S=u(f({prop:"fontFamily",themeKey:"typography"}),f({prop:"fontSize",themeKey:"typography"}),f({prop:"fontStyle",themeKey:"typography"}),f({prop:"fontWeight",themeKey:"typography"}),f({prop:"letterSpacing"}),f({prop:"lineHeight"}),f({prop:"textAlign"})),D=n(52),N=n(4),F=n.n(N),T=n(66),M=n(250),I=n.n(M),R=n(988);function P(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}var B=n(379),z=function(e){var t=function(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.name,o=Object(D.a)(r,["name"]),u=i,s="function"===typeof t?function(e){return{root:function(n){return t(Object(a.a)({theme:e},n))}}}:{root:t},c=Object(R.a)(s,Object(a.a)({Component:e,name:i||e.displayName,classNamePrefix:u},o));t.filterProps&&(n=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var l=F.a.forwardRef((function(t,r){var i=t.children,o=t.className,u=t.clone,s=t.component,l=Object(D.a)(t,["children","className","clone","component"]),f=c(t),d=Object(T.a)(f.root,o),h=l;if(n&&(h=P(h,n)),u)return F.a.cloneElement(i,Object(a.a)({className:Object(T.a)(i.props.className,d)},h));if("function"===typeof i)return i(Object(a.a)({className:d},h));var p=s||e;return F.a.createElement(p,Object(a.a)({ref:r,className:d},h),i)}));return I()(l,e),l}}(e);return function(e,n){return t(e,Object(a.a)({defaultTheme:B.a},n))}},L=o(u(h,p,v,m,g,b,y,C,A.b,S)),U=z("div")(L,{name:"MuiBox"});t.a=U},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(63),a=n(4);var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var o=!("undefined"===typeof window||!window.document||!window.document.createElement),u=!1,s=0;function c(){s=Date.now(),u&&(u=!1)}function l(){return u}o&&(document.addEventListener("touchstart",c,!0),document.addEventListener("touchmove",c,!0),document.addEventListener("mousemove",(function(){u||Date.now()-s<1e3||(u=!0)}),!0));var f={time:Date.now(),xy:[0,0],delta:[0,0],initial:[0,0],previous:[0,0],direction:[0,0],initialDirection:[0,0],local:[0,0],lastLocal:[0,0],velocity:0,distance:0},d={enableMouse:!0},h=null;function p(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=a.useRef(f),r=i({},d,t),o=r.uid,u=r.enableMouse,s=a.useRef(o||Math.random()),c=a.useRef(!1),p=a.useRef(e);function v(e){h&&h.onTerminationRequest(e)&&(h.onTerminate(e),h=null),m(e)}function m(e){h||(h={id:s.current,onTerminate:E,onTerminationRequest:j},function(e){p.current.onGrant&&p.current.onGrant(n.current,e)}(e))}function g(){window.removeEventListener("mousemove",C,!1),window.removeEventListener("mousemove",A,!0),window.removeEventListener("mouseup",S)}function b(e){k(e),c.current=!0,function(e){return!!p.current.onStartShouldSetCapture&&p.current.onStartShouldSetCapture(n.current,e)}(e)&&m(e)}function y(e){k(e),c.current=!0,window.addEventListener("mousemove",C,!1),window.addEventListener("mousemove",A,!0),window.addEventListener("mouseup",S),function(e){return!!p.current.onStartShouldSet&&p.current.onStartShouldSet(n.current,e)}(e)&&m(e)}function x(){return h&&h.id===s.current}function _(e){c.current=!1,g(),x()&&(h=null,function(e){var t=n.current;n.current=i({},n.current,{lastLocal:t.local}),p.current.onRelease&&p.current.onRelease(n.current,e);h=null}(e))}function w(e){!function(e){var t=e.touches&&e.touches[0]?e.touches[0]:e,r=t.pageX,a=t.pageY,o=n.current,u=Date.now(),s=r-o.xy[0],c=a-o.xy[1],l=r-o.initial[0],f=a-o.initial[1],d=Math.sqrt(l*l+f*f),h=Math.sqrt(s*s+c*c),p=1/(h||1),v=h/(u-o.time),m=0!==o.initialDirection[0]||0!==o.initialDirection[1]?o.initialDirection:[l*p,f*p];n.current=i({},n.current,{time:u,xy:[r,a],initialDirection:m,delta:[l,f],local:[o.lastLocal[0]+r-o.initial[0],o.lastLocal[1]+a-o.initial[1]],velocity:u-o.time===0?o.velocity:v,distance:d,direction:[s*p,c*p],previous:o.xy})}(e),x()||function(e){return!!p.current.onMoveShouldSetCapture&&p.current.onMoveShouldSetCapture(n.current,e)}(e)&&v(e)}function O(e){x()?function(e){c.current&&p.current.onMove&&p.current.onMove(n.current,e)}(e):function(e){return!!p.current.onMoveShouldSet&&p.current.onMoveShouldSet(n.current,e)}(e)&&v(e)}function k(e){var t=e.touches&&e.touches[0]?e.touches[0]:e,r=t.pageX,a=t.pageY,o=n.current;n.current=i({},f,{lastLocal:o.lastLocal||f.lastLocal,xy:[r,a],initial:[r,a],previous:[r,a],time:Date.now()})}function j(e){return!p.current.onTerminationRequest||p.current.onTerminationRequest(n.current,e)}function E(e){var t=n.current;n.current=i({},n.current,{lastLocal:t.local}),p.current.onTerminate&&p.current.onTerminate(n.current,e)}function C(e){l()&&O(e)}function A(e){l()&&w(e)}function S(e){l()&&_(e)}return a.useEffect((function(){p.current=e}),[e]),a.useEffect((function(){return g}),[]),{bind:i({},{onTouchStart:y,onTouchEnd:_,onTouchMove:O,onTouchStartCapture:b,onTouchMoveCapture:w},u?{onMouseDown:function(e){l()&&y(e)},onMouseDownCapture:function(e){l()&&b(e)}}:{}),terminateCurrentResponder:function(){h&&(h.onTerminate(),h=null)},getCurrentResponder:function(){return h}}}var v=n(289),m=n(377);function g(e){var t=e.children,n=e.style,i=e.className,o=r.c(e,["children","style","className"]),u=a.useContext(m.a);if(!u)throw Error("Unable to find GridItem context. Please ensure that GridItem is used as a child of GridDropZone");var s=u.top,c=u.disableDrag,l=u.endTraverse,f=u.onStart,d=u.mountWithTraverseTarget,h=u.left,g=u.i,b=u.onMove,y=u.onEnd,x=u.grid,_=u.dragging,w=x.columnWidth,O=x.rowHeight,k=a.useRef(!1),j=a.useRef([h,s]),E=r.b(Object(v.c)((function(){if(d){var e=d;return l(),{xy:e,immediate:!0,zIndex:"1",scale:1.1,opacity:.8}}return{xy:[h,s],immediate:!0,zIndex:"0",scale:1,opacity:1}})),2),C=E[0],A=E[1];function S(e){var t=j.current[0]+e.delta[0],n=j.current[1]+e.delta[1];k.current=!1,y(e,t,n)}var D=p({onMoveShouldSet:function(e){return!c&&(f(),j.current=[h,s],k.current=!0,!0)},onMove:function(e,t){var n=j.current[0]+e.delta[0],r=j.current[1]+e.delta[1];A({xy:[n,r],zIndex:"1",immediate:!0,opacity:.8,scale:1.1}),b(e,n,r)},onTerminationRequest:function(){return!k.current},onTerminate:S,onRelease:S},{enableMouse:!0}).bind;a.useEffect((function(){k.current||A({xy:[h,s],zIndex:"0",opacity:1,scale:1,immediate:!1})}),[k.current,h,s]);var N=r.a({className:" "+i},D,{style:r.a({cursor:c?"grab":void 0,zIndex:C.zIndex,position:"absolute",width:w+"px",opacity:C.opacity,height:O+"px",boxSizing:"border-box",transform:Object(v.b)([C.xy,C.scale],(function(e,t){return"translate3d("+e[0]+"px, "+e[1]+"px, 0) scale("+t+")"}))},n)},o);return"function"===typeof t?t(v.a.div,N,{dragging:_,disabled:!!c,i:g,grid:x}):a.createElement(v.a.div,r.a({},N),t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(63),a=n(4),i=n(609);var o=n(608),u=n(607),s=n(202),c=n(377);function l(e){var t=e.id,n=e.boxesPerRow,l=e.children,f=e.style,d=e.disableDrag,h=void 0!==d&&d,p=e.disableDrop,v=void 0!==p&&p,m=e.rowHeight,g=r.c(e,["id","boxesPerRow","children","style","disableDrag","disableDrop","rowHeight"]),b=a.useContext(o.a),y=b.traverse,x=b.startTraverse,_=b.endTraverse,w=b.register,O=b.measureAll,k=b.onChange,j=b.remove,E=b.getActiveDropId,C=a.useRef(null),A=function(e){var t=r.b(a.useState({left:0,top:0,width:0,height:0,right:0,bottom:0}),2),n=t[0],o=t[1],u=r.b(a.useState((function(){return new i.a((function(e){var t=r.b(e,1)[0];o(t.target.getBoundingClientRect())}))})),1)[0];return a.useLayoutEffect((function(){return e.current&&u.observe(e.current),function(){return u.disconnect()}}),[e,u]),{bounds:n,remeasure:function(){o(e.current.getBoundingClientRect())}}}(C),S=A.bounds,D=A.remeasure,N=r.b(a.useState(null),2),F=N[0],T=N[1],M=r.b(a.useState(null),2),I=M[0],R=M[1],P=y&&!y.execute&&y.targetId===t?y.targetIndex:null,B={columnWidth:S.width/n,boxesPerRow:n,rowHeight:m},z=a.Children.count(l);a.useEffect((function(){w(t,{top:S.top,bottom:S.bottom,left:S.left,right:S.right,width:S.width,height:S.height,count:z,grid:B,disableDrop:v,remeasure:D})}),[z,v,S,t,B]),a.useEffect((function(){return function(){return j(t)}}),[t]);var L=a.Children.map(l,(function(e,t){return t}));return a.createElement("div",r.a({ref:C,style:r.a({position:"relative"},f)},g),0===B.columnWidth?null:a.Children.map(l,(function(e,n){var r=y&&y.targetId===t&&y.targetIndex===n,i=I?Object(u.a)(L,I.startIndex,I.targetIndex):L,o=Object(s.b)(i.indexOf(n),B,P);return a.createElement(c.a.Provider,{value:{top:o.xy[1],disableDrag:h,endTraverse:_,mountWithTraverseTarget:r?[y.tx,y.ty]:void 0,left:o.xy[0],i:n,onMove:function(e,r,a){if(C.current){F!==n&&T(n);var i=E(t,r+B.columnWidth/2,a+B.rowHeight/2);i&&i!==t?x(t,i,r,a,n):_();var o=i!==t?z:Object(s.c)(n,B,z,e.delta[0],e.delta[1]);o!==n?(I&&I.targetIndex!==o||!I)&&R({targetIndex:o,startIndex:n}):I&&R(null)}},onEnd:function(e,r,a){var i=E(t,r+B.columnWidth/2,a+B.rowHeight/2)!==t?z:Object(s.c)(n,B,z,e.delta[0],e.delta[1]);y?k(y.sourceId,y.sourceIndex,y.targetIndex,y.targetId):k(t,n,i),R(null),T(null)},onStart:function(){O()},grid:B,dragging:n===F}},e)})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),a=n.n(r);var i=a.a.createContext(null);function o(){return a.a.useContext(i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(100),a=n(372),i=n(181);var o={m:"margin",p:"padding"},u={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},s={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!s[e])return[e];e=s[e]}var t=e.split(""),n=Object(r.a)(t,2),a=n[0],i=n[1],c=o[a],l=u[i]||"";return Array.isArray(l)?l.map((function(e){return c+e})):[c+l]})),l=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function f(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function d(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function h(e){var t=f(e.theme);return Object.keys(e).map((function(n){if(-1===l.indexOf(n))return null;var r=d(c(n),t),i=e[n];return Object(a.a)(e,i,r)})).reduce(i.a,{})}h.propTypes={},h.filterProps=l;t.b=h}]]);
//# sourceMappingURL=2.05d4ecab.chunk.js.map