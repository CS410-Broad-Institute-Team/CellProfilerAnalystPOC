{"version":3,"sources":["logo.svg","example_SETUP.SQL","components/Emma.js","jones.jpg","components/Bella.js","CPA_newlogo.png","components/Abby.js","components/ProofOfConcept.js","components/YahiyaTesting/YahiyaTensorflowExample.js","components/YahiyaTesting/LogisticRegressionClassifier.js","components/YahiyaTesting/YahiyaTensorflowAbstracted.js","components/YahiyaTesting/UploadDataHandler.js","components/YahiyaTesting/TrainingSetHandler.js","components/YahiyaTesting/testUploadDataHandler.js","components/YahiyaTesting/GeneralClassifier.js","components/YahiyaTesting/TestTheLogisticClassifier.js","components/YahiyaTesting/YahiyaHome.js","components/CaveOfEmma/UploadDataHandlerE.js","components/CaveOfEmma/Emmmmmma.js","App.js","reportWebVitals.js","index.js"],"names":["Emma","props","state","imageSource","logo","showFile","fileName","a","preventDefault","imageReader","FileReader","onload","console","log","target","result","setState","readAsDataURL","files","Array","from","findIndex","elem","name","setUpDF","this","df","perObjData","column_names","Papa","parsePromise","file","Promise","complete","error","parse","fName","index","findFileIndex","text","then","split","map","x","trim","lines","indexOf","create_index","end_index","column_lines","slice","assert","length","worker","skipEmptyLines","fastMode","dynamicTyping","results","data","dfd","columns","image_keys","column","tensor","object_keys","output_tensor1","square","add","output_tensor2","where","greaterEqual","array","indices","set_index","key","inplace","head","print","window","data_df","parseSQLData","parsePerObj","setupDF","init","getDF","className","src","alt","type","onChange","webkitdirectory","mozdirectory","msdirectory","odirectory","directory","multiple","href","rel","React","Component","Bella","Container","Row","Col","IconButton","style","color","marginLeft","Image","paddingRight","height","Grid","container","justify","spacing","marginBottom","item","DropdownButton","variant","title","Dropdown","Item","Button","md","Box","backgroundColor","textAlign","paddingLeft","GridList","cellHeight","cols","tile","GridListTile","onClick","width","jones","xs","useStyles","makeStyles","theme","root","margin","paper","padding","palette","secondary","FullWidthGrid","classes","component","hidden","on_folder_uploaded_callback","FileSaver","saveAs","sm","Paper","ProofOfConcept","imageSources","fill","package","power","isAwesome","feelsLike","buttonsDisabled","handleUpdate","newData","prevState","on_model_uploaded_callback","fileListObject","resolve","model","tf","dense","units","activation","inputShape","optimizer","adam","compile","loss","metrics","fit","standardized_features","label","epochs","callbacks","onEpochBegin","onEpochEnd","epoch","logs","prediction","predict","summary","data_array","dispose","all","_","idx","fileReaderPromiseImage","img","object_csv_index","image_csv_index","setup_sql_index","training_data_index","basicPapaConfig","notify","delimiter","e","comments","values","object_data","image_data","setup_lines","training_data","object_column_lines","sliceByValue","object_column_names","image_column_lines","image_column_names","labeled_cells","training_row","find","data_row","training_data_column_names","object_features_to_use","filter","includes","object_features_to_use_indices","labeled_features","row","labeled_features_tensor","labeled_features_tensor_std_dev","variance","sqrt","standardized_features_tensor","sub","mean","div","standardized_features_matrix","Matrix","labels","labels_matrix","classifier","LogisticRegression","numSteps","learningRate","train","normal","center","level","config","prototype","strMsg","debugPrint","value1","value2","index1","index2","fileIndex","reject","fr","readAsText","data_samples","cell_features","Math","floor","random","data_idx","feature_idx","predicted_labels","positive_cells","concat","onUpdate","path","min","max","step","disabled","on_fetch_button_callback","textDecoration","download","maxWidth","header","prepareData","csv","createDataSets","features","testSize","batchSize","X","r","f","val","undefined","y","outcome","dataSync","oneHot","Outcome","splitIdx","parseInt","ds","zip","ys","shuffle","take","batch","skip","trainLogisticRegression","featureCount","trainDs","validDs","trainLogs","lossContainer","document","getElementById","accContainer","fitDataset","validationData","push","tfvis","history","run","xTest","yTest","preds","argMax","confusionMatrix","tickLabels","app","id","LogisticRegressionClassifier","trainComplexModel","dropout","rate","render","fullrun_overfit","test_size","batch_size","constructor","createDataSets_utility","tick_labels","confusion_container","fullrun","data_labels","data_plusOutcome","shuffled_data","Object","reduce","accum","currVal","every","partial","has","Date","now","renderConfusionMatrix_utility","predictions","LogRegClassifier","feature_names","UploadDataHandler","sliceArrayByValue","handleFolderUpload","fileReaderPromiseText","training_file","findFile","training_columns","zipObject","object_file","time","timeEnd","image_file","FileList","options","onEndMsg","getInstance","_instance","TrainingSetHandler","isEqual","keys","objectnum","imagenum","labeled_keys","pick","mapValues","value","parseFloat","onFinishUpload_Callback","DataModel","TrainingModel","displayData","createTrainingSet","pred_labels","hasMultiple","object","createBasicDataset","feature_name","feature_value","Y","createLogisticRegressionModel","feature_count","kernelRegularizer","l1","basicTrain","training_dataset","number_epochs","render_containers","TrainingSetModel","GeneralClassifier","tf_batched_dataset","tf_dataset","tf_labels","shape","trained_model","TestingHome","to","exact","YahiyaTensorflowExample","YahiyaTensorflowAbstracted","TestTheLogisticClassifier","UploadDataHandlerE","cell","channels","Yahiya","Alex","YahiyaHome","Emmmmmma","Abby","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.df274144.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export default __webpack_public_path__ + \"static/media/example_SETUP.c8183f4e.SQL\";","import { render } from \"@testing-library/react\"\nimport * as tf from \"@tensorflow/tfjs\";\nimport * as dfd from \"danfojs/src/index\";\nimport * as lgreg from \"ml-logistic-regression\";\nimport * as prprcss from \"ml-preprocess\";\nimport React from 'react';\nimport logo from '../logo.svg';\nimport Papa from \"papaparse\";\nimport raw from \"../example_SETUP.SQL\";\nexport default class Emma extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {imageSource: logo};\n}\n\n  componentDidMount(){};\n  componentWillUnmount(){};\n  render(){\n   \n    var showFile = async (fileName) => {\n      fileName.preventDefault()\n\n      // read in text file and display it on the console\n      // const textReader = new FileReader()\n      // textReader.onload = async (fileName) => { \n      //   console.log(fileName.target.result);\n      // };\n      // textReader.readAsText(fileName.target.files[4])\n\n\n      // read in first image and display where logo was using the callback I made\n      // create the image reader and callback to use the result when finished\n     const imageReader = new FileReader()\n      imageReader.onload = async (fileName) => { \n          console.log(fileName.target.result);\n          this.setState({imageSource: fileName.target.result})\n          };\n      // start the reading of the image\n      imageReader.readAsDataURL(fileName.target.files[6]);\n\n      // this displays the available files from the user upload of cpa_example directory\n      // console.log(fileName.target.files) \n\n      // parse with the papa, per_object.csv\n      console.log(fileName.target.files);\n      var object_index = Array.from(fileName.target.files).findIndex((elem) => {\n        return elem.name === \"per_object.csv\";\n      });\n      class SetupSqlData {\n        constructor() {  \n          this.df = null;\n          this.perObjData = null;\n          this.column_names = null;\n          Papa.parsePromise = function(file) {\n            return new Promise(function(complete, error) {\n              Papa.parse(file, {complete, error});\n            });\n          };\n      }\n          getDF() {\n            return this.df;\n          }\n          findFileIndex (fName) {\n              var index = Array.from(fileName.target.files).findIndex((elem) => {\n                  return elem.name === fName;\n            });\n               return index;\n          }\n          parseSQLData() {\n             var column_n = null;\n             const textReader = new FileReader()\n             textReader.onload = async (fileName) => { \n             console.log(fileName.target.result);\n            };\n            var index = this.findFileIndex(\"example_SETUP.SQL\");\n           \n            return fileName.target.files[index].text()\n            .then((text) => {\n              return text.split(\"\\n\").map((x)=>x.trim());\n            })\n            .then(lines => {\n              console.log(lines.indexOf(\"CREATE TABLE per_object \\(\"));\n              console.log(lines.indexOf(\"PRIMARY KEY  (ImageNumber,ObjectNumber)\"));\n              var setup_lines = lines;             \n              var create_index = lines.indexOf(\"CREATE TABLE per_object \\(\");\n              var end_index = lines.indexOf(\"PRIMARY KEY  (ImageNumber,ObjectNumber)\");\n              var column_lines = lines.slice(create_index + 1, end_index);\n              this.column_names = column_lines.map((name)=>(name.split(' ')[0]));      \n              console.assert(this.column_names[this.column_names.length - 1],\n                   'AreaNormalized_Cytoplasm_AreaShape_Zernike9_9');\n                   console.log(\"df complete\");\n             });\n      \n\n          }\n          parsePerObj() {\n            return Papa.parsePromise(fileName.target.files[this.findFileIndex(\"per_object.cvs\")], \n              {\n                  // use separate thread to not make app too slow\n                  worker: true,\n                  // blank lines confuse danfo.js so get rid of them\n                  skipEmptyLines: true,\n                  // per_object.csv has no strings, so we can get a faster speed reading it\n                  fastMode: true, \n                  // convert strings to numbers for smaller memory footprint\n                  dynamicTyping: true,\n                  // call this when the reading is done\n                  complete: (results, file) => {\n                  console.log(\"Parsing complete:\");\n                  console.log(results.data);\n                  this.perObjData = results.data;\n                  }\n              });  \n             }\n          setupDF() {\n                  // turn the data into a dataframe\n                 // let new_index = [\"ImageNumber\", \"ObjectNumber\" ]\n                  this.df = new dfd.DataFrame(this.perObjData,{ columns : this.column_names});\n                  console.log(\"df complete\")\n\n                 // calcuate a unique index number for each pair\n                 const image_keys = this.df.column(\"ImageNumber\").tensor;\n                 console.log(\"imagekeys complete\")\n                 const object_keys = this.df.column(\"ObjectNumber\").tensor;\n                 console.log(\"objeckeys complete\")\n                 const output_tensor1 = image_keys.square().add(image_keys).add(object_keys);\n                 console.log(\"output1 complete\")\n                 const output_tensor2 = object_keys.square().add(image_keys);\n                 console.log(\"output2 complete\")\n \n                 // calculate the index values, extract the js array, when its done set it as the indices for the df\n                 output_tensor1.where(image_keys.greaterEqual(object_keys), output_tensor2)\n                 .array()\n                 .then(indices => {\n                     console.log(\"indices complete\", indices)\n                     this.df.set_index({key: indices, inplace: true});\n                     this.df.head().print();\n                     window.data_df = this.df;\n                 });\n\n            \n          }\n          init() {\n            this.parseSQLData()\n            .then (()=> {\n              this.parsePerObj()\n              .then (()=>{\n                console.log(this.column_names);\n                console.log(this.perObjData);\n                this.setupDF();\n              });\n            });\n\n          }\n      }\n      const setUpDF = new SetupSqlData();\n      setUpDF.init();\n      var object_data = setUpDF.getDF();\n       \n      \n  }\t\n      \n        \n        return (\n            \n            \n          <div>\n              <h2>Emma</h2>\n              <p>Stuff of Emma</p>\n\n              <header className=\"App-header\">\n                  <img src={this.state.imageSource} className=\"App-logo\" alt=\"logo\" />\n                  <p>\n                  woo the atom thingy do the rotate woo yea\n                  </p>\n                  <script src=\"https://cdn.jsdelivr.net/npm/danfojs@0.2.4/lib/bundle.min.js\"></script>    \n              <input type=\"file\" onChange = {(fileName) => showFile(fileName)} webkitdirectory=\"true\" mozdirectory=\"true\" msdirectory=\"true\" odirectory=\"true\" directory=\"true\" multiple/>\n                  <a\n                  className=\"App-link\"\n                  href=\"https://reactjs.org\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  >\n                  Learn React\n                  </a>\n              </header>\n          </div>\n      )\n  };\n}\n","export default __webpack_public_path__ + \"static/media/jones.88567442.jpg\";","import { render } from \"@testing-library/react\"\nimport React from 'react';\nimport { Container, Row, Col} from \"reactstrap\";\nimport {Box, Button, Grid, IconButton,GridList, GridListTile, withStyles, Menu, MenuItem, ListItemText }from '@material-ui/core'; \nimport logo from '../CPA_newlogo.png';\nimport {Image, Dropdown, DropdownMenu, DropdownButton} from 'react-bootstrap'\nimport CloseIcon from '@material-ui/icons/Close';\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\nimport jones from '../jones.jpg'\n\nimport \"bootstrap/dist/css/bootstrap.css\";\n\n\n\nexport default class Bella extends React.Component {\n     \n        state = {\n        };\n\n        componentDidMount(){};\n        componentWillUnmount(){};\n         \n    render(){     \n     \n        return( \n            <div>\n            <Container> \n            <Row>\n            <Col >\n            <IconButton style={{color: \"black\", marginLeft:700}}> <SaveAltIcon /></IconButton> \n            </Col>\n            \n            <Col>\n            <Image src={logo} style={{paddingRight:1000 , height:'90px'}}></Image>\n            </Col>\n            </Row>\n            <Row>\n            <Grid container justify=\"center\" spacing={2} style={{marginBottom: 15}}>\n           \n            <Grid key={0} item>\n            <DropdownButton variant=\"secondary\" title= \"Fetch\">\n            \n             <Dropdown.Item >Positive</Dropdown.Item>\n             <Dropdown.Item >Negative</Dropdown.Item>\n             <Dropdown.Item >Random</Dropdown.Item>\n            \n            </DropdownButton>\n        </Grid>\n\n\n            <Grid key={1} item>\n            <Button variant=\"contained\">Train</Button>\n            </Grid>\n\n            <Grid key={2} item>\n            <Button variant=\"contained\">Evulate</Button>\n            </Grid>\n        </Grid>\n        </Row>\n        \n            <Row>\n            <Col md= {12} >\n            <Box style = {{backgroundColor: 'black', color: 'white', height: '93%', marginBottom: 25, textAlign: \"left\", paddingLeft:\"5px\"}}> Unclassified \n            \n            <GridList cellHeight=\"auto\" cols={5} >\n            {[0,1,2,3,4,5,6,7,8, 9].map((tile) => (\n                        <GridListTile key={tile} cols={ 1} spacing={0} > \n                            <Button onClick={()=>console.log()}>\n                                <img  width={'100%'} src={jones} />\n                            </Button>       \n                            </GridListTile>\n                            ))}\n                </GridList>\n            \n            \n            </Box>\n            \n            </Col>\n            </Row>\n            \n            <Row>\n            <Col xs={6} >\n            <Box style = {{backgroundColor: 'black', color: 'white', height: '425%', marginBottom: 20, textAlign: \"left\", paddingLeft:\"5px\"}}> Positive</Box>\n            </Col>\n            <Col xs={6} >\n            <Box style = {{backgroundColor: 'black', color: 'white', height: '425%', marginBottom: 20, textAlign: \"left\", paddingLeft:\"5px\" }}> Negative </Box>\n            </Col>\n            </Row>\n        </Container>\n        \n        </div>)\n\n        };\n    }\n","export default \"data:image/png;base64,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\"","import { render } from \"@testing-library/react\"\n//import React from 'react';\n//import Button from '@material-ui/core/Button'\n\n\n\nimport * as React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\n//import Grid from '@material-ui/core/Grid';\nimport {Box, Button, Grid, IconButton}from '@material-ui/core'; \nimport { positions } from '@material-ui/system';\nimport { FlipLeftRight } from \"@tensorflow/tfjs\";\nimport { Container, Row, Col} from \"reactstrap\";\n\n\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport FileSaver from 'file-saver';\nconst useStyles = makeStyles((theme) => ({\n  root: {\n\n    margin: theme.spacing(0),\n    //flex: '1 1 auto',\n    //marginLeft:587,\n    \n    \n    \n    \n  },\n  paper: {\n    height: '100%',\n    width: '100%',\n    backgroundColor: 'black',\n    color: 'white',\n    textAlign: \"left\",\n    padding: theme.spacing(8),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n}));\n\n\n\n\n\nexport default function FullWidthGrid() {\n  const classes = useStyles();\n\n  const uploadFile = () => {\n    FileSaver.saveAs(\n      \"https://cellprofiler.org/releases\",\n      \"result\"\n    );\n  }\n\n//save the trained result from a link to our backend source.\n  const saveFile = () => {\n    FileSaver.saveAs(\n      \"https://cellprofiler.org/releases\",\n      \"result\"\n    );\n  }\n\n  \n  return (\n    <div >\n\n\n            <Container> \n            <Row >\n            <Col >\n\n            <Grid container justify=\"flex-end\">\n                  <IconButton variant=\"contained\" component=\"label\" className={classes.root}\n                            onClick={()=>console.log(\"upload!\")} > <CloudUploadIcon/>\n                            \n                            <input  type=\"file\" \n                                hidden webkitdirectory=\"true\" \n                                mozdirectory=\"true\" \n                                msdirectory=\"true\" \n                                odirectory=\"true\" \n                                directory=\"true\" \n                                multiple \n                                onChange = {(fileName) => this.on_folder_uploaded_callback(fileName)}\n                                />\n                    </IconButton> \n\n                    {/* <IconButton variant=\"contained\" component=\"label\"\n                            onClick={uploadFile}><CloudUploadIcon />\n                    </IconButton>   */}\n\n                   <IconButton variant=\"contained\" component=\"label\"\n                            onClick={saveFile}><SaveAltIcon />\n                    </IconButton>  \n                            </Grid>\n              \n              \n               \n            </Col>\n            </Row>\n            \n            \n            </Container> \n   \n         <Button variant=\"contained\"\n            onClick={()=>{console.log(\"Fetch!\");}}>Fetch</Button>\n        <Button variant=\"contained\"\n            onClick={()=>{console.log(\"Fetch!\");}}>Train</Button>\n        <Button variant=\"contained\"\n            onClick={()=>{console.log(\"Fetch!\");}}>Evaluate</Button> \n\n\n      <Grid container spacing={2}>\n        <Grid item xs={12}>\n          <Box className={classes.paper}>Unclassified</Box>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Paper className={classes.paper}>Negative</Paper>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Paper className={classes.paper}>Positive</Paper>\n        </Grid> \n        \n      </Grid> \n\n</div>\n            );\n  }\n\n                    \n            \n\n\n      \n\n    \n\n   ","import { render } from \"@testing-library/react\"\nimport React, {useState} from 'react'\nimport Button from '@material-ui/core/Button'\nimport Container from '@material-ui/core/Container'\nimport Grid from '@material-ui/core/Grid';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport Papa from 'papaparse'\nimport * as tf from '@tensorflow/tfjs'\nimport jones from '../jones.jpg'\nimport { findRenderedComponentWithType } from \"react-dom/test-utils\";\nimport { Matrix } from 'ml-matrix';\nimport {normal, center, level} from 'ml-preprocess';\nimport LogisticRegression, * as lgreg from \"ml-logistic-regression\";\n// modified from emma.js\nimport DatGui, { DatBoolean, DatColor, DatNumber, DatString } from '@tim-soft/react-dat-gui';\n\n\nexport default class ProofOfConcept extends React.Component {\n\n    constructor(){\n        super();\n\n        console.log(normal([[1,2],\n                            [3,5]]))\n        console.log(center([[1,2],\n                            [3,20]]))\n        console.log(level([[1,2],\n                           [3,5],\n                           [7,9]]))\n        Papa.parsePromise = function(file, config) {\n            return new Promise(function(complete, error) {\n              Papa.parse(file, {...config, complete, error});\n            });\n        };\n\n        Promise.prototype.notify = function(strMsg) {\n            return this.then(x=>{console.log(strMsg); return x});\n        }\n        Promise.prototype.debugPrint = function() {\n            return this.then(x=>{console.log(x); return x});\n        }\n\n        Array.prototype.sliceByValue = function (value1, value2) {\n            const index1 = this.indexOf(value1);\n            const index2 = this.indexOf(value2);\n\n            if (value1 === -1 || value2 === -1) {\n                console.error(\"Values not found to slice\");\n                return null;\n            }\n        \n            return this.slice(index1, index2);\n        }\n\n        \n\n        this.basicPapaConfig = {\n            worker: true,\n            skipEmptyLines: true,\n            dynamicTyping: true\n        }\n    }\n    \n    state = {\n        imageSources: new Array(9).fill(jones),\n        data: {\n            package: 'react-dat-gui',\n            power: 9000,\n            isAwesome: true,\n            feelsLike: '#2FA1D6',\n          },\n        buttonsDisabled: true\n    }\n\n    handleUpdate = newData =>\n    {\n        this.setState(prevState => ({\n      data: { ...prevState.data, ...newData }\n    }))};\n\n    // modified from emma.js  \n    findFileIndex (fileListObject, fileName) {\n        var index = Array.from(fileListObject.target.files).findIndex((elem) => {\n            return elem.name === fileName;\n        });\n        return index;\n    }\n\n\n    fileReaderPromiseImage(fileListObject, fileIndex) {\n        return new Promise((resolve, reject)=> {\n            var fr = new FileReader();\n            fr.onload = () => {\n                resolve(fr.result)\n            };\n            fr.readAsDataURL(fileListObject.target.files[fileIndex])\n        })\n    }\n\n    fileReaderPromiseText(fileListObject, fileIndex) {\n        return new Promise((resolve, reject)=> {\n            var fr = new FileReader();\n            fr.onload = () => {\n                resolve(fr.result)\n            };\n            fr.readAsText(fileListObject.target.files[fileIndex])\n        })\n    }\n\n    on_model_uploaded_callback = async function(fileListObject) {\n        \n\n        \n        return new Promise(async resolve => {\n\n            this.model = tf.sequential();\n            this.model.add(\n                tf.layers.dense({\n                units: 2,\n                activation: \"softmax\",\n                inputShape: [616]\n                })\n            );\n            const optimizer = tf.train.adam(0.001);\n            // this.model = await tf.loadLayersModel(tf.io.browserFiles(\n            //     [fileListObject.target.files[0]]));\n    \n            this.model.compile({optimizer: optimizer, loss: 'binaryCrossentropy', metrics: [\"accuracy\"]});\n\n            this.model.fit(this.standardized_features, this.label, {\n                epochs: 500, callbacks: {onEpochBegin: ()=>console.log(\"start epoch\"),\n                                         onEpochEnd:async (epoch, logs)=>console.log(\"Epoch:\" + epoch + \" Loss:\" + logs.loss)}\n            }).then(()=>{\n                let prediction = this.model.predict(this.standardized_features);this.model.summary()\n\n                prediction.data().then((data_array) => {\n                    console.log(data_array);\n                    \n                });\n                resolve('resolved');\n                prediction.dispose();  \n            })\n            \n            \n            \n        })\n\n        // console.log(fileListObject.target.files[0])\n        // const model = await tf.loadLayersModel(\n        //     tf.io.browserFiles([fileListObject.target.files[0], null]));\n        // model.summary();\n\n        // testing tensorflow\n        \n        \n        {\n            const model = await tf.loadLayersModel(tf.io.browserFiles(\n                [fileListObject.target.files[0]]));\n            // console.log(model.summary());\n\n            // model.fit(this.standardized_features, this.label);\n            // model.summary()\n            // console.log(model.summary())\n\n            model.compile({optimizer: 'sgd', loss: 'categoricalCrossentropy'});\n            model.fit(this.standardized_features, this.label)\n            .then(()=>{model.predict(this.standardized_features);model.summary()});\n            \n            // console.log(model.summary())\n            // console.log()\n        }\n    }\n\n\n    on_folder_uploaded_callback = async function(fileListObject) {\n\n        console.log(\"folder upload done!\")\n\n\n    \n\n        await Promise.all(Array.from({length: 9}, (_,idx)=>\n        // the 6th item is an image and a lot of items after are images, obviously we need a better implementation lol\n            this.fileReaderPromiseImage(fileListObject, idx+6).then(img=>{\n                this.state.imageSources[idx] = img;\n                this.setState({imageSources: this.state.imageSources})\n            }\n        )))\n        .then(()=>console.log(\"Finished Loading Images\"))\n\n        \n        const object_csv_index = this.findFileIndex(fileListObject, \"per_object.csv\");\n        const image_csv_index = this.findFileIndex(fileListObject, \"per_image.csv\");\n        const setup_sql_index = this.findFileIndex(fileListObject, \"example_SETUP.SQL\");\n        const training_data_index = this.findFileIndex(fileListObject, \"MyTrainingSet.txt\");\n\n        \n        \n\n\n        \n\n        await Promise.all([\n            Papa.parsePromise(fileListObject.target.files[object_csv_index],\n                {...this.basicPapaConfig, fastMode: true,} // luckily it has no quotes so we can use fastmode\n            )\n            .then((result)=> result.data)\n            .notify(\"Finished Loading Object Data\"),\n\n\n            Papa.parsePromise(fileListObject.target.files[image_csv_index],\n                this.basicPapaConfig\n            )\n            .then((result)=> result.data)\n            .notify(\"Finished Loading Image Data\"),\n\n\n            Papa.parsePromise(fileListObject.target.files[setup_sql_index],\n                {...this.basicPapaConfig, delimiter: ',' }    \n            )\n            .then((result)=> result.data.map(e=>e[0].trim()))\n            .notify(\"Finished Loading Setup Data\"),\n\n\n            Papa.parsePromise(fileListObject.target.files[training_data_index],\n                {...this.basicPapaConfig, delimiter: \" \", comments: \"#\" }\n            )\n            .then((result)=>result.data.slice(1)) \n            .notify(\"Finished Loading Training Data\")\n        ])\n        .then(values =>{\n            [this.object_data, this.image_data, this.setup_lines, this.training_data] = values;\n        })\n        \n        console.log(this.object_data, this.image_data, this.setup_lines, this.training_data)\n        window.object_data = this.object_data\n        window.image_data = this.image_data\n        window.setup_lines = this.setup_lines\n        window.training_data = this.training_data\n\n\n        this.object_column_lines = this.setup_lines.sliceByValue(\n            \"CREATE TABLE per_object (\", \n            \"PRIMARY KEY  (ImageNumber,ObjectNumber)\"\n        );\n        this.object_column_names = this.object_column_lines.map((name)=>name.split(' ')[0]);\n        console.log(this.object_column_names)\n\n        this.image_column_lines = this.setup_lines.sliceByValue(\n            \"CREATE TABLE per_image (\", \n            \"PRIMARY KEY  (ImageNumber)\"\n        );\n        this.image_column_names = this.image_column_lines.map((name)=>name.split(' ')[0]);\n\n\n        this.labeled_cells = this.training_data.map(training_row=>{\n            return this.object_data.find((data_row)=>data_row[0] === training_row[1] && data_row[1] === training_row[2]);\n        });\n        this.training_data_column_names = \"label imagenum objectnum x y\".split(\" \")\n\n\n\n        this.object_features_to_use = this.object_column_lines.filter((elem)=>!elem.includes(\"Location\"));\n        this.object_features_to_use_indices = this.object_features_to_use.map((elem)=>this.object_column_lines.indexOf(elem));\n        this.labeled_features = this.labeled_cells.map(row=>{\n                return this.object_features_to_use_indices.map((idx)=>row[idx]);\n        })\n\n        const labeled_features_tensor = new tf.tensor2d(this.labeled_features);\n\n        const labeled_features_tensor_std_dev = tf.moments(labeled_features_tensor, 0).variance.sqrt();\n\n        const standardized_features_tensor = (labeled_features_tensor.sub(labeled_features_tensor.mean(0)).div(labeled_features_tensor_std_dev))\n        \n        this.standardized_features = await standardized_features_tensor.array();\n        console.log(this.standardized_features)\n        const standardized_features_matrix = new Matrix(this.standardized_features)\n        // const a = new tf.tensor2d();\n        // a.print();\n        \n        // tf.batchNorm(a, a.mean(0), tf.moments(a, 0).variance).print();\n\n        this.labels = [this.training_data.map((row)=> row[0]==='positive'? 1:0).slice(0,613)];\n        console.log(this.labels);\n        const labels_matrix = new Matrix(this.labels);\n        \n        this.classifier = new LogisticRegression({ numSteps: 10000, learningRate: 5e-2 });\n        this.classifier.train(standardized_features_matrix, labels_matrix);\n        console.log(this.classifier.predict(standardized_features_matrix))\n        \n        // console.log(this.image_column_names)\n        \n         \n        this.setState({buttonsDisabled: false})\n\n        // hack\n        // this.on_model_uploaded_callback()\n         \n        \n\n        \n         \n\n        \n\n        \n        \n\n        // END OF THE TRUSTWORTHY CODE\n\n        \n        // this.object_features_to_use = this.object_column_lines.filter((elem)=>!elem.includes(\"Location\"));\n        // this.object_features_to_use_indices = this.object_features_to_use.map((elem)=>this.object_column_lines.indexOf(elem));\n        // this.image_features_to_use = this.image_column_lines.filter((elem)=>!elem.includes(\"Location\"));\n        // this.image_features_to_use_indices = this.image_features_to_use.map((elem)=>this.image_column_lines.indexOf(elem));\n\n        \n        // this.labeled_features = this.labeled_cells.map(row=>{\n        //     return this.object_features_to_use_indices.map((idx)=>row[idx]);\n        // })\n\n        // console.log(this.training_data.map((row)=> row[0]==='positive'? 1:0));\n        // this.labels = new Matrix([this.training_data.map((row)=> row[0]==='positive'? 1:0).slice(0,613)]);\n\n        // this.standardized_features = new Matrix(normal(this.labeled_features));\n\n        // this.classifier = new LogisticRegression({ numSteps: 1000, learningRate: 5e-3 });\n\n\n        // this.labeled_features_transpose = Array(this.labeled_features[0].length).fill(0).map(()=>{\n        //     return new Array(this.labeled_features.length).fill(0);\n        // }).slice(0,613);\n\n        // console.log(this.labeled_features)\n        // console.log(this.labeled_features_transpose);\n\n        // for (var i = 0; i < this.labeled_features.length; i++){\n        //     for (var j = 0; j < this.labeled_features[0].length; j++) {\n        //         this.labeled_features_transpose[j][i] = this.labeled_features[i][j];\n        //     }\n        // }\n\n        // console.log(this.labeled_features_transpose);\n        // console.log(normal(this.labeled_features_transpose));\n\n\n        // this.meaned_features_transposed = this.labeled_features_transpose.map(row=> {\n        //     const row_mean = row.reduce((acc, curr)=> acc+curr, 0)/row.length;\n        //     return row.map(element=>element - row_mean);\n        // });\n\n        // this.standardized_features_transposed = this.meaned_features_transposed.map(row=> {\n        //     const row_std = Math.sqrt(row.reduce((acc, curr)=>acc+curr**2, 0));\n        //     return row.map(element=>element/row_std);\n        // });\n\n        // console.log(this.standardized_features_transposed);\n\n        // console.log(this.labels);\n        // this.classifier.train(this.standardized_features_transposed, this.labels);\n        // // console.log(this.labeled_features);\n        // // console.log(center(this.labeled_features))\n        // // console.log(center(this.labeled_features).reduce((acc, cur)=>acc+cur[0], 0))\n        // // window.labeled_features = this.labeled_features;\n        // // window.centered_labeled_features = center(this.labeled_features);\n        // // console.log(normal(center(this.labeled_features)))\n        // // console.log(new Matrix(this.labeled_features));\n        // // console.log(this.standardized_features)\n        // console.log(this.classifier.predict(this.standardized_features));\n\n\n    \n    }\n    \n    on_fetch_button_callback() {\n        const SAMPLES_NEEDED = 9;\n        const SAMPLES_PER_PREDICT = 20;\n        var sample_count = 0;\n\n        var data_samples = [];\n        console.log(\"fetching...\");\n\n        while (sample_count < 9) {\n            const randDataIndices = Array(SAMPLES_PER_PREDICT).fill(0).map(()=>Math.floor(Math.random() * this.object_data.length));\n            const cell_features = randDataIndices.map((data_idx)=>this.object_features_to_use_indices.map((feature_idx)=>this.object_data[data_idx][feature_idx]));\n            const predicted_labels = this.classifier.predict(new Matrix(normal(cell_features)))\n            console.log(predicted_labels);\n\n            const positive_cells = predicted_labels.filter(x=>x===1);\n            if (positive_cells.length > 0) {\n                data_samples.concat(positive_cells);\n                if (data_samples.length >= SAMPLES_NEEDED) {\n                    console.log(data_samples);\n                    return;\n                }             \n            }\n            console.log(\"found no positive cells, looping...\")\n        }\n    }\n\n    componentDidMount(){\n\n    };\n    componentWillUnmount(){};\n\n    handleUpdate = newData =>\n    this.setState(prevState => ({\n      data: { ...prevState.data, ...newData }\n    }));\n\n    render(){\n\n\n        // const a = new tf.tensor2d([[1,1000, 300],[110,222, 600], [110,222, 600]]);\n        // a.print();\n        // const mean = a.mean(0)\n        // const std_dev = tf.moments(a,0).variance.sqrt()\n        // (a.sub(mean).div(std_dev)).print();\n        // // tf.batchNorm(a, a.mean(0), tf.moments(a, 0).variance).print();\n\n        // JSX goes here:\n        \n        return (<div>\n\n            <DatGui data={this.state.data} onUpdate={this.handleUpdate}>\n                <DatString path='package' label='Package' />\n                <DatNumber path='power' label='Power' min={9000} max={9999} step={1} />\n                <DatBoolean path='isAwesome' label='Awesome?' />\n                <DatColor path='feelsLike' label='Feels Like' />\n            </DatGui>\n                \n            \n\n            <Grid container justify=\"center\" spacing={2} style={{ backgroundColor: '#cfe8fc'}}>\n                <Grid key={0} item>\n                    <Button disabled={this.state.buttonsDisabled} variant=\"contained\"\n                            onClick={()=>{console.log(\"Fetch!\");this.on_fetch_button_callback();}}>Fetch</Button>\n                </Grid>\n\n                <Grid key={1} item>\n                    <Button disabled={this.state.buttonsDisabled} variant=\"contained\"\n                            onClick={()=>console.log(\"Train!\")}>Train</Button>\n                </Grid>\n\n                <Grid key={2} item>\n                    <Button disabled={this.state.buttonsDisabled} variant=\"contained\"\n                            onClick={()=>console.log(\"Evaluate!\")}>Evaluate</Button>    \n                </Grid>\n\n                <Grid key={3} item>\n                    <Button variant=\"contained\" component=\"label\"\n                            onClick={()=>console.log(\"Upload Folder!\")}>\n                        Upload Data\n                        <input  type=\"file\" \n                                hidden webkitdirectory=\"true\" \n                                mozdirectory=\"true\" \n                                msdirectory=\"true\" \n                                odirectory=\"true\" \n                                directory=\"true\" \n                                multiple \n                                onChange = {(fileName) => this.on_folder_uploaded_callback(fileName)}\n                                />\n                    </Button>    \n                </Grid>\n\n                <Grid key={4} item>\n                    <Button disabled={this.state.buttonsDisabled} variant=\"contained\" component=\"label\"\n                            onClick={()=>console.log(\"Upload Model!\")}>\n                        Upload Model\n                        <input  type=\"file\" \n                                // hidden webkitdirectory=\"true\" \n                                // mozdirectory=\"true\" \n                                // msdirectory=\"true\" \n                                // odirectory=\"true\" \n                                // directory=\"true\" \n                                // multiple \n                                onChange = {(fileName) => this.on_model_uploaded_callback(fileName)}\n                                />\n                    </Button>    \n                </Grid>\n\n                <Grid key={5} item>\n                    \n                    <Button disabled={this.state.buttonsDisabled} variant=\"contained\"  component=\"label\" onClick={()=>console.log(\"Download!\")}>     \n                        <a style={{color: 'black', textDecoration: 'none'}} href={jones} download=\"jones.jpg\">        \n                        Download\n                        </a>\n                    </Button>\n\n                </Grid>\n            </Grid>\n\n            <Container  maxWidth=\"sm\" spacing={0}> \n            \n               \n            \n                <GridList cellHeight=\"auto\" cols={3}>\n                    {[0,1,2,3,4,5,6,7,8].map((tile) => (\n                    <GridListTile key={tile} cols={ 1} spacing={0}>\n                        <Button  onClick={()=>console.log(`Click Image: ${tile}!`)}>\n                            <img  width={'100%'} src={this.state.imageSources[tile]} alt={\"jones\"} />\n                        </Button>\n                    </GridListTile>\n                    ))}\n                </GridList>\n            </Container>\n        </div>)\n    };\n}","import * as Papa from \"papaparse\"\nimport * as tf from \"@tensorflow/tfjs\";\nimport * as tfvis from \"@tensorflow/tfjs-vis\";\nimport _ from \"lodash\";\n\nPapa.parsePromise = function (file) {\n  return new Promise(function (complete, error) {\n    Papa.parse(file, {\n      header: true,\n      download: true,\n      dynamicTyping: true,\n      complete,\n      error,\n    })\n  })\n}\nconst oneHot = outcome => Array.from(tf.oneHot(outcome, 2).dataSync());\nconst prepareData = async () => {\n    const csv = await Papa.parsePromise(\n      \"https://raw.githubusercontent.com/curiousily/Logistic-Regression-with-TensorFlow-js/master/src/data/diabetes.csv\"\n    );\n  \n    return csv.data;\n  };\nconst createDataSets = (data, features, testSize, batchSize) => {\n    const X = data.map(r =>\n      features.map(f => {\n        const val = r[f];\n        return val === undefined ? 0 : val;\n      })\n    );\n    const y = data.map(r => {\n      const outcome = r.Outcome === undefined ? 0 : r.Outcome;\n      return oneHot(outcome);\n    });\n\n    console.log(data, features, testSize, batchSize, X, y)\n  \n    const splitIdx = parseInt((1 - testSize) * data.length, 10);\n  \n    const ds = tf.data\n      .zip({ xs: tf.data.array(X), ys: tf.data.array(y) })\n      .shuffle(data.length, 42);\n  \n    return [\n      ds.take(splitIdx).batch(batchSize),\n      ds.skip(splitIdx + 1).batch(batchSize),\n      tf.tensor(X.slice(splitIdx)),\n      tf.tensor(y.slice(splitIdx))\n    ];\n  };\n\n  \nconst trainComplexModel = async (featureCount, trainDs, validDs) => {\n  const model = tf.sequential()\n  model.add(\n    tf.layers.dense({\n      units: 128,\n      activation: \"relu\",\n      inputShape: [featureCount],\n    })\n  )\n  model.add(\n    tf.layers.dropout({\n      rate: 0.3\n    })\n  )\n  model.add(\n    tf.layers.dense({\n      units: 2,\n      activation: \"softmax\",\n    })\n  )\n  const optimizer = tf.train.adam(0.001);\n    model.compile({\n      optimizer: optimizer,\n      loss: \"binaryCrossentropy\",\n      metrics: [\"accuracy\"]\n    });\n    const trainLogs = [];\n    const lossContainer = document.getElementById(\"loss-cont\");\n    const accContainer = document.getElementById(\"acc-cont\");\n    console.log(\"Training...\");\n    await model.fitDataset(trainDs, {\n      epochs: 1,\n      validationData: validDs,\n      callbacks: {\n        onEpochEnd: async (epoch, logs) => {\n          trainLogs.push(logs);\n          console.log(\"epoch end:\", epoch)\n          tfvis.show.history(lossContainer, trainLogs, [\"loss\", \"val_loss\"]);\n          tfvis.show.history(accContainer, trainLogs, [\"acc\", \"val_acc\"]);\n        }\n      }\n    });\n\n    return model;\n}\n\nconst trainLogisticRegression = async (featureCount, trainDs, validDs) => {\n    const model = tf.sequential();\n    model.add(\n      tf.layers.dense({\n        units: 2,\n        activation: \"softmax\",\n        inputShape: [featureCount]\n      })\n    );\n    const optimizer = tf.train.adam(0.001);\n    model.compile({\n      optimizer: optimizer,\n      loss: \"binaryCrossentropy\",\n      metrics: [\"accuracy\"]\n    });\n    const trainLogs = [];\n    const lossContainer = document.getElementById(\"loss-cont\");\n    const accContainer = document.getElementById(\"acc-cont\");\n    console.log(\"Training...\");\n    await model.fitDataset(trainDs, {\n      epochs: 1,\n      validationData: validDs,\n      callbacks: {\n        onEpochEnd: async (epoch, logs) => {\n          trainLogs.push(logs);\n          console.log(\"epoch end:\", epoch)\n          tfvis.show.history(lossContainer, trainLogs, [\"loss\", \"val_loss\"]);\n          tfvis.show.history(accContainer, trainLogs, [\"acc\", \"val_acc\"]);\n        }\n      }\n    });\n  \n    return model;\n  };\n\n  \nconst run = async () => {\n    const data = await prepareData();\n    console.log(\"data prepared!\")\n    // const features = [\"Glucose\"];\n\n     const features = [\"Glucose\", \"Age\", \"Insulin\", \"BloodPressure\"];\n    const [trainDs, validDs, xTest, yTest] = createDataSets(\n      data,\n      features,\n      0.1,\n      16\n    );\n    console.log(\"data set created!\")\n  \n    // const model = await trainLogisticRegression(\n    //   features.length,\n    //   trainDs,\n    //   validDs\n    // );\n    \n      \n   \n  \n    // const [trainDs, validDs, xTest, yTest] = createDataSets(\n    //   data,\n    //   features,\n    //   0.1,\n    //   16\n    // );\n  \n    const model = await trainLogisticRegression(features.length, trainDs, validDs);\n    console.log(\"model trained!\")\n  \n    const preds = model.predict(xTest).argMax(-1);\n    const labels = yTest.argMax(-1);\n    // console.log(preds,labels)\n    preds.print();\n    labels.print();\n    const confusionMatrix = await tfvis.metrics.confusionMatrix(labels, preds);\n  \n    const container = document.getElementById(\"confusion-matrix\");\n  \n    tfvis.render.confusionMatrix(container, {\n      values: confusionMatrix,\n      tickLabels: [\"Healthy\", \"Diabetic\"]\n    });\n\n    return data;\n  };\n  \n  // if (document.readyState !== \"loading\") {\n  //   run();\n  // } else {\n  //   document.addEventListener(\"DOMContentLoaded\", run);\n  // }\n  \n  \n\n\n\n\nconst app = function() {\n\n    \n\n    return (\n        <div>\n          <button onClick={()=>{run().then((data)=>console.log(data));}}>Tensorflow</button>\n            <p>\n                yahiya stuff\n            </p>\n            <div id=\"loss-cont\"></div>\n            <div id=\"acc-cont\"></div>\n            <div id=\"confusion-matrix\"></div>\n        </div>\n        \n    )\n}\n\nexport default app;","import * as Papa from \"papaparse\"\nimport * as tf from \"@tensorflow/tfjs\";\nimport * as tfvis from \"@tensorflow/tfjs-vis\";\nimport _ from \"lodash\";\nimport { yellow } from \"@material-ui/core/colors\";\n\n// expects data to be an array of objects where each object includes the fields of the elements of columns\nexport default class LogisticRegressionClassifier {\n\n    static oneHot = outcome => Array.from(tf.oneHot(outcome, 2).dataSync());\n    static createDataSets_utility = (data, columns, testSize, batchSize) => {\n\n      console.log(data, columns, testSize, batchSize)\n      console.assert(Object.values(data[0]).reduce((accum, currVal)=>accum&&(typeof currVal === \"number\")), \"First row object is numbers\")\n      console.assert(_.every(columns, _.partial(_.has, data[0])));\n      console.assert(_.has(data[0], 'Outcome'))\n\n      const X = data.map(r =>\n        columns.map(f => {\n          const val = r[f];\n          return val === undefined ? 0 : val;\n        })\n      );\n      const y = data.map(r => {\n        const outcome = r.Outcome === undefined ? 0 : r.Outcome;\n        return this.oneHot(outcome);\n      });\n  \n      console.log(data, columns, testSize, batchSize, X, y)\n    \n      const splitIdx = parseInt((1 - testSize) * data.length, 10);\n    \n      const ds = tf.data\n        .zip({ xs: tf.data.array(X), ys: tf.data.array(y) })\n        .shuffle(data.length, Date.now()%100000);\n    \n      return [\n        ds.take(splitIdx).batch(batchSize),\n        ds.skip(splitIdx + 1).batch(batchSize),\n        tf.tensor(X.slice(splitIdx)),\n        tf.tensor(y.slice(splitIdx))\n      ];\n    };\n\n    async convertThenFullRun(data, features, test_size, batch_size, render, data_labels) {\n\n      const data_plusOutcome = data.map((data_row, idx)=>{\n        return {...data_row, Outcome: data_labels[idx]}\n      })\n\n      const shuffled_data = _.shuffle(data_plusOutcome)\n\n      return await this.fullrun_overfit(shuffled_data, features, test_size, batch_size, render)\n    }\n\n    static renderConfusionMatrix_utility = async (predictions, labels, confusion_container, tick_labels) => {\n        const confusionMatrix = await tfvis.metrics.confusionMatrix(labels, predictions);\n        tfvis.render.confusionMatrix(confusion_container, {\n          values: confusionMatrix,\n          tickLabels: tick_labels\n        });\n    }\n    trainComplexModel = async (featureCount, trainDs, validDs) => {\n      const model = tf.sequential()\n      model.add(\n        tf.layers.dense({\n          units: 16,\n          activation: \"relu\",\n          inputShape: [featureCount],\n        })\n      )\n      model.add(\n        tf.layers.dropout({\n          rate: 0.3\n        })\n      )\n      model.add(\n        tf.layers.dense({\n          units: 2,\n          activation: \"softmax\",\n        })\n      )\n      const optimizer = tf.train.adam(0.001);\n        model.compile({\n          optimizer: optimizer,\n          loss: \"binaryCrossentropy\",\n          metrics: [\"accuracy\"]\n        });\n        const trainLogs = [];\n        const lossContainer = document.getElementById(\"loss-cont\");\n        const accContainer = document.getElementById(\"acc-cont\");\n        console.log(\"Training...\");\n        await model.fitDataset(trainDs, {\n          epochs: 100,\n          validationData: validDs,\n          callbacks: {\n            onEpochEnd: async (epoch, logs) => {\n              trainLogs.push(logs);\n              console.log(\"epoch end:\", epoch)\n              tfvis.show.history(lossContainer, trainLogs, [\"loss\", \"val_loss\"]);\n              tfvis.show.history(accContainer, trainLogs, [\"acc\", \"val_acc\"]);\n            }\n          }\n        });\n    \n        this.model = model;\n    }\n\n    \n    train = async (featureCount, trainDs, validDs, render=null) => {\n        const model = tf.sequential();\n\n        model.add(\n        tf.layers.dense({\n            units: 2,\n            activation: \"softmax\",\n            inputShape: [featureCount]\n        }));\n\n        model.add(\n        tf.layers.dropout({\n          rate: 0.3\n        }));\n\n        const optimizer = tf.train.adam(0.001);\n        model.compile({\n        optimizer: optimizer,\n        loss: \"binaryCrossentropy\",\n        metrics: [\"accuracy\"]\n        });\n        const trainLogs = [];\n        if (render) {\n            var lossContainer = render.lossContainer;\n            var accContainer = render.accContainer;\n        }\n        \n        console.log(\"Training...\");\n        await model.fitDataset(trainDs, {\n        epochs: 100,\n        validationData: validDs,\n        callbacks: {\n            onEpochEnd: async (epoch, logs) => {\n            trainLogs.push(logs);\n            console.log(\"epoch end:\", epoch)\n            if (render){\n                tfvis.show.history(lossContainer, trainLogs, [\"loss\", \"val_loss\"]);\n                tfvis.show.history(accContainer, trainLogs, [\"acc\", \"val_acc\"]);\n            }\n            \n            }\n        }\n        });\n    \n        this.model = model;\n    };\n\n    predict = (xTest) => {\n        return this.model.predict(xTest);\n    }\n  \n\n    fullrun_overfit = async (data, features, test_size, batch_size, render=null) => {\n\n      const [trainDs, validDs, xTest, yTest] = this.constructor.createDataSets_utility(\n          data,\n          features,\n          0,\n          batch_size\n      );\n\n      await this.train(\n          features.length,\n          trainDs,\n          trainDs,\n          render\n      );\n\n        \n\n      const preds = this.predict(xTest).argMax(-1);\n      const labels = yTest.argMax(-1);\n      \n\n      \n      \n      labels.print();\n\n      if (render?.tick_labels){\n        const confusionMatrix = await tfvis.metrics.confusionMatrix(labels, preds);\n\n\n      tfvis.render.confusionMatrix(render.confusion_container, {\n        values: confusionMatrix,\n        tickLabels: render.tick_labels\n      });\n      }\n\n\n      return [preds, labels];\n\n  }\n\n\n    fullrun = async (data, features, test_size, batch_size, render=null) => {\n\n        const [trainDs, validDs, xTest, yTest] = this.constructor.createDataSets_utility(\n            data,\n            features,\n            test_size,\n            batch_size\n        );\n\n        await this.train(\n            features.length,\n            trainDs,\n            validDs,\n            render\n        );\n\n          \n        xTest.print();\n        yTest.print();\n        const preds = this.predict(xTest).argMax(-1);\n        const labels = yTest.argMax(-1);\n        \n\n        \n        \n        labels.print();\n\n        if (render?.tick_labels){\n          const confusionMatrix = await tfvis.metrics.confusionMatrix(labels, preds);\n  \n\n        tfvis.render.confusionMatrix(render.confusion_container, {\n          values: confusionMatrix,\n          tickLabels: render.tick_labels\n        });\n        }\n\n\n        return [preds, labels];\n\n    }\n\n}\n\n","import * as Papa from \"papaparse\"\nimport * as tf from \"@tensorflow/tfjs\";\nimport * as tfvis from \"@tensorflow/tfjs-vis\";\nimport _ from \"lodash\";\n\nimport LogRegClassifier from './LogisticRegressionClassifier'\n\nPapa.parsePromise = function (file) {\n  return new Promise(function (complete, error) {\n    Papa.parse(file, {\n      header: true,\n      download: true,\n      dynamicTyping: true,\n      complete,\n      error,\n    })\n  })\n}\nconst prepareData = async () => {\n    const csv = await Papa.parsePromise(\n      \"https://raw.githubusercontent.com/curiousily/Logistic-Regression-with-TensorFlow-js/master/src/data/diabetes.csv\"\n    );\n  \n    return csv.data;\n  };\n\n  \nconst run = async () => {\n\n    const classifier = new LogRegClassifier();\n\n    const confusion_container = document.getElementById(\"confusion-matrix\");\n    const lossContainer = document.getElementById(\"loss-cont\");\n    const accContainer = document.getElementById(\"acc-cont\");\n\n    const test_size = 0.1;\n    const batch_size = 16;\n\n    const data = await prepareData();\n    const feature_names = [\"Glucose\", \"Age\", \"Insulin\", \"BloodPressure\"];\n    const tick_labels = [\"Healthy\", \"Diabetic\"];\n\n    const [preds, labels] = await classifier.fullrun(data, feature_names, test_size, batch_size, {lossContainer, accContainer, confusion_container, tick_labels});\n    preds.print();\n    labels.print();\n    // const [trainDs, validDs, xTest, yTest] = LogRegClassifier.createDataSets_utility(\n    //   data,\n    //   features,\n    //   test_size,\n    //   batch_size\n    // );\n\n    // await classifier.train(\n    //   features.length,\n    //   trainDs,\n    //   validDs,\n    //   {\n    //     lossContainer: loss_container,\n    //     accContainer: acc_container\n    //   }\n    // );\n  \n    // const preds = classifier.predict(xTest).argMax(-1);\n    // const labels = yTest.argMax(-1);\n    // const tick_labels = [\"Healthy\", \"Diabetic\"];\n    // await LogRegClassifier.renderConfusionMatrix_utility(preds, labels, confusion_container, tick_labels);\n\n    return data;\n  };\n  \n  \n\n\n\n\nconst app = function() {\n\n    \n\n    return (\n        <div>\n          <button onClick={()=>{run().then((data)=>console.log(data));}}>Tensorflow</button>\n            <p>\n                yahiya stuff\n            </p>\n            <div id=\"loss-cont\"></div>\n            <div id=\"acc-cont\"></div>\n            <div id=\"confusion-matrix\"></div>\n        </div>\n        \n    )\n}\n\nexport default app;","import * as Papa from \"papaparse\"\nimport _ from \"lodash\";\n\n\n\nexport default class UploadDataHandler {\n\n    data = {};\n    \n    constructor() {\n        Promise.prototype.notify = function(strMsg) {\n            return this.then(x=>{console.log(strMsg); return x});\n          }\n          Promise.prototype.debugPrint = function() {\n            return this.then(x=>{console.log(x); return x});\n        }\n        \n        FileList.prototype.findFile = function(fileName) {\n            var index = Array.from(this.target.files).findIndex((elem) => {\n                return elem.name === fileName;\n            });\n            return this.item(index)\n        }\n        \n        Papa.parsePromise = function(file, config) {\n            return new Promise(function(complete, error) {\n              Papa.parse(file, {...config, complete, error});\n            });\n        };\n\n        \n        Papa.papaparseFilePromise = function(file, options={}, onEndMsg=\"\") {\n\n            return Papa.parsePromise(file,\n                {...this.basicPapaConfig, ...options} \n            )\n            .then((result)=> result.data)\n            .notify(onEndMsg);\n        }\n        Papa.papaparseFilePromise_noReturn = function(file, options={}, onEndMsg=\"\") {\n\n            return Papa.parsePromise(file,\n                {...this.basicPapaConfig, ...options} \n            )\n            .notify(onEndMsg);\n        }\n    }\n\n    static getInstance = function() {\n        if (!UploadDataHandler._instance) {\n            UploadDataHandler._instance = new UploadDataHandler();\n        }\n        return UploadDataHandler._instance;\n    }\n    sliceArrayByValue = function (array, value1, value2) {\n        const index1 = array.indexOf(value1);\n        const index2 = array.indexOf(value2);\n      \n        if (value1 === -1 || value2 === -1) {\n            console.error(\"Values not found to slice\");\n            return null;\n        }\n      \n        return array.slice(index1, index2);\n      }\n\n    basicPapaConfig = {\n        worker: true,\n        skipEmptyLines: true,\n        dynamicTyping: true\n    }\n    \n\n    handleFolderUpload = async function(fileListObject) {\n\n        const setup_name = \"example_SETUP.SQL\";\n        const setup_lines = (await this.fileReaderPromiseText(fileListObject, setup_name)).split('\\n').map(e=>e.trim());\n        console.log(setup_lines)\n\n        const training_name = \"MyTrainingSet.txt\";\n        const training_file = this.findFile(fileListObject, training_name);\n        const training_columns = \"label imagenum objectnum x y\".split(\" \");\n        const training_data = \n            (await Papa.papaparseFilePromise(training_file, {delimiter: \" \", comments: \"#\" }))\n            .slice(1) // first row is something like: labels positive negative, devoid of info\n            .map(training_row => _.zipObject(training_columns, training_row));\n        \n        console.log(training_data)\n\n\n\n        const object_column_lines = this.sliceArrayByValue(\n            setup_lines,\n            \"CREATE TABLE per_object (\", \n            \"PRIMARY KEY  (ImageNumber,ObjectNumber)\"\n        );\n        const object_column_names = object_column_lines.map((name)=>name.split(' ')[0]).slice(1);\n        const object_name = \"per_object.csv\";\n        const object_file = this.findFile(fileListObject, object_name);\n        console.time('object data finished')\n        var object_data = (await Papa.papaparseFilePromise(object_file,\n            {fastMode: true, error: (e)=>console.error(e)} \n        ))\n        object_data = object_data.map(data_row=>{ return _.zipObject(object_column_names, data_row)})\n        console.timeEnd('object data finished')\n        console.log(object_data)\n\n        \n\n        const image_column_lines = this.sliceArrayByValue(\n            setup_lines,\n            \"CREATE TABLE per_image (\", \n            \"PRIMARY KEY  (ImageNumber)\"\n        );\n        const image_column_names = image_column_lines.map((name)=>name.split(' ')[0]).slice(1);\n        const image_name = \"per_image.csv\";\n        const image_file = this.findFile(fileListObject, image_name);\n        console.time('image data finished')\n        var image_data = (await Papa.papaparseFilePromise(image_file,\n            {fastMode: true, error: (e)=>console.error(e)} \n        ))\n        image_data = image_data.map(data_row=>{ return _.zipObject(image_column_names, data_row)})\n        console.timeEnd('image data finished')\n        console.log(image_data)\n\n        \n        \n        this.data.setup_lines = setup_lines;\n        this.data.training_data = training_data;\n        this.data.training_columns = training_columns;\n        this.data.object_data = object_data;\n        this.data.object_column_names = object_column_names\n        this.data.image_data = image_data;\n        this.data.image_column_names = image_column_names;\n    }\n    \n    findFileIndex = (fileListObject, fileName) => {\n        var index = Array.from(fileListObject.target.files).findIndex((elem) => {\n            return elem.name === fileName;\n        });\n        return index;\n    }\n    findFile = (fileListObject, fileName) => {\n        const fileIndex = this.findFileIndex(fileListObject, fileName);\n        return fileListObject.target.files[fileIndex];\n    }\n\n    \n\n    fileReaderPromiseText =  function(fileListObject, fileName) {\n        const fileIndex = this.findFileIndex(fileListObject, fileName)\n        return new Promise((resolve, reject)=> {\n            var fr = new FileReader();\n            fr.onload = () => {\n                resolve(fr.result)\n            };\n            fr.readAsText(fileListObject.target.files[fileIndex])\n        })\n    }\n\n}","import { train } from \"@tensorflow/tfjs\";\nimport _ from \"lodash\";\n\n\nexport default class TrainingSetHandler {\n\n    constructor(data) {\n        this.object_data = data.object_data;\n        this.training_data = data.training_data;\n        this.object_column_names = data.object_column_names;\n        this.training_columns = data.training_columns;\n\n        console.assert(_.isEqual(Object.keys(this.object_data[0]), this.object_column_names));\n        console.assert(_.isEqual(Object.keys(this.training_data[0]), this.training_columns));\n    }\n\n    displayData(){\n        console.log(this.object_data, this.training_data, this.object_column_names);\n    }\n\n    createTrainingSet() {\n        console.assert(this.object_data != undefined)\n        if (!this.object_data) {\n            return null;\n        }\n\n        this.labeled_cells = this.training_data.map(training_row => {\n            return _.find(this.object_data, {\"ObjectNumber\": training_row.objectnum, \"ImageNumber\": training_row.imagenum})\n        })\n\n        \n        \n        console.log(this.labeled_cells);\n\n        this.object_features_to_use = this.object_column_names.filter(\n            (elem)=>!elem.includes(\"Location\") && (elem !== \"ObjectNumber\") && (elem !== \"ImageNumber\")\n        );\n\n        this.labeled_keys = this.labeled_cells.map(row => {\n            return _.pick(row, [\"ObjectNumber\", \"ImageNumber\"])\n        })\n\n        this.labeled_features = this.labeled_cells.map(row => {\n            return _.mapValues( (_.pick(row, this.object_features_to_use)),\n                                (value=>parseFloat(value))\n                                )\n                    \n        })\n\n        \n\n        this.labels = this.training_data.map((row)=> row.label === 'positive'? 1 : 0 ).slice(0,613);\n\n        console.log(this.labeled_features, this.labels)\n        return [this.labels, this.labeled_features, this.object_features_to_use];\n    }\n\n\n}","import Button from '@material-ui/core/Button'\nimport UploadDataHandler from \"./UploadDataHandler\"\nimport TrainingSetHandler from \"./TrainingSetHandler\"\nimport LogRegClassifier from './LogisticRegressionClassifier'\n\nconst onFinishUpload_Callback = async function(fileListObject) {\n    const DataModel = UploadDataHandler.getInstance();\n    await DataModel.handleFolderUpload(fileListObject);\n\n    const TrainingModel = new TrainingSetHandler(DataModel.data);\n    TrainingModel.displayData();\n    const [data_labels, data, feature_names] = TrainingModel.createTrainingSet();\n\n    const classifier = new LogRegClassifier();\n\n    const confusion_container = document.getElementById(\"confusion-matrix\");\n    const lossContainer = document.getElementById(\"loss-cont\");\n    const accContainer = document.getElementById(\"acc-cont\");\n\n\n    const test_size = 0.1;\n    const batch_size = 16;\n\n    const [preds, pred_labels] = await classifier.fullrun(data, feature_names, test_size, batch_size, {lossContainer, accContainer}, data_labels);\n    // console.log(preds, pred_labels);\n    preds.print();\n    pred_labels.print();\n\n    const tick_labels = [\"Positive\", \"Negative\"];\n    await LogRegClassifier.renderConfusionMatrix_utility(preds, pred_labels, confusion_container, tick_labels);\n\n    \n}\n\nconst app = function() {\n\n    \n\n    return (\n        <div>\n          <Button variant=\"contained\" component=\"label\"\n                            onClick={()=>console.log(\"Upload Folder!\")}>\n                        Upload Data\n                        <input  type=\"file\" \n                                hidden webkitdirectory=\"true\" \n                                mozdirectory=\"true\" \n                                msdirectory=\"true\" \n                                odirectory=\"true\" \n                                directory=\"true\" \n                                multiple \n                                onChange = {(fileListObject) => onFinishUpload_Callback(fileListObject) }\n                                />\n                    </Button>  \n            <p>\n                yahiya stuff\n            </p>\n            <div id=\"loss-cont\"></div>\n            <div id=\"acc-cont\"></div>\n            <div id=\"confusion-matrix\"></div>\n        </div>\n        \n    )\n}\n\nexport default app;","import * as Papa from \"papaparse\"\nimport * as tf from \"@tensorflow/tfjs\";\nimport * as tfvis from \"@tensorflow/tfjs-vis\";\nimport _ from \"lodash\";\n\n\n\n// expects data to be an array of objects where each object includes the fields of the elements of columns\nexport default class LogisticRegressionClassifier {\n    \n    static hasMultiple = (feature_names, object) => {\n        return _.every(feature_names, _.partial(_.has, object));\n    }\n    // static oneHot_binary = outcome => Array.from(tf.oneHot(outcome, 2).dataSync());\n\n    static createBasicDataset = (data, labels, feature_names, batchSize) => {\n        console.assert(Object.values(data[0]).reduce((accum, currVal)=>accum&&(typeof currVal === \"number\")), \"First row object is numbers\")\n        console.assert(LogisticRegressionClassifier.hasMultiple(feature_names, data[0]), \"First row object has all the feature columns fields\");\n        console.assert(data.length===labels.length, \"data and labels match in length\")\n\n        // turn data into a 2d array, and make all undefined data_row fields 0\n        const X = data.map(data_row =>\n            feature_names.map(feature_name => {\n                const feature_value = data_row[feature_name];\n                return feature_value === undefined ? 0 : feature_value;\n            })\n        )\n\n        // make undefined labels into 0s and then convert into tensorflow format for categorical ML\n        const Y = labels.map(label => {\n            const outcome = label === undefined ? 0 : label;\n            return Array.from(tf.oneHot(outcome, 2).dataSync());\n        })\n\n        // turn the dataset into a tensorflow dataset object\n        const tf_dataset = tf.data\n        .zip({ xs: tf.data.array(X), ys: tf.data.array(Y) })\n        .shuffle(data.length, Date.now()%100000);\n\n        return [tf_dataset.batch(batchSize), tf.tensor(X), tf.tensor(Y)];\n\n    }\n\n    static createLogisticRegressionModel = (feature_count) => {\n        const model = tf.sequential();\n\n        model.add(\n        tf.layers.dense({\n            units: 2,\n            activation: \"softmax\",\n            inputShape: [feature_count],\n            kernelRegularizer: tf.regularizers.l1({l1: 0.3})\n        }));\n\n        const optimizer = tf.train.adam(0.001);\n        model.compile({\n        optimizer: optimizer,\n        loss: \"binaryCrossentropy\",\n        metrics: [\"accuracy\"]\n        });\n\n        return model;\n    }\n\n    static basicTrain = async ( training_dataset, feature_count, number_epochs, render_containers=null ) => {\n        console.log(feature_count)\n        const model = LogisticRegressionClassifier.createLogisticRegressionModel(feature_count);\n\n        \n        if (render_containers !== null) {\n            var lossContainer = render_containers.lossContainer;\n            var accContainer = render_containers.accContainer;\n        }\n        \n        const trainLogs = [];\n        await model.fitDataset(training_dataset, {\n            epochs: number_epochs,\n            callbacks: {\n                onEpochEnd: async (epoch, logs) => {\n                    trainLogs.push(logs);\n                    console.log(\"epoch end:\", epoch)\n                    if (render_containers){\n                        tfvis.show.history(lossContainer, trainLogs, [\"loss\"]);\n                        tfvis.show.history(accContainer, trainLogs, [\"acc\"]);\n                    }\n                \n                }\n            }\n        });\n\n        return model;\n        \n\n    }\n\n\n}","import * as Papa from \"papaparse\"\nimport * as tf from \"@tensorflow/tfjs\";\nimport * as tfvis from \"@tensorflow/tfjs-vis\";\nimport _ from \"lodash\";\n\nimport Button from '@material-ui/core/Button'\nimport UploadDataHandler from \"./UploadDataHandler\"\nimport TrainingSetHandler from \"./TrainingSetHandler\"\nimport GeneralClassifier from \"./GeneralClassifier\"\n\n\nconst onFinishUpload_Callback = async function(fileListObject) {\n    const DataModel = UploadDataHandler.getInstance();\n    await DataModel.handleFolderUpload(fileListObject);\n    const TrainingSetModel = new TrainingSetHandler(DataModel.data);\n    TrainingSetModel.displayData();\n    const [data_labels, data, feature_names] = TrainingSetModel.createTrainingSet();\n\n    const confusion_container = document.getElementById(\"confusion-matrix\");\n    const tick_labels = ['Negative', 'Positive']\n\n    // const test_size = 0.1;\n    const batch_size = 10;\n    const number_epochs = 20;\n\n    const render_containers = {\n        lossContainer: document.getElementById(\"loss-cont\"),\n        accContainer: document.getElementById(\"acc-cont\")\n    }\n\n    const [tf_batched_dataset, tf_dataset, tf_labels] = GeneralClassifier.createBasicDataset(data, data_labels, feature_names, batch_size);\n    \n    const trained_model = await GeneralClassifier.basicTrain(tf_batched_dataset, tf_dataset.shape[1], number_epochs, render_containers)\n    window.model = trained_model;\n    // predict on whole dataset\n\n    // predict returns the probabilities in pairs for the different (2 in this case) categories\n        // thus we need argmax to get the correct number, 0 or 1\n    const preds = trained_model.predict(tf_dataset).argMax(-1);\n    const labels = tf_labels.argMax(-1);\n\n\n    \n    preds.print(); labels.print();\n\n    window.preds = preds;\n    window.labels = labels;\n\n    const confusionMatrix = await tfvis.metrics.confusionMatrix(labels, preds);\n\n\n        tfvis.render.confusionMatrix(confusion_container, {\n            values: confusionMatrix,\n            tickLabels: tick_labels\n        });\n\n\n\n\n\n    \n\n}\n\n\nconst app = function() {\n\n    \n\n    return (\n        <div>\n            <Button \n                variant=\"contained\" component=\"label\"\n                onClick={()=>console.log(\"Upload Folder!\")}\n            >\n                Upload and Train\n                <input  \n                    type=\"file\" \n                    hidden webkitdirectory=\"true\" \n                    mozdirectory=\"true\" \n                    msdirectory=\"true\" \n                    odirectory=\"true\" \n                    directory=\"true\" \n                    multiple \n                    onChange = {(fileListObject) => onFinishUpload_Callback(fileListObject) }\n                />\n            </Button>\n            <p>\n                yahiya stuff\n            </p>\n            <div id=\"loss-cont\"></div>\n            <div id=\"acc-cont\"></div>\n            <div id=\"confusion-matrix\"></div>\n        </div>\n        \n    )\n}\n\nexport default app;","import {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link\n  } from \"react-router-dom\";\n\n  import YahiyaTensorflowExampleComponent from \"./YahiyaTensorflowExample\"\n  import YahiyaTensorflowAbstractedComponent from \"./YahiyaTensorflowAbstracted\"\n  import TestUploadDataHandlerComponent from \"./testUploadDataHandler\"\n\n  import TestTheLogisticClassifierComponent from \"./TestTheLogisticClassifier\"\n\n  function TestingHome () {\n    return (\n        <div>\n            <Router>\n                <div>\n                    <ul>\n                        <li>\n                            <Link to=\"/YahiyaTensorflowExample\">Yahiya Tensorflow Example</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/YahiyaTensorflowAbstracted\">Yahiya Tensorflow Abstracted</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/UploadDataHandler\">Test Upload Data Handler</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/TestTheLogisticClassifier\">Test The Logistic Classifier</Link>\n                        </li>\n                    </ul>\n\n                    <hr />\n\n                    <Switch>\n                        <Route exact path=\"/YahiyaTensorflowExample\">\n                            <YahiyaTensorflowExampleComponent />\n                        </Route>\n                        <Route exact path=\"/YahiyaTensorflowAbstracted\">\n                            <YahiyaTensorflowAbstractedComponent />\n                        </Route>\n                        <Route exact path=\"/UploadDataHandler\">\n                            <TestUploadDataHandlerComponent />\n                        </Route>\n                        <Route exact path=\"/TestTheLogisticClassifier\">\n                            <TestTheLogisticClassifierComponent />\n                        </Route>\n                    </Switch>\n                </div>\n            </Router>\n        </div>\n    )\n  }\n\n  export default TestingHome","import * as Papa from \"papaparse\"\nimport _ from \"lodash\";\n\n\n\nexport default class UploadDataHandlerE {\n\n    data = {};\n    \n    constructor() {\n        Promise.prototype.notify = function(strMsg) {\n            return this.then(x=>{console.log(strMsg); return x});\n          }\n          Promise.prototype.debugPrint = function() {\n            return this.then(x=>{console.log(x); return x});\n        }\n        \n        FileList.prototype.findFile = function(fileName) {\n            var index = Array.from(this.target.files).findIndex((elem) => {\n                return elem.name === fileName;\n            });\n            return this.item(index)\n        }\n        \n        Papa.parsePromise = function(file, config) {\n            return new Promise(function(complete, error) {\n              Papa.parse(file, {...config, complete, error});\n            });\n        };\n\n        \n        Papa.papaparseFilePromise = function(file, options={}, onEndMsg=\"\") {\n\n            return Papa.parsePromise(file,\n                {...this.basicPapaConfig, ...options} \n            )\n            .then((result)=> result.data)\n            .notify(onEndMsg);\n        }\n        Papa.papaparseFilePromise_noReturn = function(file, options={}, onEndMsg=\"\") {\n\n            return Papa.parsePromise(file,\n                {...this.basicPapaConfig, ...options} \n            )\n            .notify(onEndMsg);\n        }\n    }\n\n    static getInstance = function() {\n        if (!UploadDataHandlerE._instance) {\n            UploadDataHandlerE._instance = new UploadDataHandlerE();\n        }\n        return UploadDataHandlerE._instance;\n    }\n    sliceArrayByValue = function (array, value1, value2) {\n        const index1 = array.indexOf(value1);\n        const index2 = array.indexOf(value2);\n      \n        if (value1 === -1 || value2 === -1) {\n            console.error(\"Values not found to slice\");\n            return null;\n        }\n      \n        return array.slice(index1, index2);\n      }\n\n    basicPapaConfig = {\n        worker: true,\n        skipEmptyLines: true,\n        dynamicTyping: true\n    }\n    \n\n    handleFolderUpload = async function(fileListObject) {\n        const setup_name = \"example_SETUP.SQL\";\n        const setup_lines = (await this.fileReaderPromiseText(fileListObject, setup_name)).split('\\n').map(e=>e.trim());\n        console.log(setup_lines)\n\n        const training_name = \"MyTrainingSet.txt\";\n        const training_file = this.findFile(fileListObject, training_name);\n        const training_columns = \"label imagenum objectnum x y\".split(\" \");\n        const training_data = \n            (await Papa.papaparseFilePromise(training_file, {delimiter: \" \", comments: \"#\" }))\n            .slice(1) // first row is something like: labels positive negative, devoid of info\n            .map(training_row => _.zipObject(training_columns, training_row));\n        \n        console.log(training_data)\n\n\n\n        const object_column_lines = this.sliceArrayByValue(\n            setup_lines,\n            \"CREATE TABLE per_object (\", \n            \"PRIMARY KEY  (ImageNumber,ObjectNumber)\"\n        );\n        const object_column_names = object_column_lines.map((name)=>name.split(' ')[0]).slice(1);\n        const object_name = \"per_object.csv\";\n        const object_file = this.findFile(fileListObject, object_name);\n        console.time('object data finished')\n        var object_data = (await Papa.papaparseFilePromise(object_file,\n            {fastMode: true, error: (e)=>console.error(e)} \n        ))\n        object_data = object_data.map(data_row=>{ return _.zipObject(object_column_names, data_row)})\n        console.timeEnd('object data finished')\n        console.log(object_data)\n\n        \n\n        const image_column_lines = this.sliceArrayByValue(\n            setup_lines,\n            \"CREATE TABLE per_image (\", \n            \"PRIMARY KEY  (ImageNumber)\"\n        );\n        const image_column_names = image_column_lines.map((name)=>name.split(' ')[0]).slice(1);\n        const image_name = \"per_image.csv\";\n        const image_file = this.findFile(fileListObject, image_name);\n        console.time('image data finished')\n        var image_data = (await Papa.papaparseFilePromise(image_file,\n            {fastMode: true, error: (e)=>console.error(e)} \n        ))\n        image_data = image_data.map(data_row=>{ return _.zipObject(image_column_names, data_row)})\n        console.timeEnd('image data finished')\n        console.log(image_data)\n\n        \n        \n        this.data.setup_lines = setup_lines;\n        this.data.training_data = training_data;\n        this.data.training_columns = training_columns;\n        this.data.object_data = object_data;\n        this.data.object_column_names = object_column_names\n        this.data.image_data = image_data;\n        this.data.image_column_names = image_column_names;\n        //this.grabCellImages(2,4);\n    }\n    grabCellImages(img, cell) {\n        var channels = \"Image_FileNames_Filename_OrigActin Image_FileNames_Filename_OrigpH3 Image_FileNames_Filename_OrigDNA \".split();\n        console.log(channels);\n                // var image_paths = channels.map(path => {    \n                     \n        //       return _.find(this.image_data, line => {\n        //         if (line.ImageNumber === img)\n        //             return line.path\n                                                    \n        //     })\n        // })\n        // console.log(image_paths)\n\n\n\n    }\n    findFileIndex = (fileListObject, fileName) => {\n        var index = Array.from(fileListObject.target.files).findIndex((elem) => {\n            return elem.name === fileName;\n        });\n        return index;\n    }\n    findFile = (fileListObject, fileName) => {\n        const fileIndex = this.findFileIndex(fileListObject, fileName);\n        return fileListObject.target.files[fileIndex];\n    }\n    \n    fileReaderPromiseText =  function(fileListObject, fileName) {\n        const fileIndex = this.findFileIndex(fileListObject, fileName)\n        return new Promise((resolve, reject)=> {\n            var fr = new FileReader();\n            fr.onload = () => {\n                resolve(fr.result)\n            };\n            fr.readAsText(fileListObject.target.files[fileIndex])\n        })\n    }\n    fileReaderPromiseImage(fileListObject, fileIndex) {\n        return new Promise((resolve, reject)=> {\n            var fr = new FileReader();\n            fr.onload = () => {\n                resolve(fr.result)\n            };\n            fr.readAsDataURL(fileListObject.target.files[fileIndex])\n        })\n    }\n}","import Button from '@material-ui/core/Button'\nimport UploadDataHandlerE from \"./UploadDataHandlerE\"\n\n\nconst onFinishUpload_Callback = async function(fileListObject) {\n    const DataModel = UploadDataHandlerE.getInstance();\n    await DataModel.handleFolderUpload(fileListObject);\n\n   \n    // const tick_labels = [\"Positive\", \"Negative\"];\n    // await LogRegClassifier.renderConfusionMatrix_utility(preds, pred_labels, confusion_container, tick_labels);\n\n    \n}\n\nconst app = function() {\n\n    \n\n    return (\n        <div>\n          <Button variant=\"contained\" component=\"label\"\n                            onClick={()=>console.log(\"Upload Folder!\")}>\n                        Upload Data\n                        <input  type=\"file\" \n                                hidden webkitdirectory=\"true\" \n                                mozdirectory=\"true\" \n                                msdirectory=\"true\" \n                                odirectory=\"true\" \n                                directory=\"true\" \n                                multiple \n                                onChange = {(fileListObject) => onFinishUpload_Callback(fileListObject) }\n                                />\n                    </Button>  \n            <div id=\"loss-cont\"></div>\n            <div id=\"acc-cont\"></div>\n            <div id=\"confusion-matrix\"></div>\n         <div>\n         <Button variant=\"contained\" component=\"label\"\n                           onClick={()=>{console.log(\"Fetch!\");this.on_fetch_button_callback();}}>\n                       Fetchplspls\n                </Button>  \n           </div>\n           </div>\n    )\n}\n\nexport default app;","import logo from './logo.svg';\nimport './App.css';\n\nimport * as tf from \"@tensorflow/tfjs\";\nimport * as dfd from \"danfojs/src/index\";\nimport * as lgreg from \"ml-logistic-regression\";\nimport * as prprcss from \"ml-preprocess\";\n\nimport EmmaComponent from \"./components/Emma\"\nimport BellaComponent from \"./components/Bella\"\nimport AbbyComponent from \"./components/Abby\"\nimport ProofOfConceptComponent from \"./components/ProofOfConcept\"\nimport YahiyaHomeComponent from \"./components/YahiyaTesting/YahiyaHome.js\"\nimport EmmmmmmaComponent from \"./components/CaveOfEmma/Emmmmmma.js\"\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\n\n// import raw from \"./example_SETUP.SQL\";\n\nfunction App() {\n  // file read callback\n  // var showFile = async (fileName) => {\n  //   fileName.preventDefault()\n  //   const reader = new FileReader()\n  //   reader.onload = async (fileName) => { \n  //     const text = (fileName.target.result)\n  //     console.log(text)\n  //     alert(text)\n  //   };\n  //   reader.readAsText(fileName.target.files[0])\n  // }\t\n  // var setup_lines = null;\n  // var create_index = null;\n  // var end_index = null;\n  // var column_lines = null;\n\n  // fetch(raw)\n\t// .then(r => r.text())\n\t// .then(text => {\n\t// \treturn text.split(\"\\n\").map((x)=>x.trim());\n\t// })\n\t// .then(lines => {\n\t// \tconsole.log(lines.indexOf(\"CREATE TABLE per_object \\(\"));\n  //   console.log(lines.indexOf(\"PRIMARY KEY  (ImageNumber,ObjectNumber)\"));\n  //   setup_lines = lines;\n  //   create_index = lines.indexOf(\"CREATE TABLE per_object \\(\");\n  //   end_index = lines.indexOf(\"PRIMARY KEY  (ImageNumber,ObjectNumber)\");\n  //   column_lines = lines.slice(create_index + 1, end_index);\n  //   console.log(column_lines);\n\n  //  // console.log(lines[1287]);\n  //  // console.log(lines[1287] === \"PRIMARY KEY  (ImageNumber,ObjectNumber)\")\n\t// \t//console.log(lines.indexOf(\" PRIMARY KEY  \\(ImageNumber,ObjectNumber\\)\"));\n\t// })\n\n\n  return (\n    <div className=\"App\">\n      {/* <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          woo the atom thingy do the rotate woo yea\n        </p>\n\t<input type=\"file\" onChange = {(fileName) => showFile(fileName)} />\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header> */}\n\n      \n      <Router>\n        <div>\n          <ul>\n            <li>\n              <Link to=\"/Yahiya\">Yahiya</Link>\n            </li>\n            <li>\n              <Link to=\"/Alex\">Alex</Link>\n            </li>\n            <li>\n              <Link to=\"/Emma\">Emma</Link>\n            </li>\n            <li>\n\n              <Link to=\"/Bella\">Bella</Link>\n\n            </li>\n            <li>\n                <Link to=\"/Abby\">Abby</Link>\n            </li>\n            <li>\n                <Link to=\"/Emmmmmma\">Emmmmmma</Link>\n            </li>\n            <li>\n                <Link to=\"/ProofOfConcept\">ProofOfConcept</Link>\n            </li>\n            <li>\n                <Link to=\"/YahiyaHome\">Yahiya's Home of Testing</Link>\n            </li>\n          </ul>\n\n          <hr />\n\n          {/*\n            A <Switch> looks through all its children <Route>\n            elements and renders the first one whose path\n            matches the current URL. Use a <Switch> any time\n            you have multiple routes, but you want only one\n            of them to render at a time\n          */}\n          <Switch>\n            <Route exact path=\"/Yahiya\">\n              <Yahiya />\n            </Route>\n            <Route path=\"/Emmmmmma\">\n              <Emmmmmma />\n            </Route>\n            <Route path=\"/Alex\">\n              <Alex />\n            </Route>\n            <Route path=\"/Emma\">\n            <Emma />\n            </Route>\n            <Route path=\"/Abby\">\n            <Abby />\n            </Route>\n            <Route path=\"/Bella\">\n              <Bella />\n            </Route>\n            <Route path=\"/ProofOfConcept\">\n              <ProofOfConcept />\n            </Route>\n            <Route path=\"/YahiyaHome\">\n              <YahiyaHome />\n            </Route>\n\n          </Switch>\n        </div>\n      </Router>\n\n\n    </div>\n\n  );\n}\n\nfunction Yahiya() {\n  return (\n    <div>\n      <h2>Yahiya</h2>\n    </div>\n  );\n}\n\n// TODO: stubbed for now, fix later\nfunction Alex() {\n\t/*\n  return (\n    <div>\n      <h2>dummy text</h2>\n    </div>\n  );\n  */\n  return <h2>the</h2>\n}\n\nfunction Emma() {\n  return <EmmaComponent></EmmaComponent>\n}\nfunction Bella() {\n  return <BellaComponent></BellaComponent>\n}\n\nfunction ProofOfConcept() {\n  return <ProofOfConceptComponent></ProofOfConceptComponent>\n}\nfunction YahiyaHome() {\n  return <YahiyaHomeComponent></YahiyaHomeComponent>\n}\nfunction Emmmmmma() {\n  return <EmmmmmmaComponent></EmmmmmmaComponent>\n}\nfunction Abby() {\n  return <AbbyComponent></AbbyComponent>\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}